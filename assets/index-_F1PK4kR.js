var pde=Object.defineProperty;var UO=r=>{throw TypeError(r)};var gde=(r,t,e)=>t in r?pde(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var Xn=(r,t,e)=>gde(r,typeof t!="symbol"?t+"":t,e),bB=(r,t,e)=>t.has(r)||UO("Cannot "+e);var Xe=(r,t,e)=>(bB(r,t,"read from private field"),e?e.call(r):t.get(r)),Gr=(r,t,e)=>t.has(r)?UO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),Ar=(r,t,e,n)=>(bB(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),Tn=(r,t,e)=>(bB(r,t,"access private method"),e);var z_=(r,t,e,n)=>({set _(i){Ar(r,t,i,e)},get _(){return Xe(r,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();var Hr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yL(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function mde(r){if(r.__esModule)return r;var t=r.default;if(typeof t=="function"){var e=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),e}var GY={exports:{}},SC={},WY={exports:{}},yn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw=Symbol.for("react.element"),vde=Symbol.for("react.portal"),yde=Symbol.for("react.fragment"),xde=Symbol.for("react.strict_mode"),bde=Symbol.for("react.profiler"),wde=Symbol.for("react.provider"),_de=Symbol.for("react.context"),Sde=Symbol.for("react.forward_ref"),Cde=Symbol.for("react.suspense"),Bde=Symbol.for("react.memo"),Tde=Symbol.for("react.lazy"),HO=Symbol.iterator;function Ede(r){return r===null||typeof r!="object"?null:(r=HO&&r[HO]||r["@@iterator"],typeof r=="function"?r:null)}var $Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KY=Object.assign,qY={};function $1(r,t,e){this.props=r,this.context=t,this.refs=qY,this.updater=e||$Y}$1.prototype.isReactComponent={};$1.prototype.setState=function(r,t){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,t,"setState")};$1.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function XY(){}XY.prototype=$1.prototype;function xL(r,t,e){this.props=r,this.context=t,this.refs=qY,this.updater=e||$Y}var bL=xL.prototype=new XY;bL.constructor=xL;KY(bL,$1.prototype);bL.isPureReactComponent=!0;var QO=Array.isArray,YY=Object.prototype.hasOwnProperty,wL={current:null},ZY={key:!0,ref:!0,__self:!0,__source:!0};function JY(r,t,e){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)YY.call(t,n)&&!ZY.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=e;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(r&&r.defaultProps)for(n in o=r.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Nw,type:r,key:a,ref:s,props:i,_owner:wL.current}}function kde(r,t){return{$$typeof:Nw,type:r.type,key:t,ref:r.ref,props:r.props,_owner:r._owner}}function _L(r){return typeof r=="object"&&r!==null&&r.$$typeof===Nw}function Nde(r){var t={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(e){return t[e]})}var zO=/\/+/g;function wB(r,t){return typeof r=="object"&&r!==null&&r.key!=null?Nde(""+r.key):t.toString(36)}function g3(r,t,e,n,i){var a=typeof r;(a==="undefined"||a==="boolean")&&(r=null);var s=!1;if(r===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(r.$$typeof){case Nw:case vde:s=!0}}if(s)return s=r,i=i(s),r=n===""?"."+wB(s,0):n,QO(i)?(e="",r!=null&&(e=r.replace(zO,"$&/")+"/"),g3(i,t,e,"",function(u){return u})):i!=null&&(_L(i)&&(i=kde(i,e+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(zO,"$&/")+"/")+r)),t.push(i)),1;if(s=0,n=n===""?".":n+":",QO(r))for(var o=0;o<r.length;o++){a=r[o];var l=n+wB(a,o);s+=g3(a,t,e,l,i)}else if(l=Ede(r),typeof l=="function")for(r=l.call(r),o=0;!(a=r.next()).done;)a=a.value,l=n+wB(a,o++),s+=g3(a,t,e,l,i);else if(a==="object")throw t=String(r),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function V_(r,t,e){if(r==null)return r;var n=[],i=0;return g3(r,n,"","",function(a){return t.call(e,a,i++)}),n}function Fde(r){if(r._status===-1){var t=r._result;t=t(),t.then(function(e){(r._status===0||r._status===-1)&&(r._status=1,r._result=e)},function(e){(r._status===0||r._status===-1)&&(r._status=2,r._result=e)}),r._status===-1&&(r._status=0,r._result=t)}if(r._status===1)return r._result.default;throw r._result}var Do={current:null},m3={transition:null},Ide={ReactCurrentDispatcher:Do,ReactCurrentBatchConfig:m3,ReactCurrentOwner:wL};function eZ(){throw Error("act(...) is not supported in production builds of React.")}yn.Children={map:V_,forEach:function(r,t,e){V_(r,function(){t.apply(this,arguments)},e)},count:function(r){var t=0;return V_(r,function(){t++}),t},toArray:function(r){return V_(r,function(t){return t})||[]},only:function(r){if(!_L(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};yn.Component=$1;yn.Fragment=yde;yn.Profiler=bde;yn.PureComponent=xL;yn.StrictMode=xde;yn.Suspense=Cde;yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ide;yn.act=eZ;yn.cloneElement=function(r,t,e){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var n=KY({},r.props),i=r.key,a=r.ref,s=r._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=wL.current),t.key!==void 0&&(i=""+t.key),r.type&&r.type.defaultProps)var o=r.type.defaultProps;for(l in t)YY.call(t,l)&&!ZY.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=e;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Nw,type:r.type,key:i,ref:a,props:n,_owner:s}};yn.createContext=function(r){return r={$$typeof:_de,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:wde,_context:r},r.Consumer=r};yn.createElement=JY;yn.createFactory=function(r){var t=JY.bind(null,r);return t.type=r,t};yn.createRef=function(){return{current:null}};yn.forwardRef=function(r){return{$$typeof:Sde,render:r}};yn.isValidElement=_L;yn.lazy=function(r){return{$$typeof:Tde,_payload:{_status:-1,_result:r},_init:Fde}};yn.memo=function(r,t){return{$$typeof:Bde,type:r,compare:t===void 0?null:t}};yn.startTransition=function(r){var t=m3.transition;m3.transition={};try{r()}finally{m3.transition=t}};yn.unstable_act=eZ;yn.useCallback=function(r,t){return Do.current.useCallback(r,t)};yn.useContext=function(r){return Do.current.useContext(r)};yn.useDebugValue=function(){};yn.useDeferredValue=function(r){return Do.current.useDeferredValue(r)};yn.useEffect=function(r,t){return Do.current.useEffect(r,t)};yn.useId=function(){return Do.current.useId()};yn.useImperativeHandle=function(r,t,e){return Do.current.useImperativeHandle(r,t,e)};yn.useInsertionEffect=function(r,t){return Do.current.useInsertionEffect(r,t)};yn.useLayoutEffect=function(r,t){return Do.current.useLayoutEffect(r,t)};yn.useMemo=function(r,t){return Do.current.useMemo(r,t)};yn.useReducer=function(r,t,e){return Do.current.useReducer(r,t,e)};yn.useRef=function(r){return Do.current.useRef(r)};yn.useState=function(r){return Do.current.useState(r)};yn.useSyncExternalStore=function(r,t,e){return Do.current.useSyncExternalStore(r,t,e)};yn.useTransition=function(){return Do.current.useTransition()};yn.version="18.3.1";WY.exports=yn;var Ce=WY.exports;const QN=yL(Ce);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mde=Ce,Lde=Symbol.for("react.element"),Dde=Symbol.for("react.fragment"),Pde=Object.prototype.hasOwnProperty,Rde=Mde.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ode={key:!0,ref:!0,__self:!0,__source:!0};function tZ(r,t,e){var n,i={},a=null,s=null;e!==void 0&&(a=""+e),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)Pde.call(t,n)&&!Ode.hasOwnProperty(n)&&(i[n]=t[n]);if(r&&r.defaultProps)for(n in t=r.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Lde,type:r,key:a,ref:s,props:i,_owner:Rde.current}}SC.Fragment=Dde;SC.jsx=tZ;SC.jsxs=tZ;GY.exports=SC;var x=GY.exports,rZ={exports:{}},Vl={},nZ={exports:{}},iZ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function t(S,B){var O=S.length;S.push(B);e:for(;0<O;){var V=O-1>>>1,M=S[V];if(0<i(M,B))S[V]=B,S[O]=M,O=V;else break e}}function e(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var B=S[0],O=S.pop();if(O!==B){S[0]=O;e:for(var V=0,M=S.length,U=M>>>1;V<U;){var Q=2*(V+1)-1,W=S[Q],j=Q+1,X=S[j];if(0>i(W,O))j<M&&0>i(X,W)?(S[V]=X,S[j]=O,V=j):(S[V]=W,S[Q]=O,V=Q);else if(j<M&&0>i(X,O))S[V]=X,S[j]=O,V=j;else break e}}return B}function i(S,B){var O=S.sortIndex-B.sortIndex;return O!==0?O:S.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();r.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,h=3,d=!1,A=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(S){for(var B=e(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=S)n(u),B.sortIndex=B.expirationTime,t(l,B);else break;B=e(u)}}function b(S){if(p=!1,y(S),!A)if(e(l)!==null)A=!0,w(_);else{var B=e(u);B!==null&&C(b,B.startTime-S)}}function _(S,B){A=!1,p&&(p=!1,m(N),N=-1),d=!0;var O=h;try{for(y(B),f=e(l);f!==null&&(!(f.expirationTime>B)||S&&!D());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var M=V(f.expirationTime<=B);B=r.unstable_now(),typeof M=="function"?f.callback=M:f===e(l)&&n(l),y(B)}else n(l);f=e(l)}if(f!==null)var U=!0;else{var Q=e(u);Q!==null&&C(b,Q.startTime-B),U=!1}return U}finally{f=null,h=O,d=!1}}var T=!1,I=null,N=-1,F=5,P=-1;function D(){return!(r.unstable_now()-P<F)}function R(){if(I!==null){var S=r.unstable_now();P=S;var B=!0;try{B=I(!0,S)}finally{B?E():(T=!1,I=null)}}else T=!1}var E;if(typeof v=="function")E=function(){v(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,k=L.port2;L.port1.onmessage=R,E=function(){k.postMessage(null)}}else E=function(){g(R,0)};function w(S){I=S,T||(T=!0,E())}function C(S,B){N=g(function(){S(r.unstable_now())},B)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(S){S.callback=null},r.unstable_continueExecution=function(){A||d||(A=!0,w(_))},r.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<S?Math.floor(1e3/S):5},r.unstable_getCurrentPriorityLevel=function(){return h},r.unstable_getFirstCallbackNode=function(){return e(l)},r.unstable_next=function(S){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var O=h;h=B;try{return S()}finally{h=O}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(S,B){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var O=h;h=S;try{return B()}finally{h=O}},r.unstable_scheduleCallback=function(S,B,O){var V=r.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?V+O:V):O=V,S){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=O+M,S={id:c++,callback:B,priorityLevel:S,startTime:O,expirationTime:M,sortIndex:-1},O>V?(S.sortIndex=O,t(u,S),e(l)===null&&S===e(u)&&(p?(m(N),N=-1):p=!0,C(b,O-V))):(S.sortIndex=M,t(l,S),A||d||(A=!0,w(_))),S},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(S){var B=h;return function(){var O=h;h=B;try{return S.apply(this,arguments)}finally{h=O}}}})(iZ);nZ.exports=iZ;var jde=nZ.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ude=Ce,Ql=jde;function Wt(r){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+r,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+r+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aZ=new Set,ab={};function Pg(r,t){m1(r,t),m1(r+"Capture",t)}function m1(r,t){for(ab[r]=t,r=0;r<t.length;r++)aZ.add(t[r])}var Rh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zN=Object.prototype.hasOwnProperty,Hde=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,VO={},GO={};function Qde(r){return zN.call(GO,r)?!0:zN.call(VO,r)?!1:Hde.test(r)?GO[r]=!0:(VO[r]=!0,!1)}function zde(r,t,e,n){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:e!==null?!e.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function Vde(r,t,e,n){if(t===null||typeof t>"u"||zde(r,t,e,n))return!0;if(n)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Po(r,t,e,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=e,this.propertyName=r,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Rs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){Rs[r]=new Po(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var t=r[0];Rs[t]=new Po(t,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){Rs[r]=new Po(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Rs[r]=new Po(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){Rs[r]=new Po(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){Rs[r]=new Po(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){Rs[r]=new Po(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){Rs[r]=new Po(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){Rs[r]=new Po(r,5,!1,r.toLowerCase(),null,!1,!1)});var SL=/[\-:]([a-z])/g;function CL(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var t=r.replace(SL,CL);Rs[t]=new Po(t,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var t=r.replace(SL,CL);Rs[t]=new Po(t,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var t=r.replace(SL,CL);Rs[t]=new Po(t,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){Rs[r]=new Po(r,1,!1,r.toLowerCase(),null,!1,!1)});Rs.xlinkHref=new Po("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){Rs[r]=new Po(r,1,!1,r.toLowerCase(),null,!0,!0)});function BL(r,t,e,n){var i=Rs.hasOwnProperty(t)?Rs[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Vde(t,e,i,n)&&(e=null),n||i===null?Qde(t)&&(e===null?r.removeAttribute(t):r.setAttribute(t,""+e)):i.mustUseProperty?r[i.propertyName]=e===null?i.type===3?!1:"":e:(t=i.attributeName,n=i.attributeNamespace,e===null?r.removeAttribute(t):(i=i.type,e=i===3||i===4&&e===!0?"":""+e,n?r.setAttributeNS(n,t,e):r.setAttribute(t,e))))}var ed=Ude.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G_=Symbol.for("react.element"),hv=Symbol.for("react.portal"),dv=Symbol.for("react.fragment"),TL=Symbol.for("react.strict_mode"),VN=Symbol.for("react.profiler"),sZ=Symbol.for("react.provider"),oZ=Symbol.for("react.context"),EL=Symbol.for("react.forward_ref"),GN=Symbol.for("react.suspense"),WN=Symbol.for("react.suspense_list"),kL=Symbol.for("react.memo"),Qd=Symbol.for("react.lazy"),lZ=Symbol.for("react.offscreen"),WO=Symbol.iterator;function Vy(r){return r===null||typeof r!="object"?null:(r=WO&&r[WO]||r["@@iterator"],typeof r=="function"?r:null)}var ji=Object.assign,_B;function Ux(r){if(_B===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);_B=t&&t[1]||""}return`
`+_B+r}var SB=!1;function CB(r,t){if(!r||SB)return"";SB=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(r,[],t)}else{try{t.call()}catch(u){n=u}r.call(t.prototype)}else{try{throw Error()}catch(u){n=u}r()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return r.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",r.displayName)),l}while(1<=s&&0<=o);break}}}finally{SB=!1,Error.prepareStackTrace=e}return(r=r?r.displayName||r.name:"")?Ux(r):""}function Gde(r){switch(r.tag){case 5:return Ux(r.type);case 16:return Ux("Lazy");case 13:return Ux("Suspense");case 19:return Ux("SuspenseList");case 0:case 2:case 15:return r=CB(r.type,!1),r;case 11:return r=CB(r.type.render,!1),r;case 1:return r=CB(r.type,!0),r;default:return""}}function $N(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case dv:return"Fragment";case hv:return"Portal";case VN:return"Profiler";case TL:return"StrictMode";case GN:return"Suspense";case WN:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case oZ:return(r.displayName||"Context")+".Consumer";case sZ:return(r._context.displayName||"Context")+".Provider";case EL:var t=r.render;return r=r.displayName,r||(r=t.displayName||t.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case kL:return t=r.displayName||null,t!==null?t:$N(r.type)||"Memo";case Qd:t=r._payload,r=r._init;try{return $N(r(t))}catch{}}return null}function Wde(r){var t=r.type;switch(r.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=t.render,r=r.displayName||r.name||"",t.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $N(t);case 8:return t===TL?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $A(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function uZ(r){var t=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $de(r){var t=uZ(r)?"checked":"value",e=Object.getOwnPropertyDescriptor(r.constructor.prototype,t),n=""+r[t];if(!r.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var i=e.get,a=e.set;return Object.defineProperty(r,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(r,t,{enumerable:e.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){r._valueTracker=null,delete r[t]}}}}function W_(r){r._valueTracker||(r._valueTracker=$de(r))}function cZ(r){if(!r)return!1;var t=r._valueTracker;if(!t)return!0;var e=t.getValue(),n="";return r&&(n=uZ(r)?r.checked?"true":"false":r.value),r=n,r!==e?(t.setValue(r),!0):!1}function oS(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function KN(r,t){var e=t.checked;return ji({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??r._wrapperState.initialChecked})}function $O(r,t){var e=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;e=$A(t.value!=null?t.value:e),r._wrapperState={initialChecked:n,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fZ(r,t){t=t.checked,t!=null&&BL(r,"checked",t,!1)}function qN(r,t){fZ(r,t);var e=$A(t.value),n=t.type;if(e!=null)n==="number"?(e===0&&r.value===""||r.value!=e)&&(r.value=""+e):r.value!==""+e&&(r.value=""+e);else if(n==="submit"||n==="reset"){r.removeAttribute("value");return}t.hasOwnProperty("value")?XN(r,t.type,e):t.hasOwnProperty("defaultValue")&&XN(r,t.type,$A(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(r.defaultChecked=!!t.defaultChecked)}function KO(r,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+r._wrapperState.initialValue,e||t===r.value||(r.value=t),r.defaultValue=t}e=r.name,e!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,e!==""&&(r.name=e)}function XN(r,t,e){(t!=="number"||oS(r.ownerDocument)!==r)&&(e==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+e&&(r.defaultValue=""+e))}var Hx=Array.isArray;function Lv(r,t,e,n){if(r=r.options,t){t={};for(var i=0;i<e.length;i++)t["$"+e[i]]=!0;for(e=0;e<r.length;e++)i=t.hasOwnProperty("$"+r[e].value),r[e].selected!==i&&(r[e].selected=i),i&&n&&(r[e].defaultSelected=!0)}else{for(e=""+$A(e),t=null,i=0;i<r.length;i++){if(r[i].value===e){r[i].selected=!0,n&&(r[i].defaultSelected=!0);return}t!==null||r[i].disabled||(t=r[i])}t!==null&&(t.selected=!0)}}function YN(r,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Wt(91));return ji({},t,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function qO(r,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(Wt(92));if(Hx(e)){if(1<e.length)throw Error(Wt(93));e=e[0]}t=e}t==null&&(t=""),e=t}r._wrapperState={initialValue:$A(e)}}function hZ(r,t){var e=$A(t.value),n=$A(t.defaultValue);e!=null&&(e=""+e,e!==r.value&&(r.value=e),t.defaultValue==null&&r.defaultValue!==e&&(r.defaultValue=e)),n!=null&&(r.defaultValue=""+n)}function XO(r){var t=r.textContent;t===r._wrapperState.initialValue&&t!==""&&t!==null&&(r.value=t)}function dZ(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ZN(r,t){return r==null||r==="http://www.w3.org/1999/xhtml"?dZ(t):r==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var $_,AZ=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction(function(){return r(t,e,n,i)})}:r}(function(r,t){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=t;else{for($_=$_||document.createElement("div"),$_.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$_.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;t.firstChild;)r.appendChild(t.firstChild)}});function sb(r,t){if(t){var e=r.firstChild;if(e&&e===r.lastChild&&e.nodeType===3){e.nodeValue=t;return}}r.textContent=t}var p2={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kde=["Webkit","ms","Moz","O"];Object.keys(p2).forEach(function(r){Kde.forEach(function(t){t=t+r.charAt(0).toUpperCase()+r.substring(1),p2[t]=p2[r]})});function pZ(r,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||p2.hasOwnProperty(r)&&p2[r]?(""+t).trim():t+"px"}function gZ(r,t){r=r.style;for(var e in t)if(t.hasOwnProperty(e)){var n=e.indexOf("--")===0,i=pZ(e,t[e],n);e==="float"&&(e="cssFloat"),n?r.setProperty(e,i):r[e]=i}}var qde=ji({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function JN(r,t){if(t){if(qde[r]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Wt(137,r));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Wt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Wt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Wt(62))}}function e7(r,t){if(r.indexOf("-")===-1)return typeof t.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t7=null;function NL(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var r7=null,Dv=null,Pv=null;function YO(r){if(r=Mw(r)){if(typeof r7!="function")throw Error(Wt(280));var t=r.stateNode;t&&(t=kC(t),r7(r.stateNode,r.type,t))}}function mZ(r){Dv?Pv?Pv.push(r):Pv=[r]:Dv=r}function vZ(){if(Dv){var r=Dv,t=Pv;if(Pv=Dv=null,YO(r),t)for(r=0;r<t.length;r++)YO(t[r])}}function yZ(r,t){return r(t)}function xZ(){}var BB=!1;function bZ(r,t,e){if(BB)return r(t,e);BB=!0;try{return yZ(r,t,e)}finally{BB=!1,(Dv!==null||Pv!==null)&&(xZ(),vZ())}}function ob(r,t){var e=r.stateNode;if(e===null)return null;var n=kC(e);if(n===null)return null;e=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break e;default:r=!1}if(r)return null;if(e&&typeof e!="function")throw Error(Wt(231,t,typeof e));return e}var n7=!1;if(Rh)try{var Gy={};Object.defineProperty(Gy,"passive",{get:function(){n7=!0}}),window.addEventListener("test",Gy,Gy),window.removeEventListener("test",Gy,Gy)}catch{n7=!1}function Xde(r,t,e,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(e,u)}catch(c){this.onError(c)}}var g2=!1,lS=null,uS=!1,i7=null,Yde={onError:function(r){g2=!0,lS=r}};function Zde(r,t,e,n,i,a,s,o,l){g2=!1,lS=null,Xde.apply(Yde,arguments)}function Jde(r,t,e,n,i,a,s,o,l){if(Zde.apply(this,arguments),g2){if(g2){var u=lS;g2=!1,lS=null}else throw Error(Wt(198));uS||(uS=!0,i7=u)}}function Rg(r){var t=r,e=r;if(r.alternate)for(;t.return;)t=t.return;else{r=t;do t=r,t.flags&4098&&(e=t.return),r=t.return;while(r)}return t.tag===3?e:null}function wZ(r){if(r.tag===13){var t=r.memoizedState;if(t===null&&(r=r.alternate,r!==null&&(t=r.memoizedState)),t!==null)return t.dehydrated}return null}function ZO(r){if(Rg(r)!==r)throw Error(Wt(188))}function eAe(r){var t=r.alternate;if(!t){if(t=Rg(r),t===null)throw Error(Wt(188));return t!==r?null:r}for(var e=r,n=t;;){var i=e.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){e=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===e)return ZO(i),r;if(a===n)return ZO(i),t;a=a.sibling}throw Error(Wt(188))}if(e.return!==n.return)e=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===e){s=!0,e=i,n=a;break}if(o===n){s=!0,n=i,e=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===e){s=!0,e=a,n=i;break}if(o===n){s=!0,n=a,e=i;break}o=o.sibling}if(!s)throw Error(Wt(189))}}if(e.alternate!==n)throw Error(Wt(190))}if(e.tag!==3)throw Error(Wt(188));return e.stateNode.current===e?r:t}function _Z(r){return r=eAe(r),r!==null?SZ(r):null}function SZ(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var t=SZ(r);if(t!==null)return t;r=r.sibling}return null}var CZ=Ql.unstable_scheduleCallback,JO=Ql.unstable_cancelCallback,tAe=Ql.unstable_shouldYield,rAe=Ql.unstable_requestPaint,da=Ql.unstable_now,nAe=Ql.unstable_getCurrentPriorityLevel,FL=Ql.unstable_ImmediatePriority,BZ=Ql.unstable_UserBlockingPriority,cS=Ql.unstable_NormalPriority,iAe=Ql.unstable_LowPriority,TZ=Ql.unstable_IdlePriority,CC=null,gf=null;function aAe(r){if(gf&&typeof gf.onCommitFiberRoot=="function")try{gf.onCommitFiberRoot(CC,r,void 0,(r.current.flags&128)===128)}catch{}}var fc=Math.clz32?Math.clz32:lAe,sAe=Math.log,oAe=Math.LN2;function lAe(r){return r>>>=0,r===0?32:31-(sAe(r)/oAe|0)|0}var K_=64,q_=4194304;function Qx(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function fS(r,t){var e=r.pendingLanes;if(e===0)return 0;var n=0,i=r.suspendedLanes,a=r.pingedLanes,s=e&268435455;if(s!==0){var o=s&~i;o!==0?n=Qx(o):(a&=s,a!==0&&(n=Qx(a)))}else s=e&~i,s!==0?n=Qx(s):a!==0&&(n=Qx(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=e&16),t=r.entangledLanes,t!==0)for(r=r.entanglements,t&=n;0<t;)e=31-fc(t),i=1<<e,n|=r[e],t&=~i;return n}function uAe(r,t){switch(r){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cAe(r,t){for(var e=r.suspendedLanes,n=r.pingedLanes,i=r.expirationTimes,a=r.pendingLanes;0<a;){var s=31-fc(a),o=1<<s,l=i[s];l===-1?(!(o&e)||o&n)&&(i[s]=uAe(o,t)):l<=t&&(r.expiredLanes|=o),a&=~o}}function a7(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function EZ(){var r=K_;return K_<<=1,!(K_&4194240)&&(K_=64),r}function TB(r){for(var t=[],e=0;31>e;e++)t.push(r);return t}function Fw(r,t,e){r.pendingLanes|=t,t!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,t=31-fc(t),r[t]=e}function fAe(r,t){var e=r.pendingLanes&~t;r.pendingLanes=t,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=t,r.mutableReadLanes&=t,r.entangledLanes&=t,t=r.entanglements;var n=r.eventTimes;for(r=r.expirationTimes;0<e;){var i=31-fc(e),a=1<<i;t[i]=0,n[i]=-1,r[i]=-1,e&=~a}}function IL(r,t){var e=r.entangledLanes|=t;for(r=r.entanglements;e;){var n=31-fc(e),i=1<<n;i&t|r[n]&t&&(r[n]|=t),e&=~i}}var ri=0;function kZ(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var NZ,ML,FZ,IZ,MZ,s7=!1,X_=[],_A=null,SA=null,CA=null,lb=new Map,ub=new Map,Kd=[],hAe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ej(r,t){switch(r){case"focusin":case"focusout":_A=null;break;case"dragenter":case"dragleave":SA=null;break;case"mouseover":case"mouseout":CA=null;break;case"pointerover":case"pointerout":lb.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ub.delete(t.pointerId)}}function Wy(r,t,e,n,i,a){return r===null||r.nativeEvent!==a?(r={blockedOn:t,domEventName:e,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Mw(t),t!==null&&ML(t)),r):(r.eventSystemFlags|=n,t=r.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),r)}function dAe(r,t,e,n,i){switch(t){case"focusin":return _A=Wy(_A,r,t,e,n,i),!0;case"dragenter":return SA=Wy(SA,r,t,e,n,i),!0;case"mouseover":return CA=Wy(CA,r,t,e,n,i),!0;case"pointerover":var a=i.pointerId;return lb.set(a,Wy(lb.get(a)||null,r,t,e,n,i)),!0;case"gotpointercapture":return a=i.pointerId,ub.set(a,Wy(ub.get(a)||null,r,t,e,n,i)),!0}return!1}function LZ(r){var t=Tp(r.target);if(t!==null){var e=Rg(t);if(e!==null){if(t=e.tag,t===13){if(t=wZ(e),t!==null){r.blockedOn=t,MZ(r.priority,function(){FZ(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){r.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}r.blockedOn=null}function v3(r){if(r.blockedOn!==null)return!1;for(var t=r.targetContainers;0<t.length;){var e=o7(r.domEventName,r.eventSystemFlags,t[0],r.nativeEvent);if(e===null){e=r.nativeEvent;var n=new e.constructor(e.type,e);t7=n,e.target.dispatchEvent(n),t7=null}else return t=Mw(e),t!==null&&ML(t),r.blockedOn=e,!1;t.shift()}return!0}function tj(r,t,e){v3(r)&&e.delete(t)}function AAe(){s7=!1,_A!==null&&v3(_A)&&(_A=null),SA!==null&&v3(SA)&&(SA=null),CA!==null&&v3(CA)&&(CA=null),lb.forEach(tj),ub.forEach(tj)}function $y(r,t){r.blockedOn===t&&(r.blockedOn=null,s7||(s7=!0,Ql.unstable_scheduleCallback(Ql.unstable_NormalPriority,AAe)))}function cb(r){function t(i){return $y(i,r)}if(0<X_.length){$y(X_[0],r);for(var e=1;e<X_.length;e++){var n=X_[e];n.blockedOn===r&&(n.blockedOn=null)}}for(_A!==null&&$y(_A,r),SA!==null&&$y(SA,r),CA!==null&&$y(CA,r),lb.forEach(t),ub.forEach(t),e=0;e<Kd.length;e++)n=Kd[e],n.blockedOn===r&&(n.blockedOn=null);for(;0<Kd.length&&(e=Kd[0],e.blockedOn===null);)LZ(e),e.blockedOn===null&&Kd.shift()}var Rv=ed.ReactCurrentBatchConfig,hS=!0;function pAe(r,t,e,n){var i=ri,a=Rv.transition;Rv.transition=null;try{ri=1,LL(r,t,e,n)}finally{ri=i,Rv.transition=a}}function gAe(r,t,e,n){var i=ri,a=Rv.transition;Rv.transition=null;try{ri=4,LL(r,t,e,n)}finally{ri=i,Rv.transition=a}}function LL(r,t,e,n){if(hS){var i=o7(r,t,e,n);if(i===null)RB(r,t,n,dS,e),ej(r,n);else if(dAe(i,r,t,e,n))n.stopPropagation();else if(ej(r,n),t&4&&-1<hAe.indexOf(r)){for(;i!==null;){var a=Mw(i);if(a!==null&&NZ(a),a=o7(r,t,e,n),a===null&&RB(r,t,n,dS,e),a===i)break;i=a}i!==null&&n.stopPropagation()}else RB(r,t,n,null,e)}}var dS=null;function o7(r,t,e,n){if(dS=null,r=NL(n),r=Tp(r),r!==null)if(t=Rg(r),t===null)r=null;else if(e=t.tag,e===13){if(r=wZ(t),r!==null)return r;r=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;r=null}else t!==r&&(r=null);return dS=r,null}function DZ(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nAe()){case FL:return 1;case BZ:return 4;case cS:case iAe:return 16;case TZ:return 536870912;default:return 16}default:return 16}}var oA=null,DL=null,y3=null;function PZ(){if(y3)return y3;var r,t=DL,e=t.length,n,i="value"in oA?oA.value:oA.textContent,a=i.length;for(r=0;r<e&&t[r]===i[r];r++);var s=e-r;for(n=1;n<=s&&t[e-n]===i[a-n];n++);return y3=i.slice(r,1<n?1-n:void 0)}function x3(r){var t=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&t===13&&(r=13)):r=t,r===10&&(r=13),32<=r||r===13?r:0}function Y_(){return!0}function rj(){return!1}function Gl(r){function t(e,n,i,a,s){this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in r)r.hasOwnProperty(o)&&(e=r[o],this[o]=e?e(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Y_:rj,this.isPropagationStopped=rj,this}return ji(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=Y_)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=Y_)},persist:function(){},isPersistent:Y_}),t}var K1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},PL=Gl(K1),Iw=ji({},K1,{view:0,detail:0}),mAe=Gl(Iw),EB,kB,Ky,BC=ji({},Iw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:RL,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ky&&(Ky&&r.type==="mousemove"?(EB=r.screenX-Ky.screenX,kB=r.screenY-Ky.screenY):kB=EB=0,Ky=r),EB)},movementY:function(r){return"movementY"in r?r.movementY:kB}}),nj=Gl(BC),vAe=ji({},BC,{dataTransfer:0}),yAe=Gl(vAe),xAe=ji({},Iw,{relatedTarget:0}),NB=Gl(xAe),bAe=ji({},K1,{animationName:0,elapsedTime:0,pseudoElement:0}),wAe=Gl(bAe),_Ae=ji({},K1,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),SAe=Gl(_Ae),CAe=ji({},K1,{data:0}),ij=Gl(CAe),BAe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TAe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EAe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kAe(r){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(r):(r=EAe[r])?!!t[r]:!1}function RL(){return kAe}var NAe=ji({},Iw,{key:function(r){if(r.key){var t=BAe[r.key]||r.key;if(t!=="Unidentified")return t}return r.type==="keypress"?(r=x3(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?TAe[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:RL,charCode:function(r){return r.type==="keypress"?x3(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?x3(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),FAe=Gl(NAe),IAe=ji({},BC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aj=Gl(IAe),MAe=ji({},Iw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:RL}),LAe=Gl(MAe),DAe=ji({},K1,{propertyName:0,elapsedTime:0,pseudoElement:0}),PAe=Gl(DAe),RAe=ji({},BC,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),OAe=Gl(RAe),jAe=[9,13,27,32],OL=Rh&&"CompositionEvent"in window,m2=null;Rh&&"documentMode"in document&&(m2=document.documentMode);var UAe=Rh&&"TextEvent"in window&&!m2,RZ=Rh&&(!OL||m2&&8<m2&&11>=m2),sj=" ",oj=!1;function OZ(r,t){switch(r){case"keyup":return jAe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jZ(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Av=!1;function HAe(r,t){switch(r){case"compositionend":return jZ(t);case"keypress":return t.which!==32?null:(oj=!0,sj);case"textInput":return r=t.data,r===sj&&oj?null:r;default:return null}}function QAe(r,t){if(Av)return r==="compositionend"||!OL&&OZ(r,t)?(r=PZ(),y3=DL=oA=null,Av=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return RZ&&t.locale!=="ko"?null:t.data;default:return null}}var zAe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lj(r){var t=r&&r.nodeName&&r.nodeName.toLowerCase();return t==="input"?!!zAe[r.type]:t==="textarea"}function UZ(r,t,e,n){mZ(n),t=AS(t,"onChange"),0<t.length&&(e=new PL("onChange","change",null,e,n),r.push({event:e,listeners:t}))}var v2=null,fb=null;function VAe(r){YZ(r,0)}function TC(r){var t=mv(r);if(cZ(t))return r}function GAe(r,t){if(r==="change")return t}var HZ=!1;if(Rh){var FB;if(Rh){var IB="oninput"in document;if(!IB){var uj=document.createElement("div");uj.setAttribute("oninput","return;"),IB=typeof uj.oninput=="function"}FB=IB}else FB=!1;HZ=FB&&(!document.documentMode||9<document.documentMode)}function cj(){v2&&(v2.detachEvent("onpropertychange",QZ),fb=v2=null)}function QZ(r){if(r.propertyName==="value"&&TC(fb)){var t=[];UZ(t,fb,r,NL(r)),bZ(VAe,t)}}function WAe(r,t,e){r==="focusin"?(cj(),v2=t,fb=e,v2.attachEvent("onpropertychange",QZ)):r==="focusout"&&cj()}function $Ae(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return TC(fb)}function KAe(r,t){if(r==="click")return TC(t)}function qAe(r,t){if(r==="input"||r==="change")return TC(t)}function XAe(r,t){return r===t&&(r!==0||1/r===1/t)||r!==r&&t!==t}var vc=typeof Object.is=="function"?Object.is:XAe;function hb(r,t){if(vc(r,t))return!0;if(typeof r!="object"||r===null||typeof t!="object"||t===null)return!1;var e=Object.keys(r),n=Object.keys(t);if(e.length!==n.length)return!1;for(n=0;n<e.length;n++){var i=e[n];if(!zN.call(t,i)||!vc(r[i],t[i]))return!1}return!0}function fj(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function hj(r,t){var e=fj(r);r=0;for(var n;e;){if(e.nodeType===3){if(n=r+e.textContent.length,r<=t&&n>=t)return{node:e,offset:t-r};r=n}e:{for(;e;){if(e.nextSibling){e=e.nextSibling;break e}e=e.parentNode}e=void 0}e=fj(e)}}function zZ(r,t){return r&&t?r===t?!0:r&&r.nodeType===3?!1:t&&t.nodeType===3?zZ(r,t.parentNode):"contains"in r?r.contains(t):r.compareDocumentPosition?!!(r.compareDocumentPosition(t)&16):!1:!1}function VZ(){for(var r=window,t=oS();t instanceof r.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)r=t.contentWindow;else break;t=oS(r.document)}return t}function jL(r){var t=r&&r.nodeName&&r.nodeName.toLowerCase();return t&&(t==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||t==="textarea"||r.contentEditable==="true")}function YAe(r){var t=VZ(),e=r.focusedElem,n=r.selectionRange;if(t!==e&&e&&e.ownerDocument&&zZ(e.ownerDocument.documentElement,e)){if(n!==null&&jL(e)){if(t=n.start,r=n.end,r===void 0&&(r=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(r,e.value.length);else if(r=(t=e.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var i=e.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!r.extend&&a>n&&(i=n,n=a,a=i),i=hj(e,a);var s=hj(e,n);i&&s&&(r.rangeCount!==1||r.anchorNode!==i.node||r.anchorOffset!==i.offset||r.focusNode!==s.node||r.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),r.removeAllRanges(),a>n?(r.addRange(t),r.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),r.addRange(t)))}}for(t=[],r=e;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)r=t[e],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var ZAe=Rh&&"documentMode"in document&&11>=document.documentMode,pv=null,l7=null,y2=null,u7=!1;function dj(r,t,e){var n=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;u7||pv==null||pv!==oS(n)||(n=pv,"selectionStart"in n&&jL(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),y2&&hb(y2,n)||(y2=n,n=AS(l7,"onSelect"),0<n.length&&(t=new PL("onSelect","select",null,t,e),r.push({event:t,listeners:n}),t.target=pv)))}function Z_(r,t){var e={};return e[r.toLowerCase()]=t.toLowerCase(),e["Webkit"+r]="webkit"+t,e["Moz"+r]="moz"+t,e}var gv={animationend:Z_("Animation","AnimationEnd"),animationiteration:Z_("Animation","AnimationIteration"),animationstart:Z_("Animation","AnimationStart"),transitionend:Z_("Transition","TransitionEnd")},MB={},GZ={};Rh&&(GZ=document.createElement("div").style,"AnimationEvent"in window||(delete gv.animationend.animation,delete gv.animationiteration.animation,delete gv.animationstart.animation),"TransitionEvent"in window||delete gv.transitionend.transition);function EC(r){if(MB[r])return MB[r];if(!gv[r])return r;var t=gv[r],e;for(e in t)if(t.hasOwnProperty(e)&&e in GZ)return MB[r]=t[e];return r}var WZ=EC("animationend"),$Z=EC("animationiteration"),KZ=EC("animationstart"),qZ=EC("transitionend"),XZ=new Map,Aj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function s0(r,t){XZ.set(r,t),Pg(t,[r])}for(var LB=0;LB<Aj.length;LB++){var DB=Aj[LB],JAe=DB.toLowerCase(),e0e=DB[0].toUpperCase()+DB.slice(1);s0(JAe,"on"+e0e)}s0(WZ,"onAnimationEnd");s0($Z,"onAnimationIteration");s0(KZ,"onAnimationStart");s0("dblclick","onDoubleClick");s0("focusin","onFocus");s0("focusout","onBlur");s0(qZ,"onTransitionEnd");m1("onMouseEnter",["mouseout","mouseover"]);m1("onMouseLeave",["mouseout","mouseover"]);m1("onPointerEnter",["pointerout","pointerover"]);m1("onPointerLeave",["pointerout","pointerover"]);Pg("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pg("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pg("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pg("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pg("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pg("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t0e=new Set("cancel close invalid load scroll toggle".split(" ").concat(zx));function pj(r,t,e){var n=r.type||"unknown-event";r.currentTarget=e,Jde(n,t,void 0,r),r.currentTarget=null}function YZ(r,t){t=(t&4)!==0;for(var e=0;e<r.length;e++){var n=r[e],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;pj(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;pj(i,o,u),a=l}}}if(uS)throw r=i7,uS=!1,i7=null,r}function _i(r,t){var e=t[A7];e===void 0&&(e=t[A7]=new Set);var n=r+"__bubble";e.has(n)||(ZZ(t,r,2,!1),e.add(n))}function PB(r,t,e){var n=0;t&&(n|=4),ZZ(e,r,n,t)}var J_="_reactListening"+Math.random().toString(36).slice(2);function db(r){if(!r[J_]){r[J_]=!0,aZ.forEach(function(e){e!=="selectionchange"&&(t0e.has(e)||PB(e,!1,r),PB(e,!0,r))});var t=r.nodeType===9?r:r.ownerDocument;t===null||t[J_]||(t[J_]=!0,PB("selectionchange",!1,t))}}function ZZ(r,t,e,n){switch(DZ(t)){case 1:var i=pAe;break;case 4:i=gAe;break;default:i=LL}e=i.bind(null,t,e,r),i=void 0,!n7||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?r.addEventListener(t,e,{capture:!0,passive:i}):r.addEventListener(t,e,!0):i!==void 0?r.addEventListener(t,e,{passive:i}):r.addEventListener(t,e,!1)}function RB(r,t,e,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Tp(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}bZ(function(){var u=a,c=NL(e),f=[];e:{var h=XZ.get(r);if(h!==void 0){var d=PL,A=r;switch(r){case"keypress":if(x3(e)===0)break e;case"keydown":case"keyup":d=FAe;break;case"focusin":A="focus",d=NB;break;case"focusout":A="blur",d=NB;break;case"beforeblur":case"afterblur":d=NB;break;case"click":if(e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=nj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=yAe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=LAe;break;case WZ:case $Z:case KZ:d=wAe;break;case qZ:d=PAe;break;case"scroll":d=mAe;break;case"wheel":d=OAe;break;case"copy":case"cut":case"paste":d=SAe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=aj}var p=(t&4)!==0,g=!p&&r==="scroll",m=p?h!==null?h+"Capture":null:h;p=[];for(var v=u,y;v!==null;){y=v;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,m!==null&&(b=ob(v,m),b!=null&&p.push(Ab(v,b,y)))),g)break;v=v.return}0<p.length&&(h=new d(h,A,null,e,c),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=r==="mouseover"||r==="pointerover",d=r==="mouseout"||r==="pointerout",h&&e!==t7&&(A=e.relatedTarget||e.fromElement)&&(Tp(A)||A[Oh]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(A=e.relatedTarget||e.toElement,d=u,A=A?Tp(A):null,A!==null&&(g=Rg(A),A!==g||A.tag!==5&&A.tag!==6)&&(A=null)):(d=null,A=u),d!==A)){if(p=nj,b="onMouseLeave",m="onMouseEnter",v="mouse",(r==="pointerout"||r==="pointerover")&&(p=aj,b="onPointerLeave",m="onPointerEnter",v="pointer"),g=d==null?h:mv(d),y=A==null?h:mv(A),h=new p(b,v+"leave",d,e,c),h.target=g,h.relatedTarget=y,b=null,Tp(c)===u&&(p=new p(m,v+"enter",A,e,c),p.target=y,p.relatedTarget=g,b=p),g=b,d&&A)t:{for(p=d,m=A,v=0,y=p;y;y=sm(y))v++;for(y=0,b=m;b;b=sm(b))y++;for(;0<v-y;)p=sm(p),v--;for(;0<y-v;)m=sm(m),y--;for(;v--;){if(p===m||m!==null&&p===m.alternate)break t;p=sm(p),m=sm(m)}p=null}else p=null;d!==null&&gj(f,h,d,p,!1),A!==null&&g!==null&&gj(f,g,A,p,!0)}}e:{if(h=u?mv(u):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var _=GAe;else if(lj(h))if(HZ)_=qAe;else{_=$Ae;var T=WAe}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=KAe);if(_&&(_=_(r,u))){UZ(f,_,e,c);break e}T&&T(r,h,u),r==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&XN(h,"number",h.value)}switch(T=u?mv(u):window,r){case"focusin":(lj(T)||T.contentEditable==="true")&&(pv=T,l7=u,y2=null);break;case"focusout":y2=l7=pv=null;break;case"mousedown":u7=!0;break;case"contextmenu":case"mouseup":case"dragend":u7=!1,dj(f,e,c);break;case"selectionchange":if(ZAe)break;case"keydown":case"keyup":dj(f,e,c)}var I;if(OL)e:{switch(r){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Av?OZ(r,e)&&(N="onCompositionEnd"):r==="keydown"&&e.keyCode===229&&(N="onCompositionStart");N&&(RZ&&e.locale!=="ko"&&(Av||N!=="onCompositionStart"?N==="onCompositionEnd"&&Av&&(I=PZ()):(oA=c,DL="value"in oA?oA.value:oA.textContent,Av=!0)),T=AS(u,N),0<T.length&&(N=new ij(N,r,null,e,c),f.push({event:N,listeners:T}),I?N.data=I:(I=jZ(e),I!==null&&(N.data=I)))),(I=UAe?HAe(r,e):QAe(r,e))&&(u=AS(u,"onBeforeInput"),0<u.length&&(c=new ij("onBeforeInput","beforeinput",null,e,c),f.push({event:c,listeners:u}),c.data=I))}YZ(f,t)})}function Ab(r,t,e){return{instance:r,listener:t,currentTarget:e}}function AS(r,t){for(var e=t+"Capture",n=[];r!==null;){var i=r,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ob(r,e),a!=null&&n.unshift(Ab(r,a,i)),a=ob(r,t),a!=null&&n.push(Ab(r,a,i))),r=r.return}return n}function sm(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function gj(r,t,e,n,i){for(var a=t._reactName,s=[];e!==null&&e!==n;){var o=e,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=ob(e,a),l!=null&&s.unshift(Ab(e,l,o))):i||(l=ob(e,a),l!=null&&s.push(Ab(e,l,o)))),e=e.return}s.length!==0&&r.push({event:t,listeners:s})}var r0e=/\r\n?/g,n0e=/\u0000|\uFFFD/g;function mj(r){return(typeof r=="string"?r:""+r).replace(r0e,`
`).replace(n0e,"")}function e5(r,t,e){if(t=mj(t),mj(r)!==t&&e)throw Error(Wt(425))}function pS(){}var c7=null,f7=null;function h7(r,t){return r==="textarea"||r==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var d7=typeof setTimeout=="function"?setTimeout:void 0,i0e=typeof clearTimeout=="function"?clearTimeout:void 0,vj=typeof Promise=="function"?Promise:void 0,a0e=typeof queueMicrotask=="function"?queueMicrotask:typeof vj<"u"?function(r){return vj.resolve(null).then(r).catch(s0e)}:d7;function s0e(r){setTimeout(function(){throw r})}function OB(r,t){var e=t,n=0;do{var i=e.nextSibling;if(r.removeChild(e),i&&i.nodeType===8)if(e=i.data,e==="/$"){if(n===0){r.removeChild(i),cb(t);return}n--}else e!=="$"&&e!=="$?"&&e!=="$!"||n++;e=i}while(e);cb(t)}function BA(r){for(;r!=null;r=r.nextSibling){var t=r.nodeType;if(t===1||t===3)break;if(t===8){if(t=r.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return r}function yj(r){r=r.previousSibling;for(var t=0;r;){if(r.nodeType===8){var e=r.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return r;t--}else e==="/$"&&t++}r=r.previousSibling}return null}var q1=Math.random().toString(36).slice(2),nf="__reactFiber$"+q1,pb="__reactProps$"+q1,Oh="__reactContainer$"+q1,A7="__reactEvents$"+q1,o0e="__reactListeners$"+q1,l0e="__reactHandles$"+q1;function Tp(r){var t=r[nf];if(t)return t;for(var e=r.parentNode;e;){if(t=e[Oh]||e[nf]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(r=yj(r);r!==null;){if(e=r[nf])return e;r=yj(r)}return t}r=e,e=r.parentNode}return null}function Mw(r){return r=r[nf]||r[Oh],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function mv(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(Wt(33))}function kC(r){return r[pb]||null}var p7=[],vv=-1;function o0(r){return{current:r}}function Ci(r){0>vv||(r.current=p7[vv],p7[vv]=null,vv--)}function xi(r,t){vv++,p7[vv]=r.current,r.current=t}var KA={},fo=o0(KA),Jo=o0(!1),dg=KA;function v1(r,t){var e=r.type.contextTypes;if(!e)return KA;var n=r.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in e)i[a]=t[a];return n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=t,r.__reactInternalMemoizedMaskedChildContext=i),i}function el(r){return r=r.childContextTypes,r!=null}function gS(){Ci(Jo),Ci(fo)}function xj(r,t,e){if(fo.current!==KA)throw Error(Wt(168));xi(fo,t),xi(Jo,e)}function JZ(r,t,e){var n=r.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return e;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Wt(108,Wde(r)||"Unknown",i));return ji({},e,n)}function mS(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||KA,dg=fo.current,xi(fo,r),xi(Jo,Jo.current),!0}function bj(r,t,e){var n=r.stateNode;if(!n)throw Error(Wt(169));e?(r=JZ(r,t,dg),n.__reactInternalMemoizedMergedChildContext=r,Ci(Jo),Ci(fo),xi(fo,r)):Ci(Jo),xi(Jo,e)}var hh=null,NC=!1,jB=!1;function eJ(r){hh===null?hh=[r]:hh.push(r)}function u0e(r){NC=!0,eJ(r)}function l0(){if(!jB&&hh!==null){jB=!0;var r=0,t=ri;try{var e=hh;for(ri=1;r<e.length;r++){var n=e[r];do n=n(!0);while(n!==null)}hh=null,NC=!1}catch(i){throw hh!==null&&(hh=hh.slice(r+1)),CZ(FL,l0),i}finally{ri=t,jB=!1}}return null}var yv=[],xv=0,vS=null,yS=0,du=[],Au=0,Ag=null,vh=1,yh="";function lp(r,t){yv[xv++]=yS,yv[xv++]=vS,vS=r,yS=t}function tJ(r,t,e){du[Au++]=vh,du[Au++]=yh,du[Au++]=Ag,Ag=r;var n=vh;r=yh;var i=32-fc(n)-1;n&=~(1<<i),e+=1;var a=32-fc(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,vh=1<<32-fc(t)+i|e<<i|n,yh=a+r}else vh=1<<a|e<<i|n,yh=r}function UL(r){r.return!==null&&(lp(r,1),tJ(r,1,0))}function HL(r){for(;r===vS;)vS=yv[--xv],yv[xv]=null,yS=yv[--xv],yv[xv]=null;for(;r===Ag;)Ag=du[--Au],du[Au]=null,yh=du[--Au],du[Au]=null,vh=du[--Au],du[Au]=null}var jl=null,Il=null,ki=!1,ic=null;function rJ(r,t){var e=xu(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=r,t=r.deletions,t===null?(r.deletions=[e],r.flags|=16):t.push(e)}function wj(r,t){switch(r.tag){case 5:var e=r.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(r.stateNode=t,jl=r,Il=BA(t.firstChild),!0):!1;case 6:return t=r.pendingProps===""||t.nodeType!==3?null:t,t!==null?(r.stateNode=t,jl=r,Il=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=Ag!==null?{id:vh,overflow:yh}:null,r.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=xu(18,null,null,0),e.stateNode=t,e.return=r,r.child=e,jl=r,Il=null,!0):!1;default:return!1}}function g7(r){return(r.mode&1)!==0&&(r.flags&128)===0}function m7(r){if(ki){var t=Il;if(t){var e=t;if(!wj(r,t)){if(g7(r))throw Error(Wt(418));t=BA(e.nextSibling);var n=jl;t&&wj(r,t)?rJ(n,e):(r.flags=r.flags&-4097|2,ki=!1,jl=r)}}else{if(g7(r))throw Error(Wt(418));r.flags=r.flags&-4097|2,ki=!1,jl=r}}}function _j(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;jl=r}function t5(r){if(r!==jl)return!1;if(!ki)return _j(r),ki=!0,!1;var t;if((t=r.tag!==3)&&!(t=r.tag!==5)&&(t=r.type,t=t!=="head"&&t!=="body"&&!h7(r.type,r.memoizedProps)),t&&(t=Il)){if(g7(r))throw nJ(),Error(Wt(418));for(;t;)rJ(r,t),t=BA(t.nextSibling)}if(_j(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Wt(317));e:{for(r=r.nextSibling,t=0;r;){if(r.nodeType===8){var e=r.data;if(e==="/$"){if(t===0){Il=BA(r.nextSibling);break e}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}r=r.nextSibling}Il=null}}else Il=jl?BA(r.stateNode.nextSibling):null;return!0}function nJ(){for(var r=Il;r;)r=BA(r.nextSibling)}function y1(){Il=jl=null,ki=!1}function QL(r){ic===null?ic=[r]:ic.push(r)}var c0e=ed.ReactCurrentBatchConfig;function qy(r,t,e){if(r=e.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(Wt(309));var n=e.stateNode}if(!n)throw Error(Wt(147,r));var i=n,a=""+r;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof r!="string")throw Error(Wt(284));if(!e._owner)throw Error(Wt(290,r))}return r}function r5(r,t){throw r=Object.prototype.toString.call(t),Error(Wt(31,r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r))}function Sj(r){var t=r._init;return t(r._payload)}function iJ(r){function t(m,v){if(r){var y=m.deletions;y===null?(m.deletions=[v],m.flags|=16):y.push(v)}}function e(m,v){if(!r)return null;for(;v!==null;)t(m,v),v=v.sibling;return null}function n(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function i(m,v){return m=NA(m,v),m.index=0,m.sibling=null,m}function a(m,v,y){return m.index=y,r?(y=m.alternate,y!==null?(y=y.index,y<v?(m.flags|=2,v):y):(m.flags|=2,v)):(m.flags|=1048576,v)}function s(m){return r&&m.alternate===null&&(m.flags|=2),m}function o(m,v,y,b){return v===null||v.tag!==6?(v=WB(y,m.mode,b),v.return=m,v):(v=i(v,y),v.return=m,v)}function l(m,v,y,b){var _=y.type;return _===dv?c(m,v,y.props.children,b,y.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Qd&&Sj(_)===v.type)?(b=i(v,y.props),b.ref=qy(m,v,y),b.return=m,b):(b=T3(y.type,y.key,y.props,null,m.mode,b),b.ref=qy(m,v,y),b.return=m,b)}function u(m,v,y,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=$B(y,m.mode,b),v.return=m,v):(v=i(v,y.children||[]),v.return=m,v)}function c(m,v,y,b,_){return v===null||v.tag!==7?(v=Zp(y,m.mode,b,_),v.return=m,v):(v=i(v,y),v.return=m,v)}function f(m,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=WB(""+v,m.mode,y),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case G_:return y=T3(v.type,v.key,v.props,null,m.mode,y),y.ref=qy(m,null,v),y.return=m,y;case hv:return v=$B(v,m.mode,y),v.return=m,v;case Qd:var b=v._init;return f(m,b(v._payload),y)}if(Hx(v)||Vy(v))return v=Zp(v,m.mode,y,null),v.return=m,v;r5(m,v)}return null}function h(m,v,y,b){var _=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:o(m,v,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case G_:return y.key===_?l(m,v,y,b):null;case hv:return y.key===_?u(m,v,y,b):null;case Qd:return _=y._init,h(m,v,_(y._payload),b)}if(Hx(y)||Vy(y))return _!==null?null:c(m,v,y,b,null);r5(m,y)}return null}function d(m,v,y,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(y)||null,o(v,m,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case G_:return m=m.get(b.key===null?y:b.key)||null,l(v,m,b,_);case hv:return m=m.get(b.key===null?y:b.key)||null,u(v,m,b,_);case Qd:var T=b._init;return d(m,v,y,T(b._payload),_)}if(Hx(b)||Vy(b))return m=m.get(y)||null,c(v,m,b,_,null);r5(v,b)}return null}function A(m,v,y,b){for(var _=null,T=null,I=v,N=v=0,F=null;I!==null&&N<y.length;N++){I.index>N?(F=I,I=null):F=I.sibling;var P=h(m,I,y[N],b);if(P===null){I===null&&(I=F);break}r&&I&&P.alternate===null&&t(m,I),v=a(P,v,N),T===null?_=P:T.sibling=P,T=P,I=F}if(N===y.length)return e(m,I),ki&&lp(m,N),_;if(I===null){for(;N<y.length;N++)I=f(m,y[N],b),I!==null&&(v=a(I,v,N),T===null?_=I:T.sibling=I,T=I);return ki&&lp(m,N),_}for(I=n(m,I);N<y.length;N++)F=d(I,m,N,y[N],b),F!==null&&(r&&F.alternate!==null&&I.delete(F.key===null?N:F.key),v=a(F,v,N),T===null?_=F:T.sibling=F,T=F);return r&&I.forEach(function(D){return t(m,D)}),ki&&lp(m,N),_}function p(m,v,y,b){var _=Vy(y);if(typeof _!="function")throw Error(Wt(150));if(y=_.call(y),y==null)throw Error(Wt(151));for(var T=_=null,I=v,N=v=0,F=null,P=y.next();I!==null&&!P.done;N++,P=y.next()){I.index>N?(F=I,I=null):F=I.sibling;var D=h(m,I,P.value,b);if(D===null){I===null&&(I=F);break}r&&I&&D.alternate===null&&t(m,I),v=a(D,v,N),T===null?_=D:T.sibling=D,T=D,I=F}if(P.done)return e(m,I),ki&&lp(m,N),_;if(I===null){for(;!P.done;N++,P=y.next())P=f(m,P.value,b),P!==null&&(v=a(P,v,N),T===null?_=P:T.sibling=P,T=P);return ki&&lp(m,N),_}for(I=n(m,I);!P.done;N++,P=y.next())P=d(I,m,N,P.value,b),P!==null&&(r&&P.alternate!==null&&I.delete(P.key===null?N:P.key),v=a(P,v,N),T===null?_=P:T.sibling=P,T=P);return r&&I.forEach(function(R){return t(m,R)}),ki&&lp(m,N),_}function g(m,v,y,b){if(typeof y=="object"&&y!==null&&y.type===dv&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case G_:e:{for(var _=y.key,T=v;T!==null;){if(T.key===_){if(_=y.type,_===dv){if(T.tag===7){e(m,T.sibling),v=i(T,y.props.children),v.return=m,m=v;break e}}else if(T.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Qd&&Sj(_)===T.type){e(m,T.sibling),v=i(T,y.props),v.ref=qy(m,T,y),v.return=m,m=v;break e}e(m,T);break}else t(m,T);T=T.sibling}y.type===dv?(v=Zp(y.props.children,m.mode,b,y.key),v.return=m,m=v):(b=T3(y.type,y.key,y.props,null,m.mode,b),b.ref=qy(m,v,y),b.return=m,m=b)}return s(m);case hv:e:{for(T=y.key;v!==null;){if(v.key===T)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){e(m,v.sibling),v=i(v,y.children||[]),v.return=m,m=v;break e}else{e(m,v);break}else t(m,v);v=v.sibling}v=$B(y,m.mode,b),v.return=m,m=v}return s(m);case Qd:return T=y._init,g(m,v,T(y._payload),b)}if(Hx(y))return A(m,v,y,b);if(Vy(y))return p(m,v,y,b);r5(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(e(m,v.sibling),v=i(v,y),v.return=m,m=v):(e(m,v),v=WB(y,m.mode,b),v.return=m,m=v),s(m)):e(m,v)}return g}var x1=iJ(!0),aJ=iJ(!1),xS=o0(null),bS=null,bv=null,zL=null;function VL(){zL=bv=bS=null}function GL(r){var t=xS.current;Ci(xS),r._currentValue=t}function v7(r,t,e){for(;r!==null;){var n=r.alternate;if((r.childLanes&t)!==t?(r.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),r===e)break;r=r.return}}function Ov(r,t){bS=r,zL=bv=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&t&&(Yo=!0),r.firstContext=null)}function Bu(r){var t=r._currentValue;if(zL!==r)if(r={context:r,memoizedValue:t,next:null},bv===null){if(bS===null)throw Error(Wt(308));bv=r,bS.dependencies={lanes:0,firstContext:r}}else bv=bv.next=r;return t}var Ep=null;function WL(r){Ep===null?Ep=[r]:Ep.push(r)}function sJ(r,t,e,n){var i=t.interleaved;return i===null?(e.next=e,WL(t)):(e.next=i.next,i.next=e),t.interleaved=e,jh(r,n)}function jh(r,t){r.lanes|=t;var e=r.alternate;for(e!==null&&(e.lanes|=t),e=r,r=r.return;r!==null;)r.childLanes|=t,e=r.alternate,e!==null&&(e.childLanes|=t),e=r,r=r.return;return e.tag===3?e.stateNode:null}var zd=!1;function $L(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oJ(r,t){r=r.updateQueue,t.updateQueue===r&&(t.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Bh(r,t){return{eventTime:r,lane:t,tag:0,payload:null,callback:null,next:null}}function TA(r,t,e){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,Mn&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,jh(r,e)}return i=n.interleaved,i===null?(t.next=t,WL(n)):(t.next=i.next,i.next=t),n.interleaved=t,jh(r,e)}function b3(r,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var n=t.lanes;n&=r.pendingLanes,e|=n,t.lanes=e,IL(r,e)}}function Cj(r,t){var e=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,e===n)){var i=null,a=null;if(e=e.firstBaseUpdate,e!==null){do{var s={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};a===null?i=a=s:a=a.next=s,e=e.next}while(e!==null);a===null?i=a=t:a=a.next=t}else i=a=t;e={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},r.updateQueue=e;return}r=e.lastBaseUpdate,r===null?e.firstBaseUpdate=t:r.next=t,e.lastBaseUpdate=t}function wS(r,t,e,n){var i=r.updateQueue;zd=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=r.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,c=u=l=null,o=a;do{var h=o.lane,d=o.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var A=r,p=o;switch(h=t,d=e,p.tag){case 1:if(A=p.payload,typeof A=="function"){f=A.call(d,f,h);break e}f=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=p.payload,h=typeof A=="function"?A.call(d,f,h):A,h==null)break e;f=ji({},f,h);break e;case 2:zd=!0}}o.callback!==null&&o.lane!==0&&(r.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else d={eventTime:d,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=d,l=f):c=c.next=d,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);gg|=s,r.lanes=s,r.memoizedState=f}}function Bj(r,t,e){if(r=t.effects,t.effects=null,r!==null)for(t=0;t<r.length;t++){var n=r[t],i=n.callback;if(i!==null){if(n.callback=null,n=e,typeof i!="function")throw Error(Wt(191,i));i.call(n)}}}var Lw={},mf=o0(Lw),gb=o0(Lw),mb=o0(Lw);function kp(r){if(r===Lw)throw Error(Wt(174));return r}function KL(r,t){switch(xi(mb,t),xi(gb,r),xi(mf,Lw),r=t.nodeType,r){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ZN(null,"");break;default:r=r===8?t.parentNode:t,t=r.namespaceURI||null,r=r.tagName,t=ZN(t,r)}Ci(mf),xi(mf,t)}function b1(){Ci(mf),Ci(gb),Ci(mb)}function lJ(r){kp(mb.current);var t=kp(mf.current),e=ZN(t,r.type);t!==e&&(xi(gb,r),xi(mf,e))}function qL(r){gb.current===r&&(Ci(mf),Ci(gb))}var Mi=o0(0);function _S(r){for(var t=r;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var UB=[];function XL(){for(var r=0;r<UB.length;r++)UB[r]._workInProgressVersionPrimary=null;UB.length=0}var w3=ed.ReactCurrentDispatcher,HB=ed.ReactCurrentBatchConfig,pg=0,Di=null,Va=null,ls=null,SS=!1,x2=!1,vb=0,f0e=0;function $s(){throw Error(Wt(321))}function YL(r,t){if(t===null)return!1;for(var e=0;e<t.length&&e<r.length;e++)if(!vc(r[e],t[e]))return!1;return!0}function ZL(r,t,e,n,i,a){if(pg=a,Di=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,w3.current=r===null||r.memoizedState===null?p0e:g0e,r=e(n,i),x2){a=0;do{if(x2=!1,vb=0,25<=a)throw Error(Wt(301));a+=1,ls=Va=null,t.updateQueue=null,w3.current=m0e,r=e(n,i)}while(x2)}if(w3.current=CS,t=Va!==null&&Va.next!==null,pg=0,ls=Va=Di=null,SS=!1,t)throw Error(Wt(300));return r}function JL(){var r=vb!==0;return vb=0,r}function Yc(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ls===null?Di.memoizedState=ls=r:ls=ls.next=r,ls}function Tu(){if(Va===null){var r=Di.alternate;r=r!==null?r.memoizedState:null}else r=Va.next;var t=ls===null?Di.memoizedState:ls.next;if(t!==null)ls=t,Va=r;else{if(r===null)throw Error(Wt(310));Va=r,r={memoizedState:Va.memoizedState,baseState:Va.baseState,baseQueue:Va.baseQueue,queue:Va.queue,next:null},ls===null?Di.memoizedState=ls=r:ls=ls.next=r}return ls}function yb(r,t){return typeof t=="function"?t(r):t}function QB(r){var t=Tu(),e=t.queue;if(e===null)throw Error(Wt(311));e.lastRenderedReducer=r;var n=Va,i=n.baseQueue,a=e.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,e.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((pg&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:r(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Di.lanes|=c,gg|=c}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,vc(n,t.memoizedState)||(Yo=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,e.lastRenderedState=n}if(r=e.interleaved,r!==null){i=r;do a=i.lane,Di.lanes|=a,gg|=a,i=i.next;while(i!==r)}else i===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function zB(r){var t=Tu(),e=t.queue;if(e===null)throw Error(Wt(311));e.lastRenderedReducer=r;var n=e.dispatch,i=e.pending,a=t.memoizedState;if(i!==null){e.pending=null;var s=i=i.next;do a=r(a,s.action),s=s.next;while(s!==i);vc(a,t.memoizedState)||(Yo=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),e.lastRenderedState=a}return[a,n]}function uJ(){}function cJ(r,t){var e=Di,n=Tu(),i=t(),a=!vc(n.memoizedState,i);if(a&&(n.memoizedState=i,Yo=!0),n=n.queue,eD(dJ.bind(null,e,n,r),[r]),n.getSnapshot!==t||a||ls!==null&&ls.memoizedState.tag&1){if(e.flags|=2048,xb(9,hJ.bind(null,e,n,i,t),void 0,null),ps===null)throw Error(Wt(349));pg&30||fJ(e,t,i)}return i}function fJ(r,t,e){r.flags|=16384,r={getSnapshot:t,value:e},t=Di.updateQueue,t===null?(t={lastEffect:null,stores:null},Di.updateQueue=t,t.stores=[r]):(e=t.stores,e===null?t.stores=[r]:e.push(r))}function hJ(r,t,e,n){t.value=e,t.getSnapshot=n,AJ(t)&&pJ(r)}function dJ(r,t,e){return e(function(){AJ(t)&&pJ(r)})}function AJ(r){var t=r.getSnapshot;r=r.value;try{var e=t();return!vc(r,e)}catch{return!0}}function pJ(r){var t=jh(r,1);t!==null&&hc(t,r,1,-1)}function Tj(r){var t=Yc();return typeof r=="function"&&(r=r()),t.memoizedState=t.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yb,lastRenderedState:r},t.queue=r,r=r.dispatch=A0e.bind(null,Di,r),[t.memoizedState,r]}function xb(r,t,e,n){return r={tag:r,create:t,destroy:e,deps:n,next:null},t=Di.updateQueue,t===null?(t={lastEffect:null,stores:null},Di.updateQueue=t,t.lastEffect=r.next=r):(e=t.lastEffect,e===null?t.lastEffect=r.next=r:(n=e.next,e.next=r,r.next=n,t.lastEffect=r)),r}function gJ(){return Tu().memoizedState}function _3(r,t,e,n){var i=Yc();Di.flags|=r,i.memoizedState=xb(1|t,e,void 0,n===void 0?null:n)}function FC(r,t,e,n){var i=Tu();n=n===void 0?null:n;var a=void 0;if(Va!==null){var s=Va.memoizedState;if(a=s.destroy,n!==null&&YL(n,s.deps)){i.memoizedState=xb(t,e,a,n);return}}Di.flags|=r,i.memoizedState=xb(1|t,e,a,n)}function Ej(r,t){return _3(8390656,8,r,t)}function eD(r,t){return FC(2048,8,r,t)}function mJ(r,t){return FC(4,2,r,t)}function vJ(r,t){return FC(4,4,r,t)}function yJ(r,t){if(typeof t=="function")return r=r(),t(r),function(){t(null)};if(t!=null)return r=r(),t.current=r,function(){t.current=null}}function xJ(r,t,e){return e=e!=null?e.concat([r]):null,FC(4,4,yJ.bind(null,t,r),e)}function tD(){}function bJ(r,t){var e=Tu();t=t===void 0?null:t;var n=e.memoizedState;return n!==null&&t!==null&&YL(t,n[1])?n[0]:(e.memoizedState=[r,t],r)}function wJ(r,t){var e=Tu();t=t===void 0?null:t;var n=e.memoizedState;return n!==null&&t!==null&&YL(t,n[1])?n[0]:(r=r(),e.memoizedState=[r,t],r)}function _J(r,t,e){return pg&21?(vc(e,t)||(e=EZ(),Di.lanes|=e,gg|=e,r.baseState=!0),t):(r.baseState&&(r.baseState=!1,Yo=!0),r.memoizedState=e)}function h0e(r,t){var e=ri;ri=e!==0&&4>e?e:4,r(!0);var n=HB.transition;HB.transition={};try{r(!1),t()}finally{ri=e,HB.transition=n}}function SJ(){return Tu().memoizedState}function d0e(r,t,e){var n=kA(r);if(e={lane:n,action:e,hasEagerState:!1,eagerState:null,next:null},CJ(r))BJ(t,e);else if(e=sJ(r,t,e,n),e!==null){var i=ko();hc(e,r,n,i),TJ(e,t,n)}}function A0e(r,t,e){var n=kA(r),i={lane:n,action:e,hasEagerState:!1,eagerState:null,next:null};if(CJ(r))BJ(t,i);else{var a=r.alternate;if(r.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,e);if(i.hasEagerState=!0,i.eagerState=o,vc(o,s)){var l=t.interleaved;l===null?(i.next=i,WL(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}e=sJ(r,t,i,n),e!==null&&(i=ko(),hc(e,r,n,i),TJ(e,t,n))}}function CJ(r){var t=r.alternate;return r===Di||t!==null&&t===Di}function BJ(r,t){x2=SS=!0;var e=r.pending;e===null?t.next=t:(t.next=e.next,e.next=t),r.pending=t}function TJ(r,t,e){if(e&4194240){var n=t.lanes;n&=r.pendingLanes,e|=n,t.lanes=e,IL(r,e)}}var CS={readContext:Bu,useCallback:$s,useContext:$s,useEffect:$s,useImperativeHandle:$s,useInsertionEffect:$s,useLayoutEffect:$s,useMemo:$s,useReducer:$s,useRef:$s,useState:$s,useDebugValue:$s,useDeferredValue:$s,useTransition:$s,useMutableSource:$s,useSyncExternalStore:$s,useId:$s,unstable_isNewReconciler:!1},p0e={readContext:Bu,useCallback:function(r,t){return Yc().memoizedState=[r,t===void 0?null:t],r},useContext:Bu,useEffect:Ej,useImperativeHandle:function(r,t,e){return e=e!=null?e.concat([r]):null,_3(4194308,4,yJ.bind(null,t,r),e)},useLayoutEffect:function(r,t){return _3(4194308,4,r,t)},useInsertionEffect:function(r,t){return _3(4,2,r,t)},useMemo:function(r,t){var e=Yc();return t=t===void 0?null:t,r=r(),e.memoizedState=[r,t],r},useReducer:function(r,t,e){var n=Yc();return t=e!==void 0?e(t):t,n.memoizedState=n.baseState=t,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:t},n.queue=r,r=r.dispatch=d0e.bind(null,Di,r),[n.memoizedState,r]},useRef:function(r){var t=Yc();return r={current:r},t.memoizedState=r},useState:Tj,useDebugValue:tD,useDeferredValue:function(r){return Yc().memoizedState=r},useTransition:function(){var r=Tj(!1),t=r[0];return r=h0e.bind(null,r[1]),Yc().memoizedState=r,[t,r]},useMutableSource:function(){},useSyncExternalStore:function(r,t,e){var n=Di,i=Yc();if(ki){if(e===void 0)throw Error(Wt(407));e=e()}else{if(e=t(),ps===null)throw Error(Wt(349));pg&30||fJ(n,t,e)}i.memoizedState=e;var a={value:e,getSnapshot:t};return i.queue=a,Ej(dJ.bind(null,n,a,r),[r]),n.flags|=2048,xb(9,hJ.bind(null,n,a,e,t),void 0,null),e},useId:function(){var r=Yc(),t=ps.identifierPrefix;if(ki){var e=yh,n=vh;e=(n&~(1<<32-fc(n)-1)).toString(32)+e,t=":"+t+"R"+e,e=vb++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=f0e++,t=":"+t+"r"+e.toString(32)+":";return r.memoizedState=t},unstable_isNewReconciler:!1},g0e={readContext:Bu,useCallback:bJ,useContext:Bu,useEffect:eD,useImperativeHandle:xJ,useInsertionEffect:mJ,useLayoutEffect:vJ,useMemo:wJ,useReducer:QB,useRef:gJ,useState:function(){return QB(yb)},useDebugValue:tD,useDeferredValue:function(r){var t=Tu();return _J(t,Va.memoizedState,r)},useTransition:function(){var r=QB(yb)[0],t=Tu().memoizedState;return[r,t]},useMutableSource:uJ,useSyncExternalStore:cJ,useId:SJ,unstable_isNewReconciler:!1},m0e={readContext:Bu,useCallback:bJ,useContext:Bu,useEffect:eD,useImperativeHandle:xJ,useInsertionEffect:mJ,useLayoutEffect:vJ,useMemo:wJ,useReducer:zB,useRef:gJ,useState:function(){return zB(yb)},useDebugValue:tD,useDeferredValue:function(r){var t=Tu();return Va===null?t.memoizedState=r:_J(t,Va.memoizedState,r)},useTransition:function(){var r=zB(yb)[0],t=Tu().memoizedState;return[r,t]},useMutableSource:uJ,useSyncExternalStore:cJ,useId:SJ,unstable_isNewReconciler:!1};function Zu(r,t){if(r&&r.defaultProps){t=ji({},t),r=r.defaultProps;for(var e in r)t[e]===void 0&&(t[e]=r[e]);return t}return t}function y7(r,t,e,n){t=r.memoizedState,e=e(n,t),e=e==null?t:ji({},t,e),r.memoizedState=e,r.lanes===0&&(r.updateQueue.baseState=e)}var IC={isMounted:function(r){return(r=r._reactInternals)?Rg(r)===r:!1},enqueueSetState:function(r,t,e){r=r._reactInternals;var n=ko(),i=kA(r),a=Bh(n,i);a.payload=t,e!=null&&(a.callback=e),t=TA(r,a,i),t!==null&&(hc(t,r,i,n),b3(t,r,i))},enqueueReplaceState:function(r,t,e){r=r._reactInternals;var n=ko(),i=kA(r),a=Bh(n,i);a.tag=1,a.payload=t,e!=null&&(a.callback=e),t=TA(r,a,i),t!==null&&(hc(t,r,i,n),b3(t,r,i))},enqueueForceUpdate:function(r,t){r=r._reactInternals;var e=ko(),n=kA(r),i=Bh(e,n);i.tag=2,t!=null&&(i.callback=t),t=TA(r,i,n),t!==null&&(hc(t,r,n,e),b3(t,r,n))}};function kj(r,t,e,n,i,a,s){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!hb(e,n)||!hb(i,a):!0}function EJ(r,t,e){var n=!1,i=KA,a=t.contextType;return typeof a=="object"&&a!==null?a=Bu(a):(i=el(t)?dg:fo.current,n=t.contextTypes,a=(n=n!=null)?v1(r,i):KA),t=new t(e,a),r.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=IC,r.stateNode=t,t._reactInternals=r,n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=a),t}function Nj(r,t,e,n){r=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,n),t.state!==r&&IC.enqueueReplaceState(t,t.state,null)}function x7(r,t,e,n){var i=r.stateNode;i.props=e,i.state=r.memoizedState,i.refs={},$L(r);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Bu(a):(a=el(t)?dg:fo.current,i.context=v1(r,a)),i.state=r.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(y7(r,t,a,e),i.state=r.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&IC.enqueueReplaceState(i,i.state,null),wS(r,e,i,n),i.state=r.memoizedState),typeof i.componentDidMount=="function"&&(r.flags|=4194308)}function w1(r,t){try{var e="",n=t;do e+=Gde(n),n=n.return;while(n);var i=e}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:r,source:t,stack:i,digest:null}}function VB(r,t,e){return{value:r,source:null,stack:e??null,digest:t??null}}function b7(r,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var v0e=typeof WeakMap=="function"?WeakMap:Map;function kJ(r,t,e){e=Bh(-1,e),e.tag=3,e.payload={element:null};var n=t.value;return e.callback=function(){TS||(TS=!0,F7=n),b7(r,t)},e}function NJ(r,t,e){e=Bh(-1,e),e.tag=3;var n=r.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;e.payload=function(){return n(i)},e.callback=function(){b7(r,t)}}var a=r.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){b7(r,t),typeof n!="function"&&(EA===null?EA=new Set([this]):EA.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),e}function Fj(r,t,e){var n=r.pingCache;if(n===null){n=r.pingCache=new v0e;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(e)||(i.add(e),r=I0e.bind(null,r,t,e),t.then(r,r))}function Ij(r){do{var t;if((t=r.tag===13)&&(t=r.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return r;r=r.return}while(r!==null);return null}function Mj(r,t,e,n,i){return r.mode&1?(r.flags|=65536,r.lanes=i,r):(r===t?r.flags|=65536:(r.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=Bh(-1,1),t.tag=2,TA(e,t,1))),e.lanes|=1),r)}var y0e=ed.ReactCurrentOwner,Yo=!1;function wo(r,t,e,n){t.child=r===null?aJ(t,null,e,n):x1(t,r.child,e,n)}function Lj(r,t,e,n,i){e=e.render;var a=t.ref;return Ov(t,i),n=ZL(r,t,e,n,a,i),e=JL(),r!==null&&!Yo?(t.updateQueue=r.updateQueue,t.flags&=-2053,r.lanes&=~i,Uh(r,t,i)):(ki&&e&&UL(t),t.flags|=1,wo(r,t,n,i),t.child)}function Dj(r,t,e,n,i){if(r===null){var a=e.type;return typeof a=="function"&&!uD(a)&&a.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=a,FJ(r,t,a,n,i)):(r=T3(e.type,null,n,t,t.mode,i),r.ref=t.ref,r.return=t,t.child=r)}if(a=r.child,!(r.lanes&i)){var s=a.memoizedProps;if(e=e.compare,e=e!==null?e:hb,e(s,n)&&r.ref===t.ref)return Uh(r,t,i)}return t.flags|=1,r=NA(a,n),r.ref=t.ref,r.return=t,t.child=r}function FJ(r,t,e,n,i){if(r!==null){var a=r.memoizedProps;if(hb(a,n)&&r.ref===t.ref)if(Yo=!1,t.pendingProps=n=a,(r.lanes&i)!==0)r.flags&131072&&(Yo=!0);else return t.lanes=r.lanes,Uh(r,t,i)}return w7(r,t,e,n,i)}function IJ(r,t,e){var n=t.pendingProps,i=n.children,a=r!==null?r.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(_v,Sl),Sl|=e;else{if(!(e&1073741824))return r=a!==null?a.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:r,cachePool:null,transitions:null},t.updateQueue=null,xi(_v,Sl),Sl|=r,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:e,xi(_v,Sl),Sl|=n}else a!==null?(n=a.baseLanes|e,t.memoizedState=null):n=e,xi(_v,Sl),Sl|=n;return wo(r,t,i,e),t.child}function MJ(r,t){var e=t.ref;(r===null&&e!==null||r!==null&&r.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function w7(r,t,e,n,i){var a=el(e)?dg:fo.current;return a=v1(t,a),Ov(t,i),e=ZL(r,t,e,n,a,i),n=JL(),r!==null&&!Yo?(t.updateQueue=r.updateQueue,t.flags&=-2053,r.lanes&=~i,Uh(r,t,i)):(ki&&n&&UL(t),t.flags|=1,wo(r,t,e,i),t.child)}function Pj(r,t,e,n,i){if(el(e)){var a=!0;mS(t)}else a=!1;if(Ov(t,i),t.stateNode===null)S3(r,t),EJ(t,e,n),x7(t,e,n,i),n=!0;else if(r===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=e.contextType;typeof u=="object"&&u!==null?u=Bu(u):(u=el(e)?dg:fo.current,u=v1(t,u));var c=e.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&Nj(t,s,n,u),zd=!1;var h=t.memoizedState;s.state=h,wS(t,n,s,i),l=t.memoizedState,o!==n||h!==l||Jo.current||zd?(typeof c=="function"&&(y7(t,e,c,n),l=t.memoizedState),(o=zd||kj(t,e,o,n,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,oJ(r,t),o=t.memoizedProps,u=t.type===t.elementType?o:Zu(t.type,o),s.props=u,f=t.pendingProps,h=s.context,l=e.contextType,typeof l=="object"&&l!==null?l=Bu(l):(l=el(e)?dg:fo.current,l=v1(t,l));var d=e.getDerivedStateFromProps;(c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&Nj(t,s,n,l),zd=!1,h=t.memoizedState,s.state=h,wS(t,n,s,i);var A=t.memoizedState;o!==f||h!==A||Jo.current||zd?(typeof d=="function"&&(y7(t,e,d,n),A=t.memoizedState),(u=zd||kj(t,e,u,n,h,A,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,A,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,A,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===r.memoizedProps&&h===r.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===r.memoizedProps&&h===r.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=A),s.props=n,s.state=A,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===r.memoizedProps&&h===r.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===r.memoizedProps&&h===r.memoizedState||(t.flags|=1024),n=!1)}return _7(r,t,e,n,a,i)}function _7(r,t,e,n,i,a){MJ(r,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&bj(t,e,!1),Uh(r,t,a);n=t.stateNode,y0e.current=t;var o=s&&typeof e.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,r!==null&&s?(t.child=x1(t,r.child,null,a),t.child=x1(t,null,o,a)):wo(r,t,o,a),t.memoizedState=n.state,i&&bj(t,e,!0),t.child}function LJ(r){var t=r.stateNode;t.pendingContext?xj(r,t.pendingContext,t.pendingContext!==t.context):t.context&&xj(r,t.context,!1),KL(r,t.containerInfo)}function Rj(r,t,e,n,i){return y1(),QL(i),t.flags|=256,wo(r,t,e,n),t.child}var S7={dehydrated:null,treeContext:null,retryLane:0};function C7(r){return{baseLanes:r,cachePool:null,transitions:null}}function DJ(r,t,e){var n=t.pendingProps,i=Mi.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=r!==null&&r.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(r===null||r.memoizedState!==null)&&(i|=1),xi(Mi,i&1),r===null)return m7(t),r=t.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(t.mode&1?r.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,r=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=DC(s,n,0,null),r=Zp(r,n,e,null),a.return=t,r.return=t,a.sibling=r,t.child=a,t.child.memoizedState=C7(e),t.memoizedState=S7,r):rD(t,s));if(i=r.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return x0e(r,t,s,n,o,i,e);if(a){a=n.fallback,s=t.mode,i=r.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=NA(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=NA(o,a):(a=Zp(a,s,e,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=r.child.memoizedState,s=s===null?C7(e):{baseLanes:s.baseLanes|e,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=r.childLanes&~e,t.memoizedState=S7,n}return a=r.child,r=a.sibling,n=NA(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=e),n.return=t,n.sibling=null,r!==null&&(e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)),t.child=n,t.memoizedState=null,n}function rD(r,t){return t=DC({mode:"visible",children:t},r.mode,0,null),t.return=r,r.child=t}function n5(r,t,e,n){return n!==null&&QL(n),x1(t,r.child,null,e),r=rD(t,t.pendingProps.children),r.flags|=2,t.memoizedState=null,r}function x0e(r,t,e,n,i,a,s){if(e)return t.flags&256?(t.flags&=-257,n=VB(Error(Wt(422))),n5(r,t,s,n)):t.memoizedState!==null?(t.child=r.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=DC({mode:"visible",children:n.children},i,0,null),a=Zp(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&x1(t,r.child,null,s),t.child.memoizedState=C7(s),t.memoizedState=S7,a);if(!(t.mode&1))return n5(r,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(Wt(419)),n=VB(a,n,void 0),n5(r,t,s,n)}if(o=(s&r.childLanes)!==0,Yo||o){if(n=ps,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,jh(r,i),hc(n,r,i,-1))}return lD(),n=VB(Error(Wt(421))),n5(r,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=r.child,t=M0e.bind(null,r),i._reactRetry=t,null):(r=a.treeContext,Il=BA(i.nextSibling),jl=t,ki=!0,ic=null,r!==null&&(du[Au++]=vh,du[Au++]=yh,du[Au++]=Ag,vh=r.id,yh=r.overflow,Ag=t),t=rD(t,n.children),t.flags|=4096,t)}function Oj(r,t,e){r.lanes|=t;var n=r.alternate;n!==null&&(n.lanes|=t),v7(r.return,t,e)}function GB(r,t,e,n,i){var a=r.memoizedState;a===null?r.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:e,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=e,a.tailMode=i)}function PJ(r,t,e){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(wo(r,t,n.children,e),n=Mi.current,n&2)n=n&1|2,t.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=t.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Oj(r,e,t);else if(r.tag===19)Oj(r,e,t);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}if(xi(Mi,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(e=t.child,i=null;e!==null;)r=e.alternate,r!==null&&_S(r)===null&&(i=e),e=e.sibling;e=i,e===null?(i=t.child,t.child=null):(i=e.sibling,e.sibling=null),GB(t,!1,i,e,a);break;case"backwards":for(e=null,i=t.child,t.child=null;i!==null;){if(r=i.alternate,r!==null&&_S(r)===null){t.child=i;break}r=i.sibling,i.sibling=e,e=i,i=r}GB(t,!0,e,null,a);break;case"together":GB(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function S3(r,t){!(t.mode&1)&&r!==null&&(r.alternate=null,t.alternate=null,t.flags|=2)}function Uh(r,t,e){if(r!==null&&(t.dependencies=r.dependencies),gg|=t.lanes,!(e&t.childLanes))return null;if(r!==null&&t.child!==r.child)throw Error(Wt(153));if(t.child!==null){for(r=t.child,e=NA(r,r.pendingProps),t.child=e,e.return=t;r.sibling!==null;)r=r.sibling,e=e.sibling=NA(r,r.pendingProps),e.return=t;e.sibling=null}return t.child}function b0e(r,t,e){switch(t.tag){case 3:LJ(t),y1();break;case 5:lJ(t);break;case 1:el(t.type)&&mS(t);break;case 4:KL(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;xi(xS,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(xi(Mi,Mi.current&1),t.flags|=128,null):e&t.child.childLanes?DJ(r,t,e):(xi(Mi,Mi.current&1),r=Uh(r,t,e),r!==null?r.sibling:null);xi(Mi,Mi.current&1);break;case 19:if(n=(e&t.childLanes)!==0,r.flags&128){if(n)return PJ(r,t,e);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(Mi,Mi.current),n)break;return null;case 22:case 23:return t.lanes=0,IJ(r,t,e)}return Uh(r,t,e)}var RJ,B7,OJ,jJ;RJ=function(r,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)r.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};B7=function(){};OJ=function(r,t,e,n){var i=r.memoizedProps;if(i!==n){r=t.stateNode,kp(mf.current);var a=null;switch(e){case"input":i=KN(r,i),n=KN(r,n),a=[];break;case"select":i=ji({},i,{value:void 0}),n=ji({},n,{value:void 0}),a=[];break;case"textarea":i=YN(r,i),n=YN(r,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(r.onclick=pS)}JN(e,n);var s;e=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(e||(e={}),e[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ab.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(e||(e={}),e[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(e||(e={}),e[s]=l[s])}else e||(a||(a=[]),a.push(u,e)),e=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ab.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&_i("scroll",r),a||o===l||(a=[])):(a=a||[]).push(u,l))}e&&(a=a||[]).push("style",e);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};jJ=function(r,t,e,n){e!==n&&(t.flags|=4)};function Xy(r,t){if(!ki)switch(r.tailMode){case"hidden":t=r.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?r.tail=null:e.sibling=null;break;case"collapsed":e=r.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function Ks(r){var t=r.alternate!==null&&r.alternate.child===r.child,e=0,n=0;if(t)for(var i=r.child;i!==null;)e|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=r,i=i.sibling;else for(i=r.child;i!==null;)e|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=r,i=i.sibling;return r.subtreeFlags|=n,r.childLanes=e,t}function w0e(r,t,e){var n=t.pendingProps;switch(HL(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:return el(t.type)&&gS(),Ks(t),null;case 3:return n=t.stateNode,b1(),Ci(Jo),Ci(fo),XL(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(r===null||r.child===null)&&(t5(t)?t.flags|=4:r===null||r.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ic!==null&&(L7(ic),ic=null))),B7(r,t),Ks(t),null;case 5:qL(t);var i=kp(mb.current);if(e=t.type,r!==null&&t.stateNode!=null)OJ(r,t,e,n,i),r.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Wt(166));return Ks(t),null}if(r=kp(mf.current),t5(t)){n=t.stateNode,e=t.type;var a=t.memoizedProps;switch(n[nf]=t,n[pb]=a,r=(t.mode&1)!==0,e){case"dialog":_i("cancel",n),_i("close",n);break;case"iframe":case"object":case"embed":_i("load",n);break;case"video":case"audio":for(i=0;i<zx.length;i++)_i(zx[i],n);break;case"source":_i("error",n);break;case"img":case"image":case"link":_i("error",n),_i("load",n);break;case"details":_i("toggle",n);break;case"input":$O(n,a),_i("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},_i("invalid",n);break;case"textarea":qO(n,a),_i("invalid",n)}JN(e,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&e5(n.textContent,o,r),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&e5(n.textContent,o,r),i=["children",""+o]):ab.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&_i("scroll",n)}switch(e){case"input":W_(n),KO(n,a,!0);break;case"textarea":W_(n),XO(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=pS)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=dZ(e)),r==="http://www.w3.org/1999/xhtml"?e==="script"?(r=s.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof n.is=="string"?r=s.createElement(e,{is:n.is}):(r=s.createElement(e),e==="select"&&(s=r,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):r=s.createElementNS(r,e),r[nf]=t,r[pb]=n,RJ(r,t,!1,!1),t.stateNode=r;e:{switch(s=e7(e,n),e){case"dialog":_i("cancel",r),_i("close",r),i=n;break;case"iframe":case"object":case"embed":_i("load",r),i=n;break;case"video":case"audio":for(i=0;i<zx.length;i++)_i(zx[i],r);i=n;break;case"source":_i("error",r),i=n;break;case"img":case"image":case"link":_i("error",r),_i("load",r),i=n;break;case"details":_i("toggle",r),i=n;break;case"input":$O(r,n),i=KN(r,n),_i("invalid",r);break;case"option":i=n;break;case"select":r._wrapperState={wasMultiple:!!n.multiple},i=ji({},n,{value:void 0}),_i("invalid",r);break;case"textarea":qO(r,n),i=YN(r,n),_i("invalid",r);break;default:i=n}JN(e,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?gZ(r,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&AZ(r,l)):a==="children"?typeof l=="string"?(e!=="textarea"||l!=="")&&sb(r,l):typeof l=="number"&&sb(r,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ab.hasOwnProperty(a)?l!=null&&a==="onScroll"&&_i("scroll",r):l!=null&&BL(r,a,l,s))}switch(e){case"input":W_(r),KO(r,n,!1);break;case"textarea":W_(r),XO(r);break;case"option":n.value!=null&&r.setAttribute("value",""+$A(n.value));break;case"select":r.multiple=!!n.multiple,a=n.value,a!=null?Lv(r,!!n.multiple,a,!1):n.defaultValue!=null&&Lv(r,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(r.onclick=pS)}switch(e){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(r&&t.stateNode!=null)jJ(r,t,r.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Wt(166));if(e=kp(mb.current),kp(mf.current),t5(t)){if(n=t.stateNode,e=t.memoizedProps,n[nf]=t,(a=n.nodeValue!==e)&&(r=jl,r!==null))switch(r.tag){case 3:e5(n.nodeValue,e,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&e5(n.nodeValue,e,(r.mode&1)!==0)}a&&(t.flags|=4)}else n=(e.nodeType===9?e:e.ownerDocument).createTextNode(n),n[nf]=t,t.stateNode=n}return Ks(t),null;case 13:if(Ci(Mi),n=t.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ki&&Il!==null&&t.mode&1&&!(t.flags&128))nJ(),y1(),t.flags|=98560,a=!1;else if(a=t5(t),n!==null&&n.dehydrated!==null){if(r===null){if(!a)throw Error(Wt(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Wt(317));a[nf]=t}else y1(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ks(t),a=!1}else ic!==null&&(L7(ic),ic=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(n=n!==null,n!==(r!==null&&r.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(r===null||Mi.current&1?qa===0&&(qa=3):lD())),t.updateQueue!==null&&(t.flags|=4),Ks(t),null);case 4:return b1(),B7(r,t),r===null&&db(t.stateNode.containerInfo),Ks(t),null;case 10:return GL(t.type._context),Ks(t),null;case 17:return el(t.type)&&gS(),Ks(t),null;case 19:if(Ci(Mi),a=t.memoizedState,a===null)return Ks(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)Xy(a,!1);else{if(qa!==0||r!==null&&r.flags&128)for(r=t.child;r!==null;){if(s=_S(r),s!==null){for(t.flags|=128,Xy(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=e,e=t.child;e!==null;)a=e,r=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=r,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,r=s.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e=e.sibling;return xi(Mi,Mi.current&1|2),t.child}r=r.sibling}a.tail!==null&&da()>_1&&(t.flags|=128,n=!0,Xy(a,!1),t.lanes=4194304)}else{if(!n)if(r=_S(s),r!==null){if(t.flags|=128,n=!0,e=r.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),Xy(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!ki)return Ks(t),null}else 2*da()-a.renderingStartTime>_1&&e!==1073741824&&(t.flags|=128,n=!0,Xy(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(e=a.last,e!==null?e.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=da(),t.sibling=null,e=Mi.current,xi(Mi,n?e&1|2:e&1),t):(Ks(t),null);case 22:case 23:return oD(),n=t.memoizedState!==null,r!==null&&r.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Sl&1073741824&&(Ks(t),t.subtreeFlags&6&&(t.flags|=8192)):Ks(t),null;case 24:return null;case 25:return null}throw Error(Wt(156,t.tag))}function _0e(r,t){switch(HL(t),t.tag){case 1:return el(t.type)&&gS(),r=t.flags,r&65536?(t.flags=r&-65537|128,t):null;case 3:return b1(),Ci(Jo),Ci(fo),XL(),r=t.flags,r&65536&&!(r&128)?(t.flags=r&-65537|128,t):null;case 5:return qL(t),null;case 13:if(Ci(Mi),r=t.memoizedState,r!==null&&r.dehydrated!==null){if(t.alternate===null)throw Error(Wt(340));y1()}return r=t.flags,r&65536?(t.flags=r&-65537|128,t):null;case 19:return Ci(Mi),null;case 4:return b1(),null;case 10:return GL(t.type._context),null;case 22:case 23:return oD(),null;case 24:return null;default:return null}}var i5=!1,io=!1,S0e=typeof WeakSet=="function"?WeakSet:Set,gr=null;function wv(r,t){var e=r.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){qi(r,t,n)}else e.current=null}function T7(r,t,e){try{e()}catch(n){qi(r,t,n)}}var jj=!1;function C0e(r,t){if(c7=hS,r=VZ(),jL(r)){if("selectionStart"in r)var e={start:r.selectionStart,end:r.selectionEnd};else e:{e=(e=r.ownerDocument)&&e.defaultView||window;var n=e.getSelection&&e.getSelection();if(n&&n.rangeCount!==0){e=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{e.nodeType,a.nodeType}catch{e=null;break e}var s=0,o=-1,l=-1,u=0,c=0,f=r,h=null;t:for(;;){for(var d;f!==e||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===r)break t;if(h===e&&++u===i&&(o=s),h===a&&++c===n&&(l=s),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}e=o===-1||l===-1?null:{start:o,end:l}}else e=null}e=e||{start:0,end:0}}else e=null;for(f7={focusedElem:r,selectionRange:e},hS=!1,gr=t;gr!==null;)if(t=gr,r=t.child,(t.subtreeFlags&1028)!==0&&r!==null)r.return=t,gr=r;else for(;gr!==null;){t=gr;try{var A=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var p=A.memoizedProps,g=A.memoizedState,m=t.stateNode,v=m.getSnapshotBeforeUpdate(t.elementType===t.type?p:Zu(t.type,p),g);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Wt(163))}}catch(b){qi(t,t.return,b)}if(r=t.sibling,r!==null){r.return=t.return,gr=r;break}gr=t.return}return A=jj,jj=!1,A}function b2(r,t,e){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&r)===r){var a=i.destroy;i.destroy=void 0,a!==void 0&&T7(t,e,a)}i=i.next}while(i!==n)}}function MC(r,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&r)===r){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}}function E7(r){var t=r.ref;if(t!==null){var e=r.stateNode;switch(r.tag){case 5:r=e;break;default:r=e}typeof t=="function"?t(r):t.current=r}}function UJ(r){var t=r.alternate;t!==null&&(r.alternate=null,UJ(t)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(t=r.stateNode,t!==null&&(delete t[nf],delete t[pb],delete t[A7],delete t[o0e],delete t[l0e])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function HJ(r){return r.tag===5||r.tag===3||r.tag===4}function Uj(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||HJ(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function k7(r,t,e){var n=r.tag;if(n===5||n===6)r=r.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(r,t):e.insertBefore(r,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(r,e)):(t=e,t.appendChild(r)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=pS));else if(n!==4&&(r=r.child,r!==null))for(k7(r,t,e),r=r.sibling;r!==null;)k7(r,t,e),r=r.sibling}function N7(r,t,e){var n=r.tag;if(n===5||n===6)r=r.stateNode,t?e.insertBefore(r,t):e.appendChild(r);else if(n!==4&&(r=r.child,r!==null))for(N7(r,t,e),r=r.sibling;r!==null;)N7(r,t,e),r=r.sibling}var _s=null,rc=!1;function wd(r,t,e){for(e=e.child;e!==null;)QJ(r,t,e),e=e.sibling}function QJ(r,t,e){if(gf&&typeof gf.onCommitFiberUnmount=="function")try{gf.onCommitFiberUnmount(CC,e)}catch{}switch(e.tag){case 5:io||wv(e,t);case 6:var n=_s,i=rc;_s=null,wd(r,t,e),_s=n,rc=i,_s!==null&&(rc?(r=_s,e=e.stateNode,r.nodeType===8?r.parentNode.removeChild(e):r.removeChild(e)):_s.removeChild(e.stateNode));break;case 18:_s!==null&&(rc?(r=_s,e=e.stateNode,r.nodeType===8?OB(r.parentNode,e):r.nodeType===1&&OB(r,e),cb(r)):OB(_s,e.stateNode));break;case 4:n=_s,i=rc,_s=e.stateNode.containerInfo,rc=!0,wd(r,t,e),_s=n,rc=i;break;case 0:case 11:case 14:case 15:if(!io&&(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&T7(e,t,s),i=i.next}while(i!==n)}wd(r,t,e);break;case 1:if(!io&&(wv(e,t),n=e.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(o){qi(e,t,o)}wd(r,t,e);break;case 21:wd(r,t,e);break;case 22:e.mode&1?(io=(n=io)||e.memoizedState!==null,wd(r,t,e),io=n):wd(r,t,e);break;default:wd(r,t,e)}}function Hj(r){var t=r.updateQueue;if(t!==null){r.updateQueue=null;var e=r.stateNode;e===null&&(e=r.stateNode=new S0e),t.forEach(function(n){var i=L0e.bind(null,r,n);e.has(n)||(e.add(n),n.then(i,i))})}}function Qu(r,t){var e=t.deletions;if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];try{var a=r,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:_s=o.stateNode,rc=!1;break e;case 3:_s=o.stateNode.containerInfo,rc=!0;break e;case 4:_s=o.stateNode.containerInfo,rc=!0;break e}o=o.return}if(_s===null)throw Error(Wt(160));QJ(a,s,i),_s=null,rc=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){qi(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zJ(t,r),t=t.sibling}function zJ(r,t){var e=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Qu(t,r),Pc(r),n&4){try{b2(3,r,r.return),MC(3,r)}catch(p){qi(r,r.return,p)}try{b2(5,r,r.return)}catch(p){qi(r,r.return,p)}}break;case 1:Qu(t,r),Pc(r),n&512&&e!==null&&wv(e,e.return);break;case 5:if(Qu(t,r),Pc(r),n&512&&e!==null&&wv(e,e.return),r.flags&32){var i=r.stateNode;try{sb(i,"")}catch(p){qi(r,r.return,p)}}if(n&4&&(i=r.stateNode,i!=null)){var a=r.memoizedProps,s=e!==null?e.memoizedProps:a,o=r.type,l=r.updateQueue;if(r.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&fZ(i,a),e7(o,s);var u=e7(o,a);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?gZ(i,f):c==="dangerouslySetInnerHTML"?AZ(i,f):c==="children"?sb(i,f):BL(i,c,f,u)}switch(o){case"input":qN(i,a);break;case"textarea":hZ(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var d=a.value;d!=null?Lv(i,!!a.multiple,d,!1):h!==!!a.multiple&&(a.defaultValue!=null?Lv(i,!!a.multiple,a.defaultValue,!0):Lv(i,!!a.multiple,a.multiple?[]:"",!1))}i[pb]=a}catch(p){qi(r,r.return,p)}}break;case 6:if(Qu(t,r),Pc(r),n&4){if(r.stateNode===null)throw Error(Wt(162));i=r.stateNode,a=r.memoizedProps;try{i.nodeValue=a}catch(p){qi(r,r.return,p)}}break;case 3:if(Qu(t,r),Pc(r),n&4&&e!==null&&e.memoizedState.isDehydrated)try{cb(t.containerInfo)}catch(p){qi(r,r.return,p)}break;case 4:Qu(t,r),Pc(r);break;case 13:Qu(t,r),Pc(r),i=r.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(aD=da())),n&4&&Hj(r);break;case 22:if(c=e!==null&&e.memoizedState!==null,r.mode&1?(io=(u=io)||c,Qu(t,r),io=u):Qu(t,r),Pc(r),n&8192){if(u=r.memoizedState!==null,(r.stateNode.isHidden=u)&&!c&&r.mode&1)for(gr=r,c=r.child;c!==null;){for(f=gr=c;gr!==null;){switch(h=gr,d=h.child,h.tag){case 0:case 11:case 14:case 15:b2(4,h,h.return);break;case 1:wv(h,h.return);var A=h.stateNode;if(typeof A.componentWillUnmount=="function"){n=h,e=h.return;try{t=n,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(p){qi(n,e,p)}}break;case 5:wv(h,h.return);break;case 22:if(h.memoizedState!==null){zj(f);continue}}d!==null?(d.return=h,gr=d):zj(f)}c=c.sibling}e:for(c=null,f=r;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=pZ("display",s))}catch(p){qi(r,r.return,p)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){qi(r,r.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===r)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qu(t,r),Pc(r),n&4&&Hj(r);break;case 21:break;default:Qu(t,r),Pc(r)}}function Pc(r){var t=r.flags;if(t&2){try{e:{for(var e=r.return;e!==null;){if(HJ(e)){var n=e;break e}e=e.return}throw Error(Wt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(sb(i,""),n.flags&=-33);var a=Uj(r);N7(r,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=Uj(r);k7(r,o,s);break;default:throw Error(Wt(161))}}catch(l){qi(r,r.return,l)}r.flags&=-3}t&4096&&(r.flags&=-4097)}function B0e(r,t,e){gr=r,VJ(r)}function VJ(r,t,e){for(var n=(r.mode&1)!==0;gr!==null;){var i=gr,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||i5;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||io;o=i5;var u=io;if(i5=s,(io=l)&&!u)for(gr=i;gr!==null;)s=gr,l=s.child,s.tag===22&&s.memoizedState!==null?Vj(i):l!==null?(l.return=s,gr=l):Vj(i);for(;a!==null;)gr=a,VJ(a),a=a.sibling;gr=i,i5=o,io=u}Qj(r)}else i.subtreeFlags&8772&&a!==null?(a.return=i,gr=a):Qj(r)}}function Qj(r){for(;gr!==null;){var t=gr;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:io||MC(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!io)if(e===null)n.componentDidMount();else{var i=t.elementType===t.type?e.memoizedProps:Zu(t.type,e.memoizedProps);n.componentDidUpdate(i,e.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Bj(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}Bj(t,s,e)}break;case 5:var o=t.stateNode;if(e===null&&t.flags&4){e=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&e.focus();break;case"img":l.src&&(e.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&cb(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Wt(163))}io||t.flags&512&&E7(t)}catch(h){qi(t,t.return,h)}}if(t===r){gr=null;break}if(e=t.sibling,e!==null){e.return=t.return,gr=e;break}gr=t.return}}function zj(r){for(;gr!==null;){var t=gr;if(t===r){gr=null;break}var e=t.sibling;if(e!==null){e.return=t.return,gr=e;break}gr=t.return}}function Vj(r){for(;gr!==null;){var t=gr;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{MC(4,t)}catch(l){qi(t,e,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){qi(t,i,l)}}var a=t.return;try{E7(t)}catch(l){qi(t,a,l)}break;case 5:var s=t.return;try{E7(t)}catch(l){qi(t,s,l)}}}catch(l){qi(t,t.return,l)}if(t===r){gr=null;break}var o=t.sibling;if(o!==null){o.return=t.return,gr=o;break}gr=t.return}}var T0e=Math.ceil,BS=ed.ReactCurrentDispatcher,nD=ed.ReactCurrentOwner,_u=ed.ReactCurrentBatchConfig,Mn=0,ps=null,ka=null,Ls=0,Sl=0,_v=o0(0),qa=0,bb=null,gg=0,LC=0,iD=0,w2=null,Wo=null,aD=0,_1=1/0,oh=null,TS=!1,F7=null,EA=null,a5=!1,lA=null,ES=0,_2=0,I7=null,C3=-1,B3=0;function ko(){return Mn&6?da():C3!==-1?C3:C3=da()}function kA(r){return r.mode&1?Mn&2&&Ls!==0?Ls&-Ls:c0e.transition!==null?(B3===0&&(B3=EZ()),B3):(r=ri,r!==0||(r=window.event,r=r===void 0?16:DZ(r.type)),r):1}function hc(r,t,e,n){if(50<_2)throw _2=0,I7=null,Error(Wt(185));Fw(r,e,n),(!(Mn&2)||r!==ps)&&(r===ps&&(!(Mn&2)&&(LC|=e),qa===4&&qd(r,Ls)),tl(r,n),e===1&&Mn===0&&!(t.mode&1)&&(_1=da()+500,NC&&l0()))}function tl(r,t){var e=r.callbackNode;cAe(r,t);var n=fS(r,r===ps?Ls:0);if(n===0)e!==null&&JO(e),r.callbackNode=null,r.callbackPriority=0;else if(t=n&-n,r.callbackPriority!==t){if(e!=null&&JO(e),t===1)r.tag===0?u0e(Gj.bind(null,r)):eJ(Gj.bind(null,r)),a0e(function(){!(Mn&6)&&l0()}),e=null;else{switch(kZ(n)){case 1:e=FL;break;case 4:e=BZ;break;case 16:e=cS;break;case 536870912:e=TZ;break;default:e=cS}e=ZJ(e,GJ.bind(null,r))}r.callbackPriority=t,r.callbackNode=e}}function GJ(r,t){if(C3=-1,B3=0,Mn&6)throw Error(Wt(327));var e=r.callbackNode;if(jv()&&r.callbackNode!==e)return null;var n=fS(r,r===ps?Ls:0);if(n===0)return null;if(n&30||n&r.expiredLanes||t)t=kS(r,n);else{t=n;var i=Mn;Mn|=2;var a=$J();(ps!==r||Ls!==t)&&(oh=null,_1=da()+500,Yp(r,t));do try{N0e();break}catch(o){WJ(r,o)}while(!0);VL(),BS.current=a,Mn=i,ka!==null?t=0:(ps=null,Ls=0,t=qa)}if(t!==0){if(t===2&&(i=a7(r),i!==0&&(n=i,t=M7(r,i))),t===1)throw e=bb,Yp(r,0),qd(r,n),tl(r,da()),e;if(t===6)qd(r,n);else{if(i=r.current.alternate,!(n&30)&&!E0e(i)&&(t=kS(r,n),t===2&&(a=a7(r),a!==0&&(n=a,t=M7(r,a))),t===1))throw e=bb,Yp(r,0),qd(r,n),tl(r,da()),e;switch(r.finishedWork=i,r.finishedLanes=n,t){case 0:case 1:throw Error(Wt(345));case 2:up(r,Wo,oh);break;case 3:if(qd(r,n),(n&130023424)===n&&(t=aD+500-da(),10<t)){if(fS(r,0)!==0)break;if(i=r.suspendedLanes,(i&n)!==n){ko(),r.pingedLanes|=r.suspendedLanes&i;break}r.timeoutHandle=d7(up.bind(null,r,Wo,oh),t);break}up(r,Wo,oh);break;case 4:if(qd(r,n),(n&4194240)===n)break;for(t=r.eventTimes,i=-1;0<n;){var s=31-fc(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=da()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*T0e(n/1960))-n,10<n){r.timeoutHandle=d7(up.bind(null,r,Wo,oh),n);break}up(r,Wo,oh);break;case 5:up(r,Wo,oh);break;default:throw Error(Wt(329))}}}return tl(r,da()),r.callbackNode===e?GJ.bind(null,r):null}function M7(r,t){var e=w2;return r.current.memoizedState.isDehydrated&&(Yp(r,t).flags|=256),r=kS(r,t),r!==2&&(t=Wo,Wo=e,t!==null&&L7(t)),r}function L7(r){Wo===null?Wo=r:Wo.push.apply(Wo,r)}function E0e(r){for(var t=r;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var n=0;n<e.length;n++){var i=e[n],a=i.getSnapshot;i=i.value;try{if(!vc(a(),i))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qd(r,t){for(t&=~iD,t&=~LC,r.suspendedLanes|=t,r.pingedLanes&=~t,r=r.expirationTimes;0<t;){var e=31-fc(t),n=1<<e;r[e]=-1,t&=~n}}function Gj(r){if(Mn&6)throw Error(Wt(327));jv();var t=fS(r,0);if(!(t&1))return tl(r,da()),null;var e=kS(r,t);if(r.tag!==0&&e===2){var n=a7(r);n!==0&&(t=n,e=M7(r,n))}if(e===1)throw e=bb,Yp(r,0),qd(r,t),tl(r,da()),e;if(e===6)throw Error(Wt(345));return r.finishedWork=r.current.alternate,r.finishedLanes=t,up(r,Wo,oh),tl(r,da()),null}function sD(r,t){var e=Mn;Mn|=1;try{return r(t)}finally{Mn=e,Mn===0&&(_1=da()+500,NC&&l0())}}function mg(r){lA!==null&&lA.tag===0&&!(Mn&6)&&jv();var t=Mn;Mn|=1;var e=_u.transition,n=ri;try{if(_u.transition=null,ri=1,r)return r()}finally{ri=n,_u.transition=e,Mn=t,!(Mn&6)&&l0()}}function oD(){Sl=_v.current,Ci(_v)}function Yp(r,t){r.finishedWork=null,r.finishedLanes=0;var e=r.timeoutHandle;if(e!==-1&&(r.timeoutHandle=-1,i0e(e)),ka!==null)for(e=ka.return;e!==null;){var n=e;switch(HL(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gS();break;case 3:b1(),Ci(Jo),Ci(fo),XL();break;case 5:qL(n);break;case 4:b1();break;case 13:Ci(Mi);break;case 19:Ci(Mi);break;case 10:GL(n.type._context);break;case 22:case 23:oD()}e=e.return}if(ps=r,ka=r=NA(r.current,null),Ls=Sl=t,qa=0,bb=null,iD=LC=gg=0,Wo=w2=null,Ep!==null){for(t=0;t<Ep.length;t++)if(e=Ep[t],n=e.interleaved,n!==null){e.interleaved=null;var i=n.next,a=e.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}e.pending=n}Ep=null}return r}function WJ(r,t){do{var e=ka;try{if(VL(),w3.current=CS,SS){for(var n=Di.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}SS=!1}if(pg=0,ls=Va=Di=null,x2=!1,vb=0,nD.current=null,e===null||e.return===null){qa=1,bb=t,ka=null;break}e:{var a=r,s=e.return,o=e,l=t;if(t=Ls,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=Ij(s);if(d!==null){d.flags&=-257,Mj(d,s,o,a,t),d.mode&1&&Fj(a,u,t),t=d,l=u;var A=t.updateQueue;if(A===null){var p=new Set;p.add(l),t.updateQueue=p}else A.add(l);break e}else{if(!(t&1)){Fj(a,u,t),lD();break e}l=Error(Wt(426))}}else if(ki&&o.mode&1){var g=Ij(s);if(g!==null){!(g.flags&65536)&&(g.flags|=256),Mj(g,s,o,a,t),QL(w1(l,o));break e}}a=l=w1(l,o),qa!==4&&(qa=2),w2===null?w2=[a]:w2.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=kJ(a,l,t);Cj(a,m);break e;case 1:o=l;var v=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(EA===null||!EA.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=NJ(a,o,t);Cj(a,b);break e}}a=a.return}while(a!==null)}qJ(e)}catch(_){t=_,ka===e&&e!==null&&(ka=e=e.return);continue}break}while(!0)}function $J(){var r=BS.current;return BS.current=CS,r===null?CS:r}function lD(){(qa===0||qa===3||qa===2)&&(qa=4),ps===null||!(gg&268435455)&&!(LC&268435455)||qd(ps,Ls)}function kS(r,t){var e=Mn;Mn|=2;var n=$J();(ps!==r||Ls!==t)&&(oh=null,Yp(r,t));do try{k0e();break}catch(i){WJ(r,i)}while(!0);if(VL(),Mn=e,BS.current=n,ka!==null)throw Error(Wt(261));return ps=null,Ls=0,qa}function k0e(){for(;ka!==null;)KJ(ka)}function N0e(){for(;ka!==null&&!tAe();)KJ(ka)}function KJ(r){var t=YJ(r.alternate,r,Sl);r.memoizedProps=r.pendingProps,t===null?qJ(r):ka=t,nD.current=null}function qJ(r){var t=r;do{var e=t.alternate;if(r=t.return,t.flags&32768){if(e=_0e(e,t),e!==null){e.flags&=32767,ka=e;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{qa=6,ka=null;return}}else if(e=w0e(e,t,Sl),e!==null){ka=e;return}if(t=t.sibling,t!==null){ka=t;return}ka=t=r}while(t!==null);qa===0&&(qa=5)}function up(r,t,e){var n=ri,i=_u.transition;try{_u.transition=null,ri=1,F0e(r,t,e,n)}finally{_u.transition=i,ri=n}return null}function F0e(r,t,e,n){do jv();while(lA!==null);if(Mn&6)throw Error(Wt(327));e=r.finishedWork;var i=r.finishedLanes;if(e===null)return null;if(r.finishedWork=null,r.finishedLanes=0,e===r.current)throw Error(Wt(177));r.callbackNode=null,r.callbackPriority=0;var a=e.lanes|e.childLanes;if(fAe(r,a),r===ps&&(ka=ps=null,Ls=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||a5||(a5=!0,ZJ(cS,function(){return jv(),null})),a=(e.flags&15990)!==0,e.subtreeFlags&15990||a){a=_u.transition,_u.transition=null;var s=ri;ri=1;var o=Mn;Mn|=4,nD.current=null,C0e(r,e),zJ(e,r),YAe(f7),hS=!!c7,f7=c7=null,r.current=e,B0e(e),rAe(),Mn=o,ri=s,_u.transition=a}else r.current=e;if(a5&&(a5=!1,lA=r,ES=i),a=r.pendingLanes,a===0&&(EA=null),aAe(e.stateNode),tl(r,da()),t!==null)for(n=r.onRecoverableError,e=0;e<t.length;e++)i=t[e],n(i.value,{componentStack:i.stack,digest:i.digest});if(TS)throw TS=!1,r=F7,F7=null,r;return ES&1&&r.tag!==0&&jv(),a=r.pendingLanes,a&1?r===I7?_2++:(_2=0,I7=r):_2=0,l0(),null}function jv(){if(lA!==null){var r=kZ(ES),t=_u.transition,e=ri;try{if(_u.transition=null,ri=16>r?16:r,lA===null)var n=!1;else{if(r=lA,lA=null,ES=0,Mn&6)throw Error(Wt(331));var i=Mn;for(Mn|=4,gr=r.current;gr!==null;){var a=gr,s=a.child;if(gr.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(gr=u;gr!==null;){var c=gr;switch(c.tag){case 0:case 11:case 15:b2(8,c,a)}var f=c.child;if(f!==null)f.return=c,gr=f;else for(;gr!==null;){c=gr;var h=c.sibling,d=c.return;if(UJ(c),c===u){gr=null;break}if(h!==null){h.return=d,gr=h;break}gr=d}}}var A=a.alternate;if(A!==null){var p=A.child;if(p!==null){A.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(p!==null)}}gr=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,gr=s;else e:for(;gr!==null;){if(a=gr,a.flags&2048)switch(a.tag){case 0:case 11:case 15:b2(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,gr=m;break e}gr=a.return}}var v=r.current;for(gr=v;gr!==null;){s=gr;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,gr=y;else e:for(s=v;gr!==null;){if(o=gr,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:MC(9,o)}}catch(_){qi(o,o.return,_)}if(o===s){gr=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,gr=b;break e}gr=o.return}}if(Mn=i,l0(),gf&&typeof gf.onPostCommitFiberRoot=="function")try{gf.onPostCommitFiberRoot(CC,r)}catch{}n=!0}return n}finally{ri=e,_u.transition=t}}return!1}function Wj(r,t,e){t=w1(e,t),t=kJ(r,t,1),r=TA(r,t,1),t=ko(),r!==null&&(Fw(r,1,t),tl(r,t))}function qi(r,t,e){if(r.tag===3)Wj(r,r,e);else for(;t!==null;){if(t.tag===3){Wj(t,r,e);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(EA===null||!EA.has(n))){r=w1(e,r),r=NJ(t,r,1),t=TA(t,r,1),r=ko(),t!==null&&(Fw(t,1,r),tl(t,r));break}}t=t.return}}function I0e(r,t,e){var n=r.pingCache;n!==null&&n.delete(t),t=ko(),r.pingedLanes|=r.suspendedLanes&e,ps===r&&(Ls&e)===e&&(qa===4||qa===3&&(Ls&130023424)===Ls&&500>da()-aD?Yp(r,0):iD|=e),tl(r,t)}function XJ(r,t){t===0&&(r.mode&1?(t=q_,q_<<=1,!(q_&130023424)&&(q_=4194304)):t=1);var e=ko();r=jh(r,t),r!==null&&(Fw(r,t,e),tl(r,e))}function M0e(r){var t=r.memoizedState,e=0;t!==null&&(e=t.retryLane),XJ(r,e)}function L0e(r,t){var e=0;switch(r.tag){case 13:var n=r.stateNode,i=r.memoizedState;i!==null&&(e=i.retryLane);break;case 19:n=r.stateNode;break;default:throw Error(Wt(314))}n!==null&&n.delete(t),XJ(r,e)}var YJ;YJ=function(r,t,e){if(r!==null)if(r.memoizedProps!==t.pendingProps||Jo.current)Yo=!0;else{if(!(r.lanes&e)&&!(t.flags&128))return Yo=!1,b0e(r,t,e);Yo=!!(r.flags&131072)}else Yo=!1,ki&&t.flags&1048576&&tJ(t,yS,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;S3(r,t),r=t.pendingProps;var i=v1(t,fo.current);Ov(t,e),i=ZL(null,t,n,r,i,e);var a=JL();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,el(n)?(a=!0,mS(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$L(t),i.updater=IC,t.stateNode=i,i._reactInternals=t,x7(t,n,r,e),t=_7(null,t,n,!0,a,e)):(t.tag=0,ki&&a&&UL(t),wo(null,t,i,e),t=t.child),t;case 16:n=t.elementType;e:{switch(S3(r,t),r=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=P0e(n),r=Zu(n,r),i){case 0:t=w7(null,t,n,r,e);break e;case 1:t=Pj(null,t,n,r,e);break e;case 11:t=Lj(null,t,n,r,e);break e;case 14:t=Dj(null,t,n,Zu(n.type,r),e);break e}throw Error(Wt(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zu(n,i),w7(r,t,n,i,e);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zu(n,i),Pj(r,t,n,i,e);case 3:e:{if(LJ(t),r===null)throw Error(Wt(387));n=t.pendingProps,a=t.memoizedState,i=a.element,oJ(r,t),wS(t,n,null,e);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=w1(Error(Wt(423)),t),t=Rj(r,t,n,e,i);break e}else if(n!==i){i=w1(Error(Wt(424)),t),t=Rj(r,t,n,e,i);break e}else for(Il=BA(t.stateNode.containerInfo.firstChild),jl=t,ki=!0,ic=null,e=aJ(t,null,n,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(y1(),n===i){t=Uh(r,t,e);break e}wo(r,t,n,e)}t=t.child}return t;case 5:return lJ(t),r===null&&m7(t),n=t.type,i=t.pendingProps,a=r!==null?r.memoizedProps:null,s=i.children,h7(n,i)?s=null:a!==null&&h7(n,a)&&(t.flags|=32),MJ(r,t),wo(r,t,s,e),t.child;case 6:return r===null&&m7(t),null;case 13:return DJ(r,t,e);case 4:return KL(t,t.stateNode.containerInfo),n=t.pendingProps,r===null?t.child=x1(t,null,n,e):wo(r,t,n,e),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zu(n,i),Lj(r,t,n,i,e);case 7:return wo(r,t,t.pendingProps,e),t.child;case 8:return wo(r,t,t.pendingProps.children,e),t.child;case 12:return wo(r,t,t.pendingProps.children,e),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,xi(xS,n._currentValue),n._currentValue=s,a!==null)if(vc(a.value,s)){if(a.children===i.children&&!Jo.current){t=Uh(r,t,e);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Bh(-1,e&-e),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=e,l=a.alternate,l!==null&&(l.lanes|=e),v7(a.return,e,t),o.lanes|=e;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Wt(341));s.lanes|=e,o=s.alternate,o!==null&&(o.lanes|=e),v7(s,e,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}wo(r,t,i.children,e),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ov(t,e),i=Bu(i),n=n(i),t.flags|=1,wo(r,t,n,e),t.child;case 14:return n=t.type,i=Zu(n,t.pendingProps),i=Zu(n.type,i),Dj(r,t,n,i,e);case 15:return FJ(r,t,t.type,t.pendingProps,e);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zu(n,i),S3(r,t),t.tag=1,el(n)?(r=!0,mS(t)):r=!1,Ov(t,e),EJ(t,n,i),x7(t,n,i,e),_7(null,t,n,!0,r,e);case 19:return PJ(r,t,e);case 22:return IJ(r,t,e)}throw Error(Wt(156,t.tag))};function ZJ(r,t){return CZ(r,t)}function D0e(r,t,e,n){this.tag=r,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xu(r,t,e,n){return new D0e(r,t,e,n)}function uD(r){return r=r.prototype,!(!r||!r.isReactComponent)}function P0e(r){if(typeof r=="function")return uD(r)?1:0;if(r!=null){if(r=r.$$typeof,r===EL)return 11;if(r===kL)return 14}return 2}function NA(r,t){var e=r.alternate;return e===null?(e=xu(r.tag,t,r.key,r.mode),e.elementType=r.elementType,e.type=r.type,e.stateNode=r.stateNode,e.alternate=r,r.alternate=e):(e.pendingProps=t,e.type=r.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=r.flags&14680064,e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=r.sibling,e.index=r.index,e.ref=r.ref,e}function T3(r,t,e,n,i,a){var s=2;if(n=r,typeof r=="function")uD(r)&&(s=1);else if(typeof r=="string")s=5;else e:switch(r){case dv:return Zp(e.children,i,a,t);case TL:s=8,i|=8;break;case VN:return r=xu(12,e,t,i|2),r.elementType=VN,r.lanes=a,r;case GN:return r=xu(13,e,t,i),r.elementType=GN,r.lanes=a,r;case WN:return r=xu(19,e,t,i),r.elementType=WN,r.lanes=a,r;case lZ:return DC(e,i,a,t);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case sZ:s=10;break e;case oZ:s=9;break e;case EL:s=11;break e;case kL:s=14;break e;case Qd:s=16,n=null;break e}throw Error(Wt(130,r==null?r:typeof r,""))}return t=xu(s,e,t,i),t.elementType=r,t.type=n,t.lanes=a,t}function Zp(r,t,e,n){return r=xu(7,r,n,t),r.lanes=e,r}function DC(r,t,e,n){return r=xu(22,r,n,t),r.elementType=lZ,r.lanes=e,r.stateNode={isHidden:!1},r}function WB(r,t,e){return r=xu(6,r,null,t),r.lanes=e,r}function $B(r,t,e){return t=xu(4,r.children!==null?r.children:[],r.key,t),t.lanes=e,t.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},t}function R0e(r,t,e,n,i){this.tag=t,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=TB(0),this.expirationTimes=TB(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=TB(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cD(r,t,e,n,i,a,s,o,l){return r=new R0e(r,t,e,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=xu(3,null,null,t),r.current=a,a.stateNode=r,a.memoizedState={element:n,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},$L(a),r}function O0e(r,t,e){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hv,key:n==null?null:""+n,children:r,containerInfo:t,implementation:e}}function JJ(r){if(!r)return KA;r=r._reactInternals;e:{if(Rg(r)!==r||r.tag!==1)throw Error(Wt(170));var t=r;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(el(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Wt(171))}if(r.tag===1){var e=r.type;if(el(e))return JZ(r,e,t)}return t}function eee(r,t,e,n,i,a,s,o,l){return r=cD(e,n,!0,r,i,a,s,o,l),r.context=JJ(null),e=r.current,n=ko(),i=kA(e),a=Bh(n,i),a.callback=t??null,TA(e,a,i),r.current.lanes=i,Fw(r,i,n),tl(r,n),r}function PC(r,t,e,n){var i=t.current,a=ko(),s=kA(i);return e=JJ(e),t.context===null?t.context=e:t.pendingContext=e,t=Bh(a,s),t.payload={element:r},n=n===void 0?null:n,n!==null&&(t.callback=n),r=TA(i,t,s),r!==null&&(hc(r,i,s,a),b3(r,i,s)),s}function NS(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function $j(r,t){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var e=r.retryLane;r.retryLane=e!==0&&e<t?e:t}}function fD(r,t){$j(r,t),(r=r.alternate)&&$j(r,t)}function j0e(){return null}var tee=typeof reportError=="function"?reportError:function(r){console.error(r)};function hD(r){this._internalRoot=r}RC.prototype.render=hD.prototype.render=function(r){var t=this._internalRoot;if(t===null)throw Error(Wt(409));PC(r,t,null,null)};RC.prototype.unmount=hD.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var t=r.containerInfo;mg(function(){PC(null,r,null,null)}),t[Oh]=null}};function RC(r){this._internalRoot=r}RC.prototype.unstable_scheduleHydration=function(r){if(r){var t=IZ();r={blockedOn:null,target:r,priority:t};for(var e=0;e<Kd.length&&t!==0&&t<Kd[e].priority;e++);Kd.splice(e,0,r),e===0&&LZ(r)}};function dD(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function OC(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Kj(){}function U0e(r,t,e,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=NS(s);a.call(u)}}var s=eee(t,n,r,0,null,!1,!1,"",Kj);return r._reactRootContainer=s,r[Oh]=s.current,db(r.nodeType===8?r.parentNode:r),mg(),s}for(;i=r.lastChild;)r.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=NS(l);o.call(u)}}var l=cD(r,0,!1,null,null,!1,!1,"",Kj);return r._reactRootContainer=l,r[Oh]=l.current,db(r.nodeType===8?r.parentNode:r),mg(function(){PC(t,l,e,n)}),l}function jC(r,t,e,n,i){var a=e._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=NS(s);o.call(l)}}PC(t,s,r,i)}else s=U0e(e,t,r,i,n);return NS(s)}NZ=function(r){switch(r.tag){case 3:var t=r.stateNode;if(t.current.memoizedState.isDehydrated){var e=Qx(t.pendingLanes);e!==0&&(IL(t,e|1),tl(t,da()),!(Mn&6)&&(_1=da()+500,l0()))}break;case 13:mg(function(){var n=jh(r,1);if(n!==null){var i=ko();hc(n,r,1,i)}}),fD(r,1)}};ML=function(r){if(r.tag===13){var t=jh(r,134217728);if(t!==null){var e=ko();hc(t,r,134217728,e)}fD(r,134217728)}};FZ=function(r){if(r.tag===13){var t=kA(r),e=jh(r,t);if(e!==null){var n=ko();hc(e,r,t,n)}fD(r,t)}};IZ=function(){return ri};MZ=function(r,t){var e=ri;try{return ri=r,t()}finally{ri=e}};r7=function(r,t,e){switch(t){case"input":if(qN(r,e),t=e.name,e.type==="radio"&&t!=null){for(e=r;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var n=e[t];if(n!==r&&n.form===r.form){var i=kC(n);if(!i)throw Error(Wt(90));cZ(n),qN(n,i)}}}break;case"textarea":hZ(r,e);break;case"select":t=e.value,t!=null&&Lv(r,!!e.multiple,t,!1)}};yZ=sD;xZ=mg;var H0e={usingClientEntryPoint:!1,Events:[Mw,mv,kC,mZ,vZ,sD]},Yy={findFiberByHostInstance:Tp,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q0e={bundleType:Yy.bundleType,version:Yy.version,rendererPackageName:Yy.rendererPackageName,rendererConfig:Yy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ed.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=_Z(r),r===null?null:r.stateNode},findFiberByHostInstance:Yy.findFiberByHostInstance||j0e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var s5=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!s5.isDisabled&&s5.supportsFiber)try{CC=s5.inject(Q0e),gf=s5}catch{}}Vl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H0e;Vl.createPortal=function(r,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dD(t))throw Error(Wt(200));return O0e(r,t,null,e)};Vl.createRoot=function(r,t){if(!dD(r))throw Error(Wt(299));var e=!1,n="",i=tee;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=cD(r,1,!1,null,null,e,!1,n,i),r[Oh]=t.current,db(r.nodeType===8?r.parentNode:r),new hD(t)};Vl.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var t=r._reactInternals;if(t===void 0)throw typeof r.render=="function"?Error(Wt(188)):(r=Object.keys(r).join(","),Error(Wt(268,r)));return r=_Z(t),r=r===null?null:r.stateNode,r};Vl.flushSync=function(r){return mg(r)};Vl.hydrate=function(r,t,e){if(!OC(t))throw Error(Wt(200));return jC(null,r,t,!0,e)};Vl.hydrateRoot=function(r,t,e){if(!dD(r))throw Error(Wt(405));var n=e!=null&&e.hydratedSources||null,i=!1,a="",s=tee;if(e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),t=eee(t,null,r,1,e??null,i,!1,a,s),r[Oh]=t.current,db(r),n)for(r=0;r<n.length;r++)e=n[r],i=e._getVersion,i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i);return new RC(t)};Vl.render=function(r,t,e){if(!OC(t))throw Error(Wt(200));return jC(null,r,t,!1,e)};Vl.unmountComponentAtNode=function(r){if(!OC(r))throw Error(Wt(40));return r._reactRootContainer?(mg(function(){jC(null,null,r,!1,function(){r._reactRootContainer=null,r[Oh]=null})}),!0):!1};Vl.unstable_batchedUpdates=sD;Vl.unstable_renderSubtreeIntoContainer=function(r,t,e,n){if(!OC(e))throw Error(Wt(200));if(r==null||r._reactInternals===void 0)throw Error(Wt(38));return jC(r,t,e,!1,n)};Vl.version="18.3.1-next-f1338f8080-20240426";function ree(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ree)}catch(r){console.error(r)}}ree(),rZ.exports=Vl;var z0e=rZ.exports,nee,qj=z0e;nee=qj.createRoot,qj.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var V0e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0e=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Fr=(r,t)=>{const e=Ce.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...u},c)=>Ce.createElement("svg",{ref:c,...V0e,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${G0e(r)}`,o].join(" "),...u},[...t.map(([f,h])=>Ce.createElement(f,h)),...Array.isArray(l)?l:[l]]));return e.displayName=`${r}`,e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=Fr("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=Fr("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=Fr("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=Fr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=Fr("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=Fr("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=Fr("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=Fr("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=Fr("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=Fr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=Fr("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0e=Fr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=Fr("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=Fr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=Fr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Fr("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=Fr("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=Fr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0e=Fr("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=Fr("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0e=Fr("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Fr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=Fr("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0e=Fr("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0e=Fr("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=Fr("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0e=Fr("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=Fr("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=Fr("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0e=Fr("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0e=Fr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=Fr("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const epe=Fr("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tpe=Fr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=Fr("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=Fr("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=Fr("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=Fr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=Fr("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=Fr("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=Fr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=Fr("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rpe=Fr("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const npe=Fr("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ipe=Fr("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=Fr("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=Fr("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=Fr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=Fr("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=Fr("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=Fr("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ape=Fr("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const spe=Fr("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=Fr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ope=Fr("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=Fr("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=Fr("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=Fr("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=Fr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var R7=function(r,t){return R7=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},R7(r,t)};function Ge(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");R7(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var S2=function(){return S2=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},S2.apply(this,arguments)};function lpe(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e}function rU(r,t,e,n){function i(a){return a instanceof e?a:new e(function(s){s(a)})}return new(e||(e=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(r,[])).next())})}function nU(r,t){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){e.label=u[1];break}if(u[0]===6&&e.label<a[1]){e.label=a[1],a=u;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(u);break}a[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(r,e)}catch(c){u=[6,c],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var upe=function(){function r(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return r}(),cpe=function(){function r(){this.browser=new upe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return r}(),Zr=new cpe;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Zr.wxa=!0,Zr.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Zr.worker=!0:!Zr.hasGlobalWindow||"Deno"in window||typeof navigator<"u"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Node.js")>-1?(Zr.node=!0,Zr.svgSupported=!0):fpe(navigator.userAgent,Zr);function fpe(r,t){var e=t.browser,n=r.match(/Firefox\/([\d.]+)/),i=r.match(/MSIE\s([\d.]+)/)||r.match(/Trident\/.+?rv:(([\d.]+))/),a=r.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(r);n&&(e.firefox=!0,e.version=n[1]),i&&(e.ie=!0,e.version=i[1]),a&&(e.edge=!0,e.version=a[1],e.newEdge=+a[1].split(".")[0]>18),s&&(e.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,t.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11);var o=t.domSupported=typeof document<"u";if(o){var l=document.documentElement.style;t.transform3dSupported=(e.ie&&"transition"in l||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in l)&&!("OTransition"in l),t.transformSupported=t.transform3dSupported||e.ie&&+e.version>=9}}var yD=12,cee="sans-serif",Hh=yD+"px "+cee,hpe=20,dpe=100,Ape="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function ppe(r){var t={};if(typeof JSON>"u")return t;for(var e=0;e<r.length;e++){var n=String.fromCharCode(e+32),i=(r.charCodeAt(e)-hpe)/dpe;t[n]=i}return t}var gpe=ppe(Ape),il={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var r,t;return function(e,n){if(!r){var i=il.createCanvas();r=i&&i.getContext("2d")}if(r)return t!==n&&(t=r.font=n||Hh),r.measureText(e);e=e||"",n=n||Hh;var a=/((?:\d+)?\.?\d*)px/.exec(n),s=a&&+a[1]||yD,o=0;if(n.indexOf("mono")>=0)o=s*e.length;else for(var l=0;l<e.length;l++){var u=gpe[e[l]];o+=u==null?s:u*s}return{width:o}}}(),loadImage:function(r,t,e){var n=new Image;return n.onload=t,n.onerror=e,n.src=r,n}};function fee(r){for(var t in il)r[t]&&(il[t]=r[t])}var hee=Eu(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(r,t){return r["[object "+t+"]"]=!0,r},{}),dee=Eu(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(r,t){return r["[object "+t+"Array]"]=!0,r},{}),X1=Object.prototype.toString,HC=Array.prototype,mpe=HC.forEach,vpe=HC.filter,xD=HC.slice,ype=HC.map,iU=(function(){}).constructor,l5=iU?iU.prototype:null,bD="__proto__",xpe=2311;function wD(){return xpe++}function QC(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];typeof console<"u"&&console.error.apply(console,r)}function nr(r){if(r==null||typeof r!="object")return r;var t=r,e=X1.call(r);if(e==="[object Array]"){if(!Hv(r)){t=[];for(var n=0,i=r.length;n<i;n++)t[n]=nr(r[n])}}else if(dee[e]){if(!Hv(r)){var a=r.constructor;if(a.from)t=a.from(r);else{t=new a(r.length);for(var n=0,i=r.length;n<i;n++)t[n]=r[n]}}}else if(!hee[e]&&!Hv(r)&&!vg(r)){t={};for(var s in r)r.hasOwnProperty(s)&&s!==bD&&(t[s]=nr(r[s]))}return t}function Dr(r,t,e){if(!or(t)||!or(r))return e?nr(t):r;for(var n in t)if(t.hasOwnProperty(n)&&n!==bD){var i=r[n],a=t[n];or(a)&&or(i)&&!xt(a)&&!xt(i)&&!vg(a)&&!vg(i)&&!O7(a)&&!O7(i)&&!Hv(a)&&!Hv(i)?Dr(i,a,e):(e||!(n in r))&&(r[n]=nr(t[n]))}return r}function zC(r,t){for(var e=r[0],n=1,i=r.length;n<i;n++)e=Dr(e,r[n],t);return e}function pt(r,t){if(Object.assign)Object.assign(r,t);else for(var e in t)t.hasOwnProperty(e)&&e!==bD&&(r[e]=t[e]);return r}function sr(r,t,e){for(var n=en(t),i=0,a=n.length;i<a;i++){var s=n[i];(e?t[s]!=null:r[s]==null)&&(r[s]=t[s])}return r}var bpe=il.createCanvas;function Lr(r,t){if(r){if(r.indexOf)return r.indexOf(t);for(var e=0,n=r.length;e<n;e++)if(r[e]===t)return e}return-1}function _D(r,t){var e=r.prototype;function n(){}n.prototype=t.prototype,r.prototype=new n;for(var i in e)e.hasOwnProperty(i)&&(r.prototype[i]=e[i]);r.prototype.constructor=r,r.superClass=t}function Ui(r,t,e){if(r="prototype"in r?r.prototype:r,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var a=n[i];a!=="constructor"&&(e?t[a]!=null:r[a]==null)&&(r[a]=t[a])}else sr(r,t,e)}function Os(r){return!r||typeof r=="string"?!1:typeof r.length=="number"}function se(r,t,e){if(r&&t)if(r.forEach&&r.forEach===mpe)r.forEach(t,e);else if(r.length===+r.length)for(var n=0,i=r.length;n<i;n++)t.call(e,r[n],n,r);else for(var a in r)r.hasOwnProperty(a)&&t.call(e,r[a],a,r)}function wt(r,t,e){if(!r)return[];if(!t)return VC(r);if(r.map&&r.map===ype)return r.map(t,e);for(var n=[],i=0,a=r.length;i<a;i++)n.push(t.call(e,r[i],i,r));return n}function Eu(r,t,e,n){if(r&&t){for(var i=0,a=r.length;i<a;i++)e=t.call(n,e,r[i],i,r);return e}}function dn(r,t,e){if(!r)return[];if(!t)return VC(r);if(r.filter&&r.filter===vpe)return r.filter(t,e);for(var n=[],i=0,a=r.length;i<a;i++)t.call(e,r[i],i,r)&&n.push(r[i]);return n}function c0(r,t,e){if(r&&t){for(var n=0,i=r.length;n<i;n++)if(t.call(e,r[n],n,r))return r[n]}}function en(r){if(!r)return[];if(Object.keys)return Object.keys(r);var t=[];for(var e in r)r.hasOwnProperty(e)&&t.push(e);return t}function wpe(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];return function(){return r.apply(t,e.concat(xD.call(arguments)))}}var Qt=l5&&rr(l5.bind)?l5.call.bind(l5.bind):wpe;function Nr(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){return r.apply(this,t.concat(xD.call(arguments)))}}function xt(r){return Array.isArray?Array.isArray(r):X1.call(r)==="[object Array]"}function rr(r){return typeof r=="function"}function Ht(r){return typeof r=="string"}function FS(r){return X1.call(r)==="[object String]"}function an(r){return typeof r=="number"}function or(r){var t=typeof r;return t==="function"||!!r&&t==="object"}function O7(r){return!!hee[X1.call(r)]}function Mo(r){return!!dee[X1.call(r)]}function vg(r){return typeof r=="object"&&typeof r.nodeType=="number"&&typeof r.ownerDocument=="object"}function Dw(r){return r.colorStops!=null}function Aee(r){return r.image!=null}function pee(r){return X1.call(r)==="[object RegExp]"}function Ds(r){return r!==r}function hs(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var e=0,n=r.length;e<n;e++)if(r[e]!=null)return r[e]}function Zt(r,t){return r??t}function rl(r,t,e){return r??t??e}function VC(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return xD.apply(r,t)}function Pw(r){if(typeof r=="number")return[r,r,r,r];var t=r.length;return t===2?[r[0],r[1],r[0],r[1]]:t===3?[r[0],r[1],r[2],r[1]]:r}function js(r,t){if(!r)throw new Error(t)}function Ml(r){return r==null?null:typeof r.trim=="function"?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var gee="__ec_primitive__";function _b(r){r[gee]=!0}function Hv(r){return r[gee]}var _pe=function(){function r(){this.data={}}return r.prototype.delete=function(t){var e=this.has(t);return e&&delete this.data[t],e},r.prototype.has=function(t){return this.data.hasOwnProperty(t)},r.prototype.get=function(t){return this.data[t]},r.prototype.set=function(t,e){return this.data[t]=e,this},r.prototype.keys=function(){return en(this.data)},r.prototype.forEach=function(t){var e=this.data;for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},r}(),mee=typeof Map=="function";function Spe(){return mee?new Map:new _pe}var vee=function(){function r(t){var e=xt(t);this.data=Spe();var n=this;t instanceof r?t.each(i):t&&se(t,i);function i(a,s){e?n.set(a,s):n.set(s,a)}}return r.prototype.hasKey=function(t){return this.data.has(t)},r.prototype.get=function(t){return this.data.get(t)},r.prototype.set=function(t,e){return this.data.set(t,e),e},r.prototype.each=function(t,e){this.data.forEach(function(n,i){t.call(e,n,i)})},r.prototype.keys=function(){var t=this.data.keys();return mee?Array.from(t):t},r.prototype.removeKey=function(t){this.data.delete(t)},r}();function Xt(r){return new vee(r)}function S1(r,t){for(var e=new r.constructor(r.length+t.length),n=0;n<r.length;n++)e[n]=r[n];for(var i=r.length,n=0;n<t.length;n++)e[n+i]=t[n];return e}function Rw(r,t){var e;if(Object.create)e=Object.create(r);else{var n=function(){};n.prototype=r,e=new n}return t&&pt(e,t),e}function SD(r){var t=r.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function Kt(r,t){return r.hasOwnProperty(t)}function Ri(){}var C2=180/Math.PI,Cpe=Number.EPSILON||Math.pow(2,-52);const Bpe=Object.freeze(Object.defineProperty({__proto__:null,EPSILON:Cpe,HashMap:vee,RADIAN_TO_DEGREE:C2,assert:js,bind:Qt,clone:nr,concatArray:S1,createCanvas:bpe,createHashMap:Xt,createObject:Rw,curry:Nr,defaults:sr,disableUserSelect:SD,each:se,eqNaN:Ds,extend:pt,filter:dn,find:c0,guid:wD,hasOwn:Kt,indexOf:Lr,inherits:_D,isArray:xt,isArrayLike:Os,isBuiltInObject:O7,isDom:vg,isFunction:rr,isGradientObject:Dw,isImagePatternObject:Aee,isNumber:an,isObject:or,isPrimitive:Hv,isRegExp:pee,isString:Ht,isStringSafe:FS,isTypedArray:Mo,keys:en,logError:QC,map:wt,merge:Dr,mergeAll:zC,mixin:Ui,noop:Ri,normalizeCssArray:Pw,reduce:Eu,retrieve:hs,retrieve2:Zt,retrieve3:rl,setAsPrimitive:_b,slice:VC,trim:Ml},Symbol.toStringTag,{value:"Module"}));function f0(r,t){return r==null&&(r=0),t==null&&(t=0),[r,t]}function to(r,t){return r[0]=t[0],r[1]=t[1],r}function yf(r){return[r[0],r[1]]}function GC(r,t,e){return r[0]=t,r[1]=e,r}function j7(r,t,e){return r[0]=t[0]+e[0],r[1]=t[1]+e[1],r}function IS(r,t,e,n){return r[0]=t[0]+e[0]*n,r[1]=t[1]+e[1]*n,r}function uA(r,t,e){return r[0]=t[0]-e[0],r[1]=t[1]-e[1],r}function Sb(r){return Math.sqrt(CD(r))}var Tpe=Sb;function CD(r){return r[0]*r[0]+r[1]*r[1]}var Epe=CD;function kpe(r,t,e){return r[0]=t[0]*e[0],r[1]=t[1]*e[1],r}function Npe(r,t,e){return r[0]=t[0]/e[0],r[1]=t[1]/e[1],r}function Fpe(r,t){return r[0]*t[0]+r[1]*t[1]}function B2(r,t,e){return r[0]=t[0]*e,r[1]=t[1]*e,r}function Og(r,t){var e=Sb(t);return e===0?(r[0]=0,r[1]=0):(r[0]=t[0]/e,r[1]=t[1]/e),r}function MS(r,t){return Math.sqrt((r[0]-t[0])*(r[0]-t[0])+(r[1]-t[1])*(r[1]-t[1]))}var xh=MS;function yee(r,t){return(r[0]-t[0])*(r[0]-t[0])+(r[1]-t[1])*(r[1]-t[1])}var FA=yee;function Ipe(r,t){return r[0]=-t[0],r[1]=-t[1],r}function T2(r,t,e,n){return r[0]=t[0]+n*(e[0]-t[0]),r[1]=t[1]+n*(e[1]-t[1]),r}function Oi(r,t,e){var n=t[0],i=t[1];return r[0]=e[0]*n+e[2]*i+e[4],r[1]=e[1]*n+e[3]*i+e[5],r}function bh(r,t,e){return r[0]=Math.min(t[0],e[0]),r[1]=Math.min(t[1],e[1]),r}function wh(r,t,e){return r[0]=Math.max(t[0],e[0]),r[1]=Math.max(t[1],e[1]),r}const Mpe=Object.freeze(Object.defineProperty({__proto__:null,add:j7,applyTransform:Oi,clone:yf,copy:to,create:f0,dist:xh,distSquare:FA,distance:MS,distanceSquare:yee,div:Npe,dot:Fpe,len:Sb,lenSquare:CD,length:Tpe,lengthSquare:Epe,lerp:T2,max:wh,min:bh,mul:kpe,negate:Ipe,normalize:Og,scale:B2,scaleAndAdd:IS,set:GC,sub:uA},Symbol.toStringTag,{value:"Module"}));var om=function(){function r(t,e){this.target=t,this.topTarget=e&&e.topTarget}return r}(),Lpe=function(){function r(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return r.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new om(e,t),"dragstart",t.event))},r.prototype._drag=function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,i=t.offsetY,a=n-this._x,s=i-this._y;this._x=n,this._y=i,e.drift(a,s,t),this.handler.dispatchToElement(new om(e,t),"drag",t.event);var o=this.handler.findHover(n,i,e).target,l=this._dropTarget;this._dropTarget=o,e!==o&&(l&&o!==l&&this.handler.dispatchToElement(new om(l,t),"dragleave",t.event),o&&o!==l&&this.handler.dispatchToElement(new om(o,t),"dragenter",t.event))}},r.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new om(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new om(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},r}(),Mu=function(){function r(t){t&&(this._$eventProcessor=t)}return r.prototype.on=function(t,e,n,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof e=="function"&&(i=n,n=e,e=null),!n||!t)return this;var s=this._$eventProcessor;e!=null&&s&&s.normalizeQuery&&(e=s.normalizeQuery(e)),a[t]||(a[t]=[]);for(var o=0;o<a[t].length;o++)if(a[t][o].h===n)return this;var l={h:n,query:e,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},u=a[t].length-1,c=a[t][u];return c&&c.callAtLast?a[t].splice(u,0,l):a[t].push(l),this},r.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},r.prototype.off=function(t,e){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var i=[],a=0,s=n[t].length;a<s;a++)n[t][a].h!==e&&i.push(n[t][a]);n[t]=i}n[t]&&n[t].length===0&&delete n[t]}else delete n[t];return this},r.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],a=this._$eventProcessor;if(i)for(var s=e.length,o=i.length,l=0;l<o;l++){var u=i[l];if(!(a&&a.filter&&u.query!=null&&!a.filter(t,u.query)))switch(s){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,e[0]);break;case 2:u.h.call(u.ctx,e[0],e[1]);break;default:u.h.apply(u.ctx,e);break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},r.prototype.triggerWithContext=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],a=this._$eventProcessor;if(i)for(var s=e.length,o=e[s-1],l=i.length,u=0;u<l;u++){var c=i[u];if(!(a&&a.filter&&c.query!=null&&!a.filter(t,c.query)))switch(s){case 0:c.h.call(o);break;case 1:c.h.call(o,e[0]);break;case 2:c.h.call(o,e[0],e[1]);break;default:c.h.apply(o,e.slice(1,s-1));break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},r}(),Dpe=Math.log(2);function U7(r,t,e,n,i,a){var s=n+"-"+i,o=r.length;if(a.hasOwnProperty(s))return a[s];if(t===1){var l=Math.round(Math.log((1<<o)-1&~i)/Dpe);return r[e][l]}for(var u=n|1<<e,c=e+1;n&1<<c;)c++;for(var f=0,h=0,d=0;h<o;h++){var A=1<<h;A&i||(f+=(d%2?-1:1)*r[e][h]*U7(r,t-1,c,u,i|A,a),d++)}return a[s]=f,f}function aU(r,t){var e=[[r[0],r[1],1,0,0,0,-t[0]*r[0],-t[0]*r[1]],[0,0,0,r[0],r[1],1,-t[1]*r[0],-t[1]*r[1]],[r[2],r[3],1,0,0,0,-t[2]*r[2],-t[2]*r[3]],[0,0,0,r[2],r[3],1,-t[3]*r[2],-t[3]*r[3]],[r[4],r[5],1,0,0,0,-t[4]*r[4],-t[4]*r[5]],[0,0,0,r[4],r[5],1,-t[5]*r[4],-t[5]*r[5]],[r[6],r[7],1,0,0,0,-t[6]*r[6],-t[6]*r[7]],[0,0,0,r[6],r[7],1,-t[7]*r[6],-t[7]*r[7]]],n={},i=U7(e,8,0,0,0,n);if(i!==0){for(var a=[],s=0;s<8;s++)for(var o=0;o<8;o++)a[o]==null&&(a[o]=0),a[o]+=((s+o)%2?-1:1)*U7(e,7,s===0?1:0,1<<s,1<<o,n)/i*t[s];return function(l,u,c){var f=u*a[6]+c*a[7]+1;l[0]=(u*a[0]+c*a[1]+a[2])/f,l[1]=(u*a[3]+c*a[4]+a[5])/f}}}var LS="___zrEVENTSAVED",YB=[];function Ppe(r,t,e,n,i){return H7(YB,t,n,i,!0)&&H7(r,e,YB[0],YB[1])}function Rpe(r,t){r&&e(r),t&&e(t);function e(n){var i=n[LS];i&&(i.clearMarkers&&i.clearMarkers(),delete n[LS])}}function H7(r,t,e,n,i){if(t.getBoundingClientRect&&Zr.domSupported&&!xee(t)){var a=t[LS]||(t[LS]={}),s=Ope(t,a),o=jpe(s,a,i);if(o)return o(r,e,n),!0}return!1}function Ope(r,t){var e=t.markers;if(e)return e;e=t.markers=[];for(var n=["left","right"],i=["top","bottom"],a=0;a<4;a++){var s=document.createElement("div"),o=s.style,l=a%2,u=(a>>1)%2;o.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",i[u]+":0",n[1-l]+":auto",i[1-u]+":auto",""].join("!important;"),r.appendChild(s),e.push(s)}return t.clearMarkers=function(){se(e,function(c){c.parentNode&&c.parentNode.removeChild(c)})},e}function jpe(r,t,e){for(var n=e?"invTrans":"trans",i=t[n],a=t.srcCoords,s=[],o=[],l=!0,u=0;u<4;u++){var c=r[u].getBoundingClientRect(),f=2*u,h=c.left,d=c.top;s.push(h,d),l=l&&a&&h===a[f]&&d===a[f+1],o.push(r[u].offsetLeft,r[u].offsetTop)}return l&&i?i:(t.srcCoords=s,t[n]=e?aU(o,s):aU(s,o))}function xee(r){return r.nodeName.toUpperCase()==="CANVAS"}var Upe=/([&<>"'])/g,Hpe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function so(r){return r==null?"":(r+"").replace(Upe,function(t,e){return Hpe[e]})}var Qpe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ZB=[],zpe=Zr.browser.firefox&&+Zr.browser.version.split(".")[0]<39;function Q7(r,t,e,n){return e=e||{},n?sU(r,t,e):zpe&&t.layerX!=null&&t.layerX!==t.offsetX?(e.zrX=t.layerX,e.zrY=t.layerY):t.offsetX!=null?(e.zrX=t.offsetX,e.zrY=t.offsetY):sU(r,t,e),e}function sU(r,t,e){if(Zr.domSupported&&r.getBoundingClientRect){var n=t.clientX,i=t.clientY;if(xee(r)){var a=r.getBoundingClientRect();e.zrX=n-a.left,e.zrY=i-a.top;return}else if(H7(ZB,r,n,i)){e.zrX=ZB[0],e.zrY=ZB[1];return}}e.zrX=e.zrY=0}function BD(r){return r||window.event}function au(r,t,e){if(t=BD(t),t.zrX!=null)return t;var n=t.type,i=n&&n.indexOf("touch")>=0;if(i){var s=n!=="touchend"?t.targetTouches[0]:t.changedTouches[0];s&&Q7(r,s,t,e)}else{Q7(r,t,t,e);var a=Vpe(t);t.zrDelta=a?a/120:-(t.detail||0)/3}var o=t.button;return t.which==null&&o!==void 0&&Qpe.test(t.type)&&(t.which=o&1?1:o&2?3:o&4?2:0),t}function Vpe(r){var t=r.wheelDelta;if(t)return t;var e=r.deltaX,n=r.deltaY;if(e==null||n==null)return t;var i=Math.abs(n!==0?n:e),a=n>0?-1:n<0?1:e>0?-1:1;return 3*i*a}function z7(r,t,e,n){r.addEventListener(t,e,n)}function Gpe(r,t,e,n){r.removeEventListener(t,e,n)}var Qh=function(r){r.preventDefault(),r.stopPropagation(),r.cancelBubble=!0};function oU(r){return r.which===2||r.which===3}var Wpe=function(){function r(){this._track=[]}return r.prototype.recognize=function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},r.prototype.clear=function(){return this._track.length=0,this},r.prototype._doTrack=function(t,e,n){var i=t.touches;if(i){for(var a={points:[],touches:[],target:e,event:t},s=0,o=i.length;s<o;s++){var l=i[s],u=Q7(n,l,{});a.points.push([u.zrX,u.zrY]),a.touches.push(l)}this._track.push(a)}},r.prototype._recognize=function(t){for(var e in JB)if(JB.hasOwnProperty(e)){var n=JB[e](this._track,t);if(n)return n}},r}();function lU(r){var t=r[1][0]-r[0][0],e=r[1][1]-r[0][1];return Math.sqrt(t*t+e*e)}function $pe(r){return[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]}var JB={pinch:function(r,t){var e=r.length;if(e){var n=(r[e-1]||{}).points,i=(r[e-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var a=lU(n)/lU(i);!isFinite(a)&&(a=1),t.pinchScale=a;var s=$pe(n);return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:r[0].target,event:t}}}}};function Ya(){return[1,0,0,1,0,0]}function Ow(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r}function jw(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function dc(r,t,e){var n=t[0]*e[0]+t[2]*e[1],i=t[1]*e[0]+t[3]*e[1],a=t[0]*e[2]+t[2]*e[3],s=t[1]*e[2]+t[3]*e[3],o=t[0]*e[4]+t[2]*e[5]+t[4],l=t[1]*e[4]+t[3]*e[5]+t[5];return r[0]=n,r[1]=i,r[2]=a,r[3]=s,r[4]=o,r[5]=l,r}function yc(r,t,e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4]+e[0],r[5]=t[5]+e[1],r}function td(r,t,e,n){n===void 0&&(n=[0,0]);var i=t[0],a=t[2],s=t[4],o=t[1],l=t[3],u=t[5],c=Math.sin(e),f=Math.cos(e);return r[0]=i*f+o*c,r[1]=-i*c+o*f,r[2]=a*f+l*c,r[3]=-a*c+f*l,r[4]=f*(s-n[0])+c*(u-n[1])+n[0],r[5]=f*(u-n[1])-c*(s-n[0])+n[1],r}function WC(r,t,e){var n=e[0],i=e[1];return r[0]=t[0]*n,r[1]=t[1]*i,r[2]=t[2]*n,r[3]=t[3]*i,r[4]=t[4]*n,r[5]=t[5]*i,r}function ku(r,t){var e=t[0],n=t[2],i=t[4],a=t[1],s=t[3],o=t[5],l=e*s-a*n;return l?(l=1/l,r[0]=s*l,r[1]=-a*l,r[2]=-n*l,r[3]=e*l,r[4]=(n*o-s*i)*l,r[5]=(a*i-e*o)*l,r):null}function bee(r){var t=Ya();return jw(t,r),t}const Kpe=Object.freeze(Object.defineProperty({__proto__:null,clone:bee,copy:jw,create:Ya,identity:Ow,invert:ku,mul:dc,rotate:td,scale:WC,translate:yc},Symbol.toStringTag,{value:"Module"}));var cr=function(){function r(t,e){this.x=t||0,this.y=e||0}return r.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.set=function(t,e){return this.x=t,this.y=e,this},r.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},r.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},r.prototype.scale=function(t){this.x*=t,this.y*=t},r.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},r.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},r.prototype.dot=function(t){return this.x*t.x+this.y*t.y},r.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},r.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},r.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},r.prototype.distanceSquare=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},r.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},r.prototype.transform=function(t){if(t){var e=this.x,n=this.y;return this.x=t[0]*e+t[2]*n+t[4],this.y=t[1]*e+t[3]*n+t[5],this}},r.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},r.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},r.set=function(t,e,n){t.x=e,t.y=n},r.copy=function(t,e){t.x=e.x,t.y=e.y},r.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},r.lenSquare=function(t){return t.x*t.x+t.y*t.y},r.dot=function(t,e){return t.x*e.x+t.y*e.y},r.add=function(t,e,n){t.x=e.x+n.x,t.y=e.y+n.y},r.sub=function(t,e,n){t.x=e.x-n.x,t.y=e.y-n.y},r.scale=function(t,e,n){t.x=e.x*n,t.y=e.y*n},r.scaleAndAdd=function(t,e,n,i){t.x=e.x+n.x*i,t.y=e.y+n.y*i},r.lerp=function(t,e,n,i){var a=1-i;t.x=a*e.x+i*n.x,t.y=a*e.y+i*n.y},r}(),Np=Math.min,Sv=Math.max,V7=Math.abs,uU=["x","y"],qpe=["width","height"],M0=new cr,L0=new cr,D0=new cr,P0=new cr,Bl=wee(),Vx=Bl.minTv,G7=Bl.maxTv,E2=[0,0],fr=function(){function r(t,e,n,i){r.set(this,t,e,n,i)}return r.set=function(t,e,n,i,a){return i<0&&(e=e+i,i=-i),a<0&&(n=n+a,a=-a),t.x=e,t.y=n,t.width=i,t.height=a,t},r.prototype.union=function(t){var e=Np(t.x,this.x),n=Np(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=Sv(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=Sv(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=e,this.y=n},r.prototype.applyTransform=function(t){r.applyTransform(this,this,t)},r.prototype.calculateTransform=function(t){var e=this,n=t.width/e.width,i=t.height/e.height,a=Ya();return yc(a,a,[-e.x,-e.y]),WC(a,a,[n,i]),yc(a,a,[t.x,t.y]),a},r.prototype.intersect=function(t,e,n){return r.intersect(this,t,e,n)},r.intersect=function(t,e,n,i){n&&cr.set(n,0,0);var a=i&&i.outIntersectRect||null,s=i&&i.clamp;if(a&&(a.x=a.y=a.width=a.height=NaN),!t||!e)return!1;t instanceof r||(t=r.set(Xpe,t.x,t.y,t.width,t.height)),e instanceof r||(e=r.set(Ype,e.x,e.y,e.width,e.height));var o=!!n;Bl.reset(i,o);var l=Bl.touchThreshold,u=t.x+l,c=t.x+t.width-l,f=t.y+l,h=t.y+t.height-l,d=e.x+l,A=e.x+e.width-l,p=e.y+l,g=e.y+e.height-l;if(u>c||f>h||d>A||p>g)return!1;var m=!(c<d||A<u||h<p||g<f);return(o||a)&&(E2[0]=1/0,E2[1]=0,cU(u,c,d,A,0,o,a,s),cU(f,h,p,g,1,o,a,s),o&&cr.copy(n,m?Bl.useDir?Bl.dirMinTv:Vx:G7)),m},r.contain=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},r.prototype.contain=function(t,e){return r.contain(this,t,e)},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.copy=function(t){r.copy(this,t)},r.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},r.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},r.prototype.isZero=function(){return this.width===0||this.height===0},r.create=function(t){return new r(t.x,t.y,t.width,t.height)},r.copy=function(t,e){return t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t},r.applyTransform=function(t,e,n){if(!n){t!==e&&r.copy(t,e);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],a=n[3],s=n[4],o=n[5];t.x=e.x*i+s,t.y=e.y*a+o,t.width=e.width*i,t.height=e.height*a,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}M0.x=D0.x=e.x,M0.y=P0.y=e.y,L0.x=P0.x=e.x+e.width,L0.y=D0.y=e.y+e.height,M0.transform(n),P0.transform(n),L0.transform(n),D0.transform(n),t.x=Np(M0.x,L0.x,D0.x,P0.x),t.y=Np(M0.y,L0.y,D0.y,P0.y);var l=Sv(M0.x,L0.x,D0.x,P0.x),u=Sv(M0.y,L0.y,D0.y,P0.y);t.width=l-t.x,t.height=u-t.y},r}(),Xpe=new fr(0,0,0,0),Ype=new fr(0,0,0,0);function cU(r,t,e,n,i,a,s,o){var l=V7(t-e),u=V7(n-r),c=Np(l,u),f=uU[i],h=uU[1-i],d=qpe[i];t<e||n<r?l<u?(a&&(G7[f]=-l),o&&(s[f]=t,s[d]=0)):(a&&(G7[f]=u),o&&(s[f]=r,s[d]=0)):(s&&(s[f]=Sv(r,e),s[d]=Np(t,n)-s[f]),a&&(c<E2[0]||Bl.useDir)&&(E2[0]=Np(c,E2[0]),(l<u||!Bl.bidirectional)&&(Vx[f]=l,Vx[h]=0,Bl.useDir&&Bl.calcDirMTV()),(l>=u||!Bl.bidirectional)&&(Vx[f]=-u,Vx[h]=0,Bl.useDir&&Bl.calcDirMTV())))}function wee(){var r=0,t=new cr,e=new cr,n={minTv:new cr,maxTv:new cr,useDir:!1,dirMinTv:new cr,touchThreshold:0,bidirectional:!0,negativeSize:!1,reset:function(a,s){n.touchThreshold=0,a&&a.touchThreshold!=null&&(n.touchThreshold=Sv(0,a.touchThreshold)),n.negativeSize=!1,s&&(n.minTv.set(1/0,1/0),n.maxTv.set(0,0),n.useDir=!1,a&&a.direction!=null&&(n.useDir=!0,n.dirMinTv.copy(n.minTv),e.copy(n.minTv),r=a.direction,n.bidirectional=a.bidirectional==null||!!a.bidirectional,n.bidirectional||t.set(Math.cos(r),Math.sin(r))))},calcDirMTV:function(){var a=n.minTv,s=n.dirMinTv,o=a.y*a.y+a.x*a.x,l=Math.sin(r),u=Math.cos(r),c=l*a.y+u*a.x;if(i(c)){i(a.x)&&i(a.y)&&s.set(0,0);return}if(e.x=o*u/c,e.y=o*l/c,i(e.x)&&i(e.y)){s.set(0,0);return}(n.bidirectional||t.dot(e)>0)&&e.len()<s.len()&&s.copy(e)}};function i(a){return V7(a)<1e-10}return n}var _ee="silent";function Zpe(r,t,e){return{type:r,event:e,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:e.zrX,offsetY:e.zrY,gestureEvent:e.gestureEvent,pinchX:e.pinchX,pinchY:e.pinchY,pinchScale:e.pinchScale,wheelDelta:e.zrDelta,zrByTouch:e.zrByTouch,which:e.which,stop:Jpe}}function Jpe(){Qh(this.event)}var ege=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.handler=null,e}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(Mu),Zy=function(){function r(t,e){this.x=t,this.y=e}return r}(),tge=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],eT=new fr(0,0,0,0),See=function(r){Ge(t,r);function t(e,n,i,a,s){var o=r.call(this)||this;return o._hovered=new Zy(0,0),o.storage=e,o.painter=n,o.painterRoot=a,o._pointerSize=s,i=i||new ege,o.proxy=null,o.setHandlerProxy(i),o._draggingMgr=new Lpe(o),o}return t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(se(tge,function(n){e.on&&e.on(n,this[n],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var n=e.zrX,i=e.zrY,a=Cee(this,n,i),s=this._hovered,o=s.target;o&&!o.__zr&&(s=this.findHover(s.x,s.y),o=s.target);var l=this._hovered=a?new Zy(n,i):this.findHover(n,i),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),o&&u!==o&&this.dispatchToElement(s,"mouseout",e),this.dispatchToElement(l,"mousemove",e),u&&u!==o&&this.dispatchToElement(l,"mouseover",e)},t.prototype.mouseout=function(e){var n=e.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",e),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new Zy(0,0)},t.prototype.dispatch=function(e,n){var i=this[e];i&&i.call(this,n)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var n=this.proxy;n.setCursor&&n.setCursor(e)},t.prototype.dispatchToElement=function(e,n,i){e=e||{};var a=e.target;if(!(a&&a.silent)){for(var s="on"+n,o=Zpe(n,e,i);a&&(a[s]&&(o.cancelBubble=!!a[s].call(a,o)),a.trigger(n,o),a=a.__hostTarget?a.__hostTarget:a.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(n,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[s]=="function"&&l[s].call(l,o),l.trigger&&l.trigger(n,o)}))}},t.prototype.findHover=function(e,n,i){var a=this.storage.getDisplayList(),s=new Zy(e,n);if(fU(a,s,e,n,i),this._pointerSize&&!s.target){for(var o=[],l=this._pointerSize,u=l/2,c=new fr(e-u,n-u,l,l),f=a.length-1;f>=0;f--){var h=a[f];h!==i&&!h.ignore&&!h.ignoreCoarsePointer&&(!h.parent||!h.parent.ignoreCoarsePointer)&&(eT.copy(h.getBoundingRect()),h.transform&&eT.applyTransform(h.transform),eT.intersect(c)&&o.push(h))}if(o.length)for(var d=4,A=Math.PI/12,p=Math.PI*2,g=0;g<u;g+=d)for(var m=0;m<p;m+=A){var v=e+g*Math.cos(m),y=n+g*Math.sin(m);if(fU(o,s,v,y,i),s.target)return s}}return s},t.prototype.processGesture=function(e,n){this._gestureMgr||(this._gestureMgr=new Wpe);var i=this._gestureMgr;n==="start"&&i.clear();var a=i.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if(n==="end"&&i.clear(),a){var s=a.type;e.gestureEvent=s;var o=new Zy;o.target=a.target,this.dispatchToElement(o,s,a.event)}},t}(Mu);se(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(r){See.prototype[r]=function(t){var e=t.zrX,n=t.zrY,i=Cee(this,e,n),a,s;if((r!=="mouseup"||!i)&&(a=this.findHover(e,n),s=a.target),r==="mousedown")this._downEl=s,this._downPoint=[t.zrX,t.zrY],this._upEl=s;else if(r==="mouseup")this._upEl=s;else if(r==="click"){if(this._downEl!==this._upEl||!this._downPoint||xh(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,r,t)}});function rge(r,t,e){if(r[r.rectHover?"rectContain":"contain"](t,e)){for(var n=r,i=void 0,a=!1;n;){if(n.ignoreClip&&(a=!0),!a){var s=n.getClipPath();if(s&&!s.contain(t,e))return!1}n.silent&&(i=!0);var o=n.__hostTarget;n=o?n.ignoreHostSilent?null:o:n.parent}return i?_ee:!0}return!1}function fU(r,t,e,n,i){for(var a=r.length-1;a>=0;a--){var s=r[a],o=void 0;if(s!==i&&!s.ignore&&(o=rge(s,e,n))&&(!t.topTarget&&(t.topTarget=s),o!==_ee)){t.target=s;break}}}function Cee(r,t,e){var n=r.painter;return t<0||t>n.getWidth()||e<0||e>n.getHeight()}var Bee=32,Jy=7;function nge(r){for(var t=0;r>=Bee;)t|=r&1,r>>=1;return r+t}function hU(r,t,e,n){var i=t+1;if(i===e)return 1;if(n(r[i++],r[t])<0){for(;i<e&&n(r[i],r[i-1])<0;)i++;ige(r,t,i)}else for(;i<e&&n(r[i],r[i-1])>=0;)i++;return i-t}function ige(r,t,e){for(e--;t<e;){var n=r[t];r[t++]=r[e],r[e--]=n}}function dU(r,t,e,n,i){for(n===t&&n++;n<e;n++){for(var a=r[n],s=t,o=n,l;s<o;)l=s+o>>>1,i(a,r[l])<0?o=l:s=l+1;var u=n-s;switch(u){case 3:r[s+3]=r[s+2];case 2:r[s+2]=r[s+1];case 1:r[s+1]=r[s];break;default:for(;u>0;)r[s+u]=r[s+u-1],u--}r[s]=a}}function tT(r,t,e,n,i,a){var s=0,o=0,l=1;if(a(r,t[e+i])>0){for(o=n-i;l<o&&a(r,t[e+i+l])>0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=i,l+=i}else{for(o=i+1;l<o&&a(r,t[e+i-l])<=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var u=s;s=i-l,l=i-u}for(s++;s<l;){var c=s+(l-s>>>1);a(r,t[e+c])>0?s=c+1:l=c}return l}function rT(r,t,e,n,i,a){var s=0,o=0,l=1;if(a(r,t[e+i])<0){for(o=i+1;l<o&&a(r,t[e+i-l])<0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var u=s;s=i-l,l=i-u}else{for(o=n-i;l<o&&a(r,t[e+i+l])>=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=i,l+=i}for(s++;s<l;){var c=s+(l-s>>>1);a(r,t[e+c])<0?l=c:s=c+1}return l}function age(r,t){var e=Jy,n,i,a=0,s=[];n=[],i=[];function o(d,A){n[a]=d,i[a]=A,a+=1}function l(){for(;a>1;){var d=a-2;if(d>=1&&i[d-1]<=i[d]+i[d+1]||d>=2&&i[d-2]<=i[d]+i[d-1])i[d-1]<i[d+1]&&d--;else if(i[d]>i[d+1])break;c(d)}}function u(){for(;a>1;){var d=a-2;d>0&&i[d-1]<i[d+1]&&d--,c(d)}}function c(d){var A=n[d],p=i[d],g=n[d+1],m=i[d+1];i[d]=p+m,d===a-3&&(n[d+1]=n[d+2],i[d+1]=i[d+2]),a--;var v=rT(r[g],r,A,p,0,t);A+=v,p-=v,p!==0&&(m=tT(r[A+p-1],r,g,m,m-1,t),m!==0&&(p<=m?f(A,p,g,m):h(A,p,g,m)))}function f(d,A,p,g){var m=0;for(m=0;m<A;m++)s[m]=r[d+m];var v=0,y=p,b=d;if(r[b++]=r[y++],--g===0){for(m=0;m<A;m++)r[b+m]=s[v+m];return}if(A===1){for(m=0;m<g;m++)r[b+m]=r[y+m];r[b+g]=s[v];return}for(var _=e,T,I,N;;){T=0,I=0,N=!1;do if(t(r[y],s[v])<0){if(r[b++]=r[y++],I++,T=0,--g===0){N=!0;break}}else if(r[b++]=s[v++],T++,I=0,--A===1){N=!0;break}while((T|I)<_);if(N)break;do{if(T=rT(r[y],s,v,A,0,t),T!==0){for(m=0;m<T;m++)r[b+m]=s[v+m];if(b+=T,v+=T,A-=T,A<=1){N=!0;break}}if(r[b++]=r[y++],--g===0){N=!0;break}if(I=tT(s[v],r,y,g,0,t),I!==0){for(m=0;m<I;m++)r[b+m]=r[y+m];if(b+=I,y+=I,g-=I,g===0){N=!0;break}}if(r[b++]=s[v++],--A===1){N=!0;break}_--}while(T>=Jy||I>=Jy);if(N)break;_<0&&(_=0),_+=2}if(e=_,e<1&&(e=1),A===1){for(m=0;m<g;m++)r[b+m]=r[y+m];r[b+g]=s[v]}else{if(A===0)throw new Error;for(m=0;m<A;m++)r[b+m]=s[v+m]}}function h(d,A,p,g){var m=0;for(m=0;m<g;m++)s[m]=r[p+m];var v=d+A-1,y=g-1,b=p+g-1,_=0,T=0;if(r[b--]=r[v--],--A===0){for(_=b-(g-1),m=0;m<g;m++)r[_+m]=s[m];return}if(g===1){for(b-=A,v-=A,T=b+1,_=v+1,m=A-1;m>=0;m--)r[T+m]=r[_+m];r[b]=s[y];return}for(var I=e;;){var N=0,F=0,P=!1;do if(t(s[y],r[v])<0){if(r[b--]=r[v--],N++,F=0,--A===0){P=!0;break}}else if(r[b--]=s[y--],F++,N=0,--g===1){P=!0;break}while((N|F)<I);if(P)break;do{if(N=A-rT(s[y],r,d,A,A-1,t),N!==0){for(b-=N,v-=N,A-=N,T=b+1,_=v+1,m=N-1;m>=0;m--)r[T+m]=r[_+m];if(A===0){P=!0;break}}if(r[b--]=s[y--],--g===1){P=!0;break}if(F=g-tT(r[v],s,0,g,g-1,t),F!==0){for(b-=F,y-=F,g-=F,T=b+1,_=y+1,m=0;m<F;m++)r[T+m]=s[_+m];if(g<=1){P=!0;break}}if(r[b--]=r[v--],--A===0){P=!0;break}I--}while(N>=Jy||F>=Jy);if(P)break;I<0&&(I=0),I+=2}if(e=I,e<1&&(e=1),g===1){for(b-=A,v-=A,T=b+1,_=v+1,m=A-1;m>=0;m--)r[T+m]=r[_+m];r[b]=s[y]}else{if(g===0)throw new Error;for(_=b-(g-1),m=0;m<g;m++)r[_+m]=s[m]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:o}}function E3(r,t,e,n){e||(e=0),n||(n=r.length);var i=n-e;if(!(i<2)){var a=0;if(i<Bee){a=hU(r,e,n,t),dU(r,e,n,e+a,t);return}var s=age(r,t),o=nge(i);do{if(a=hU(r,e,n,t),a<o){var l=i;l>o&&(l=o),dU(r,e,e+l,e+a,t),a=l}s.pushRun(e,a),s.mergeRuns(),i-=a,e+=a}while(i!==0);s.forceMergeRuns()}}var Nl=1,Gx=2,Jm=4,AU=!1;function nT(){AU||(AU=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function pU(r,t){return r.zlevel===t.zlevel?r.z===t.z?r.z2-t.z2:r.z-t.z:r.zlevel-t.zlevel}var sge=function(){function r(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=pU}return r.prototype.traverse=function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},r.prototype.getDisplayList=function(t,e){e=e||!1;var n=this._displayList;return(t||!n.length)&&this.updateDisplayList(e),n},r.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,i=0,a=e.length;i<a;i++)this._updateAndAddDisplayable(e[i],null,t);n.length=this._displayListLen,E3(n,pU)},r.prototype._updateAndAddDisplayable=function(t,e,n){if(!(t.ignore&&!n)){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath(),a=e&&e.length,s=0,o=t.__clipPaths;if(!t.ignoreClip&&(a||i)){if(o||(o=t.__clipPaths=[]),a)for(var l=0;l<e.length;l++)o[s++]=e[l];for(var u=i,c=t;u;)u.parent=c,u.updateTransform(),o[s++]=u,c=u,u=u.getClipPath()}if(o&&(o.length=s),t.childrenRef){for(var f=t.childrenRef(),h=0;h<f.length;h++){var d=f[h];t.__dirty&&(d.__dirty|=Nl),this._updateAndAddDisplayable(d,o,n)}t.__dirty=0}else{var A=t;isNaN(A.z)&&(nT(),A.z=0),isNaN(A.z2)&&(nT(),A.z2=0),isNaN(A.zlevel)&&(nT(),A.zlevel=0),this._displayList[this._displayListLen++]=A}var p=t.getDecalElement&&t.getDecalElement();p&&this._updateAndAddDisplayable(p,o,n);var g=t.getTextGuideLine();g&&this._updateAndAddDisplayable(g,o,n);var m=t.getTextContent();m&&this._updateAndAddDisplayable(m,o,n)}},r.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},r.prototype.delRoot=function(t){if(t instanceof Array){for(var e=0,n=t.length;e<n;e++)this.delRoot(t[e]);return}var i=Lr(this._roots,t);i>=0&&this._roots.splice(i,1)},r.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},r.prototype.getRoots=function(){return this._roots},r.prototype.dispose=function(){this._displayList=null,this._roots=null},r}(),DS;DS=Zr.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(r){return setTimeout(r,16)};var k2={linear:function(r){return r},quadraticIn:function(r){return r*r},quadraticOut:function(r){return r*(2-r)},quadraticInOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)},cubicIn:function(r){return r*r*r},cubicOut:function(r){return--r*r*r+1},cubicInOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)},quarticIn:function(r){return r*r*r*r},quarticOut:function(r){return 1- --r*r*r*r},quarticInOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)},quinticIn:function(r){return r*r*r*r*r},quinticOut:function(r){return--r*r*r*r*r+1},quinticInOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)},sinusoidalIn:function(r){return 1-Math.cos(r*Math.PI/2)},sinusoidalOut:function(r){return Math.sin(r*Math.PI/2)},sinusoidalInOut:function(r){return .5*(1-Math.cos(Math.PI*r))},exponentialIn:function(r){return r===0?0:Math.pow(1024,r-1)},exponentialOut:function(r){return r===1?1:1-Math.pow(2,-10*r)},exponentialInOut:function(r){return r===0?0:r===1?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(-Math.pow(2,-10*(r-1))+2)},circularIn:function(r){return 1-Math.sqrt(1-r*r)},circularOut:function(r){return Math.sqrt(1- --r*r)},circularInOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)},elasticIn:function(r){var t,e=.1,n=.4;return r===0?0:r===1?1:(!e||e<1?(e=1,t=n/4):t=n*Math.asin(1/e)/(2*Math.PI),-(e*Math.pow(2,10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/n)))},elasticOut:function(r){var t,e=.1,n=.4;return r===0?0:r===1?1:(!e||e<1?(e=1,t=n/4):t=n*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*r)*Math.sin((r-t)*(2*Math.PI)/n)+1)},elasticInOut:function(r){var t,e=.1,n=.4;return r===0?0:r===1?1:(!e||e<1?(e=1,t=n/4):t=n*Math.asin(1/e)/(2*Math.PI),(r*=2)<1?-.5*(e*Math.pow(2,10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/n)):e*Math.pow(2,-10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/n)*.5+1)},backIn:function(r){var t=1.70158;return r*r*((t+1)*r-t)},backOut:function(r){var t=1.70158;return--r*r*((t+1)*r+t)+1},backInOut:function(r){var t=2.5949095;return(r*=2)<1?.5*(r*r*((t+1)*r-t)):.5*((r-=2)*r*((t+1)*r+t)+2)},bounceIn:function(r){return 1-k2.bounceOut(1-r)},bounceOut:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},bounceInOut:function(r){return r<.5?k2.bounceIn(r*2)*.5:k2.bounceOut(r*2-1)*.5+.5}},u5=Math.pow,IA=Math.sqrt,PS=1e-8,Tee=1e-4,gU=IA(3),c5=1/3,af=f0(),pu=f0(),Qv=f0();function cA(r){return r>-PS&&r<PS}function Eee(r){return r>PS||r<-PS}function Ga(r,t,e,n,i){var a=1-i;return a*a*(a*r+3*i*t)+i*i*(i*n+3*a*e)}function mU(r,t,e,n,i){var a=1-i;return 3*(((t-r)*a+2*(e-t)*i)*a+(n-e)*i*i)}function RS(r,t,e,n,i,a){var s=n+3*(t-e)-r,o=3*(e-t*2+r),l=3*(t-r),u=r-i,c=o*o-3*s*l,f=o*l-9*s*u,h=l*l-3*o*u,d=0;if(cA(c)&&cA(f))if(cA(o))a[0]=0;else{var A=-l/o;A>=0&&A<=1&&(a[d++]=A)}else{var p=f*f-4*c*h;if(cA(p)){var g=f/c,A=-o/s+g,m=-g/2;A>=0&&A<=1&&(a[d++]=A),m>=0&&m<=1&&(a[d++]=m)}else if(p>0){var v=IA(p),y=c*o+1.5*s*(-f+v),b=c*o+1.5*s*(-f-v);y<0?y=-u5(-y,c5):y=u5(y,c5),b<0?b=-u5(-b,c5):b=u5(b,c5);var A=(-o-(y+b))/(3*s);A>=0&&A<=1&&(a[d++]=A)}else{var _=(2*c*o-3*s*f)/(2*IA(c*c*c)),T=Math.acos(_)/3,I=IA(c),N=Math.cos(T),A=(-o-2*I*N)/(3*s),m=(-o+I*(N+gU*Math.sin(T)))/(3*s),F=(-o+I*(N-gU*Math.sin(T)))/(3*s);A>=0&&A<=1&&(a[d++]=A),m>=0&&m<=1&&(a[d++]=m),F>=0&&F<=1&&(a[d++]=F)}}return d}function kee(r,t,e,n,i){var a=6*e-12*t+6*r,s=9*t+3*n-3*r-9*e,o=3*t-3*r,l=0;if(cA(s)){if(Eee(a)){var u=-o/a;u>=0&&u<=1&&(i[l++]=u)}}else{var c=a*a-4*s*o;if(cA(c))i[0]=-a/(2*s);else if(c>0){var f=IA(c),u=(-a+f)/(2*s),h=(-a-f)/(2*s);u>=0&&u<=1&&(i[l++]=u),h>=0&&h<=1&&(i[l++]=h)}}return l}function qA(r,t,e,n,i,a){var s=(t-r)*i+r,o=(e-t)*i+t,l=(n-e)*i+e,u=(o-s)*i+s,c=(l-o)*i+o,f=(c-u)*i+u;a[0]=r,a[1]=s,a[2]=u,a[3]=f,a[4]=f,a[5]=c,a[6]=l,a[7]=n}function Nee(r,t,e,n,i,a,s,o,l,u,c){var f,h=.005,d=1/0,A,p,g,m;af[0]=l,af[1]=u;for(var v=0;v<1;v+=.05)pu[0]=Ga(r,e,i,s,v),pu[1]=Ga(t,n,a,o,v),g=FA(af,pu),g<d&&(f=v,d=g);d=1/0;for(var y=0;y<32&&!(h<Tee);y++)A=f-h,p=f+h,pu[0]=Ga(r,e,i,s,A),pu[1]=Ga(t,n,a,o,A),g=FA(pu,af),A>=0&&g<d?(f=A,d=g):(Qv[0]=Ga(r,e,i,s,p),Qv[1]=Ga(t,n,a,o,p),m=FA(Qv,af),p<=1&&m<d?(f=p,d=m):h*=.5);return c&&(c[0]=Ga(r,e,i,s,f),c[1]=Ga(t,n,a,o,f)),IA(d)}function oge(r,t,e,n,i,a,s,o,l){for(var u=r,c=t,f=0,h=1/l,d=1;d<=l;d++){var A=d*h,p=Ga(r,e,i,s,A),g=Ga(t,n,a,o,A),m=p-u,v=g-c;f+=Math.sqrt(m*m+v*v),u=p,c=g}return f}function us(r,t,e,n){var i=1-n;return i*(i*r+2*n*t)+n*n*e}function W7(r,t,e,n){return 2*((1-n)*(t-r)+n*(e-t))}function lge(r,t,e,n,i){var a=r-2*t+e,s=2*(t-r),o=r-n,l=0;if(cA(a)){if(Eee(s)){var u=-o/s;u>=0&&u<=1&&(i[l++]=u)}}else{var c=s*s-4*a*o;if(cA(c)){var u=-s/(2*a);u>=0&&u<=1&&(i[l++]=u)}else if(c>0){var f=IA(c),u=(-s+f)/(2*a),h=(-s-f)/(2*a);u>=0&&u<=1&&(i[l++]=u),h>=0&&h<=1&&(i[l++]=h)}}return l}function Fee(r,t,e){var n=r+e-2*t;return n===0?.5:(r-t)/n}function Cb(r,t,e,n,i){var a=(t-r)*n+r,s=(e-t)*n+t,o=(s-a)*n+a;i[0]=r,i[1]=a,i[2]=o,i[3]=o,i[4]=s,i[5]=e}function Iee(r,t,e,n,i,a,s,o,l){var u,c=.005,f=1/0;af[0]=s,af[1]=o;for(var h=0;h<1;h+=.05){pu[0]=us(r,e,i,h),pu[1]=us(t,n,a,h);var d=FA(af,pu);d<f&&(u=h,f=d)}f=1/0;for(var A=0;A<32&&!(c<Tee);A++){var p=u-c,g=u+c;pu[0]=us(r,e,i,p),pu[1]=us(t,n,a,p);var d=FA(pu,af);if(p>=0&&d<f)u=p,f=d;else{Qv[0]=us(r,e,i,g),Qv[1]=us(t,n,a,g);var m=FA(Qv,af);g<=1&&m<f?(u=g,f=m):c*=.5}}return l&&(l[0]=us(r,e,i,u),l[1]=us(t,n,a,u)),IA(f)}function uge(r,t,e,n,i,a,s){for(var o=r,l=t,u=0,c=1/s,f=1;f<=s;f++){var h=f*c,d=us(r,e,i,h),A=us(t,n,a,h),p=d-o,g=A-l;u+=Math.sqrt(p*p+g*g),o=d,l=A}return u}var cge=/cubic-bezier\(([0-9,\.e ]+)\)/;function TD(r){var t=r&&cge.exec(r);if(t){var e=t[1].split(","),n=+Ml(e[0]),i=+Ml(e[1]),a=+Ml(e[2]),s=+Ml(e[3]);if(isNaN(n+i+a+s))return;var o=[];return function(l){return l<=0?0:l>=1?1:RS(0,n,a,1,l,o)&&Ga(0,i,s,1,o[0])}}}var fge=function(){function r(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||Ri,this.ondestroy=t.ondestroy||Ri,this.onrestart=t.onrestart||Ri,t.easing&&this.setEasing(t.easing)}return r.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=e;return}var n=this._life,i=t-this._startTime-this._pausedTime,a=i/n;a<0&&(a=0),a=Math.min(a,1);var s=this.easingFunc,o=s?s(a):a;if(this.onframe(o),a===1)if(this.loop){var l=i%n;this._startTime=t-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){this._paused=!1},r.prototype.setEasing=function(t){this.easing=t,this.easingFunc=rr(t)?t:k2[t]||TD(t)},r}(),Mee=function(){function r(t){this.value=t}return r}(),hge=function(){function r(){this._len=0}return r.prototype.insert=function(t){var e=new Mee(t);return this.insertEntry(e),e},r.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},r.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},r.prototype.len=function(){return this._len},r.prototype.clear=function(){this.head=this.tail=null,this._len=0},r}(),C1=function(){function r(t){this._list=new hge,this._maxSize=10,this._map={},this._maxSize=t}return r.prototype.put=function(t,e){var n=this._list,i=this._map,a=null;if(i[t]==null){var s=n.len(),o=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var l=n.head;n.remove(l),delete i[l.key],a=l.value,this._lastRemovedEntry=l}o?o.value=e:o=new Mee(e),o.key=t,n.insertEntry(o),i[t]=o}return a},r.prototype.get=function(t){var e=this._map[t],n=this._list;if(e!=null)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},r.prototype.clear=function(){this._list.clear(),this._map={}},r.prototype.len=function(){return this._list.len()},r}(),vU={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Ac(r){return r=Math.round(r),r<0?0:r>255?255:r}function dge(r){return r=Math.round(r),r<0?0:r>360?360:r}function Bb(r){return r<0?0:r>1?1:r}function k3(r){var t=r;return t.length&&t.charAt(t.length-1)==="%"?Ac(parseFloat(t)/100*255):Ac(parseInt(t,10))}function Th(r){var t=r;return t.length&&t.charAt(t.length-1)==="%"?Bb(parseFloat(t)/100):Bb(parseFloat(t))}function iT(r,t,e){return e<0?e+=1:e>1&&(e-=1),e*6<1?r+(t-r)*e*6:e*2<1?t:e*3<2?r+(t-r)*(2/3-e)*6:r}function fA(r,t,e){return r+(t-r)*e}function nu(r,t,e,n,i){return r[0]=t,r[1]=e,r[2]=n,r[3]=i,r}function $7(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}var Lee=new C1(20),f5=null;function lm(r,t){f5&&$7(f5,t),f5=Lee.put(r,f5||t.slice())}function oo(r,t){if(r){t=t||[];var e=Lee.get(r);if(e)return $7(t,e);r=r+"";var n=r.replace(/ /g,"").toLowerCase();if(n in vU)return $7(t,vU[n]),lm(r,t),t;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(n.slice(1,4),16);if(!(a>=0&&a<=4095)){nu(t,0,0,0,1);return}return nu(t,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),lm(r,t),t}else if(i===7||i===9){var a=parseInt(n.slice(1,7),16);if(!(a>=0&&a<=16777215)){nu(t,0,0,0,1);return}return nu(t,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(n.slice(7),16)/255:1),lm(r,t),t}return}var s=n.indexOf("("),o=n.indexOf(")");if(s!==-1&&o+1===i){var l=n.substr(0,s),u=n.substr(s+1,o-(s+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?nu(t,+u[0],+u[1],+u[2],1):nu(t,0,0,0,1);c=Th(u.pop());case"rgb":if(u.length>=3)return nu(t,k3(u[0]),k3(u[1]),k3(u[2]),u.length===3?c:Th(u[3])),lm(r,t),t;nu(t,0,0,0,1);return;case"hsla":if(u.length!==4){nu(t,0,0,0,1);return}return u[3]=Th(u[3]),K7(u,t),lm(r,t),t;case"hsl":if(u.length!==3){nu(t,0,0,0,1);return}return K7(u,t),lm(r,t),t;default:return}}nu(t,0,0,0,1)}}function K7(r,t){var e=(parseFloat(r[0])%360+360)%360/360,n=Th(r[1]),i=Th(r[2]),a=i<=.5?i*(n+1):i+n-i*n,s=i*2-a;return t=t||[],nu(t,Ac(iT(s,a,e+1/3)*255),Ac(iT(s,a,e)*255),Ac(iT(s,a,e-1/3)*255),1),r.length===4&&(t[3]=r[3]),t}function Age(r){if(r){var t=r[0]/255,e=r[1]/255,n=r[2]/255,i=Math.min(t,e,n),a=Math.max(t,e,n),s=a-i,o=(a+i)/2,l,u;if(s===0)l=0,u=0;else{o<.5?u=s/(a+i):u=s/(2-a-i);var c=((a-t)/6+s/2)/s,f=((a-e)/6+s/2)/s,h=((a-n)/6+s/2)/s;t===a?l=h-f:e===a?l=1/3+c-h:n===a&&(l=2/3+f-c),l<0&&(l+=1),l>1&&(l-=1)}var d=[l*360,u,o];return r[3]!=null&&d.push(r[3]),d}}function OS(r,t){var e=oo(r);if(e){for(var n=0;n<3;n++)t<0?e[n]=e[n]*(1-t)|0:e[n]=(255-e[n])*t+e[n]|0,e[n]>255?e[n]=255:e[n]<0&&(e[n]=0);return Su(e,e.length===4?"rgba":"rgb")}}function pge(r){var t=oo(r);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function N2(r,t,e){if(!(!(t&&t.length)||!(r>=0&&r<=1))){e=e||[];var n=r*(t.length-1),i=Math.floor(n),a=Math.ceil(n),s=t[i],o=t[a],l=n-i;return e[0]=Ac(fA(s[0],o[0],l)),e[1]=Ac(fA(s[1],o[1],l)),e[2]=Ac(fA(s[2],o[2],l)),e[3]=Bb(fA(s[3],o[3],l)),e}}var gge=N2;function ED(r,t,e){if(!(!(t&&t.length)||!(r>=0&&r<=1))){var n=r*(t.length-1),i=Math.floor(n),a=Math.ceil(n),s=oo(t[i]),o=oo(t[a]),l=n-i,u=Su([Ac(fA(s[0],o[0],l)),Ac(fA(s[1],o[1],l)),Ac(fA(s[2],o[2],l)),Bb(fA(s[3],o[3],l))],"rgba");return e?{color:u,leftIndex:i,rightIndex:a,value:n}:u}}var mge=ED;function Eh(r,t,e,n){var i=oo(r);if(r)return i=Age(i),t!=null&&(i[0]=dge(rr(t)?t(i[0]):t)),e!=null&&(i[1]=Th(rr(e)?e(i[1]):e)),n!=null&&(i[2]=Th(rr(n)?n(i[2]):n)),Su(K7(i),"rgba")}function Tb(r,t){var e=oo(r);if(e&&t!=null)return e[3]=Bb(t),Su(e,"rgba")}function Su(r,t){if(!(!r||!r.length)){var e=r[0]+","+r[1]+","+r[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(e+=","+r[3]),t+"("+e+")"}}function Eb(r,t){var e=oo(r);return e?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*t:0}function vge(){return Su([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var yU=new C1(100);function jS(r){if(Ht(r)){var t=yU.get(r);return t||(t=OS(r,-.1),yU.put(r,t)),t}else if(Dw(r)){var e=pt({},r);return e.colorStops=wt(r.colorStops,function(n){return{offset:n.offset,color:OS(n.color,-.1)}}),e}return r}const yge=Object.freeze(Object.defineProperty({__proto__:null,fastLerp:N2,fastMapToColor:gge,lerp:ED,lift:OS,liftColor:jS,lum:Eb,mapToColor:mge,modifyAlpha:Tb,modifyHSL:Eh,parse:oo,parseCssFloat:Th,parseCssInt:k3,random:vge,stringify:Su,toHex:pge},Symbol.toStringTag,{value:"Module"}));var US=Math.round;function kb(r){var t;if(!r||r==="transparent")r="none";else if(typeof r=="string"&&r.indexOf("rgba")>-1){var e=oo(r);e&&(r="rgb("+e[0]+","+e[1]+","+e[2]+")",t=e[3])}return{color:r,opacity:t??1}}var xU=1e-4;function hA(r){return r<xU&&r>-xU}function h5(r){return US(r*1e3)/1e3}function q7(r){return US(r*1e4)/1e4}function xge(r){return"matrix("+h5(r[0])+","+h5(r[1])+","+h5(r[2])+","+h5(r[3])+","+q7(r[4])+","+q7(r[5])+")"}var bge={left:"start",right:"end",center:"middle",middle:"middle"};function wge(r,t,e){return e==="top"?r+=t/2:e==="bottom"&&(r-=t/2),r}function _ge(r){return r&&(r.shadowBlur||r.shadowOffsetX||r.shadowOffsetY)}function Sge(r){var t=r.style,e=r.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),e[0],e[1]].join(",")}function Dee(r){return r&&!!r.image}function Cge(r){return r&&!!r.svgElement}function kD(r){return Dee(r)||Cge(r)}function Pee(r){return r.type==="linear"}function Ree(r){return r.type==="radial"}function Oee(r){return r&&(r.type==="linear"||r.type==="radial")}function $C(r){return"url(#"+r+")"}function jee(r){var t=r.getGlobalScale(),e=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(e)/Math.log(10)),1)}function Uee(r){var t=r.x||0,e=r.y||0,n=(r.rotation||0)*C2,i=Zt(r.scaleX,1),a=Zt(r.scaleY,1),s=r.skewX||0,o=r.skewY||0,l=[];return(t||e)&&l.push("translate("+t+"px,"+e+"px)"),n&&l.push("rotate("+n+")"),(i!==1||a!==1)&&l.push("scale("+i+","+a+")"),(s||o)&&l.push("skew("+US(s*C2)+"deg, "+US(o*C2)+"deg)"),l.join(" ")}var Bge=function(){return Zr.hasGlobalWindow&&rr(window.btoa)?function(r){return window.btoa(unescape(encodeURIComponent(r)))}:typeof Buffer<"u"?function(r){return Buffer.from(r).toString("base64")}:function(r){return null}}(),X7=Array.prototype.slice;function uh(r,t,e){return(t-r)*e+r}function aT(r,t,e,n){for(var i=t.length,a=0;a<i;a++)r[a]=uh(t[a],e[a],n);return r}function Tge(r,t,e,n){for(var i=t.length,a=i&&t[0].length,s=0;s<i;s++){r[s]||(r[s]=[]);for(var o=0;o<a;o++)r[s][o]=uh(t[s][o],e[s][o],n)}return r}function d5(r,t,e,n){for(var i=t.length,a=0;a<i;a++)r[a]=t[a]+e[a]*n;return r}function bU(r,t,e,n){for(var i=t.length,a=i&&t[0].length,s=0;s<i;s++){r[s]||(r[s]=[]);for(var o=0;o<a;o++)r[s][o]=t[s][o]+e[s][o]*n}return r}function Ege(r,t){for(var e=r.length,n=t.length,i=e>n?t:r,a=Math.min(e,n),s=i[a-1]||{color:[0,0,0,0],offset:0},o=a;o<Math.max(e,n);o++)i.push({offset:s.offset,color:s.color.slice()})}function kge(r,t,e){var n=r,i=t;if(!(!n.push||!i.push)){var a=n.length,s=i.length;if(a!==s){var o=a>s;if(o)n.length=s;else for(var l=a;l<s;l++)n.push(e===1?i[l]:X7.call(i[l]))}for(var u=n[0]&&n[0].length,l=0;l<n.length;l++)if(e===1)isNaN(n[l])&&(n[l]=i[l]);else for(var c=0;c<u;c++)isNaN(n[l][c])&&(n[l][c]=i[l][c])}}function F2(r){if(Os(r)){var t=r.length;if(Os(r[0])){for(var e=[],n=0;n<t;n++)e.push(X7.call(r[n]));return e}return X7.call(r)}return r}function N3(r){return r[0]=Math.floor(r[0])||0,r[1]=Math.floor(r[1])||0,r[2]=Math.floor(r[2])||0,r[3]=r[3]==null?1:r[3],"rgba("+r.join(",")+")"}function Nge(r){return Os(r&&r[0])?2:1}var A5=0,F3=1,Hee=2,Wx=3,Y7=4,Z7=5,wU=6;function _U(r){return r===Y7||r===Z7}function p5(r){return r===F3||r===Hee}var ex=[0,0,0,0],Fge=function(){function r(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return r.prototype.isFinished=function(){return this._finished},r.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},r.prototype.needsAnimate=function(){return this.keyframes.length>=1},r.prototype.getAdditiveTrack=function(){return this._additiveTrack},r.prototype.addKeyframe=function(t,e,n){this._needsSort=!0;var i=this.keyframes,a=i.length,s=!1,o=wU,l=e;if(Os(e)){var u=Nge(e);o=u,(u===1&&!an(e[0])||u===2&&!an(e[0][0]))&&(s=!0)}else if(an(e)&&!Ds(e))o=A5;else if(Ht(e))if(!isNaN(+e))o=A5;else{var c=oo(e);c&&(l=c,o=Wx)}else if(Dw(e)){var f=pt({},l);f.colorStops=wt(e.colorStops,function(d){return{offset:d.offset,color:oo(d.color)}}),Pee(e)?o=Y7:Ree(e)&&(o=Z7),l=f}a===0?this.valType=o:(o!==this.valType||o===wU)&&(s=!0),this.discrete=this.discrete||s;var h={time:t,value:l,rawValue:e,percent:0};return n&&(h.easing=n,h.easingFunc=rr(n)?n:k2[n]||TD(n)),i.push(h),h},r.prototype.prepare=function(t,e){var n=this.keyframes;this._needsSort&&n.sort(function(p,g){return p.time-g.time});for(var i=this.valType,a=n.length,s=n[a-1],o=this.discrete,l=p5(i),u=_U(i),c=0;c<a;c++){var f=n[c],h=f.value,d=s.value;f.percent=f.time/t,o||(l&&c!==a-1?kge(h,d,i):u&&Ege(h.colorStops,d.colorStops))}if(!o&&i!==Z7&&e&&this.needsAnimate()&&e.needsAnimate()&&i===e.valType&&!e._finished){this._additiveTrack=e;for(var A=n[0].value,c=0;c<a;c++)i===A5?n[c].additiveValue=n[c].value-A:i===Wx?n[c].additiveValue=d5([],n[c].value,A,-1):p5(i)&&(n[c].additiveValue=i===F3?d5([],n[c].value,A,-1):bU([],n[c].value,A,-1))}},r.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",a=this.valType,s=this.keyframes,o=s.length,l=this.propName,u=a===Wx,c,f=this._lastFr,h=Math.min,d,A;if(o===1)d=A=s[0];else{if(e<0)c=0;else if(e<this._lastFrP){var p=h(f+1,o-1);for(c=p;c>=0&&!(s[c].percent<=e);c--);c=h(c,o-2)}else{for(c=f;c<o&&!(s[c].percent>e);c++);c=h(c-1,o-2)}A=s[c+1],d=s[c]}if(d&&A){this._lastFr=c,this._lastFrP=e;var g=A.percent-d.percent,m=g===0?1:h((e-d.percent)/g,1);A.easingFunc&&(m=A.easingFunc(m));var v=n?this._additiveValue:u?ex:t[l];if((p5(a)||u)&&!v&&(v=this._additiveValue=[]),this.discrete)t[l]=m<1?d.rawValue:A.rawValue;else if(p5(a))a===F3?aT(v,d[i],A[i],m):Tge(v,d[i],A[i],m);else if(_U(a)){var y=d[i],b=A[i],_=a===Y7;t[l]={type:_?"linear":"radial",x:uh(y.x,b.x,m),y:uh(y.y,b.y,m),colorStops:wt(y.colorStops,function(I,N){var F=b.colorStops[N];return{offset:uh(I.offset,F.offset,m),color:N3(aT([],I.color,F.color,m))}}),global:b.global},_?(t[l].x2=uh(y.x2,b.x2,m),t[l].y2=uh(y.y2,b.y2,m)):t[l].r=uh(y.r,b.r,m)}else if(u)aT(v,d[i],A[i],m),n||(t[l]=N3(v));else{var T=uh(d[i],A[i],m);n?this._additiveValue=T:t[l]=T}n&&this._addToTarget(t)}}},r.prototype._addToTarget=function(t){var e=this.valType,n=this.propName,i=this._additiveValue;e===A5?t[n]=t[n]+i:e===Wx?(oo(t[n],ex),d5(ex,ex,i,1),t[n]=N3(ex)):e===F3?d5(t[n],t[n],i,1):e===Hee&&bU(t[n],t[n],i,1)},r}(),ND=function(){function r(t,e,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&i){QC("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return r.prototype.getMaxTime=function(){return this._maxTime},r.prototype.getDelay=function(){return this._delay},r.prototype.getLoop=function(){return this._loop},r.prototype.getTarget=function(){return this._target},r.prototype.changeTarget=function(t){this._target=t},r.prototype.when=function(t,e,n){return this.whenWithKeys(t,e,en(e),n)},r.prototype.whenWithKeys=function(t,e,n,i){for(var a=this._tracks,s=0;s<n.length;s++){var o=n[s],l=a[o];if(!l){l=a[o]=new Fge(o);var u=void 0,c=this._getAdditiveTrack(o);if(c){var f=c.keyframes,h=f[f.length-1];u=h&&h.value,c.valType===Wx&&u&&(u=N3(u))}else u=this._target[o];if(u==null)continue;t>0&&l.addKeyframe(0,F2(u),i),this._trackKeys.push(o)}l.addKeyframe(t,F2(e[o]),i)}return this._maxTime=Math.max(this._maxTime,t),this},r.prototype.pause=function(){this._clip.pause(),this._paused=!0},r.prototype.resume=function(){this._clip.resume(),this._paused=!1},r.prototype.isPaused=function(){return!!this._paused},r.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},r.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,n=0;n<e;n++)t[n].call(this)},r.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var n=0;n<e.length;n++)e[n].call(this)},r.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,n=0;n<e.length;n++)t[e[n]].setFinished()},r.prototype._getAdditiveTrack=function(t){var e,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var a=n[i].getTrack(t);a&&(e=a)}return e},r.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,n=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var s=this._trackKeys[a],o=this._tracks[s],l=this._getAdditiveTrack(s),u=o.keyframes,c=u.length;if(o.prepare(i,l),o.needsAnimate())if(!this._allowDiscrete&&o.discrete){var f=u[c-1];f&&(e._target[o.propName]=f.rawValue),o.setFinished()}else n.push(o)}if(n.length||this._force){var h=new fge({life:i,loop:this._loop,delay:this._delay||0,onframe:function(d){e._started=2;var A=e._additiveAnimators;if(A){for(var p=!1,g=0;g<A.length;g++)if(A[g]._clip){p=!0;break}p||(e._additiveAnimators=null)}for(var g=0;g<n.length;g++)n[g].step(e._target,d);var m=e._onframeCbs;if(m)for(var g=0;g<m.length;g++)m[g](e._target,d)},ondestroy:function(){e._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),t&&h.setEasing(t)}else this._doneCallback();return this}},r.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},r.prototype.delay=function(t){return this._delay=t,this},r.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},r.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},r.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},r.prototype.getClip=function(){return this._clip},r.prototype.getTrack=function(t){return this._tracks[t]},r.prototype.getTracks=function(){var t=this;return wt(this._trackKeys,function(e){return t._tracks[e]})},r.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,a=0;a<t.length;a++){var s=n[t[a]];s&&!s.isFinished()&&(e?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var o=!0,a=0;a<i.length;a++)if(!n[i[a]].isFinished()){o=!1;break}return o&&this._abortedCallback(),o},r.prototype.saveTo=function(t,e,n){if(t){e=e||this._trackKeys;for(var i=0;i<e.length;i++){var a=e[i],s=this._tracks[a];if(!(!s||s.isFinished())){var o=s.keyframes,l=o[n?0:o.length-1];l&&(t[a]=F2(l.rawValue))}}}},r.prototype.__changeFinalValue=function(t,e){e=e||en(t);for(var n=0;n<e.length;n++){var i=e[n],a=this._tracks[i];if(a){var s=a.keyframes;if(s.length>1){var o=s.pop();a.addKeyframe(o.time,t[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},r}();function Cv(){return new Date().getTime()}var Ige=function(r){Ge(t,r);function t(e){var n=r.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,e=e||{},n.stage=e.stage||{},n}return t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var n=e.getClip();n&&this.addClip(n)},t.prototype.removeClip=function(e){if(e.animation){var n=e.prev,i=e.next;n?n.next=i:this._head=i,i?i.prev=n:this._tail=n,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var n=e.getClip();n&&this.removeClip(n),e.animation=null},t.prototype.update=function(e){for(var n=Cv()-this._pausedTime,i=n-this._time,a=this._head;a;){var s=a.next,o=a.step(n,i);o&&(a.ondestroy(),this.removeClip(a)),a=s}this._time=n,e||(this.trigger("frame",i),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0;function n(){e._running&&(DS(n),!e._paused&&e.update())}DS(n)},t.prototype.start=function(){this._running||(this._time=Cv(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=Cv(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=Cv()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var n=e.next;e.prev=e.next=e.animation=null,e=n}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(e,n){n=n||{},this.start();var i=new ND(e,n.loop);return this.addAnimator(i),i},t}(Mu),Mge=300,sT=Zr.domSupported,oT=function(){var r=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],e={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=wt(r,function(i){var a=i.replace("mouse","pointer");return e.hasOwnProperty(a)?a:i});return{mouse:r,touch:t,pointer:n}}(),SU={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},CU=!1;function J7(r){var t=r.pointerType;return t==="pen"||t==="touch"}function Lge(r){r.touching=!0,r.touchTimer!=null&&(clearTimeout(r.touchTimer),r.touchTimer=null),r.touchTimer=setTimeout(function(){r.touching=!1,r.touchTimer=null},700)}function lT(r){r&&(r.zrByTouch=!0)}function Dge(r,t){return au(r.dom,new Pge(r,t),!0)}function Qee(r,t){for(var e=t,n=!1;e&&e.nodeType!==9&&!(n=e.domBelongToZr||e!==t&&e===r.painterRoot);)e=e.parentNode;return n}var Pge=function(){function r(t,e){this.stopPropagation=Ri,this.stopImmediatePropagation=Ri,this.preventDefault=Ri,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}return r}(),Xu={mousedown:function(r){r=au(this.dom,r),this.__mayPointerCapture=[r.zrX,r.zrY],this.trigger("mousedown",r)},mousemove:function(r){r=au(this.dom,r);var t=this.__mayPointerCapture;t&&(r.zrX!==t[0]||r.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",r)},mouseup:function(r){r=au(this.dom,r),this.__togglePointerCapture(!1),this.trigger("mouseup",r)},mouseout:function(r){r=au(this.dom,r);var t=r.toElement||r.relatedTarget;Qee(this,t)||(this.__pointerCapturing&&(r.zrEventControl="no_globalout"),this.trigger("mouseout",r))},wheel:function(r){CU=!0,r=au(this.dom,r),this.trigger("mousewheel",r)},mousewheel:function(r){CU||(r=au(this.dom,r),this.trigger("mousewheel",r))},touchstart:function(r){r=au(this.dom,r),lT(r),this.__lastTouchMoment=new Date,this.handler.processGesture(r,"start"),Xu.mousemove.call(this,r),Xu.mousedown.call(this,r)},touchmove:function(r){r=au(this.dom,r),lT(r),this.handler.processGesture(r,"change"),Xu.mousemove.call(this,r)},touchend:function(r){r=au(this.dom,r),lT(r),this.handler.processGesture(r,"end"),Xu.mouseup.call(this,r),+new Date-+this.__lastTouchMoment<Mge&&Xu.click.call(this,r)},pointerdown:function(r){Xu.mousedown.call(this,r)},pointermove:function(r){J7(r)||Xu.mousemove.call(this,r)},pointerup:function(r){Xu.mouseup.call(this,r)},pointerout:function(r){J7(r)||Xu.mouseout.call(this,r)}};se(["click","dblclick","contextmenu"],function(r){Xu[r]=function(t){t=au(this.dom,t),this.trigger(r,t)}});var eF={pointermove:function(r){J7(r)||eF.mousemove.call(this,r)},pointerup:function(r){eF.mouseup.call(this,r)},mousemove:function(r){this.trigger("mousemove",r)},mouseup:function(r){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",r),t&&(r.zrEventControl="only_globalout",this.trigger("mouseout",r))}};function Rge(r,t){var e=t.domHandlers;Zr.pointerEventsSupported?se(oT.pointer,function(n){I3(t,n,function(i){e[n].call(r,i)})}):(Zr.touchEventsSupported&&se(oT.touch,function(n){I3(t,n,function(i){e[n].call(r,i),Lge(t)})}),se(oT.mouse,function(n){I3(t,n,function(i){i=BD(i),t.touching||e[n].call(r,i)})}))}function Oge(r,t){Zr.pointerEventsSupported?se(SU.pointer,e):Zr.touchEventsSupported||se(SU.mouse,e);function e(n){function i(a){a=BD(a),Qee(r,a.target)||(a=Dge(r,a),t.domHandlers[n].call(r,a))}I3(t,n,i,{capture:!0})}}function I3(r,t,e,n){r.mounted[t]=e,r.listenerOpts[t]=n,z7(r.domTarget,t,e,n)}function uT(r){var t=r.mounted;for(var e in t)t.hasOwnProperty(e)&&Gpe(r.domTarget,e,t[e],r.listenerOpts[e]);r.mounted={}}var BU=function(){function r(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e}return r}(),jge=function(r){Ge(t,r);function t(e,n){var i=r.call(this)||this;return i.__pointerCapturing=!1,i.dom=e,i.painterRoot=n,i._localHandlerScope=new BU(e,Xu),sT&&(i._globalHandlerScope=new BU(document,eF)),Rge(i,i._localHandlerScope),i}return t.prototype.dispose=function(){uT(this._localHandlerScope),sT&&uT(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,sT&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var n=this._globalHandlerScope;e?Oge(this,n):uT(n)}},t}(Mu),zee=1;Zr.hasGlobalWindow&&(zee=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var HS=zee,tF=.4,rF="#333",nF="#ccc",Uge="#eee",TU=Ow,EU=5e-5;function R0(r){return r>EU||r<-EU}var O0=[],um=[],cT=Ya(),fT=Math.abs,_h=function(){function r(){}return r.prototype.getLocalTransform=function(t){return r.getLocalTransform(this,t)},r.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},r.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},r.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},r.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},r.prototype.needLocalTransform=function(){return R0(this.rotation)||R0(this.x)||R0(this.y)||R0(this.scaleX-1)||R0(this.scaleY-1)||R0(this.skewX)||R0(this.skewY)},r.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),n=this.transform;if(!(e||t)){n&&(TU(n),this.invTransform=null);return}n=n||Ya(),e?this.getLocalTransform(n):TU(n),t&&(e?dc(n,t,n):jw(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)},r.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(e!=null&&e!==1){this.getGlobalScale(O0);var n=O0[0]<0?-1:1,i=O0[1]<0?-1:1,a=((O0[0]-n)*e+n)/O0[0]||0,s=((O0[1]-i)*e+i)/O0[1]||0;t[0]*=a,t[1]*=a,t[2]*=s,t[3]*=s}this.invTransform=this.invTransform||Ya(),ku(this.invTransform,t)},r.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},r.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],i=Math.atan2(t[1],t[0]),a=Math.PI/2+i-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(a),e=Math.sqrt(e),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=n,this.originX=0,this.originY=0}},r.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||Ya(),dc(um,t.invTransform,e),e=um);var n=this.originX,i=this.originY;(n||i)&&(cT[4]=n,cT[5]=i,dc(um,e,cT),um[4]-=n,um[5]-=i,e=um),this.setLocalTransform(e)}},r.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},r.prototype.transformCoordToLocal=function(t,e){var n=[t,e],i=this.invTransform;return i&&Oi(n,n,i),n},r.prototype.transformCoordToGlobal=function(t,e){var n=[t,e],i=this.transform;return i&&Oi(n,n,i),n},r.prototype.getLineScale=function(){var t=this.transform;return t&&fT(t[0]-1)>1e-10&&fT(t[3]-1)>1e-10?Math.sqrt(fT(t[0]*t[3]-t[2]*t[1])):1},r.prototype.copyTransform=function(t){QS(this,t)},r.getLocalTransform=function(t,e){e=e||[];var n=t.originX||0,i=t.originY||0,a=t.scaleX,s=t.scaleY,o=t.anchorX,l=t.anchorY,u=t.rotation||0,c=t.x,f=t.y,h=t.skewX?Math.tan(t.skewX):0,d=t.skewY?Math.tan(-t.skewY):0;if(n||i||o||l){var A=n+o,p=i+l;e[4]=-A*a-h*p*s,e[5]=-p*s-d*A*a}else e[4]=e[5]=0;return e[0]=a,e[3]=s,e[1]=d*a,e[2]=h*s,u&&td(e,e,u),e[4]+=n+c,e[5]+=i+f,e},r.initDefaultProps=function(){var t=r.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),r}(),Bf=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function QS(r,t){for(var e=0;e<Bf.length;e++){var n=Bf[e];r[n]=t[n]}}function xf(r){g5||(g5=new C1(100)),r=r||Hh;var t=g5.get(r);return t||(t={font:r,strWidthCache:new C1(500),asciiWidthMap:null,asciiWidthMapTried:!1,stWideCharWidth:il.measureText("",r).width,asciiCharWidth:il.measureText("a",r).width},g5.put(r,t)),t}var g5;function Hge(r){if(!(hT>=kU)){r=r||Hh;for(var t=[],e=+new Date,n=0;n<=127;n++)t[n]=il.measureText(String.fromCharCode(n),r).width;var i=+new Date-e;return i>16?hT=kU:i>2&&hT++,t}}var hT=0,kU=5;function Vee(r,t){return r.asciiWidthMapTried||(r.asciiWidthMap=Hge(r.font),r.asciiWidthMapTried=!0),0<=t&&t<=127?r.asciiWidthMap!=null?r.asciiWidthMap[t]:r.asciiCharWidth:r.stWideCharWidth}function bf(r,t){var e=r.strWidthCache,n=e.get(t);return n==null&&(n=il.measureText(t,r.font).width,e.put(t,n)),n}function NU(r,t,e,n){var i=bf(xf(t),r),a=Uw(t),s=B1(0,i,e),o=tg(0,a,n),l=new fr(s,o,i,a);return l}function KC(r,t,e,n){var i=((r||"")+"").split(`
`),a=i.length;if(a===1)return NU(i[0],t,e,n);for(var s=new fr(0,0,0,0),o=0;o<i.length;o++){var l=NU(i[o],t,e,n);o===0?s.copy(l):s.union(l)}return s}function B1(r,t,e,n){return e==="right"?n?r+=t:r-=t:e==="center"&&(n?r+=t/2:r-=t/2),r}function tg(r,t,e,n){return e==="middle"?n?r+=t/2:r-=t/2:e==="bottom"&&(n?r+=t:r-=t),r}function Uw(r){return xf(r).stWideCharWidth}function xc(r,t){return typeof r=="string"?r.lastIndexOf("%")>=0?parseFloat(r)/100*t:parseFloat(r):r}function zS(r,t,e){var n=t.position||"inside",i=t.distance!=null?t.distance:5,a=e.height,s=e.width,o=a/2,l=e.x,u=e.y,c="left",f="top";if(n instanceof Array)l+=xc(n[0],e.width),u+=xc(n[1],e.height),c=null,f=null;else switch(n){case"left":l-=i,u+=o,c="right",f="middle";break;case"right":l+=i+s,u+=o,f="middle";break;case"top":l+=s/2,u-=i,c="center",f="bottom";break;case"bottom":l+=s/2,u+=a+i,c="center";break;case"inside":l+=s/2,u+=o,c="center",f="middle";break;case"insideLeft":l+=i,u+=o,f="middle";break;case"insideRight":l+=s-i,u+=o,c="right",f="middle";break;case"insideTop":l+=s/2,u+=i,c="center";break;case"insideBottom":l+=s/2,u+=a-i,c="center",f="bottom";break;case"insideTopLeft":l+=i,u+=i;break;case"insideTopRight":l+=s-i,u+=i,c="right";break;case"insideBottomLeft":l+=i,u+=a-i,f="bottom";break;case"insideBottomRight":l+=s-i,u+=a-i,c="right",f="bottom";break}return r=r||{},r.x=l,r.y=u,r.align=c,r.verticalAlign=f,r}var dT="__zr_normal__",AT=Bf.concat(["ignore"]),Qge=Eu(Bf,function(r,t){return r[t]=!0,r},{ignore:!1}),cm={},zge=new fr(0,0,0,0),m5=[],qC=function(){function r(t){this.id=wD(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return r.prototype._init=function(t){this.attr(t)},r.prototype.drift=function(t,e,n){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.markRedraw()},r.prototype.beforeUpdate=function(){},r.prototype.afterUpdate=function(){},r.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},r.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,a=e.innerTransformable,s=void 0,o=void 0,l=!1;a.parent=i?this:null;var u=!1;a.copyTransform(e);var c=n.position!=null,f=n.autoOverflowArea,h=void 0;if((f||c)&&(h=zge,n.layoutRect?h.copy(n.layoutRect):h.copy(this.getBoundingRect()),i||h.applyTransform(this.transform)),c){this.calculateTextPosition?this.calculateTextPosition(cm,n,h):zS(cm,n,h),a.x=cm.x,a.y=cm.y,s=cm.align,o=cm.verticalAlign;var d=n.origin;if(d&&n.rotation!=null){var A=void 0,p=void 0;d==="center"?(A=h.width*.5,p=h.height*.5):(A=xc(d[0],h.width),p=xc(d[1],h.height)),u=!0,a.originX=-a.x+A+(i?0:h.x),a.originY=-a.y+p+(i?0:h.y)}}n.rotation!=null&&(a.rotation=n.rotation);var g=n.offset;g&&(a.x+=g[0],a.y+=g[1],u||(a.originX=-g[0],a.originY=-g[1]));var m=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});if(f){var v=m.overflowRect=m.overflowRect||new fr(0,0,0,0);a.getLocalTransform(m5),ku(m5,m5),fr.copy(v,h),v.applyTransform(m5)}else m.overflowRect=null;var y=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,b=void 0,_=void 0,T=void 0;y&&this.canBeInsideText()?(b=n.insideFill,_=n.insideStroke,(b==null||b==="auto")&&(b=this.getInsideTextFill()),(_==null||_==="auto")&&(_=this.getInsideTextStroke(b),T=!0)):(b=n.outsideFill,_=n.outsideStroke,(b==null||b==="auto")&&(b=this.getOutsideFill()),(_==null||_==="auto")&&(_=this.getOutsideStroke(b),T=!0)),b=b||"#000",(b!==m.fill||_!==m.stroke||T!==m.autoStroke||s!==m.align||o!==m.verticalAlign)&&(l=!0,m.fill=b,m.stroke=_,m.autoStroke=T,m.align=s,m.verticalAlign=o,e.setDefaultTextStyle(m)),e.__dirty|=Nl,l&&e.dirtyStyle(!0)}},r.prototype.canBeInsideText=function(){return!0},r.prototype.getInsideTextFill=function(){return"#fff"},r.prototype.getInsideTextStroke=function(t){return"#000"},r.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?nF:rF},r.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),n=typeof e=="string"&&oo(e);n||(n=[255,255,255,1]);for(var i=n[3],a=this.__zr.isDarkMode(),s=0;s<3;s++)n[s]=n[s]*i+(a?0:255)*(1-i);return n[3]=1,Su(n,"rgba")},r.prototype.traverse=function(t,e){},r.prototype.attrKV=function(t,e){t==="textConfig"?this.setTextConfig(e):t==="textContent"?this.setTextContent(e):t==="clipPath"?this.setClipPath(e):t==="extra"?(this.extra=this.extra||{},pt(this.extra,e)):this[t]=e},r.prototype.hide=function(){this.ignore=!0,this.markRedraw()},r.prototype.show=function(){this.ignore=!1,this.markRedraw()},r.prototype.attr=function(t,e){if(typeof t=="string")this.attrKV(t,e);else if(or(t))for(var n=t,i=en(n),a=0;a<i.length;a++){var s=i[a];this.attrKV(s,t[s])}return this.markRedraw(),this},r.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==dT)){var s=i.targetName,o=s?e[s]:e;i.saveTo(o)}}},r.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,AT)},r.prototype._savePrimaryToNormal=function(t,e,n){for(var i=0;i<n.length;i++){var a=n[i];t[a]!=null&&!(a in e)&&(e[a]=this[a])}},r.prototype.hasState=function(){return this.currentStates.length>0},r.prototype.getState=function(t){return this.states[t]},r.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},r.prototype.clearStates=function(t){this.useState(dT,!1,t)},r.prototype.useState=function(t,e,n,i){var a=t===dT,s=this.hasState();if(!(!s&&a)){var o=this.currentStates,l=this.stateTransition;if(!(Lr(o,t)>=0&&(e||o.length===1))){var u;if(this.stateProxy&&!a&&(u=this.stateProxy(t)),u||(u=this.states&&this.states[t]),!u&&!a){QC("State "+t+" not exists.");return}a||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||i);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,u,this._normalState,e,!n&&!this.__inHover&&l&&l.duration>0,l);var f=this._textContent,h=this._textGuide;return f&&f.useState(t,e,n,c),h&&h.useState(t,e,n,c),a?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Nl),u}}},r.prototype.useStates=function(t,e,n){if(!t.length)this.clearStates();else{var i=[],a=this.currentStates,s=t.length,o=s===a.length;if(o){for(var l=0;l<s;l++)if(t[l]!==a[l]){o=!1;break}}if(o)return;for(var l=0;l<s;l++){var u=t[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,t)),c||(c=this.states[u]),c&&i.push(c)}var f=i[s-1],h=!!(f&&f.hoverLayer||n);h&&this._toggleHoverLayerFlag(!0);var d=this._mergeStates(i),A=this.stateTransition;this.saveCurrentToNormalState(d),this._applyStateObj(t.join(","),d,this._normalState,!1,!e&&!this.__inHover&&A&&A.duration>0,A);var p=this._textContent,g=this._textGuide;p&&p.useStates(t,e,h),g&&g.useStates(t,e,h),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Nl)}},r.prototype.isSilent=function(){for(var t=this;t;){if(t.silent)return!0;var e=t.__hostTarget;t=e?t.ignoreHostSilent?null:e:t.parent}return!1},r.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},r.prototype.removeState=function(t){var e=Lr(this.currentStates,t);if(e>=0){var n=this.currentStates.slice();n.splice(e,1),this.useStates(n)}},r.prototype.replaceState=function(t,e,n){var i=this.currentStates.slice(),a=Lr(i,t),s=Lr(i,e)>=0;a>=0?s?i.splice(a,1):i[a]=e:n&&!s&&i.push(e),this.useStates(i)},r.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},r.prototype._mergeStates=function(t){for(var e={},n,i=0;i<t.length;i++){var a=t[i];pt(e,a),a.textConfig&&(n=n||{},pt(n,a.textConfig))}return n&&(e.textConfig=n),e},r.prototype._applyStateObj=function(t,e,n,i,a,s){var o=!(e&&i);e&&e.textConfig?(this.textConfig=pt({},i?this.textConfig:n.textConfig),pt(this.textConfig,e.textConfig)):o&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},u=!1,c=0;c<AT.length;c++){var f=AT[c],h=a&&Qge[f];e&&e[f]!=null?h?(u=!0,l[f]=e[f]):this[f]=e[f]:o&&n[f]!=null&&(h?(u=!0,l[f]=n[f]):this[f]=n[f])}if(!a)for(var c=0;c<this.animators.length;c++){var d=this.animators[c],A=d.targetName;d.getLoop()||d.__changeFinalValue(A?(e||n)[A]:e||n)}u&&this._transitionState(t,l,s)},r.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},r.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},r.prototype.getClipPath=function(){return this._clipPath},r.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},r.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},r.prototype.getTextContent=function(){return this._textContent},r.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new _h,this._attachComponent(t),this._textContent=t,this.markRedraw())},r.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),pt(this.textConfig,t),this.markRedraw()},r.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},r.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},r.prototype.getTextGuideLine=function(){return this._textGuide},r.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},r.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},r.prototype.markRedraw=function(){this.__dirty|=Nl;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},r.prototype.dirty=function(){this.markRedraw()},r.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,n=this._textGuide;e&&(e.__inHover=t),n&&(n.__inHover=t)},r.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},r.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},r.prototype.animate=function(t,e,n){var i=t?this[t]:this,a=new ND(i,e,n);return t&&(a.targetName=t),this.addAnimator(a,t),a},r.prototype.addAnimator=function(t,e){var n=this.__zr,i=this;t.during(function(){i.updateDuringAnimation(e)}).done(function(){var a=i.animators,s=Lr(a,t);s>=0&&a.splice(s,1)}),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},r.prototype.updateDuringAnimation=function(t){this.markRedraw()},r.prototype.stopAnimation=function(t,e){for(var n=this.animators,i=n.length,a=[],s=0;s<i;s++){var o=n[s];!t||t===o.scope?o.stop(e):a.push(o)}return this.animators=a,this},r.prototype.animateTo=function(t,e,n){pT(this,t,e,n)},r.prototype.animateFrom=function(t,e,n){pT(this,t,e,n,!0)},r.prototype._transitionState=function(t,e,n,i){for(var a=pT(this,e,n,i),s=0;s<a.length;s++)a[s].__fromStateTransition=t},r.prototype.getBoundingRect=function(){return null},r.prototype.getPaintRect=function(){return null},r.initDefaultProps=function(){var t=r.prototype;t.type="element",t.name="",t.ignore=t.silent=t.ignoreHostSilent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=Nl;function e(n,i,a,s){Object.defineProperty(t,n,{get:function(){if(!this[i]){var l=this[i]=[];o(this,l)}return this[i]},set:function(l){this[a]=l[0],this[s]=l[1],this[i]=l,o(this,l)}});function o(l,u){Object.defineProperty(u,0,{get:function(){return l[a]},set:function(c){l[a]=c}}),Object.defineProperty(u,1,{get:function(){return l[s]},set:function(c){l[s]=c}})}}Object.defineProperty&&(e("position","_legacyPos","x","y"),e("scale","_legacyScale","scaleX","scaleY"),e("origin","_legacyOrigin","originX","originY"))}(),r}();Ui(qC,Mu);Ui(qC,_h);function pT(r,t,e,n,i){e=e||{};var a=[];Gee(r,"",r,t,e,n,a,i);var s=a.length,o=!1,l=e.done,u=e.aborted,c=function(){o=!0,s--,s<=0&&(o?l&&l():u&&u())},f=function(){s--,s<=0&&(o?l&&l():u&&u())};s||l&&l(),a.length>0&&e.during&&a[0].during(function(A,p){e.during(p)});for(var h=0;h<a.length;h++){var d=a[h];c&&d.done(c),f&&d.aborted(f),e.force&&d.duration(e.duration),d.start(e.easing)}return a}function gT(r,t,e){for(var n=0;n<e;n++)r[n]=t[n]}function Vge(r){return Os(r[0])}function Gge(r,t,e){if(Os(t[e]))if(Os(r[e])||(r[e]=[]),Mo(t[e])){var n=t[e].length;r[e].length!==n&&(r[e]=new t[e].constructor(n),gT(r[e],t[e],n))}else{var i=t[e],a=r[e],s=i.length;if(Vge(i))for(var o=i[0].length,l=0;l<s;l++)a[l]?gT(a[l],i[l],o):a[l]=Array.prototype.slice.call(i[l]);else gT(a,i,s);a.length=i.length}else r[e]=t[e]}function Wge(r,t){return r===t||Os(r)&&Os(t)&&$ge(r,t)}function $ge(r,t){var e=r.length;if(e!==t.length)return!1;for(var n=0;n<e;n++)if(r[n]!==t[n])return!1;return!0}function Gee(r,t,e,n,i,a,s,o){for(var l=en(n),u=i.duration,c=i.delay,f=i.additive,h=i.setToFinal,d=!or(a),A=r.animators,p=[],g=0;g<l.length;g++){var m=l[g],v=n[m];if(v!=null&&e[m]!=null&&(d||a[m]))if(or(v)&&!Os(v)&&!Dw(v)){if(t){o||(e[m]=v,r.updateDuringAnimation(t));continue}Gee(r,m,e[m],v,i,a&&a[m],s,o)}else p.push(m);else o||(e[m]=v,r.updateDuringAnimation(t),p.push(m))}var y=p.length;if(!f&&y)for(var b=0;b<A.length;b++){var _=A[b];if(_.targetName===t){var T=_.stopTracks(p);if(T){var I=Lr(A,_);A.splice(I,1)}}}if(i.force||(p=dn(p,function(D){return!Wge(n[D],e[D])}),y=p.length),y>0||i.force&&!s.length){var N=void 0,F=void 0,P=void 0;if(o){F={},h&&(N={});for(var b=0;b<y;b++){var m=p[b];F[m]=e[m],h?N[m]=n[m]:e[m]=n[m]}}else if(h){P={};for(var b=0;b<y;b++){var m=p[b];P[m]=F2(e[m]),Gge(e,n,m)}}var _=new ND(e,!1,!1,f?dn(A,function(R){return R.targetName===t}):null);_.targetName=t,i.scope&&(_.scope=i.scope),h&&N&&_.whenWithKeys(0,N,p),P&&_.whenWithKeys(0,P,p),_.whenWithKeys(u??500,o?F:n,p).delay(c||0),r.addAnimator(_,t),s.push(_)}}var ir=function(r){Ge(t,r);function t(e){var n=r.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(e),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===e)return n[i]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,n){if(e&&e!==this&&e.parent!==this&&n&&n.parent===this){var i=this._children,a=i.indexOf(n);a>=0&&(i.splice(a,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,n){var i=Lr(this._children,e);return i>=0&&this.replaceAt(n,i),this},t.prototype.replaceAt=function(e,n){var i=this._children,a=i[n];if(e&&e!==this&&e.parent!==this&&e!==a){i[n]=e,a.parent=null;var s=this.__zr;s&&a.removeSelfFromZr(s),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var n=this.__zr;n&&n!==e.__zr&&e.addSelfToZr(n),n&&n.refresh()},t.prototype.remove=function(e){var n=this.__zr,i=this._children,a=Lr(i,e);return a<0?this:(i.splice(a,1),e.parent=null,n&&e.removeSelfFromZr(n),n&&n.refresh(),this)},t.prototype.removeAll=function(){for(var e=this._children,n=this.__zr,i=0;i<e.length;i++){var a=e[i];n&&a.removeSelfFromZr(n),a.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,n){for(var i=this._children,a=0;a<i.length;a++){var s=i[a];e.call(n,s,a)}return this},t.prototype.traverse=function(e,n){for(var i=0;i<this._children.length;i++){var a=this._children[i],s=e.call(n,a);a.isGroup&&!s&&a.traverse(e,n)}return this},t.prototype.addSelfToZr=function(e){r.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){r.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.removeSelfFromZr(e)}},t.prototype.getBoundingRect=function(e){for(var n=new fr(0,0,0,0),i=e||this._children,a=[],s=null,o=0;o<i.length;o++){var l=i[o];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(a);c?(fr.applyTransform(n,u,c),s=s||n.clone(),s.union(n)):(s=s||u.clone(),s.union(u))}}return s||n},t}(qC);ir.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var M3={},Fp={};function Kge(r){delete Fp[r]}function qge(r){if(!r)return!1;if(typeof r=="string")return Eb(r,1)<tF;if(r.colorStops){for(var t=r.colorStops,e=0,n=t.length,i=0;i<n;i++)e+=Eb(t[i].color,1);return e/=n,e<tF}return!1}var Xge=function(){function r(t,e,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=e,this.id=t;var a=new sge,s=n.renderer||"canvas";M3[s]||(s=en(M3)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var o=new M3[s](e,a,n,t),l=n.ssr||o.ssrOnly;this.storage=a,this.painter=o;var u=!Zr.node&&!Zr.worker&&!l?new jge(o.getViewportRoot(),o.root):null,c=n.useCoarsePointer,f=c==null||c==="auto"?Zr.touchEventsSupported:!!c,h=44,d;f&&(d=Zt(n.pointerSize,h)),this.handler=new See(a,o,u,o.root,d),this.animation=new Ige({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return r.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},r.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},r.prototype.configLayer=function(t,e){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh())},r.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=qge(t))},r.prototype.getBackgroundColor=function(){return this._backgroundColor},r.prototype.setDarkMode=function(t){this._darkMode=t},r.prototype.isDarkMode=function(){return this._darkMode},r.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},r.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},r.prototype.flush=function(){this._disposed||this._flush(!1)},r.prototype._flush=function(t){var e,n=Cv();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var i=Cv();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},r.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},r.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},r.prototype.refreshHover=function(){this._needsRefreshHover=!0},r.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},r.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},r.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},r.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},r.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},r.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},r.prototype.findHover=function(t,e){if(!this._disposed)return this.handler.findHover(t,e)},r.prototype.on=function(t,e,n){return this._disposed||this.handler.on(t,e,n),this},r.prototype.off=function(t,e){this._disposed||this.handler.off(t,e)},r.prototype.trigger=function(t,e){this._disposed||this.handler.trigger(t,e)},r.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof ir&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},r.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,Kge(this.id))},r}();function iF(r,t){var e=new Xge(wD(),r,t);return Fp[e.id]=e,e}function Yge(r){r.dispose()}function Zge(){for(var r in Fp)Fp.hasOwnProperty(r)&&Fp[r].dispose();Fp={}}function Jge(r){return Fp[r]}function Wee(r,t){M3[r]=t}var aF;function $ee(r){if(typeof aF=="function")return aF(r)}function Kee(r){aF=r}var eme="6.0.0";const tme=Object.freeze(Object.defineProperty({__proto__:null,dispose:Yge,disposeAll:Zge,getElementSSRData:$ee,getInstance:Jge,init:iF,registerPainter:Wee,registerSSRDataGetter:Kee,version:eme},Symbol.toStringTag,{value:"Module"}));var FU=1e-4,qee=20;function rme(r){return r.replace(/^\s+|\s+$/g,"")}var Hl=Math.min,ea=Math.max,uf=Math.abs;function gn(r,t,e,n){var i=t[0],a=t[1],s=e[0],o=e[1],l=a-i,u=o-s;if(l===0)return u===0?s:(s+o)/2;if(n)if(l>0){if(r<=i)return s;if(r>=a)return o}else{if(r>=i)return s;if(r<=a)return o}else{if(r===i)return s;if(r===a)return o}return(r-i)/l*u+s}var Ut=nme;function nme(r,t,e){switch(r){case"center":case"middle":r="50%";break;case"left":case"top":r="0%";break;case"right":case"bottom":r="100%";break}return VS(r,t,e)}function VS(r,t,e){return Ht(r)?rme(r).match(/%$/)?parseFloat(r)/100*t+(e||0):parseFloat(r):r==null?NaN:+r}function ta(r,t,e){return t==null&&(t=10),t=Math.min(Math.max(0,t),qee),r=(+r).toFixed(t),e?r:+r}function Ll(r){return r.sort(function(t,e){return t-e}),r}function oc(r){if(r=+r,isNaN(r))return 0;if(r>1e-14){for(var t=1,e=0;e<15;e++,t*=10)if(Math.round(r*t)/t===r)return e}return Xee(r)}function Xee(r){var t=r.toString().toLowerCase(),e=t.indexOf("e"),n=e>0?+t.slice(e+1):0,i=e>0?e:t.length,a=t.indexOf("."),s=a<0?0:i-1-a;return Math.max(0,s-n)}function FD(r,t){var e=Math.log,n=Math.LN10,i=Math.floor(e(r[1]-r[0])/n),a=Math.round(e(uf(t[1]-t[0]))/n),s=Math.min(Math.max(-i+a,0),20);return isFinite(s)?s:20}function ime(r,t,e){if(!r[t])return 0;var n=Yee(r,e);return n[t]||0}function Yee(r,t){var e=Eu(r,function(d,A){return d+(isNaN(A)?0:A)},0);if(e===0)return[];for(var n=Math.pow(10,t),i=wt(r,function(d){return(isNaN(d)?0:d)/e*n*100}),a=n*100,s=wt(i,function(d){return Math.floor(d)}),o=Eu(s,function(d,A){return d+A},0),l=wt(i,function(d,A){return d-s[A]});o<a;){for(var u=Number.NEGATIVE_INFINITY,c=null,f=0,h=l.length;f<h;++f)l[f]>u&&(u=l[f],c=f);++s[c],l[c]=0,++o}return wt(s,function(d){return d/n})}function ame(r,t){var e=Math.max(oc(r),oc(t)),n=r+t;return e>qee?n:ta(n,e)}var sF=9007199254740991;function ID(r){var t=Math.PI*2;return(r%t+t)%t}function T1(r){return r>-FU&&r<FU}var sme=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Mf(r){if(r instanceof Date)return r;if(Ht(r)){var t=sme.exec(r);if(!t)return new Date(NaN);if(t[8]){var e=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(e-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,e,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(r==null)return new Date(NaN);return new Date(Math.round(r))}function Zee(r){return Math.pow(10,XC(r))}function XC(r){if(r===0)return 0;var t=Math.floor(Math.log(r)/Math.LN10);return r/Math.pow(10,t)>=10&&t++,t}function MD(r,t){var e=XC(r),n=Math.pow(10,e),i=r/n,a;return t?i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10:i<1?a=1:i<2?a=2:i<3?a=3:i<5?a=5:a=10,r=a*n,e>=-20?+r.toFixed(e<0?-e:0):r}function L3(r,t){var e=(r.length-1)*t+1,n=Math.floor(e),i=+r[n-1],a=e-n;return a?i+a*(r[n]-i):i}function oF(r){r.sort(function(l,u){return o(l,u,0)?-1:1});for(var t=-1/0,e=1,n=0;n<r.length;){for(var i=r[n].interval,a=r[n].close,s=0;s<2;s++)i[s]<=t&&(i[s]=t,a[s]=s?1:1-e),t=i[s],e=a[s];i[0]===i[1]&&a[0]*a[1]!==1?r.splice(n,1):n++}return r;function o(l,u,c){return l.interval[c]<u.interval[c]||l.interval[c]===u.interval[c]&&(l.close[c]-u.close[c]===(c?-1:1)||!c&&o(l,u,1))}}function Tf(r){var t=parseFloat(r);return t==r&&(t!==0||!Ht(r)||r.indexOf("x")<=0)?t:NaN}function LD(r){return!isNaN(Tf(r))}function Jee(){return Math.round(Math.random()*9)}function ete(r,t){return t===0?r:ete(t,r%t)}function IU(r,t){return r==null?t:t==null?r:r*t/ete(r,t)}var ome="[ECharts] ",MU={},lme=typeof console<"u"&&console.warn&&console.log;function ume(r,t,e){if(lme){if(e){if(MU[t])return;MU[t]=!0}console[r](ome+t)}}function tte(r,t){ume("error",r,t)}function mn(r){throw new Error(r)}function LU(r,t,e){return(t-r)*e+r}var rte="series\0",nte="\0_ec_\0";function Un(r){return r instanceof Array?r:r==null?[]:[r]}function yg(r,t,e){if(r){r[t]=r[t]||{},r.emphasis=r.emphasis||{},r.emphasis[t]=r.emphasis[t]||{};for(var n=0,i=e.length;n<i;n++){var a=e[n];!r.emphasis[t].hasOwnProperty(a)&&r[t].hasOwnProperty(a)&&(r.emphasis[t][a]=r[t][a])}}}var DU=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Y1(r){return or(r)&&!xt(r)&&!(r instanceof Date)?r.value:r}function cme(r){return or(r)&&!(r instanceof Array)}function ite(r,t,e){var n=e==="normalMerge",i=e==="replaceMerge",a=e==="replaceAll";r=r||[],t=(t||[]).slice();var s=Xt();se(t,function(l,u){if(!or(l)){t[u]=null;return}});var o=fme(r,s,e);return(n||i)&&hme(o,r,s,t),n&&dme(o,t),n||i?Ame(o,t,i):a&&pme(o,t),gme(o),o}function fme(r,t,e){var n=[];if(e==="replaceAll")return n;for(var i=0;i<r.length;i++){var a=r[i];a&&a.id!=null&&t.set(a.id,i),n.push({existing:e==="replaceMerge"||Nb(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return n}function hme(r,t,e,n){se(n,function(i,a){if(!(!i||i.id==null)){var s=I2(i.id),o=e.get(s);if(o!=null){var l=r[o];js(!l.newOption,'Duplicated option on id "'+s+'".'),l.newOption=i,l.existing=t[o],n[a]=null}}})}function dme(r,t){se(t,function(e,n){if(!(!e||e.name==null))for(var i=0;i<r.length;i++){var a=r[i].existing;if(!r[i].newOption&&a&&(a.id==null||e.id==null)&&!Nb(e)&&!Nb(a)&&ate("name",a,e)){r[i].newOption=e,t[n]=null;return}}})}function Ame(r,t,e){se(t,function(n){if(n){for(var i,a=0;(i=r[a])&&(i.newOption||Nb(i.existing)||i.existing&&n.id!=null&&!ate("id",n,i.existing));)a++;i?(i.newOption=n,i.brandNew=e):r.push({newOption:n,brandNew:e,existing:null,keyInfo:null}),a++}})}function pme(r,t){se(t,function(e){r.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})})}function gme(r){var t=Xt();se(r,function(e){var n=e.existing;n&&t.set(n.id,e)}),se(r,function(e){var n=e.newOption;js(!n||n.id==null||!t.get(n.id)||t.get(n.id)===e,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&t.set(n.id,e),!e.keyInfo&&(e.keyInfo={})}),se(r,function(e,n){var i=e.existing,a=e.newOption,s=e.keyInfo;if(or(a)){if(s.name=a.name!=null?I2(a.name):i?i.name:rte+n,i)s.id=I2(i.id);else if(a.id!=null)s.id=I2(a.id);else{var o=0;do s.id="\0"+s.name+"\0"+o++;while(t.get(s.id))}t.set(s.id,e)}})}function ate(r,t,e){var n=Na(t[r],null),i=Na(e[r],null);return n!=null&&i!=null&&n===i}function I2(r){return Na(r,"")}function Na(r,t){return r==null?t:Ht(r)?r:an(r)||FS(r)?r+"":t}function DD(r){var t=r.name;return!!(t&&t.indexOf(rte))}function Nb(r){return r&&r.id!=null&&I2(r.id).indexOf(nte)===0}function mme(r){return nte+r}function vme(r,t,e){se(r,function(n){var i=n.newOption;or(i)&&(n.keyInfo.mainType=t,n.keyInfo.subType=yme(t,i,n.existing,e))})}function yme(r,t,e,n){var i=t.type?t.type:e?e.subType:n.determineSubType(r,t);return i}function xme(r,t){var e={},n={};return i(r||[],e),i(t||[],n,e),[a(e),a(n)];function i(s,o,l){for(var u=0,c=s.length;u<c;u++){var f=Na(s[u].seriesId,null);if(f==null)return;for(var h=Un(s[u].dataIndex),d=l&&l[f],A=0,p=h.length;A<p;A++){var g=h[A];d&&d[g]?d[g]=null:(o[f]||(o[f]={}))[g]=1}}}function a(s,o){var l=[];for(var u in s)if(s.hasOwnProperty(u)&&s[u]!=null)if(o)l.push(+u);else{var c=a(s[u],!0);c.length&&l.push({seriesId:u,dataIndex:c})}return l}}function xg(r,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return xt(t.dataIndex)?wt(t.dataIndex,function(e){return r.indexOfRawIndex(e)}):r.indexOfRawIndex(t.dataIndex);if(t.name!=null)return xt(t.name)?wt(t.name,function(e){return r.indexOfName(e)}):r.indexOfName(t.name)}function Kr(){var r="__ec_inner_"+bme++;return function(t){return t[r]||(t[r]={})}}var bme=Jee();function zv(r,t,e){var n=PD(t,e),i=n.mainTypeSpecified,a=n.queryOptionMap,s=n.others,o=s,l=e?e.defaultMainType:null;return!i&&l&&a.set(l,{}),a.each(function(u,c){var f=Z1(r,c,u,{useDefault:l===c,enableAll:e&&e.enableAll!=null?e.enableAll:!0,enableNone:e&&e.enableNone!=null?e.enableNone:!0});o[c+"Models"]=f.models,o[c+"Model"]=f.models[0]}),o}function PD(r,t){var e;if(Ht(r)){var n={};n[r+"Index"]=0,e=n}else e=r;var i=Xt(),a={},s=!1;return se(e,function(o,l){if(l==="dataIndex"||l==="dataIndexInside"){a[l]=o;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],f=(u[2]||"").toLowerCase();if(!(!c||!f||t&&t.includeMainTypes&&Lr(t.includeMainTypes,c)<0)){s=s||!!c;var h=i.get(c)||i.set(c,{});h[f]=o}}),{mainTypeSpecified:s,queryOptionMap:i,others:a}}var Ni={useDefault:!0,enableAll:!1,enableNone:!1},wme={useDefault:!1,enableAll:!0,enableNone:!0};function Z1(r,t,e,n){n=n||Ni;var i=e.index,a=e.id,s=e.name,o={models:null,specified:i!=null||a!=null||s!=null};if(!o.specified){var l=void 0;return o.models=n.useDefault&&(l=r.getComponent(t))?[l]:[],o}if(i==="none"||i===!1){if(n.enableNone)return o.models=[],o;i=-1}return i==="all"&&(n.enableAll?i=a=s=null:i=-1),o.models=r.queryComponents({mainType:t,index:i,id:a,name:s}),o}function ste(r,t,e){r.setAttribute?r.setAttribute(t,e):r[t]=e}function _me(r,t){return r.getAttribute?r.getAttribute(t):r[t]}function Sme(r){return r==="auto"?Zr.domSupported?"html":"richText":r||"html"}function lF(r,t){var e=Xt(),n=[];return se(r,function(i){var a=t(i);(e.get(a)||(n.push(a),e.set(a,[]))).push(i)}),{keys:n,buckets:e}}function ote(r,t,e,n,i){var a=t==null||t==="auto";if(n==null)return n;if(an(n)){var s=LU(e||0,n,i);return ta(s,a?Math.max(oc(e||0),oc(n)):t)}else{if(Ht(n))return i<1?e:n;for(var o=[],l=e,u=n,c=Math.max(l?l.length:0,u.length),f=0;f<c;++f){var h=r.getDimensionInfo(f);if(h&&h.type==="ordinal")o[f]=(i<1&&l?l:u)[f];else{var d=l&&l[f]?l[f]:0,A=u[f],s=LU(d,A,i);o[f]=ta(s,a?Math.max(oc(d),oc(A)):t)}}return o}}var MA=function(){function r(){}return r.prototype.reset=function(t,e,n,i){return this._list=t,this._step=i=i||1,this._idx=e,this._end=n??(i>0?t.length:0),this.item=null,this.key=NaN,this},r.prototype.next=function(){return(this._step>0?this._idx<this._end:this._idx>=this._end)?(this.item=this._list[this._idx],this.key=this._idx=this._idx+this._step,!0):!1},r}();function mT(r){r.option=r.parentModel=r.ecModel=null}var Cme=".",j0="___EC__COMPONENT__CONTAINER___",lte="___EC__EXTENDED_CLASS___";function cf(r){var t={main:"",sub:""};if(r){var e=r.split(Cme);t.main=e[0]||"",t.sub=e[1]||""}return t}function Bme(r){js(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r),'componentType "'+r+'" illegal')}function Tme(r){return!!(r&&r[lte])}function RD(r,t){r.$constructor=r,r.extend=function(e){var n=this,i;return Eme(n)?i=function(a){Ge(s,a);function s(){return a.apply(this,arguments)||this}return s}(n):(i=function(){(e.$constructor||n).apply(this,arguments)},_D(i,this)),pt(i.prototype,e),i[lte]=!0,i.extend=this.extend,i.superCall=Fme,i.superApply=Ime,i.superClass=n,i}}function Eme(r){return rr(r)&&/^class\s/.test(Function.prototype.toString.call(r))}function ute(r,t){r.extend=t.extend}var kme=Math.round(Math.random()*10);function Nme(r){var t=["__\0is_clz",kme++].join("_");r.prototype[t]=!0,r.isInstance=function(e){return!!(e&&e[t])}}function Fme(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];return this.superClass.prototype[t].apply(r,e)}function Ime(r,t,e){return this.superClass.prototype[t].apply(r,e)}function YC(r){var t={};r.registerClass=function(n){var i=n.type||n.prototype.type;if(i){Bme(i),n.prototype.type=i;var a=cf(i);if(!a.sub)t[a.main]=n;else if(a.sub!==j0){var s=e(a);s[a.sub]=n}}return n},r.getClass=function(n,i,a){var s=t[n];if(s&&s[j0]&&(s=i?s[i]:null),a&&!s)throw new Error(i?"Component "+n+"."+(i||"")+" is used but not imported.":n+".type should be specified.");return s},r.getClassesByMainType=function(n){var i=cf(n),a=[],s=t[i.main];return s&&s[j0]?se(s,function(o,l){l!==j0&&a.push(o)}):a.push(s),a},r.hasClass=function(n){var i=cf(n);return!!t[i.main]},r.getAllClassMainTypes=function(){var n=[];return se(t,function(i,a){n.push(a)}),n},r.hasSubTypes=function(n){var i=cf(n),a=t[i.main];return a&&a[j0]};function e(n){var i=t[n.main];return(!i||!i[j0])&&(i=t[n.main]={},i[j0]=!0),i}}function bg(r,t){for(var e=0;e<r.length;e++)r[e][1]||(r[e][1]=r[e][0]);return t=t||!1,function(n,i,a){for(var s={},o=0;o<r.length;o++){var l=r[o][1];if(!(i&&Lr(i,l)>=0||a&&Lr(a,l)<0)){var u=n.getShallow(l,t);u!=null&&(s[r[o][0]]=u)}}return s}}var Mme=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],Lme=bg(Mme),Dme=function(){function r(){}return r.prototype.getAreaStyle=function(t,e){return Lme(this,t,e)},r}(),uF=new C1(50);function Pme(r){if(typeof r=="string"){var t=uF.get(r);return t&&t.image}else return r}function OD(r,t,e,n,i){if(r)if(typeof r=="string"){if(t&&t.__zrImageSrc===r||!e)return t;var a=uF.get(r),s={hostEl:e,cb:n,cbPayload:i};return a?(t=a.image,!ZC(t)&&a.pending.push(s)):(t=il.loadImage(r,PU,PU),t.__zrImageSrc=r,uF.put(r,t.__cachedImgObj={image:t,pending:[s]})),t}else return r;else return t}function PU(){var r=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<r.pending.length;t++){var e=r.pending[t],n=e.cb;n&&n(this,e.cbPayload),e.hostEl.dirty()}r.pending.length=0}function ZC(r){return r&&r.width&&r.height}var vT=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Rme(r,t,e,n,i){var a={};return cte(a,r,t,e,n,i),a.text}function cte(r,t,e,n,i,a){if(!e){r.text="",r.isTruncated=!1;return}var s=(t+"").split(`
`);a=fte(e,n,i,a);for(var o=!1,l={},u=0,c=s.length;u<c;u++)hte(l,s[u],a),s[u]=l.textLine,o=o||l.isTruncated;r.text=s.join(`
`),r.isTruncated=o}function fte(r,t,e,n){n=n||{};var i=pt({},n);e=Zt(e,"..."),i.maxIterations=Zt(n.maxIterations,2);var a=i.minChar=Zt(n.minChar,0),s=i.fontMeasureInfo=xf(t),o=s.asciiCharWidth;i.placeholder=Zt(n.placeholder,"");for(var l=r=Math.max(0,r-1),u=0;u<a&&l>=o;u++)l-=o;var c=bf(s,e);return c>l&&(e="",c=0),l=r-c,i.ellipsis=e,i.ellipsisWidth=c,i.contentWidth=l,i.containerWidth=r,i}function hte(r,t,e){var n=e.containerWidth,i=e.contentWidth,a=e.fontMeasureInfo;if(!n){r.textLine="",r.isTruncated=!1;return}var s=bf(a,t);if(s<=n){r.textLine=t,r.isTruncated=!1;return}for(var o=0;;o++){if(s<=i||o>=e.maxIterations){t+=e.ellipsis;break}var l=o===0?Ome(t,i,a):s>0?Math.floor(t.length*i/s):0;t=t.substr(0,l),s=bf(a,t)}t===""&&(t=e.placeholder),r.textLine=t,r.isTruncated=!0}function Ome(r,t,e){for(var n=0,i=0,a=r.length;i<a&&n<t;i++)n+=Vee(e,r.charCodeAt(i));return i}function jme(r,t,e,n){var i=jD(r),a=t.overflow,s=t.padding,o=s?s[1]+s[3]:0,l=s?s[0]+s[2]:0,u=t.font,c=a==="truncate",f=Uw(u),h=Zt(t.lineHeight,f),d=t.lineOverflow==="truncate",A=!1,p=t.width;p==null&&e!=null&&(p=e-o);var g=t.height;g==null&&n!=null&&(g=n-l);var m;p!=null&&(a==="break"||a==="breakAll")?m=i?dte(i,t.font,p,a==="breakAll",0).lines:[]:m=i?i.split(`
`):[];var v=m.length*h;if(g==null&&(g=v),v>g&&d){var y=Math.floor(g/h);A=A||m.length>y,m=m.slice(0,y),v=m.length*h}if(i&&c&&p!=null)for(var b=fte(p,u,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),_={},T=0;T<m.length;T++)hte(_,m[T],b),m[T]=_.textLine,A=A||_.isTruncated;for(var I=g,N=0,F=xf(u),T=0;T<m.length;T++)N=Math.max(bf(F,m[T]),N);p==null&&(p=N);var P=p;return I+=l,P+=o,{lines:m,height:g,outerWidth:P,outerHeight:I,lineHeight:h,calculatedLineHeight:f,contentWidth:N,contentHeight:v,width:p,isTruncated:A}}var Ume=function(){function r(){}return r}(),RU=function(){function r(t){this.tokens=[],t&&(this.tokens=t)}return r}(),Hme=function(){function r(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return r}();function Qme(r,t,e,n,i){var a=new Hme,s=jD(r);if(!s)return a;var o=t.padding,l=o?o[1]+o[3]:0,u=o?o[0]+o[2]:0,c=t.width;c==null&&e!=null&&(c=e-l);var f=t.height;f==null&&n!=null&&(f=n-u);for(var h=t.overflow,d=(h==="break"||h==="breakAll")&&c!=null?{width:c,accumWidth:0,breakAll:h==="breakAll"}:null,A=vT.lastIndex=0,p;(p=vT.exec(s))!=null;){var g=p.index;g>A&&yT(a,s.substring(A,g),t,d),yT(a,p[2],t,d,p[1]),A=vT.lastIndex}A<s.length&&yT(a,s.substring(A,s.length),t,d);var m=[],v=0,y=0,b=h==="truncate",_=t.lineOverflow==="truncate",T={};function I(j,X,z){j.width=X,j.lineHeight=z,v+=z,y=Math.max(y,X)}e:for(var N=0;N<a.lines.length;N++){for(var F=a.lines[N],P=0,D=0,R=0;R<F.tokens.length;R++){var E=F.tokens[R],L=E.styleName&&t.rich[E.styleName]||{},k=E.textPadding=L.padding,w=k?k[1]+k[3]:0,C=E.font=L.font||t.font;E.contentHeight=Uw(C);var S=Zt(L.height,E.contentHeight);if(E.innerHeight=S,k&&(S+=k[0]+k[2]),E.height=S,E.lineHeight=rl(L.lineHeight,t.lineHeight,S),E.align=L&&L.align||i,E.verticalAlign=L&&L.verticalAlign||"middle",_&&f!=null&&v+E.lineHeight>f){var B=a.lines.length;R>0?(F.tokens=F.tokens.slice(0,R),I(F,D,P),a.lines=a.lines.slice(0,N+1)):a.lines=a.lines.slice(0,N),a.isTruncated=a.isTruncated||a.lines.length<B;break e}var O=L.width,V=O==null||O==="auto";if(typeof O=="string"&&O.charAt(O.length-1)==="%")E.percentWidth=O,m.push(E),E.contentWidth=bf(xf(C),E.text);else{if(V){var M=L.backgroundColor,U=M&&M.image;U&&(U=Pme(U),ZC(U)&&(E.width=Math.max(E.width,U.width*S/U.height)))}var Q=b&&c!=null?c-D:null;Q!=null&&Q<E.width?!V||Q<w?(E.text="",E.width=E.contentWidth=0):(cte(T,E.text,Q-w,C,t.ellipsis,{minChar:t.truncateMinChar}),E.text=T.text,a.isTruncated=a.isTruncated||T.isTruncated,E.width=E.contentWidth=bf(xf(C),E.text)):E.contentWidth=bf(xf(C),E.text)}E.width+=w,D+=E.width,L&&(P=Math.max(P,E.lineHeight))}I(F,D,P)}a.outerWidth=a.width=Zt(c,y),a.outerHeight=a.height=Zt(f,v),a.contentHeight=v,a.contentWidth=y,a.outerWidth+=l,a.outerHeight+=u;for(var N=0;N<m.length;N++){var E=m[N],W=E.percentWidth;E.width=parseInt(W,10)/100*a.width}return a}function yT(r,t,e,n,i){var a=t==="",s=i&&e.rich[i]||{},o=r.lines,l=s.font||e.font,u=!1,c,f;if(n){var h=s.padding,d=h?h[1]+h[3]:0;if(s.width!=null&&s.width!=="auto"){var A=xc(s.width,n.width)+d;o.length>0&&A+n.accumWidth>n.width&&(c=t.split(`
`),u=!0),n.accumWidth=A}else{var p=dte(t,l,n.width,n.breakAll,n.accumWidth);n.accumWidth=p.accumWidth+d,f=p.linesWidths,c=p.lines}}c||(c=t.split(`
`));for(var g=xf(l),m=0;m<c.length;m++){var v=c[m],y=new Ume;if(y.styleName=i,y.text=v,y.isLineHolder=!v&&!a,typeof s.width=="number"?y.width=s.width:y.width=f?f[m]:bf(g,v),!m&&!u){var b=(o[o.length-1]||(o[0]=new RU)).tokens,_=b.length;_===1&&b[0].isLineHolder?b[0]=y:(v||!_||a)&&b.push(y)}else o.push(new RU([y]))}}function zme(r){var t=r.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var Vme=Eu(",&?/;] ".split(""),function(r,t){return r[t]=!0,r},{});function Gme(r){return zme(r)?!!Vme[r]:!0}function dte(r,t,e,n,i){for(var a=[],s=[],o="",l="",u=0,c=0,f=xf(t),h=0;h<r.length;h++){var d=r.charAt(h);if(d===`
`){l&&(o+=l,c+=u),a.push(o),s.push(c),o="",l="",u=0,c=0;continue}var A=Vee(f,d.charCodeAt(0)),p=n?!1:!Gme(d);if(a.length?c+A>e:i+c+A>e){c?(o||l)&&(p?(o||(o=l,l="",u=0,c=u),a.push(o),s.push(c-u),l+=d,u+=A,o="",c=u):(l&&(o+=l,l="",u=0),a.push(o),s.push(c),o=d,c=A)):p?(a.push(l),s.push(u),l=d,u=A):(a.push(d),s.push(A));continue}c+=A,p?(l+=d,u+=A):(l&&(o+=l,l="",u=0),o+=d)}return l&&(o+=l),o&&(a.push(o),s.push(c)),a.length===1&&(c+=i),{accumWidth:c,lines:a,linesWidths:s}}function OU(r,t,e,n,i,a){if(r.baseX=e,r.baseY=n,r.outerWidth=r.outerHeight=null,!!t){var s=t.width*2,o=t.height*2;fr.set(jU,B1(e,s,i),tg(n,o,a),s,o),fr.intersect(t,jU,null,UU);var l=UU.outIntersectRect;r.outerWidth=l.width,r.outerHeight=l.height,r.baseX=B1(l.x,l.width,i,!0),r.baseY=tg(l.y,l.height,a,!0)}}var jU=new fr(0,0,0,0),UU={outIntersectRect:{},clamp:!0};function jD(r){return r!=null?r+="":r=""}function Wme(r){var t=jD(r.text),e=r.font,n=bf(xf(e),t),i=Uw(e);return cF(r,n,i,null)}function cF(r,t,e,n){var i=new fr(B1(r.x||0,t,r.textAlign),tg(r.y||0,e,r.textBaseline),t,e),a=n??(Ate(r)?r.lineWidth:0);return a>0&&(i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a),i}function Ate(r){var t=r.stroke;return t!=null&&t!=="none"&&r.lineWidth>0}var fF="__zr_style_"+Math.round(Math.random()*10),rg={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},JC={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};rg[fF]=!0;var HU=["z","z2","invisible"],$me=["invisible"],Nu=function(r){Ge(t,r);function t(e){return r.call(this,e)||this}return t.prototype._init=function(e){for(var n=en(e),i=0;i<n.length;i++){var a=n[i];a==="style"?this.useStyle(e[a]):r.prototype.attrKV.call(this,a,e[a])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(e,n,i,a){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&Kme(this,e,n)||s&&!s[0]&&!s[3])return!1;if(i&&this.__clipPaths&&this.__clipPaths.length){for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1}if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},t.prototype.contain=function(e,n){return this.rectContain(e,n)},t.prototype.traverse=function(e,n){e.call(n,this)},t.prototype.rectContain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect();return a.contain(i[0],i[1])},t.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,i=this.getBoundingRect(),a=this.style,s=a.shadowBlur||0,o=a.shadowOffsetX||0,l=a.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new fr(0,0,0,0)),n?fr.applyTransform(e,i,n):e.copy(i),(s||o||l)&&(e.width+=s*2+Math.abs(o),e.height+=s*2+Math.abs(l),e.x=Math.min(e.x,e.x+o-s),e.y=Math.min(e.y,e.y+l-s));var u=this.dirtyRectTolerance;e.isZero()||(e.x=Math.floor(e.x-u),e.y=Math.floor(e.y-u),e.width=Math.ceil(e.width+1+u*2),e.height=Math.ceil(e.height+1+u*2))}return e},t.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new fr(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(e){return this.animate("style",e)},t.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(e,n){e!=="style"?r.prototype.attrKV.call(this,e,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(e,n){return typeof e=="string"?this.style[e]=n:pt(this.style,e),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(e){e||this.markRedraw(),this.__dirty|=Gx,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&Gx)},t.prototype.styleUpdated=function(){this.__dirty&=~Gx},t.prototype.createStyle=function(e){return Rw(rg,e)},t.prototype.useStyle=function(e){e[fF]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},t.prototype.isStyleObject=function(e){return e[fF]},t.prototype._innerSaveToNormal=function(e){r.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,n,HU)},t.prototype._applyStateObj=function(e,n,i,a,s,o){r.prototype._applyStateObj.call(this,e,n,i,a,s,o);var l=!(n&&a),u;if(n&&n.style?s?a?u=n.style:(u=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(u,n.style)):(u=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(u,n.style)):l&&(u=i.style),u)if(s){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var f=en(c),h=0;h<f.length;h++){var d=f[h];d in u&&(u[d]=u[d],this.style[d]=c[d])}for(var A=en(u),h=0;h<A.length;h++){var d=A[h];this.style[d]=this.style[d]}this._transitionState(e,{style:u},o,this.getAnimationStyleProps())}else this.useStyle(u);for(var p=this.__inHover?$me:HU,h=0;h<p.length;h++){var d=p[h];n&&n[d]!=null?this[d]=n[d]:l&&i[d]!=null&&(this[d]=i[d])}},t.prototype._mergeStates=function(e){for(var n=r.prototype._mergeStates.call(this,e),i,a=0;a<e.length;a++){var s=e[a];s.style&&(i=i||{},this._mergeStyle(i,s.style))}return i&&(n.style=i),n},t.prototype._mergeStyle=function(e,n){return pt(e,n),e},t.prototype.getAnimationStyleProps=function(){return JC},t.initDefaultProps=function(){var e=t.prototype;e.type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,e.__dirty=Nl|Gx}(),t}(qC),xT=new fr(0,0,0,0),bT=new fr(0,0,0,0);function Kme(r,t,e){return xT.copy(r.getBoundingRect()),r.transform&&xT.applyTransform(r.transform),bT.width=t,bT.height=e,!xT.intersect(bT)}var $o=Math.min,Ko=Math.max,wT=Math.sin,_T=Math.cos,U0=Math.PI*2,v5=f0(),y5=f0(),x5=f0();function e8(r,t,e){if(r.length!==0){for(var n=r[0],i=n[0],a=n[0],s=n[1],o=n[1],l=1;l<r.length;l++)n=r[l],i=$o(i,n[0]),a=Ko(a,n[0]),s=$o(s,n[1]),o=Ko(o,n[1]);t[0]=i,t[1]=s,e[0]=a,e[1]=o}}function QU(r,t,e,n,i,a){i[0]=$o(r,e),i[1]=$o(t,n),a[0]=Ko(r,e),a[1]=Ko(t,n)}var zU=[],VU=[];function qme(r,t,e,n,i,a,s,o,l,u){var c=kee,f=Ga,h=c(r,e,i,s,zU);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var d=0;d<h;d++){var A=f(r,e,i,s,zU[d]);l[0]=$o(A,l[0]),u[0]=Ko(A,u[0])}h=c(t,n,a,o,VU);for(var d=0;d<h;d++){var p=f(t,n,a,o,VU[d]);l[1]=$o(p,l[1]),u[1]=Ko(p,u[1])}l[0]=$o(r,l[0]),u[0]=Ko(r,u[0]),l[0]=$o(s,l[0]),u[0]=Ko(s,u[0]),l[1]=$o(t,l[1]),u[1]=Ko(t,u[1]),l[1]=$o(o,l[1]),u[1]=Ko(o,u[1])}function Xme(r,t,e,n,i,a,s,o){var l=Fee,u=us,c=Ko($o(l(r,e,i),1),0),f=Ko($o(l(t,n,a),1),0),h=u(r,e,i,c),d=u(t,n,a,f);s[0]=$o(r,i,h),s[1]=$o(t,a,d),o[0]=Ko(r,i,h),o[1]=Ko(t,a,d)}function Yme(r,t,e,n,i,a,s,o,l){var u=bh,c=wh,f=Math.abs(i-a);if(f%U0<1e-4&&f>1e-4){o[0]=r-e,o[1]=t-n,l[0]=r+e,l[1]=t+n;return}if(v5[0]=_T(i)*e+r,v5[1]=wT(i)*n+t,y5[0]=_T(a)*e+r,y5[1]=wT(a)*n+t,u(o,v5,y5),c(l,v5,y5),i=i%U0,i<0&&(i=i+U0),a=a%U0,a<0&&(a=a+U0),i>a&&!s?a+=U0:i<a&&s&&(i+=U0),s){var h=a;a=i,i=h}for(var d=0;d<a;d+=Math.PI/2)d>i&&(x5[0]=_T(d)*e+r,x5[1]=wT(d)*n+t,u(o,x5,o),c(l,x5,l))}var Gn={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},H0=[],Q0=[],Rc=[],_d=[],Oc=[],jc=[],ST=Math.min,CT=Math.max,z0=Math.cos,V0=Math.sin,qf=Math.abs,hF=Math.PI,Pd=hF*2,BT=typeof Float32Array<"u",tx=[];function TT(r){var t=Math.round(r/hF*1e8)/1e8;return t%2*hF}function t8(r,t){var e=TT(r[0]);e<0&&(e+=Pd);var n=e-r[0],i=r[1];i+=n,!t&&i-e>=Pd?i=e+Pd:t&&e-i>=Pd?i=e-Pd:!t&&e>i?i=e+(Pd-TT(e-i)):t&&e<i&&(i=e-(Pd-TT(i-e))),r[0]=e,r[1]=i}var Ef=function(){function r(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return r.prototype.increaseVersion=function(){this._version++},r.prototype.getVersion=function(){return this._version},r.prototype.setScale=function(t,e,n){n=n||0,n>0&&(this._ux=qf(n/HS/t)||0,this._uy=qf(n/HS/e)||0)},r.prototype.setDPR=function(t){this.dpr=t},r.prototype.setContext=function(t){this._ctx=t},r.prototype.getContext=function(){return this._ctx},r.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},r.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},r.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(Gn.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},r.prototype.lineTo=function(t,e){var n=qf(t-this._xi),i=qf(e-this._yi),a=n>this._ux||i>this._uy;if(this.addData(Gn.L,t,e),this._ctx&&a&&this._ctx.lineTo(t,e),a)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var s=n*n+i*i;s>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=s)}return this},r.prototype.bezierCurveTo=function(t,e,n,i,a,s){return this._drawPendingPt(),this.addData(Gn.C,t,e,n,i,a,s),this._ctx&&this._ctx.bezierCurveTo(t,e,n,i,a,s),this._xi=a,this._yi=s,this},r.prototype.quadraticCurveTo=function(t,e,n,i){return this._drawPendingPt(),this.addData(Gn.Q,t,e,n,i),this._ctx&&this._ctx.quadraticCurveTo(t,e,n,i),this._xi=n,this._yi=i,this},r.prototype.arc=function(t,e,n,i,a,s){this._drawPendingPt(),tx[0]=i,tx[1]=a,t8(tx,s),i=tx[0],a=tx[1];var o=a-i;return this.addData(Gn.A,t,e,n,n,i,o,0,s?0:1),this._ctx&&this._ctx.arc(t,e,n,i,a,s),this._xi=z0(a)*n+t,this._yi=V0(a)*n+e,this},r.prototype.arcTo=function(t,e,n,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,n,i,a),this},r.prototype.rect=function(t,e,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,n,i),this.addData(Gn.R,t,e,n,i),this},r.prototype.closePath=function(){this._drawPendingPt(),this.addData(Gn.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&t.closePath(),this._xi=e,this._yi=n,this},r.prototype.fill=function(t){t&&t.fill(),this.toStatic()},r.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},r.prototype.len=function(){return this._len},r.prototype.setData=function(t){if(this._saveData){var e=t.length;!(this.data&&this.data.length===e)&&BT&&(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e}},r.prototype.appendPath=function(t){if(this._saveData){t instanceof Array||(t=[t]);for(var e=t.length,n=0,i=this._len,a=0;a<e;a++)n+=t[a].len();var s=this.data;if(BT&&(s instanceof Float32Array||!s)&&(this.data=new Float32Array(i+n),i>0&&s))for(var o=0;o<i;o++)this.data[o]=s[o];for(var a=0;a<e;a++)for(var l=t[a].data,o=0;o<l.length;o++)this.data[i++]=l[o];this._len=i}},r.prototype.addData=function(t,e,n,i,a,s,o,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var f=0;f<arguments.length;f++)c[this._len++]=arguments[f]}},r.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},r.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},r.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,BT&&this._len>11&&(this.data=new Float32Array(t)))}},r.prototype.getBoundingRect=function(){Rc[0]=Rc[1]=Oc[0]=Oc[1]=Number.MAX_VALUE,_d[0]=_d[1]=jc[0]=jc[1]=-Number.MAX_VALUE;var t=this.data,e=0,n=0,i=0,a=0,s;for(s=0;s<this._len;){var o=t[s++],l=s===1;switch(l&&(e=t[s],n=t[s+1],i=e,a=n),o){case Gn.M:e=i=t[s++],n=a=t[s++],Oc[0]=i,Oc[1]=a,jc[0]=i,jc[1]=a;break;case Gn.L:QU(e,n,t[s],t[s+1],Oc,jc),e=t[s++],n=t[s++];break;case Gn.C:qme(e,n,t[s++],t[s++],t[s++],t[s++],t[s],t[s+1],Oc,jc),e=t[s++],n=t[s++];break;case Gn.Q:Xme(e,n,t[s++],t[s++],t[s],t[s+1],Oc,jc),e=t[s++],n=t[s++];break;case Gn.A:var u=t[s++],c=t[s++],f=t[s++],h=t[s++],d=t[s++],A=t[s++]+d;s+=1;var p=!t[s++];l&&(i=z0(d)*f+u,a=V0(d)*h+c),Yme(u,c,f,h,d,A,p,Oc,jc),e=z0(A)*f+u,n=V0(A)*h+c;break;case Gn.R:i=e=t[s++],a=n=t[s++];var g=t[s++],m=t[s++];QU(i,a,i+g,a+m,Oc,jc);break;case Gn.Z:e=i,n=a;break}bh(Rc,Rc,Oc),wh(_d,_d,jc)}return s===0&&(Rc[0]=Rc[1]=_d[0]=_d[1]=0),new fr(Rc[0],Rc[1],_d[0]-Rc[0],_d[1]-Rc[1])},r.prototype._calculateLength=function(){var t=this.data,e=this._len,n=this._ux,i=this._uy,a=0,s=0,o=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,f=0,h=0;h<e;){var d=t[h++],A=h===1;A&&(a=t[h],s=t[h+1],o=a,l=s);var p=-1;switch(d){case Gn.M:a=o=t[h++],s=l=t[h++];break;case Gn.L:{var g=t[h++],m=t[h++],v=g-a,y=m-s;(qf(v)>n||qf(y)>i||h===e-1)&&(p=Math.sqrt(v*v+y*y),a=g,s=m);break}case Gn.C:{var b=t[h++],_=t[h++],g=t[h++],m=t[h++],T=t[h++],I=t[h++];p=oge(a,s,b,_,g,m,T,I,10),a=T,s=I;break}case Gn.Q:{var b=t[h++],_=t[h++],g=t[h++],m=t[h++];p=uge(a,s,b,_,g,m,10),a=g,s=m;break}case Gn.A:var N=t[h++],F=t[h++],P=t[h++],D=t[h++],R=t[h++],E=t[h++],L=E+R;h+=1,A&&(o=z0(R)*P+N,l=V0(R)*D+F),p=CT(P,D)*ST(Pd,Math.abs(E)),a=z0(L)*P+N,s=V0(L)*D+F;break;case Gn.R:{o=a=t[h++],l=s=t[h++];var k=t[h++],w=t[h++];p=k*2+w*2;break}case Gn.Z:{var v=o-a,y=l-s;p=Math.sqrt(v*v+y*y),a=o,s=l;break}}p>=0&&(u[f++]=p,c+=p)}return this._pathLen=c,c},r.prototype.rebuildPath=function(t,e){var n=this.data,i=this._ux,a=this._uy,s=this._len,o,l,u,c,f,h,d=e<1,A,p,g=0,m=0,v,y=0,b,_;if(!(d&&(this._pathSegLen||this._calculateLength(),A=this._pathSegLen,p=this._pathLen,v=e*p,!v)))e:for(var T=0;T<s;){var I=n[T++],N=T===1;switch(N&&(u=n[T],c=n[T+1],o=u,l=c),I!==Gn.L&&y>0&&(t.lineTo(b,_),y=0),I){case Gn.M:o=u=n[T++],l=c=n[T++],t.moveTo(u,c);break;case Gn.L:{f=n[T++],h=n[T++];var F=qf(f-u),P=qf(h-c);if(F>i||P>a){if(d){var D=A[m++];if(g+D>v){var R=(v-g)/D;t.lineTo(u*(1-R)+f*R,c*(1-R)+h*R);break e}g+=D}t.lineTo(f,h),u=f,c=h,y=0}else{var E=F*F+P*P;E>y&&(b=f,_=h,y=E)}break}case Gn.C:{var L=n[T++],k=n[T++],w=n[T++],C=n[T++],S=n[T++],B=n[T++];if(d){var D=A[m++];if(g+D>v){var R=(v-g)/D;qA(u,L,w,S,R,H0),qA(c,k,C,B,R,Q0),t.bezierCurveTo(H0[1],Q0[1],H0[2],Q0[2],H0[3],Q0[3]);break e}g+=D}t.bezierCurveTo(L,k,w,C,S,B),u=S,c=B;break}case Gn.Q:{var L=n[T++],k=n[T++],w=n[T++],C=n[T++];if(d){var D=A[m++];if(g+D>v){var R=(v-g)/D;Cb(u,L,w,R,H0),Cb(c,k,C,R,Q0),t.quadraticCurveTo(H0[1],Q0[1],H0[2],Q0[2]);break e}g+=D}t.quadraticCurveTo(L,k,w,C),u=w,c=C;break}case Gn.A:var O=n[T++],V=n[T++],M=n[T++],U=n[T++],Q=n[T++],W=n[T++],j=n[T++],X=!n[T++],z=M>U?M:U,H=qf(M-U)>.001,K=Q+W,Z=!1;if(d){var D=A[m++];g+D>v&&(K=Q+W*(v-g)/D,Z=!0),g+=D}if(H&&t.ellipse?t.ellipse(O,V,M,U,j,Q,K,X):t.arc(O,V,z,Q,K,X),Z)break e;N&&(o=z0(Q)*M+O,l=V0(Q)*U+V),u=z0(K)*M+O,c=V0(K)*U+V;break;case Gn.R:o=u=n[T],l=c=n[T+1],f=n[T++],h=n[T++];var ie=n[T++],ee=n[T++];if(d){var D=A[m++];if(g+D>v){var ne=v-g;t.moveTo(f,h),t.lineTo(f+ST(ne,ie),h),ne-=ie,ne>0&&t.lineTo(f+ie,h+ST(ne,ee)),ne-=ee,ne>0&&t.lineTo(f+CT(ie-ne,0),h+ee),ne-=ie,ne>0&&t.lineTo(f,h+CT(ee-ne,0));break e}g+=D}t.rect(f,h,ie,ee);break;case Gn.Z:if(d){var D=A[m++];if(g+D>v){var R=(v-g)/D;t.lineTo(u*(1-R)+o*R,c*(1-R)+l*R);break e}g+=D}t.closePath(),u=o,c=l}}},r.prototype.clone=function(){var t=new r,e=this.data;return t.data=e.slice?e.slice():Array.prototype.slice.call(e),t._len=this._len,t},r.prototype.canSave=function(){return!!this._saveData},r.CMD=Gn,r.initDefaultProps=function(){var t=r.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),r}();function Gd(r,t,e,n,i,a,s){if(i===0)return!1;var o=i,l=0,u=r;if(s>t+o&&s>n+o||s<t-o&&s<n-o||a>r+o&&a>e+o||a<r-o&&a<e-o)return!1;if(r!==e)l=(t-n)/(r-e),u=(r*n-e*t)/(r-e);else return Math.abs(a-r)<=o/2;var c=l*a-s+u,f=c*c/(l*l+1);return f<=o/2*o/2}function Zme(r,t,e,n,i,a,s,o,l,u,c){if(l===0)return!1;var f=l;if(c>t+f&&c>n+f&&c>a+f&&c>o+f||c<t-f&&c<n-f&&c<a-f&&c<o-f||u>r+f&&u>e+f&&u>i+f&&u>s+f||u<r-f&&u<e-f&&u<i-f&&u<s-f)return!1;var h=Nee(r,t,e,n,i,a,s,o,u,c,null);return h<=f/2}function pte(r,t,e,n,i,a,s,o,l){if(s===0)return!1;var u=s;if(l>t+u&&l>n+u&&l>a+u||l<t-u&&l<n-u&&l<a-u||o>r+u&&o>e+u&&o>i+u||o<r-u&&o<e-u&&o<i-u)return!1;var c=Iee(r,t,e,n,i,a,o,l,null);return c<=u/2}var GU=Math.PI*2;function Dl(r){return r%=GU,r<0&&(r+=GU),r}var rx=Math.PI*2;function Jme(r,t,e,n,i,a,s,o,l){if(s===0)return!1;var u=s;o-=r,l-=t;var c=Math.sqrt(o*o+l*l);if(c-u>e||c+u<e)return!1;if(Math.abs(n-i)%rx<1e-4)return!0;if(a){var f=n;n=Dl(i),i=Dl(f)}else n=Dl(n),i=Dl(i);n>i&&(i+=rx);var h=Math.atan2(l,o);return h<0&&(h+=rx),h>=n&&h<=i||h+rx>=n&&h+rx<=i}function ch(r,t,e,n,i,a){if(a>t&&a>n||a<t&&a<n||n===t)return 0;var s=(a-t)/(n-t),o=n<t?1:-1;(s===1||s===0)&&(o=n<t?.5:-.5);var l=s*(e-r)+r;return l===i?1/0:l>i?o:0}var Sd=Ef.CMD,G0=Math.PI*2,eve=1e-4;function tve(r,t){return Math.abs(r-t)<eve}var _o=[-1,-1,-1],uu=[-1,-1];function rve(){var r=uu[0];uu[0]=uu[1],uu[1]=r}function nve(r,t,e,n,i,a,s,o,l,u){if(u>t&&u>n&&u>a&&u>o||u<t&&u<n&&u<a&&u<o)return 0;var c=RS(t,n,a,o,u,_o);if(c===0)return 0;for(var f=0,h=-1,d=void 0,A=void 0,p=0;p<c;p++){var g=_o[p],m=g===0||g===1?.5:1,v=Ga(r,e,i,s,g);v<l||(h<0&&(h=kee(t,n,a,o,uu),uu[1]<uu[0]&&h>1&&rve(),d=Ga(t,n,a,o,uu[0]),h>1&&(A=Ga(t,n,a,o,uu[1]))),h===2?g<uu[0]?f+=d<t?m:-m:g<uu[1]?f+=A<d?m:-m:f+=o<A?m:-m:g<uu[0]?f+=d<t?m:-m:f+=o<d?m:-m)}return f}function ive(r,t,e,n,i,a,s,o){if(o>t&&o>n&&o>a||o<t&&o<n&&o<a)return 0;var l=lge(t,n,a,o,_o);if(l===0)return 0;var u=Fee(t,n,a);if(u>=0&&u<=1){for(var c=0,f=us(t,n,a,u),h=0;h<l;h++){var d=_o[h]===0||_o[h]===1?.5:1,A=us(r,e,i,_o[h]);A<s||(_o[h]<u?c+=f<t?d:-d:c+=a<f?d:-d)}return c}else{var d=_o[0]===0||_o[0]===1?.5:1,A=us(r,e,i,_o[0]);return A<s?0:a<t?d:-d}}function ave(r,t,e,n,i,a,s,o){if(o-=t,o>e||o<-e)return 0;var l=Math.sqrt(e*e-o*o);_o[0]=-l,_o[1]=l;var u=Math.abs(n-i);if(u<1e-4)return 0;if(u>=G0-1e-4){n=0,i=G0;var c=a?1:-1;return s>=_o[0]+r&&s<=_o[1]+r?c:0}if(n>i){var f=n;n=i,i=f}n<0&&(n+=G0,i+=G0);for(var h=0,d=0;d<2;d++){var A=_o[d];if(A+r>s){var p=Math.atan2(o,A),c=a?1:-1;p<0&&(p=G0+p),(p>=n&&p<=i||p+G0>=n&&p+G0<=i)&&(p>Math.PI/2&&p<Math.PI*1.5&&(c=-c),h+=c)}}return h}function gte(r,t,e,n,i){for(var a=r.data,s=r.len(),o=0,l=0,u=0,c=0,f=0,h,d,A=0;A<s;){var p=a[A++],g=A===1;switch(p===Sd.M&&A>1&&(e||(o+=ch(l,u,c,f,n,i))),g&&(l=a[A],u=a[A+1],c=l,f=u),p){case Sd.M:c=a[A++],f=a[A++],l=c,u=f;break;case Sd.L:if(e){if(Gd(l,u,a[A],a[A+1],t,n,i))return!0}else o+=ch(l,u,a[A],a[A+1],n,i)||0;l=a[A++],u=a[A++];break;case Sd.C:if(e){if(Zme(l,u,a[A++],a[A++],a[A++],a[A++],a[A],a[A+1],t,n,i))return!0}else o+=nve(l,u,a[A++],a[A++],a[A++],a[A++],a[A],a[A+1],n,i)||0;l=a[A++],u=a[A++];break;case Sd.Q:if(e){if(pte(l,u,a[A++],a[A++],a[A],a[A+1],t,n,i))return!0}else o+=ive(l,u,a[A++],a[A++],a[A],a[A+1],n,i)||0;l=a[A++],u=a[A++];break;case Sd.A:var m=a[A++],v=a[A++],y=a[A++],b=a[A++],_=a[A++],T=a[A++];A+=1;var I=!!(1-a[A++]);h=Math.cos(_)*y+m,d=Math.sin(_)*b+v,g?(c=h,f=d):o+=ch(l,u,h,d,n,i);var N=(n-m)*b/y+m;if(e){if(Jme(m,v,b,_,_+T,I,t,N,i))return!0}else o+=ave(m,v,b,_,_+T,I,N,i);l=Math.cos(_+T)*y+m,u=Math.sin(_+T)*b+v;break;case Sd.R:c=l=a[A++],f=u=a[A++];var F=a[A++],P=a[A++];if(h=c+F,d=f+P,e){if(Gd(c,f,h,f,t,n,i)||Gd(h,f,h,d,t,n,i)||Gd(h,d,c,d,t,n,i)||Gd(c,d,c,f,t,n,i))return!0}else o+=ch(h,f,h,d,n,i),o+=ch(c,d,c,f,n,i);break;case Sd.Z:if(e){if(Gd(l,u,c,f,t,n,i))return!0}else o+=ch(l,u,c,f,n,i);l=c,u=f;break}}return!e&&!tve(u,f)&&(o+=ch(l,u,c,f,n,i)||0),o!==0}function sve(r,t,e){return gte(r,0,!1,t,e)}function ove(r,t,e,n){return gte(r,t,!0,e,n)}var GS=sr({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},rg),lve={style:sr({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},JC.style)},ET=Bf.concat(["invisible","culling","z","z2","zlevel","parent"]),Xr=function(r){Ge(t,r);function t(e){return r.call(this,e)||this}return t.prototype.update=function(){var e=this;r.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new t;i.buildPath===t.prototype.buildPath&&(i.buildPath=function(l){e.buildPath(l,e.shape)}),i.silent=!0;var a=i.style;for(var s in n)a[s]!==n[s]&&(a[s]=n[s]);a.fill=n.fill?n.decal:null,a.decal=null,a.shadowColor=null,n.strokeFirst&&(a.stroke=null);for(var o=0;o<ET.length;++o)i[ET[o]]=this[ET[o]];i.__dirty|=Nl}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(e){var n=en(e);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<n.length;a++){var s=n[a],o=e[s];s==="style"?this.style?pt(this.style,o):this.useStyle(o):s==="shape"?pt(this.shape,o):r.prototype.attrKV.call(this,s,o)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var e=this.style.fill;if(e!=="none"){if(Ht(e)){var n=Eb(e,0);return n>.5?rF:n>.2?Uge:nF}else if(e)return nF}return rF},t.prototype.getInsideTextStroke=function(e){var n=this.style.fill;if(Ht(n)){var i=this.__zr,a=!!(i&&i.isDarkMode()),s=Eb(e,0)<tF;if(a===s)return n}},t.prototype.buildPath=function(e,n,i){},t.prototype.pathUpdated=function(){this.__dirty&=~Jm},t.prototype.getUpdatedPathProxy=function(e){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,e),this.path},t.prototype.createPathProxy=function(){this.path=new Ef(!1)},t.prototype.hasStroke=function(){var e=this.style,n=e.stroke;return!(n==null||n==="none"||!(e.lineWidth>0))},t.prototype.hasFill=function(){var e=this.style,n=e.fill;return n!=null&&n!=="none"},t.prototype.getBoundingRect=function(){var e=this._rect,n=this.style,i=!e;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var s=this.path;(a||this.__dirty&Jm)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),e=s.getBoundingRect()}if(this._rect=e,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=e.clone());if(this.__dirty||i){o.copy(e);var l=n.strokeNoScale?this.getLineScale():1,u=n.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c??4)}l>1e-10&&(o.width+=u/l,o.height+=u/l,o.x-=u/l/2,o.y-=u/l/2)}return o}return e},t.prototype.contain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect(),s=this.style;if(e=i[0],n=i[1],a.contain(e,n)){var o=this.path;if(this.hasStroke()){var l=s.lineWidth,u=s.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),ove(o,l/u,e,n)))return!0}if(this.hasFill())return sve(o,e,n)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=Jm,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(e){return this.animate("shape",e)},t.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():e==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(e,n){e==="shape"?this.setShape(n):r.prototype.attrKV.call(this,e,n)},t.prototype.setShape=function(e,n){var i=this.shape;return i||(i=this.shape={}),typeof e=="string"?i[e]=n:pt(i,e),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&Jm)},t.prototype.createStyle=function(e){return Rw(GS,e)},t.prototype._innerSaveToNormal=function(e){r.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.shape&&!n.shape&&(n.shape=pt({},this.shape))},t.prototype._applyStateObj=function(e,n,i,a,s,o){r.prototype._applyStateObj.call(this,e,n,i,a,s,o);var l=!(n&&a),u;if(n&&n.shape?s?a?u=n.shape:(u=pt({},i.shape),pt(u,n.shape)):(u=pt({},a?this.shape:i.shape),pt(u,n.shape)):l&&(u=i.shape),u)if(s){this.shape=pt({},this.shape);for(var c={},f=en(u),h=0;h<f.length;h++){var d=f[h];typeof u[d]=="object"?this.shape[d]=u[d]:c[d]=u[d]}this._transitionState(e,{shape:c},o)}else this.shape=u,this.dirtyShape()},t.prototype._mergeStates=function(e){for(var n=r.prototype._mergeStates.call(this,e),i,a=0;a<e.length;a++){var s=e[a];s.shape&&(i=i||{},this._mergeStyle(i,s.shape))}return i&&(n.shape=i),n},t.prototype.getAnimationStyleProps=function(){return lve},t.prototype.isZeroArea=function(){return!1},t.extend=function(e){var n=function(a){Ge(s,a);function s(o){var l=a.call(this,o)||this;return e.init&&e.init.call(l,o),l}return s.prototype.getDefaultStyle=function(){return nr(e.style)},s.prototype.getDefaultShape=function(){return nr(e.shape)},s}(t);for(var i in e)typeof e[i]=="function"&&(n.prototype[i]=e[i]);return n},t.initDefaultProps=function(){var e=t.prototype;e.type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,e.__dirty=Nl|Gx|Jm}(),t}(Nu),uve=sr({strokeFirst:!0,font:Hh,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},GS),E1=function(r){Ge(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.hasStroke=function(){return Ate(this.style)},t.prototype.hasFill=function(){var e=this.style,n=e.fill;return n!=null&&n!=="none"},t.prototype.createStyle=function(e){return Rw(uve,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){return this._rect||(this._rect=Wme(this.style)),this._rect},t.initDefaultProps=function(){var e=t.prototype;e.dirtyRectTolerance=10}(),t}(Nu);E1.prototype.type="tspan";var cve=sr({x:0,y:0},rg),fve={style:sr({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},JC.style)};function hve(r){return!!(r&&typeof r!="string"&&r.width&&r.height)}var es=function(r){Ge(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.createStyle=function(e){return Rw(cve,e)},t.prototype._getSize=function(e){var n=this.style,i=n[e];if(i!=null)return i;var a=hve(n.image)?n.image:this.__image;if(!a)return 0;var s=e==="width"?"height":"width",o=n[s];return o==null?a[e]:a[e]/a[s]*o},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return fve},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new fr(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(Nu);es.prototype.type="image";function dve(r,t){var e=t.x,n=t.y,i=t.width,a=t.height,s=t.r,o,l,u,c;i<0&&(e=e+i,i=-i),a<0&&(n=n+a,a=-a),typeof s=="number"?o=l=u=c=s:s instanceof Array?s.length===1?o=l=u=c=s[0]:s.length===2?(o=u=s[0],l=c=s[1]):s.length===3?(o=s[0],l=c=s[1],u=s[2]):(o=s[0],l=s[1],u=s[2],c=s[3]):o=l=u=c=0;var f;o+l>i&&(f=o+l,o*=i/f,l*=i/f),u+c>i&&(f=u+c,u*=i/f,c*=i/f),l+u>a&&(f=l+u,l*=a/f,u*=a/f),o+c>a&&(f=o+c,o*=a/f,c*=a/f),r.moveTo(e+o,n),r.lineTo(e+i-l,n),l!==0&&r.arc(e+i-l,n+l,l,-Math.PI/2,0),r.lineTo(e+i,n+a-u),u!==0&&r.arc(e+i-u,n+a-u,u,0,Math.PI/2),r.lineTo(e+c,n+a),c!==0&&r.arc(e+c,n+a-c,c,Math.PI/2,Math.PI),r.lineTo(e,n+o),o!==0&&r.arc(e+o,n+o,o,Math.PI,Math.PI*1.5)}var Bv=Math.round;function r8(r,t,e){if(t){var n=t.x1,i=t.x2,a=t.y1,s=t.y2;r.x1=n,r.x2=i,r.y1=a,r.y2=s;var o=e&&e.lineWidth;return o&&(Bv(n*2)===Bv(i*2)&&(r.x1=r.x2=Pl(n,o,!0)),Bv(a*2)===Bv(s*2)&&(r.y1=r.y2=Pl(a,o,!0))),r}}function mte(r,t,e){if(t){var n=t.x,i=t.y,a=t.width,s=t.height;r.x=n,r.y=i,r.width=a,r.height=s;var o=e&&e.lineWidth;return o&&(r.x=Pl(n,o,!0),r.y=Pl(i,o,!0),r.width=Math.max(Pl(n+a,o,!1)-r.x,a===0?0:1),r.height=Math.max(Pl(i+s,o,!1)-r.y,s===0?0:1)),r}}function Pl(r,t,e){if(!t)return r;var n=Bv(r*2);return(n+Bv(t))%2===0?n/2:(n+(e?1:-1))/2}var Ave=function(){function r(){this.x=0,this.y=0,this.width=0,this.height=0}return r}(),pve={},zr=function(r){Ge(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new Ave},t.prototype.buildPath=function(e,n){var i,a,s,o;if(this.subPixelOptimize){var l=mte(pve,n,this.style);i=l.x,a=l.y,s=l.width,o=l.height,l.r=n.r,n=l}else i=n.x,a=n.y,s=n.width,o=n.height;n.r?dve(e,n):e.rect(i,a,s,o)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(Xr);zr.prototype.type="rect";var WU={fill:"#000"},$U=2,Uc={},gve={style:sr({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},JC.style)},nn=function(r){Ge(t,r);function t(e){var n=r.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=WU,n.attr(e),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){r.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var n=this._children[e];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},t.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):r.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(e){var n=this.innerTransformable;return n?n.getLocalTransform(e):r.prototype.getLocalTransform.call(this,e)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),r.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,yve(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(e){r.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=e},t.prototype.removeSelfFromZr=function(e){r.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new fr(0,0,0,0),n=this._children,i=[],a=null,s=0;s<n.length;s++){var o=n[s],l=o.getBoundingRect(),u=o.getLocalTransform(i);u?(e.copy(l),e.applyTransform(u),a=a||e.clone(),a.union(e)):(a=a||l.clone(),a.union(l))}this._rect=a||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||WU},t.prototype.setTextContent=function(e){},t.prototype._mergeStyle=function(e,n){if(!n)return e;var i=n.rich,a=e.rich||i&&{};return pt(e,n),i&&a?(this._mergeRich(a,i),e.rich=a):a&&(e.rich=a),e},t.prototype._mergeRich=function(e,n){for(var i=en(n),a=0;a<i.length;a++){var s=i[a];e[s]=e[s]||{},pt(e[s],n[s])}},t.prototype.getAnimationStyleProps=function(){return gve},t.prototype._getOrCreateChild=function(e){var n=this._children[this._childCursor];return(!n||!(n instanceof e))&&(n=new e),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},t.prototype._updatePlainTexts=function(){var e=this.style,n=e.font||Hh,i=e.padding,a=this._defaultStyle,s=e.x||0,o=e.y||0,l=e.align||a.align||"left",u=e.verticalAlign||a.verticalAlign||"top";OU(Uc,a.overflowRect,s,o,l,u),s=Uc.baseX,o=Uc.baseY;var c=eH(e),f=jme(c,e,Uc.outerWidth,Uc.outerHeight),h=kT(e),d=!!e.backgroundColor,A=f.outerHeight,p=f.outerWidth,g=f.lines,m=f.lineHeight;this.isTruncated=!!f.isTruncated;var v=s,y=tg(o,f.contentHeight,u);if(h||i){var b=B1(s,p,l),_=tg(o,A,u);h&&this._renderBackground(e,e,b,_,p,A)}y+=m/2,i&&(v=JU(s,l,i),u==="top"?y+=i[0]:u==="bottom"&&(y-=i[2]));for(var T=0,I=!1,N=!1,F=ZU("fill"in e?e.fill:(N=!0,a.fill)),P=YU("stroke"in e?e.stroke:!d&&(!a.autoStroke||N)?(T=$U,I=!0,a.stroke):null),D=e.textShadowBlur>0,R=0;R<g.length;R++){var E=this._getOrCreateChild(E1),L=E.createStyle();E.useStyle(L),L.text=g[R],L.x=v,L.y=y,l&&(L.textAlign=l),L.textBaseline="middle",L.opacity=e.opacity,L.strokeFirst=!0,D&&(L.shadowBlur=e.textShadowBlur||0,L.shadowColor=e.textShadowColor||"transparent",L.shadowOffsetX=e.textShadowOffsetX||0,L.shadowOffsetY=e.textShadowOffsetY||0),L.stroke=P,L.fill=F,P&&(L.lineWidth=e.lineWidth||T,L.lineDash=e.lineDash,L.lineDashOffset=e.lineDashOffset||0),L.font=n,qU(L,e),y+=m,E.setBoundingRect(cF(L,f.contentWidth,f.calculatedLineHeight,I?0:null))}},t.prototype._updateRichTexts=function(){var e=this.style,n=this._defaultStyle,i=e.align||n.align,a=e.verticalAlign||n.verticalAlign,s=e.x||0,o=e.y||0;OU(Uc,n.overflowRect,s,o,i,a),s=Uc.baseX,o=Uc.baseY;var l=eH(e),u=Qme(l,e,Uc.outerWidth,Uc.outerHeight,i),c=u.width,f=u.outerWidth,h=u.outerHeight,d=e.padding;this.isTruncated=!!u.isTruncated;var A=B1(s,f,i),p=tg(o,h,a),g=A,m=p;d&&(g+=d[3],m+=d[0]);var v=g+c;kT(e)&&this._renderBackground(e,e,A,p,f,h);for(var y=!!e.backgroundColor,b=0;b<u.lines.length;b++){for(var _=u.lines[b],T=_.tokens,I=T.length,N=_.lineHeight,F=_.width,P=0,D=g,R=v,E=I-1,L=void 0;P<I&&(L=T[P],!L.align||L.align==="left");)this._placeToken(L,e,N,m,D,"left",y),F-=L.width,D+=L.width,P++;for(;E>=0&&(L=T[E],L.align==="right");)this._placeToken(L,e,N,m,R,"right",y),F-=L.width,R-=L.width,E--;for(D+=(c-(D-g)-(v-R)-F)/2;P<=E;)L=T[P],this._placeToken(L,e,N,m,D+L.width/2,"center",y),D+=L.width,P++;m+=N}},t.prototype._placeToken=function(e,n,i,a,s,o,l){var u=n.rich[e.styleName]||{};u.text=e.text;var c=e.verticalAlign,f=a+i/2;c==="top"?f=a+e.height/2:c==="bottom"&&(f=a+i-e.height/2);var h=!e.isLineHolder&&kT(u);h&&this._renderBackground(u,n,o==="right"?s-e.width:o==="center"?s-e.width/2:s,f-e.height/2,e.width,e.height);var d=!!u.backgroundColor,A=e.textPadding;A&&(s=JU(s,o,A),f-=e.height/2-A[0]-e.innerHeight/2);var p=this._getOrCreateChild(E1),g=p.createStyle();p.useStyle(g);var m=this._defaultStyle,v=!1,y=0,b=!1,_=ZU("fill"in u?u.fill:"fill"in n?n.fill:(v=!0,m.fill)),T=YU("stroke"in u?u.stroke:"stroke"in n?n.stroke:!d&&!l&&(!m.autoStroke||v)?(y=$U,b=!0,m.stroke):null),I=u.textShadowBlur>0||n.textShadowBlur>0;g.text=e.text,g.x=s,g.y=f,I&&(g.shadowBlur=u.textShadowBlur||n.textShadowBlur||0,g.shadowColor=u.textShadowColor||n.textShadowColor||"transparent",g.shadowOffsetX=u.textShadowOffsetX||n.textShadowOffsetX||0,g.shadowOffsetY=u.textShadowOffsetY||n.textShadowOffsetY||0),g.textAlign=o,g.textBaseline="middle",g.font=e.font||Hh,g.opacity=rl(u.opacity,n.opacity,1),qU(g,u),T&&(g.lineWidth=rl(u.lineWidth,n.lineWidth,y),g.lineDash=Zt(u.lineDash,n.lineDash),g.lineDashOffset=n.lineDashOffset||0,g.stroke=T),_&&(g.fill=_),p.setBoundingRect(cF(g,e.contentWidth,e.contentHeight,b?0:null))},t.prototype._renderBackground=function(e,n,i,a,s,o){var l=e.backgroundColor,u=e.borderWidth,c=e.borderColor,f=l&&l.image,h=l&&!f,d=e.borderRadius,A=this,p,g;if(h||e.lineHeight||u&&c){p=this._getOrCreateChild(zr),p.useStyle(p.createStyle()),p.style.fill=null;var m=p.shape;m.x=i,m.y=a,m.width=s,m.height=o,m.r=d,p.dirtyShape()}if(h){var v=p.style;v.fill=l||null,v.fillOpacity=Zt(e.fillOpacity,1)}else if(f){g=this._getOrCreateChild(es),g.onload=function(){A.dirtyStyle()};var y=g.style;y.image=l.image,y.x=i,y.y=a,y.width=s,y.height=o}if(u&&c){var v=p.style;v.lineWidth=u,v.stroke=c,v.strokeOpacity=Zt(e.strokeOpacity,1),v.lineDash=e.borderDash,v.lineDashOffset=e.borderDashOffset||0,p.strokeContainThreshold=0,p.hasFill()&&p.hasStroke()&&(v.strokeFirst=!0,v.lineWidth*=2)}var b=(p||g).style;b.shadowBlur=e.shadowBlur||0,b.shadowColor=e.shadowColor||"transparent",b.shadowOffsetX=e.shadowOffsetX||0,b.shadowOffsetY=e.shadowOffsetY||0,b.opacity=rl(e.opacity,n.opacity,1)},t.makeFont=function(e){var n="";return yte(e)&&(n=[e.fontStyle,e.fontWeight,vte(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),n&&Ml(n)||e.textFont||e.font},t}(Nu),mve={left:!0,right:1,center:1},vve={top:1,bottom:1,middle:1},KU=["fontStyle","fontWeight","fontSize","fontFamily"];function vte(r){return typeof r=="string"&&(r.indexOf("px")!==-1||r.indexOf("rem")!==-1||r.indexOf("em")!==-1)?r:isNaN(+r)?yD+"px":r+"px"}function qU(r,t){for(var e=0;e<KU.length;e++){var n=KU[e],i=t[n];i!=null&&(r[n]=i)}}function yte(r){return r.fontSize!=null||r.fontFamily||r.fontWeight}function yve(r){return XU(r),se(r.rich,XU),r}function XU(r){if(r){r.font=nn.makeFont(r);var t=r.align;t==="middle"&&(t="center"),r.align=t==null||mve[t]?t:"left";var e=r.verticalAlign;e==="center"&&(e="middle"),r.verticalAlign=e==null||vve[e]?e:"top";var n=r.padding;n&&(r.padding=Pw(r.padding))}}function YU(r,t){return r==null||t<=0||r==="transparent"||r==="none"?null:r.image||r.colorStops?"#000":r}function ZU(r){return r==null||r==="none"?null:r.image||r.colorStops?"#000":r}function JU(r,t,e){return t==="right"?r-e[1]:t==="center"?r+e[3]/2-e[1]/2:r+e[3]}function eH(r){var t=r.text;return t!=null&&(t+=""),t}function kT(r){return!!(r.backgroundColor||r.lineHeight||r.borderWidth&&r.borderColor)}var pr=Kr(),dF=function(r,t,e,n){if(n){var i=pr(n);i.dataIndex=e,i.dataType=t,i.seriesIndex=r,i.ssrType="chart",n.type==="group"&&n.traverse(function(a){var s=pr(a);s.seriesIndex=r,s.dataIndex=e,s.dataType=t,s.ssrType="chart"})}},tH=1,rH={},xte=Kr(),UD=Kr(),HD=0,Hw=1,n8=2,Lo=["emphasis","blur","select"],Fb=["normal","emphasis","blur","select"],J1=10,xve=9,ng="highlight",D3="downplay",WS="select",AF="unselect",$S="toggleSelect",QD="selectchanged";function fm(r){return r!=null&&r!=="none"}function i8(r,t,e){r.onHoverStateChange&&(r.hoverState||0)!==e&&r.onHoverStateChange(t),r.hoverState=e}function bte(r){i8(r,"emphasis",n8)}function wte(r){r.hoverState===n8&&i8(r,"normal",HD)}function zD(r){i8(r,"blur",Hw)}function _te(r){r.hoverState===Hw&&i8(r,"normal",HD)}function bve(r){r.selected=!0}function wve(r){r.selected=!1}function nH(r,t,e){t(r,e)}function rd(r,t,e){nH(r,t,e),r.isGroup&&r.traverse(function(n){nH(n,t,e)})}function KS(r,t){switch(t){case"emphasis":r.hoverState=n8;break;case"normal":r.hoverState=HD;break;case"blur":r.hoverState=Hw;break;case"select":r.selected=!0}}function _ve(r,t,e,n){for(var i=r.style,a={},s=0;s<t.length;s++){var o=t[s],l=i[o];a[o]=l??(n&&n[o])}for(var s=0;s<r.animators.length;s++){var u=r.animators[s];u.__fromStateTransition&&u.__fromStateTransition.indexOf(e)<0&&u.targetName==="style"&&u.saveTo(a,t)}return a}function Sve(r,t,e,n){var i=e&&Lr(e,"select")>=0,a=!1;if(r instanceof Xr){var s=xte(r),o=i&&s.selectFill||s.normalFill,l=i&&s.selectStroke||s.normalStroke;if(fm(o)||fm(l)){n=n||{};var u=n.style||{};u.fill==="inherit"?(a=!0,n=pt({},n),u=pt({},u),u.fill=o):!fm(u.fill)&&fm(o)?(a=!0,n=pt({},n),u=pt({},u),u.fill=jS(o)):!fm(u.stroke)&&fm(l)&&(a||(n=pt({},n),u=pt({},u)),u.stroke=jS(l)),n.style=u}}if(n&&n.z2==null){a||(n=pt({},n));var c=r.z2EmphasisLift;n.z2=r.z2+(c??J1)}return n}function Cve(r,t,e){if(e&&e.z2==null){e=pt({},e);var n=r.z2SelectLift;e.z2=r.z2+(n??xve)}return e}function Bve(r,t,e){var n=Lr(r.currentStates,t)>=0,i=r.style.opacity,a=n?null:_ve(r,["opacity"],t,{opacity:1});e=e||{};var s=e.style||{};return s.opacity==null&&(e=pt({},e),s=pt({opacity:n?i:a.opacity*.1},s),e.style=s),e}function NT(r,t){var e=this.states[r];if(this.style){if(r==="emphasis")return Sve(this,r,t,e);if(r==="blur")return Bve(this,r,e);if(r==="select")return Cve(this,r,e)}return e}function wg(r){r.stateProxy=NT;var t=r.getTextContent(),e=r.getTextGuideLine();t&&(t.stateProxy=NT),e&&(e.stateProxy=NT)}function iH(r,t){!Tte(r,t)&&!r.__highByOuter&&rd(r,bte)}function aH(r,t){!Tte(r,t)&&!r.__highByOuter&&rd(r,wte)}function zh(r,t){r.__highByOuter|=1<<(t||0),rd(r,bte)}function Vh(r,t){!(r.__highByOuter&=~(1<<(t||0)))&&rd(r,wte)}function Ste(r){rd(r,zD)}function VD(r){rd(r,_te)}function Cte(r){rd(r,bve)}function Bte(r){rd(r,wve)}function Tte(r,t){return r.__highDownSilentOnTouch&&t.zrByTouch}function Ete(r){var t=r.getModel(),e=[],n=[];t.eachComponent(function(i,a){var s=UD(a),o=i==="series",l=o?r.getViewOfSeriesModel(a):r.getViewOfComponentModel(a);!o&&n.push(l),s.isBlured&&(l.group.traverse(function(u){_te(u)}),o&&e.push(a)),s.isBlured=!1}),se(n,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(e,!1,t)})}function pF(r,t,e,n){var i=n.getModel();e=e||"coordinateSystem";function a(u,c){for(var f=0;f<c.length;f++){var h=u.getItemGraphicEl(c[f]);h&&VD(h)}}if(r!=null&&!(!t||t==="none")){var s=i.getSeriesByIndex(r),o=s.coordinateSystem;o&&o.master&&(o=o.master);var l=[];i.eachSeries(function(u){var c=s===u,f=u.coordinateSystem;f&&f.master&&(f=f.master);var h=f&&o?f===o:c;if(!(e==="series"&&!c||e==="coordinateSystem"&&!h||t==="series"&&c)){var d=n.getViewOfSeriesModel(u);if(d.group.traverse(function(g){g.__highByOuter&&c&&t==="self"||zD(g)}),Os(t))a(u.getData(),t);else if(or(t))for(var A=en(t),p=0;p<A.length;p++)a(u.getData(A[p]),t[A[p]]);l.push(u),UD(u).isBlured=!0}}),i.eachComponent(function(u,c){if(u!=="series"){var f=n.getViewOfComponentModel(c);f&&f.toggleBlurSeries&&f.toggleBlurSeries(l,!0,i)}})}}function gF(r,t,e){if(!(r==null||t==null)){var n=e.getModel().getComponent(r,t);if(n){UD(n).isBlured=!0;var i=e.getViewOfComponentModel(n);!i||!i.focusBlurEnabled||i.group.traverse(function(a){zD(a)})}}}function Tve(r,t,e){var n=r.seriesIndex,i=r.getData(t.dataType);if(i){var a=xg(i,t);a=(xt(a)?a[0]:a)||0;var s=i.getItemGraphicEl(a);if(!s)for(var o=i.count(),l=0;!s&&l<o;)s=i.getItemGraphicEl(l++);if(s){var u=pr(s);pF(n,u.focus,u.blurScope,e)}else{var c=r.get(["emphasis","focus"]),f=r.get(["emphasis","blurScope"]);c!=null&&pF(n,c,f,e)}}}function GD(r,t,e,n){var i={focusSelf:!1,dispatchers:null};if(r==null||r==="series"||t==null||e==null)return i;var a=n.getModel().getComponent(r,t);if(!a)return i;var s=n.getViewOfComponentModel(a);if(!s||!s.findHighDownDispatchers)return i;for(var o=s.findHighDownDispatchers(e),l,u=0;u<o.length;u++)if(pr(o[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:o}}function Eve(r,t,e){var n=pr(r),i=GD(n.componentMainType,n.componentIndex,n.componentHighDownName,e),a=i.dispatchers,s=i.focusSelf;a?(s&&gF(n.componentMainType,n.componentIndex,e),se(a,function(o){return iH(o,t)})):(pF(n.seriesIndex,n.focus,n.blurScope,e),n.focus==="self"&&gF(n.componentMainType,n.componentIndex,e),iH(r,t))}function kve(r,t,e){Ete(e);var n=pr(r),i=GD(n.componentMainType,n.componentIndex,n.componentHighDownName,e).dispatchers;i?se(i,function(a){return aH(a,t)}):aH(r,t)}function Nve(r,t,e){if(vF(t)){var n=t.dataType,i=r.getData(n),a=xg(i,t);xt(a)||(a=[a]),r[t.type===$S?"toggleSelect":t.type===WS?"select":"unselect"](a,n)}}function sH(r){var t=r.getAllData();se(t,function(e){var n=e.data,i=e.type;n.eachItemGraphicEl(function(a,s){r.isSelected(s,i)?Cte(a):Bte(a)})})}function Fve(r){var t=[];return r.eachSeries(function(e){var n=e.getAllData();se(n,function(i){i.data;var a=i.type,s=e.getSelectedDataIndices();if(s.length>0){var o={dataIndex:s,seriesIndex:e.seriesIndex};a!=null&&(o.dataType=a),t.push(o)}})}),t}function LA(r,t,e){Ip(r,!0),rd(r,wg),mF(r,t,e)}function Ive(r){Ip(r,!1)}function di(r,t,e,n){n?Ive(r):LA(r,t,e)}function mF(r,t,e){var n=pr(r);t!=null?(n.focus=t,n.blurScope=e):n.focus&&(n.focus=null)}var oH=["emphasis","blur","select"],Mve={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Ia(r,t,e,n){e=e||"itemStyle";for(var i=0;i<oH.length;i++){var a=oH[i],s=t.getModel([a,e]),o=r.ensureState(a);o.style=n?n(s):s[Mve[e]]()}}function Ip(r,t){var e=t===!1,n=r;r.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=r.highDownSilentOnTouch),(!e||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!e)}function Ib(r){return!!(r&&r.__highDownDispatcher)}function Lve(r,t,e){var n=pr(r);n.componentMainType=t.mainType,n.componentIndex=t.componentIndex,n.componentHighDownName=e}function Dve(r){var t=rH[r];return t==null&&tH<=32&&(t=rH[r]=tH++),t}function vF(r){var t=r.type;return t===WS||t===AF||t===$S}function lH(r){var t=r.type;return t===ng||t===D3}function Pve(r){var t=xte(r);t.normalFill=r.style.fill,t.normalStroke=r.style.stroke;var e=r.states.select||{};t.selectFill=e.style&&e.style.fill||null,t.selectStroke=e.style&&e.style.stroke||null}var hm=Ef.CMD,Rve=[[],[],[]],uH=Math.sqrt,Ove=Math.atan2;function kte(r,t){if(t){var e=r.data,n=r.len(),i,a,s,o,l,u,c=hm.M,f=hm.C,h=hm.L,d=hm.R,A=hm.A,p=hm.Q;for(s=0,o=0;s<n;){switch(i=e[s++],o=s,a=0,i){case c:a=1;break;case h:a=1;break;case f:a=3;break;case p:a=2;break;case A:var g=t[4],m=t[5],v=uH(t[0]*t[0]+t[1]*t[1]),y=uH(t[2]*t[2]+t[3]*t[3]),b=Ove(-t[1]/y,t[0]/v);e[s]*=v,e[s++]+=g,e[s]*=y,e[s++]+=m,e[s++]*=v,e[s++]*=y,e[s++]+=b,e[s++]+=b,s+=2,o=s;break;case d:u[0]=e[s++],u[1]=e[s++],Oi(u,u,t),e[o++]=u[0],e[o++]=u[1],u[0]+=e[s++],u[1]+=e[s++],Oi(u,u,t),e[o++]=u[0],e[o++]=u[1]}for(l=0;l<a;l++){var _=Rve[l];_[0]=e[s++],_[1]=e[s++],Oi(_,_,t),e[o++]=_[0],e[o++]=_[1]}}r.increaseVersion()}}var FT=Math.sqrt,b5=Math.sin,w5=Math.cos,nx=Math.PI;function cH(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function yF(r,t){return(r[0]*t[0]+r[1]*t[1])/(cH(r)*cH(t))}function fH(r,t){return(r[0]*t[1]<r[1]*t[0]?-1:1)*Math.acos(yF(r,t))}function hH(r,t,e,n,i,a,s,o,l,u,c){var f=l*(nx/180),h=w5(f)*(r-e)/2+b5(f)*(t-n)/2,d=-1*b5(f)*(r-e)/2+w5(f)*(t-n)/2,A=h*h/(s*s)+d*d/(o*o);A>1&&(s*=FT(A),o*=FT(A));var p=(i===a?-1:1)*FT((s*s*(o*o)-s*s*(d*d)-o*o*(h*h))/(s*s*(d*d)+o*o*(h*h)))||0,g=p*s*d/o,m=p*-o*h/s,v=(r+e)/2+w5(f)*g-b5(f)*m,y=(t+n)/2+b5(f)*g+w5(f)*m,b=fH([1,0],[(h-g)/s,(d-m)/o]),_=[(h-g)/s,(d-m)/o],T=[(-1*h-g)/s,(-1*d-m)/o],I=fH(_,T);if(yF(_,T)<=-1&&(I=nx),yF(_,T)>=1&&(I=0),I<0){var N=Math.round(I/nx*1e6)/1e6;I=nx*2+N%2*nx}c.addData(u,v,y,s,o,b,I,f,a)}var jve=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,Uve=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Hve(r){var t=new Ef;if(!r)return t;var e=0,n=0,i=e,a=n,s,o=Ef.CMD,l=r.match(jve);if(!l)return t;for(var u=0;u<l.length;u++){for(var c=l[u],f=c.charAt(0),h=void 0,d=c.match(Uve)||[],A=d.length,p=0;p<A;p++)d[p]=parseFloat(d[p]);for(var g=0;g<A;){var m=void 0,v=void 0,y=void 0,b=void 0,_=void 0,T=void 0,I=void 0,N=e,F=n,P=void 0,D=void 0;switch(f){case"l":e+=d[g++],n+=d[g++],h=o.L,t.addData(h,e,n);break;case"L":e=d[g++],n=d[g++],h=o.L,t.addData(h,e,n);break;case"m":e+=d[g++],n+=d[g++],h=o.M,t.addData(h,e,n),i=e,a=n,f="l";break;case"M":e=d[g++],n=d[g++],h=o.M,t.addData(h,e,n),i=e,a=n,f="L";break;case"h":e+=d[g++],h=o.L,t.addData(h,e,n);break;case"H":e=d[g++],h=o.L,t.addData(h,e,n);break;case"v":n+=d[g++],h=o.L,t.addData(h,e,n);break;case"V":n=d[g++],h=o.L,t.addData(h,e,n);break;case"C":h=o.C,t.addData(h,d[g++],d[g++],d[g++],d[g++],d[g++],d[g++]),e=d[g-2],n=d[g-1];break;case"c":h=o.C,t.addData(h,d[g++]+e,d[g++]+n,d[g++]+e,d[g++]+n,d[g++]+e,d[g++]+n),e+=d[g-2],n+=d[g-1];break;case"S":m=e,v=n,P=t.len(),D=t.data,s===o.C&&(m+=e-D[P-4],v+=n-D[P-3]),h=o.C,N=d[g++],F=d[g++],e=d[g++],n=d[g++],t.addData(h,m,v,N,F,e,n);break;case"s":m=e,v=n,P=t.len(),D=t.data,s===o.C&&(m+=e-D[P-4],v+=n-D[P-3]),h=o.C,N=e+d[g++],F=n+d[g++],e+=d[g++],n+=d[g++],t.addData(h,m,v,N,F,e,n);break;case"Q":N=d[g++],F=d[g++],e=d[g++],n=d[g++],h=o.Q,t.addData(h,N,F,e,n);break;case"q":N=d[g++]+e,F=d[g++]+n,e+=d[g++],n+=d[g++],h=o.Q,t.addData(h,N,F,e,n);break;case"T":m=e,v=n,P=t.len(),D=t.data,s===o.Q&&(m+=e-D[P-4],v+=n-D[P-3]),e=d[g++],n=d[g++],h=o.Q,t.addData(h,m,v,e,n);break;case"t":m=e,v=n,P=t.len(),D=t.data,s===o.Q&&(m+=e-D[P-4],v+=n-D[P-3]),e+=d[g++],n+=d[g++],h=o.Q,t.addData(h,m,v,e,n);break;case"A":y=d[g++],b=d[g++],_=d[g++],T=d[g++],I=d[g++],N=e,F=n,e=d[g++],n=d[g++],h=o.A,hH(N,F,e,n,T,I,y,b,_,h,t);break;case"a":y=d[g++],b=d[g++],_=d[g++],T=d[g++],I=d[g++],N=e,F=n,e+=d[g++],n+=d[g++],h=o.A,hH(N,F,e,n,T,I,y,b,_,h,t);break}}(f==="z"||f==="Z")&&(h=o.Z,t.addData(h),e=i,n=a),s=h}return t.toStatic(),t}var Nte=function(r){Ge(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.applyTransform=function(e){},t}(Xr);function Fte(r){return r.setData!=null}function Ite(r,t){var e=Hve(r),n=pt({},t);return n.buildPath=function(i){var a=Fte(i);if(a&&i.canSave()){i.appendPath(e);var s=i.getContext();s&&i.rebuildPath(s,1)}else{var s=a?i.getContext():i;s&&e.rebuildPath(s,1)}},n.applyTransform=function(i){kte(e,i),this.dirtyShape()},n}function Mte(r,t){return new Nte(Ite(r,t))}function Qve(r,t){var e=Ite(r,t),n=function(i){Ge(a,i);function a(s){var o=i.call(this,s)||this;return o.applyTransform=e.applyTransform,o.buildPath=e.buildPath,o}return a}(Nte);return n}function zve(r,t){for(var e=[],n=r.length,i=0;i<n;i++){var a=r[i];e.push(a.getUpdatedPathProxy(!0))}var s=new Xr(t);return s.createPathProxy(),s.buildPath=function(o){if(Fte(o)){o.appendPath(e);var l=o.getContext();l&&o.rebuildPath(l,1)}},s}function WD(r,t){t=t||{};var e=new Xr;return r.shape&&e.setShape(r.shape),e.setStyle(r.style),t.bakeTransform?kte(e.path,r.getComputedTransform()):t.toLocal?e.setLocalTransform(r.getComputedTransform()):e.copyTransform(r),e.buildPath=r.buildPath,e.applyTransform=e.applyTransform,e.z=r.z,e.z2=r.z2,e.zlevel=r.zlevel,e}var Vve=function(){function r(){this.cx=0,this.cy=0,this.r=0}return r}(),Lf=function(r){Ge(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new Vve},t.prototype.buildPath=function(e,n){e.moveTo(n.cx+n.r,n.cy),e.arc(n.cx,n.cy,n.r,0,Math.PI*2)},t}(Xr);Lf.prototype.type="circle";var Gve=function(){function r(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return r}(),Qw=function(r){Ge(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new Gve},t.prototype.buildPath=function(e,n){var i=.5522848,a=n.cx,s=n.cy,o=n.rx,l=n.ry,u=o*i,c=l*i;e.moveTo(a-o,s),e.bezierCurveTo(a-o,s-c,a-u,s-l,a,s-l),e.bezierCurveTo(a+u,s-l,a+o,s-c,a+o,s),e.bezierCurveTo(a+o,s+c,a+u,s+l,a,s+l),e.bezierCurveTo(a-u,s+l,a-o,s+c,a-o,s),e.closePath()},t}(Xr);Qw.prototype.type="ellipse";var Lte=Math.PI,IT=Lte*2,W0=Math.sin,dm=Math.cos,Wve=Math.acos,qs=Math.atan2,dH=Math.abs,M2=Math.sqrt,$x=Math.max,Hc=Math.min,$u=1e-4;function $ve(r,t,e,n,i,a,s,o){var l=e-r,u=n-t,c=s-i,f=o-a,h=f*l-c*u;if(!(h*h<$u))return h=(c*(t-a)-f*(r-i))/h,[r+h*l,t+h*u]}function _5(r,t,e,n,i,a,s){var o=r-e,l=t-n,u=(s?a:-a)/M2(o*o+l*l),c=u*l,f=-u*o,h=r+c,d=t+f,A=e+c,p=n+f,g=(h+A)/2,m=(d+p)/2,v=A-h,y=p-d,b=v*v+y*y,_=i-a,T=h*p-A*d,I=(y<0?-1:1)*M2($x(0,_*_*b-T*T)),N=(T*y-v*I)/b,F=(-T*v-y*I)/b,P=(T*y+v*I)/b,D=(-T*v+y*I)/b,R=N-g,E=F-m,L=P-g,k=D-m;return R*R+E*E>L*L+k*k&&(N=P,F=D),{cx:N,cy:F,x0:-c,y0:-f,x1:N*(i/_-1),y1:F*(i/_-1)}}function Kve(r){var t;if(xt(r)){var e=r.length;if(!e)return r;e===1?t=[r[0],r[0],0,0]:e===2?t=[r[0],r[0],r[1],r[1]]:e===3?t=r.concat(r[2]):t=r}else t=[r,r,r,r];return t}function qve(r,t){var e,n=$x(t.r,0),i=$x(t.r0||0,0),a=n>0,s=i>0;if(!(!a&&!s)){if(a||(n=i,i=0),i>n){var o=n;n=i,i=o}var l=t.startAngle,u=t.endAngle;if(!(isNaN(l)||isNaN(u))){var c=t.cx,f=t.cy,h=!!t.clockwise,d=dH(u-l),A=d>IT&&d%IT;if(A>$u&&(d=A),!(n>$u))r.moveTo(c,f);else if(d>IT-$u)r.moveTo(c+n*dm(l),f+n*W0(l)),r.arc(c,f,n,l,u,!h),i>$u&&(r.moveTo(c+i*dm(u),f+i*W0(u)),r.arc(c,f,i,u,l,h));else{var p=void 0,g=void 0,m=void 0,v=void 0,y=void 0,b=void 0,_=void 0,T=void 0,I=void 0,N=void 0,F=void 0,P=void 0,D=void 0,R=void 0,E=void 0,L=void 0,k=n*dm(l),w=n*W0(l),C=i*dm(u),S=i*W0(u),B=d>$u;if(B){var O=t.cornerRadius;O&&(e=Kve(O),p=e[0],g=e[1],m=e[2],v=e[3]);var V=dH(n-i)/2;if(y=Hc(V,m),b=Hc(V,v),_=Hc(V,p),T=Hc(V,g),F=I=$x(y,b),P=N=$x(_,T),(I>$u||N>$u)&&(D=n*dm(u),R=n*W0(u),E=i*dm(l),L=i*W0(l),d<Lte)){var M=$ve(k,w,E,L,D,R,C,S);if(M){var U=k-M[0],Q=w-M[1],W=D-M[0],j=R-M[1],X=1/W0(Wve((U*W+Q*j)/(M2(U*U+Q*Q)*M2(W*W+j*j)))/2),z=M2(M[0]*M[0]+M[1]*M[1]);F=Hc(I,(n-z)/(X+1)),P=Hc(N,(i-z)/(X-1))}}}if(!B)r.moveTo(c+k,f+w);else if(F>$u){var H=Hc(m,F),K=Hc(v,F),Z=_5(E,L,k,w,n,H,h),ie=_5(D,R,C,S,n,K,h);r.moveTo(c+Z.cx+Z.x0,f+Z.cy+Z.y0),F<I&&H===K?r.arc(c+Z.cx,f+Z.cy,F,qs(Z.y0,Z.x0),qs(ie.y0,ie.x0),!h):(H>0&&r.arc(c+Z.cx,f+Z.cy,H,qs(Z.y0,Z.x0),qs(Z.y1,Z.x1),!h),r.arc(c,f,n,qs(Z.cy+Z.y1,Z.cx+Z.x1),qs(ie.cy+ie.y1,ie.cx+ie.x1),!h),K>0&&r.arc(c+ie.cx,f+ie.cy,K,qs(ie.y1,ie.x1),qs(ie.y0,ie.x0),!h))}else r.moveTo(c+k,f+w),r.arc(c,f,n,l,u,!h);if(!(i>$u)||!B)r.lineTo(c+C,f+S);else if(P>$u){var H=Hc(p,P),K=Hc(g,P),Z=_5(C,S,D,R,i,-K,h),ie=_5(k,w,E,L,i,-H,h);r.lineTo(c+Z.cx+Z.x0,f+Z.cy+Z.y0),P<N&&H===K?r.arc(c+Z.cx,f+Z.cy,P,qs(Z.y0,Z.x0),qs(ie.y0,ie.x0),!h):(K>0&&r.arc(c+Z.cx,f+Z.cy,K,qs(Z.y0,Z.x0),qs(Z.y1,Z.x1),!h),r.arc(c,f,i,qs(Z.cy+Z.y1,Z.cx+Z.x1),qs(ie.cy+ie.y1,ie.cx+ie.x1),h),H>0&&r.arc(c+ie.cx,f+ie.cy,H,qs(ie.y1,ie.x1),qs(ie.y0,ie.x0),!h))}else r.lineTo(c+C,f+S),r.arc(c,f,i,u,l,h)}r.closePath()}}}var Xve=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return r}(),Us=function(r){Ge(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new Xve},t.prototype.buildPath=function(e,n){qve(e,n)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(Xr);Us.prototype.type="sector";var Yve=function(){function r(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return r}(),ey=function(r){Ge(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new Yve},t.prototype.buildPath=function(e,n){var i=n.cx,a=n.cy,s=Math.PI*2;e.moveTo(i+n.r,a),e.arc(i,a,n.r,0,s,!1),e.moveTo(i+n.r0,a),e.arc(i,a,n.r0,0,s,!0)},t}(Xr);ey.prototype.type="ring";function Zve(r,t,e,n){var i=[],a=[],s=[],o=[],l,u,c,f;if(n){c=[1/0,1/0],f=[-1/0,-1/0];for(var h=0,d=r.length;h<d;h++)bh(c,c,r[h]),wh(f,f,r[h]);bh(c,c,n[0]),wh(f,f,n[1])}for(var h=0,d=r.length;h<d;h++){var A=r[h];if(e)l=r[h?h-1:d-1],u=r[(h+1)%d];else if(h===0||h===d-1){i.push(yf(r[h]));continue}else l=r[h-1],u=r[h+1];uA(a,u,l),B2(a,a,t);var p=MS(A,l),g=MS(A,u),m=p+g;m!==0&&(p/=m,g/=m),B2(s,a,-p),B2(o,a,g);var v=j7([],A,s),y=j7([],A,o);n&&(wh(v,v,c),bh(v,v,f),wh(y,y,c),bh(y,y,f)),i.push(v),i.push(y)}return e&&i.push(i.shift()),i}function Dte(r,t,e){var n=t.smooth,i=t.points;if(i&&i.length>=2){if(n){var a=Zve(i,n,e,t.smoothConstraint);r.moveTo(i[0][0],i[0][1]);for(var s=i.length,o=0;o<(e?s:s-1);o++){var l=a[o*2],u=a[o*2+1],c=i[(o+1)%s];r.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{r.moveTo(i[0][0],i[0][1]);for(var o=1,f=i.length;o<f;o++)r.lineTo(i[o][0],i[o][1])}e&&r.closePath()}}var Jve=function(){function r(){this.points=null,this.smooth=0,this.smoothConstraint=null}return r}(),Hs=function(r){Ge(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new Jve},t.prototype.buildPath=function(e,n){Dte(e,n,!0)},t}(Xr);Hs.prototype.type="polygon";var e1e=function(){function r(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return r}(),gs=function(r){Ge(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new e1e},t.prototype.buildPath=function(e,n){Dte(e,n,!1)},t}(Xr);gs.prototype.type="polyline";var t1e={},r1e=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r}(),ra=function(r){Ge(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new r1e},t.prototype.buildPath=function(e,n){var i,a,s,o;if(this.subPixelOptimize){var l=r8(t1e,n,this.style);i=l.x1,a=l.y1,s=l.x2,o=l.y2}else i=n.x1,a=n.y1,s=n.x2,o=n.y2;var u=n.percent;u!==0&&(e.moveTo(i,a),u<1&&(s=i*(1-u)+s*u,o=a*(1-u)+o*u),e.lineTo(s,o))},t.prototype.pointAt=function(e){var n=this.shape;return[n.x1*(1-e)+n.x2*e,n.y1*(1-e)+n.y2*e]},t}(Xr);ra.prototype.type="line";var Qo=[],n1e=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return r}();function AH(r,t,e){var n=r.cpx2,i=r.cpy2;return n!=null||i!=null?[(e?mU:Ga)(r.x1,r.cpx1,r.cpx2,r.x2,t),(e?mU:Ga)(r.y1,r.cpy1,r.cpy2,r.y2,t)]:[(e?W7:us)(r.x1,r.cpx1,r.x2,t),(e?W7:us)(r.y1,r.cpy1,r.y2,t)]}var ty=function(r){Ge(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new n1e},t.prototype.buildPath=function(e,n){var i=n.x1,a=n.y1,s=n.x2,o=n.y2,l=n.cpx1,u=n.cpy1,c=n.cpx2,f=n.cpy2,h=n.percent;h!==0&&(e.moveTo(i,a),c==null||f==null?(h<1&&(Cb(i,l,s,h,Qo),l=Qo[1],s=Qo[2],Cb(a,u,o,h,Qo),u=Qo[1],o=Qo[2]),e.quadraticCurveTo(l,u,s,o)):(h<1&&(qA(i,l,c,s,h,Qo),l=Qo[1],c=Qo[2],s=Qo[3],qA(a,u,f,o,h,Qo),u=Qo[1],f=Qo[2],o=Qo[3]),e.bezierCurveTo(l,u,c,f,s,o)))},t.prototype.pointAt=function(e){return AH(this.shape,e,!1)},t.prototype.tangentAt=function(e){var n=AH(this.shape,e,!0);return Og(n,n)},t}(Xr);ty.prototype.type="bezier-curve";var i1e=function(){function r(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),zw=function(r){Ge(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new i1e},t.prototype.buildPath=function(e,n){var i=n.cx,a=n.cy,s=Math.max(n.r,0),o=n.startAngle,l=n.endAngle,u=n.clockwise,c=Math.cos(o),f=Math.sin(o);e.moveTo(c*s+i,f*s+a),e.arc(i,a,s,o,l,!u)},t}(Xr);zw.prototype.type="arc";var Vw=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="compound",e}return t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,n=this.shapeChanged(),i=0;i<e.length;i++)n=n||e[i].shapeChanged();n&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],n=this.getGlobalScale(),i=0;i<e.length;i++)e[i].path||e[i].createPathProxy(),e[i].path.setScale(n[0],n[1],e[i].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,n){for(var i=n.paths||[],a=0;a<i.length;a++)i[a].buildPath(e,i[a].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],n=0;n<e.length;n++)e[n].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Xr.prototype.getBoundingRect.call(this)},t}(Xr),Pte=function(){function r(t){this.colorStops=t||[]}return r.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},r}(),jg=function(r){Ge(t,r);function t(e,n,i,a,s,o){var l=r.call(this,s)||this;return l.x=e??0,l.y=n??0,l.x2=i??1,l.y2=a??0,l.type="linear",l.global=o||!1,l}return t}(Pte),$D=function(r){Ge(t,r);function t(e,n,i,a,s){var o=r.call(this,a)||this;return o.x=e??.5,o.y=n??.5,o.r=i??.5,o.type="radial",o.global=s||!1,o}return t}(Pte),MT=Math.min,a1e=Math.max,S5=Math.abs,$0=[0,0],K0=[0,0],as=wee(),C5=as.minTv,B5=as.maxTv,Rte=function(){function r(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new cr;for(var n=0;n<2;n++)this._axes[n]=new cr;t&&this.fromBoundingRect(t,e)}return r.prototype.fromBoundingRect=function(t,e){var n=this._corners,i=this._axes,a=t.x,s=t.y,o=a+t.width,l=s+t.height;if(n[0].set(a,s),n[1].set(o,s),n[2].set(o,l),n[3].set(a,l),e)for(var u=0;u<4;u++)n[u].transform(e);cr.sub(i[0],n[1],n[0]),cr.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(var u=0;u<2;u++)this._origin[u]=i[u].dot(n[0])},r.prototype.intersect=function(t,e,n){var i=!0,a=!e;return e&&cr.set(e,0,0),as.reset(n,!a),!this._intersectCheckOneSide(this,t,a,1)&&(i=!1,a)||!this._intersectCheckOneSide(t,this,a,-1)&&(i=!1,a)||!a&&!as.negativeSize&&cr.copy(e,i?as.useDir?as.dirMinTv:C5:B5),i},r.prototype._intersectCheckOneSide=function(t,e,n,i){for(var a=!0,s=0;s<2;s++){var o=t._axes[s];if(t._getProjMinMaxOnAxis(s,t._corners,$0),t._getProjMinMaxOnAxis(s,e._corners,K0),as.negativeSize||$0[1]<K0[0]||$0[0]>K0[1]){if(a=!1,as.negativeSize||n)return a;var l=S5(K0[0]-$0[1]),u=S5($0[0]-K0[1]);MT(l,u)>B5.len()&&(l<u?cr.scale(B5,o,-l*i):cr.scale(B5,o,u*i))}else if(!n){var l=S5(K0[0]-$0[1]),u=S5($0[0]-K0[1]);(as.useDir||MT(l,u)<C5.len())&&((l<u||!as.bidirectional)&&(cr.scale(C5,o,l*i),as.useDir&&as.calcDirMTV()),(l>=u||!as.bidirectional)&&(cr.scale(C5,o,-u*i),as.useDir&&as.calcDirMTV()))}}return a},r.prototype._getProjMinMaxOnAxis=function(t,e,n){for(var i=this._axes[t],a=this._origin,s=e[0].dot(i)+a[t],o=s,l=s,u=1;u<e.length;u++){var c=e[u].dot(i)+a[t];o=MT(c,o),l=a1e(c,l)}n[0]=o+as.touchThreshold,n[1]=l-as.touchThreshold,as.negativeSize=n[1]<n[0]},r}(),s1e=[],Ote=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return t.prototype.traverse=function(e,n){e.call(n,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,n){n?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,n){n=n||!1;for(var i=0;i<e.length;i++)this.addDisplayable(e[i],n)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var n=this._cursor;n<this._displayables.length;n++)e&&e(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)e&&e(this._temporaryDisplayables[n])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var n=this._displayables[e];n.parent=this,n.update(),n.parent=null}for(var e=0;e<this._temporaryDisplayables.length;e++){var n=this._temporaryDisplayables[e];n.parent=this,n.update(),n.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new fr(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var i=this._displayables[n],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(s1e)),e.union(a)}this._rect=e}return this._rect},t.prototype.contain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var s=0;s<this._displayables.length;s++){var o=this._displayables[s];if(o.contain(e,n))return!0}return!1},t}(Nu),jte=Kr();function ry(r,t,e,n,i){var a;if(t&&t.ecModel){var s=t.ecModel.getUpdatePayload();a=s&&s.animation}var o=t&&t.isAnimationEnabled(),l=r==="update";if(o){var u=void 0,c=void 0,f=void 0;n?(u=Zt(n.duration,200),c=Zt(n.easing,"cubicOut"),f=0):(u=t.getShallow(l?"animationDurationUpdate":"animationDuration"),c=t.getShallow(l?"animationEasingUpdate":"animationEasing"),f=t.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(u=a.duration),a.easing!=null&&(c=a.easing),a.delay!=null&&(f=a.delay)),rr(f)&&(f=f(e,i)),rr(u)&&(u=u(e));var h={duration:u||0,delay:f,easing:c};return h}else return null}function KD(r,t,e,n,i,a,s){var o=!1,l;rr(i)?(s=a,a=i,i=null):or(i)&&(a=i.cb,s=i.during,o=i.isFrom,l=i.removeOpt,i=i.dataIndex);var u=r==="leave";u||t.stopAnimation("leave");var c=ry(r,n,i,u?l||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(t,i):null);if(c&&c.duration>0){var f=c.duration,h=c.delay,d=c.easing,A={duration:f,delay:h||0,easing:d,done:a,force:!!a||!!s,setToFinal:!u,scope:r,during:s};o?t.animateFrom(e,A):t.animateTo(e,A)}else t.stopAnimation(),!o&&t.attr(e),s&&s(1),a&&a()}function ln(r,t,e,n,i,a){KD("update",r,t,e,n,i,a)}function ni(r,t,e,n,i,a){KD("enter",r,t,e,n,i,a)}function Vv(r){if(!r.__zr)return!0;for(var t=0;t<r.animators.length;t++){var e=r.animators[t];if(e.scope==="leave")return!0}return!1}function XA(r,t,e,n,i,a){Vv(r)||KD("leave",r,t,e,n,i,a)}function pH(r,t,e,n){r.removeTextContent(),r.removeTextGuideLine(),XA(r,{style:{opacity:0}},t,e,n)}function kh(r,t,e){function n(){r.parent&&r.parent.remove(r)}r.isGroup?r.traverse(function(i){i.isGroup||pH(i,t,e,n)}):pH(r,t,e,n)}function Fu(r){jte(r).oldStyle=r.style}function o1e(r){return jte(r).oldStyle}var xF={},Sr=["x","y"],va=["width","height"];function Ute(r){return Xr.extend(r)}var l1e=Qve;function Hte(r,t){return l1e(r,t)}function Lu(r,t){xF[r]=t}function Mb(r){if(xF.hasOwnProperty(r))return xF[r]}function k1(r,t,e,n){var i=Mte(r,t);return e&&(n==="center"&&(e=Qte(e,i.getBoundingRect())),XD(i,e)),i}function qD(r,t,e){var n=new es({style:{image:r,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){if(e==="center"){var a={width:i.width,height:i.height};n.setStyle(Qte(t,a))}}});return n}function Qte(r,t){var e=t.width/t.height,n=r.height*e,i;n<=r.width?i=r.height:(n=r.width,i=n/e);var a=r.x+r.width/2,s=r.y+r.height/2;return{x:a-n/2,y:s-i/2,width:n,height:i}}var Fl=zve;function XD(r,t){if(r.applyTransform){var e=r.getBoundingRect(),n=e.calculateTransform(t);r.applyTransform(n)}}function N1(r,t){return r8(r,r,{lineWidth:t}),r}function u1e(r,t){return mte(r,r,t),r}var P3=Pl;function DA(r,t){for(var e=Ow([]);r&&r!==t;)dc(e,r.getLocalTransform(),e),r=r.parent;return e}function pc(r,t,e){return t&&!Os(t)&&(t=_h.getLocalTransform(t)),e&&(t=ku([],t)),Oi([],r,t)}function a8(r,t,e){var n=t[4]===0||t[5]===0||t[0]===0?1:uf(2*t[4]/t[0]),i=t[4]===0||t[5]===0||t[2]===0?1:uf(2*t[4]/t[2]),a=[r==="left"?-n:r==="right"?n:0,r==="top"?-i:r==="bottom"?i:0];return a=pc(a,t,e),uf(a[0])>uf(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function gH(r){return!r.isGroup}function c1e(r){return r.shape!=null}function Gw(r,t,e){if(!r||!t)return;function n(s){var o={};return s.traverse(function(l){gH(l)&&l.anid&&(o[l.anid]=l)}),o}function i(s){var o={x:s.x,y:s.y,rotation:s.rotation};return c1e(s)&&(o.shape=nr(s.shape)),o}var a=n(r);t.traverse(function(s){if(gH(s)&&s.anid){var o=a[s.anid];if(o){var l=i(s);s.attr(i(o)),ln(s,l,e,pr(s).dataIndex)}}})}function YD(r,t){return wt(r,function(e){var n=e[0];n=ea(n,t.x),n=Hl(n,t.x+t.width);var i=e[1];return i=ea(i,t.y),i=Hl(i,t.y+t.height),[n,i]})}function zte(r,t){var e=ea(r.x,t.x),n=Hl(r.x+r.width,t.x+t.width),i=ea(r.y,t.y),a=Hl(r.y+r.height,t.y+t.height);if(n>=e&&a>=i)return{x:e,y:i,width:n-e,height:a-i}}function ny(r,t,e){var n=pt({rectHover:!0},t),i=n.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},r)return r.indexOf("image://")===0?(i.image=r.slice(8),sr(i,e),new es(n)):k1(r.replace("path://",""),n,e,"center")}function Kx(r,t,e,n,i){for(var a=0,s=i[i.length-1];a<i.length;a++){var o=i[a];if(Vte(r,t,e,n,o[0],o[1],s[0],s[1]))return!0;s=o}}function Vte(r,t,e,n,i,a,s,o){var l=e-r,u=n-t,c=s-i,f=o-a,h=LT(c,f,l,u);if(f1e(h))return!1;var d=r-i,A=t-a,p=LT(d,A,l,u)/h;if(p<0||p>1)return!1;var g=LT(d,A,c,f)/h;return!(g<0||g>1)}function LT(r,t,e,n){return r*n-e*t}function f1e(r){return r<=1e-6&&r>=-1e-6}function _g(r,t,e,n,i){return t==null||(an(t)?gi[0]=gi[1]=gi[2]=gi[3]=t:(gi[0]=t[0],gi[1]=t[1],gi[2]=t[2],gi[3]=t[3]),n&&(gi[0]=ea(0,gi[0]),gi[1]=ea(0,gi[1]),gi[2]=ea(0,gi[2]),gi[3]=ea(0,gi[3])),e&&(gi[0]=-gi[0],gi[1]=-gi[1],gi[2]=-gi[2],gi[3]=-gi[3]),mH(r,gi,"x","width",3,1,i&&i[0]||0),mH(r,gi,"y","height",0,2,i&&i[1]||0)),r}var gi=[0,0,0,0];function mH(r,t,e,n,i,a,s){var o=t[a]+t[i],l=r[n];r[n]+=o,s=ea(0,Hl(s,l)),r[n]<s?(r[n]=s,r[e]+=t[i]>=0?-t[i]:t[a]>=0?l+t[a]:uf(o)>1e-8?(l-s)*t[i]/o:0):r[e]-=t[i]}function nd(r){var t=r.itemTooltipOption,e=r.componentModel,n=r.itemName,i=Ht(t)?{formatter:t}:t,a=e.mainType,s=e.componentIndex,o={componentType:a,name:n,$vars:["name"]};o[a+"Index"]=s;var l=r.formatterParamsExtra;l&&se(en(l),function(c){Kt(o,c)||(o[c]=l[c],o.$vars.push(c))});var u=pr(r.el);u.componentMainType=a,u.componentIndex=s,u.tooltipConfig={name:n,option:sr({content:n,encodeHTMLContent:!0,formatterParams:o},i)}}function bF(r,t){var e;r.isGroup&&(e=t(r)),e||r.traverse(t)}function h0(r,t){if(r)if(xt(r))for(var e=0;e<r.length;e++)bF(r[e],t);else bF(r,t)}function ZD(r){return!r||uf(r[1])<T5&&uf(r[2])<T5||uf(r[0])<T5&&uf(r[3])<T5}var T5=1e-5;function Lb(r,t){return r?fr.copy(r,t):t.clone()}function JD(r,t){return t?jw(r||Ya(),t):void 0}function Sg(r){return{z:r.get("z")||0,zlevel:r.get("zlevel")||0}}function Gte(r){var t=-1/0,e=1/0;bF(r,function(a){n(a),n(a.getTextContent()),n(a.getTextGuideLine())});function n(a){if(!(!a||a.isGroup)){var s=a.currentStates;if(s.length)for(var o=0;o<s.length;o++)i(a.states[s[o]]);i(a)}}function i(a){if(a){var s=a.z2;s>t&&(t=s),s<e&&(e=s)}}return e>t&&(e=t=0),{min:e,max:t}}function s8(r,t,e){Wte(r,t,e,-1/0)}function Wte(r,t,e,n){if(r.ignoreModelZ)return n;var i=r.getTextContent(),a=r.getTextGuideLine(),s=r.isGroup;if(s)for(var o=r.childrenRef(),l=0;l<o.length;l++)n=ea(Wte(o[l],t,e,n),n);else r.z=t,r.zlevel=e,n=ea(r.z2||0,n);if(i&&(i.z=t,i.zlevel=e,isFinite(n)&&(i.z2=n+2)),a){var u=r.textGuideLineConfig;a.z=t,a.zlevel=e,isFinite(n)&&(a.z2=n+(u&&u.showAbove?1:-1))}return n}Lu("circle",Lf);Lu("ellipse",Qw);Lu("sector",Us);Lu("ring",ey);Lu("polygon",Hs);Lu("polyline",gs);Lu("rect",zr);Lu("line",ra);Lu("bezierCurve",ty);Lu("arc",zw);const Ug=Object.freeze(Object.defineProperty({__proto__:null,Arc:zw,BezierCurve:ty,BoundingRect:fr,Circle:Lf,CompoundPath:Vw,Ellipse:Qw,Group:ir,Image:es,IncrementalDisplayable:Ote,Line:ra,LinearGradient:jg,OrientedBoundingRect:Rte,Path:Xr,Point:cr,Polygon:Hs,Polyline:gs,RadialGradient:$D,Rect:zr,Ring:ey,Sector:Us,Text:nn,WH:va,XY:Sr,applyTransform:pc,calcZ2Range:Gte,clipPointsByRect:YD,clipRectByRect:zte,createIcon:ny,ensureCopyRect:Lb,ensureCopyTransform:JD,expandOrShrinkRect:_g,extendPath:Hte,extendShape:Ute,getShapeClass:Mb,getTransform:DA,groupTransition:Gw,initProps:ni,isBoundingRectAxisAligned:ZD,isElementRemoved:Vv,lineLineIntersect:Vte,linePolygonIntersect:Kx,makeImage:qD,makePath:k1,mergePath:Fl,registerShape:Lu,removeElement:XA,removeElementWithFadeOut:kh,resizePath:XD,retrieveZInfo:Sg,setTooltipConfig:nd,subPixelOptimize:P3,subPixelOptimizeLine:N1,subPixelOptimizeRect:u1e,transformDirection:a8,traverseElements:h0,traverseUpdateZ:s8,updateProps:ln},Symbol.toStringTag,{value:"Module"}));var o8={};function $te(r,t){for(var e=0;e<Lo.length;e++){var n=Lo[e],i=t[n],a=r.ensureState(n);a.style=a.style||{},a.style.text=i}var s=r.currentStates.slice();r.clearStates(!0),r.setStyle({text:t.normal}),r.useStates(s,!0)}function wF(r,t,e){var n=r.labelFetcher,i=r.labelDataIndex,a=r.labelDimIndex,s=t.normal,o;n&&(o=n.getFormattedLabel(i,"normal",null,a,s&&s.get("formatter"),e!=null?{interpolatedValue:e}:null)),o==null&&(o=rr(r.defaultText)?r.defaultText(i,r,e):r.defaultText);for(var l={normal:o},u=0;u<Lo.length;u++){var c=Lo[u],f=t[c];l[c]=Zt(n?n.getFormattedLabel(i,c,null,a,f&&f.get("formatter")):null,o)}return l}function Ja(r,t,e,n){e=e||o8;for(var i=r instanceof nn,a=!1,s=0;s<Fb.length;s++){var o=t[Fb[s]];if(o&&o.getShallow("show")){a=!0;break}}var l=i?r:r.getTextContent();if(a){i||(l||(l=new nn,r.setTextContent(l)),r.stateProxy&&(l.stateProxy=r.stateProxy));var u=wF(e,t),c=t.normal,f=!!c.getShallow("show"),h=jn(c,n&&n.normal,e,!1,!i);h.text=u.normal,i||r.setTextConfig(qS(c,e,!1));for(var s=0;s<Lo.length;s++){var d=Lo[s],o=t[d];if(o){var A=l.ensureState(d),p=!!Zt(o.getShallow("show"),f);if(p!==f&&(A.ignore=!p),A.style=jn(o,n&&n[d],e,!0,!i),A.style.text=u[d],!i){var g=r.ensureState(d);g.textConfig=qS(o,e,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(h.x=l.style.x),l.style.y!=null&&(h.y=l.style.y),l.ignore=!f,l.useStyle(h),l.dirty(),e.enableTextSetter&&(iy(l).setLabelText=function(m){var v=wF(e,t,m);$te(l,v)})}else l&&(l.ignore=!0);r.dirty()}function Ma(r,t){t=t||"label";for(var e={normal:r.getModel(t)},n=0;n<Lo.length;n++){var i=Lo[n];e[i]=r.getModel([i,t])}return e}function jn(r,t,e,n,i){var a={};return h1e(a,r,e,n,i),t&&pt(a,t),a}function qS(r,t,e){t=t||{};var n={},i,a=r.getShallow("rotate"),s=Zt(r.getShallow("distance"),e?null:5),o=r.getShallow("offset");return i=r.getShallow("position")||(e?null:"inside"),i==="outside"&&(i=t.defaultOutsidePosition||"top"),i!=null&&(n.position=i),o!=null&&(n.offset=o),a!=null&&(a*=Math.PI/180,n.rotation=a),s!=null&&(n.distance=s),n.outsideFill=r.get("color")==="inherit"?t.inheritColor||null:"auto",t.autoOverflowArea!=null&&(n.autoOverflowArea=t.autoOverflowArea),t.layoutRect!=null&&(n.layoutRect=t.layoutRect),n}function h1e(r,t,e,n,i){e=e||o8;var a=t.ecModel,s=a&&a.option.textStyle,o=d1e(t),l;if(o){l={};var u="richInheritPlainLabel",c=Zt(t.get(u),a?a.get(u):void 0);for(var f in o)if(o.hasOwnProperty(f)){var h=t.getModel(["rich",f]);bH(l[f]={},h,s,t,c,e,n,i,!1,!0)}}l&&(r.rich=l);var d=t.get("overflow");d&&(r.overflow=d);var A=t.get("lineOverflow");A&&(r.lineOverflow=A);var p=r,g=t.get("minMargin");if(g!=null)g=an(g)?g/2:0,p.margin=[g,g,g,g],p.__marginType=Tv.minMargin;else{var m=t.get("textMargin");m!=null&&(p.margin=Pw(m),p.__marginType=Tv.textMargin)}bH(r,t,s,null,null,e,n,i,!0,!1)}function d1e(r){for(var t;r&&r!==r.ecModel;){var e=(r.option||o8).rich;if(e){t=t||{};for(var n=en(e),i=0;i<n.length;i++){var a=n[i];t[a]=1}}r=r.parentModel}return t}var vH=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],yH=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],xH=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function bH(r,t,e,n,i,a,s,o,l,u){e=!s&&e||o8;var c=a&&a.inheritColor,f=t.getShallow("color"),h=t.getShallow("textBorderColor"),d=Zt(t.getShallow("opacity"),e.opacity);(f==="inherit"||f==="auto")&&(c?f=c:f=null),(h==="inherit"||h==="auto")&&(c?h=c:h=null),o||(f=f||e.color,h=h||e.textBorderColor),f!=null&&(r.fill=f),h!=null&&(r.stroke=h);var A=Zt(t.getShallow("textBorderWidth"),e.textBorderWidth);A!=null&&(r.lineWidth=A);var p=Zt(t.getShallow("textBorderType"),e.textBorderType);p!=null&&(r.lineDash=p);var g=Zt(t.getShallow("textBorderDashOffset"),e.textBorderDashOffset);g!=null&&(r.lineDashOffset=g),!s&&d==null&&!u&&(d=a&&a.defaultOpacity),d!=null&&(r.opacity=d),!s&&!o&&r.fill==null&&a.inheritColor&&(r.fill=a.inheritColor);for(var m=0;m<vH.length;m++){var v=vH[m],y=i!==!1&&n?rl(t.getShallow(v),n.getShallow(v),e[v]):Zt(t.getShallow(v),e[v]);y!=null&&(r[v]=y)}for(var m=0;m<yH.length;m++){var v=yH[m],y=t.getShallow(v);y!=null&&(r[v]=y)}if(r.verticalAlign==null){var b=t.getShallow("baseline");b!=null&&(r.verticalAlign=b)}if(!l||!a.disableBox){for(var m=0;m<xH.length;m++){var v=xH[m],y=t.getShallow(v);y!=null&&(r[v]=y)}var _=t.getShallow("borderType");_!=null&&(r.borderDash=_),(r.backgroundColor==="auto"||r.backgroundColor==="inherit")&&c&&(r.backgroundColor=c),(r.borderColor==="auto"||r.borderColor==="inherit")&&c&&(r.borderColor=c)}}function e9(r,t){var e=t&&t.getModel("textStyle");return Ml([r.fontStyle||e&&e.getShallow("fontStyle")||"",r.fontWeight||e&&e.getShallow("fontWeight")||"",(r.fontSize||e&&e.getShallow("fontSize")||12)+"px",r.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var iy=Kr();function Kte(r,t,e,n){if(r){var i=iy(r);i.prevValue=i.value,i.value=e;var a=t.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=n,i.statesModels=t)}}function qte(r,t,e,n,i){var a=iy(r);if(!a.valueAnimation||a.prevValue===a.value)return;var s=a.defaultInterpolatedText,o=Zt(a.interpolatedValue,a.prevValue),l=a.value;function u(c){var f=ote(e,a.precision,o,l,c);a.interpolatedValue=c===1?null:f;var h=wF({labelDataIndex:t,labelFetcher:i,defaultText:s?s(f):f+""},a.statesModels,f);$te(r,h)}r.percent=0,(a.prevValue==null?ni:ln)(r,{percent:1},n,t,null,u)}var Tv={minMargin:1,textMargin:2},A1e=["textStyle","color"],DT=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],PT=new nn,p1e=function(){function r(){}return r.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(A1e):null)},r.prototype.getFont=function(){return e9({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},r.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<DT.length;n++)e[DT[n]]=this.getShallow(DT[n]);return PT.useStyle(e),PT.update(),PT.getBoundingRect()},r}(),Xte=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],g1e=bg(Xte),m1e=function(){function r(){}return r.prototype.getLineStyle=function(t){return g1e(this,t)},r}(),Yte=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],v1e=bg(Yte),y1e=function(){function r(){}return r.prototype.getItemStyle=function(t,e){return v1e(this,t,e)},r}(),qr=function(){function r(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}return r.prototype.init=function(t,e,n){},r.prototype.mergeOption=function(t,e){Dr(this.option,t,!0)},r.prototype.get=function(t,e){return t==null?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},r.prototype.getShallow=function(t,e){var n=this.option,i=n==null?n:n[t];if(i==null&&!e){var a=this.parentModel;a&&(i=a.getShallow(t))}return i},r.prototype.getModel=function(t,e){var n=t!=null,i=n?this.parsePath(t):null,a=n?this._doGet(i):this.option;return e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new r(a,e,this.ecModel)},r.prototype.isEmpty=function(){return this.option==null},r.prototype.restoreData=function(){},r.prototype.clone=function(){var t=this.constructor;return new t(nr(this.option))},r.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},r.prototype.resolveParentPath=function(t){return t},r.prototype.isAnimationEnabled=function(){if(!Zr.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},r.prototype._doGet=function(t,e){var n=this.option;if(!t)return n;for(var i=0;i<t.length&&!(t[i]&&(n=n&&typeof n=="object"?n[t[i]]:null,n==null));i++);return n==null&&e&&(n=e._doGet(this.resolveParentPath(t),e.parentModel)),n},r}();RD(qr);Nme(qr);Ui(qr,m1e);Ui(qr,y1e);Ui(qr,Dme);Ui(qr,p1e);var x1e=Math.round(Math.random()*10);function ay(r){return[r||"",x1e++].join("_")}function b1e(r){var t={};r.registerSubTypeDefaulter=function(e,n){var i=cf(e);t[i.main]=n},r.determineSubType=function(e,n){var i=n.type;if(!i){var a=cf(e).main;r.hasSubTypes(e)&&t[a]&&(i=t[a](n))}return i}}function w1e(r,t){r.topologicalTravel=function(a,s,o,l){if(!a.length)return;var u=e(s),c=u.graph,f=u.noEntryList,h={};for(se(a,function(v){h[v]=!0});f.length;){var d=f.pop(),A=c[d],p=!!h[d];p&&(o.call(l,d,A.originalDeps.slice()),delete h[d]),se(A.successor,p?m:g)}se(h,function(){var v="";throw new Error(v)});function g(v){c[v].entryCount--,c[v].entryCount===0&&f.push(v)}function m(v){h[v]=!0,g(v)}};function e(a){var s={},o=[];return se(a,function(l){var u=n(s,l),c=u.originalDeps=t(l),f=i(c,a);u.entryCount=f.length,u.entryCount===0&&o.push(l),se(f,function(h){Lr(u.predecessor,h)<0&&u.predecessor.push(h);var d=n(s,h);Lr(d.successor,h)<0&&d.successor.push(l)})}),{graph:s,noEntryList:o}}function n(a,s){return a[s]||(a[s]={predecessor:[],successor:[]}),a[s]}function i(a,s){var o=[];return se(a,function(l){Lr(s,l)>=0&&o.push(l)}),o}}function d0(r,t){return Dr(Dr({},r,!0),t,!0)}const _1e={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},S1e={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var XS="ZH",t9="EN",Gv=t9,R3={},r9={},Zte=Zr.domSupported?function(){var r=(document.documentElement.lang||navigator.language||navigator.browserLanguage||Gv).toUpperCase();return r.indexOf(XS)>-1?XS:Gv}():Gv;function n9(r,t){r=r.toUpperCase(),r9[r]=new qr(t),R3[r]=t}function C1e(r){if(Ht(r)){var t=R3[r.toUpperCase()]||{};return r===XS||r===t9?nr(t):Dr(nr(t),nr(R3[Gv]),!1)}else return Dr(nr(r),nr(R3[Gv]),!1)}function _F(r){return r9[r]}function B1e(){return r9[Gv]}n9(t9,_1e);n9(XS,S1e);var SF=null;function T1e(r){SF||(SF=r)}function ma(){return SF}var i9=1e3,a9=i9*60,L2=a9*60,vu=L2*24,wH=vu*365,E1e={year:/({yyyy}|{yy})/,month:/({MMMM}|{MMM}|{MM}|{M})/,day:/({dd}|{d})/,hour:/({HH}|{H}|{hh}|{h})/,minute:/({mm}|{m})/,second:/({ss}|{s})/,millisecond:/({SSS}|{S})/},O3={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}"},k1e="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}",E5="{yyyy}-{MM}-{dd}",_H={year:"{yyyy}",month:"{yyyy}-{MM}",day:E5,hour:E5+" "+O3.hour,minute:E5+" "+O3.minute,second:E5+" "+O3.second,millisecond:k1e},Cl=["year","month","day","hour","minute","second","millisecond"],N1e=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function F1e(r){return!Ht(r)&&!rr(r)?I1e(r):r}function I1e(r){r=r||{};var t={},e=!0;return se(Cl,function(n){e&&(e=r[n]==null)}),se(Cl,function(n,i){var a=r[n];t[n]={};for(var s=null,o=i;o>=0;o--){var l=Cl[o],u=or(a)&&!xt(a)?a[l]:a,c=void 0;xt(u)?(c=u.slice(),s=c[0]||""):Ht(u)?(s=u,c=[s]):(s==null?s=O3[n]:E1e[l].test(s)||(s=t[l][l][0]+" "+s),c=[s],e&&(c[1]="{primary|"+s+"}")),t[n][l]=c}}),t}function So(r,t){return r+="","0000".substr(0,t-r.length)+r}function D2(r){switch(r){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return r}}function M1e(r){return r===D2(r)}function L1e(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function Ww(r,t,e,n){var i=Mf(r),a=i[Jte(e)](),s=i[s9(e)]()+1,o=Math.floor((s-1)/3)+1,l=i[o9(e)](),u=i["get"+(e?"UTC":"")+"Day"](),c=i[l9(e)](),f=(c-1)%12+1,h=i[u9(e)](),d=i[c9(e)](),A=i[f9(e)](),p=c>=12?"pm":"am",g=p.toUpperCase(),m=n instanceof qr?n:_F(n||Zte)||B1e(),v=m.getModel("time"),y=v.get("month"),b=v.get("monthAbbr"),_=v.get("dayOfWeek"),T=v.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,p+"").replace(/{A}/g,g+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,So(a%100+"",2)).replace(/{Q}/g,o+"").replace(/{MMMM}/g,y[s-1]).replace(/{MMM}/g,b[s-1]).replace(/{MM}/g,So(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,So(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,_[u]).replace(/{ee}/g,T[u]).replace(/{e}/g,u+"").replace(/{HH}/g,So(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,So(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,So(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,So(d,2)).replace(/{s}/g,d+"").replace(/{SSS}/g,So(A,3)).replace(/{S}/g,A+"")}function D1e(r,t,e,n,i){var a=null;if(Ht(e))a=e;else if(rr(e)){var s={time:r.time,level:r.time.level},o=ma();o&&o.makeAxisLabelFormatterParamBreak(s,r.break),a=e(r.value,t,s)}else{var l=r.time;if(l){var u=e[l.lowerTimeUnit][l.upperTimeUnit];a=u[Math.min(l.level,u.length-1)]||""}else{var c=Ev(r.value,i);a=e[c][c][0]}}return Ww(new Date(r.value),a,i,n)}function Ev(r,t){var e=Mf(r),n=e[s9(t)]()+1,i=e[o9(t)](),a=e[l9(t)](),s=e[u9(t)](),o=e[c9(t)](),l=e[f9(t)](),u=l===0,c=u&&o===0,f=c&&s===0,h=f&&a===0,d=h&&i===1,A=d&&n===1;return A?"year":d?"month":h?"day":f?"hour":c?"minute":u?"second":"millisecond"}function YS(r,t,e){switch(t){case"year":r[ere(e)](0);case"month":r[tre(e)](1);case"day":r[rre(e)](0);case"hour":r[nre(e)](0);case"minute":r[ire(e)](0);case"second":r[are(e)](0)}return r}function Jte(r){return r?"getUTCFullYear":"getFullYear"}function s9(r){return r?"getUTCMonth":"getMonth"}function o9(r){return r?"getUTCDate":"getDate"}function l9(r){return r?"getUTCHours":"getHours"}function u9(r){return r?"getUTCMinutes":"getMinutes"}function c9(r){return r?"getUTCSeconds":"getSeconds"}function f9(r){return r?"getUTCMilliseconds":"getMilliseconds"}function P1e(r){return r?"setUTCFullYear":"setFullYear"}function ere(r){return r?"setUTCMonth":"setMonth"}function tre(r){return r?"setUTCDate":"setDate"}function rre(r){return r?"setUTCHours":"setHours"}function nre(r){return r?"setUTCMinutes":"setMinutes"}function ire(r){return r?"setUTCSeconds":"setSeconds"}function are(r){return r?"setUTCMilliseconds":"setMilliseconds"}function R1e(r,t,e,n,i,a,s,o){var l=new nn({style:{text:r,font:t,align:e,verticalAlign:n,padding:i,rich:a,overflow:s?"truncate":null,lineHeight:o}});return l.getBoundingRect()}function h9(r){if(!LD(r))return Ht(r)?r:"-";var t=(r+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function d9(r,t){return r=(r||"").toLowerCase().replace(/-(.)/g,function(e,n){return n.toUpperCase()}),t&&r&&(r=r.charAt(0).toUpperCase()+r.slice(1)),r}var sy=Pw;function CF(r,t,e){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(c){return c&&Ml(c)?c:"-"}function a(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var s=t==="time",o=r instanceof Date;if(s||o){var l=s?Mf(r):r;if(isNaN(+l)){if(o)return"-"}else return Ww(l,n,e)}if(t==="ordinal")return FS(r)?i(r):an(r)&&a(r)?r+"":"-";var u=Tf(r);return a(u)?h9(u):FS(r)?i(r):typeof r=="boolean"?r+"":"-"}var SH=["a","b","c","d","e","f","g"],RT=function(r,t){return"{"+r+(t??"")+"}"};function A9(r,t,e){xt(t)||(t=[t]);var n=t.length;if(!n)return"";for(var i=t[0].$vars||[],a=0;a<i.length;a++){var s=SH[a];r=r.replace(RT(s),RT(s,0))}for(var o=0;o<n;o++)for(var l=0;l<i.length;l++){var u=t[o][i[l]];r=r.replace(RT(SH[l],o),e?so(u):u)}return r}function O1e(r,t,e){return se(t,function(n,i){r=r.replace("{"+i+"}",n)}),r}function sre(r,t){var e=Ht(r)?{color:r,extraCssText:t}:r||{},n=e.color,i=e.type;t=e.extraCssText;var a=e.renderMode||"html";if(!n)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+so(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+so(n)+";"+(t||"")+'"></span>';var s=e.markerId||"markerX";return{renderMode:a,content:"{"+s+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function j1e(r,t,e){(r==="week"||r==="month"||r==="quarter"||r==="half-year"||r==="year")&&(r=`MM-dd
yyyy`);var n=Mf(t),i=e?"getUTC":"get",a=n[i+"FullYear"](),s=n[i+"Month"]()+1,o=n[i+"Date"](),l=n[i+"Hours"](),u=n[i+"Minutes"](),c=n[i+"Seconds"](),f=n[i+"Milliseconds"]();return r=r.replace("MM",So(s,2)).replace("M",s).replace("yyyy",a).replace("yy",So(a%100+"",2)).replace("dd",So(o,2)).replace("d",o).replace("hh",So(l,2)).replace("h",l).replace("mm",So(u,2)).replace("m",u).replace("ss",So(c,2)).replace("s",c).replace("SSS",So(f,3)),r}function U1e(r){return r&&r.charAt(0).toUpperCase()+r.substr(1)}function Cg(r,t){return t=t||"transparent",Ht(r)?r:or(r)&&r.colorStops&&(r.colorStops[0]||{}).color||t}function ZS(r,t){if(t==="_blank"||t==="blank"){var e=window.open();e.opener=null,e.location.href=r}else window.open(r,t)}var j3={},OT={},oy=function(){function r(){this._normalMasterList=[],this._nonSeriesBoxMasterList=[]}return r.prototype.create=function(t,e){this._nonSeriesBoxMasterList=n(j3),this._normalMasterList=n(OT);function n(i,a){var s=[];return se(i,function(o,l){var u=o.create(t,e);s=s.concat(u||[])}),s}},r.prototype.update=function(t,e){se(this._normalMasterList,function(n){n.update&&n.update(t,e)})},r.prototype.getCoordinateSystems=function(){return this._normalMasterList.concat(this._nonSeriesBoxMasterList)},r.register=function(t,e){if(t==="matrix"||t==="calendar"){j3[t]=e;return}OT[t]=e},r.get=function(t){return OT[t]||j3[t]},r}();function H1e(r){return!!j3[r]}var BF={coord:1,coord2:2};function Q1e(r){ore.set(r.fullType,{getCoord2:void 0}).getCoord2=r.getCoord2}var ore=Xt();function z1e(r){var t=r.getShallow("coord",!0),e=BF.coord;if(t==null){var n=ore.get(r.type);n&&n.getCoord2&&(e=BF.coord2,t=n.getCoord2(r))}return{coord:t,from:e}}var sf={none:0,dataCoordSys:1,boxCoordSys:2};function lre(r,t){var e=r.getShallow("coordinateSystem"),n=r.getShallow("coordinateSystemUsage",!0),i=sf.none;if(e){var a=r.mainType==="series";n==null&&(n=a?"data":"box"),n==="data"?(i=sf.dataCoordSys,a||(i=sf.none)):n==="box"&&(i=sf.boxCoordSys,!a&&!H1e(e)&&(i=sf.none))}return{coordSysType:e,kind:i}}function $w(r){var t=r.targetModel,e=r.coordSysType,n=r.coordSysProvider,i=r.isDefaultDataCoordSys;r.allowNotFound;var a=lre(t),s=a.kind,o=a.coordSysType;if(i&&s!==sf.dataCoordSys&&(s=sf.dataCoordSys,o=e),s===sf.none||o!==e)return!1;var l=n(e,t);return l?(s===sf.dataCoordSys?t.coordinateSystem=l:t.boxCoordinateSystem=l,!0):!1}var ure=function(r,t){var e=t.getReferringComponents(r,Ni).models[0];return e&&e.coordinateSystem},U3=se,cre=["left","right","top","bottom","width","height"],Mp=[["width","left","right"],["height","top","bottom"]];function p9(r,t,e,n,i){var a=0,s=0;n==null&&(n=1/0),i==null&&(i=1/0);var o=0;t.eachChild(function(l,u){var c=l.getBoundingRect(),f=t.childAt(u+1),h=f&&f.getBoundingRect(),d,A;if(r==="horizontal"){var p=c.width+(h?-h.x+c.x:0);d=a+p,d>n||l.newline?(a=0,d=p,s+=o+e,o=c.height):o=Math.max(o,c.height)}else{var g=c.height+(h?-h.y+c.y:0);A=s+g,A>i||l.newline?(a+=o+e,s=0,A=g,o=c.width):o=Math.max(o,c.width)}l.newline||(l.x=a,l.y=s,l.markRedraw(),r==="horizontal"?a=d+e:s=A+e)})}var ig=p9;Nr(p9,"vertical");Nr(p9,"horizontal");function fre(r,t){return{left:r.getShallow("left",t),top:r.getShallow("top",t),right:r.getShallow("right",t),bottom:r.getShallow("bottom",t),width:r.getShallow("width",t),height:r.getShallow("height",t)}}function V1e(r,t){var e=La(r,t,{enableLayoutOnlyByCenter:!0}),n=r.getBoxLayoutParams(),i,a;if(e.type===qx.point)a=e.refPoint,i=li(n,{width:t.getWidth(),height:t.getHeight()});else{var s=r.get("center"),o=xt(s)?s:[s,s];i=li(n,e.refContainer),a=e.boxCoordFrom===BF.coord2?e.refPoint:[Ut(o[0],i.width)+i.x,Ut(o[1],i.height)+i.y]}return{viewRect:i,center:a}}function hre(r,t){var e=V1e(r,t),n=e.viewRect,i=e.center,a=r.get("radius");xt(a)||(a=[0,a]);var s=Ut(n.width,t.getWidth()),o=Ut(n.height,t.getHeight()),l=Math.min(s,o),u=Ut(a[0],l/2),c=Ut(a[1],l/2);return{cx:i[0],cy:i[1],r0:u,r:c,viewRect:n}}function li(r,t,e){e=sy(e||0);var n=t.width,i=t.height,a=Ut(r.left,n),s=Ut(r.top,i),o=Ut(r.right,n),l=Ut(r.bottom,i),u=Ut(r.width,n),c=Ut(r.height,i),f=e[2]+e[0],h=e[1]+e[3],d=r.aspect;switch(isNaN(u)&&(u=n-o-h-a),isNaN(c)&&(c=i-l-f-s),d!=null&&(isNaN(u)&&isNaN(c)&&(d>n/i?u=n*.8:c=i*.8),isNaN(u)&&(u=d*c),isNaN(c)&&(c=u/d)),isNaN(a)&&(a=n-o-u-h),isNaN(s)&&(s=i-l-c-f),r.left||r.right){case"center":a=n/2-u/2-e[3];break;case"right":a=n-u-h;break}switch(r.top||r.bottom){case"middle":case"center":s=i/2-c/2-e[0];break;case"bottom":s=i-c-f;break}a=a||0,s=s||0,isNaN(u)&&(u=n-h-a-(o||0)),isNaN(c)&&(c=i-f-s-(l||0));var A=new fr((t.x||0)+a+e[3],(t.y||0)+s+e[0],u,c);return A.margin=e,A}function dre(r,t,e){var n=r.getShallow("preserveAspect",!0);if(!n)return t;var i=t.width/t.height;if(Math.abs(Math.atan(e)-Math.atan(i))<1e-9)return t;var a=r.getShallow("preserveAspectAlign",!0),s=r.getShallow("preserveAspectVerticalAlign",!0),o={width:t.width,height:t.height},l=n==="cover";return i>e&&!l||i<e&&l?(o.width=t.height*e,a==="left"?o.left=0:a==="right"?o.right=0:o.left="center"):(o.height=t.width/e,s==="top"?o.top=0:s==="bottom"?o.bottom=0:o.top="middle"),li(o,t)}var qx={rect:1,point:2};function La(r,t,e){var n,i,a,s=r.boxCoordinateSystem,o;if(s){var l=z1e(r),u=l.coord,c=l.from;if(s.dataToLayout){a=qx.rect,o=c;var f=s.dataToLayout(u);n=f.contentRect||f.rect}else e&&e.enableLayoutOnlyByCenter&&s.dataToPoint&&(a=qx.point,o=c,i=s.dataToPoint(u))}return a==null&&(a=qx.rect),a===qx.rect&&(n||(n={x:0,y:0,width:t.getWidth(),height:t.getHeight()}),i=[n.x+n.width/2,n.y+n.height/2]),{type:a,refContainer:n,refPoint:i,boxCoordFrom:o}}function l8(r,t,e,n,i,a){var s=!i||!i.hv||i.hv[0],o=!i||!i.hv||i.hv[1],l=i&&i.boundingMode||"all";if(a=a||r,a.x=r.x,a.y=r.y,!s&&!o)return!1;var u;if(l==="raw")u=r.type==="group"?new fr(0,0,+t.width||0,+t.height||0):r.getBoundingRect();else if(u=r.getBoundingRect(),r.needLocalTransform()){var c=r.getLocalTransform();u=u.clone(),u.applyTransform(c)}var f=li(sr({width:u.width,height:u.height},t),e,n),h=s?f.x-u.x:0,d=o?f.y-u.y:0;return l==="raw"?(a.x=h,a.y=d):(a.x+=h,a.y+=d),a===r&&r.markRedraw(),!0}function G1e(r,t){return r[Mp[t][0]]!=null||r[Mp[t][1]]!=null&&r[Mp[t][2]]!=null}function Db(r){var t=r.layoutMode||r.constructor.layoutMode;return or(t)?t:t?{type:t}:null}function kf(r,t,e){var n=e&&e.ignoreSize;!xt(n)&&(n=[n,n]);var i=s(Mp[0],0),a=s(Mp[1],1);l(Mp[0],r,i),l(Mp[1],r,a);function s(u,c){var f={},h=0,d={},A=0,p=2;if(U3(u,function(v){d[v]=r[v]}),U3(u,function(v){Kt(t,v)&&(f[v]=d[v]=t[v]),o(f,v)&&h++,o(d,v)&&A++}),n[c])return o(t,u[1])?d[u[2]]=null:o(t,u[2])&&(d[u[1]]=null),d;if(A===p||!h)return d;if(h>=p)return f;for(var g=0;g<u.length;g++){var m=u[g];if(!Kt(f,m)&&Kt(r,m)){f[m]=r[m];break}}return f}function o(u,c){return u[c]!=null&&u[c]!=="auto"}function l(u,c,f){U3(u,function(h){c[h]=f[h]})}}function Hg(r){return Are({},r)}function Are(r,t){return t&&r&&U3(cre,function(e){Kt(t,e)&&(r[e]=t[e])}),r}var W1e=Kr(),$r=function(r){Ge(t,r);function t(e,n,i){var a=r.call(this,e,n,i)||this;return a.uid=ay("ec_cpt_model"),a}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i)},t.prototype.mergeDefaultAndTheme=function(e,n){var i=Db(this),a=i?Hg(e):{},s=n.getTheme();Dr(e,s.get(this.mainType)),Dr(e,this.getDefaultOption()),i&&kf(e,a,i)},t.prototype.mergeOption=function(e,n){Dr(this.option,e,!0);var i=Db(this);i&&kf(this.option,e,i)},t.prototype.optionUpdated=function(e,n){},t.prototype.getDefaultOption=function(){var e=this.constructor;if(!Tme(e))return e.defaultOption;var n=W1e(this);if(!n.defaultOption){for(var i=[],a=e;a;){var s=a.prototype.defaultOption;s&&i.push(s),a=a.superClass}for(var o={},l=i.length-1;l>=0;l--)o=Dr(o,i[l],!0);n.defaultOption=o}return n.defaultOption},t.prototype.getReferringComponents=function(e,n){var i=e+"Index",a=e+"Id";return Z1(this.ecModel,e,{index:this.get(i,!0),id:this.get(a,!0)},n)},t.prototype.getBoxLayoutParams=function(){return fre(this,!1)},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=function(){var e=t.prototype;e.type="component",e.id="",e.name="",e.mainType="",e.subType="",e.componentIndex=0}(),t}(qr);ute($r,qr);YC($r);b1e($r);w1e($r,$1e);function $1e(r){var t=[];return se($r.getClassesByMainType(r),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=wt(t,function(e){return cf(e).main}),r!=="dataset"&&Lr(t,"dataset")<=0&&t.unshift("dataset"),t}var Je={color:{},darkColor:{},size:{}},$i=Je.color={theme:["#5070dd","#b6d634","#505372","#ff994d","#0ca8df","#ffd10a","#fb628b","#785db0","#3fbe95"],neutral00:"#fff",neutral05:"#f4f7fd",neutral10:"#e8ebf0",neutral15:"#dbdee4",neutral20:"#cfd2d7",neutral25:"#c3c5cb",neutral30:"#b7b9be",neutral35:"#aaacb2",neutral40:"#9ea0a5",neutral45:"#929399",neutral50:"#86878c",neutral55:"#797b7f",neutral60:"#6d6e73",neutral65:"#616266",neutral70:"#54555a",neutral75:"#48494d",neutral80:"#3c3c41",neutral85:"#303034",neutral90:"#232328",neutral95:"#17171b",neutral99:"#000",accent05:"#eff1f9",accent10:"#e0e4f2",accent15:"#d0d6ec",accent20:"#c0c9e6",accent25:"#b1bbdf",accent30:"#a1aed9",accent35:"#91a0d3",accent40:"#8292cc",accent45:"#7285c6",accent50:"#6578ba",accent55:"#5c6da9",accent60:"#536298",accent65:"#4a5787",accent70:"#404c76",accent75:"#374165",accent80:"#2e3654",accent85:"#252b43",accent90:"#1b2032",accent95:"#121521",transparent:"rgba(0,0,0,0)",highlight:"rgba(255,231,130,0.8)"};pt($i,{primary:$i.neutral80,secondary:$i.neutral70,tertiary:$i.neutral60,quaternary:$i.neutral50,disabled:$i.neutral20,border:$i.neutral30,borderTint:$i.neutral20,borderShade:$i.neutral40,background:$i.neutral05,backgroundTint:"rgba(234,237,245,0.5)",backgroundTransparent:"rgba(255,255,255,0)",backgroundShade:$i.neutral10,shadow:"rgba(0,0,0,0.2)",shadowTint:"rgba(129,130,136,0.2)",axisLine:$i.neutral70,axisLineTint:$i.neutral40,axisTick:$i.neutral70,axisTickMinor:$i.neutral60,axisLabel:$i.neutral70,axisSplitLine:$i.neutral15,axisMinorSplitLine:$i.neutral05});for(var q0 in $i)if($i.hasOwnProperty(q0)){var CH=$i[q0];q0==="theme"?Je.darkColor.theme=$i.theme.slice():q0==="highlight"?Je.darkColor.highlight="rgba(255,231,130,0.4)":q0.indexOf("accent")===0?Je.darkColor[q0]=Eh(CH,null,function(r){return r*.5},function(r){return Math.min(1,1.3-r)}):Je.darkColor[q0]=Eh(CH,null,function(r){return r*.9},function(r){return 1-Math.pow(r,1.5)})}Je.size={xxs:2,xs:5,s:10,m:15,l:20,xl:30,xxl:40,xxxl:50};var pre="";typeof navigator<"u"&&(pre=navigator.platform||"");var Am="rgba(0, 0, 0, 0.2)",gre=Je.color.theme[0],K1e=Eh(gre,null,null,.9);const q1e={darkMode:"auto",colorBy:"series",color:Je.color.theme,gradientColor:[K1e,gre],aria:{decal:{decals:[{color:Am,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Am,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Am,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Am,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Am,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Am,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:pre.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var mre=Xt(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Wl="original",ms="arrayRows",$l="objectRows",Cc="keyedColumns",PA="typedArray",vre="unknown",gc="column",Qg="row",Cs={Must:1,Might:2,Not:3},yre=Kr();function X1e(r){yre(r).datasetMap=Xt()}function xre(r,t,e){var n={},i=m9(t);if(!i||!r)return n;var a=[],s=[],o=t.ecModel,l=yre(o).datasetMap,u=i.uid+"_"+e.seriesLayoutBy,c,f;r=r.slice(),se(r,function(p,g){var m=or(p)?p:r[g]={name:p};m.type==="ordinal"&&c==null&&(c=g,f=A(m)),n[m.name]=[]});var h=l.get(u)||l.set(u,{categoryWayDim:f,valueWayDim:0});se(r,function(p,g){var m=p.name,v=A(p);if(c==null){var y=h.valueWayDim;d(n[m],y,v),d(s,y,v),h.valueWayDim+=v}else if(c===g)d(n[m],0,v),d(a,0,v);else{var y=h.categoryWayDim;d(n[m],y,v),d(s,y,v),h.categoryWayDim+=v}});function d(p,g,m){for(var v=0;v<m;v++)p.push(g+v)}function A(p){var g=p.dimsDef;return g?g.length:1}return a.length&&(n.itemName=a),s.length&&(n.seriesName=s),n}function g9(r,t,e){var n={},i=m9(r);if(!i)return n;var a=t.sourceFormat,s=t.dimensionsDefine,o;(a===$l||a===Cc)&&se(s,function(c,f){(or(c)?c.name:c)==="name"&&(o=f)});var l=function(){for(var c={},f={},h=[],d=0,A=Math.min(5,e);d<A;d++){var p=wre(t.data,a,t.seriesLayoutBy,s,t.startIndex,d);h.push(p);var g=p===Cs.Not;if(g&&c.v==null&&d!==o&&(c.v=d),(c.n==null||c.n===c.v||!g&&h[c.n]===Cs.Not)&&(c.n=d),m(c)&&h[c.n]!==Cs.Not)return c;g||(p===Cs.Might&&f.v==null&&d!==o&&(f.v=d),(f.n==null||f.n===f.v)&&(f.n=d))}function m(v){return v.v!=null&&v.n!=null}return m(c)?c:m(f)?f:null}();if(l){n.value=[l.v];var u=o??l.n;n.itemName=[u],n.seriesName=[u]}return n}function m9(r){var t=r.get("data",!0);if(!t)return Z1(r.ecModel,"dataset",{index:r.get("datasetIndex",!0),id:r.get("datasetId",!0)},Ni).models[0]}function Y1e(r){return!r.get("transform",!0)&&!r.get("fromTransformResult",!0)?[]:Z1(r.ecModel,"dataset",{index:r.get("fromDatasetIndex",!0),id:r.get("fromDatasetId",!0)},Ni).models}function bre(r,t){return wre(r.data,r.sourceFormat,r.seriesLayoutBy,r.dimensionsDefine,r.startIndex,t)}function wre(r,t,e,n,i,a){var s,o=5;if(Mo(r))return Cs.Not;var l,u;if(n){var c=n[a];or(c)?(l=c.name,u=c.type):Ht(c)&&(l=c)}if(u!=null)return u==="ordinal"?Cs.Must:Cs.Not;if(t===ms){var f=r;if(e===Qg){for(var h=f[a],d=0;d<(h||[]).length&&d<o;d++)if((s=b(h[i+d]))!=null)return s}else for(var d=0;d<f.length&&d<o;d++){var A=f[i+d];if(A&&(s=b(A[a]))!=null)return s}}else if(t===$l){var p=r;if(!l)return Cs.Not;for(var d=0;d<p.length&&d<o;d++){var g=p[d];if(g&&(s=b(g[l]))!=null)return s}}else if(t===Cc){var m=r;if(!l)return Cs.Not;var h=m[l];if(!h||Mo(h))return Cs.Not;for(var d=0;d<h.length&&d<o;d++)if((s=b(h[d]))!=null)return s}else if(t===Wl)for(var v=r,d=0;d<v.length&&d<o;d++){var g=v[d],y=Y1(g);if(!xt(y))return Cs.Not;if((s=b(y[a]))!=null)return s}function b(_){var T=Ht(_);if(_!=null&&Number.isFinite(Number(_))&&_!=="")return T?Cs.Might:Cs.Not;if(T&&_!=="-")return Cs.Must}return Cs.Not}var TF=Xt();function Z1e(r,t){js(TF.get(r)==null&&t),TF.set(r,t)}function J1e(r,t,e){var n=TF.get(t);if(!n)return e;var i=n(r);return i?e.concat(i):e}var BH=Kr(),eye=Kr(),v9=function(){function r(){}return r.prototype.getColorFromPalette=function(t,e,n){var i=Un(this.get("color",!0)),a=this.get("colorLayer",!0);return _re(this,BH,i,a,t,e,n)},r.prototype.clearColorPalette=function(){rye(this,BH)},r}();function EF(r,t,e,n){var i=Un(r.get(["aria","decal","decals"]));return _re(r,eye,i,null,t,e,n)}function tye(r,t){for(var e=r.length,n=0;n<e;n++)if(r[n].length>t)return r[n];return r[e-1]}function _re(r,t,e,n,i,a,s){a=a||r;var o=t(a),l=o.paletteIdx||0,u=o.paletteNameMap=o.paletteNameMap||{};if(u.hasOwnProperty(i))return u[i];var c=s==null||!n?e:tye(n,s);if(c=c||e,!(!c||!c.length)){var f=c[l];return i&&(u[i]=f),o.paletteIdx=(l+1)%c.length,f}}function rye(r,t){t(r).paletteIdx=0,t(r).paletteNameMap={}}var k5,ix,TH,EH="\0_ec_inner",nye=1,y9=function(r){Ge(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(e,n,i,a,s,o){a=a||{},this.option=null,this._theme=new qr(a),this._locale=new qr(s),this._optionManager=o},t.prototype.setOption=function(e,n,i){var a=FH(n);this._optionManager.setOption(e,i,a),this._resetOption(null,a)},t.prototype.resetOption=function(e,n){return this._resetOption(e,FH(n))},t.prototype._resetOption=function(e,n){var i=!1,a=this._optionManager;if(!e||e==="recreate"){var s=a.mountOption(e==="recreate");!this.option||e==="recreate"?TH(this,s):(this.restoreData(),this._mergeOption(s,n)),i=!0}if((e==="timeline"||e==="media")&&this.restoreData(),!e||e==="recreate"||e==="timeline"){var o=a.getTimelineOption(this);o&&(i=!0,this._mergeOption(o,n))}if(!e||e==="recreate"||e==="media"){var l=a.getMediaOption(this);l.length&&se(l,function(u){i=!0,this._mergeOption(u,n)},this)}return i},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,n){var i=this.option,a=this._componentsMap,s=this._componentsCount,o=[],l=Xt(),u=n&&n.replaceMergeMainTypeMap;X1e(this),se(e,function(f,h){f!=null&&($r.hasClass(h)?h&&(o.push(h),l.set(h,!0)):i[h]=i[h]==null?nr(f):Dr(i[h],f,!0))}),u&&u.each(function(f,h){$r.hasClass(h)&&!l.get(h)&&(o.push(h),l.set(h,!0))}),$r.topologicalTravel(o,$r.getAllClassMainTypes(),c,this);function c(f){var h=J1e(this,f,Un(e[f])),d=a.get(f),A=d?u&&u.get(f)?"replaceMerge":"normalMerge":"replaceAll",p=ite(d,h,A);vme(p,f,$r),i[f]=null,a.set(f,null),s.set(f,0);var g=[],m=[],v=0,y;se(p,function(b,_){var T=b.existing,I=b.newOption;if(!I)T&&(T.mergeOption({},this),T.optionUpdated({},!1));else{var N=f==="series",F=$r.getClass(f,b.keyInfo.subType,!N);if(!F)return;if(f==="tooltip"){if(y)return;y=!0}if(T&&T.constructor===F)T.name=b.keyInfo.name,T.mergeOption(I,this),T.optionUpdated(I,!1);else{var P=pt({componentIndex:_},b.keyInfo);T=new F(I,this,this,P),pt(T,P),b.brandNew&&(T.__requireNewView=!0),T.init(I,this,this),T.optionUpdated(null,!0)}}T?(g.push(T.option),m.push(T),v++):(g.push(void 0),m.push(void 0))},this),i[f]=g,a.set(f,m),s.set(f,v),f==="series"&&k5(this)}this._seriesIndices||k5(this)},t.prototype.getOption=function(){var e=nr(this.option);return se(e,function(n,i){if($r.hasClass(i)){for(var a=Un(n),s=a.length,o=!1,l=s-1;l>=0;l--)a[l]&&!Nb(a[l])?o=!0:(a[l]=null,!o&&s--);a.length=s,e[i]=a}}),delete e[EH],e},t.prototype.setTheme=function(e){this._theme=new qr(e),this._resetOption("recreate",null)},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,n){var i=this._componentsMap.get(e);if(i){var a=i[n||0];if(a)return a;if(n==null){for(var s=0;s<i.length;s++)if(i[s])return i[s]}}},t.prototype.queryComponents=function(e){var n=e.mainType;if(!n)return[];var i=e.index,a=e.id,s=e.name,o=this._componentsMap.get(n);if(!o||!o.length)return[];var l;return i!=null?(l=[],se(Un(i),function(u){o[u]&&l.push(o[u])})):a!=null?l=kH("id",a,o):s!=null?l=kH("name",s,o):l=dn(o,function(u){return!!u}),NH(l,e)},t.prototype.findComponents=function(e){var n=e.query,i=e.mainType,a=o(n),s=a?this.queryComponents(a):dn(this._componentsMap.get(i),function(u){return!!u});return l(NH(s,e));function o(u){var c=i+"Index",f=i+"Id",h=i+"Name";return u&&(u[c]!=null||u[f]!=null||u[h]!=null)?{mainType:i,index:u[c],id:u[f],name:u[h]}:null}function l(u){return e.filter?dn(u,e.filter):u}},t.prototype.eachComponent=function(e,n,i){var a=this._componentsMap;if(rr(e)){var s=n,o=e;a.each(function(f,h){for(var d=0;f&&d<f.length;d++){var A=f[d];A&&o.call(s,h,A,A.componentIndex)}})}else for(var l=Ht(e)?a.get(e):or(e)?this.findComponents(e):null,u=0;l&&u<l.length;u++){var c=l[u];c&&n.call(i,c,c.componentIndex)}},t.prototype.getSeriesByName=function(e){var n=Na(e,null);return dn(this._componentsMap.get("series"),function(i){return!!i&&n!=null&&i.name===n})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return dn(this._componentsMap.get("series"),function(n){return!!n&&n.subType===e})},t.prototype.getSeries=function(){return dn(this._componentsMap.get("series"),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,n){ix(this),se(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];e.call(n,a,i)},this)},t.prototype.eachRawSeries=function(e,n){se(this._componentsMap.get("series"),function(i){i&&e.call(n,i,i.componentIndex)})},t.prototype.eachSeriesByType=function(e,n,i){ix(this),se(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];s.subType===e&&n.call(i,s,a)},this)},t.prototype.eachRawSeriesByType=function(e,n,i){return se(this.getSeriesByType(e),n,i)},t.prototype.isSeriesFiltered=function(e){return ix(this),this._seriesIndicesMap.get(e.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,n){ix(this);var i=[];se(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];e.call(n,s,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=Xt(i)},t.prototype.restoreData=function(e){k5(this);var n=this._componentsMap,i=[];n.each(function(a,s){$r.hasClass(s)&&i.push(s)}),$r.topologicalTravel(i,$r.getAllClassMainTypes(),function(a){se(n.get(a),function(s){s&&(a!=="series"||!iye(s,e))&&s.restoreData()})})},t.internalField=function(){k5=function(e){var n=e._seriesIndices=[];se(e._componentsMap.get("series"),function(i){i&&n.push(i.componentIndex)}),e._seriesIndicesMap=Xt(n)},ix=function(e){},TH=function(e,n){e.option={},e.option[EH]=nye,e._componentsMap=Xt({series:[]}),e._componentsCount=Xt();var i=n.aria;or(i)&&i.enabled==null&&(i.enabled=!0),aye(n,e._theme.option),Dr(n,q1e,!1),e._mergeOption(n,null)}}(),t}(qr);function iye(r,t){if(t){var e=t.seriesIndex,n=t.seriesId,i=t.seriesName;return e!=null&&r.componentIndex!==e||n!=null&&r.id!==n||i!=null&&r.name!==i}}function aye(r,t){var e=r.color&&!r.colorLayer;se(t,function(n,i){i==="colorLayer"&&e||i==="color"&&r.color||$r.hasClass(i)||(typeof n=="object"?r[i]=r[i]?Dr(r[i],n,!1):nr(n):r[i]==null&&(r[i]=n))})}function kH(r,t,e){if(xt(t)){var n=Xt();return se(t,function(a){if(a!=null){var s=Na(a,null);s!=null&&n.set(a,!0)}}),dn(e,function(a){return a&&n.get(a[r])})}else{var i=Na(t,null);return dn(e,function(a){return a&&i!=null&&a[r]===i})}}function NH(r,t){return t.hasOwnProperty("subType")?dn(r,function(e){return e&&e.subType===t.subType}):r}function FH(r){var t=Xt();return r&&se(Un(r.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}Ui(y9,v9);var sye=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],Sre=function(){function r(t){se(sye,function(e){this[e]=Qt(t[e],t)},this)}return r}(),oye=/^(min|max)?(.+)$/,lye=function(){function r(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return r.prototype.setOption=function(t,e,n){t&&(se(Un(t.series),function(s){s&&s.data&&Mo(s.data)&&_b(s.data)}),se(Un(t.dataset),function(s){s&&s.source&&Mo(s.source)&&_b(s.source)})),t=nr(t);var i=this._optionBackup,a=uye(t,e,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},r.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],nr(t?e.baseOption:this._newBaseOption)},r.prototype.getTimelineOption=function(t){var e,n=this._timelineOptions;if(n.length){var i=t.getComponent("timeline");i&&(e=nr(n[i.getCurrentIndex()]))}return e},r.prototype.getMediaOption=function(t){var e=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,s=[],o=[];if(!i.length&&!a)return o;for(var l=0,u=i.length;l<u;l++)cye(i[l].query,e,n)&&s.push(l);return!s.length&&a&&(s=[-1]),s.length&&!hye(s,this._currentMediaIndices)&&(o=wt(s,function(c){return nr(c===-1?a.option:i[c].option)})),this._currentMediaIndices=s,o},r}();function uye(r,t,e){var n=[],i,a,s=r.baseOption,o=r.timeline,l=r.options,u=r.media,c=!!r.media,f=!!(l||o||s&&s.timeline);s?(a=s,a.timeline||(a.timeline=o)):((f||c)&&(r.options=r.media=null),a=r),c&&xt(u)&&se(u,function(d){d&&d.option&&(d.query?n.push(d):i||(i=d))}),h(a),se(l,function(d){return h(d)}),se(n,function(d){return h(d.option)});function h(d){se(t,function(A){A(d,e)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:i,mediaList:n}}function cye(r,t,e){var n={width:t,height:e,aspectratio:t/e},i=!0;return se(r,function(a,s){var o=s.match(oye);if(!(!o||!o[1]||!o[2])){var l=o[1],u=o[2].toLowerCase();fye(n[u],a,l)||(i=!1)}}),i}function fye(r,t,e){return e==="min"?r>=t:e==="max"?r<=t:r===t}function hye(r,t){return r.join(",")===t.join(",")}var zu=se,Pb=or,IH=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function jT(r){var t=r&&r.itemStyle;if(t)for(var e=0,n=IH.length;e<n;e++){var i=IH[e],a=t.normal,s=t.emphasis;a&&a[i]&&(r[i]=r[i]||{},r[i].normal?Dr(r[i].normal,a[i]):r[i].normal=a[i],a[i]=null),s&&s[i]&&(r[i]=r[i]||{},r[i].emphasis?Dr(r[i].emphasis,s[i]):r[i].emphasis=s[i],s[i]=null)}}function ro(r,t,e){if(r&&r[t]&&(r[t].normal||r[t].emphasis)){var n=r[t].normal,i=r[t].emphasis;n&&(e?(r[t].normal=r[t].emphasis=null,sr(r[t],n)):r[t]=n),i&&(r.emphasis=r.emphasis||{},r.emphasis[t]=i,i.focus&&(r.emphasis.focus=i.focus),i.blurScope&&(r.emphasis.blurScope=i.blurScope))}}function Xx(r){ro(r,"itemStyle"),ro(r,"lineStyle"),ro(r,"areaStyle"),ro(r,"label"),ro(r,"labelLine"),ro(r,"upperLabel"),ro(r,"edgeLabel")}function ha(r,t){var e=Pb(r)&&r[t],n=Pb(e)&&e.textStyle;if(n)for(var i=0,a=DU.length;i<a;i++){var s=DU[i];n.hasOwnProperty(s)&&(e[s]=n[s])}}function su(r){r&&(Xx(r),ha(r,"label"),r.emphasis&&ha(r.emphasis,"label"))}function dye(r){if(Pb(r)){jT(r),Xx(r),ha(r,"label"),ha(r,"upperLabel"),ha(r,"edgeLabel"),r.emphasis&&(ha(r.emphasis,"label"),ha(r.emphasis,"upperLabel"),ha(r.emphasis,"edgeLabel"));var t=r.markPoint;t&&(jT(t),su(t));var e=r.markLine;e&&(jT(e),su(e));var n=r.markArea;n&&su(n);var i=r.data;if(r.type==="graph"){i=i||r.nodes;var a=r.links||r.edges;if(a&&!Mo(a))for(var s=0;s<a.length;s++)su(a[s]);se(r.categories,function(u){Xx(u)})}if(i&&!Mo(i))for(var s=0;s<i.length;s++)su(i[s]);if(t=r.markPoint,t&&t.data)for(var o=t.data,s=0;s<o.length;s++)su(o[s]);if(e=r.markLine,e&&e.data)for(var l=e.data,s=0;s<l.length;s++)xt(l[s])?(su(l[s][0]),su(l[s][1])):su(l[s]);r.type==="gauge"?(ha(r,"axisLabel"),ha(r,"title"),ha(r,"detail")):r.type==="treemap"?(ro(r.breadcrumb,"itemStyle"),se(r.levels,function(u){Xx(u)})):r.type==="tree"&&Xx(r.leaves)}}function Xf(r){return xt(r)?r:r?[r]:[]}function MH(r){return(xt(r)?r[0]:r)||{}}function Aye(r,t){zu(Xf(r.series),function(n){Pb(n)&&dye(n)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),zu(e,function(n){zu(Xf(r[n]),function(i){i&&(ha(i,"axisLabel"),ha(i.axisPointer,"label"))})}),zu(Xf(r.parallel),function(n){var i=n&&n.parallelAxisDefault;ha(i,"axisLabel"),ha(i&&i.axisPointer,"label")}),zu(Xf(r.calendar),function(n){ro(n,"itemStyle"),ha(n,"dayLabel"),ha(n,"monthLabel"),ha(n,"yearLabel")}),zu(Xf(r.radar),function(n){ha(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),zu(Xf(r.geo),function(n){Pb(n)&&(su(n),zu(Xf(n.regions),function(i){su(i)}))}),zu(Xf(r.timeline),function(n){su(n),ro(n,"label"),ro(n,"itemStyle"),ro(n,"controlStyle",!0);var i=n.data;xt(i)&&se(i,function(a){or(a)&&(ro(a,"label"),ro(a,"itemStyle"))})}),zu(Xf(r.toolbox),function(n){ro(n,"iconStyle"),zu(n.feature,function(i){ro(i,"iconStyle")})}),ha(MH(r.axisPointer),"label"),ha(MH(r.tooltip).axisPointer,"label")}function pye(r,t){for(var e=t.split(","),n=r,i=0;i<e.length&&(n=n&&n[e[i]],n!=null);i++);return n}function gye(r,t,e,n){for(var i=t.split(","),a=r,s,o=0;o<i.length-1;o++)s=i[o],a[s]==null&&(a[s]={}),a=a[s];a[i[o]]==null&&(a[i[o]]=e)}function LH(r){r&&se(mye,function(t){t[0]in r&&!(t[1]in r)&&(r[t[1]]=r[t[0]])})}var mye=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],vye=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],UT=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function ax(r){var t=r&&r.itemStyle;if(t)for(var e=0;e<UT.length;e++){var n=UT[e][1],i=UT[e][0];t[n]!=null&&(t[i]=t[n])}}function DH(r){r&&r.alignTo==="edge"&&r.margin!=null&&r.edgeDistance==null&&(r.edgeDistance=r.margin)}function PH(r){r&&r.downplay&&!r.blur&&(r.blur=r.downplay)}function yye(r){r&&r.focusNodeAdjacency!=null&&(r.emphasis=r.emphasis||{},r.emphasis.focus==null&&(r.emphasis.focus="adjacency"))}function Cre(r,t){if(r)for(var e=0;e<r.length;e++)t(r[e]),r[e]&&Cre(r[e].children,t)}function Bre(r,t){Aye(r,t),r.series=Un(r.series),se(r.series,function(e){if(or(e)){var n=e.type;if(n==="line")e.clipOverflow!=null&&(e.clip=e.clipOverflow);else if(n==="pie"||n==="gauge"){e.clockWise!=null&&(e.clockwise=e.clockWise),DH(e.label);var i=e.data;if(i&&!Mo(i))for(var a=0;a<i.length;a++)DH(i[a]);e.hoverOffset!=null&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if(n==="gauge"){var s=pye(e,"pointer.color");s!=null&&gye(e,"itemStyle.color",s)}else if(n==="bar"){ax(e),ax(e.backgroundStyle),ax(e.emphasis);var i=e.data;if(i&&!Mo(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(ax(i[a]),ax(i[a]&&i[a].emphasis))}else if(n==="sunburst"){var o=e.highlightPolicy;o&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=o)),PH(e),Cre(e.data,PH)}else n==="graph"||n==="sankey"?yye(e):n==="map"&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&sr(e,e.mapLocation));e.hoverAnimation!=null&&(e.emphasis=e.emphasis||{},e.emphasis&&e.emphasis.scale==null&&(e.emphasis.scale=e.hoverAnimation)),LH(e)}}),r.dataRange&&(r.visualMap=r.dataRange),se(vye,function(e){var n=r[e];n&&(xt(n)||(n=[n]),se(n,function(i){LH(i)}))})}function xye(r){var t=Xt();r.eachSeries(function(e){var n=e.get("stack");if(n){var i=t.get(n)||t.set(n,[]),a=e.getData(),s={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:e};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;i.push(s)}}),t.each(function(e){if(e.length!==0){var n=e[0].seriesModel,i=n.get("stackOrder")||"seriesAsc";i==="seriesDesc"&&e.reverse(),se(e,function(a,s){a.data.setCalculationInfo("stackedOnSeries",s>0?e[s-1].seriesModel:null)}),bye(e)}})}function bye(r){se(r,function(t,e){var n=[],i=[NaN,NaN],a=[t.stackResultDimension,t.stackedOverDimension],s=t.data,o=t.isStackedByIndex,l=t.seriesModel.get("stackStrategy")||"samesign";s.modify(a,function(u,c,f){var h=s.get(t.stackedDimension,f);if(isNaN(h))return i;var d,A;o?A=s.getRawIndex(f):d=s.get(t.stackedByDimension,f);for(var p=NaN,g=e-1;g>=0;g--){var m=r[g];if(o||(A=m.data.rawIndexOf(m.stackedByDimension,d)),A>=0){var v=m.data.getByRawIndex(m.stackResultDimension,A);if(l==="all"||l==="positive"&&v>0||l==="negative"&&v<0||l==="samesign"&&h>=0&&v>0||l==="samesign"&&h<=0&&v<0){h=ame(h,v),p=v;break}}}return n[0]=h,n[1]=p,n})})}var u8=function(){function r(t){this.data=t.data||(t.sourceFormat===Cc?{}:[]),this.sourceFormat=t.sourceFormat||vre,this.seriesLayoutBy=t.seriesLayoutBy||gc,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var n=0;n<e.length;n++){var i=e[n];i.type==null&&bre(this,n)===Cs.Must&&(i.type="ordinal")}}return r}();function x9(r){return r instanceof u8}function kF(r,t,e){e=e||Tre(r);var n=t.seriesLayoutBy,i=_ye(r,e,n,t.sourceHeader,t.dimensions),a=new u8({data:r,sourceFormat:e,seriesLayoutBy:n,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:nr(t)});return a}function b9(r){return new u8({data:r,sourceFormat:Mo(r)?PA:Wl})}function wye(r){return new u8({data:r.data,sourceFormat:r.sourceFormat,seriesLayoutBy:r.seriesLayoutBy,dimensionsDefine:nr(r.dimensionsDefine),startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount})}function Tre(r){var t=vre;if(Mo(r))t=PA;else if(xt(r)){r.length===0&&(t=ms);for(var e=0,n=r.length;e<n;e++){var i=r[e];if(i!=null){if(xt(i)||Mo(i)){t=ms;break}else if(or(i)){t=$l;break}}}}else if(or(r)){for(var a in r)if(Kt(r,a)&&Os(r[a])){t=Cc;break}}return t}function _ye(r,t,e,n,i){var a,s;if(!r)return{dimensionsDefine:RH(i),startIndex:s,dimensionsDetectedCount:a};if(t===ms){var o=r;n==="auto"||n==null?OH(function(u){u!=null&&u!=="-"&&(Ht(u)?s==null&&(s=1):s=0)},e,o,10):s=an(n)?n:n?1:0,!i&&s===1&&(i=[],OH(function(u,c){i[c]=u!=null?u+"":""},e,o,1/0)),a=i?i.length:e===Qg?o.length:o[0]?o[0].length:null}else if(t===$l)i||(i=Sye(r));else if(t===Cc)i||(i=[],se(r,function(u,c){i.push(c)}));else if(t===Wl){var l=Y1(r[0]);a=xt(l)&&l.length||1}return{startIndex:s,dimensionsDefine:RH(i),dimensionsDetectedCount:a}}function Sye(r){for(var t=0,e;t<r.length&&!(e=r[t++]););if(e)return en(e)}function RH(r){if(r){var t=Xt();return wt(r,function(e,n){e=or(e)?e:{name:e};var i={name:e.name,displayName:e.displayName,type:e.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=t.get(i.name);return a?i.name+="-"+a.count++:t.set(i.name,{count:1}),i})}}function OH(r,t,e,n){if(t===Qg)for(var i=0;i<e.length&&i<n;i++)r(e[i]?e[i][0]:null,i);else for(var a=e[0]||[],i=0;i<a.length&&i<n;i++)r(a[i],i)}function Ere(r){var t=r.sourceFormat;return t===$l||t===Cc}var X0,Y0,Z0,J0,jH,UH,kre=function(){function r(t,e){var n=x9(t)?t:b9(t);this._source=n;var i=this._data=n.data,a=n.sourceFormat;n.seriesLayoutBy,a===PA&&(this._offset=0,this._dimSize=e,this._data=i),UH(this,i,n)}return r.prototype.getSource=function(){return this._source},r.prototype.count=function(){return 0},r.prototype.getItem=function(t,e){},r.prototype.appendData=function(t){},r.prototype.clean=function(){},r.protoInitialize=function(){var t=r.prototype;t.pure=!1,t.persistent=!0}(),r.internalField=function(){var t;UH=function(s,o,l){var u=l.sourceFormat,c=l.seriesLayoutBy,f=l.startIndex,h=l.dimensionsDefine,d=jH[w9(u,c)];if(pt(s,d),u===PA)s.getItem=e,s.count=i,s.fillStorage=n;else{var A=Nre(u,c);s.getItem=Qt(A,null,o,f,h);var p=Fre(u,c);s.count=Qt(p,null,o,f,h)}};var e=function(s,o){s=s-this._offset,o=o||[];for(var l=this._data,u=this._dimSize,c=u*s,f=0;f<u;f++)o[f]=l[c+f];return o},n=function(s,o,l,u){for(var c=this._data,f=this._dimSize,h=0;h<f;h++){for(var d=u[h],A=d[0]==null?1/0:d[0],p=d[1]==null?-1/0:d[1],g=o-s,m=l[h],v=0;v<g;v++){var y=c[v*f+h];m[s+v]=y,y<A&&(A=y),y>p&&(p=y)}d[0]=A,d[1]=p}},i=function(){return this._data?this._data.length/this._dimSize:0};jH=(t={},t[ms+"_"+gc]={pure:!0,appendData:a},t[ms+"_"+Qg]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[$l]={pure:!0,appendData:a},t[Cc]={pure:!0,appendData:function(s){var o=this._data;se(s,function(l,u){for(var c=o[u]||(o[u]=[]),f=0;f<(l||[]).length;f++)c.push(l[f])})}},t[Wl]={appendData:a},t[PA]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},t);function a(s){for(var o=0;o<s.length;o++)this._data.push(s[o])}}(),r}(),N5=function(r){xt(r)||tte("series.data or dataset.source must be an array.")};X0={},X0[ms+"_"+gc]=N5,X0[ms+"_"+Qg]=N5,X0[$l]=N5,X0[Cc]=function(r,t){for(var e=0;e<t.length;e++){var n=t[e].name;n==null&&tte("dimension name must not be null/undefined.")}},X0[Wl]=N5;var HH=function(r,t,e,n){return r[n]},Cye=(Y0={},Y0[ms+"_"+gc]=function(r,t,e,n){return r[n+t]},Y0[ms+"_"+Qg]=function(r,t,e,n,i){n+=t;for(var a=i||[],s=r,o=0;o<s.length;o++){var l=s[o];a[o]=l?l[n]:null}return a},Y0[$l]=HH,Y0[Cc]=function(r,t,e,n,i){for(var a=i||[],s=0;s<e.length;s++){var o=e[s].name,l=o!=null?r[o]:null;a[s]=l?l[n]:null}return a},Y0[Wl]=HH,Y0);function Nre(r,t){var e=Cye[w9(r,t)];return e}var QH=function(r,t,e){return r.length},Bye=(Z0={},Z0[ms+"_"+gc]=function(r,t,e){return Math.max(0,r.length-t)},Z0[ms+"_"+Qg]=function(r,t,e){var n=r[0];return n?Math.max(0,n.length-t):0},Z0[$l]=QH,Z0[Cc]=function(r,t,e){var n=e[0].name,i=n!=null?r[n]:null;return i?i.length:0},Z0[Wl]=QH,Z0);function Fre(r,t){var e=Bye[w9(r,t)];return e}var HT=function(r,t,e){return r[t]},Tye=(J0={},J0[ms]=HT,J0[$l]=function(r,t,e){return r[e]},J0[Cc]=HT,J0[Wl]=function(r,t,e){var n=Y1(r);return n instanceof Array?n[t]:n},J0[PA]=HT,J0);function Ire(r){var t=Tye[r];return t}function w9(r,t){return r===ms?r+"_"+t:r}function F1(r,t,e){if(r){var n=r.getRawDataItem(t);if(n!=null){var i=r.getStore(),a=i.getSource().sourceFormat;if(e!=null){var s=r.getDimensionIndex(e),o=i.getDimensionProperty(s);return Ire(a)(n,s,o)}else{var l=n;return a===Wl&&(l=Y1(n)),l}}}}var Eye=/\{@(.+?)\}/g,c8=function(){function r(){}return r.prototype.getDataParams=function(t,e){var n=this.getData(e),i=this.getRawValue(t,e),a=n.getRawIndex(t),s=n.getName(t),o=n.getRawDataItem(t),l=n.getItemVisual(t,"style"),u=l&&l[n.getItemVisual(t,"drawType")||"fill"],c=l&&l.stroke,f=this.mainType,h=f==="series",d=n.userOutput&&n.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:s,dataIndex:a,data:o,dataType:e,value:i,color:u,borderColor:c,dimensionNames:d?d.fullDimensions:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},r.prototype.getFormattedLabel=function(t,e,n,i,a,s){e=e||"normal";var o=this.getData(n),l=this.getDataParams(t,n);if(s&&(l.value=s.interpolatedValue),i!=null&&xt(l.value)&&(l.value=l.value[i]),!a){var u=o.getItemModel(t);a=u.get(e==="normal"?["label","formatter"]:[e,"label","formatter"])}if(rr(a))return l.status=e,l.dimensionIndex=i,a(l);if(Ht(a)){var c=A9(a,l);return c.replace(Eye,function(f,h){var d=h.length,A=h;A.charAt(0)==="["&&A.charAt(d-1)==="]"&&(A=+A.slice(1,d-1));var p=F1(o,t,A);if(s&&xt(s.interpolatedValue)){var g=o.getDimensionIndex(A);g>=0&&(p=s.interpolatedValue[g])}return p!=null?p+"":""})}},r.prototype.getRawValue=function(t,e){return F1(this.getData(e),t)},r.prototype.formatTooltip=function(t,e,n){},r}();function zH(r){var t,e;return or(r)?r.type&&(e=r):t=r,{text:t,frag:e}}function P2(r){return new kye(r)}var kye=function(){function r(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return r.prototype.perform=function(t){var e=this._upstream,n=t&&t.skip;if(this._dirty&&e){var i=this.context;i.data=i.outputData=e.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!n&&(a=this._plan(this.context));var s=c(this._modBy),o=this._modDataCount||0,l=c(t&&t.modBy),u=t&&t.modDataCount||0;(s!==l||o!==u)&&(a="reset");function c(v){return!(v>=1)&&(v=1),v}var f;(this._dirty||a==="reset")&&(this._dirty=!1,f=this._doReset(n)),this._modBy=l,this._modDataCount=u;var h=t&&t.step;if(e?this._dueEnd=e._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,A=Math.min(h!=null?this._dueIndex+h:1/0,this._dueEnd);if(!n&&(f||d<A)){var p=this._progress;if(xt(p))for(var g=0;g<p.length;g++)this._doProgress(p[g],d,A,l,u);else this._doProgress(p,d,A,l,u)}this._dueIndex=A;var m=this._settedOutputEnd!=null?this._settedOutputEnd:A;this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},r.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},r.prototype._doProgress=function(t,e,n,i,a){VH.reset(e,n,i,a),this._callingProgress=t,this._callingProgress({start:e,end:n,count:n-e,next:VH.next},this.context)},r.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var e,n;!t&&this._reset&&(e=this._reset(this.context),e&&e.progress&&(n=e.forceFirstProgress,e=e.progress),xt(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},r.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},r.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},r.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},r.prototype.getUpstream=function(){return this._upstream},r.prototype.getDownstream=function(){return this._downstream},r.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},r}(),VH=function(){var r,t,e,n,i,a={reset:function(l,u,c,f){t=l,r=u,e=c,n=f,i=Math.ceil(n/e),a.next=e>1&&n>0?o:s}};return a;function s(){return t<r?t++:null}function o(){var l=t%i*e+Math.ceil(t/i),u=t>=r?null:l<n?l:t;return t++,u}}();function RA(r,t){var e=t&&t.type;return e==="ordinal"?r:(e==="time"&&!an(r)&&r!=null&&r!=="-"&&(r=+Mf(r)),r==null||r===""?NaN:Number(r))}var Nye=Xt({number:function(r){return parseFloat(r)},time:function(r){return+Mf(r)},trim:function(r){return Ht(r)?Ml(r):r}});function Mre(r){return Nye.get(r)}var Lre={lt:function(r,t){return r<t},lte:function(r,t){return r<=t},gt:function(r,t){return r>t},gte:function(r,t){return r>=t}},Fye=function(){function r(t,e){if(!an(e)){var n="";mn(n)}this._opFn=Lre[t],this._rvalFloat=Tf(e)}return r.prototype.evaluate=function(t){return an(t)?this._opFn(t,this._rvalFloat):this._opFn(Tf(t),this._rvalFloat)},r}(),Dre=function(){function r(t,e){var n=t==="desc";this._resultLT=n?1:-1,e==null&&(e=n?"min":"max"),this._incomparable=e==="min"?-1/0:1/0}return r.prototype.evaluate=function(t,e){var n=an(t)?t:Tf(t),i=an(e)?e:Tf(e),a=isNaN(n),s=isNaN(i);if(a&&(n=this._incomparable),s&&(i=this._incomparable),a&&s){var o=Ht(t),l=Ht(e);o&&(n=l?t:0),l&&(i=o?e:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},r}(),Iye=function(){function r(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=Tf(e)}return r.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var n=typeof t;n!==this._rvalTypeof&&(n==="number"||this._rvalTypeof==="number")&&(e=Tf(t)===this._rvalFloat)}return this._isEQ?e:!e},r}();function Mye(r,t){return r==="eq"||r==="ne"?new Iye(r==="eq",t):Kt(Lre,r)?new Fye(r,t):null}var Lye=function(){function r(){}return r.prototype.getRawData=function(){throw new Error("not supported")},r.prototype.getRawDataItem=function(t){throw new Error("not supported")},r.prototype.cloneRawData=function(){},r.prototype.getDimensionInfo=function(t){},r.prototype.cloneAllDimensionInfo=function(){},r.prototype.count=function(){},r.prototype.retrieveValue=function(t,e){},r.prototype.retrieveValueFromItem=function(t,e){},r.prototype.convertValue=function(t,e){return RA(t,e)},r}();function Dye(r,t){var e=new Lye,n=r.data,i=e.sourceFormat=r.sourceFormat,a=r.startIndex,s="";r.seriesLayoutBy!==gc&&mn(s);var o=[],l={},u=r.dimensionsDefine;if(u)se(u,function(p,g){var m=p.name,v={index:g,name:m,displayName:p.displayName};if(o.push(v),m!=null){var y="";Kt(l,m)&&mn(y),l[m]=v}});else for(var c=0;c<r.dimensionsDetectedCount;c++)o.push({index:c});var f=Nre(i,gc);t.__isBuiltIn&&(e.getRawDataItem=function(p){return f(n,a,o,p)},e.getRawData=Qt(Pye,null,r)),e.cloneRawData=Qt(Rye,null,r);var h=Fre(i,gc);e.count=Qt(h,null,n,a,o);var d=Ire(i);e.retrieveValue=function(p,g){var m=f(n,a,o,p);return A(m,g)};var A=e.retrieveValueFromItem=function(p,g){if(p!=null){var m=o[g];if(m)return d(p,g,m.name)}};return e.getDimensionInfo=Qt(Oye,null,o,l),e.cloneAllDimensionInfo=Qt(jye,null,o),e}function Pye(r){var t=r.sourceFormat;if(!_9(t)){var e="";mn(e)}return r.data}function Rye(r){var t=r.sourceFormat,e=r.data;if(!_9(t)){var n="";mn(n)}if(t===ms){for(var i=[],a=0,s=e.length;a<s;a++)i.push(e[a].slice());return i}else if(t===$l){for(var i=[],a=0,s=e.length;a<s;a++)i.push(pt({},e[a]));return i}}function Oye(r,t,e){if(e!=null){if(an(e)||!isNaN(e)&&!Kt(t,e))return r[e];if(Kt(t,e))return t[e]}}function jye(r){return nr(r)}var Pre=Xt();function Uye(r){r=nr(r);var t=r.type,e="";t||mn(e);var n=t.split(":");n.length!==2&&mn(e);var i=!1;n[0]==="echarts"&&(t=n[1],i=!0),r.__isBuiltIn=i,Pre.set(t,r)}function Hye(r,t,e){var n=Un(r),i=n.length,a="";i||mn(a);for(var s=0,o=i;s<o;s++){var l=n[s];t=Qye(l,t),s!==o-1&&(t.length=Math.max(t.length,1))}return t}function Qye(r,t,e,n){var i="";t.length||mn(i),or(r)||mn(i);var a=r.type,s=Pre.get(a);s||mn(i);var o=wt(t,function(u){return Dye(u,s)}),l=Un(s.transform({upstream:o[0],upstreamList:o,config:nr(r.config)}));return wt(l,function(u,c){var f="";or(u)||mn(f),u.data||mn(f);var h=Tre(u.data);_9(h)||mn(f);var d,A=t[0];if(A&&c===0&&!u.dimensions){var p=A.startIndex;p&&(u.data=A.data.slice(0,p).concat(u.data)),d={seriesLayoutBy:gc,sourceHeader:p,dimensions:A.metaRawOption.dimensions}}else d={seriesLayoutBy:gc,sourceHeader:0,dimensions:u.dimensions};return kF(u.data,d,null)})}function _9(r){return r===ms||r===$l}var f8="undefined",zye=typeof Uint32Array===f8?Array:Uint32Array,Vye=typeof Uint16Array===f8?Array:Uint16Array,Rre=typeof Int32Array===f8?Array:Int32Array,GH=typeof Float64Array===f8?Array:Float64Array,Ore={float:GH,int:Rre,ordinal:Array,number:Array,time:GH},QT;function pm(r){return r>65535?zye:Vye}function gm(){return[1/0,-1/0]}function Gye(r){var t=r.constructor;return t===Array?r.slice():new t(r)}function WH(r,t,e,n,i){var a=Ore[e||"float"];if(i){var s=r[t],o=s&&s.length;if(o!==n){for(var l=new a(n),u=0;u<o;u++)l[u]=s[u];r[t]=l}}else r[t]=new a(n)}var NF=function(){function r(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Xt()}return r.prototype.initData=function(t,e,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource(),a=this.defaultDimValueGetter=QT[i.sourceFormat];this._dimValueGetter=n||a,this._rawExtent=[],Ere(i),this._dimensions=wt(e,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,t.count())},r.prototype.getProvider=function(){return this._provider},r.prototype.getSource=function(){return this._provider.getSource()},r.prototype.ensureCalculationDimension=function(t,e){var n=this._calcDimNameToIdx,i=this._dimensions,a=n.get(t);if(a!=null){if(i[a].type===e)return a}else a=i.length;return i[a]={type:e},n.set(t,a),this._chunks[a]=new Ore[e||"float"](this._rawCount),this._rawExtent[a]=gm(),a},r.prototype.collectOrdinalMeta=function(t,e){var n=this._chunks[t],i=this._dimensions[t],a=this._rawExtent,s=i.ordinalOffset||0,o=n.length;s===0&&(a[t]=gm());for(var l=a[t],u=s;u<o;u++){var c=n[u]=e.parseAndCollect(n[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}i.ordinalMeta=e,i.ordinalOffset=o,i.type="ordinal"},r.prototype.getOrdinalMeta=function(t){var e=this._dimensions[t],n=e.ordinalMeta;return n},r.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},r.prototype.appendData=function(t){var e=this._provider,n=this.count();e.appendData(t);var i=e.count();return e.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},r.prototype.appendValues=function(t,e){for(var n=this._chunks,i=this._dimensions,a=i.length,s=this._rawExtent,o=this.count(),l=o+Math.max(t.length,e||0),u=0;u<a;u++){var c=i[u];WH(n,u,c.type,l,!0)}for(var f=[],h=o;h<l;h++)for(var d=h-o,A=0;A<a;A++){var c=i[A],p=QT.arrayRows.call(this,t[d]||f,c.property,d,A);n[A][h]=p;var g=s[A];p<g[0]&&(g[0]=p),p>g[1]&&(g[1]=p)}return this._rawCount=this._count=l,{start:o,end:l}},r.prototype._initDataFromProvider=function(t,e,n){for(var i=this._provider,a=this._chunks,s=this._dimensions,o=s.length,l=this._rawExtent,u=wt(s,function(v){return v.property}),c=0;c<o;c++){var f=s[c];l[c]||(l[c]=gm()),WH(a,c,f.type,e,n)}if(i.fillStorage)i.fillStorage(t,e,a,l);else for(var h=[],d=t;d<e;d++){h=i.getItem(d,h);for(var A=0;A<o;A++){var p=a[A],g=this._dimValueGetter(h,u[A],d,A);p[d]=g;var m=l[A];g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=e,this._extent=[]},r.prototype.count=function(){return this._count},r.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(e)]:NaN},r.prototype.getValues=function(t,e){var n=[],i=[];if(e==null){e=t,t=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=t;for(var a=0,s=i.length;a<s;a++)n.push(this.get(i[a],e));return n},r.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._chunks[t];return n?n[e]:NaN},r.prototype.getSum=function(t){var e=this._chunks[t],n=0;if(e)for(var i=0,a=this.count();i<a;i++){var s=this.get(t,i);isNaN(s)||(n+=s)}return n},r.prototype.getMedian=function(t){var e=[];this.each([t],function(a){isNaN(a)||e.push(a)});var n=e.sort(function(a,s){return a-s}),i=this.count();return i===0?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},r.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(n!=null&&n<this._count&&n===t)return t;for(var i=0,a=this._count-1;i<=a;){var s=(i+a)/2|0;if(e[s]<t)i=s+1;else if(e[s]>t)a=s-1;else return s}return-1},r.prototype.getIndices=function(){var t,e=this._indices;if(e){var n=e.constructor,i=this._count;if(n===Array){t=new n(i);for(var a=0;a<i;a++)t[a]=e[a]}else t=new n(e.buffer,0,i)}else{var n=pm(this._rawCount);t=new n(this.count());for(var a=0;a<t.length;a++)t[a]=a}return t},r.prototype.filter=function(t,e){if(!this._count)return this;for(var n=this.clone(),i=n.count(),a=pm(n._rawCount),s=new a(i),o=[],l=t.length,u=0,c=t[0],f=n._chunks,h=0;h<i;h++){var d=void 0,A=n.getRawIndex(h);if(l===0)d=e(h);else if(l===1){var p=f[c][A];d=e(p,h)}else{for(var g=0;g<l;g++)o[g]=f[t[g]][A];o[g]=h,d=e.apply(null,o)}d&&(s[u++]=A)}return u<i&&(n._indices=s),n._count=u,n._extent=[],n._updateGetRawIdx(),n},r.prototype.selectRange=function(t){var e=this.clone(),n=e._count;if(!n)return this;var i=en(t),a=i.length;if(!a)return this;var s=e.count(),o=pm(e._rawCount),l=new o(s),u=0,c=i[0],f=t[c][0],h=t[c][1],d=e._chunks,A=!1;if(!e._indices){var p=0;if(a===1){for(var g=d[i[0]],m=0;m<n;m++){var v=g[m];(v>=f&&v<=h||isNaN(v))&&(l[u++]=p),p++}A=!0}else if(a===2){for(var g=d[i[0]],y=d[i[1]],b=t[i[1]][0],_=t[i[1]][1],m=0;m<n;m++){var v=g[m],T=y[m];(v>=f&&v<=h||isNaN(v))&&(T>=b&&T<=_||isNaN(T))&&(l[u++]=p),p++}A=!0}}if(!A)if(a===1)for(var m=0;m<s;m++){var I=e.getRawIndex(m),v=d[i[0]][I];(v>=f&&v<=h||isNaN(v))&&(l[u++]=I)}else for(var m=0;m<s;m++){for(var N=!0,I=e.getRawIndex(m),F=0;F<a;F++){var P=i[F],v=d[P][I];(v<t[P][0]||v>t[P][1])&&(N=!1)}N&&(l[u++]=e.getRawIndex(m))}return u<s&&(e._indices=l),e._count=u,e._extent=[],e._updateGetRawIdx(),e},r.prototype.map=function(t,e){var n=this.clone(t);return this._updateDims(n,t,e),n},r.prototype.modify=function(t,e){this._updateDims(this,t,e)},r.prototype._updateDims=function(t,e,n){for(var i=t._chunks,a=[],s=e.length,o=t.count(),l=[],u=t._rawExtent,c=0;c<e.length;c++)u[e[c]]=gm();for(var f=0;f<o;f++){for(var h=t.getRawIndex(f),d=0;d<s;d++)l[d]=i[e[d]][h];l[s]=f;var A=n&&n.apply(null,l);if(A!=null){typeof A!="object"&&(a[0]=A,A=a);for(var c=0;c<A.length;c++){var p=e[c],g=A[c],m=u[p],v=i[p];v&&(v[h]=g),g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}}}},r.prototype.lttbDownSample=function(t,e){var n=this.clone([t],!0),i=n._chunks,a=i[t],s=this.count(),o=0,l=Math.floor(1/e),u=this.getRawIndex(0),c,f,h,d=new(pm(this._rawCount))(Math.min((Math.ceil(s/l)+2)*2,s));d[o++]=u;for(var A=1;A<s-1;A+=l){for(var p=Math.min(A+l,s-1),g=Math.min(A+l*2,s),m=(g+p)/2,v=0,y=p;y<g;y++){var b=this.getRawIndex(y),_=a[b];isNaN(_)||(v+=_)}v/=g-p;var T=A,I=Math.min(A+l,s),N=A-1,F=a[u];c=-1,h=T;for(var P=-1,D=0,y=T;y<I;y++){var b=this.getRawIndex(y),_=a[b];if(isNaN(_)){D++,P<0&&(P=b);continue}f=Math.abs((N-m)*(_-F)-(N-y)*(v-F)),f>c&&(c=f,h=b)}D>0&&D<I-T&&(d[o++]=Math.min(P,h),h=Math.max(P,h)),d[o++]=h,u=h}return d[o++]=this.getRawIndex(s-1),n._count=o,n._indices=d,n.getRawIndex=this._getRawIdx,n},r.prototype.minmaxDownSample=function(t,e){for(var n=this.clone([t],!0),i=n._chunks,a=Math.floor(1/e),s=i[t],o=this.count(),l=new(pm(this._rawCount))(Math.ceil(o/a)*2),u=0,c=0;c<o;c+=a){var f=c,h=s[this.getRawIndex(f)],d=c,A=s[this.getRawIndex(d)],p=a;c+a>o&&(p=o-c);for(var g=0;g<p;g++){var m=this.getRawIndex(c+g),v=s[m];v<h&&(h=v,f=c+g),v>A&&(A=v,d=c+g)}var y=this.getRawIndex(f),b=this.getRawIndex(d);f<d?(l[u++]=y,l[u++]=b):(l[u++]=b,l[u++]=y)}return n._count=u,n._indices=l,n._updateGetRawIdx(),n},r.prototype.downSample=function(t,e,n,i){for(var a=this.clone([t],!0),s=a._chunks,o=[],l=Math.floor(1/e),u=s[t],c=this.count(),f=a._rawExtent[t]=gm(),h=new(pm(this._rawCount))(Math.ceil(c/l)),d=0,A=0;A<c;A+=l){l>c-A&&(l=c-A,o.length=l);for(var p=0;p<l;p++){var g=this.getRawIndex(A+p);o[p]=u[g]}var m=n(o),v=this.getRawIndex(Math.min(A+i(o,m)||0,c-1));u[v]=m,m<f[0]&&(f[0]=m),m>f[1]&&(f[1]=m),h[d++]=v}return a._count=d,a._indices=h,a._updateGetRawIdx(),a},r.prototype.each=function(t,e){if(this._count)for(var n=t.length,i=this._chunks,a=0,s=this.count();a<s;a++){var o=this.getRawIndex(a);switch(n){case 0:e(a);break;case 1:e(i[t[0]][o],a);break;case 2:e(i[t[0]][o],i[t[1]][o],a);break;default:for(var l=0,u=[];l<n;l++)u[l]=i[t[l]][o];u[l]=a,e.apply(null,u)}}},r.prototype.getDataExtent=function(t){var e=this._chunks[t],n=gm();if(!e)return n;var i=this.count(),a=!this._indices,s;if(a)return this._rawExtent[t].slice();if(s=this._extent[t],s)return s.slice();s=n;for(var o=s[0],l=s[1],u=0;u<i;u++){var c=this.getRawIndex(u),f=e[c];f<o&&(o=f),f>l&&(l=f)}return s=[o,l],this._extent[t]=s,s},r.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var n=[],i=this._chunks,a=0;a<i.length;a++)n.push(i[a][e]);return n},r.prototype.clone=function(t,e){var n=new r,i=this._chunks,a=t&&Eu(t,function(o,l){return o[l]=!0,o},{});if(a)for(var s=0;s<i.length;s++)n._chunks[s]=a[s]?Gye(i[s]):i[s];else n._chunks=i;return this._copyCommonProps(n),e||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},r.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=nr(this._extent),t._rawExtent=nr(this._rawExtent)},r.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var n=this._indices.length;e=new t(n);for(var i=0;i<n;i++)e[i]=this._indices[i]}else e=new t(this._indices);return e}return null},r.prototype._getRawIdxIdentity=function(t){return t},r.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},r.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},r.internalField=function(){function t(e,n,i,a){return RA(e[a],this._dimensions[a])}QT={arrayRows:t,objectRows:function(e,n,i,a){return RA(e[n],this._dimensions[a])},keyedColumns:t,original:function(e,n,i,a){var s=e&&(e.value==null?e:e.value);return RA(s instanceof Array?s[a]:s,this._dimensions[a])},typedArray:function(e,n,i,a){return e[a]}}}(),r}(),jre=function(){function r(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return r.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},r.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},r.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},r.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},r.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,e=this._getUpstreamSourceManagers(),n=!!e.length,i,a;if(F5(t)){var s=t,o=void 0,l=void 0,u=void 0;if(n){var c=e[0];c.prepareSource(),u=c.getSource(),o=u.data,l=u.sourceFormat,a=[c._getVersionSign()]}else o=s.get("data",!0),l=Mo(o)?PA:Wl,a=[];var f=this._getSourceMetaRawOption()||{},h=u&&u.metaRawOption||{},d=Zt(f.seriesLayoutBy,h.seriesLayoutBy)||null,A=Zt(f.sourceHeader,h.sourceHeader),p=Zt(f.dimensions,h.dimensions),g=d!==h.seriesLayoutBy||!!A!=!!h.sourceHeader||p;i=g?[kF(o,{seriesLayoutBy:d,sourceHeader:A,dimensions:p},l)]:[]}else{var m=t;if(n){var v=this._applyTransform(e);i=v.sourceList,a=v.upstreamSignList}else{var y=m.get("source",!0);i=[kF(y,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},r.prototype._applyTransform=function(t){var e=this._sourceHost,n=e.get("transform",!0),i=e.get("fromTransformResult",!0);if(i!=null){var a="";t.length!==1&&KH(a)}var s,o=[],l=[];return se(t,function(u){u.prepareSource();var c=u.getSource(i||0),f="";i!=null&&!c&&KH(f),o.push(c),l.push(u._getVersionSign())}),n?s=Hye(n,o,{datasetIndex:e.componentIndex}):i!=null&&(s=[wye(o[0])]),{sourceList:s,upstreamSignList:l}},r.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var n=t[e];if(n._isDirty()||this._upstreamSignList[e]!==n._getVersionSign())return!0}},r.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return e},r.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},r.prototype._innerGetDataStore=function(t,e,n){var i=0,a=this._storeList,s=a[i];s||(s=a[i]={});var o=s[n];if(!o){var l=this._getUpstreamSourceManagers()[0];F5(this._sourceHost)&&l?o=l._innerGetDataStore(t,e,n):(o=new NF,o.initData(new kre(e,t.length),t)),s[n]=o}return o},r.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(F5(t)){var e=m9(t);return e?[e.getSourceManager()]:[]}else return wt(Y1e(t),function(n){return n.getSourceManager()})},r.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,e,n,i;if(F5(t))e=t.get("seriesLayoutBy",!0),n=t.get("sourceHeader",!0),i=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=t;e=a.get("seriesLayoutBy",!0),n=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:n,dimensions:i}},r}();function $H(r){var t=r.option.transform;t&&_b(r.option.transform)}function F5(r){return r.mainType==="series"}function KH(r){throw new Error(r)}var Wye="line-height:1";function Ure(r){var t=r.lineHeight;return t==null?Wye:"line-height:"+so(t+"")+"px"}function Hre(r,t){var e=r.color||Je.color.tertiary,n=r.fontSize||12,i=r.fontWeight||"400",a=r.color||Je.color.secondary,s=r.fontSize||14,o=r.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+so(n+"")+"px;color:"+so(e)+";font-weight:"+so(i+""),valueStyle:"font-size:"+so(s+"")+"px;color:"+so(a)+";font-weight:"+so(o+"")}:{nameStyle:{fontSize:n,fill:e,fontWeight:i},valueStyle:{fontSize:s,fill:a,fontWeight:o}}}var $ye=[0,10,20,30],Kye=["",`
`,`

`,`


`];function ya(r,t){return t.type=r,t}function FF(r){return r.type==="section"}function Qre(r){return FF(r)?qye:Xye}function zre(r){if(FF(r)){var t=0,e=r.blocks.length,n=e>1||e>0&&!r.noHeader;return se(r.blocks,function(i){var a=zre(i);a>=t&&(t=a+ +(n&&(!a||FF(i)&&!i.noHeader)))}),t}return 0}function qye(r,t,e,n){var i=t.noHeader,a=Yye(zre(t)),s=[],o=t.blocks||[];js(!o||xt(o)),o=o||[];var l=r.orderMode;if(t.sortBlocks&&l){o=o.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(Kt(u,l)){var c=new Dre(u[l],null);o.sort(function(p,g){return c.evaluate(p.sortParam,g.sortParam)})}else l==="seriesDesc"&&o.reverse()}se(o,function(p,g){var m=t.valueFormatter,v=Qre(p)(m?pt(pt({},r),{valueFormatter:m}):r,p,g>0?a.html:0,n);v!=null&&s.push(v)});var f=r.renderMode==="richText"?s.join(a.richText):IF(n,s.join(""),i?e:a.html);if(i)return f;var h=CF(t.header,"ordinal",r.useUTC),d=Hre(n,r.renderMode).nameStyle,A=Ure(n);return r.renderMode==="richText"?Vre(r,h,d)+a.richText+f:IF(n,'<div style="'+d+";"+A+';">'+so(h)+"</div>"+f,e)}function Xye(r,t,e,n){var i=r.renderMode,a=t.noName,s=t.noValue,o=!t.markerType,l=t.name,u=r.useUTC,c=t.valueFormatter||r.valueFormatter||function(b){return b=xt(b)?b:[b],wt(b,function(_,T){return CF(_,xt(d)?d[T]:d,u)})};if(!(a&&s)){var f=o?"":r.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||Je.color.secondary,i),h=a?"":CF(l,"ordinal",u),d=t.valueType,A=s?[]:c(t.value,t.dataIndex),p=!o||!a,g=!o&&a,m=Hre(n,i),v=m.nameStyle,y=m.valueStyle;return i==="richText"?(o?"":f)+(a?"":Vre(r,h,v))+(s?"":exe(r,A,p,g,y)):IF(n,(o?"":f)+(a?"":Zye(h,!o,v))+(s?"":Jye(A,p,g,y)),e)}}function qH(r,t,e,n,i,a){if(r){var s=Qre(r),o={useUTC:i,renderMode:e,orderMode:n,markupStyleCreator:t,valueFormatter:r.valueFormatter};return s(o,r,0,a)}}function Yye(r){return{html:$ye[r],richText:Kye[r]}}function IF(r,t,e){var n='<div style="clear:both"></div>',i="margin: "+e+"px 0 0",a=Ure(r);return'<div style="'+i+";"+a+';">'+t+n+"</div>"}function Zye(r,t,e){var n=t?"margin-left:2px":"";return'<span style="'+e+";"+n+'">'+so(r)+"</span>"}function Jye(r,t,e,n){var i=e?"10px":"20px",a=t?"float:right;margin-left:"+i:"";return r=xt(r)?r:[r],'<span style="'+a+";"+n+'">'+wt(r,function(s){return so(s)}).join("&nbsp;&nbsp;")+"</span>"}function Vre(r,t,e){return r.markupStyleCreator.wrapRichTextStyle(t,e)}function exe(r,t,e,n,i){var a=[i],s=n?10:20;return e&&a.push({padding:[0,0,0,s],align:"right"}),r.markupStyleCreator.wrapRichTextStyle(xt(t)?t.join("  "):t,a)}function Gre(r,t){var e=r.getData().getItemVisual(t,"style"),n=e[r.visualDrawType];return Cg(n)}function Wre(r,t){var e=r.get("padding");return e??(t==="richText"?[8,10]:10)}var zT=function(){function r(){this.richTextStyles={},this._nextStyleNameId=Jee()}return r.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},r.prototype.makeTooltipMarker=function(t,e,n){var i=n==="richText"?this._generateStyleName():null,a=sre({color:e,type:t,renderMode:n,markerId:i});return Ht(a)?a:(this.richTextStyles[i]=a.style,a.content)},r.prototype.wrapRichTextStyle=function(t,e){var n={};xt(e)?se(e,function(a){return pt(n,a)}):pt(n,e);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+t+"}"},r}();function $re(r){var t=r.series,e=r.dataIndex,n=r.multipleSeries,i=t.getData(),a=i.mapDimensionsAll("defaultedTooltip"),s=a.length,o=t.getRawValue(e),l=xt(o),u=Gre(t,e),c,f,h,d;if(s>1||l&&!s){var A=txe(o,t,e,a,u);c=A.inlineValues,f=A.inlineValueTypes,h=A.blocks,d=A.inlineValues[0]}else if(s){var p=i.getDimensionInfo(a[0]);d=c=F1(i,e,a[0]),f=p.type}else d=c=l?o[0]:o;var g=DD(t),m=g&&t.name||"",v=i.getName(e),y=n?m:v;return ya("section",{header:m,noHeader:n||!g,sortParam:d,blocks:[ya("nameValue",{markerType:"item",markerColor:u,name:y,noName:!Ml(y),value:c,valueType:f,dataIndex:e})].concat(h||[])})}function txe(r,t,e,n,i){var a=t.getData(),s=Eu(r,function(f,h,d){var A=a.getDimensionInfo(d);return f=f||A&&A.tooltip!==!1&&A.displayName!=null},!1),o=[],l=[],u=[];n.length?se(n,function(f){c(F1(a,e,f),f)}):se(r,c);function c(f,h){var d=a.getDimensionInfo(h);!d||d.otherDims.tooltip===!1||(s?u.push(ya("nameValue",{markerType:"subItem",markerColor:i,name:d.displayName,value:f,valueType:d.type})):(o.push(f),l.push(d.type)))}return{inlineValues:o,inlineValueTypes:l,blocks:u}}var Cd=Kr();function I5(r,t){return r.getName(t)||r.getId(t)}var H3="__universalTransitionEnabled",Ln=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return t.prototype.init=function(e,n,i){this.seriesIndex=this.componentIndex,this.dataTask=P2({count:nxe,reset:ixe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,i);var a=Cd(this).sourceManager=new jre(this);a.prepareSource();var s=this.getInitialData(e,i);YH(s,this),this.dataTask.context.data=s,Cd(this).dataBeforeProcessed=s,XH(this),this._initSelectedMapFromData(s)},t.prototype.mergeDefaultAndTheme=function(e,n){var i=Db(this),a=i?Hg(e):{},s=this.subType;$r.hasClass(s)&&(s+="Series"),Dr(e,n.getTheme().get(this.subType)),Dr(e,this.getDefaultOption()),yg(e,"label",["show"]),this.fillDataTextStyle(e.data),i&&kf(e,a,i)},t.prototype.mergeOption=function(e,n){e=Dr(this.option,e,!0),this.fillDataTextStyle(e.data);var i=Db(this);i&&kf(this.option,e,i);var a=Cd(this).sourceManager;a.dirty(),a.prepareSource();var s=this.getInitialData(e,n);YH(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,Cd(this).dataBeforeProcessed=s,XH(this),this._initSelectedMapFromData(s)},t.prototype.fillDataTextStyle=function(e){if(e&&!Mo(e))for(var n=["show"],i=0;i<e.length;i++)e[i]&&e[i].label&&yg(e[i],"label",n)},t.prototype.getInitialData=function(e,n){},t.prototype.appendData=function(e){var n=this.getRawData();n.appendData(e.data)},t.prototype.getData=function(e){var n=MF(this);if(n){var i=n.context.data;return e==null||!i.getLinkedData?i:i.getLinkedData(e)}else return Cd(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var n=MF(this);if(n){var i=n.context;i.outputData=e,n!==this.dataTask&&(i.data=e)}Cd(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return Xt(e)},t.prototype.getSourceManager=function(){return Cd(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return Cd(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var e=this.get("colorBy");return e||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.indicesOfNearest=function(e,n,i,a){var s=this.getData(),o=this.coordinateSystem,l=o&&o.getAxis(e);if(!o||!l)return[];var u=l.dataToCoord(i);a==null&&(a=1/0);var c=[],f=1/0,h=-1,d=0;return s.each(n,function(A,p){var g=l.dataToCoord(A),m=u-g,v=Math.abs(m);v<=a&&((v<f||v===f&&m>=0&&h<0)&&(f=v,h=m,d=0),m===h&&(c[d++]=p))}),c.length=d,c},t.prototype.formatTooltip=function(e,n,i){return $re({series:this,dataIndex:e,multipleSeries:n})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(Zr.node&&!(e&&e.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,n,i){var a=this.ecModel,s=v9.prototype.getColorFromPalette.call(this,e,n,i);return s||(s=a.getColorFromPalette(e,n,i)),s},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,n){this._innerSelect(this.getData(n),e)},t.prototype.unselect=function(e,n){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,s=this.getData(n);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var o=0;o<e.length;o++){var l=e[o],u=I5(s,l);i[u]=!1,this._selectedDataIndicesMap[u]=-1}}},t.prototype.toggleSelect=function(e,n){for(var i=[],a=0;a<e.length;a++)i[0]=e[a],this.isSelected(e[a],n)?this.unselect(i,n):this.select(i,n)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,n=en(e),i=[],a=0;a<n.length;a++){var s=e[n[a]];s>=0&&i.push(s)}return i},t.prototype.isSelected=function(e,n){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(n);return(i==="all"||i[I5(a,e)])&&!a.getItemModel(e).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[H3])return!0;var e=this.option.universalTransition;return e?e===!0?!0:e&&e.enabled:!1},t.prototype._innerSelect=function(e,n){var i,a,s=this.option,o=s.selectedMode,l=n.length;if(!(!o||!l)){if(o==="series")s.selectedMap="all";else if(o==="multiple"){or(s.selectedMap)||(s.selectedMap={});for(var u=s.selectedMap,c=0;c<l;c++){var f=n[c],h=I5(e,f);u[h]=!0,this._selectedDataIndicesMap[h]=e.getRawIndex(f)}}else if(o==="single"||o===!0){var d=n[l-1],h=I5(e,d);s.selectedMap=(i={},i[h]=!0,i),this._selectedDataIndicesMap=(a={},a[h]=e.getRawIndex(d),a)}}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var n=[];e.hasItemOption&&e.each(function(i){var a=e.getRawDataItem(i);a&&a.selected&&n.push(i)}),n.length>0&&this._innerSelect(e,n)}},t.registerClass=function(e){return $r.registerClass(e)},t.protoInitialize=function(){var e=t.prototype;e.type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",e.visualDrawType="fill"}(),t}($r);Ui(Ln,c8);Ui(Ln,v9);ute(Ln,$r);function XH(r){var t=r.name;DD(r)||(r.name=rxe(r)||t)}function rxe(r){var t=r.getRawData(),e=t.mapDimensionsAll("seriesName"),n=[];return se(e,function(i){var a=t.getDimensionInfo(i);a.displayName&&n.push(a.displayName)}),n.join(" ")}function nxe(r){return r.model.getRawData().count()}function ixe(r){var t=r.model;return t.setData(t.getRawData().cloneShallow()),axe}function axe(r,t){t.outputData&&r.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function YH(r,t){se(S1(r.CHANGABLE_METHODS,r.DOWNSAMPLE_METHODS),function(e){r.wrapMethod(e,Nr(sxe,t))})}function sxe(r,t){var e=MF(r);return e&&e.setOutputEnd((t||this).count()),t}function MF(r){var t=(r.ecModel||{}).scheduler,e=t&&t.getPipeline(r.uid);if(e){var n=e.currentTask;if(n){var i=n.agentStubMap;i&&(n=i.get(r.uid))}return n}}var Hn=function(){function r(){this.group=new ir,this.uid=ay("viewComponent")}return r.prototype.init=function(t,e){},r.prototype.render=function(t,e,n,i){},r.prototype.dispose=function(t,e){},r.prototype.updateView=function(t,e,n,i){},r.prototype.updateLayout=function(t,e,n,i){},r.prototype.updateVisual=function(t,e,n,i){},r.prototype.toggleBlurSeries=function(t,e,n){},r.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},r}();RD(Hn);YC(Hn);function ly(){var r=Kr();return function(t){var e=r(t),n=t.pipelineContext,i=!!e.large,a=!!e.progressiveRender,s=e.large=!!(n&&n.large),o=e.progressiveRender=!!(n&&n.progressiveRender);return(i!==s||a!==o)&&"reset"}}var Kre=Kr(),oxe=ly(),Nn=function(){function r(){this.group=new ir,this.uid=ay("viewChart"),this.renderTask=P2({plan:lxe,reset:uxe}),this.renderTask.context={view:this}}return r.prototype.init=function(t,e){},r.prototype.render=function(t,e,n,i){},r.prototype.highlight=function(t,e,n,i){var a=t.getData(i&&i.dataType);a&&JH(a,i,"emphasis")},r.prototype.downplay=function(t,e,n,i){var a=t.getData(i&&i.dataType);a&&JH(a,i,"normal")},r.prototype.remove=function(t,e){this.group.removeAll()},r.prototype.dispose=function(t,e){},r.prototype.updateView=function(t,e,n,i){this.render(t,e,n,i)},r.prototype.updateLayout=function(t,e,n,i){this.render(t,e,n,i)},r.prototype.updateVisual=function(t,e,n,i){this.render(t,e,n,i)},r.prototype.eachRendered=function(t){h0(this.group,t)},r.markUpdateMethod=function(t,e){Kre(t).updateMethod=e},r.protoInitialize=function(){var t=r.prototype;t.type="chart"}(),r}();function ZH(r,t,e){r&&Ib(r)&&(t==="emphasis"?zh:Vh)(r,e)}function JH(r,t,e){var n=xg(r,t),i=t&&t.highlightKey!=null?Dve(t.highlightKey):null;n!=null?se(Un(n),function(a){ZH(r.getItemGraphicEl(a),e,i)}):r.eachItemGraphicEl(function(a){ZH(a,e,i)})}RD(Nn);YC(Nn);function lxe(r){return oxe(r.model)}function uxe(r){var t=r.model,e=r.ecModel,n=r.api,i=r.payload,a=t.pipelineContext.progressiveRender,s=r.view,o=i&&Kre(i).updateMethod,l=a?"incrementalPrepareRender":o&&s[o]?o:"render";return l!=="render"&&s[l](t,e,n,i),cxe[l]}var cxe={incrementalPrepareRender:{progress:function(r,t){t.view.incrementalRender(r,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(r,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},JS="\0__throttleOriginMethod",eQ="\0__throttleRate",tQ="\0__throttleType";function h8(r,t,e){var n,i=0,a=0,s=null,o,l,u,c;t=t||0;function f(){a=new Date().getTime(),s=null,r.apply(l,u||[])}var h=function(){for(var d=[],A=0;A<arguments.length;A++)d[A]=arguments[A];n=new Date().getTime(),l=this,u=d;var p=c||t,g=c||e;c=null,o=n-(g?i:a)-p,clearTimeout(s),g?s=setTimeout(f,p):o>=0?f():s=setTimeout(f,-o),i=n};return h.clear=function(){s&&(clearTimeout(s),s=null)},h.debounceNextCall=function(d){c=d},h}function uy(r,t,e,n){var i=r[t];if(i){var a=i[JS]||i,s=i[tQ],o=i[eQ];if(o!==e||s!==n){if(e==null||!n)return r[t]=a;i=r[t]=h8(a,e,n==="debounce"),i[JS]=a,i[tQ]=n,i[eQ]=e}return i}}function Rb(r,t){var e=r[t];e&&e[JS]&&(e.clear&&e.clear(),r[t]=e[JS])}var rQ=Kr(),nQ={itemStyle:bg(Yte,!0),lineStyle:bg(Xte,!0)},fxe={lineStyle:"stroke",itemStyle:"fill"};function qre(r,t){var e=r.visualStyleMapper||nQ[t];return e||(console.warn("Unknown style type '"+t+"'."),nQ.itemStyle)}function Xre(r,t){var e=r.visualDrawType||fxe[t];return e||(console.warn("Unknown style type '"+t+"'."),"fill")}var hxe={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){var e=r.getData(),n=r.visualStyleAccessPath||"itemStyle",i=r.getModel(n),a=qre(r,n),s=a(i),o=i.getShallow("decal");o&&(e.setVisual("decal",o),o.dirty=!0);var l=Xre(r,n),u=s[l],c=rr(u)?u:null,f=s.fill==="auto"||s.stroke==="auto";if(!s[l]||c||f){var h=r.getColorFromPalette(r.name,null,t.getSeriesCount());s[l]||(s[l]=h,e.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||rr(s.fill)?h:s.fill,s.stroke=s.stroke==="auto"||rr(s.stroke)?h:s.stroke}if(e.setVisual("style",s),e.setVisual("drawType",l),!t.isSeriesFiltered(r)&&c)return e.setVisual("colorFromPalette",!1),{dataEach:function(d,A){var p=r.getDataParams(A),g=pt({},s);g[l]=c(p),d.setItemVisual(A,"style",g)}}}},sx=new qr,dxe={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){if(!(r.ignoreStyleOnData||t.isSeriesFiltered(r))){var e=r.getData(),n=r.visualStyleAccessPath||"itemStyle",i=qre(r,n),a=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(s,o){var l=s.getRawDataItem(o);if(l&&l[n]){sx.option=l[n];var u=i(sx),c=s.ensureUniqueItemVisual(o,"style");pt(c,u),sx.option.decal&&(s.setItemVisual(o,"decal",sx.option.decal),sx.option.decal.dirty=!0),a in u&&s.setItemVisual(o,"colorFromPalette",!1)}}:null}}}},Axe={performRawSeries:!0,overallReset:function(r){var t=Xt();r.eachSeries(function(e){var n=e.getColorBy();if(!e.isColorBySeries()){var i=e.type+"-"+n,a=t.get(i);a||(a={},t.set(i,a)),rQ(e).scope=a}}),r.eachSeries(function(e){if(!(e.isColorBySeries()||r.isSeriesFiltered(e))){var n=e.getRawData(),i={},a=e.getData(),s=rQ(e).scope,o=e.visualStyleAccessPath||"itemStyle",l=Xre(e,o);a.each(function(u){var c=a.getRawIndex(u);i[c]=u}),n.each(function(u){var c=i[u],f=a.getItemVisual(c,"colorFromPalette");if(f){var h=a.ensureUniqueItemVisual(c,"style"),d=n.getName(u)||u+"",A=n.count();h[l]=e.getColorFromPalette(d,s,A)}})}})}},M5=Math.PI;function pxe(r,t){t=t||{},sr(t,{text:"loading",textColor:Je.color.primary,fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255,255,255,0.8)",showSpinner:!0,color:Je.color.theme[0],spinnerRadius:10,lineWidth:5,zlevel:0});var e=new ir,n=new zr({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});e.add(n);var i=new nn({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),a=new zr({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});e.add(a);var s;return t.showSpinner&&(s=new zw({shape:{startAngle:-M5/2,endAngle:-M5/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:M5*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:M5*3/2}).delay(300).start("circularInOut"),e.add(s)),e.resize=function(){var o=i.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,u=(r.getWidth()-l*2-(t.showSpinner&&o?10:0)-o)/2-(t.showSpinner&&o?0:5+o/2)+(t.showSpinner?0:o/2)+(o?0:l),c=r.getHeight()/2;t.showSpinner&&s.setShape({cx:u,cy:c}),a.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),n.setShape({x:0,y:0,width:r.getWidth(),height:r.getHeight()})},e.resize(),e}var Yre=function(){function r(t,e,n,i){this._stageTaskMap=Xt(),this.ecInstance=t,this.api=e,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return r.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},r.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,a=!e&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex,s=a?n.step:null,o=i&&i.modDataCount,l=o!=null?Math.ceil(o/s):null;return{step:s,modBy:l,modDataCount:o}}},r.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},r.prototype.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),i=t.getData(),a=i.count(),s=n.progressiveEnabled&&e.incrementalPrepareRender&&a>=n.threshold,o=t.get("large")&&a>=t.get("largeThreshold"),l=t.get("progressiveChunkMode")==="mod"?a:null;t.pipelineContext=n.context={progressiveRender:s,modDataCount:l,large:o}},r.prototype.restorePipelines=function(t){var e=this,n=e._pipelineMap=Xt();t.eachSeries(function(i){var a=i.getProgressive(),s=i.uid;n.set(s,{id:s,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),e._pipe(i,i.dataTask)})},r.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),n=this.api;se(this._allHandlers,function(i){var a=t.get(i.uid)||t.set(i.uid,{}),s="";js(!(i.reset&&i.overallReset),s),i.reset&&this._createSeriesStageTask(i,a,e,n),i.overallReset&&this._createOverallStageTask(i,a,e,n)},this)},r.prototype.prepareView=function(t,e,n,i){var a=t.renderTask,s=a.context;s.model=e,s.ecModel=n,s.api=i,a.__block=!t.incrementalPrepareRender,this._pipe(e,a)},r.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},r.prototype.performVisualTasks=function(t,e,n){this._performStageTasks(this._visualHandlers,t,e,n)},r.prototype._performStageTasks=function(t,e,n,i){i=i||{};var a=!1,s=this;se(t,function(l,u){if(!(i.visualType&&i.visualType!==l.visualType)){var c=s._stageTaskMap.get(l.uid),f=c.seriesTaskMap,h=c.overallTask;if(h){var d,A=h.agentStubMap;A.each(function(g){o(i,g)&&(g.dirty(),d=!0)}),d&&h.dirty(),s.updatePayload(h,n);var p=s.getPerformArgs(h,i.block);A.each(function(g){g.perform(p)}),h.perform(p)&&(a=!0)}else f&&f.each(function(g,m){o(i,g)&&g.dirty();var v=s.getPerformArgs(g,i.block);v.skip=!l.performRawSeries&&e.isSeriesFiltered(g.context.model),s.updatePayload(g,n),g.perform(v)&&(a=!0)})}});function o(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=a||this.unfinished},r.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(n){e=n.dataTask.perform()||e}),this.unfinished=e||this.unfinished},r.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},r.prototype.updatePayload=function(t,e){e!=="remain"&&(t.context.payload=e)},r.prototype._createSeriesStageTask=function(t,e,n,i){var a=this,s=e.seriesTaskMap,o=e.seriesTaskMap=Xt(),l=t.seriesType,u=t.getTargetSeries;t.createOnAllSeries?n.eachRawSeries(c):l?n.eachRawSeriesByType(l,c):u&&u(n,i).each(c);function c(f){var h=f.uid,d=o.set(h,s&&s.get(h)||P2({plan:xxe,reset:bxe,count:_xe}));d.context={model:f,ecModel:n,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:a},a._pipe(f,d)}},r.prototype._createOverallStageTask=function(t,e,n,i){var a=this,s=e.overallTask=e.overallTask||P2({reset:gxe});s.context={ecModel:n,api:i,overallReset:t.overallReset,scheduler:a};var o=s.agentStubMap,l=s.agentStubMap=Xt(),u=t.seriesType,c=t.getTargetSeries,f=!0,h=!1,d="";js(!t.createOnAllSeries,d),u?n.eachRawSeriesByType(u,A):c?c(n,i).each(A):(f=!1,se(n.getSeries(),A));function A(p){var g=p.uid,m=l.set(g,o&&o.get(g)||(h=!0,P2({reset:mxe,onDirty:yxe})));m.context={model:p,overallProgress:f},m.agent=s,m.__block=f,a._pipe(p,m)}h&&s.dirty()},r.prototype._pipe=function(t,e){var n=t.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=e),i.tail&&i.tail.pipe(e),i.tail=e,e.__idxInPipeline=i.count++,e.__pipeline=i},r.wrapStageHandler=function(t,e){return rr(t)&&(t={overallReset:t,seriesType:Sxe(t)}),t.uid=ay("stageHandler"),e&&(t.visualType=e),t},r}();function gxe(r){r.overallReset(r.ecModel,r.api,r.payload)}function mxe(r){return r.overallProgress&&vxe}function vxe(){this.agent.dirty(),this.getDownstream().dirty()}function yxe(){this.agent&&this.agent.dirty()}function xxe(r){return r.plan?r.plan(r.model,r.ecModel,r.api,r.payload):null}function bxe(r){r.useClearVisual&&r.data.clearAllVisual();var t=r.resetDefines=Un(r.reset(r.model,r.ecModel,r.api,r.payload));return t.length>1?wt(t,function(e,n){return Zre(n)}):wxe}var wxe=Zre(0);function Zre(r){return function(t,e){var n=e.data,i=e.resetDefines[r];if(i&&i.dataEach)for(var a=t.start;a<t.end;a++)i.dataEach(n,a);else i&&i.progress&&i.progress(t,n)}}function _xe(r){return r.data.count()}function Sxe(r){e6=null;try{r(Ob,Jre)}catch{}return e6}var Ob={},Jre={},e6;ene(Ob,y9);ene(Jre,Sre);Ob.eachSeriesByType=Ob.eachRawSeriesByType=function(r){e6=r};Ob.eachComponent=function(r){r.mainType==="series"&&r.subType&&(e6=r.subType)};function ene(r,t){for(var e in t.prototype)r[e]=Ri}var lr=Je.darkColor,Cxe=lr.background,ox=function(){return{axisLine:{lineStyle:{color:lr.axisLine}},splitLine:{lineStyle:{color:lr.axisSplitLine}},splitArea:{areaStyle:{color:[lr.backgroundTint,lr.backgroundTransparent]}},minorSplitLine:{lineStyle:{color:lr.axisMinorSplitLine}},axisLabel:{color:lr.axisLabel},axisName:{}}},iQ={label:{color:lr.secondary},itemStyle:{borderColor:lr.borderTint},dividerLineStyle:{color:lr.border}},tne={darkMode:!0,color:lr.theme,backgroundColor:Cxe,axisPointer:{lineStyle:{color:lr.border},crossStyle:{color:lr.borderShade},label:{color:lr.tertiary}},legend:{textStyle:{color:lr.secondary},pageTextStyle:{color:lr.tertiary}},textStyle:{color:lr.secondary},title:{textStyle:{color:lr.primary},subtextStyle:{color:lr.quaternary}},toolbox:{iconStyle:{borderColor:lr.accent50}},tooltip:{backgroundColor:lr.neutral20,defaultBorderColor:lr.border,textStyle:{color:lr.tertiary}},dataZoom:{borderColor:lr.accent10,textStyle:{color:lr.tertiary},brushStyle:{color:lr.backgroundTint},handleStyle:{color:lr.neutral00,borderColor:lr.accent20},moveHandleStyle:{color:lr.accent40},emphasis:{handleStyle:{borderColor:lr.accent50}},dataBackground:{lineStyle:{color:lr.accent30},areaStyle:{color:lr.accent20}},selectedDataBackground:{lineStyle:{color:lr.accent50},areaStyle:{color:lr.accent30}}},visualMap:{textStyle:{color:lr.secondary},handleStyle:{borderColor:lr.neutral30}},timeline:{lineStyle:{color:lr.accent10},label:{color:lr.tertiary},controlStyle:{color:lr.accent30,borderColor:lr.accent30}},calendar:{itemStyle:{color:lr.neutral00,borderColor:lr.neutral20},dayLabel:{color:lr.tertiary},monthLabel:{color:lr.secondary},yearLabel:{color:lr.secondary}},matrix:{x:iQ,y:iQ,backgroundColor:{borderColor:lr.axisLine},body:{itemStyle:{borderColor:lr.borderTint}}},timeAxis:ox(),logAxis:ox(),valueAxis:ox(),categoryAxis:ox(),line:{symbol:"circle"},graph:{color:lr.theme},gauge:{title:{color:lr.secondary},axisLine:{lineStyle:{color:[[1,lr.neutral05]]}},axisLabel:{color:lr.axisLabel},detail:{color:lr.primary}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}},funnel:{itemStyle:{borderColor:lr.background}},radar:function(){var r=ox();return r.axisName={color:lr.axisLabel},r.axisLine.lineStyle.color=lr.neutral20,r}(),treemap:{breadcrumb:{itemStyle:{color:lr.neutral20,textStyle:{color:lr.secondary}},emphasis:{itemStyle:{color:lr.neutral30}}}},sunburst:{itemStyle:{borderColor:lr.background}},map:{itemStyle:{borderColor:lr.border,areaColor:lr.neutral10},label:{color:lr.tertiary},emphasis:{label:{color:lr.primary},itemStyle:{areaColor:lr.highlight}},select:{label:{color:lr.primary},itemStyle:{areaColor:lr.highlight}}},geo:{itemStyle:{borderColor:lr.border,areaColor:lr.neutral10},emphasis:{label:{color:lr.primary},itemStyle:{areaColor:lr.highlight}},select:{label:{color:lr.primary},itemStyle:{color:lr.highlight}}}};tne.categoryAxis.splitLine.show=!1;var Bxe=function(){function r(){}return r.prototype.normalizeQuery=function(t){var e={},n={},i={};if(Ht(t)){var a=cf(t);e.mainType=a.main||null,e.subType=a.sub||null}else{var s=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};se(t,function(l,u){for(var c=!1,f=0;f<s.length;f++){var h=s[f],d=u.lastIndexOf(h);if(d>0&&d===u.length-h.length){var A=u.slice(0,d);A!=="data"&&(e.mainType=A,e[h.toLowerCase()]=l,c=!0)}}o.hasOwnProperty(u)&&(n[u]=l,c=!0),c||(i[u]=l)})}return{cptQuery:e,dataQuery:n,otherQuery:i}},r.prototype.filter=function(t,e){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,a=n.packedEvent,s=n.model,o=n.view;if(!s||!o)return!0;var l=e.cptQuery,u=e.dataQuery;return c(l,s,"mainType")&&c(l,s,"subType")&&c(l,s,"index","componentIndex")&&c(l,s,"name")&&c(l,s,"id")&&c(u,a,"name")&&c(u,a,"dataIndex")&&c(u,a,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(t,e.otherQuery,i,a));function c(f,h,d,A){return f[d]==null||h[A||d]===f[d]}},r.prototype.afterTrigger=function(){this.eventInfo=null},r}(),LF=["symbol","symbolSize","symbolRotate","symbolOffset"],aQ=LF.concat(["symbolKeepAspect"]),Txe={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){var e=r.getData();if(r.legendIcon&&e.setVisual("legendIcon",r.legendIcon),!r.hasSymbolVisual)return;for(var n={},i={},a=!1,s=0;s<LF.length;s++){var o=LF[s],l=r.get(o);rr(l)?(a=!0,i[o]=l):n[o]=l}if(n.symbol=n.symbol||r.defaultSymbol,e.setVisual(pt({legendIcon:r.legendIcon||n.symbol,symbolKeepAspect:r.get("symbolKeepAspect")},n)),t.isSeriesFiltered(r))return;var u=en(i);function c(f,h){for(var d=r.getRawValue(h),A=r.getDataParams(h),p=0;p<u.length;p++){var g=u[p];f.setItemVisual(h,g,i[g](d,A))}}return{dataEach:a?c:null}}},Exe={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){if(!r.hasSymbolVisual||t.isSeriesFiltered(r))return;var e=r.getData();function n(i,a){for(var s=i.getItemModel(a),o=0;o<aQ.length;o++){var l=aQ[o],u=s.getShallow(l,!0);u!=null&&i.setItemVisual(a,l,u)}}return{dataEach:e.hasItemOption?n:null}}};function S9(r,t,e){switch(e){case"color":var n=r.getItemVisual(t,"style");return n[r.getVisual("drawType")];case"opacity":return r.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getItemVisual(t,e)}}function Kw(r,t){switch(t){case"color":var e=r.getVisual("style");return e[r.getVisual("drawType")];case"opacity":return r.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getVisual(t)}}function rne(r,t,e,n){switch(e){case"color":var i=r.ensureUniqueItemVisual(t,"style");i[r.getVisual("drawType")]=n,r.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":r.ensureUniqueItemVisual(t,"style").opacity=n;break;case"symbol":case"symbolSize":case"liftZ":r.setItemVisual(t,e,n);break}}function nne(r,t){function e(n,i){var a=[];return n.eachComponent({mainType:"series",subType:r,query:i},function(s){a.push(s.seriesIndex)}),a}se([[r+"ToggleSelect","toggleSelect"],[r+"Select","select"],[r+"UnSelect","unselect"]],function(n){t(n[0],function(i,a,s){i=pt({},i),s.dispatchAction(pt(i,{type:n[1],seriesIndex:e(a,i)}))})})}function mm(r,t,e,n,i){var a=r+t;e.isSilent(a)||n.eachComponent({mainType:"series",subType:"pie"},function(s){for(var o=s.seriesIndex,l=s.option.selectedMap,u=i.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===o){var f=s.getData(),h=xg(f,i.fromActionPayload);e.trigger(a,{type:a,seriesId:s.id,name:xt(h)?f.getName(h[0]):f.getName(h),selected:Ht(l)?l:pt({},l)})}})}function kxe(r,t,e){r.on("selectchanged",function(n){var i=e.getModel();n.isFromClick?(mm("map","selectchanged",t,i,n),mm("pie","selectchanged",t,i,n)):n.fromAction==="select"?(mm("map","selected",t,i,n),mm("pie","selected",t,i,n)):n.fromAction==="unselect"&&(mm("map","unselected",t,i,n),mm("pie","unselected",t,i,n))})}function Lp(r,t,e){for(var n;r&&!(t(r)&&(n=r,e));)r=r.__hostTarget||r.parent;return n}var Nxe=Math.round(Math.random()*9),Fxe=typeof Object.defineProperty=="function",Ixe=function(){function r(){this._id="__ec_inner_"+Nxe++}return r.prototype.get=function(t){return this._guard(t)[this._id]},r.prototype.set=function(t,e){var n=this._guard(t);return Fxe?Object.defineProperty(n,this._id,{value:e,enumerable:!1,configurable:!0}):n[this._id]=e,this},r.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},r.prototype.has=function(t){return!!this._guard(t)[this._id]},r.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},r}(),Mxe=Xr.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,t){var e=t.cx,n=t.cy,i=t.width/2,a=t.height/2;r.moveTo(e,n-a),r.lineTo(e+i,n+a),r.lineTo(e-i,n+a),r.closePath()}}),Lxe=Xr.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,t){var e=t.cx,n=t.cy,i=t.width/2,a=t.height/2;r.moveTo(e,n-a),r.lineTo(e+i,n),r.lineTo(e,n+a),r.lineTo(e-i,n),r.closePath()}}),Dxe=Xr.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,t){var e=t.x,n=t.y,i=t.width/5*3,a=Math.max(i,t.height),s=i/2,o=s*s/(a-s),l=n-a+s+o,u=Math.asin(o/s),c=Math.cos(u)*s,f=Math.sin(u),h=Math.cos(u),d=s*.6,A=s*.7;r.moveTo(e-c,l+o),r.arc(e,l,s,Math.PI-u,Math.PI*2+u),r.bezierCurveTo(e+c-f*d,l+o+h*d,e,n-A,e,n),r.bezierCurveTo(e,n-A,e-c+f*d,l+o+h*d,e-c,l+o),r.closePath()}}),Pxe=Xr.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,t){var e=t.height,n=t.width,i=t.x,a=t.y,s=n/3*2;r.moveTo(i,a),r.lineTo(i+s,a+e),r.lineTo(i,a+e/4*3),r.lineTo(i-s,a+e),r.lineTo(i,a),r.closePath()}}),Rxe={line:ra,rect:zr,roundRect:zr,square:zr,circle:Lf,diamond:Lxe,pin:Dxe,arrow:Pxe,triangle:Mxe},Oxe={line:function(r,t,e,n,i){i.x1=r,i.y1=t+n/2,i.x2=r+e,i.y2=t+n/2},rect:function(r,t,e,n,i){i.x=r,i.y=t,i.width=e,i.height=n},roundRect:function(r,t,e,n,i){i.x=r,i.y=t,i.width=e,i.height=n,i.r=Math.min(e,n)/4},square:function(r,t,e,n,i){var a=Math.min(e,n);i.x=r,i.y=t,i.width=a,i.height=a},circle:function(r,t,e,n,i){i.cx=r+e/2,i.cy=t+n/2,i.r=Math.min(e,n)/2},diamond:function(r,t,e,n,i){i.cx=r+e/2,i.cy=t+n/2,i.width=e,i.height=n},pin:function(r,t,e,n,i){i.x=r+e/2,i.y=t+n/2,i.width=e,i.height=n},arrow:function(r,t,e,n,i){i.x=r+e/2,i.y=t+n/2,i.width=e,i.height=n},triangle:function(r,t,e,n,i){i.cx=r+e/2,i.cy=t+n/2,i.width=e,i.height=n}},t6={};se(Rxe,function(r,t){t6[t]=new r});var jxe=Xr.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(r,t,e){var n=zS(r,t,e),i=this.shape;return i&&i.symbolType==="pin"&&t.position==="inside"&&(n.y=e.y+e.height*.4),n},buildPath:function(r,t,e){var n=t.symbolType;if(n!=="none"){var i=t6[n];i||(n="rect",i=t6[n]),Oxe[n](t.x,t.y,t.width,t.height,i.shape),i.buildPath(r,i.shape,e)}}});function Uxe(r,t){if(this.type!=="image"){var e=this.style;this.__isEmptyBrush?(e.stroke=r,e.fill=t||Je.color.neutral00,e.lineWidth=2):this.shape.symbolType==="line"?e.stroke=r:e.fill=r,this.markRedraw()}}function ia(r,t,e,n,i,a,s){var o=r.indexOf("empty")===0;o&&(r=r.substr(5,1).toLowerCase()+r.substr(6));var l;return r.indexOf("image://")===0?l=qD(r.slice(8),new fr(t,e,n,i),s?"center":"cover"):r.indexOf("path://")===0?l=k1(r.slice(7),{},new fr(t,e,n,i),s?"center":"cover"):l=new jxe({shape:{symbolType:r,x:t,y:e,width:n,height:i}}),l.__isEmptyBrush=o,l.setColor=Uxe,a&&l.setColor(a),l}function cy(r){return xt(r)||(r=[+r,+r]),[r[0]||0,r[1]||0]}function zg(r,t){if(r!=null)return xt(r)||(r=[r,r]),[Ut(r[0],t[0])||0,Ut(Zt(r[1],r[0]),t[1])||0]}function Dp(r){return isFinite(r)}function Hxe(r,t,e){var n=t.x==null?0:t.x,i=t.x2==null?1:t.x2,a=t.y==null?0:t.y,s=t.y2==null?0:t.y2;t.global||(n=n*e.width+e.x,i=i*e.width+e.x,a=a*e.height+e.y,s=s*e.height+e.y),n=Dp(n)?n:0,i=Dp(i)?i:1,a=Dp(a)?a:0,s=Dp(s)?s:0;var o=r.createLinearGradient(n,a,i,s);return o}function Qxe(r,t,e){var n=e.width,i=e.height,a=Math.min(n,i),s=t.x==null?.5:t.x,o=t.y==null?.5:t.y,l=t.r==null?.5:t.r;t.global||(s=s*n+e.x,o=o*i+e.y,l=l*a),s=Dp(s)?s:.5,o=Dp(o)?o:.5,l=l>=0&&Dp(l)?l:.5;var u=r.createRadialGradient(s,o,0,s,o,l);return u}function DF(r,t,e){for(var n=t.type==="radial"?Qxe(r,t,e):Hxe(r,t,e),i=t.colorStops,a=0;a<i.length;a++)n.addColorStop(i[a].offset,i[a].color);return n}function zxe(r,t){if(r===t||!r&&!t)return!1;if(!r||!t||r.length!==t.length)return!0;for(var e=0;e<r.length;e++)if(r[e]!==t[e])return!0;return!1}function L5(r){return parseInt(r,10)}function kv(r,t,e){var n=["width","height"][t],i=["clientWidth","clientHeight"][t],a=["paddingLeft","paddingTop"][t],s=["paddingRight","paddingBottom"][t];if(e[n]!=null&&e[n]!=="auto")return parseFloat(e[n]);var o=document.defaultView.getComputedStyle(r);return(r[i]||L5(o[n])||L5(r.style[n]))-(L5(o[a])||0)-(L5(o[s])||0)|0}function Vxe(r,t){return!r||r==="solid"||!(t>0)?null:r==="dashed"?[4*t,2*t]:r==="dotted"?[t]:an(r)?[r]:xt(r)?r:null}function C9(r){var t=r.style,e=t.lineDash&&t.lineWidth>0&&Vxe(t.lineDash,t.lineWidth),n=t.lineDashOffset;if(e){var i=t.strokeNoScale&&r.getLineScale?r.getLineScale():1;i&&i!==1&&(e=wt(e,function(a){return a/i}),n/=i)}return[e,n]}var Gxe=new Ef(!0);function r6(r){var t=r.stroke;return!(t==null||t==="none"||!(r.lineWidth>0))}function sQ(r){return typeof r=="string"&&r!=="none"}function n6(r){var t=r.fill;return t!=null&&t!=="none"}function oQ(r,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var e=r.globalAlpha;r.globalAlpha=t.fillOpacity*t.opacity,r.fill(),r.globalAlpha=e}else r.fill()}function lQ(r,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var e=r.globalAlpha;r.globalAlpha=t.strokeOpacity*t.opacity,r.stroke(),r.globalAlpha=e}else r.stroke()}function PF(r,t,e){var n=OD(t.image,t.__image,e);if(ZC(n)){var i=r.createPattern(n,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(t.x||0,t.y||0),a.rotateSelf(0,0,(t.rotation||0)*C2),a.scaleSelf(t.scaleX||1,t.scaleY||1),i.setTransform(a)}return i}}function Wxe(r,t,e,n){var i,a=r6(e),s=n6(e),o=e.strokePercent,l=o<1,u=!t.path;(!t.silent||l)&&u&&t.createPathProxy();var c=t.path||Gxe,f=t.__dirty;if(!n){var h=e.fill,d=e.stroke,A=s&&!!h.colorStops,p=a&&!!d.colorStops,g=s&&!!h.image,m=a&&!!d.image,v=void 0,y=void 0,b=void 0,_=void 0,T=void 0;(A||p)&&(T=t.getBoundingRect()),A&&(v=f?DF(r,h,T):t.__canvasFillGradient,t.__canvasFillGradient=v),p&&(y=f?DF(r,d,T):t.__canvasStrokeGradient,t.__canvasStrokeGradient=y),g&&(b=f||!t.__canvasFillPattern?PF(r,h,t):t.__canvasFillPattern,t.__canvasFillPattern=b),m&&(_=f||!t.__canvasStrokePattern?PF(r,d,t):t.__canvasStrokePattern,t.__canvasStrokePattern=_),A?r.fillStyle=v:g&&(b?r.fillStyle=b:s=!1),p?r.strokeStyle=y:m&&(_?r.strokeStyle=_:a=!1)}var I=t.getGlobalScale();c.setScale(I[0],I[1],t.segmentIgnoreThreshold);var N,F;r.setLineDash&&e.lineDash&&(i=C9(t),N=i[0],F=i[1]);var P=!0;(u||f&Jm)&&(c.setDPR(r.dpr),l?c.setContext(null):(c.setContext(r),P=!1),c.reset(),t.buildPath(c,t.shape,n),c.toStatic(),t.pathUpdated()),P&&c.rebuildPath(r,l?o:1),N&&(r.setLineDash(N),r.lineDashOffset=F),n||(e.strokeFirst?(a&&lQ(r,e),s&&oQ(r,e)):(s&&oQ(r,e),a&&lQ(r,e))),N&&r.setLineDash([])}function $xe(r,t,e){var n=t.__image=OD(e.image,t.__image,t,t.onload);if(!(!n||!ZC(n))){var i=e.x||0,a=e.y||0,s=t.getWidth(),o=t.getHeight(),l=n.width/n.height;if(s==null&&o!=null?s=o*l:o==null&&s!=null?o=s/l:s==null&&o==null&&(s=n.width,o=n.height),e.sWidth&&e.sHeight){var u=e.sx||0,c=e.sy||0;r.drawImage(n,u,c,e.sWidth,e.sHeight,i,a,s,o)}else if(e.sx&&e.sy){var u=e.sx,c=e.sy,f=s-u,h=o-c;r.drawImage(n,u,c,f,h,i,a,s,o)}else r.drawImage(n,i,a,s,o)}}function Kxe(r,t,e){var n,i=e.text;if(i!=null&&(i+=""),i){r.font=e.font||Hh,r.textAlign=e.textAlign,r.textBaseline=e.textBaseline;var a=void 0,s=void 0;r.setLineDash&&e.lineDash&&(n=C9(t),a=n[0],s=n[1]),a&&(r.setLineDash(a),r.lineDashOffset=s),e.strokeFirst?(r6(e)&&r.strokeText(i,e.x,e.y),n6(e)&&r.fillText(i,e.x,e.y)):(n6(e)&&r.fillText(i,e.x,e.y),r6(e)&&r.strokeText(i,e.x,e.y)),a&&r.setLineDash([])}}var uQ=["shadowBlur","shadowOffsetX","shadowOffsetY"],cQ=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function ine(r,t,e,n,i){var a=!1;if(!n&&(e=e||{},t===e))return!1;if(n||t.opacity!==e.opacity){Xo(r,i),a=!0;var s=Math.max(Math.min(t.opacity,1),0);r.globalAlpha=isNaN(s)?rg.opacity:s}(n||t.blend!==e.blend)&&(a||(Xo(r,i),a=!0),r.globalCompositeOperation=t.blend||rg.blend);for(var o=0;o<uQ.length;o++){var l=uQ[o];(n||t[l]!==e[l])&&(a||(Xo(r,i),a=!0),r[l]=r.dpr*(t[l]||0))}return(n||t.shadowColor!==e.shadowColor)&&(a||(Xo(r,i),a=!0),r.shadowColor=t.shadowColor||rg.shadowColor),a}function fQ(r,t,e,n,i){var a=jb(t,i.inHover),s=n?null:e&&jb(e,i.inHover)||{};if(a===s)return!1;var o=ine(r,a,s,n,i);if((n||a.fill!==s.fill)&&(o||(Xo(r,i),o=!0),sQ(a.fill)&&(r.fillStyle=a.fill)),(n||a.stroke!==s.stroke)&&(o||(Xo(r,i),o=!0),sQ(a.stroke)&&(r.strokeStyle=a.stroke)),(n||a.opacity!==s.opacity)&&(o||(Xo(r,i),o=!0),r.globalAlpha=a.opacity==null?1:a.opacity),t.hasStroke()){var l=a.lineWidth,u=l/(a.strokeNoScale&&t.getLineScale?t.getLineScale():1);r.lineWidth!==u&&(o||(Xo(r,i),o=!0),r.lineWidth=u)}for(var c=0;c<cQ.length;c++){var f=cQ[c],h=f[0];(n||a[h]!==s[h])&&(o||(Xo(r,i),o=!0),r[h]=a[h]||f[1])}return o}function qxe(r,t,e,n,i){return ine(r,jb(t,i.inHover),e&&jb(e,i.inHover),n,i)}function ane(r,t){var e=t.transform,n=r.dpr||1;e?r.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):r.setTransform(n,0,0,n,0,0)}function Xxe(r,t,e){for(var n=!1,i=0;i<r.length;i++){var a=r[i];n=n||a.isZeroArea(),ane(t,a),t.beginPath(),a.buildPath(t,a.shape),t.clip()}e.allClipped=n}function Yxe(r,t){return r&&t?r[0]!==t[0]||r[1]!==t[1]||r[2]!==t[2]||r[3]!==t[3]||r[4]!==t[4]||r[5]!==t[5]:!(!r&&!t)}var hQ=1,dQ=2,AQ=3,pQ=4;function Zxe(r){var t=n6(r),e=r6(r);return!(r.lineDash||!(+t^+e)||t&&typeof r.fill!="string"||e&&typeof r.stroke!="string"||r.strokePercent<1||r.strokeOpacity<1||r.fillOpacity<1)}function Xo(r,t){t.batchFill&&r.fill(),t.batchStroke&&r.stroke(),t.batchFill="",t.batchStroke=""}function jb(r,t){return t&&r.__hoverStyle||r.style}function B9(r,t){Pp(r,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Pp(r,t,e,n){var i=t.transform;if(!t.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1)){t.__dirty&=~Nl,t.__isRendered=!1;return}var a=t.__clipPaths,s=e.prevElClipPaths,o=!1,l=!1;if((!s||zxe(a,s))&&(s&&s.length&&(Xo(r,e),r.restore(),l=o=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),a&&a.length&&(Xo(r,e),r.save(),Xxe(a,r,e),o=!0),e.prevElClipPaths=a),e.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var u=e.prevEl;u||(l=o=!0);var c=t instanceof Xr&&t.autoBatch&&Zxe(t.style);o||Yxe(i,u.transform)?(Xo(r,e),ane(r,t)):c||Xo(r,e);var f=jb(t,e.inHover);t instanceof Xr?(e.lastDrawType!==hQ&&(l=!0,e.lastDrawType=hQ),fQ(r,t,u,l,e),(!c||!e.batchFill&&!e.batchStroke)&&r.beginPath(),Wxe(r,t,f,c),c&&(e.batchFill=f.fill||"",e.batchStroke=f.stroke||"")):t instanceof E1?(e.lastDrawType!==AQ&&(l=!0,e.lastDrawType=AQ),fQ(r,t,u,l,e),Kxe(r,t,f)):t instanceof es?(e.lastDrawType!==dQ&&(l=!0,e.lastDrawType=dQ),qxe(r,t,u,l,e),$xe(r,t,f)):t.getTemporalDisplayables&&(e.lastDrawType!==pQ&&(l=!0,e.lastDrawType=pQ),Jxe(r,t,e)),c&&n&&Xo(r,e),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),e.prevEl=t,t.__dirty=0,t.__isRendered=!0}function Jxe(r,t,e){var n=t.getDisplayables(),i=t.getTemporalDisplayables();r.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:e.viewWidth,viewHeight:e.viewHeight,inHover:e.inHover},s,o;for(s=t.getCursor(),o=n.length;s<o;s++){var l=n[s];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Pp(r,l,a,s===o-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var u=0,c=i.length;u<c;u++){var l=i[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Pp(r,l,a,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}t.clearTemporalDisplayables(),t.notClear=!0,r.restore()}var VT=new Ixe,gQ=new C1(100),mQ=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function I1(r,t){if(r==="none")return null;var e=t.getDevicePixelRatio(),n=t.getZr(),i=n.painter.type==="svg";r.dirty&&VT.delete(r);var a=VT.get(r);if(a)return a;var s=sr(r,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var o={repeat:"repeat"};return l(o),o.rotation=s.rotation,o.scaleX=o.scaleY=i?1:1/e,VT.set(r,o),r.dirty=!1,o;function l(u){for(var c=[e],f=!0,h=0;h<mQ.length;++h){var d=s[mQ[h]];if(d!=null&&!xt(d)&&!Ht(d)&&!an(d)&&typeof d!="boolean"){f=!1;break}c.push(d)}var A;if(f){A=c.join(",")+(i?"-svg":"");var p=gQ.get(A);p&&(i?u.svgElement=p:u.image=p)}var g=one(s.dashArrayX),m=e2e(s.dashArrayY),v=sne(s.symbol),y=t2e(g),b=lne(m),_=!i&&il.createCanvas(),T=i&&{tag:"g",attrs:{},key:"dcl",children:[]},I=F(),N;_&&(_.width=I.width*e,_.height=I.height*e,N=_.getContext("2d")),P(),f&&gQ.put(A,_||T),u.image=_,u.svgElement=T,u.svgWidth=I.width,u.svgHeight=I.height;function F(){for(var D=1,R=0,E=y.length;R<E;++R)D=IU(D,y[R]);for(var L=1,R=0,E=v.length;R<E;++R)L=IU(L,v[R].length);D*=L;var k=b*y.length*v.length;return{width:Math.max(1,Math.min(D,s.maxTileWidth)),height:Math.max(1,Math.min(k,s.maxTileHeight))}}function P(){N&&(N.clearRect(0,0,_.width,_.height),s.backgroundColor&&(N.fillStyle=s.backgroundColor,N.fillRect(0,0,_.width,_.height)));for(var D=0,R=0;R<m.length;++R)D+=m[R];if(D<=0)return;for(var E=-b,L=0,k=0,w=0;E<I.height;){if(L%2===0){for(var C=k/2%v.length,S=0,B=0,O=0;S<I.width*2;){for(var V=0,R=0;R<g[w].length;++R)V+=g[w][R];if(V<=0)break;if(B%2===0){var M=(1-s.symbolSize)*.5,U=S+g[w][B]*M,Q=E+m[L]*M,W=g[w][B]*s.symbolSize,j=m[L]*s.symbolSize,X=O/2%v[C].length;z(U,Q,W,j,v[C][X])}S+=g[w][B],++O,++B,B===g[w].length&&(B=0)}++w,w===g.length&&(w=0)}E+=m[L],++k,++L,L===m.length&&(L=0)}function z(H,K,Z,ie,ee){var ne=i?1:e,te=ia(ee,H*ne,K*ne,Z*ne,ie*ne,s.color,s.symbolKeepAspect);if(i){var le=n.painter.renderOneToVNode(te);le&&T.children.push(le)}else B9(N,te)}}}}function sne(r){if(!r||r.length===0)return[["rect"]];if(Ht(r))return[[r]];for(var t=!0,e=0;e<r.length;++e)if(!Ht(r[e])){t=!1;break}if(t)return sne([r]);for(var n=[],e=0;e<r.length;++e)Ht(r[e])?n.push([r[e]]):n.push(r[e]);return n}function one(r){if(!r||r.length===0)return[[0,0]];if(an(r)){var t=Math.ceil(r);return[[t,t]]}for(var e=!0,n=0;n<r.length;++n)if(!an(r[n])){e=!1;break}if(e)return one([r]);for(var i=[],n=0;n<r.length;++n)if(an(r[n])){var t=Math.ceil(r[n]);i.push([t,t])}else{var t=wt(r[n],function(o){return Math.ceil(o)});t.length%2===1?i.push(t.concat(t)):i.push(t)}return i}function e2e(r){if(!r||typeof r=="object"&&r.length===0)return[0,0];if(an(r)){var t=Math.ceil(r);return[t,t]}var e=wt(r,function(n){return Math.ceil(n)});return r.length%2?e.concat(e):e}function t2e(r){return wt(r,function(t){return lne(t)})}function lne(r){for(var t=0,e=0;e<r.length;++e)t+=r[e];return r.length%2===1?t*2:t}function r2e(r,t){r.eachRawSeries(function(e){if(!r.isSeriesFiltered(e)){var n=e.getData();n.hasItemVisual()&&n.each(function(s){var o=n.getItemVisual(s,"decal");if(o){var l=n.ensureUniqueItemVisual(s,"style");l.decal=I1(o,t)}});var i=n.getVisual("decal");if(i){var a=n.getVisual("style");a.decal=I1(i,t)}}})}var Yu=new Mu,une={};function n2e(r,t){une[r]=t}function cne(r){return une[r]}var fne={};function hne(r,t){fne[r]=t}function i2e(r){return fne[r]}var a2e="6.0.0",s2e={zrender:"6.0.0"},o2e=1,l2e=800,u2e=900,c2e=1e3,f2e=2e3,h2e=5e3,dne=1e3,d2e=1100,T9=2e3,Ane=3e3,A2e=4e3,d8=4500,p2e=4600,g2e=5e3,m2e=6e3,pne=7e3,gne={PROCESSOR:{FILTER:c2e,SERIES_FILTER:l2e,STATISTIC:h2e},VISUAL:{LAYOUT:dne,PROGRESSIVE_LAYOUT:d2e,GLOBAL:T9,CHART:Ane,POST_CHART_LAYOUT:p2e,COMPONENT:A2e,BRUSH:g2e,CHART_ITEM:d8,ARIA:m2e,DECAL:pne}},Ba="__flagInMainProcess",D5="__mainProcessVersion",ns="__pendingUpdate",GT="__needsUpdateStatus",vQ=/^[a-zA-Z0-9_]+$/,WT="__connectUpdateStatus",yQ=0,v2e=1,y2e=2;function mne(r){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.isDisposed()){this.id;return}return yne(this,r,t)}}function vne(r){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return yne(this,r,t)}}function yne(r,t,e){return e[0]=e[0]&&e[0].toLowerCase(),Mu.prototype[t].apply(r,e)}var xne=function(r){Ge(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(Mu),bne=xne.prototype;bne.on=vne("on");bne.off=vne("off");var ep,$T,P5,Yf,R5,KT,qT,vm,ym,xQ,bQ,XT,wQ,O5,_Q,wne,eu,SQ,xm,i6=function(r){Ge(t,r);function t(e,n,i){var a=r.call(this,new Bxe)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},a._dom=e;var s="canvas",o="auto",l=!1;a[D5]=1,i.ssr&&Kee(function(h){var d=pr(h),A=d.dataIndex;if(A!=null){var p=Xt();return p.set("series_index",d.seriesIndex),p.set("data_index",A),d.ssrType&&p.set("ssr_type",d.ssrType),p}});var u=a._zr=iF(e,{renderer:i.renderer||s,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:Zt(i.useDirtyRect,l),useCoarsePointer:Zt(i.useCoarsePointer,o),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=h8(Qt(u.flush,u),17),a._updateTheme(n),a._locale=C1e(i.locale||Zte),a._coordSysMgr=new oy;var c=a._api=_Q(a);function f(h,d){return h.__prio-d.__prio}return E3(s6,f),E3(jF,f),a._scheduler=new Yre(a,c,jF,s6),a._messageCenter=new xne,a._initEvents(),a.resize=Qt(a.resize,a),u.animation.on("frame",a._onframe,a),xQ(u,a),bQ(u,a),_b(a),a}return t.prototype._onframe=function(){if(!this._disposed){SQ(this);var e=this._scheduler;if(this[ns]){var n=this[ns].silent;this[Ba]=!0,xm(this);try{ep(this),Yf.update.call(this,null,this[ns].updateParams)}catch(l){throw this[Ba]=!1,this[ns]=null,l}this._zr.flush(),this[Ba]=!1,this[ns]=null,vm.call(this,n),ym.call(this,n)}else if(e.unfinished){var i=o2e,a=this._model,s=this._api;e.unfinished=!1;do{var o=+new Date;e.performSeriesTasks(a),e.performDataProcessorTasks(a),KT(this,a),e.performVisualTasks(a),O5(this,this._model,s,"remain",{}),i-=+new Date-o}while(i>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,n,i){if(!this[Ba]){if(this._disposed){this.id;return}var a,s,o;if(or(n)&&(i=n.lazyUpdate,a=n.silent,s=n.replaceMerge,o=n.transition,n=n.notMerge),this[Ba]=!0,xm(this),!this._model||n){var l=new lye(this._api),u=this._theme,c=this._model=new y9;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(e,{replaceMerge:s},UF);var f={seriesTransition:o,optionChanged:!0};if(i)this[ns]={silent:a,updateParams:f},this[Ba]=!1,this.getZr().wakeUp();else{try{ep(this),Yf.update.call(this,null,f)}catch(h){throw this[ns]=null,this[Ba]=!1,h}this._ssr||this._zr.flush(),this[ns]=null,this[Ba]=!1,vm.call(this,a),ym.call(this,a)}}},t.prototype.setTheme=function(e,n){if(!this[Ba]){if(this._disposed){this.id;return}var i=this._model;if(i){var a=n&&n.silent,s=null;this[ns]&&(a==null&&(a=this[ns].silent),s=this[ns].updateParams,this[ns]=null),this[Ba]=!0,xm(this);try{this._updateTheme(e),i.setTheme(this._theme),ep(this),Yf.update.call(this,{type:"setTheme"},s)}catch(o){throw this[Ba]=!1,o}this[Ba]=!1,vm.call(this,a),ym.call(this,a)}}},t.prototype._updateTheme=function(e){Ht(e)&&(e=_ne[e]),e&&(e=nr(e),e&&Bre(e,!0),this._theme=e)},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Zr.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){e=e||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:e.backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){e=e||{};var n=this._zr.painter;return n.renderToString({useViewBox:e.useViewBox})},t.prototype.getSvgDataURL=function(){var e=this._zr,n=e.storage.getDisplayList();return se(n,function(i){i.stopAnimation(null,!0)}),e.painter.toDataURL()},t.prototype.getDataURL=function(e){if(this._disposed){this.id;return}e=e||{};var n=e.excludeComponents,i=this._model,a=[],s=this;se(n,function(l){i.eachComponent({mainType:l},function(u){var c=s._componentsMap[u.__viewId];c.group.ignore||(a.push(c),c.group.ignore=!0)})});var o=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return se(a,function(l){l.group.ignore=!1}),o},t.prototype.getConnectedDataURL=function(e){if(this._disposed){this.id;return}var n=e.type==="svg",i=this.group,a=Math.min,s=Math.max,o=1/0;if(o6[i]){var l=o,u=o,c=-o,f=-o,h=[],d=e&&e.pixelRatio||this.getDevicePixelRatio();se(ag,function(y,b){if(y.group===i){var _=n?y.getZr().painter.getSvgDom().innerHTML:y.renderToCanvas(nr(e)),T=y.getDom().getBoundingClientRect();l=a(T.left,l),u=a(T.top,u),c=s(T.right,c),f=s(T.bottom,f),h.push({dom:_,left:T.left,top:T.top})}}),l*=d,u*=d,c*=d,f*=d;var A=c-l,p=f-u,g=il.createCanvas(),m=iF(g,{renderer:n?"svg":"canvas"});if(m.resize({width:A,height:p}),n){var v="";return se(h,function(y){var b=y.left-l,_=y.top-u;v+='<g transform="translate('+b+","+_+')">'+y.dom+"</g>"}),m.painter.getSvgRoot().innerHTML=v,e.connectedBackgroundColor&&m.painter.setBackgroundColor(e.connectedBackgroundColor),m.refreshImmediately(),m.painter.toDataURL()}else return e.connectedBackgroundColor&&m.add(new zr({shape:{x:0,y:0,width:A,height:p},style:{fill:e.connectedBackgroundColor}})),se(h,function(y){var b=new es({style:{x:y.left*d-l,y:y.top*d-u,image:y.dom}});m.add(b)}),m.refreshImmediately(),g.toDataURL("image/"+(e&&e.type||"png"))}else return this.getDataURL(e)},t.prototype.convertToPixel=function(e,n,i){return R5(this,"convertToPixel",e,n,i)},t.prototype.convertToLayout=function(e,n,i){return R5(this,"convertToLayout",e,n,i)},t.prototype.convertFromPixel=function(e,n,i){return R5(this,"convertFromPixel",e,n,i)},t.prototype.containPixel=function(e,n){if(this._disposed){this.id;return}var i=this._model,a,s=zv(i,e);return se(s,function(o,l){l.indexOf("Models")>=0&&se(o,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)a=a||!!c.containPoint(n);else if(l==="seriesModels"){var f=this._chartsMap[u.__viewId];f&&f.containPoint&&(a=a||f.containPoint(n,u))}},this)},this),!!a},t.prototype.getVisual=function(e,n){var i=this._model,a=zv(i,e,{defaultMainType:"series"}),s=a.seriesModel,o=s.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?o.indexOfRawIndex(a.dataIndex):null;return l!=null?S9(o,l,n):Kw(o,n)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e=this;se(x2e,function(i){var a=function(s){var o=e.getModel(),l=s.target,u,c=i==="globalout";if(c?u={}:l&&Lp(l,function(p){var g=pr(p);if(g&&g.dataIndex!=null){var m=g.dataModel||o.getSeriesByIndex(g.seriesIndex);return u=m&&m.getDataParams(g.dataIndex,g.dataType,l)||{},!0}else if(g.eventData)return u=pt({},g.eventData),!0},!0),u){var f=u.componentType,h=u.componentIndex;(f==="markLine"||f==="markPoint"||f==="markArea")&&(f="series",h=u.seriesIndex);var d=f&&h!=null&&o.getComponent(f,h),A=d&&e[d.mainType==="series"?"_chartsMap":"_componentsMap"][d.__viewId];u.event=s,u.type=i,e._$eventProcessor.eventInfo={targetEl:l,packedEvent:u,model:d,view:A},e.trigger(i,u)}};a.zrEventfulCallAtLast=!0,e._zr.on(i,a,e)});var n=this._messageCenter;se(OF,function(i,a){n.on(a,function(s){e.trigger(a,s)})}),kxe(n,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var e=this.getDom();e&&ste(this.getDom(),k9,"");var n=this,i=n._api,a=n._model;se(n._componentsViews,function(s){s.dispose(a,i)}),se(n._chartsViews,function(s){s.dispose(a,i)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete ag[n.id]},t.prototype.resize=function(e){if(!this[Ba]){if(this._disposed){this.id;return}this._zr.resize(e);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var i=n.resetOption("media"),a=e&&e.silent;this[ns]&&(a==null&&(a=this[ns].silent),i=!0,this[ns]=null),this[Ba]=!0,xm(this);try{i&&ep(this),Yf.update.call(this,{type:"resize",animation:pt({duration:0},e&&e.animation)})}catch(s){throw this[Ba]=!1,s}this[Ba]=!1,vm.call(this,a),ym.call(this,a)}}},t.prototype.showLoading=function(e,n){if(this._disposed){this.id;return}if(or(e)&&(n=e,e=""),e=e||"default",this.hideLoading(),!!HF[e]){var i=HF[e](this._api,n),a=this._zr;this._loadingFX=i,a.add(i)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(e){var n=pt({},e);return n.type=RF[e.type],n},t.prototype.dispatchAction=function(e,n){if(this._disposed){this.id;return}if(or(n)||(n={silent:!!n}),!!a6[e.type]&&this._model){if(this[Ba]){this._pendingActions.push(e);return}var i=n.silent;qT.call(this,e,i);var a=n.flush;a?this._zr.flush():a!==!1&&Zr.browser.weChat&&this._throttledZrFlush(),vm.call(this,i),ym.call(this,i)}},t.prototype.updateLabelLayout=function(){Yu.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed){this.id;return}var n=e.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(n);a.appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=function(){ep=function(f){var h=f._scheduler;h.restorePipelines(f._model),h.prepareStageTasks(),$T(f,!0),$T(f,!1),h.plan()},$T=function(f,h){for(var d=f._model,A=f._scheduler,p=h?f._componentsViews:f._chartsViews,g=h?f._componentsMap:f._chartsMap,m=f._zr,v=f._api,y=0;y<p.length;y++)p[y].__alive=!1;h?d.eachComponent(function(T,I){T!=="series"&&b(I)}):d.eachSeries(b);function b(T){var I=T.__requireNewView;T.__requireNewView=!1;var N="_ec_"+T.id+"_"+T.type,F=!I&&g[N];if(!F){var P=cf(T.type),D=h?Hn.getClass(P.main,P.sub):Nn.getClass(P.sub);F=new D,F.init(d,v),g[N]=F,p.push(F),m.add(F.group)}T.__viewId=F.__id=N,F.__alive=!0,F.__model=T,F.group.__ecComponentInfo={mainType:T.mainType,index:T.componentIndex},!h&&A.prepareView(F,T,d,v)}for(var y=0;y<p.length;){var _=p[y];_.__alive?y++:(!h&&_.renderTask.dispose(),m.remove(_.group),_.dispose(d,v),p.splice(y,1),g[_.__id]===_&&delete g[_.__id],_.__id=_.group.__ecComponentInfo=null)}},P5=function(f,h,d,A,p){var g=f._model;if(g.setUpdatePayload(d),!A){se([].concat(f._componentsViews).concat(f._chartsViews),_);return}var m={};m[A+"Id"]=d[A+"Id"],m[A+"Index"]=d[A+"Index"],m[A+"Name"]=d[A+"Name"];var v={mainType:A,query:m};p&&(v.subType=p);var y=d.excludeSeriesId,b;y!=null&&(b=Xt(),se(Un(y),function(T){var I=Na(T,null);I!=null&&b.set(I,!0)})),g&&g.eachComponent(v,function(T){var I=b&&b.get(T.id)!=null;if(!I)if(lH(d))if(T instanceof Ln)d.type===ng&&!d.notBlur&&!T.get(["emphasis","disabled"])&&Tve(T,d,f._api);else{var N=GD(T.mainType,T.componentIndex,d.name,f._api),F=N.focusSelf,P=N.dispatchers;d.type===ng&&F&&!d.notBlur&&gF(T.mainType,T.componentIndex,f._api),P&&se(P,function(D){d.type===ng?zh(D):Vh(D)})}else vF(d)&&T instanceof Ln&&(Nve(T,d,f._api),sH(T),eu(f))},f),g&&g.eachComponent(v,function(T){var I=b&&b.get(T.id)!=null;I||_(f[A==="series"?"_chartsMap":"_componentsMap"][T.__viewId])},f);function _(T){T&&T.__alive&&T[h]&&T[h](T.__model,g,f._api,d)}},Yf={prepareAndUpdate:function(f){ep(this),Yf.update.call(this,f,f&&{optionChanged:f.newOption!=null})},update:function(f,h){var d=this._model,A=this._api,p=this._zr,g=this._coordSysMgr,m=this._scheduler;if(d){d.setUpdatePayload(f),m.restoreData(d,f),m.performSeriesTasks(d),g.create(d,A),m.performDataProcessorTasks(d,f),KT(this,d),g.update(d,A),n(d),m.performVisualTasks(d,f);var v=d.get("backgroundColor")||"transparent";p.setBackgroundColor(v);var y=d.get("darkMode");y!=null&&y!=="auto"&&p.setDarkMode(y),XT(this,d,A,f,h),Yu.trigger("afterupdate",d,A)}},updateTransform:function(f){var h=this,d=this._model,A=this._api;if(d){d.setUpdatePayload(f);var p=[];d.eachComponent(function(m,v){if(m!=="series"){var y=h.getViewOfComponentModel(v);if(y&&y.__alive)if(y.updateTransform){var b=y.updateTransform(v,d,A,f);b&&b.update&&p.push(y)}else p.push(y)}});var g=Xt();d.eachSeries(function(m){var v=h._chartsMap[m.__viewId];if(v.updateTransform){var y=v.updateTransform(m,d,A,f);y&&y.update&&g.set(m.uid,1)}else g.set(m.uid,1)}),n(d),this._scheduler.performVisualTasks(d,f,{setDirty:!0,dirtyMap:g}),O5(this,d,A,f,{},g),Yu.trigger("afterupdate",d,A)}},updateView:function(f){var h=this._model;h&&(h.setUpdatePayload(f),Nn.markUpdateMethod(f,"updateView"),n(h),this._scheduler.performVisualTasks(h,f,{setDirty:!0}),XT(this,h,this._api,f,{}),Yu.trigger("afterupdate",h,this._api))},updateVisual:function(f){var h=this,d=this._model;d&&(d.setUpdatePayload(f),d.eachSeries(function(A){A.getData().clearAllVisual()}),Nn.markUpdateMethod(f,"updateVisual"),n(d),this._scheduler.performVisualTasks(d,f,{visualType:"visual",setDirty:!0}),d.eachComponent(function(A,p){if(A!=="series"){var g=h.getViewOfComponentModel(p);g&&g.__alive&&g.updateVisual(p,d,h._api,f)}}),d.eachSeries(function(A){var p=h._chartsMap[A.__viewId];p.updateVisual(A,d,h._api,f)}),Yu.trigger("afterupdate",d,this._api))},updateLayout:function(f){Yf.update.call(this,f)}};function e(f,h,d,A,p){if(f._disposed){f.id;return}for(var g=f._model,m=f._coordSysMgr.getCoordinateSystems(),v,y=zv(g,d),b=0;b<m.length;b++){var _=m[b];if(_[h]&&(v=_[h](g,y,A,p))!=null)return v}}R5=e,KT=function(f,h){var d=f._chartsMap,A=f._scheduler;h.eachSeries(function(p){A.updateStreamModes(p,d[p.__viewId])})},qT=function(f,h){var d=this,A=this.getModel(),p=f.type,g=f.escapeConnect,m=a6[p],v=(m.update||"update").split(":"),y=v.pop(),b=v[0]!=null&&cf(v[0]);this[Ba]=!0,xm(this);var _=[f],T=!1;f.batch&&(T=!0,_=wt(f.batch,function(w){return w=sr(pt({},w),f),w.batch=null,w}));var I=[],N,F=[],P=m.nonRefinedEventType,D=vF(f),R=lH(f);if(R&&Ete(this._api),se(_,function(w){var C=m.action(w,A,d._api);if(m.refineEvent?F.push(C):N=C,N=N||pt({},w),N.type=P,I.push(N),R){var S=PD(f),B=S.queryOptionMap,O=S.mainTypeSpecified,V=O?B.keys()[0]:"series";P5(d,y,w,V),eu(d)}else D?(P5(d,y,w,"series"),eu(d)):b&&P5(d,y,w,b.main,b.sub)}),y!=="none"&&!R&&!D&&!b)try{this[ns]?(ep(this),Yf.update.call(this,f),this[ns]=null):Yf[y].call(this,f)}catch(w){throw this[Ba]=!1,w}if(T?N={type:P,escapeConnect:g,batch:I}:N=I[0],this[Ba]=!1,!h){var E=void 0;if(m.refineEvent){var L=m.refineEvent(F,f,A,this._api).eventContent;js(or(L)),E=sr({type:m.refinedEventType},L),E.fromAction=f.type,E.fromActionPayload=f,E.escapeConnect=!0}var k=this._messageCenter;k.trigger(N.type,N),E&&k.trigger(E.type,E)}},vm=function(f){for(var h=this._pendingActions;h.length;){var d=h.shift();qT.call(this,d,f)}},ym=function(f){!f&&this.trigger("updated")},xQ=function(f,h){f.on("rendered",function(d){h.trigger("rendered",d),f.animation.isFinished()&&!h[ns]&&!h._scheduler.unfinished&&!h._pendingActions.length&&h.trigger("finished")})},bQ=function(f,h){f.on("mouseover",function(d){var A=d.target,p=Lp(A,Ib);p&&(Eve(p,d,h._api),eu(h))}).on("mouseout",function(d){var A=d.target,p=Lp(A,Ib);p&&(kve(p,d,h._api),eu(h))}).on("click",function(d){var A=d.target,p=Lp(A,function(v){return pr(v).dataIndex!=null},!0);if(p){var g=p.selected?"unselect":"select",m=pr(p);h._api.dispatchAction({type:g,dataType:m.dataType,dataIndexInside:m.dataIndex,seriesIndex:m.seriesIndex,isFromClick:!0})}})};function n(f){f.clearColorPalette(),f.eachSeries(function(h){h.clearColorPalette()})}function i(f){var h=[],d=[],A=!1;if(f.eachComponent(function(v,y){var b=y.get("zlevel")||0,_=y.get("z")||0,T=y.getZLevelKey();A=A||!!T,(v==="series"?d:h).push({zlevel:b,z:_,idx:y.componentIndex,type:v,key:T})}),A){var p=h.concat(d),g,m;E3(p,function(v,y){return v.zlevel===y.zlevel?v.z-y.z:v.zlevel-y.zlevel}),se(p,function(v){var y=f.getComponent(v.type,v.idx),b=v.zlevel,_=v.key;g!=null&&(b=Math.max(g,b)),_?(b===g&&_!==m&&b++,m=_):m&&(b===g&&b++,m=""),g=b,y.setZLevel(b)})}}XT=function(f,h,d,A,p){i(h),wQ(f,h,d,A,p),se(f._chartsViews,function(g){g.__alive=!1}),O5(f,h,d,A,p),se(f._chartsViews,function(g){g.__alive||g.remove(h,d)})},wQ=function(f,h,d,A,p,g){se(g||f._componentsViews,function(m){var v=m.__model;u(v,m),m.render(v,h,d,A),l(v,m),c(v,m)})},O5=function(f,h,d,A,p,g){var m=f._scheduler;p=pt(p||{},{updatedSeries:h.getSeries()}),Yu.trigger("series:beforeupdate",h,d,p);var v=!1;h.eachSeries(function(y){var b=f._chartsMap[y.__viewId];b.__alive=!0;var _=b.renderTask;m.updatePayload(_,A),u(y,b),g&&g.get(y.uid)&&_.dirty(),_.perform(m.getPerformArgs(_))&&(v=!0),b.group.silent=!!y.get("silent"),o(y,b),sH(y)}),m.unfinished=v||m.unfinished,Yu.trigger("series:layoutlabels",h,d,p),Yu.trigger("series:transition",h,d,p),h.eachSeries(function(y){var b=f._chartsMap[y.__viewId];l(y,b),c(y,b)}),s(f,h),Yu.trigger("series:afterupdate",h,d,p)},eu=function(f){f[GT]=!0,f.getZr().wakeUp()},xm=function(f){f[D5]=(f[D5]+1)%1e3},SQ=function(f){f[GT]&&(f.getZr().storage.traverse(function(h){Vv(h)||a(h)}),f[GT]=!1)};function a(f){for(var h=[],d=f.currentStates,A=0;A<d.length;A++){var p=d[A];p==="emphasis"||p==="blur"||p==="select"||h.push(p)}f.selected&&f.states.select&&h.push("select"),f.hoverState===n8&&f.states.emphasis?h.push("emphasis"):f.hoverState===Hw&&f.states.blur&&h.push("blur"),f.useStates(h)}function s(f,h){var d=f._zr,A=d.storage,p=0;A.traverse(function(g){g.isGroup||p++}),p>h.get("hoverLayerThreshold")&&!Zr.node&&!Zr.worker&&h.eachSeries(function(g){if(!g.preventUsingHoverLayer){var m=f._chartsMap[g.__viewId];m.__alive&&m.eachRendered(function(v){v.states.emphasis&&(v.states.emphasis.hoverLayer=!0)})}})}function o(f,h){var d=f.get("blendMode")||null;h.eachRendered(function(A){A.isGroup||(A.style.blend=d)})}function l(f,h){if(!f.preventAutoZ){var d=Sg(f);h.eachRendered(function(A){return s8(A,d.z,d.zlevel),!0})}}function u(f,h){h.eachRendered(function(d){if(!Vv(d)){var A=d.getTextContent(),p=d.getTextGuideLine();d.stateTransition&&(d.stateTransition=null),A&&A.stateTransition&&(A.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),d.hasState()?(d.prevStates=d.currentStates,d.clearStates()):d.prevStates&&(d.prevStates=null)}})}function c(f,h){var d=f.getModel("stateAnimation"),A=f.isAnimationEnabled(),p=d.get("duration"),g=p>0?{duration:p,delay:d.get("delay"),easing:d.get("easing")}:null;h.eachRendered(function(m){if(m.states&&m.states.emphasis){if(Vv(m))return;if(m instanceof Xr&&Pve(m),m.__dirty){var v=m.prevStates;v&&m.useStates(v)}if(A){m.stateTransition=g;var y=m.getTextContent(),b=m.getTextGuideLine();y&&(y.stateTransition=g),b&&(b.stateTransition=g)}m.__dirty&&a(m)}})}_Q=function(f){return new(function(h){Ge(d,h);function d(){return h!==null&&h.apply(this,arguments)||this}return d.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},d.prototype.getComponentByElement=function(A){for(;A;){var p=A.__ecComponentInfo;if(p!=null)return f._model.getComponent(p.mainType,p.index);A=A.parent}},d.prototype.enterEmphasis=function(A,p){zh(A,p),eu(f)},d.prototype.leaveEmphasis=function(A,p){Vh(A,p),eu(f)},d.prototype.enterBlur=function(A){Ste(A),eu(f)},d.prototype.leaveBlur=function(A){VD(A),eu(f)},d.prototype.enterSelect=function(A){Cte(A),eu(f)},d.prototype.leaveSelect=function(A){Bte(A),eu(f)},d.prototype.getModel=function(){return f.getModel()},d.prototype.getViewOfComponentModel=function(A){return f.getViewOfComponentModel(A)},d.prototype.getViewOfSeriesModel=function(A){return f.getViewOfSeriesModel(A)},d.prototype.getMainProcessVersion=function(){return f[D5]},d}(Sre))(f)},wne=function(f){function h(d,A){for(var p=0;p<d.length;p++){var g=d[p];g[WT]=A}}se(RF,function(d,A){f._messageCenter.on(A,function(p){if(o6[f.group]&&f[WT]!==yQ){if(p&&p.escapeConnect)return;var g=f.makeActionFromEvent(p),m=[];se(ag,function(v){v!==f&&v.group===f.group&&m.push(v)}),h(m,yQ),se(m,function(v){v[WT]!==v2e&&v.dispatchAction(g)}),h(m,y2e)}})})}}(),t}(Mu),E9=i6.prototype;E9.on=mne("on");E9.off=mne("off");E9.one=function(r,t,e){var n=this;function i(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];t&&t.apply&&t.apply(this,a),n.off(r,i)}this.on.call(this,r,i,e)};var x2e=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var a6={},RF={},OF={},jF=[],UF=[],s6=[],_ne={},HF={},ag={},o6={},b2e=+new Date-0,w2e=+new Date-0,k9="_echarts_instance_";function _2e(r,t,e){var n=!(e&&e.ssr);if(n){var i=N9(r);if(i)return i}var a=new i6(r,t,e);return a.id="ec_"+b2e++,ag[a.id]=a,n&&ste(r,k9,a.id),wne(a),Yu.trigger("afterinit",a),a}function S2e(r){if(xt(r)){var t=r;r=null,se(t,function(e){e.group!=null&&(r=e.group)}),r=r||"g_"+w2e++,se(t,function(e){e.group=r})}return o6[r]=!0,r}function Sne(r){o6[r]=!1}var C2e=Sne;function B2e(r){Ht(r)?r=ag[r]:r instanceof i6||(r=N9(r)),r instanceof i6&&!r.isDisposed()&&r.dispose()}function N9(r){return ag[_me(r,k9)]}function T2e(r){return ag[r]}function F9(r,t){_ne[r]=t}function I9(r){Lr(UF,r)<0&&UF.push(r)}function M9(r,t){L9(jF,r,t,f2e)}function Cne(r){A8("afterinit",r)}function Bne(r){A8("afterupdate",r)}function A8(r,t){Yu.on(r,t)}function Bc(r,t,e){var n,i,a,s,o;rr(t)&&(e=t,t=""),or(r)?(n=r.type,i=r.event,s=r.update,o=r.publishNonRefinedEvent,e||(e=r.action),a=r.refineEvent):(n=r,i=t);function l(c){return c.toLowerCase()}i=l(i||n);var u=a?l(n):i;a6[n]||(js(vQ.test(n)&&vQ.test(i)),a&&js(i!==n),a6[n]={actionType:n,refinedEventType:i,nonRefinedEventType:u,update:s,action:e,refineEvent:a},OF[i]=1,a&&o&&(OF[u]=1),RF[u]=n)}function Tne(r,t){oy.register(r,t)}function E2e(r){var t=oy.get(r);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function k2e(r,t){hne(r,t)}function Ene(r,t){L9(s6,r,t,dne,"layout")}function A0(r,t){L9(s6,r,t,Ane,"visual")}var CQ=[];function L9(r,t,e,n,i){if((rr(t)||or(t))&&(e=t,t=n),!(Lr(CQ,e)>=0)){CQ.push(e);var a=Yre.wrapStageHandler(e,i);a.__prio=t,a.__raw=e,r.push(a)}}function D9(r,t){HF[r]=t}function N2e(r){fee({createCanvas:r})}function kne(r,t,e){var n=cne("registerMap");n&&n(r,t,e)}function F2e(r){var t=cne("getMap");return t&&t(r)}var Nne=Uye;A0(T9,hxe);A0(d8,dxe);A0(d8,Axe);A0(T9,Txe);A0(d8,Exe);A0(pne,r2e);I9(Bre);M9(u2e,xye);D9("default",pxe);Bc({type:ng,event:ng,update:ng},Ri);Bc({type:D3,event:D3,update:D3},Ri);Bc({type:WS,event:QD,update:WS,action:Ri,refineEvent:P9,publishNonRefinedEvent:!0});Bc({type:AF,event:QD,update:AF,action:Ri,refineEvent:P9,publishNonRefinedEvent:!0});Bc({type:$S,event:QD,update:$S,action:Ri,refineEvent:P9,publishNonRefinedEvent:!0});function P9(r,t,e,n){return{eventContent:{selected:Fve(e),isFromClick:t.isFromClick||!1}}}F9("default",{});F9("dark",tne);var I2e={},BQ=[],M2e={registerPreprocessor:I9,registerProcessor:M9,registerPostInit:Cne,registerPostUpdate:Bne,registerUpdateLifecycle:A8,registerAction:Bc,registerCoordinateSystem:Tne,registerLayout:Ene,registerVisual:A0,registerTransform:Nne,registerLoading:D9,registerMap:kne,registerImpl:n2e,PRIORITY:gne,ComponentModel:$r,ComponentView:Hn,SeriesModel:Ln,ChartView:Nn,registerComponentModel:function(r){$r.registerClass(r)},registerComponentView:function(r){Hn.registerClass(r)},registerSeriesModel:function(r){Ln.registerClass(r)},registerChartView:function(r){Nn.registerClass(r)},registerCustomSeries:function(r,t){hne(r,t)},registerSubTypeDefaulter:function(r,t){$r.registerSubTypeDefaulter(r,t)},registerPainter:function(r,t){Wee(r,t)}};function Or(r){if(xt(r)){se(r,function(t){Or(t)});return}Lr(BQ,r)>=0||(BQ.push(r),rr(r)&&(r={install:r}),r.install(M2e))}function lx(r){return r==null?0:r.length||1}function TQ(r){return r}var Gh=function(){function r(t,e,n,i,a,s){this._old=t,this._new=e,this._oldKeyGetter=n||TQ,this._newKeyGetter=i||TQ,this.context=a,this._diffModeMultiple=s==="multiple"}return r.prototype.add=function(t){return this._add=t,this},r.prototype.update=function(t){return this._update=t,this},r.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},r.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},r.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},r.prototype.remove=function(t){return this._remove=t,this},r.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},r.prototype._executeOneToOne=function(){var t=this._old,e=this._new,n={},i=new Array(t.length),a=new Array(e.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(e,n,a,"_newKeyGetter");for(var s=0;s<t.length;s++){var o=i[s],l=n[o],u=lx(l);if(u>1){var c=l.shift();l.length===1&&(n[o]=l[0]),this._update&&this._update(c,s)}else u===1?(n[o]=null,this._update&&this._update(l,s)):this._remove&&this._remove(s)}this._performRestAdd(a,n)},r.prototype._executeMultiple=function(){var t=this._old,e=this._new,n={},i={},a=[],s=[];this._initIndexMap(t,n,a,"_oldKeyGetter"),this._initIndexMap(e,i,s,"_newKeyGetter");for(var o=0;o<a.length;o++){var l=a[o],u=n[l],c=i[l],f=lx(u),h=lx(c);if(f>1&&h===1)this._updateManyToOne&&this._updateManyToOne(c,u),i[l]=null;else if(f===1&&h>1)this._updateOneToMany&&this._updateOneToMany(c,u),i[l]=null;else if(f===1&&h===1)this._update&&this._update(c,u),i[l]=null;else if(f>1&&h>1)this._updateManyToMany&&this._updateManyToMany(c,u),i[l]=null;else if(f>1)for(var d=0;d<f;d++)this._remove&&this._remove(u[d]);else this._remove&&this._remove(u)}this._performRestAdd(s,i)},r.prototype._performRestAdd=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],a=e[i],s=lx(a);if(s>1)for(var o=0;o<s;o++)this._add&&this._add(a[o]);else s===1&&this._add&&this._add(a);e[i]=null}},r.prototype._initIndexMap=function(t,e,n,i){for(var a=this._diffModeMultiple,s=0;s<t.length;s++){var o="_ec_"+this[i](t[s],s);if(a||(n[s]=o),!!e){var l=e[o],u=lx(l);u===0?(e[o]=s,a&&n.push(o)):u===1?e[o]=[l,s]:l.push(s)}}},r}(),L2e=function(){function r(t,e){this._encode=t,this._schema=e}return r.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},r.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},r}();function D2e(r,t){var e={},n=e.encode={},i=Xt(),a=[],s=[],o={};se(r.dimensions,function(h){var d=r.getDimensionInfo(h),A=d.coordDim;if(A){var p=d.coordDimIndex;YT(n,A)[p]=h,d.isExtraCoord||(i.set(A,1),P2e(d.type)&&(a[0]=h),YT(o,A)[p]=r.getDimensionIndex(d.name)),d.defaultTooltip&&s.push(h)}mre.each(function(g,m){var v=YT(n,m),y=d.otherDims[m];y!=null&&y!==!1&&(v[y]=d.name)})});var l=[],u={};i.each(function(h,d){var A=n[d];u[d]=A[0],l=l.concat(A)}),e.dataDimsOnCoord=l,e.dataDimIndicesOnCoord=wt(l,function(h){return r.getDimensionInfo(h).storeDimIndex}),e.encodeFirstDimNotExtra=u;var c=n.label;c&&c.length&&(a=c.slice());var f=n.tooltip;return f&&f.length?s=f.slice():s.length||(s=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=s,e.userOutput=new L2e(o,t),e}function YT(r,t){return r.hasOwnProperty(t)||(r[t]=[]),r[t]}function l6(r){return r==="category"?"ordinal":r==="time"?"time":"float"}function P2e(r){return!(r==="ordinal"||r==="time")}var Q3=function(){function r(t){this.otherDims={},t!=null&&pt(this,t)}return r}(),R2e=Kr(),O2e={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Fne=function(){function r(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return r.prototype.isDimensionOmitted=function(){return this._dimOmitted},r.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=Lne(this.source)))},r.prototype.getSourceDimensionIndex=function(t){return Zt(this._dimNameMap.get(t),-1)},r.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},r.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=Ere(this.source),n=!Dne(t),i="",a=[],s=0,o=0;s<t;s++){var l=void 0,u=void 0,c=void 0,f=this.dimensions[o];if(f&&f.storeDimIndex===s)l=e?f.name:null,u=f.type,c=f.ordinalMeta,o++;else{var h=this.getSourceDimension(s);h&&(l=e?h.name:null,u=h.type)}a.push({property:l,type:u,ordinalMeta:c}),e&&l!=null&&(!f||!f.isCalculationCoord)&&(i+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=O2e[u]||"f",c&&(i+=c.uid),i+="$"}var d=this.source,A=[d.seriesLayoutBy,d.startIndex,i].join("$$");return{dimensions:a,hash:A}},r.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,n=0;e<this._fullDimCount;e++){var i=void 0,a=this.dimensions[n];if(a&&a.storeDimIndex===e)a.isCalculationCoord||(i=a.name),n++;else{var s=this.getSourceDimension(e);s&&(i=s.name)}t.push(i)}return t},r.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},r}();function Ine(r){return r instanceof Fne}function Mne(r){for(var t=Xt(),e=0;e<(r||[]).length;e++){var n=r[e],i=or(n)?n.name:n;i!=null&&t.get(i)==null&&t.set(i,e)}return t}function Lne(r){var t=R2e(r);return t.dimNameMap||(t.dimNameMap=Mne(r.dimensionsDefine))}function Dne(r){return r>30}var ux=or,Bd=wt,j2e=typeof Int32Array>"u"?Array:Int32Array,U2e="e\0\0",EQ=-1,H2e=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Q2e=["_approximateExtent"],kQ,j5,cx,fx,ZT,hx,JT,lo=function(){function r(t,e){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,i=!1;Ine(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(i=!0,n=t),n=n||["x","y"];for(var a={},s=[],o={},l=!1,u={},c=0;c<n.length;c++){var f=n[c],h=Ht(f)?new Q3({name:f}):f instanceof Q3?f:new Q3(f),d=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=d,h.coordDimIndex=0);var A=h.otherDims=h.otherDims||{};s.push(d),a[d]=h,u[d]!=null&&(l=!0),h.createInvertedIndices&&(o[d]=[]);var p=c;an(h.storeDimIndex)&&(p=h.storeDimIndex),A.itemName===0&&(this._nameDimIdx=p),A.itemId===0&&(this._idDimIdx=p),i&&(h.storeDimIndex=c)}if(this.dimensions=s,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=e,this._invertedIndicesMap=o,this._dimOmitted){var g=this._dimIdxToName=Xt();se(s,function(m){g.set(a[m].storeDimIndex,m)})}}return r.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(e==null)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var n=this._dimIdxToName.get(e);if(n!=null)return n;var i=this._schema.getSourceDimension(e);if(i)return i.name},r.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(e!=null)return e;if(t==null)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},r.prototype._recognizeDimIndex=function(t){if(an(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},r.prototype._getStoreDimIndex=function(t){var e=this.getDimensionIndex(t);return e},r.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},r.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(n){return e.hasOwnProperty(n)?e[n]:void 0}:function(n){return e[n]}},r.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},r.prototype.mapDimension=function(t,e){var n=this._dimSummary;if(e==null)return n.encodeFirstDimNotExtra[t];var i=n.encode[t];return i?i[e]:null},r.prototype.mapDimensionsAll=function(t){var e=this._dimSummary,n=e.encode[t];return(n||[]).slice()},r.prototype.getStore=function(){return this._store},r.prototype.initData=function(t,e,n){var i=this,a;if(t instanceof NF&&(a=t),!a){var s=this.dimensions,o=x9(t)||Os(t)?new kre(t,s.length):t;a=new NF;var l=Bd(s,function(u){return{type:i._dimInfos[u].type,property:u}});a.initData(o,l,n)}this._store=a,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=D2e(this,this._schema),this.userOutput=this._dimSummary.userOutput},r.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},r.prototype.appendValues=function(t,e){var n=this._store.appendValues(t,e&&e.length),i=n.start,a=n.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var o=i;o<a;o++){var l=o-i;this._nameList[o]=e[l],s&&JT(this,o)}},r.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,n=0;n<e.length;n++){var i=this._dimInfos[e[n]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},r.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==PA&&!t.fillStorage},r.prototype._doInit=function(t,e){if(!(t>=e)){var n=this._store,i=n.getProvider();this._updateOrdinalMeta();var a=this._nameList,s=this._idList,o=i.getSource().sourceFormat,l=o===Wl;if(l&&!i.pure)for(var u=[],c=t;c<e;c++){var f=i.getItem(c,u);if(!this.hasItemOption&&cme(f)&&(this.hasItemOption=!0),f){var h=f.name;a[c]==null&&h!=null&&(a[c]=Na(h,null));var d=f.id;s[c]==null&&d!=null&&(s[c]=Na(d,null))}}if(this._shouldMakeIdFromName())for(var c=t;c<e;c++)JT(this,c);kQ(this)}},r.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},r.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},r.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},r.prototype.setCalculationInfo=function(t,e){ux(t)?pt(this._calculationInfo,t):this._calculationInfo[t]=e},r.prototype.getName=function(t){var e=this.getRawIndex(t),n=this._nameList[e];return n==null&&this._nameDimIdx!=null&&(n=cx(this,this._nameDimIdx,e)),n==null&&(n=""),n},r.prototype._getCategory=function(t,e){var n=this._store.get(t,e),i=this._store.getOrdinalMeta(t);return i?i.categories[n]:n},r.prototype.getId=function(t){return j5(this,this.getRawIndex(t))},r.prototype.count=function(){return this._store.count()},r.prototype.get=function(t,e){var n=this._store,i=this._dimInfos[t];if(i)return n.get(i.storeDimIndex,e)},r.prototype.getByRawIndex=function(t,e){var n=this._store,i=this._dimInfos[t];if(i)return n.getByRawIndex(i.storeDimIndex,e)},r.prototype.getIndices=function(){return this._store.getIndices()},r.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},r.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},r.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},r.prototype.getValues=function(t,e){var n=this,i=this._store;return xt(t)?i.getValues(Bd(t,function(a){return n._getStoreDimIndex(a)}),e):i.getValues(t)},r.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,n=0,i=e.length;n<i;n++)if(isNaN(this._store.get(e[n],t)))return!1;return!0},r.prototype.indexOfName=function(t){for(var e=0,n=this._store.count();e<n;e++)if(this.getName(e)===t)return e;return-1},r.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},r.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},r.prototype.rawIndexOf=function(t,e){var n=t&&this._invertedIndicesMap[t],i=n&&n[e];return i==null||isNaN(i)?EQ:i},r.prototype.each=function(t,e,n){rr(t)&&(n=e,e=t,t=[]);var i=n||this,a=Bd(fx(t),this._getStoreDimIndex,this);this._store.each(a,i?Qt(e,i):e)},r.prototype.filterSelf=function(t,e,n){rr(t)&&(n=e,e=t,t=[]);var i=n||this,a=Bd(fx(t),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?Qt(e,i):e),this},r.prototype.selectRange=function(t){var e=this,n={},i=en(t);return se(i,function(a){var s=e._getStoreDimIndex(a);n[s]=t[a]}),this._store=this._store.selectRange(n),this},r.prototype.mapArray=function(t,e,n){rr(t)&&(n=e,e=t,t=[]),n=n||this;var i=[];return this.each(t,function(){i.push(e&&e.apply(this,arguments))},n),i},r.prototype.map=function(t,e,n,i){var a=n||i||this,s=Bd(fx(t),this._getStoreDimIndex,this),o=hx(this);return o._store=this._store.map(s,a?Qt(e,a):e),o},r.prototype.modify=function(t,e,n,i){var a=n||i||this,s=Bd(fx(t),this._getStoreDimIndex,this);this._store.modify(s,a?Qt(e,a):e)},r.prototype.downSample=function(t,e,n,i){var a=hx(this);return a._store=this._store.downSample(this._getStoreDimIndex(t),e,n,i),a},r.prototype.minmaxDownSample=function(t,e){var n=hx(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),e),n},r.prototype.lttbDownSample=function(t,e){var n=hx(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),n},r.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},r.prototype.getItemModel=function(t){var e=this.hostModel,n=this.getRawDataItem(t);return new qr(n,e,e&&e.ecModel)},r.prototype.diff=function(t){var e=this;return new Gh(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(n){return j5(t,n)},function(n){return j5(e,n)})},r.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},r.prototype.setVisual=function(t,e){this._visual=this._visual||{},ux(t)?pt(this._visual,t):this._visual[t]=e},r.prototype.getItemVisual=function(t,e){var n=this._itemVisuals[t],i=n&&n[e];return i??this.getVisual(e)},r.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},r.prototype.ensureUniqueItemVisual=function(t,e){var n=this._itemVisuals,i=n[t];i||(i=n[t]={});var a=i[e];return a==null&&(a=this.getVisual(e),xt(a)?a=a.slice():ux(a)&&(a=pt({},a)),i[e]=a),a},r.prototype.setItemVisual=function(t,e,n){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,ux(e)?pt(i,e):i[e]=n},r.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},r.prototype.setLayout=function(t,e){ux(t)?pt(this._layout,t):this._layout[t]=e},r.prototype.getLayout=function(t){return this._layout[t]},r.prototype.getItemLayout=function(t){return this._itemLayouts[t]},r.prototype.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?pt(this._itemLayouts[t]||{},e):e},r.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},r.prototype.setItemGraphicEl=function(t,e){var n=this.hostModel&&this.hostModel.seriesIndex;dF(n,this.dataType,t,e),this._graphicEls[t]=e},r.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},r.prototype.eachItemGraphicEl=function(t,e){se(this._graphicEls,function(n,i){n&&t&&t.call(e,n,i)})},r.prototype.cloneShallow=function(t){return t||(t=new r(this._schema?this._schema:Bd(this.dimensions,this._getDimInfo,this),this.hostModel)),ZT(t,this),t._store=this._store,t},r.prototype.wrapMethod=function(t,e){var n=this[t];rr(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var i=n.apply(this,arguments);return e.apply(this,[i].concat(VC(arguments)))})},r.internalField=function(){kQ=function(t){var e=t._invertedIndicesMap;se(e,function(n,i){var a=t._dimInfos[i],s=a.ordinalMeta,o=t._store;if(s){n=e[i]=new j2e(s.categories.length);for(var l=0;l<n.length;l++)n[l]=EQ;for(var l=0;l<o.count();l++)n[o.get(a.storeDimIndex,l)]=l}})},cx=function(t,e,n){return Na(t._getCategory(e,n),null)},j5=function(t,e){var n=t._idList[e];return n==null&&t._idDimIdx!=null&&(n=cx(t,t._idDimIdx,e)),n==null&&(n=U2e+e),n},fx=function(t){return xt(t)||(t=t!=null?[t]:[]),t},hx=function(t){var e=new r(t._schema?t._schema:Bd(t.dimensions,t._getDimInfo,t),t.hostModel);return ZT(e,t),e},ZT=function(t,e){se(H2e.concat(e.__wrappedMethods||[]),function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t.__wrappedMethods=e.__wrappedMethods,se(Q2e,function(n){t[n]=nr(e[n])}),t._calculationInfo=pt({},e._calculationInfo)},JT=function(t,e){var n=t._nameList,i=t._idList,a=t._nameDimIdx,s=t._idDimIdx,o=n[e],l=i[e];if(o==null&&a!=null&&(n[e]=o=cx(t,a,e)),l==null&&s!=null&&(i[e]=l=cx(t,s,e)),l==null&&o!=null){var u=t._nameRepeatCount,c=u[o]=(u[o]||0)+1;l=o,c>1&&(l+="__ec__"+c),i[e]=l}}}(),r}();function z2e(r,t){return fy(r,t).dimensions}function fy(r,t){x9(r)||(r=b9(r)),t=t||{};var e=t.coordDimensions||[],n=t.dimensionsDefine||r.dimensionsDefine||[],i=Xt(),a=[],s=G2e(r,e,n,t.dimensionsCount),o=t.canOmitUnusedDimensions&&Dne(s),l=n===r.dimensionsDefine,u=l?Lne(r):Mne(n),c=t.encodeDefine;!c&&t.encodeDefaulter&&(c=t.encodeDefaulter(r,s));for(var f=Xt(c),h=new Rre(s),d=0;d<h.length;d++)h[d]=-1;function A(F){var P=h[F];if(P<0){var D=n[F],R=or(D)?D:{name:D},E=new Q3,L=R.name;L!=null&&u.get(L)!=null&&(E.name=E.displayName=L),R.type!=null&&(E.type=R.type),R.displayName!=null&&(E.displayName=R.displayName);var k=a.length;return h[F]=k,E.storeDimIndex=F,a.push(E),E}return a[P]}if(!o)for(var d=0;d<s;d++)A(d);f.each(function(F,P){var D=Un(F).slice();if(D.length===1&&!Ht(D[0])&&D[0]<0){f.set(P,!1);return}var R=f.set(P,[]);se(D,function(E,L){var k=Ht(E)?u.get(E):E;k!=null&&k<s&&(R[L]=k,g(A(k),P,L))})});var p=0;se(e,function(F){var P,D,R,E;if(Ht(F))P=F,E={};else{E=F,P=E.name;var L=E.ordinalMeta;E.ordinalMeta=null,E=pt({},E),E.ordinalMeta=L,D=E.dimsDef,R=E.otherDims,E.name=E.coordDim=E.coordDimIndex=E.dimsDef=E.otherDims=null}var k=f.get(P);if(k!==!1){if(k=Un(k),!k.length)for(var w=0;w<(D&&D.length||1);w++){for(;p<s&&A(p).coordDim!=null;)p++;p<s&&k.push(p++)}se(k,function(C,S){var B=A(C);if(l&&E.type!=null&&(B.type=E.type),g(sr(B,E),P,S),B.name==null&&D){var O=D[S];!or(O)&&(O={name:O}),B.name=B.displayName=O.name,B.defaultTooltip=O.defaultTooltip}R&&sr(B.otherDims,R)})}});function g(F,P,D){mre.get(P)!=null?F.otherDims[P]=D:(F.coordDim=P,F.coordDimIndex=D,i.set(P,!0))}var m=t.generateCoord,v=t.generateCoordCount,y=v!=null;v=m?v||1:0;var b=m||"value";function _(F){F.name==null&&(F.name=F.coordDim)}if(o)se(a,function(F){_(F)}),a.sort(function(F,P){return F.storeDimIndex-P.storeDimIndex});else for(var T=0;T<s;T++){var I=A(T),N=I.coordDim;N==null&&(I.coordDim=W2e(b,i,y),I.coordDimIndex=0,(!m||v<=0)&&(I.isExtraCoord=!0),v--),_(I),I.type==null&&(bre(r,T)===Cs.Must||I.isExtraCoord&&(I.otherDims.itemName!=null||I.otherDims.seriesName!=null))&&(I.type="ordinal")}return V2e(a),new Fne({source:r,dimensions:a,fullDimensionCount:s,dimensionOmitted:o})}function V2e(r){for(var t=Xt(),e=0;e<r.length;e++){var n=r[e],i=n.name,a=t.get(i)||0;a>0&&(n.name=i+(a-1)),a++,t.set(i,a)}}function G2e(r,t,e,n){var i=Math.max(r.dimensionsDetectedCount||1,t.length,e.length,n||0);return se(t,function(a){var s;or(a)&&(s=a.dimsDef)&&(i=Math.max(i,s.length))}),i}function W2e(r,t,e){if(e||t.hasKey(r)){for(var n=0;t.hasKey(r+n);)n++;r+=n}return t.set(r,!0),r}var $2e=function(){function r(t){this.coordSysDims=[],this.axisMap=Xt(),this.categoryAxisMap=Xt(),this.coordSysName=t}return r}();function K2e(r){var t=r.get("coordinateSystem"),e=new $2e(t),n=q2e[t];if(n)return n(r,e,e.axisMap,e.categoryAxisMap),e}var q2e={cartesian2d:function(r,t,e,n){var i=r.getReferringComponents("xAxis",Ni).models[0],a=r.getReferringComponents("yAxis",Ni).models[0];t.coordSysDims=["x","y"],e.set("x",i),e.set("y",a),bm(i)&&(n.set("x",i),t.firstCategoryDimIndex=0),bm(a)&&(n.set("y",a),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(r,t,e,n){var i=r.getReferringComponents("singleAxis",Ni).models[0];t.coordSysDims=["single"],e.set("single",i),bm(i)&&(n.set("single",i),t.firstCategoryDimIndex=0)},polar:function(r,t,e,n){var i=r.getReferringComponents("polar",Ni).models[0],a=i.findAxisModel("radiusAxis"),s=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",a),e.set("angle",s),bm(a)&&(n.set("radius",a),t.firstCategoryDimIndex=0),bm(s)&&(n.set("angle",s),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(r,t,e,n){t.coordSysDims=["lng","lat"]},parallel:function(r,t,e,n){var i=r.ecModel,a=i.getComponent("parallel",r.get("parallelIndex")),s=t.coordSysDims=a.dimensions.slice();se(a.parallelAxisIndex,function(o,l){var u=i.getComponent("parallelAxis",o),c=s[l];e.set(c,u),bm(u)&&(n.set(c,u),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=l))})},matrix:function(r,t,e,n){var i=r.getReferringComponents("matrix",Ni).models[0];t.coordSysDims=["x","y"];var a=i.getDimensionModel("x"),s=i.getDimensionModel("y");e.set("x",a),e.set("y",s),n.set("x",a),n.set("y",s)}};function bm(r){return r.get("type")==="category"}function Pne(r,t,e){e=e||{};var n=e.byIndex,i=e.stackedCoordDimension,a,s,o;X2e(t)?a=t:(s=t.schema,a=s.dimensions,o=t.store);var l=!!(r&&r.get("stack")),u,c,f,h;if(se(a,function(v,y){Ht(v)&&(a[y]=v={name:v}),l&&!v.isExtraCoord&&(!n&&!u&&v.ordinalMeta&&(u=v),!c&&v.type!=="ordinal"&&v.type!=="time"&&(!i||i===v.coordDim)&&(c=v))}),c&&!n&&!u&&(n=!0),c){f="__\0ecstackresult_"+r.id,h="__\0ecstackedover_"+r.id,u&&(u.createInvertedIndices=!0);var d=c.coordDim,A=c.type,p=0;se(a,function(v){v.coordDim===d&&p++});var g={name:f,coordDim:d,coordDimIndex:p,type:A,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},m={name:h,coordDim:h,coordDimIndex:p+1,type:A,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};s?(o&&(g.storeDimIndex=o.ensureCalculationDimension(h,A),m.storeDimIndex=o.ensureCalculationDimension(f,A)),s.appendCalculationDimension(g),s.appendCalculationDimension(m)):(a.push(g),a.push(m))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:n,stackedOverDimension:h,stackResultDimension:f}}function X2e(r){return!Ine(r.schema)}function Wh(r,t){return!!t&&t===r.getCalculationInfo("stackedDimension")}function R9(r,t){return Wh(r,t)?r.getCalculationInfo("stackResultDimension"):t}function Y2e(r,t){var e=r.get("coordinateSystem"),n=oy.get(e),i;return t&&t.coordSysDims&&(i=wt(t.coordSysDims,function(a){var s={name:a},o=t.axisMap.get(a);if(o){var l=o.get("type");s.type=l6(l)}return s})),i||(i=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),i}function Z2e(r,t,e){var n,i;return e&&se(r,function(a,s){var o=a.coordDim,l=e.categoryAxisMap.get(o);l&&(n==null&&(n=s),a.ordinalMeta=l.getOrdinalMeta(),t&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&n!=null&&(r[n].otherDims.itemName=0),n}function Df(r,t,e){e=e||{};var n=t.getSourceManager(),i,a=!1;r?(a=!0,i=b9(r)):(i=n.getSource(),a=i.sourceFormat===Wl);var s=K2e(t),o=Y2e(t,s),l=e.useEncodeDefaulter,u=rr(l)?l:l?Nr(xre,o,t):null,c={coordDimensions:o,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!a},f=fy(i,c),h=Z2e(f.dimensions,e.createInvertedIndices,s),d=a?null:n.getSharedDataStore(f),A=Pne(t,{schema:f,store:d}),p=new lo(f,t);p.setCalculationInfo(A);var g=h!=null&&J2e(i)?function(m,v,y,b){return b===h?y:this.defaultDimValueGetter(m,v,y,b)}:null;return p.hasItemOption=!1,p.initData(a?i:d,null,g),p}function J2e(r){if(r.sourceFormat===Wl){var t=ebe(r.data||[]);return!xt(Y1(t))}}function ebe(r){for(var t=0;t<r.length&&r[t]==null;)t++;return r[t]}function QF(r){return r.type==="interval"||r.type==="log"}function tbe(r,t,e,n,i){var a={},s=a.interval=MD(t/e,!0);n!=null&&s<n&&(s=a.interval=n),i!=null&&s>i&&(s=a.interval=i);var o=a.intervalPrecision=Ub(s),l=a.niceTickExtent=[ta(Math.ceil(r[0]/s)*s,o),ta(Math.floor(r[1]/s)*s,o)];return rbe(l,r),a}function eE(r){var t=Math.pow(10,XC(r)),e=r/t;return e?e===2?e=3:e===3?e=5:e*=2:e=1,ta(e*t)}function Ub(r){return oc(r)+2}function NQ(r,t,e){r[t]=Math.max(Math.min(r[t],e[1]),e[0])}function rbe(r,t){!isFinite(r[0])&&(r[0]=t[0]),!isFinite(r[1])&&(r[1]=t[1]),NQ(r,0,t),NQ(r,1,t),r[0]>r[1]&&(r[0]=r[1])}function O9(r,t){return r>=t[0]&&r<=t[1]}var nbe=function(){function r(){this.normalize=FQ,this.scale=IQ}return r.prototype.updateMethods=function(t){t.hasBreaks()?(this.normalize=Qt(t.normalize,t),this.scale=Qt(t.scale,t)):(this.normalize=FQ,this.scale=IQ)},r}();function FQ(r,t){return t[1]===t[0]?.5:(r-t[0])/(t[1]-t[0])}function IQ(r,t){return r*(t[1]-t[0])+t[0]}function zF(r,t,e){var n=Math.log(r);return[Math.log(e?t[0]:Math.max(0,t[0]))/n,Math.log(e?t[1]:Math.max(0,t[1]))/n]}var p0=function(){function r(t){this._calculator=new nbe,this._setting=t||{},this._extent=[1/0,-1/0];var e=ma();e&&(this._brkCtx=e.createScaleBreakContext(),this._brkCtx.update(this._extent))}return r.prototype.getSetting=function(t){return this._setting[t]},r.prototype._innerUnionExtent=function(t){var e=this._extent;this._innerSetExtent(t[0]<e[0]?t[0]:e[0],t[1]>e[1]?t[1]:e[1])},r.prototype.unionExtentFromData=function(t,e){this._innerUnionExtent(t.getApproximateExtent(e))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.setExtent=function(t,e){this._innerSetExtent(t,e)},r.prototype._innerSetExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e),this._brkCtx&&this._brkCtx.update(n)},r.prototype.setBreaksFromOption=function(t){var e=ma();e&&this._innerSetBreak(e.parseAxisBreakOption(t,Qt(this.parse,this)))},r.prototype._innerSetBreak=function(t){this._brkCtx&&(this._brkCtx.setBreaks(t),this._calculator.updateMethods(this._brkCtx),this._brkCtx.update(this._extent))},r.prototype._innerGetBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},r.prototype.hasBreaks=function(){return this._brkCtx?this._brkCtx.hasBreaks():!1},r.prototype._getExtentSpanWithBreaks=function(){return this._brkCtx&&this._brkCtx.hasBreaks()?this._brkCtx.getExtentSpan():this._extent[1]-this._extent[0]},r.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},r.prototype.isBlank=function(){return this._isBlank},r.prototype.setBlank=function(t){this._isBlank=t},r}();YC(p0);var ibe=0,Hb=function(){function r(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++ibe,this._onCollect=t.onCollect}return r.createByAxisModel=function(t){var e=t.option,n=e.data,i=n&&wt(n,abe);return new r({categories:i,needCollect:!i,deduplication:e.dedplication!==!1})},r.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},r.prototype.parseAndCollect=function(t){var e,n=this._needCollect;if(!Ht(t)&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,this._onCollect&&this._onCollect(t,e),e;var i=this._getOrCreateMap();return e=i.get(t),e==null&&(n?(e=this.categories.length,this.categories[e]=t,i.set(t,e),this._onCollect&&this._onCollect(t,e)):e=NaN),e},r.prototype._getOrCreateMap=function(){return this._map||(this._map=Xt(this.categories))},r}();function abe(r){return or(r)&&r.value!=null?r.value:r+""}var M1=function(r){Ge(t,r);function t(e){var n=r.call(this,e)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new Hb({})),xt(i)&&(i=new Hb({categories:wt(i,function(a){return or(a)?a.value:a})})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return t.prototype.parse=function(e){return e==null?NaN:Ht(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return O9(e,this._extent)&&e>=0&&e<this._ordinalMeta.categories.length},t.prototype.normalize=function(e){return e=this._getTickNumber(e),this._calculator.normalize(e,this._extent)},t.prototype.scale=function(e){return e=Math.round(this._calculator.scale(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],n=this._extent,i=n[0];i<=n[1];)e.push({value:i}),i++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(e==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=e.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],s=0,o=this._ordinalMeta.categories.length,l=Math.min(o,n.length);s<l;++s){var u=n[s];i[s]=u,a[u]=s}for(var c=0;s<o;++s){for(;a[c]!=null;)c++;i.push(c),a[c]=s}},t.prototype._getTickNumber=function(e){var n=this._ticksByOrdinalNumber;return n&&e>=0&&e<n.length?n[e]:e},t.prototype.getRawOrdinalNumber=function(e){var n=this._ordinalNumbersByTick;return n&&e>=0&&e<n.length?n[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var n=this.getRawOrdinalNumber(e.value),i=this._ordinalMeta.categories[n];return i==null?"":i+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(p0);p0.registerClass(M1);var Td=ta,$h=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return t.prototype.parse=function(e){return e==null||e===""?NaN:Number(e)},t.prototype.contain=function(e){return O9(e,this._extent)},t.prototype.normalize=function(e){return this._calculator.normalize(e,this._extent)},t.prototype.scale=function(e){return this._calculator.scale(e,this._extent)},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=Ub(e)},t.prototype.getTicks=function(e){e=e||{};var n=this._interval,i=this._extent,a=this._niceExtent,s=this._intervalPrecision,o=ma(),l=[];if(!n)return l;if(e.breakTicks==="only_break"&&o)return o.addBreaksToTicks(l,this._brkCtx.breaks,this._extent),l;var u=1e4;i[0]<a[0]&&(e.expandToNicedExtent?l.push({value:Td(a[0]-n,s)}):l.push({value:i[0]}));for(var c=function(A,p){return Math.round((p-A)/n)},f=a[0];f<=a[1];){if(l.push({value:f}),f=Td(f+n,s),this._brkCtx){var h=this._brkCtx.calcNiceTickMultiple(f,c);h>=0&&(f=Td(f+h*n,s))}if(l.length>0&&f===l[l.length-1].value)break;if(l.length>u)return[]}var d=l.length?l[l.length-1].value:a[1];return i[1]>d&&(e.expandToNicedExtent?l.push({value:Td(d+n,s)}):l.push({value:i[1]})),o&&o.pruneTicksByBreak(e.pruneByBreak,l,this._brkCtx.breaks,function(A){return A.value},this._interval,this._extent),e.breakTicks!=="none"&&o&&o.addBreaksToTicks(l,this._brkCtx.breaks,this._extent),l},t.prototype.getMinorTicks=function(e){for(var n=this.getTicks({expandToNicedExtent:!0}),i=[],a=this.getExtent(),s=1;s<n.length;s++){var o=n[s],l=n[s-1];if(!(l.break||o.break)){for(var u=0,c=[],f=o.value-l.value,h=f/e,d=Ub(h);u<e-1;){var A=Td(l.value+(u+1)*h,d);A>a[0]&&A<a[1]&&c.push(A),u++}var p=ma();p&&p.pruneTicksByBreak("auto",c,this._getNonTransBreaks(),function(g){return g},this._interval,a),i.push(c)}}return i},t.prototype._getNonTransBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},t.prototype.getLabel=function(e,n){if(e==null)return"";var i=n&&n.precision;i==null?i=oc(e.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=Td(e.value,i,!0);return h9(a)},t.prototype.calcNiceTicks=function(e,n,i){e=e||5;var a=this._extent.slice(),s=this._getExtentSpanWithBreaks();if(isFinite(s)){s<0&&(s=-s,a.reverse(),this._innerSetExtent(a[0],a[1]),a=this._extent.slice());var o=tbe(a,s,e,n,i);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var n=this._extent.slice();if(n[0]===n[1])if(n[0]!==0){var i=Math.abs(n[0]);e.fixMax||(n[1]+=i/2),n[0]-=i/2}else n[1]=1;var a=n[1]-n[0];isFinite(a)||(n[0]=0,n[1]=1),this._innerSetExtent(n[0],n[1]),n=this._extent.slice(),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var s=this._interval,o=this._intervalPrecision;e.fixMin||(n[0]=Td(Math.floor(n[0]/s)*s,o)),e.fixMax||(n[1]=Td(Math.ceil(n[1]/s)*s,o)),this._innerSetExtent(n[0],n[1])},t.prototype.setNiceExtent=function(e,n){this._niceExtent=[e,n]},t.type="interval",t}(p0);p0.registerClass($h);var Rne=typeof Float32Array<"u",sbe=Rne?Float32Array:Array;function ff(r){return xt(r)?Rne?new Float32Array(r):r:new sbe(r)}var VF="__ec_stack_";function j9(r){return r.get("stack")||VF+r.seriesIndex}function U9(r){return r.dim+r.index}function obe(r){var t=[],e=r.axis,n="axis0";if(e.type==="category"){for(var i=e.getBandWidth(),a=0;a<r.count;a++)t.push(sr({bandWidth:i,axisKey:n,stackId:VF+a},r));for(var s=Une(t),o=[],a=0;a<r.count;a++){var l=s[n][VF+a];l.offsetCenter=l.offset+l.width/2,o.push(l)}return o}}function One(r,t){var e=[];return t.eachSeriesByType(r,function(n){zne(n)&&e.push(n)}),e}function lbe(r){var t={};se(r,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var f=l.getData(),h=c.dim+"_"+c.index,d=f.getDimensionIndex(f.mapDimension(c.dim)),A=f.getStore(),p=0,g=A.count();p<g;++p){var m=A.get(d,p);t[h]?t[h].push(m):t[h]=[m]}});var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(i){i.sort(function(l,u){return l-u});for(var a=null,s=1;s<i.length;++s){var o=i[s]-i[s-1];o>0&&(a=a===null?o:Math.min(a,o))}e[n]=a}}return e}function jne(r){var t=lbe(r),e=[];return se(r,function(n){var i=n.coordinateSystem,a=i.getBaseAxis(),s=a.getExtent(),o;if(a.type==="category")o=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var l=a.dim+"_"+a.index,u=t[l],c=Math.abs(s[1]-s[0]),f=a.scale.getExtent(),h=Math.abs(f[1]-f[0]);o=u?c/h*u:c}else{var d=n.getData();o=Math.abs(s[1]-s[0])/d.count()}var A=Ut(n.get("barWidth"),o),p=Ut(n.get("barMaxWidth"),o),g=Ut(n.get("barMinWidth")||(Vne(n)?.5:1),o),m=n.get("barGap"),v=n.get("barCategoryGap"),y=n.get("defaultBarGap");e.push({bandWidth:o,barWidth:A,barMaxWidth:p,barMinWidth:g,barGap:m,barCategoryGap:v,defaultBarGap:y,axisKey:U9(a),stackId:j9(n)})}),Une(e)}function Une(r){var t={};se(r,function(n,i){var a=n.axisKey,s=n.bandWidth,o=t[a]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:n.defaultBarGap||0,stacks:{}},l=o.stacks;t[a]=o;var u=n.stackId;l[u]||o.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=n.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(o.remainedWidth,c),o.remainedWidth-=c);var f=n.barMaxWidth;f&&(l[u].maxWidth=f);var h=n.barMinWidth;h&&(l[u].minWidth=h);var d=n.barGap;d!=null&&(o.gap=d);var A=n.barCategoryGap;A!=null&&(o.categoryGap=A)});var e={};return se(t,function(n,i){e[i]={};var a=n.stacks,s=n.bandWidth,o=n.categoryGap;if(o==null){var l=en(a).length;o=Math.max(35-l*4,15)+"%"}var u=Ut(o,s),c=Ut(n.gap,1),f=n.remainedWidth,h=n.autoWidthCount,d=(f-u)/(h+(h-1)*c);d=Math.max(d,0),se(a,function(m){var v=m.maxWidth,y=m.minWidth;if(m.width){var b=m.width;v&&(b=Math.min(b,v)),y&&(b=Math.max(b,y)),m.width=b,f-=b+c*b,h--}else{var b=d;v&&v<b&&(b=Math.min(v,f)),y&&y>b&&(b=y),b!==d&&(m.width=b,f-=b+c*b,h--)}}),d=(f-u)/(h+(h-1)*c),d=Math.max(d,0);var A=0,p;se(a,function(m,v){m.width||(m.width=d),p=m,A+=m.width*(1+c)}),p&&(A-=p.width*c);var g=-A/2;se(a,function(m,v){e[i][v]=e[i][v]||{bandWidth:s,offset:g,width:m.width},g+=m.width*(1+c)})}),e}function ube(r,t,e){if(r&&t){var n=r[U9(t)];return n!=null&&e!=null?n[j9(e)]:n}}function Hne(r,t){var e=One(r,t),n=jne(e);se(e,function(i){var a=i.getData(),s=i.coordinateSystem,o=s.getBaseAxis(),l=j9(i),u=n[U9(o)][l],c=u.offset,f=u.width;a.setLayout({bandWidth:u.bandWidth,offset:c,size:f})})}function Qne(r){return{seriesType:r,plan:ly(),reset:function(t){if(zne(t)){var e=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),a=n.getOtherAxis(i),s=e.getDimensionIndex(e.mapDimension(a.dim)),o=e.getDimensionIndex(e.mapDimension(i.dim)),l=t.get("showBackground",!0),u=e.mapDimension(a.dim),c=e.getCalculationInfo("stackResultDimension"),f=Wh(e,u)&&!!e.getCalculationInfo("stackedOnSeries"),h=a.isHorizontal(),d=cbe(i,a),A=Vne(t),p=t.get("barMinHeight")||0,g=c&&e.getDimensionIndex(c),m=e.getLayout("size"),v=e.getLayout("offset");return{progress:function(y,b){for(var _=y.count,T=A&&ff(_*3),I=A&&l&&ff(_*3),N=A&&ff(_),F=n.master.getRect(),P=h?F.width:F.height,D,R=b.getStore(),E=0;(D=y.next())!=null;){var L=R.get(f?g:s,D),k=R.get(o,D),w=d,C=void 0;f&&(C=+L-R.get(s,D));var S=void 0,B=void 0,O=void 0,V=void 0;if(h){var M=n.dataToPoint([L,k]);if(f){var U=n.dataToPoint([C,k]);w=U[0]}S=w,B=M[1]+v,O=M[0]-w,V=m,Math.abs(O)<p&&(O=(O<0?-1:1)*p)}else{var M=n.dataToPoint([k,L]);if(f){var U=n.dataToPoint([k,C]);w=U[1]}S=M[0]+v,B=w,O=m,V=M[1]-w,Math.abs(V)<p&&(V=(V<=0?-1:1)*p)}A?(T[E]=S,T[E+1]=B,T[E+2]=h?O:V,I&&(I[E]=h?F.x:S,I[E+1]=h?B:F.y,I[E+2]=P),N[D]=D):b.setItemLayout(D,{x:S,y:B,width:O,height:V}),E+=3}A&&b.setLayout({largePoints:T,largeDataIndices:N,largeBackgroundPoints:I,valueAxisHorizontal:h})}}}}}}function zne(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function Vne(r){return r.pipelineContext&&r.pipelineContext.large}function cbe(r,t){var e=t.model.get("startValue");return e||(e=0),t.toGlobalCoord(t.dataToCoord(t.type==="log"?e>0?e:1:e))}var fbe=function(r,t,e,n){for(;e<n;){var i=e+n>>>1;r[i][1]<t?e=i+1:n=i}return e},H9=function(r){Ge(t,r);function t(e){var n=r.call(this,e)||this;return n.type="time",n}return t.prototype.getLabel=function(e){var n=this.getSetting("useUTC");return Ww(e.value,_H[L1e(D2(this._minLevelUnit))]||_H.second,n,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,n,i){var a=this.getSetting("useUTC"),s=this.getSetting("locale");return D1e(e,n,i,s,a)},t.prototype.getTicks=function(e){e=e||{};var n=this._interval,i=this._extent,a=ma(),s=[];if(!n)return s;var o=this.getSetting("useUTC");if(a&&e.breakTicks==="only_break")return ma().addBreaksToTicks(s,this._brkCtx.breaks,this._extent),s;var l=Ev(i[1],o);s.push({value:i[0],time:{level:0,upperTimeUnit:l,lowerTimeUnit:l}});var u=vbe(this._minLevelUnit,this._approxInterval,o,i,this._getExtentSpanWithBreaks(),this._brkCtx);s=s.concat(u);var c=Ev(i[1],o);s.push({value:i[1],time:{level:0,upperTimeUnit:c,lowerTimeUnit:c}});var f=this.getSetting("useUTC"),h=Cl.length-1,d=0;return se(s,function(A){h=Math.min(h,Lr(Cl,A.time.upperTimeUnit)),d=Math.max(d,A.time.level)}),a&&ma().pruneTicksByBreak(e.pruneByBreak,s,this._brkCtx.breaks,function(A){return A.value},this._approxInterval,this._extent),a&&e.breakTicks!=="none"&&ma().addBreaksToTicks(s,this._brkCtx.breaks,this._extent,function(A){for(var p=Math.max(Lr(Cl,Ev(A.vmin,f)),Lr(Cl,Ev(A.vmax,f))),g=0,m=0;m<Cl.length;m++)if(!Gne(Cl[m],A.vmin,A.vmax,f)){g=m;break}var v=Math.min(g,h),y=Math.max(v,p);return{level:d,lowerTimeUnit:Cl[y],upperTimeUnit:Cl[v]}}),s},t.prototype.calcNiceExtent=function(e){var n=this.getExtent();if(n[0]===n[1]&&(n[0]-=vu,n[1]+=vu),n[1]===-1/0&&n[0]===1/0){var i=new Date;n[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),n[0]=n[1]-vu}this._innerSetExtent(n[0],n[1]),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,n,i){e=e||10;var a=this._getExtentSpanWithBreaks();this._approxInterval=a/e,n!=null&&this._approxInterval<n&&(this._approxInterval=n),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var s=U5.length,o=Math.min(fbe(U5,this._approxInterval,0,s),s-1);this._interval=U5[o][1],this._intervalPrecision=Ub(this._interval),this._minLevelUnit=U5[Math.max(o-1,0)][0]},t.prototype.parse=function(e){return an(e)?e:+Mf(e)},t.prototype.contain=function(e){return O9(e,this._extent)},t.prototype.normalize=function(e){return this._calculator.normalize(e,this._extent)},t.prototype.scale=function(e){return this._calculator.scale(e,this._extent)},t.type="time",t}($h),U5=[["second",i9],["minute",a9],["hour",L2],["quarter-day",L2*6],["half-day",L2*12],["day",vu*1.2],["half-week",vu*3.5],["week",vu*7],["month",vu*31],["quarter",vu*95],["half-year",wH/2],["year",wH]];function Gne(r,t,e,n){return YS(new Date(t),r,n).getTime()===YS(new Date(e),r,n).getTime()}function hbe(r,t){return r/=vu,r>16?16:r>7.5?7:r>3.5?4:r>1.5?2:1}function dbe(r){var t=30*vu;return r/=t,r>6?6:r>3?3:r>2?2:1}function Abe(r){return r/=L2,r>12?12:r>6?6:r>3.5?4:r>2?2:1}function MQ(r,t){return r/=t?a9:i9,r>30?30:r>20?20:r>15?15:r>10?10:r>5?5:r>2?2:1}function pbe(r){return MD(r,!0)}function gbe(r,t,e){var n=Math.max(0,Lr(Cl,t)-1);return YS(new Date(r),Cl[n],e).getTime()}function mbe(r,t){var e=new Date(0);e[r](1);var n=e.getTime();e[r](1+t);var i=e.getTime()-n;return function(a,s){return Math.max(0,Math.round((s-a)/i))}}function vbe(r,t,e,n,i,a){var s=1e4,o=N1e,l=0;function u(E,L,k,w,C,S,B){for(var O=mbe(C,E),V=L,M=new Date(V);V<k&&V<=n[1]&&(B.push({value:V}),!(l++>s));)if(M[C](M[w]()+E),V=M.getTime(),a){var U=a.calcNiceTickMultiple(V,O);U>0&&(M[C](M[w]()+U*E),V=M.getTime())}B.push({value:V,notAdd:!0})}function c(E,L,k){var w=[],C=!L.length;if(!Gne(D2(E),n[0],n[1],e)){C&&(L=[{value:gbe(n[0],E,e)},{value:n[1]}]);for(var S=0;S<L.length-1;S++){var B=L[S].value,O=L[S+1].value;if(B!==O){var V=void 0,M=void 0,U=void 0,Q=!1;switch(E){case"year":V=Math.max(1,Math.round(t/vu/365)),M=Jte(e),U=P1e(e);break;case"half-year":case"quarter":case"month":V=dbe(t),M=s9(e),U=ere(e);break;case"week":case"half-week":case"day":V=hbe(t),M=o9(e),U=tre(e),Q=!0;break;case"half-day":case"quarter-day":case"hour":V=Abe(t),M=l9(e),U=rre(e);break;case"minute":V=MQ(t,!0),M=u9(e),U=nre(e);break;case"second":V=MQ(t,!1),M=c9(e),U=ire(e);break;case"millisecond":V=pbe(t),M=f9(e),U=are(e);break}O>=n[0]&&B<=n[1]&&u(V,B,O,M,U,Q,w),E==="year"&&k.length>1&&S===0&&k.unshift({value:k[0].value-V})}}for(var S=0;S<w.length;S++)k.push(w[S])}}for(var f=[],h=[],d=0,A=0,p=0;p<o.length;++p){var g=D2(o[p]);if(M1e(o[p])){c(o[p],f[f.length-1]||[],h);var m=o[p+1]?D2(o[p+1]):null;if(g!==m){if(h.length){A=d,h.sort(function(E,L){return E.value-L.value});for(var v=[],y=0;y<h.length;++y){var b=h[y].value;(y===0||h[y-1].value!==b)&&(v.push(h[y]),b>=n[0]&&b<=n[1]&&d++)}var _=i/t;if(d>_*1.5&&A>_/1.5||(f.push(v),d>_||r===o[p]))break}h=[]}}}for(var T=dn(wt(f,function(E){return dn(E,function(L){return L.value>=n[0]&&L.value<=n[1]&&!L.notAdd})}),function(E){return E.length>0}),I=[],N=T.length-1,p=0;p<T.length;++p)for(var F=T[p],P=0;P<F.length;++P){var D=Ev(F[P].value,e);I.push({value:F[P].value,time:{level:N-p,upperTimeUnit:D,lowerTimeUnit:D}})}I.sort(function(E,L){return E.value-L.value});for(var R=[],p=0;p<I.length;++p)(p===0||I[p].value!==I[p-1].value)&&R.push(I[p]);return R}p0.registerClass(H9);var GF=ta,ybe=Math.floor,xbe=Math.ceil,H5=Math.pow,Q5=Math.log,Wne=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new $h,e}return t.prototype.getTicks=function(e){e=e||{};var n=this._extent.slice(),i=this._originalScale.getExtent(),a=r.prototype.getTicks.call(this,e),s=this.base,o=this._originalScale._innerGetBreaks(),l=ma();return wt(a,function(u){var c=u.value,f=null,h=H5(s,c);c===n[0]&&this._fixMin?f=i[0]:c===n[1]&&this._fixMax&&(f=i[1]);var d;if(l){var A=l.getTicksLogTransformBreak(u,s,o,z5);d=A.vBreak,f==null&&(f=A.brkRoundingCriterion)}return f!=null&&(h=z5(h,f)),{value:h,break:d}},this)},t.prototype._getNonTransBreaks=function(){return this._originalScale._innerGetBreaks()},t.prototype.setExtent=function(e,n){this._originalScale.setExtent(e,n);var i=zF(this.base,[e,n]);r.prototype.setExtent.call(this,i[0],i[1])},t.prototype.getExtent=function(){var e=this.base,n=r.prototype.getExtent.call(this);n[0]=H5(e,n[0]),n[1]=H5(e,n[1]);var i=this._originalScale.getExtent();return this._fixMin&&(n[0]=z5(n[0],i[0])),this._fixMax&&(n[1]=z5(n[1],i[1])),n},t.prototype.unionExtentFromData=function(e,n){this._originalScale.unionExtentFromData(e,n);var i=zF(this.base,e.getApproximateExtent(n),!0);this._innerUnionExtent(i)},t.prototype.calcNiceTicks=function(e){e=e||10;var n=this._extent.slice(),i=this._getExtentSpanWithBreaks();if(!(!isFinite(i)||i<=0)){var a=Zee(i),s=e/i*a;for(s<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var o=[GF(xbe(n[0]/a)*a),GF(ybe(n[1]/a)*a)];this._interval=a,this._intervalPrecision=Ub(a),this._niceExtent=o}},t.prototype.calcNiceExtent=function(e){r.prototype.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.contain=function(e){return e=Q5(e)/Q5(this.base),r.prototype.contain.call(this,e)},t.prototype.normalize=function(e){return e=Q5(e)/Q5(this.base),r.prototype.normalize.call(this,e)},t.prototype.scale=function(e){return e=r.prototype.scale.call(this,e),H5(this.base,e)},t.prototype.setBreaksFromOption=function(e){var n=ma();if(n){var i=n.logarithmicParseBreaksFromOption(e,this.base,Qt(this.parse,this)),a=i.parsedOriginal,s=i.parsedLogged;this._originalScale._innerSetBreak(a),this._innerSetBreak(s)}},t.type="log",t}($h);function z5(r,t){return GF(r,oc(t))}p0.registerClass(Wne);var bbe=function(){function r(t,e,n){this._prepareParams(t,e,n)}return r.prototype._prepareParams=function(t,e,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&e.getNeedCrossZero&&e.getNeedCrossZero();var a=e.get("min",!0);a==null&&(a=e.get("startValue",!0));var s=this._modelMinRaw=a;rr(s)?this._modelMinNum=V5(t,s({min:n[0],max:n[1]})):s!=="dataMin"&&(this._modelMinNum=V5(t,s));var o=this._modelMaxRaw=e.get("max",!0);if(rr(o)?this._modelMaxNum=V5(t,o({min:n[0],max:n[1]})):o!=="dataMax"&&(this._modelMaxNum=V5(t,o)),i)this._axisDataLen=e.getCategories().length;else{var l=e.get("boundaryGap"),u=xt(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[xc(u[0],1),xc(u[1],1)]}},r.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,n=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,s=t?null:n-e||Math.abs(e),o=this._modelMinRaw==="dataMin"?e:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,u=o!=null,c=l!=null;o==null&&(o=t?i?0:NaN:e-a[0]*s),l==null&&(l=t?i?i-1:NaN:n+a[1]*s),(o==null||!isFinite(o))&&(o=NaN),(l==null||!isFinite(l))&&(l=NaN);var f=Ds(o)||Ds(l)||t&&!i;this._needCrossZero&&(o>0&&l>0&&!u&&(o=0),o<0&&l<0&&!c&&(l=0));var h=this._determinedMin,d=this._determinedMax;return h!=null&&(o=h,u=!0),d!=null&&(l=d,c=!0),{min:o,max:l,minFixed:u,maxFixed:c,isBlank:f}},r.prototype.modifyDataMinMax=function(t,e){this[_be[t]]=e},r.prototype.setDeterminedMinMax=function(t,e){var n=wbe[t];this[n]=e},r.prototype.freeze=function(){this.frozen=!0},r}(),wbe={min:"_determinedMin",max:"_determinedMax"},_be={min:"_dataMin",max:"_dataMax"};function $ne(r,t,e){var n=r.rawExtentInfo;return n||(n=new bbe(r,t,e),r.rawExtentInfo=n,n)}function V5(r,t){return t==null?null:Ds(t)?NaN:r.parse(t)}function Kne(r,t){var e=r.type,n=$ne(r,t,r.getExtent()).calculate();r.setBlank(n.isBlank);var i=n.min,a=n.max,s=t.ecModel;if(s&&e==="time"){var o=One("bar",s),l=!1;if(se(o,function(f){l=l||f.getBaseAxis()===t.axis}),l){var u=jne(o),c=Sbe(i,a,t,u);i=c.min,a=c.max}}return{extent:[i,a],fixMin:n.minFixed,fixMax:n.maxFixed}}function Sbe(r,t,e,n){var i=e.axis.getExtent(),a=Math.abs(i[1]-i[0]),s=ube(n,e.axis);if(s===void 0)return{min:r,max:t};var o=1/0;se(s,function(d){o=Math.min(d.offset,o)});var l=-1/0;se(s,function(d){l=Math.max(d.offset+d.width,l)}),o=Math.abs(o),l=Math.abs(l);var u=o+l,c=t-r,f=1-(o+l)/a,h=c/f-c;return t+=h*(l/u),r-=h*(o/u),{min:r,max:t}}function Bg(r,t){var e=t,n=Kne(r,e),i=n.extent,a=e.get("splitNumber");r instanceof Wne&&(r.base=e.get("logBase"));var s=r.type,o=e.get("interval"),l=s==="interval"||s==="time";r.setBreaksFromOption(Xne(e)),r.setExtent(i[0],i[1]),r.calcNiceExtent({splitNumber:a,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?e.get("minInterval"):null,maxInterval:l?e.get("maxInterval"):null}),o!=null&&r.setInterval&&r.setInterval(o)}function qw(r,t){if(t=t||r.get("type"),t)switch(t){case"category":return new M1({ordinalMeta:r.getOrdinalMeta?r.getOrdinalMeta():r.getCategories(),extent:[1/0,-1/0]});case"time":return new H9({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new(p0.getClass(t)||$h)}}function Cbe(r){var t=r.scale.getExtent(),e=t[0],n=t[1];return!(e>0&&n>0||e<0&&n<0)}function hy(r){var t=r.getLabelModel().get("formatter");if(r.type==="time"){var e=F1e(t);return function(i,a){return r.scale.getFormattedLabel(i,a,e)}}else{if(Ht(t))return function(i){var a=r.scale.getLabel(i),s=t.replace("{value}",a??"");return s};if(rr(t)){if(r.type==="category")return function(i,a){return t(u6(r,i),i.value-r.scale.getExtent()[0],null)};var n=ma();return function(i,a){var s=null;return n&&(s=n.makeAxisLabelFormatterParamBreak(s,i.break)),t(u6(r,i),a,s)}}else return function(i){return r.scale.getLabel(i)}}}function u6(r,t){return r.type==="category"?r.scale.getLabel(t):t.value}function Q9(r){var t=r.get("interval");return t??"auto"}function qne(r){return r.type==="category"&&Q9(r.getLabelModel())===0}function c6(r,t){var e={};return se(r.mapDimensionsAll(t),function(n){e[R9(r,n)]=!0}),en(e)}function Bbe(r,t,e){t&&se(c6(t,e),function(n){var i=t.getApproximateExtent(n);i[0]<r[0]&&(r[0]=i[0]),i[1]>r[1]&&(r[1]=i[1])})}function L1(r){return r==="middle"||r==="center"}function Qb(r){return r.getShallow("show")}function Xne(r){var t=r.get("breaks",!0);if(t!=null)return!ma()||!Tbe(r.axis)?void 0:t}function Tbe(r){return(r.dim==="x"||r.dim==="y"||r.dim==="z"||r.dim==="single")&&r.type!=="category"}var dy=function(){function r(){}return r.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},r.prototype.getCoordSysModel=function(){},r}();function Ebe(r){return Df(null,r)}var kbe={isDimensionStacked:Wh,enableDataStack:Pne,getStackedDimension:R9};function Nbe(r,t){var e=t;t instanceof qr||(e=new qr(t));var n=qw(e);return n.setExtent(r[0],r[1]),Bg(n,e),n}function Fbe(r){Ui(r,dy)}function Ibe(r,t){return t=t||{},jn(r,null,null,t.state!=="normal")}const Mbe=Object.freeze(Object.defineProperty({__proto__:null,createDimensions:z2e,createList:Ebe,createScale:Nbe,createSymbol:ia,createTextStyle:Ibe,dataStack:kbe,enableHoverEmphasis:LA,getECData:pr,getLayoutRect:li,mixinAxisModelCommonMethods:Fbe},Symbol.toStringTag,{value:"Module"}));var Lbe=1e-8;function LQ(r,t){return Math.abs(r-t)<Lbe}function vp(r,t,e){var n=0,i=r[0];if(!i)return!1;for(var a=1;a<r.length;a++){var s=r[a];n+=ch(i[0],i[1],s[0],s[1],t,e),i=s}var o=r[0];return(!LQ(i[0],o[0])||!LQ(i[1],o[1]))&&(n+=ch(i[0],i[1],o[0],o[1],t,e)),n!==0}var Dbe=[];function tE(r,t){for(var e=0;e<r.length;e++)Oi(r[e],r[e],t)}function DQ(r,t,e,n){for(var i=0;i<r.length;i++){var a=r[i];n&&(a=n.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(bh(t,t,a),wh(e,e,a))}}function Pbe(r){for(var t=0,e=0,n=0,i=r.length,a=r[i-1][0],s=r[i-1][1],o=0;o<i;o++){var l=r[o][0],u=r[o][1],c=a*u-l*s;t+=c,e+=(a+l)*c,n+=(s+u)*c,a=l,s=u}return t?[e/t/3,n/t/3,t]:[r[0][0]||0,r[0][1]||0]}var Yne=function(){function r(t){this.name=t}return r.prototype.setCenter=function(t){this._center=t},r.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},r}(),PQ=function(){function r(t,e){this.type="polygon",this.exterior=t,this.interiors=e}return r}(),RQ=function(){function r(t){this.type="linestring",this.points=t}return r}(),Zne=function(r){Ge(t,r);function t(e,n,i){var a=r.call(this,e)||this;return a.type="geoJSON",a.geometries=n,a._center=i&&[i[0],i[1]],a}return t.prototype.calcCenter=function(){for(var e=this.geometries,n,i=0,a=0;a<e.length;a++){var s=e[a],o=s.exterior,l=o&&o.length;l>i&&(n=s,i=l)}if(n)return Pbe(n.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},t.prototype.getBoundingRect=function(e){var n=this._rect;if(n&&!e)return n;var i=[1/0,1/0],a=[-1/0,-1/0],s=this.geometries;return se(s,function(o){o.type==="polygon"?DQ(o.exterior,i,a,e):se(o.points,function(l){DQ(l,i,a,e)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])||(i[0]=i[1]=a[0]=a[1]=0),n=new fr(i[0],i[1],a[0]-i[0],a[1]-i[1]),e||(this._rect=n),n},t.prototype.contain=function(e){var n=this.getBoundingRect(),i=this.geometries;if(!n.contain(e[0],e[1]))return!1;e:for(var a=0,s=i.length;a<s;a++){var o=i[a];if(o.type==="polygon"){var l=o.exterior,u=o.interiors;if(vp(l,e[0],e[1])){for(var c=0;c<(u?u.length:0);c++)if(vp(u[c],e[0],e[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(e,n,i,a){var s=this.getBoundingRect(),o=s.width/s.height;i?a||(a=i/o):i=o*a;for(var l=new fr(e,n,i,a),u=s.calculateTransform(l),c=this.geometries,f=0;f<c.length;f++){var h=c[f];h.type==="polygon"?(tE(h.exterior,u),se(h.interiors,function(d){tE(d,u)})):se(h.points,function(d){tE(d,u)})}s=this._rect,s.copy(l),this._center=[s.x+s.width/2,s.y+s.height/2]},t.prototype.cloneShallow=function(e){e==null&&(e=this.name);var n=new t(e,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},t}(Yne),Rbe=function(r){Ge(t,r);function t(e,n){var i=r.call(this,e)||this;return i.type="geoSVG",i._elOnlyForCalculate=n,i}return t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,n=e.getBoundingRect(),i=[n.x+n.width/2,n.y+n.height/2],a=Ow(Dbe),s=e;s&&!s.isGeoSVGGraphicRoot;)dc(a,s.getLocalTransform(),a),s=s.parent;return ku(a,a),Oi(i,i,a),i},t}(Yne);function Obe(r){if(!r.UTF8Encoding)return r;var t=r,e=t.UTF8Scale;e==null&&(e=1024);var n=t.features;return se(n,function(i){var a=i.geometry,s=a.encodeOffsets,o=a.coordinates;if(s)switch(a.type){case"LineString":a.coordinates=Jne(o,s,e);break;case"Polygon":rE(o,s,e);break;case"MultiLineString":rE(o,s,e);break;case"MultiPolygon":se(o,function(l,u){return rE(l,s[u],e)})}}),t.UTF8Encoding=!1,t}function rE(r,t,e){for(var n=0;n<r.length;n++)r[n]=Jne(r[n],t[n],e)}function Jne(r,t,e){for(var n=[],i=t[0],a=t[1],s=0;s<r.length;s+=2){var o=r.charCodeAt(s)-64,l=r.charCodeAt(s+1)-64;o=o>>1^-(o&1),l=l>>1^-(l&1),o+=i,l+=a,i=o,a=l,n.push([o/e,l/e])}return n}function WF(r,t){return r=Obe(r),wt(dn(r.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var n=e.properties,i=e.geometry,a=[];switch(i.type){case"Polygon":var s=i.coordinates;a.push(new PQ(s[0],s.slice(1)));break;case"MultiPolygon":se(i.coordinates,function(l){l[0]&&a.push(new PQ(l[0],l.slice(1)))});break;case"LineString":a.push(new RQ([i.coordinates]));break;case"MultiLineString":a.push(new RQ(i.coordinates))}var o=new Zne(n[t||"name"],a,n.cp);return o.properties=n,o})}const jbe=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:sF,asc:Ll,getPercentWithPrecision:ime,getPixelPrecision:FD,getPrecision:oc,getPrecisionSafe:Xee,isNumeric:LD,isRadianAroundZero:T1,linearMap:gn,nice:MD,numericToNumber:Tf,parseDate:Mf,parsePercent:Ut,quantile:L3,quantity:Zee,quantityExponent:XC,reformIntervals:oF,remRadian:ID,round:ta},Symbol.toStringTag,{value:"Module"})),Ube=Object.freeze(Object.defineProperty({__proto__:null,format:Ww,parse:Mf,roundTime:YS},Symbol.toStringTag,{value:"Module"})),Hbe=Object.freeze(Object.defineProperty({__proto__:null,Arc:zw,BezierCurve:ty,BoundingRect:fr,Circle:Lf,CompoundPath:Vw,Ellipse:Qw,Group:ir,Image:es,IncrementalDisplayable:Ote,Line:ra,LinearGradient:jg,Polygon:Hs,Polyline:gs,RadialGradient:$D,Rect:zr,Ring:ey,Sector:Us,Text:nn,clipPointsByRect:YD,clipRectByRect:zte,createIcon:ny,extendPath:Hte,extendShape:Ute,getShapeClass:Mb,getTransform:DA,initProps:ni,makeImage:qD,makePath:k1,mergePath:Fl,registerShape:Lu,resizePath:XD,updateProps:ln},Symbol.toStringTag,{value:"Module"})),Qbe=Object.freeze(Object.defineProperty({__proto__:null,addCommas:h9,capitalFirst:U1e,encodeHTML:so,formatTime:j1e,formatTpl:A9,getTextRect:R1e,getTooltipMarker:sre,normalizeCssArray:sy,toCamelCase:d9,truncateText:Rme},Symbol.toStringTag,{value:"Module"})),zbe=Object.freeze(Object.defineProperty({__proto__:null,bind:Qt,clone:nr,curry:Nr,defaults:sr,each:se,extend:pt,filter:dn,indexOf:Lr,inherits:_D,isArray:xt,isFunction:rr,isObject:or,isString:Ht,map:wt,merge:Dr,reduce:Eu},Symbol.toStringTag,{value:"Module"}));var Vbe=Kr(),R2=Kr(),bc={estimate:1,determine:2};function f6(r){return{out:{noPxChangeTryDetermine:[]},kind:r}}function eie(r,t){var e=wt(t,function(n){return r.scale.parse(n)});return r.type==="time"&&e.length>0&&(e.sort(),e.unshift(e[0]),e.push(e[e.length-1])),e}function Gbe(r,t){var e=r.getLabelModel().get("customValues");if(e){var n=hy(r),i=r.scale.getExtent(),a=eie(r,e),s=dn(a,function(o){return o>=i[0]&&o<=i[1]});return{labels:wt(s,function(o){var l={value:o};return{formattedLabel:n(l),rawLabel:r.scale.getLabel(l),tickValue:o,time:void 0,break:void 0}})}}return r.type==="category"?$be(r,t):qbe(r)}function Wbe(r,t,e){var n=r.getTickModel().get("customValues");if(n){var i=r.scale.getExtent(),a=eie(r,n);return{ticks:dn(a,function(s){return s>=i[0]&&s<=i[1]})}}return r.type==="category"?Kbe(r,t):{ticks:wt(r.scale.getTicks(e),function(s){return s.value})}}function $be(r,t){var e=r.getLabelModel(),n=tie(r,e,t);return!e.get("show")||r.scale.isBlank()?{labels:[]}:n}function tie(r,t,e){var n=Ybe(r),i=Q9(t),a=e.kind===bc.estimate;if(!a){var s=nie(n,i);if(s)return s}var o,l;rr(i)?o=sie(r,i):(l=i==="auto"?Zbe(r,e):i,o=aie(r,l));var u={labels:o,labelCategoryInterval:l};return a?e.out.noPxChangeTryDetermine.push(function(){return $F(n,i,u),!0}):$F(n,i,u),u}function Kbe(r,t){var e=Xbe(r),n=Q9(t),i=nie(e,n);if(i)return i;var a,s;if((!t.get("show")||r.scale.isBlank())&&(a=[]),rr(n))a=sie(r,n,!0);else if(n==="auto"){var o=tie(r,r.getLabelModel(),f6(bc.determine));s=o.labelCategoryInterval,a=wt(o.labels,function(l){return l.tickValue})}else s=n,a=aie(r,s,!0);return $F(e,n,{ticks:a,tickCategoryInterval:s})}function qbe(r){var t=r.scale.getTicks(),e=hy(r);return{labels:wt(t,function(n,i){return{formattedLabel:e(n,i),rawLabel:r.scale.getLabel(n),tickValue:n.value,time:n.time,break:n.break}})}}var Xbe=rie("axisTick"),Ybe=rie("axisLabel");function rie(r){return function(e){return R2(e)[r]||(R2(e)[r]={list:[]})}}function nie(r,t){for(var e=0;e<r.list.length;e++)if(r.list[e].key===t)return r.list[e].value}function $F(r,t,e){return r.list.push({key:t,value:e}),e}function Zbe(r,t){if(t.kind===bc.estimate){var e=r.calculateCategoryInterval(t);return t.out.noPxChangeTryDetermine.push(function(){return R2(r).autoInterval=e,!0}),e}var n=R2(r).autoInterval;return n??(R2(r).autoInterval=r.calculateCategoryInterval(t))}function Jbe(r,t){var e=t.kind,n=twe(r),i=hy(r),a=(n.axisRotate-n.labelRotate)/180*Math.PI,s=r.scale,o=s.getExtent(),l=s.count();if(o[1]-o[0]<1)return 0;var u=1,c=40;l>c&&(u=Math.max(1,Math.floor(l/c)));for(var f=o[0],h=r.dataToCoord(f+1)-r.dataToCoord(f),d=Math.abs(h*Math.cos(a)),A=Math.abs(h*Math.sin(a)),p=0,g=0;f<=o[1];f+=u){var m=0,v=0,y=KC(i({value:f}),n.font,"center","top");m=y.width*1.3,v=y.height*1.3,p=Math.max(p,m,7),g=Math.max(g,v,7)}var b=p/d,_=g/A;isNaN(b)&&(b=1/0),isNaN(_)&&(_=1/0);var T=Math.max(0,Math.floor(Math.min(b,_)));if(e===bc.estimate)return t.out.noPxChangeTryDetermine.push(Qt(ewe,null,r,T,l)),T;var I=iie(r,T,l);return I??T}function ewe(r,t,e){return iie(r,t,e)==null}function iie(r,t,e){var n=Vbe(r.model),i=r.getExtent(),a=n.lastAutoInterval,s=n.lastTickCount;if(a!=null&&s!=null&&Math.abs(a-t)<=1&&Math.abs(s-e)<=1&&a>t&&n.axisExtent0===i[0]&&n.axisExtent1===i[1])return a;n.lastTickCount=e,n.lastAutoInterval=t,n.axisExtent0=i[0],n.axisExtent1=i[1]}function twe(r){var t=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function aie(r,t,e){var n=hy(r),i=r.scale,a=i.getExtent(),s=r.getLabelModel(),o=[],l=Math.max((t||0)+1,1),u=a[0],c=i.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var f=qne(r),h=s.get("showMinLabel")||f,d=s.get("showMaxLabel")||f;h&&u!==a[0]&&p(a[0]);for(var A=u;A<=a[1];A+=l)p(A);d&&A-l!==a[1]&&p(a[1]);function p(g){var m={value:g};o.push(e?g:{formattedLabel:n(m),rawLabel:i.getLabel(m),tickValue:g,time:void 0,break:void 0})}return o}function sie(r,t,e){var n=r.scale,i=hy(r),a=[];return se(n.getTicks(),function(s){var o=n.getLabel(s),l=s.value;t(s.value,o)&&a.push(e?l:{formattedLabel:i(s),rawLabel:o,tickValue:l,time:void 0,break:void 0})}),a}var OQ=[0,1],Du=function(){function r(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return r.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=n&&t<=i},r.prototype.containData=function(t){return this.scale.contain(this.scale.parse(t))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(t){return FD(t||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},r.prototype.dataToCoord=function(t,e){var n=this._extent,i=this.scale;return t=i.normalize(i.parse(t)),this.onBand&&i.type==="ordinal"&&(n=n.slice(),jQ(n,i.count())),gn(t,OQ,n,e)},r.prototype.coordToData=function(t,e){var n=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(n=n.slice(),jQ(n,i.count()));var a=gn(t,n,OQ,e);return this.scale.scale(a)},r.prototype.pointToData=function(t,e){},r.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel(),n=Wbe(this,e,{breakTicks:t.breakTicks,pruneByBreak:t.pruneByBreak}),i=n.ticks,a=wt(i,function(o){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(o):o),tickValue:o}},this),s=e.get("alignWithLabel");return rwe(this,a,s,t.clamp),a},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var n=this.scale.getMinorTicks(e),i=wt(n,function(a){return wt(a,function(s){return{coord:this.dataToCoord(s),tickValue:s}},this)},this);return i},r.prototype.getViewLabels=function(t){return t=t||f6(bc.determine),Gbe(this,t).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);n===0&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},r.prototype.calculateCategoryInterval=function(t){return t=t||f6(bc.determine),Jbe(this,t)},r}();function jQ(r,t){var e=r[1]-r[0],n=t,i=e/n/2;r[0]+=i,r[1]-=i}function rwe(r,t,e,n){var i=t.length;if(!r.onBand||e||!i)return;var a=r.getExtent(),s,o;if(i===1)t[0].coord=a[0],t[0].onBand=!0,s=t[1]={coord:a[1],tickValue:t[0].tickValue,onBand:!0};else{var l=t[i-1].tickValue-t[0].tickValue,u=(t[i-1].coord-t[0].coord)/l;se(t,function(d){d.coord-=u/2,d.onBand=!0});var c=r.scale.getExtent();o=1+c[1]-t[i-1].tickValue,s={coord:t[i-1].coord+u*o,tickValue:c[1]+1,onBand:!0},t.push(s)}var f=a[0]>a[1];h(t[0].coord,a[0])&&(n?t[0].coord=a[0]:t.shift()),n&&h(a[0],t[0].coord)&&t.unshift({coord:a[0],onBand:!0}),h(a[1],s.coord)&&(n?s.coord=a[1]:t.pop()),n&&h(s.coord,a[1])&&t.push({coord:a[1],onBand:!0});function h(d,A){return d=ta(d),A=ta(A),f?d>A:d<A}}function nwe(r){var t=$r.extend(r);return $r.registerClass(t),t}function iwe(r){var t=Hn.extend(r);return Hn.registerClass(t),t}function awe(r){var t=Ln.extend(r);return Ln.registerClass(t),t}function swe(r){var t=Nn.extend(r);return Nn.registerClass(t),t}var dx=Math.PI*2,tp=Ef.CMD,owe=["top","right","bottom","left"];function lwe(r,t,e,n,i){var a=e.width,s=e.height;switch(r){case"top":n.set(e.x+a/2,e.y-t),i.set(0,-1);break;case"bottom":n.set(e.x+a/2,e.y+s+t),i.set(0,1);break;case"left":n.set(e.x-t,e.y+s/2),i.set(-1,0);break;case"right":n.set(e.x+a+t,e.y+s/2),i.set(1,0);break}}function uwe(r,t,e,n,i,a,s,o,l){s-=r,o-=t;var u=Math.sqrt(s*s+o*o);s/=u,o/=u;var c=s*e+r,f=o*e+t;if(Math.abs(n-i)%dx<1e-4)return l[0]=c,l[1]=f,u-e;if(a){var h=n;n=Dl(i),i=Dl(h)}else n=Dl(n),i=Dl(i);n>i&&(i+=dx);var d=Math.atan2(o,s);if(d<0&&(d+=dx),d>=n&&d<=i||d+dx>=n&&d+dx<=i)return l[0]=c,l[1]=f,u-e;var A=e*Math.cos(n)+r,p=e*Math.sin(n)+t,g=e*Math.cos(i)+r,m=e*Math.sin(i)+t,v=(A-s)*(A-s)+(p-o)*(p-o),y=(g-s)*(g-s)+(m-o)*(m-o);return v<y?(l[0]=A,l[1]=p,Math.sqrt(v)):(l[0]=g,l[1]=m,Math.sqrt(y))}function h6(r,t,e,n,i,a,s,o){var l=i-r,u=a-t,c=e-r,f=n-t,h=Math.sqrt(c*c+f*f);c/=h,f/=h;var d=l*c+u*f,A=d/h;o&&(A=Math.min(Math.max(A,0),1)),A*=h;var p=s[0]=r+A*c,g=s[1]=t+A*f;return Math.sqrt((p-i)*(p-i)+(g-a)*(g-a))}function oie(r,t,e,n,i,a,s){e<0&&(r=r+e,e=-e),n<0&&(t=t+n,n=-n);var o=r+e,l=t+n,u=s[0]=Math.min(Math.max(i,r),o),c=s[1]=Math.min(Math.max(a,t),l);return Math.sqrt((u-i)*(u-i)+(c-a)*(c-a))}var Ju=[];function cwe(r,t,e){var n=oie(t.x,t.y,t.width,t.height,r.x,r.y,Ju);return e.set(Ju[0],Ju[1]),n}function fwe(r,t,e){for(var n=0,i=0,a=0,s=0,o,l,u=1/0,c=t.data,f=r.x,h=r.y,d=0;d<c.length;){var A=c[d++];d===1&&(n=c[d],i=c[d+1],a=n,s=i);var p=u;switch(A){case tp.M:a=c[d++],s=c[d++],n=a,i=s;break;case tp.L:p=h6(n,i,c[d],c[d+1],f,h,Ju,!0),n=c[d++],i=c[d++];break;case tp.C:p=Nee(n,i,c[d++],c[d++],c[d++],c[d++],c[d],c[d+1],f,h,Ju),n=c[d++],i=c[d++];break;case tp.Q:p=Iee(n,i,c[d++],c[d++],c[d],c[d+1],f,h,Ju),n=c[d++],i=c[d++];break;case tp.A:var g=c[d++],m=c[d++],v=c[d++],y=c[d++],b=c[d++],_=c[d++];d+=1;var T=!!(1-c[d++]);o=Math.cos(b)*v+g,l=Math.sin(b)*y+m,d<=1&&(a=o,s=l);var I=(f-g)*y/v+g;p=uwe(g,m,y,b,b+_,T,I,h,Ju),n=Math.cos(b+_)*v+g,i=Math.sin(b+_)*y+m;break;case tp.R:a=n=c[d++],s=i=c[d++];var N=c[d++],F=c[d++];p=oie(a,s,N,F,f,h,Ju);break;case tp.Z:p=h6(n,i,a,s,f,h,Ju,!0),n=a,i=s;break}p<u&&(u=p,e.set(Ju[0],Ju[1]))}return u}var lc=new cr,Jn=new cr,Xi=new cr,hf=new cr,of=new cr;function UQ(r,t){if(r){var e=r.getTextGuideLine(),n=r.getTextContent();if(n&&e){var i=r.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],s=i.candidates||owe,o=n.getBoundingRect().clone();o.applyTransform(n.getComputedTransform());var l=1/0,u=i.anchor,c=r.getComputedTransform(),f=c&&ku([],c),h=t.get("length2")||0;u&&Xi.copy(u);for(var d=0;d<s.length;d++){var A=s[d];lwe(A,0,o,lc,hf),cr.scaleAndAdd(Jn,lc,hf,h),Jn.transform(f);var p=r.getBoundingRect(),g=u?u.distance(Jn):r instanceof Xr?fwe(Jn,r.path,Xi):cwe(Jn,p,Xi);g<l&&(l=g,Jn.transform(c),Xi.transform(c),Xi.toArray(a[0]),Jn.toArray(a[1]),lc.toArray(a[2]))}lie(a,t.get("minTurnAngle")),e.setShape({points:a})}}}var d6=[],Co=new cr;function lie(r,t){if(t<=180&&t>0){t=t/180*Math.PI,lc.fromArray(r[0]),Jn.fromArray(r[1]),Xi.fromArray(r[2]),cr.sub(hf,lc,Jn),cr.sub(of,Xi,Jn);var e=hf.len(),n=of.len();if(!(e<.001||n<.001)){hf.scale(1/e),of.scale(1/n);var i=hf.dot(of),a=Math.cos(t);if(a<i){var s=h6(Jn.x,Jn.y,Xi.x,Xi.y,lc.x,lc.y,d6,!1);Co.fromArray(d6),Co.scaleAndAdd(of,s/Math.tan(Math.PI-t));var o=Xi.x!==Jn.x?(Co.x-Jn.x)/(Xi.x-Jn.x):(Co.y-Jn.y)/(Xi.y-Jn.y);if(isNaN(o))return;o<0?cr.copy(Co,Jn):o>1&&cr.copy(Co,Xi),Co.toArray(r[1])}}}}function hwe(r,t,e){if(e<=180&&e>0){e=e/180*Math.PI,lc.fromArray(r[0]),Jn.fromArray(r[1]),Xi.fromArray(r[2]),cr.sub(hf,Jn,lc),cr.sub(of,Xi,Jn);var n=hf.len(),i=of.len();if(!(n<.001||i<.001)){hf.scale(1/n),of.scale(1/i);var a=hf.dot(t),s=Math.cos(e);if(a<s){var o=h6(Jn.x,Jn.y,Xi.x,Xi.y,lc.x,lc.y,d6,!1);Co.fromArray(d6);var l=Math.PI/2,u=Math.acos(of.dot(t)),c=l+u-e;if(c>=l)cr.copy(Co,Xi);else{Co.scaleAndAdd(of,o/Math.tan(Math.PI/2-c));var f=Xi.x!==Jn.x?(Co.x-Jn.x)/(Xi.x-Jn.x):(Co.y-Jn.y)/(Xi.y-Jn.y);if(isNaN(f))return;f<0?cr.copy(Co,Jn):f>1&&cr.copy(Co,Xi)}Co.toArray(r[1])}}}}function nE(r,t,e,n){var i=e==="normal",a=i?r:r.ensureState(e);a.ignore=t;var s=n.get("smooth");s&&s===!0&&(s=.3),a.shape=a.shape||{},s>0&&(a.shape.smooth=s);var o=n.getModel("lineStyle").getLineStyle();i?r.useStyle(o):a.style=o}function dwe(r,t){var e=t.smooth,n=t.points;if(n)if(r.moveTo(n[0][0],n[0][1]),e>0&&n.length>=3){var i=xh(n[0],n[1]),a=xh(n[1],n[2]);if(!i||!a){r.lineTo(n[1][0],n[1][1]),r.lineTo(n[2][0],n[2][1]);return}var s=Math.min(i,a)*e,o=T2([],n[1],n[0],s/i),l=T2([],n[1],n[2],s/a),u=T2([],o,l,.5);r.bezierCurveTo(o[0],o[1],o[0],o[1],u[0],u[1]),r.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var c=1;c<n.length;c++)r.lineTo(n[c][0],n[c][1])}function z9(r,t,e){var n=r.getTextGuideLine(),i=r.getTextContent();if(!i){n&&r.removeTextGuideLine();return}for(var a=t.normal,s=a.get("show"),o=i.ignore,l=0;l<Fb.length;l++){var u=Fb[l],c=t[u],f=u==="normal";if(c){var h=c.get("show"),d=f?o:Zt(i.states[u]&&i.states[u].ignore,o);if(d||!Zt(h,s)){var A=f?n:n&&n.states[u];A&&(A.ignore=!0),n&&nE(n,!0,u,c);continue}n||(n=new gs,r.setTextGuideLine(n),!f&&(o||!s)&&nE(n,!0,"normal",t.normal),r.stateProxy&&(n.stateProxy=r.stateProxy)),nE(n,!1,u,c)}}if(n){sr(n.style,e),n.style.fill=null;var p=a.get("showAbove"),g=r.textGuideLineConfig=r.textGuideLineConfig||{};g.showAbove=p||!1,n.buildPath=dwe}}function V9(r,t){t=t||"labelLine";for(var e={normal:r.getModel(t)},n=0;n<Lo.length;n++){var i=Lo[n];e[i]=r.getModel([i,t])}return e}var HQ=["label","labelLine","layoutOption","priority","defaultAttr","marginForce","minMarginForce","marginDefault","suggestIgnore"],Awe=1,A6=2,uie=Awe|A6;function p6(r,t,e){e=e||uie,t?r.dirty|=e:r.dirty&=~e}function cie(r,t){return t=t||uie,r.dirty==null||!!(r.dirty&t)}function Nf(r){if(r)return cie(r)&&fie(r,r.label,r),r}function fie(r,t,e){var n=t.getComputedTransform();r.transform=JD(r.transform,n);var i=r.localRect=Lb(r.localRect,t.getBoundingRect()),a=t.style,s=a.margin,o=e&&e.marginForce,l=e&&e.minMarginForce,u=e&&e.marginDefault,c=a.__marginType;c==null&&u&&(s=u,c=Tv.textMargin);for(var f=0;f<4;f++)iE[f]=c===Tv.minMargin&&l&&l[f]!=null?l[f]:o&&o[f]!=null?o[f]:s?s[f]:0;c===Tv.textMargin&&_g(i,iE,!1,!1);var h=r.rect=Lb(r.rect,i);return n&&h.applyTransform(n),c===Tv.minMargin&&_g(h,iE,!1,!1),r.axisAligned=ZD(n),(r.label=r.label||{}).ignore=t.ignore,p6(r,!1),p6(r,!0,A6),r}var iE=[0,0,0,0];function pwe(r,t,e){return r.transform=JD(r.transform,e),r.localRect=Lb(r.localRect,t),r.rect=Lb(r.rect,t),e&&r.rect.applyTransform(e),r.axisAligned=ZD(e),r.obb=void 0,(r.label=r.label||{}).ignore=!1,r}function KF(r,t){if(r){r.label.x+=t.x,r.label.y+=t.y,r.label.markRedraw();var e=r.transform;e&&(e[4]+=t.x,e[5]+=t.y);var n=r.rect;n&&(n.x+=t.x,n.y+=t.y);var i=r.obb;i&&i.fromBoundingRect(r.localRect,e)}}function qF(r,t){for(var e=0;e<HQ.length;e++){var n=HQ[e];r[n]==null&&(r[n]=t[n])}return Nf(r)}function QQ(r){var t=r.obb;return(!t||cie(r,A6))&&(r.obb=t=t||new Rte,t.fromBoundingRect(r.localRect,r.transform),p6(r,!1,A6)),t}function XF(r,t,e,n,i){var a=r.length,s=Sr[t],o=va[t];if(a<2)return!1;r.sort(function(F,P){return F.rect[s]-P.rect[s]});for(var l=0,u,c=!1,f=0,h=0;h<a;h++){var d=r[h],A=d.rect;u=A[s]-l,u<0&&(A[s]-=u,d.label[s]-=u,c=!0);var p=Math.max(-u,0);f+=p,l=A[s]+A[o]}f>0&&i&&T(-f/a,0,a);var g=r[0],m=r[a-1],v,y;b(),v<0&&I(-v,.8),y<0&&I(y,.8),b(),_(v,y,1),_(y,v,-1),b(),v<0&&N(-v),y<0&&N(y);function b(){v=g.rect[s]-e,y=n-m.rect[s]-m.rect[o]}function _(F,P,D){if(F<0){var R=Math.min(P,-F);if(R>0){T(R*D,0,a);var E=R+F;E<0&&I(-E*D,1)}else I(-F*D,1)}}function T(F,P,D){F!==0&&(c=!0);for(var R=P;R<D;R++){var E=r[R],L=E.rect;L[s]+=F,E.label[s]+=F}}function I(F,P){for(var D=[],R=0,E=1;E<a;E++){var L=r[E-1].rect,k=Math.max(r[E].rect[s]-L[s]-L[o],0);D.push(k),R+=k}if(R){var w=Math.min(Math.abs(F)/R,P);if(F>0)for(var E=0;E<a-1;E++){var C=D[E]*w;T(C,0,E+1)}else for(var E=a-1;E>0;E--){var C=D[E-1]*w;T(-C,E,a)}}}function N(F){var P=F<0?-1:1;F=Math.abs(F);for(var D=Math.ceil(F/(a-1)),R=0;R<a-1;R++)if(P>0?T(D,0,R+1):T(-D,a-R-1,a),F-=D,F<=0)return}return c}function gwe(r){for(var t=0;t<r.length;t++){var e=r[t],n=e.defaultAttr,i=e.labelLine;e.label.attr("ignore",n.ignore),i&&i.attr("ignore",n.labelGuideIgnore)}}function hie(r){var t=[];r.sort(function(u,c){return(c.suggestIgnore?1:0)-(u.suggestIgnore?1:0)||c.priority-u.priority});function e(u){if(!u.ignore){var c=u.ensureState("emphasis");c.ignore==null&&(c.ignore=!1)}u.ignore=!0}for(var n=0;n<r.length;n++){var i=Nf(r[n]);if(!i.label.ignore){for(var a=i.label,s=i.labelLine,o=!1,l=0;l<t.length;l++)if(p8(i,t[l],null,{touchThreshold:.05})){o=!0;break}o?(e(a),s&&e(s)):t.push(i)}}}function p8(r,t,e,n){return!r||!t||r.label&&r.label.ignore||t.label&&t.label.ignore||!r.rect.intersect(t.rect,e,n)?!1:r.axisAligned&&t.axisAligned?!0:QQ(r).intersect(QQ(t),e,n)}function mwe(r){if(r){for(var t=[],e=0;e<r.length;e++)t.push(r[e].slice());return t}}function vwe(r,t){var e=r.label,n=t&&t.getTextGuideLine();return{dataIndex:r.dataIndex,dataType:r.dataType,seriesIndex:r.seriesModel.seriesIndex,text:r.label.style.text,rect:r.hostRect,labelRect:r.rect,align:e.style.align,verticalAlign:e.style.verticalAlign,labelLinePoints:mwe(n&&n.shape.points)}}var zQ=["align","verticalAlign","width","height","fontSize"],mo=new _h,aE=Kr(),ywe=Kr();function G5(r,t,e){for(var n=0;n<e.length;n++){var i=e[n];t[i]!=null&&(r[i]=t[i])}}var W5=["x","y","rotation"],xwe=function(){function r(){this._labelList=[],this._chartViewList=[]}return r.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},r.prototype._addLabel=function(t,e,n,i,a){var s=i.style,o=i.__hostTarget,l=o.textConfig||{},u=i.getComputedTransform(),c=i.getBoundingRect().plain();fr.applyTransform(c,c,u),u?mo.setLocalTransform(u):(mo.x=mo.y=mo.rotation=mo.originX=mo.originY=0,mo.scaleX=mo.scaleY=1),mo.rotation=Dl(mo.rotation);var f=i.__hostTarget,h;if(f){h=f.getBoundingRect().plain();var d=f.getComputedTransform();fr.applyTransform(h,h,d)}var A=h&&f.getTextGuideLine();this._labelList.push({label:i,labelLine:A,seriesModel:n,dataIndex:t,dataType:e,layoutOptionOrCb:a,layoutOption:null,rect:c,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:A&&A.ignore,x:mo.x,y:mo.y,scaleX:mo.scaleX,scaleY:mo.scaleY,rotation:mo.rotation,style:{x:s.x,y:s.y,align:s.align,verticalAlign:s.verticalAlign,width:s.width,height:s.height,fontSize:s.fontSize},cursor:i.cursor,attachedPos:l.position,attachedRot:l.rotation}})},r.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var n=t.__model,i=n.get("labelLayout");(rr(i)||en(i).length)&&t.group.traverse(function(a){if(a.ignore)return!0;var s=a.getTextContent(),o=pr(a);s&&!s.disableLabelLayout&&e._addLabel(o.dataIndex,o.dataType,n,s,i)})},r.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),n=t.getHeight();function i(y,b){return function(){UQ(y,b)}}for(var a=0;a<this._labelList.length;a++){var s=this._labelList[a],o=s.label,l=o.__hostTarget,u=s.defaultAttr,c=void 0;rr(s.layoutOptionOrCb)?c=s.layoutOptionOrCb(vwe(s,l)):c=s.layoutOptionOrCb,c=c||{},s.layoutOption=c;var f=Math.PI/180;l&&l.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:u.attachedPos,rotation:c.rotate!=null?c.rotate*f:u.attachedRot,offset:[c.dx||0,c.dy||0]});var h=!1;if(c.x!=null?(o.x=Ut(c.x,e),o.setStyle("x",0),h=!0):(o.x=u.x,o.setStyle("x",u.style.x)),c.y!=null?(o.y=Ut(c.y,n),o.setStyle("y",0),h=!0):(o.y=u.y,o.setStyle("y",u.style.y)),c.labelLinePoints){var d=l.getTextGuideLine();d&&(d.setShape({points:c.labelLinePoints}),h=!1)}var A=aE(o);A.needsUpdateLabelLine=h,o.rotation=c.rotate!=null?c.rotate*f:u.rotation,o.scaleX=u.scaleX,o.scaleY=u.scaleY;for(var p=0;p<zQ.length;p++){var g=zQ[p];o.setStyle(g,c[g]!=null?c[g]:u.style[g])}if(c.draggable){if(o.draggable=!0,o.cursor="move",l){var m=s.seriesModel;if(s.dataIndex!=null){var v=s.seriesModel.getData(s.dataType);m=v.getItemModel(s.dataIndex)}o.on("drag",i(l,m.getModel("labelLine")))}}else o.off("drag"),o.cursor=u.cursor}},r.prototype.layout=function(t){var e=t.getWidth(),n=t.getHeight(),i=[];se(this._labelList,function(l){l.defaultAttr.ignore||i.push(qF({},l))});var a=dn(i,function(l){return l.layoutOption.moveOverlap==="shiftX"}),s=dn(i,function(l){return l.layoutOption.moveOverlap==="shiftY"});XF(a,0,0,e),XF(s,1,0,n);var o=dn(i,function(l){return l.layoutOption.hideOverlap});gwe(o),hie(o)},r.prototype.processLabelsOverall=function(){var t=this;se(this._chartViewList,function(e){var n=e.__model,i=e.ignoreLabelLineUpdate,a=n.isAnimationEnabled();e.group.traverse(function(s){if(s.ignore&&!s.forceLabelAnimation)return!0;var o=!i,l=s.getTextContent();!o&&l&&(o=aE(l).needsUpdateLabelLine),o&&t._updateLabelLine(s,n),a&&t._animateLabels(s,n)})})},r.prototype._updateLabelLine=function(t,e){var n=t.getTextContent(),i=pr(t),a=i.dataIndex;if(n&&a!=null){var s=e.getData(i.dataType),o=s.getItemModel(a),l={},u=s.getItemVisual(a,"style");if(u){var c=s.getVisual("drawType");l.stroke=u[c]}var f=o.getModel("labelLine");z9(t,V9(o),l),UQ(t,f)}},r.prototype._animateLabels=function(t,e){var n=t.getTextContent(),i=t.getTextGuideLine();if(n&&(t.forceLabelAnimation||!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!Vv(t))){var a=aE(n),s=a.oldLayout,o=pr(t),l=o.dataIndex,u={x:n.x,y:n.y,rotation:n.rotation},c=e.getData(o.dataType);if(s){n.attr(s);var h=t.prevStates;h&&(Lr(h,"select")>=0&&n.attr(a.oldLayoutSelect),Lr(h,"emphasis")>=0&&n.attr(a.oldLayoutEmphasis)),ln(n,u,e,l)}else if(n.attr(u),!iy(n).valueAnimation){var f=Zt(n.style.opacity,1);n.style.opacity=0,ni(n,{style:{opacity:f}},e,l)}if(a.oldLayout=u,n.states.select){var d=a.oldLayoutSelect={};G5(d,u,W5),G5(d,n.states.select,W5)}if(n.states.emphasis){var A=a.oldLayoutEmphasis={};G5(A,u,W5),G5(A,n.states.emphasis,W5)}qte(n,l,c,e,e)}if(i&&!i.ignore&&!i.invisible){var a=ywe(i),s=a.oldLayout,p={points:i.shape.points};s?(i.attr({shape:s}),ln(i,{shape:p},e)):(i.setShape(p),i.style.strokePercent=0,ni(i,{style:{strokePercent:1}},e)),a.oldLayout=p}},r}(),sE=Kr();function bwe(r){r.registerUpdateLifecycle("series:beforeupdate",function(t,e,n){var i=sE(e).labelManager;i||(i=sE(e).labelManager=new xwe),i.clearLabels()}),r.registerUpdateLifecycle("series:layoutlabels",function(t,e,n){var i=sE(e).labelManager;n.updatedSeries.forEach(function(a){i.addLabelsOfSeries(e.getViewOfSeriesModel(a))}),i.updateLayoutConfig(e),i.layout(e),i.processLabelsOverall()})}var oE=Math.sin,lE=Math.cos,die=Math.PI,rp=Math.PI*2,wwe=180/die,Aie=function(){function r(){}return r.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},r.prototype.moveTo=function(t,e){this._add("M",t,e)},r.prototype.lineTo=function(t,e){this._add("L",t,e)},r.prototype.bezierCurveTo=function(t,e,n,i,a,s){this._add("C",t,e,n,i,a,s)},r.prototype.quadraticCurveTo=function(t,e,n,i){this._add("Q",t,e,n,i)},r.prototype.arc=function(t,e,n,i,a,s){this.ellipse(t,e,n,n,0,i,a,s)},r.prototype.ellipse=function(t,e,n,i,a,s,o,l){var u=o-s,c=!l,f=Math.abs(u),h=hA(f-rp)||(c?u>=rp:-u>=rp),d=u>0?u%rp:u%rp+rp,A=!1;h?A=!0:hA(f)?A=!1:A=d>=die==!!c;var p=t+n*lE(s),g=e+i*oE(s);this._start&&this._add("M",p,g);var m=Math.round(a*wwe);if(h){var v=1/this._p,y=(c?1:-1)*(rp-v);this._add("A",n,i,m,1,+c,t+n*lE(s+y),e+i*oE(s+y)),v>.01&&this._add("A",n,i,m,0,+c,p,g)}else{var b=t+n*lE(o),_=e+i*oE(o);this._add("A",n,i,m,+A,+c,b,_)}},r.prototype.rect=function(t,e,n,i){this._add("M",t,e),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},r.prototype.closePath=function(){this._d.length>0&&this._add("Z")},r.prototype._add=function(t,e,n,i,a,s,o,l,u){for(var c=[],f=this._p,h=1;h<arguments.length;h++){var d=arguments[h];if(isNaN(d)){this._invalid=!0;return}c.push(Math.round(d*f)/f)}this._d.push(t+c.join(" ")),this._start=t==="Z"},r.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},r.prototype.getStr=function(){return this._str},r}(),G9="none",_we=Math.round;function Swe(r){var t=r.fill;return t!=null&&t!==G9}function Cwe(r){var t=r.stroke;return t!=null&&t!==G9}var YF=["lineCap","miterLimit","lineJoin"],Bwe=wt(YF,function(r){return"stroke-"+r.toLowerCase()});function Twe(r,t,e,n){var i=t.opacity==null?1:t.opacity;if(e instanceof es){r("opacity",i);return}if(Swe(t)){var a=kb(t.fill);r("fill",a.color);var s=t.fillOpacity!=null?t.fillOpacity*a.opacity*i:a.opacity*i;s<1&&r("fill-opacity",s)}else r("fill",G9);if(Cwe(t)){var o=kb(t.stroke);r("stroke",o.color);var l=t.strokeNoScale?e.getLineScale():1,u=l?(t.lineWidth||0)/l:0,c=t.strokeOpacity!=null?t.strokeOpacity*o.opacity*i:o.opacity*i,f=t.strokeFirst;if(u!==1&&r("stroke-width",u),f&&r("paint-order",f?"stroke":"fill"),c<1&&r("stroke-opacity",c),t.lineDash){var h=C9(e),d=h[0],A=h[1];d&&(A=_we(A||0),r("stroke-dasharray",d.join(",")),(A||n)&&r("stroke-dashoffset",A))}for(var p=0;p<YF.length;p++){var g=YF[p];if(t[g]!==GS[g]){var m=t[g]||GS[g];m&&r(Bwe[p],m)}}}}var pie="http://www.w3.org/2000/svg",gie="http://www.w3.org/1999/xlink",Ewe="http://www.w3.org/2000/xmlns/",kwe="http://www.w3.org/XML/1998/namespace",VQ="ecmeta_";function mie(r){return document.createElementNS(pie,r)}function Xa(r,t,e,n,i){return{tag:r,attrs:e||{},children:n,text:i,key:t}}function Nwe(r,t){var e=[];if(t)for(var n in t){var i=t[n],a=n;i!==!1&&(i!==!0&&i!=null&&(a+='="'+i+'"'),e.push(a))}return"<"+r+" "+e.join(" ")+">"}function Fwe(r){return"</"+r+">"}function W9(r,t){t=t||{};var e=t.newline?`
`:"";function n(i){var a=i.children,s=i.tag,o=i.attrs,l=i.text;return Nwe(s,o)+(s!=="style"?so(l):l||"")+(a?""+e+wt(a,function(u){return n(u)}).join(e)+e:"")+Fwe(s)}return n(r)}function Iwe(r,t,e){e=e||{};var n=e.newline?`
`:"",i=" {"+n,a=n+"}",s=wt(en(r),function(l){return l+i+wt(en(r[l]),function(u){return u+":"+r[l][u]+";"}).join(n)+a}).join(n),o=wt(en(t),function(l){return"@keyframes "+l+i+wt(en(t[l]),function(u){return u+i+wt(en(t[l][u]),function(c){var f=t[l][u][c];return c==="d"&&(f='path("'+f+'")'),c+":"+f+";"}).join(n)+a}).join(n)+a}).join(n);return!s&&!o?"":["<![CDATA[",s,o,"]]>"].join(n)}function ZF(r){return{zrId:r,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function GQ(r,t,e,n){return Xa("svg","root",{width:r,height:t,xmlns:pie,"xmlns:xlink":gie,version:"1.1",baseProfile:"full",viewBox:n?"0 0 "+r+" "+t:!1},e)}var Mwe=0;function vie(){return Mwe++}var WQ={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},cp="transform-origin";function Lwe(r,t,e){var n=pt({},r.shape);pt(n,t),r.buildPath(e,n);var i=new Aie;return i.reset(jee(r)),e.rebuildPath(i,1),i.generateStr(),i.getStr()}function Dwe(r,t){var e=t.originX,n=t.originY;(e||n)&&(r[cp]=e+"px "+n+"px")}var Pwe={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function yie(r,t){var e=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[e]=r,e}function Rwe(r,t,e){var n=r.shape.paths,i={},a,s;if(se(n,function(l){var u=ZF(e.zrId);u.animation=!0,g8(l,{},u,!0);var c=u.cssAnims,f=u.cssNodes,h=en(c),d=h.length;if(d){s=h[d-1];var A=c[s];for(var p in A){var g=A[p];i[p]=i[p]||{d:""},i[p].d+=g.d||""}for(var m in f){var v=f[m].animation;v.indexOf(s)>=0&&(a=v)}}}),!!a){t.d=!1;var o=yie(i,e);return a.replace(s,o)}}function $Q(r){return Ht(r)?WQ[r]?"cubic-bezier("+WQ[r]+")":TD(r)?r:"":""}function g8(r,t,e,n){var i=r.animators,a=i.length,s=[];if(r instanceof Vw){var o=Rwe(r,t,e);if(o)s.push(o);else if(!a)return}else if(!a)return;for(var l={},u=0;u<a;u++){var c=i[u],f=[c.getMaxTime()/1e3+"s"],h=$Q(c.getClip().easing),d=c.getDelay();h?f.push(h):f.push("linear"),d&&f.push(d/1e3+"s"),c.getLoop()&&f.push("infinite");var A=f.join(" ");l[A]=l[A]||[A,[]],l[A][1].push(c)}function p(v){var y=v[1],b=y.length,_={},T={},I={},N="animation-timing-function";function F(z,H,K){for(var Z=z.getTracks(),ie=z.getMaxTime(),ee=0;ee<Z.length;ee++){var ne=Z[ee];if(ne.needsAnimate()){var te=ne.keyframes,le=ne.propName;if(K&&(le=K(le)),le)for(var re=0;re<te.length;re++){var de=te[re],ue=Math.round(de.time/ie*100)+"%",Fe=$Q(de.easing),Se=de.rawValue;(Ht(Se)||an(Se))&&(H[ue]=H[ue]||{},H[ue][le]=de.rawValue,Fe&&(H[ue][N]=Fe))}}}}for(var P=0;P<b;P++){var D=y[P],R=D.targetName;R?R==="shape"&&F(D,T):!n&&F(D,_)}for(var E in _){var L={};QS(L,r),pt(L,_[E]);var k=Uee(L),w=_[E][N];I[E]=k?{transform:k}:{},Dwe(I[E],L),w&&(I[E][N]=w)}var C,S=!0;for(var E in T){I[E]=I[E]||{};var B=!C,w=T[E][N];B&&(C=new Ef);var O=C.len();C.reset(),I[E].d=Lwe(r,T[E],C);var V=C.len();if(!B&&O!==V){S=!1;break}w&&(I[E][N]=w)}if(!S)for(var E in I)delete I[E].d;if(!n)for(var P=0;P<b;P++){var D=y[P],R=D.targetName;R==="style"&&F(D,I,function(Z){return Pwe[Z]})}for(var M=en(I),U=!0,Q,P=1;P<M.length;P++){var W=M[P-1],j=M[P];if(I[W][cp]!==I[j][cp]){U=!1;break}Q=I[W][cp]}if(U&&Q){for(var E in I)I[E][cp]&&delete I[E][cp];t[cp]=Q}if(dn(M,function(z){return en(I[z]).length>0}).length){var X=yie(I,e);return X+" "+v[0]+" both"}}for(var g in l){var o=p(l[g]);o&&s.push(o)}if(s.length){var m=e.zrId+"-cls-"+vie();e.cssNodes["."+m]={animation:s.join(",")},t.class=m}}function Owe(r,t,e){if(!r.ignore)if(r.isSilent()){var n={"pointer-events":"none"};KQ(n,t,e)}else{var i=r.states.emphasis&&r.states.emphasis.style?r.states.emphasis.style:{},a=i.fill;if(!a){var s=r.style&&r.style.fill,o=r.states.select&&r.states.select.style&&r.states.select.style.fill,l=r.currentStates.indexOf("select")>=0&&o||s;l&&(a=jS(l))}var u=i.lineWidth;if(u){var c=!i.strokeNoScale&&r.transform?r.transform[0]:1;u=u/c}var n={cursor:"pointer"};a&&(n.fill=a),i.stroke&&(n.stroke=i.stroke),u&&(n["stroke-width"]=u),KQ(n,t,e)}}function KQ(r,t,e,n){var i=JSON.stringify(r),a=e.cssStyleCache[i];a||(a=e.zrId+"-cls-"+vie(),e.cssStyleCache[i]=a,e.cssNodes["."+a+":hover"]=r),t.class=t.class?t.class+" "+a:a}var zb=Math.round;function xie(r){return r&&Ht(r.src)}function bie(r){return r&&rr(r.toDataURL)}function $9(r,t,e,n){Twe(function(i,a){var s=i==="fill"||i==="stroke";s&&Oee(a)?_ie(t,r,i,n):s&&kD(a)?Sie(e,r,i,n):r[i]=a,s&&n.ssr&&a==="none"&&(r["pointer-events"]="visible")},t,e,!1),Gwe(e,r,n)}function K9(r,t){var e=$ee(t);e&&(e.each(function(n,i){n!=null&&(r[(VQ+i).toLowerCase()]=n+"")}),t.isSilent()&&(r[VQ+"silent"]="true"))}function qQ(r){return hA(r[0]-1)&&hA(r[1])&&hA(r[2])&&hA(r[3]-1)}function jwe(r){return hA(r[4])&&hA(r[5])}function q9(r,t,e){if(t&&!(jwe(t)&&qQ(t))){var n=1e4;r.transform=qQ(t)?"translate("+zb(t[4]*n)/n+" "+zb(t[5]*n)/n+")":xge(t)}}function XQ(r,t,e){for(var n=r.points,i=[],a=0;a<n.length;a++)i.push(zb(n[a][0]*e)/e),i.push(zb(n[a][1]*e)/e);t.points=i.join(" ")}function YQ(r){return!r.smooth}function Uwe(r){var t=wt(r,function(e){return typeof e=="string"?[e,e]:e});return function(e,n,i){for(var a=0;a<t.length;a++){var s=t[a],o=e[s[0]];o!=null&&(n[s[1]]=zb(o*i)/i)}}}var Hwe={circle:[Uwe(["cx","cy","r"])],polyline:[XQ,YQ],polygon:[XQ,YQ]};function Qwe(r){for(var t=r.animators,e=0;e<t.length;e++)if(t[e].targetName==="shape")return!0;return!1}function wie(r,t){var e=r.style,n=r.shape,i=Hwe[r.type],a={},s=t.animation,o="path",l=r.style.strokePercent,u=t.compress&&jee(r)||4;if(i&&!t.willUpdate&&!(i[1]&&!i[1](n))&&!(s&&Qwe(r))&&!(l<1)){o=r.type;var c=Math.pow(10,u);i[0](n,a,c)}else{var f=!r.path||r.shapeChanged();r.path||r.createPathProxy();var h=r.path;f&&(h.beginPath(),r.buildPath(h,r.shape),r.pathUpdated());var d=h.getVersion(),A=r,p=A.__svgPathBuilder;(A.__svgPathVersion!==d||!p||l!==A.__svgPathStrokePercent)&&(p||(p=A.__svgPathBuilder=new Aie),p.reset(u),h.rebuildPath(p,l),p.generateStr(),A.__svgPathVersion=d,A.__svgPathStrokePercent=l),a.d=p.getStr()}return q9(a,r.transform),$9(a,e,r,t),K9(a,r),t.animation&&g8(r,a,t),t.emphasis&&Owe(r,a,t),Xa(o,r.id+"",a)}function zwe(r,t){var e=r.style,n=e.image;if(n&&!Ht(n)&&(xie(n)?n=n.src:bie(n)&&(n=n.toDataURL())),!!n){var i=e.x||0,a=e.y||0,s=e.width,o=e.height,l={href:n,width:s,height:o};return i&&(l.x=i),a&&(l.y=a),q9(l,r.transform),$9(l,e,r,t),K9(l,r),t.animation&&g8(r,l,t),Xa("image",r.id+"",l)}}function Vwe(r,t){var e=r.style,n=e.text;if(n!=null&&(n+=""),!(!n||isNaN(e.x)||isNaN(e.y))){var i=e.font||Hh,a=e.x||0,s=wge(e.y||0,Uw(i),e.textBaseline),o=bge[e.textAlign]||e.textAlign,l={"dominant-baseline":"central","text-anchor":o};if(yte(e)){var u="",c=e.fontStyle,f=vte(e.fontSize);if(!parseFloat(f))return;var h=e.fontFamily||cee,d=e.fontWeight;u+="font-size:"+f+";font-family:"+h+";",c&&c!=="normal"&&(u+="font-style:"+c+";"),d&&d!=="normal"&&(u+="font-weight:"+d+";"),l.style=u}else l.style="font: "+i;return n.match(/\s/)&&(l["xml:space"]="preserve"),a&&(l.x=a),s&&(l.y=s),q9(l,r.transform),$9(l,e,r,t),K9(l,r),t.animation&&g8(r,l,t),Xa("text",r.id+"",l,void 0,n)}}function ZQ(r,t){if(r instanceof Xr)return wie(r,t);if(r instanceof es)return zwe(r,t);if(r instanceof E1)return Vwe(r,t)}function Gwe(r,t,e){var n=r.style;if(_ge(n)){var i=Sge(r),a=e.shadowCache,s=a[i];if(!s){var o=r.getGlobalScale(),l=o[0],u=o[1];if(!l||!u)return;var c=n.shadowOffsetX||0,f=n.shadowOffsetY||0,h=n.shadowBlur,d=kb(n.shadowColor),A=d.opacity,p=d.color,g=h/2/l,m=h/2/u,v=g+" "+m;s=e.zrId+"-s"+e.shadowIdx++,e.defs[s]=Xa("filter",s,{id:s,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Xa("feDropShadow","",{dx:c/l,dy:f/u,stdDeviation:v,"flood-color":p,"flood-opacity":A})]),a[i]=s}t.filter=$C(s)}}function _ie(r,t,e,n){var i=r[e],a,s={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(Pee(i))a="linearGradient",s.x1=i.x,s.y1=i.y,s.x2=i.x2,s.y2=i.y2;else if(Ree(i))a="radialGradient",s.cx=Zt(i.x,.5),s.cy=Zt(i.y,.5),s.r=Zt(i.r,.5);else return;for(var o=i.colorStops,l=[],u=0,c=o.length;u<c;++u){var f=q7(o[u].offset)*100+"%",h=o[u].color,d=kb(h),A=d.color,p=d.opacity,g={offset:f};g["stop-color"]=A,p<1&&(g["stop-opacity"]=p),l.push(Xa("stop",u+"",g))}var m=Xa(a,"",s,l),v=W9(m),y=n.gradientCache,b=y[v];b||(b=n.zrId+"-g"+n.gradientIdx++,y[v]=b,s.id=b,n.defs[b]=Xa(a,b,s,l)),t[e]=$C(b)}function Sie(r,t,e,n){var i=r.style[e],a=r.getBoundingRect(),s={},o=i.repeat,l=o==="no-repeat",u=o==="repeat-x",c=o==="repeat-y",f;if(Dee(i)){var h=i.imageWidth,d=i.imageHeight,A=void 0,p=i.image;if(Ht(p)?A=p:xie(p)?A=p.src:bie(p)&&(A=p.toDataURL()),typeof Image>"u"){var g="Image width/height must been given explictly in svg-ssr renderer.";js(h,g),js(d,g)}else if(h==null||d==null){var m=function(P,D){if(P){var R=P.elm,E=h||D.width,L=d||D.height;P.tag==="pattern"&&(u?(L=1,E/=a.width):c&&(E=1,L/=a.height)),P.attrs.width=E,P.attrs.height=L,R&&(R.setAttribute("width",E),R.setAttribute("height",L))}},v=OD(A,null,r,function(P){l||m(T,P),m(f,P)});v&&v.width&&v.height&&(h=h||v.width,d=d||v.height)}f=Xa("image","img",{href:A,width:h,height:d}),s.width=h,s.height=d}else i.svgElement&&(f=nr(i.svgElement),s.width=i.svgWidth,s.height=i.svgHeight);if(f){var y,b;l?y=b=1:u?(b=1,y=s.width/a.width):c?(y=1,b=s.height/a.height):s.patternUnits="userSpaceOnUse",y!=null&&!isNaN(y)&&(s.width=y),b!=null&&!isNaN(b)&&(s.height=b);var _=Uee(i);_&&(s.patternTransform=_);var T=Xa("pattern","",s,[f]),I=W9(T),N=n.patternCache,F=N[I];F||(F=n.zrId+"-p"+n.patternIdx++,N[I]=F,s.id=F,T=n.defs[F]=Xa("pattern",F,s,[f])),t[e]=$C(F)}}function Wwe(r,t,e){var n=e.clipPathCache,i=e.defs,a=n[r.id];if(!a){a=e.zrId+"-c"+e.clipPathIdx++;var s={id:a};n[r.id]=a,i[a]=Xa("clipPath",a,s,[wie(r,e)])}t["clip-path"]=$C(a)}function JQ(r){return document.createTextNode(r)}function yp(r,t,e){r.insertBefore(t,e)}function ez(r,t){r.removeChild(t)}function tz(r,t){r.appendChild(t)}function Cie(r){return r.parentNode}function Bie(r){return r.nextSibling}function uE(r,t){r.textContent=t}var rz=58,$we=120,Kwe=Xa("","");function JF(r){return r===void 0}function Jc(r){return r!==void 0}function qwe(r,t,e){for(var n={},i=t;i<=e;++i){var a=r[i].key;a!==void 0&&(n[a]=i)}return n}function Yx(r,t){var e=r.key===t.key,n=r.tag===t.tag;return n&&e}function Vb(r){var t,e=r.children,n=r.tag;if(Jc(n)){var i=r.elm=mie(n);if(X9(Kwe,r),xt(e))for(t=0;t<e.length;++t){var a=e[t];a!=null&&tz(i,Vb(a))}else Jc(r.text)&&!or(r.text)&&tz(i,JQ(r.text))}else r.elm=JQ(r.text);return r.elm}function Tie(r,t,e,n,i){for(;n<=i;++n){var a=e[n];a!=null&&yp(r,Vb(a),t)}}function g6(r,t,e,n){for(;e<=n;++e){var i=t[e];if(i!=null)if(Jc(i.tag)){var a=Cie(i.elm);ez(a,i.elm)}else ez(r,i.elm)}}function X9(r,t){var e,n=t.elm,i=r&&r.attrs||{},a=t.attrs||{};if(i!==a){for(e in a){var s=a[e],o=i[e];o!==s&&(s===!0?n.setAttribute(e,""):s===!1?n.removeAttribute(e):e==="style"?n.style.cssText=s:e.charCodeAt(0)!==$we?n.setAttribute(e,s):e==="xmlns:xlink"||e==="xmlns"?n.setAttributeNS(Ewe,e,s):e.charCodeAt(3)===rz?n.setAttributeNS(kwe,e,s):e.charCodeAt(5)===rz?n.setAttributeNS(gie,e,s):n.setAttribute(e,s))}for(e in i)e in a||n.removeAttribute(e)}}function Xwe(r,t,e){for(var n=0,i=0,a=t.length-1,s=t[0],o=t[a],l=e.length-1,u=e[0],c=e[l],f,h,d,A;n<=a&&i<=l;)s==null?s=t[++n]:o==null?o=t[--a]:u==null?u=e[++i]:c==null?c=e[--l]:Yx(s,u)?(ev(s,u),s=t[++n],u=e[++i]):Yx(o,c)?(ev(o,c),o=t[--a],c=e[--l]):Yx(s,c)?(ev(s,c),yp(r,s.elm,Bie(o.elm)),s=t[++n],c=e[--l]):Yx(o,u)?(ev(o,u),yp(r,o.elm,s.elm),o=t[--a],u=e[++i]):(JF(f)&&(f=qwe(t,n,a)),h=f[u.key],JF(h)?yp(r,Vb(u),s.elm):(d=t[h],d.tag!==u.tag?yp(r,Vb(u),s.elm):(ev(d,u),t[h]=void 0,yp(r,d.elm,s.elm))),u=e[++i]);(n<=a||i<=l)&&(n>a?(A=e[l+1]==null?null:e[l+1].elm,Tie(r,A,e,i,l)):g6(r,t,n,a))}function ev(r,t){var e=t.elm=r.elm,n=r.children,i=t.children;r!==t&&(X9(r,t),JF(t.text)?Jc(n)&&Jc(i)?n!==i&&Xwe(e,n,i):Jc(i)?(Jc(r.text)&&uE(e,""),Tie(e,null,i,0,i.length-1)):Jc(n)?g6(e,n,0,n.length-1):Jc(r.text)&&uE(e,""):r.text!==t.text&&(Jc(n)&&g6(e,n,0,n.length-1),uE(e,t.text)))}function Ywe(r,t){if(Yx(r,t))ev(r,t);else{var e=r.elm,n=Cie(e);Vb(t),n!==null&&(yp(n,t.elm,Bie(e)),g6(n,[r],0,0))}return t}var Zwe=0,Jwe=function(){function r(t,e,n){if(this.type="svg",this.refreshHover=nz(),this.configLayer=nz(),this.storage=e,this._opts=n=pt({},n),this.root=t,this._id="zr"+Zwe++,this._oldVNode=GQ(n.width,n.height),t&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=mie("svg");X9(null,this._oldVNode),i.appendChild(a),t.appendChild(i)}this.resize(n.width,n.height)}return r.prototype.getType=function(){return this.type},r.prototype.getViewportRoot=function(){return this._viewport},r.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},r.prototype.getSvgDom=function(){return this._svgDom},r.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",Ywe(this._oldVNode,t),this._oldVNode=t}},r.prototype.renderOneToVNode=function(t){return ZQ(t,ZF(this._id))},r.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),n=this._width,i=this._height,a=ZF(this._id);a.animation=t.animation,a.willUpdate=t.willUpdate,a.compress=t.compress,a.emphasis=t.emphasis,a.ssr=this._opts.ssr;var s=[],o=this._bgVNode=e_e(n,i,this._backgroundColor,a);o&&s.push(o);var l=t.compress?null:this._mainVNode=Xa("g","main",{},[]);this._paintList(e,a,l?l.children:s),l&&s.push(l);var u=wt(en(a.defs),function(h){return a.defs[h]});if(u.length&&s.push(Xa("defs","defs",{},u)),t.animation){var c=Iwe(a.cssNodes,a.cssAnims,{newline:!0});if(c){var f=Xa("style","stl",{},[],c);s.push(f)}}return GQ(n,i,s,t.useViewBox)},r.prototype.renderToString=function(t){return t=t||{},W9(this.renderToVNode({animation:Zt(t.cssAnimation,!0),emphasis:Zt(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:Zt(t.useViewBox,!0)}),{newline:!0})},r.prototype.setBackgroundColor=function(t){this._backgroundColor=t},r.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},r.prototype._paintList=function(t,e,n){for(var i=t.length,a=[],s=0,o,l,u=0,c=0;c<i;c++){var f=t[c];if(!f.invisible){var h=f.__clipPaths,d=h&&h.length||0,A=l&&l.length||0,p=void 0;for(p=Math.max(d-1,A-1);p>=0&&!(h&&l&&h[p]===l[p]);p--);for(var g=A-1;g>p;g--)s--,o=a[s-1];for(var m=p+1;m<d;m++){var v={};Wwe(h[m],v,e);var y=Xa("g","clip-g-"+u++,v,[]);(o?o.children:n).push(y),a[s++]=y,o=y}l=h;var b=ZQ(f,e);b&&(o?o.children:n).push(b)}}},r.prototype.resize=function(t,e){var n=this._opts,i=this.root,a=this._viewport;if(t!=null&&(n.width=t),e!=null&&(n.height=e),i&&a&&(a.style.display="none",t=kv(i,0,n),e=kv(i,1,n),a.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,a){var s=a.style;s.width=t+"px",s.height=e+"px"}if(kD(this._backgroundColor))this.refresh();else{var o=this._svgDom;o&&(o.setAttribute("width",t),o.setAttribute("height",e));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",t),l.setAttribute("height",e))}}},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},r.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},r.prototype.toDataURL=function(t){var e=this.renderToString(),n="data:image/svg+xml;";return t?(e=Bge(e),e&&n+"base64,"+e):n+"charset=UTF-8,"+encodeURIComponent(e)},r}();function nz(r){return function(){}}function e_e(r,t,e,n){var i;if(e&&e!=="none")if(i=Xa("rect","bg",{width:r,height:t,x:"0",y:"0"}),Oee(e))_ie({fill:e},i.attrs,"fill",n);else if(kD(e))Sie({style:{fill:e},dirty:Ri,getBoundingRect:function(){return{width:r,height:t}}},i.attrs,"fill",n);else{var a=kb(e),s=a.color,o=a.opacity;i.attrs.fill=s,o<1&&(i.attrs["fill-opacity"]=o)}return i}function t_e(r){r.registerPainter("svg",Jwe)}function iz(r,t,e){var n=il.createCanvas(),i=t.getWidth(),a=t.getHeight(),s=n.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=i+"px",s.height=a+"px",n.setAttribute("data-zr-dom-id",r)),n.width=i*e,n.height=a*e,n}var cE=function(r){Ge(t,r);function t(e,n,i){var a=r.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var s;i=i||HS,typeof e=="string"?s=iz(e,n,i):or(e)&&(s=e,e=s.id),a.id=e,a.dom=s;var o=s.style;return o&&(SD(s),s.onselectstart=function(){return!1},o.padding="0",o.margin="0",o.borderWidth="0"),a.painter=n,a.dpr=i,a}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=iz("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!==1&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,n,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],o=this.maxRepaintRectCount,l=!1,u=new fr(0,0,0,0);function c(v){if(!(!v.isFinite()||v.isZero()))if(s.length===0){var y=new fr(0,0,0,0);y.copy(v),s.push(y)}else{for(var b=!1,_=1/0,T=0,I=0;I<s.length;++I){var N=s[I];if(N.intersect(v)){var F=new fr(0,0,0,0);F.copy(N),F.union(v),s[I]=F,b=!0;break}else if(l){u.copy(v),u.union(N);var P=v.width*v.height,D=N.width*N.height,R=u.width*u.height,E=R-P-D;E<_&&(_=E,T=I)}}if(l&&(s[T].union(v),b=!0),!b){var y=new fr(0,0,0,0);y.copy(v),s.push(y)}l||(l=s.length>=o)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var h=e[f];if(h){var d=h.shouldBePainted(i,a,!0,!0),A=h.__isRendered&&(h.__dirty&Nl||!d)?h.getPrevPaintRect():null;A&&c(A);var p=d&&(h.__dirty&Nl||!h.__isRendered)?h.getPaintRect():null;p&&c(p)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var h=n[f],d=h&&h.shouldBePainted(i,a,!0,!0);if(h&&(!d||!h.__zr)&&h.__isRendered){var A=h.getPrevPaintRect();A&&c(A)}}var g;do{g=!1;for(var f=0;f<s.length;){if(s[f].isZero()){s.splice(f,1);continue}for(var m=f+1;m<s.length;)s[f].intersect(s[m])?(g=!0,s[f].union(s[m]),s.splice(m,1)):m++;f++}}while(g);return this._paintRects=s,s},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,n){var i=this.dpr,a=this.dom,s=a.style,o=this.domBack;s&&(s.width=e+"px",s.height=n+"px"),a.width=e*i,a.height=n*i,o&&(o.width=e*i,o.height=n*i,i!==1&&this.ctxBack.scale(i,i))},t.prototype.clear=function(e,n,i){var a=this.dom,s=this.ctx,o=a.width,l=a.height;n=n||this.clearColor;var u=this.motionBlur&&!e,c=this.lastFrameAlpha,f=this.dpr,h=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,o/f,l/f));var d=this.domBack;function A(p,g,m,v){if(s.clearRect(p,g,m,v),n&&n!=="transparent"){var y=void 0;if(Dw(n)){var b=n.global||n.__width===m&&n.__height===v;y=b&&n.__canvasGradient||DF(s,n,{x:0,y:0,width:m,height:v}),n.__canvasGradient=y,n.__width=m,n.__height=v}else Aee(n)&&(n.scaleX=n.scaleX||f,n.scaleY=n.scaleY||f,y=PF(s,n,{dirty:function(){h.setUnpainted(),h.painter.refresh()}}));s.save(),s.fillStyle=y||n,s.fillRect(p,g,m,v),s.restore()}u&&(s.save(),s.globalAlpha=c,s.drawImage(d,p,g,m,v),s.restore())}!i||u?A(0,0,o,l):i.length&&se(i,function(p){A(p.x*f,p.y*f,p.width*f,p.height*f)})},t}(Mu),az=1e5,np=314159,$5=.01,r_e=.001;function n_e(r){return r?r.__builtin__?!0:!(typeof r.resize!="function"||typeof r.refresh!="function"):!1}function i_e(r,t){var e=document.createElement("div");return e.style.cssText=["position:relative","width:"+r+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",e}var a_e=function(){function r(t,e,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=n=pt({},n||{}),this.dpr=n.devicePixelRatio||HS,this._singleCanvas=a,this.root=t;var s=t.style;s&&(SD(t),t.innerHTML=""),this.storage=e;var o=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var c=t,f=c.width,h=c.height;n.width!=null&&(f=n.width),n.height!=null&&(h=n.height),this.dpr=n.devicePixelRatio||1,c.width=f*this.dpr,c.height=h*this.dpr,this._width=f,this._height=h;var d=new cE(c,this,this.dpr);d.__builtin__=!0,d.initContext(),l[np]=d,d.zlevel=np,o.push(np),this._domRoot=t}else{this._width=kv(t,0,n),this._height=kv(t,1,n);var u=this._domRoot=i_e(this._width,this._height);t.appendChild(u)}}return r.prototype.getType=function(){return"canvas"},r.prototype.isSingleCanvas=function(){return this._singleCanvas},r.prototype.getViewportRoot=function(){return this._domRoot},r.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},r.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,n,t,this._redrawId);for(var a=0;a<i.length;a++){var s=i[a],o=this._layers[s];if(!o.__builtin__&&o.refresh){var l=a===0?this._backgroundColor:null;o.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},r.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},r.prototype._paintHoverList=function(t){var e=t.length,n=this._hoverlayer;if(n&&n.clear(),!!e){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,s=0;s<e;s++){var o=t[s];o.__inHover&&(n||(n=this._hoverlayer=this.getLayer(az)),a||(a=n.ctx,a.save()),Pp(a,o,i,s===e-1))}a&&a.restore()}},r.prototype.getHoverLayer=function(){return this.getLayer(az)},r.prototype.paintOne=function(t,e){B9(t,e)},r.prototype._paintList=function(t,e,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(t);var a=this._doPaintList(t,e,n),s=a.finished,o=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),o&&this._paintHoverList(t),s)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;DS(function(){l._paintList(t,e,n,i)})}}},r.prototype._compositeManually=function(){var t=this.getLayer(np).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,e,n)})},r.prototype._doPaintList=function(t,e,n){for(var i=this,a=[],s=this._opts.useDirtyRect,o=0;o<this._zlevelList.length;o++){var l=this._zlevelList[o],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&a.push(u)}for(var c=!0,f=!1,h=function(p){var g=a[p],m=g.ctx,v=s&&g.createRepaintRects(t,e,d._width,d._height),y=n?g.__startIndex:g.__drawIndex,b=!n&&g.incremental&&Date.now,_=b&&Date.now(),T=g.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(g.__startIndex===g.__endIndex)g.clear(!1,T,v);else if(y===g.__startIndex){var I=t[y];(!I.incremental||!I.notClear||n)&&g.clear(!1,T,v)}y===-1&&(console.error("For some unknown reason. drawIndex is -1"),y=g.__startIndex);var N,F=function(E){var L={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(N=y;N<g.__endIndex;N++){var k=t[N];if(k.__inHover&&(f=!0),i._doPaintEl(k,g,s,E,L,N===g.__endIndex-1),b){var w=Date.now()-_;if(w>15)break}}L.prevElClipPaths&&m.restore()};if(v)if(v.length===0)N=g.__endIndex;else for(var P=d.dpr,D=0;D<v.length;++D){var R=v[D];m.save(),m.beginPath(),m.rect(R.x*P,R.y*P,R.width*P,R.height*P),m.clip(),F(R),m.restore()}else m.save(),F(),m.restore();g.__drawIndex=N,g.__drawIndex<g.__endIndex&&(c=!1)},d=this,A=0;A<a.length;A++)h(A);return Zr.wxa&&se(this._layers,function(p){p&&p.ctx&&p.ctx.draw&&p.ctx.draw()}),{finished:c,needsRefreshHover:f}},r.prototype._doPaintEl=function(t,e,n,i,a,s){var o=e.ctx;if(n){var l=t.getPaintRect();(!i||l&&l.intersect(i))&&(Pp(o,t,a,s),t.setPrevPaintRect(l))}else Pp(o,t,a,s)},r.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=np);var n=this._layers[t];return n||(n=new cE("zr_"+t,this,this.dpr),n.zlevel=t,n.__builtin__=!0,this._layerConfig[t]?Dr(n,this._layerConfig[t],!0):this._layerConfig[t-$5]&&Dr(n,this._layerConfig[t-$5],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},r.prototype.insertLayer=function(t,e){var n=this._layers,i=this._zlevelList,a=i.length,s=this._domRoot,o=null,l=-1;if(!n[t]&&n_e(e)){if(a>0&&t>i[0]){for(l=0;l<a-1&&!(i[l]<t&&i[l+1]>t);l++);o=n[i[l]]}if(i.splice(l+1,0,t),n[t]=e,!e.virtual)if(o){var u=o.dom;u.nextSibling?s.insertBefore(e.dom,u.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom);e.painter||(e.painter=this)}},r.prototype.eachLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i];t.call(e,this._layers[a],a)}},r.prototype.eachBuiltinLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],s=this._layers[a];s.__builtin__&&t.call(e,s,a)}},r.prototype.eachOtherLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],s=this._layers[a];s.__builtin__||t.call(e,s,a)}},r.prototype.getLayers=function(){return this._layers},r.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(f,h){f.__dirty=f.__used=!1});function e(f){a&&(a.__endIndex!==f&&(a.__dirty=!0),a.__endIndex=f)}if(this._singleCanvas)for(var n=1;n<t.length;n++){var i=t[n];if(i.zlevel!==t[n-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,s=0,o,l;for(l=0;l<t.length;l++){var i=t[l],u=i.zlevel,c=void 0;o!==u&&(o=u,s=0),i.incremental?(c=this.getLayer(u+r_e,this._needsManuallyCompositing),c.incremental=!0,s=1):c=this.getLayer(u+(s>0?$5:0),this._needsManuallyCompositing),c.__builtin__||QC("ZLevel "+u+" has been used by unkown layer "+c.id),c!==a&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,e(l),a=c),i.__dirty&Nl&&!i.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}e(l),this.eachBuiltinLayer(function(f,h){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},r.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},r.prototype._clearLayer=function(t){t.clear()},r.prototype.setBackgroundColor=function(t){this._backgroundColor=t,se(this._layers,function(e){e.setUnpainted()})},r.prototype.configLayer=function(t,e){if(e){var n=this._layerConfig;n[t]?Dr(n[t],e,!0):n[t]=e;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===t||a===t+$5){var s=this._layers[a];Dr(s,n[t],!0)}}}},r.prototype.delLayer=function(t){var e=this._layers,n=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],n.splice(Lr(n,t),1))},r.prototype.resize=function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,a=this.root;if(t!=null&&(i.width=t),e!=null&&(i.height=e),t=kv(a,0,i),e=kv(a,1,i),n.style.display="",this._width!==t||e!==this._height){n.style.width=t+"px",n.style.height=e+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(t==null||e==null)return;this._width=t,this._height=e,this.getLayer(np).resize(t,e)}return this},r.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},r.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},r.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[np].dom;var e=new cE("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var n=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,a=e.dom.height;this.eachLayer(function(f){f.__builtin__?n.drawImage(f.dom,0,0,i,a):f.renderToCanvas&&(n.save(),f.renderToCanvas(n),n.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},o=this.storage.getDisplayList(!0),l=0,u=o.length;l<u;l++){var c=o[l];Pp(n,c,s,l===u-1)}return e.dom},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r}();function s_e(r){r.registerPainter("canvas",a_e)}var o_e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e){return Df(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var n=new ir,i=ia("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);n.add(i),i.setStyle(e.lineStyle);var a=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),o=a==="none"?"circle":a,l=e.itemHeight*.8,u=ia(o,(e.itemWidth-l)/2,(e.itemHeight-l)/2,l,l,e.itemStyle.fill);n.add(u),u.setStyle(e.itemStyle);var c=e.iconRotate==="inherit"?s:e.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([e.itemWidth/2,e.itemHeight/2]),o.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill=Je.color.neutral00,u.style.lineWidth=2),n},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(Ln);function D1(r,t){var e=r.mapDimensionsAll("defaultedLabel"),n=e.length;if(n===1){var i=F1(r,t,e[0]);return i!=null?i+"":null}else if(n){for(var a=[],s=0;s<e.length;s++)a.push(F1(r,t,e[s]));return a.join(" ")}}function Eie(r,t){var e=r.mapDimensionsAll("defaultedLabel");if(!xt(t))return t+"";for(var n=[],i=0;i<e.length;i++){var a=r.getDimensionIndex(e[i]);a>=0&&n.push(t[a])}return n.join(" ")}var Xw=function(r){Ge(t,r);function t(e,n,i,a){var s=r.call(this)||this;return s.updateData(e,n,i,a),s}return t.prototype._createSymbol=function(e,n,i,a,s,o){this.removeAll();var l=ia(e,-1,-1,2,2,null,o);l.attr({z2:Zt(s,100),culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),l.drift=l_e,this._symbolType=e,this.add(l)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){zh(this.childAt(0))},t.prototype.downplay=function(){Vh(this.childAt(0))},t.prototype.setZ=function(e,n){var i=this.childAt(0);i.zlevel=e,i.z=n},t.prototype.setDraggable=function(e,n){var i=this.childAt(0);i.draggable=e,i.cursor=!n&&e?"move":i.cursor},t.prototype.updateData=function(e,n,i,a){this.silent=!1;var s=e.getItemVisual(n,"symbol")||"circle",o=e.hostModel,l=t.getSymbolSize(e,n),u=t.getSymbolZ2(e,n),c=s!==this._symbolType,f=a&&a.disableAnimation;if(c){var h=e.getItemVisual(n,"symbolKeepAspect");this._createSymbol(s,e,n,l,u,h)}else{var d=this.childAt(0);d.silent=!1;var A={scaleX:l[0]/2,scaleY:l[1]/2};f?d.attr(A):ln(d,A,o,n),Fu(d)}if(this._updateCommon(e,n,l,i,a),c){var d=this.childAt(0);if(!f){var A={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,ni(d,A,o,n)}}f&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,n,i,a,s){var o=this.childAt(0),l=e.hostModel,u,c,f,h,d,A,p,g,m;if(a&&(u=a.emphasisItemStyle,c=a.blurItemStyle,f=a.selectItemStyle,h=a.focus,d=a.blurScope,p=a.labelStatesModels,g=a.hoverScale,m=a.cursorStyle,A=a.emphasisDisabled),!a||e.hasItemOption){var v=a&&a.itemModel?a.itemModel:e.getItemModel(n),y=v.getModel("emphasis");u=y.getModel("itemStyle").getItemStyle(),f=v.getModel(["select","itemStyle"]).getItemStyle(),c=v.getModel(["blur","itemStyle"]).getItemStyle(),h=y.get("focus"),d=y.get("blurScope"),A=y.get("disabled"),p=Ma(v),g=y.getShallow("scale"),m=v.getShallow("cursor")}var b=e.getItemVisual(n,"symbolRotate");o.attr("rotation",(b||0)*Math.PI/180||0);var _=zg(e.getItemVisual(n,"symbolOffset"),i);_&&(o.x=_[0],o.y=_[1]),m&&o.attr("cursor",m);var T=e.getItemVisual(n,"style"),I=T.fill;if(o instanceof es){var N=o.style;o.useStyle(pt({image:N.image,x:N.x,y:N.y,width:N.width,height:N.height},T))}else o.__isEmptyBrush?o.useStyle(pt({},T)):o.useStyle(T),o.style.decal=null,o.setColor(I,s&&s.symbolInnerColor),o.style.strokeNoScale=!0;var F=e.getItemVisual(n,"liftZ"),P=this._z2;F!=null?P==null&&(this._z2=o.z2,o.z2+=F):P!=null&&(o.z2=P,this._z2=null);var D=s&&s.useNameLabel;Ja(o,p,{labelFetcher:l,labelDataIndex:n,defaultText:R,inheritColor:I,defaultOpacity:T.opacity});function R(k){return D?e.getName(k):D1(e,k)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var E=o.ensureState("emphasis");E.style=u,o.ensureState("select").style=f,o.ensureState("blur").style=c;var L=g==null||g===!0?Math.max(1.1,3/this._sizeY):isFinite(g)&&g>0?+g:1;E.scaleX=this._sizeX*L,E.scaleY=this._sizeY*L,this.setSymbolScale(1),di(this,h,d,A)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,n,i){var a=this.childAt(0),s=pr(this).dataIndex,o=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var l=a.getTextContent();l&&XA(l,{style:{opacity:0}},n,{dataIndex:s,removeOpt:o,cb:function(){a.removeTextContent()}})}else a.removeTextContent();XA(a,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:s,cb:e,removeOpt:o})},t.getSymbolSize=function(e,n){return cy(e.getItemVisual(n,"symbolSize"))},t.getSymbolZ2=function(e,n){return e.getItemVisual(n,"z2")},t}(ir);function l_e(r,t){this.parent.drift(r,t)}function fE(r,t,e,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(e))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&r.getItemVisual(e,"symbol")!=="none"}function sz(r){return r!=null&&!or(r)&&(r={isIgnore:r}),r||{}}function oz(r){var t=r.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:Ma(t),cursorStyle:t.get("cursor")}}var Yw=function(){function r(t){this.group=new ir,this._SymbolCtor=t||Xw}return r.prototype.updateData=function(t,e){this._progressiveEls=null,e=sz(e);var n=this.group,i=t.hostModel,a=this._data,s=this._SymbolCtor,o=e.disableAnimation,l=oz(t),u={disableAnimation:o},c=e.getSymbolPoint||function(f){return t.getItemLayout(f)};a||n.removeAll(),t.diff(a).add(function(f){var h=c(f);if(fE(t,h,f,e)){var d=new s(t,f,l,u);d.setPosition(h),t.setItemGraphicEl(f,d),n.add(d)}}).update(function(f,h){var d=a.getItemGraphicEl(h),A=c(f);if(!fE(t,A,f,e)){n.remove(d);return}var p=t.getItemVisual(f,"symbol")||"circle",g=d&&d.getSymbolType&&d.getSymbolType();if(!d||g&&g!==p)n.remove(d),d=new s(t,f,l,u),d.setPosition(A);else{d.updateData(t,f,l,u);var m={x:A[0],y:A[1]};o?d.attr(m):ln(d,m,i)}n.add(d),t.setItemGraphicEl(f,d)}).remove(function(f){var h=a.getItemGraphicEl(f);h&&h.fadeOut(function(){n.remove(h)},i)}).execute(),this._getSymbolPoint=c,this._data=t},r.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(n,i){var a=t._getSymbolPoint(i);n.setPosition(a),n.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=oz(t),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,e,n){this._progressiveEls=[],n=sz(n);function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var a=t.start;a<t.end;a++){var s=e.getItemLayout(a);if(fE(e,s,a,n)){var o=new this._SymbolCtor(e,a,this._seriesScope);o.traverse(i),o.setPosition(s),this.group.add(o),e.setItemGraphicEl(a,o),this._progressiveEls.push(o)}}},r.prototype.eachRendered=function(t){h0(this._progressiveEls||this.group,t)},r.prototype.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(i){i.fadeOut(function(){e.remove(i)},n.hostModel)}):e.removeAll()},r}();function kie(r,t,e){var n=r.getBaseAxis(),i=r.getOtherAxis(n),a=u_e(i,e),s=n.dim,o=i.dim,l=t.mapDimension(o),u=t.mapDimension(s),c=o==="x"||o==="radius"?1:0,f=wt(r.dimensions,function(A){return t.mapDimension(A)}),h=!1,d=t.getCalculationInfo("stackResultDimension");return Wh(t,f[0])&&(h=!0,f[0]=d),Wh(t,f[1])&&(h=!0,f[1]=d),{dataDimsForPoint:f,valueStart:a,valueAxisDim:o,baseAxisDim:s,stacked:!!h,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function u_e(r,t){var e=0,n=r.scale.getExtent();return t==="start"?e=n[0]:t==="end"?e=n[1]:an(t)&&!isNaN(t)?e=t:n[0]>0?e=n[0]:n[1]<0&&(e=n[1]),e}function Nie(r,t,e,n){var i=NaN;r.stacked&&(i=e.get(e.getCalculationInfo("stackedOverDimension"),n)),isNaN(i)&&(i=r.valueStart);var a=r.baseDataOffset,s=[];return s[a]=e.get(r.baseDim,n),s[1-a]=i,t.dataToPoint(s)}function c_e(r,t){var e=[];return t.diff(r).add(function(n){e.push({cmd:"+",idx:n})}).update(function(n,i){e.push({cmd:"=",idx:i,idx1:n})}).remove(function(n){e.push({cmd:"-",idx:n})}).execute(),e}function f_e(r,t,e,n,i,a,s,o){for(var l=c_e(r,t),u=[],c=[],f=[],h=[],d=[],A=[],p=[],g=kie(i,t,s),m=r.getLayout("points")||[],v=t.getLayout("points")||[],y=0;y<l.length;y++){var b=l[y],_=!0,T=void 0,I=void 0;switch(b.cmd){case"=":T=b.idx*2,I=b.idx1*2;var N=m[T],F=m[T+1],P=v[I],D=v[I+1];(isNaN(N)||isNaN(F))&&(N=P,F=D),u.push(N,F),c.push(P,D),f.push(e[T],e[T+1]),h.push(n[I],n[I+1]),p.push(t.getRawIndex(b.idx1));break;case"+":var R=b.idx,E=g.dataDimsForPoint,L=i.dataToPoint([t.get(E[0],R),t.get(E[1],R)]);I=R*2,u.push(L[0],L[1]),c.push(v[I],v[I+1]);var k=Nie(g,i,t,R);f.push(k[0],k[1]),h.push(n[I],n[I+1]),p.push(t.getRawIndex(R));break;case"-":_=!1}_&&(d.push(b),A.push(A.length))}A.sort(function(W,j){return p[W]-p[j]});for(var w=u.length,C=ff(w),S=ff(w),B=ff(w),O=ff(w),V=[],y=0;y<A.length;y++){var M=A[y],U=y*2,Q=M*2;C[U]=u[Q],C[U+1]=u[Q+1],S[U]=c[Q],S[U+1]=c[Q+1],B[U]=f[Q],B[U+1]=f[Q+1],O[U]=h[Q],O[U+1]=h[Q+1],V[y]=d[M]}return{current:C,next:S,stackedOnCurrent:B,stackedOnNext:O,status:V}}var Ed=Math.min,kd=Math.max;function sg(r,t){return isNaN(r)||isNaN(t)}function eI(r,t,e,n,i,a,s,o,l){for(var u,c,f,h,d,A,p=e,g=0;g<n;g++){var m=t[p*2],v=t[p*2+1];if(p>=i||p<0)break;if(sg(m,v)){if(l){p+=a;continue}break}if(p===e)r[a>0?"moveTo":"lineTo"](m,v),f=m,h=v;else{var y=m-u,b=v-c;if(y*y+b*b<.5){p+=a;continue}if(s>0){for(var _=p+a,T=t[_*2],I=t[_*2+1];T===m&&I===v&&g<n;)g++,_+=a,p+=a,T=t[_*2],I=t[_*2+1],m=t[p*2],v=t[p*2+1],y=m-u,b=v-c;var N=g+1;if(l)for(;sg(T,I)&&N<n;)N++,_+=a,T=t[_*2],I=t[_*2+1];var F=.5,P=0,D=0,R=void 0,E=void 0;if(N>=n||sg(T,I))d=m,A=v;else{P=T-u,D=I-c;var L=m-u,k=T-m,w=v-c,C=I-v,S=void 0,B=void 0;if(o==="x"){S=Math.abs(L),B=Math.abs(k);var O=P>0?1:-1;d=m-O*S*s,A=v,R=m+O*B*s,E=v}else if(o==="y"){S=Math.abs(w),B=Math.abs(C);var V=D>0?1:-1;d=m,A=v-V*S*s,R=m,E=v+V*B*s}else S=Math.sqrt(L*L+w*w),B=Math.sqrt(k*k+C*C),F=B/(B+S),d=m-P*s*(1-F),A=v-D*s*(1-F),R=m+P*s*F,E=v+D*s*F,R=Ed(R,kd(T,m)),E=Ed(E,kd(I,v)),R=kd(R,Ed(T,m)),E=kd(E,Ed(I,v)),P=R-m,D=E-v,d=m-P*S/B,A=v-D*S/B,d=Ed(d,kd(u,m)),A=Ed(A,kd(c,v)),d=kd(d,Ed(u,m)),A=kd(A,Ed(c,v)),P=m-d,D=v-A,R=m+P*B/S,E=v+D*B/S}r.bezierCurveTo(f,h,d,A,m,v),f=R,h=E}else r.lineTo(m,v)}u=m,c=v,p+=a}return g}var Fie=function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r}(),h_e=function(r){Ge(t,r);function t(e){var n=r.call(this,e)||this;return n.type="ec-polyline",n}return t.prototype.getDefaultStyle=function(){return{stroke:Je.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new Fie},t.prototype.buildPath=function(e,n){var i=n.points,a=0,s=i.length/2;if(n.connectNulls){for(;s>0&&sg(i[s*2-2],i[s*2-1]);s--);for(;a<s&&sg(i[a*2],i[a*2+1]);a++);}for(;a<s;)a+=eI(e,i,a,s,s,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},t.prototype.getPointOn=function(e,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,a=i.data,s=Ef.CMD,o,l,u=n==="x",c=[],f=0;f<a.length;){var h=a[f++],d=void 0,A=void 0,p=void 0,g=void 0,m=void 0,v=void 0,y=void 0;switch(h){case s.M:o=a[f++],l=a[f++];break;case s.L:if(d=a[f++],A=a[f++],y=u?(e-o)/(d-o):(e-l)/(A-l),y<=1&&y>=0){var b=u?(A-l)*y+l:(d-o)*y+o;return u?[e,b]:[b,e]}o=d,l=A;break;case s.C:d=a[f++],A=a[f++],p=a[f++],g=a[f++],m=a[f++],v=a[f++];var _=u?RS(o,d,p,m,e,c):RS(l,A,g,v,e,c);if(_>0)for(var T=0;T<_;T++){var I=c[T];if(I<=1&&I>=0){var b=u?Ga(l,A,g,v,I):Ga(o,d,p,m,I);return u?[e,b]:[b,e]}}o=m,l=v;break}}},t}(Xr),d_e=function(r){Ge(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(Fie),Iie=function(r){Ge(t,r);function t(e){var n=r.call(this,e)||this;return n.type="ec-polygon",n}return t.prototype.getDefaultShape=function(){return new d_e},t.prototype.buildPath=function(e,n){var i=n.points,a=n.stackedOnPoints,s=0,o=i.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;o>0&&sg(i[o*2-2],i[o*2-1]);o--);for(;s<o&&sg(i[s*2],i[s*2+1]);s++);}for(;s<o;){var u=eI(e,i,s,o,o,1,n.smooth,l,n.connectNulls);eI(e,a,s+u-1,u,o,-1,n.stackedOnSmooth,l,n.connectNulls),s+=u+1,e.closePath()}},t}(Xr);function Mie(r,t,e,n,i){var a=r.getArea(),s=a.x,o=a.y,l=a.width,u=a.height,c=e.get(["lineStyle","width"])||0;s-=c/2,o-=c/2,l+=c,u+=c,l=Math.ceil(l),s!==Math.floor(s)&&(s=Math.floor(s),l++);var f=new zr({shape:{x:s,y:o,width:l,height:u}});if(t){var h=r.getBaseAxis(),d=h.isHorizontal(),A=h.inverse;d?(A&&(f.shape.x+=l),f.shape.width=0):(A||(f.shape.y+=u),f.shape.height=0);var p=rr(i)?function(g){i(g,f)}:null;ni(f,{shape:{width:l,height:u,x:s,y:o}},e,null,n,p)}return f}function Lie(r,t,e){var n=r.getArea(),i=ta(n.r0,1),a=ta(n.r,1),s=new Us({shape:{cx:ta(r.cx,1),cy:ta(r.cy,1),r0:i,r:a,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(t){var o=r.getBaseAxis().dim==="angle";o?s.shape.endAngle=n.startAngle:s.shape.r=i,ni(s,{shape:{endAngle:n.endAngle,r:a}},e)}return s}function Zw(r,t,e,n,i){if(r){if(r.type==="polar")return Lie(r,t,e);if(r.type==="cartesian2d")return Mie(r,t,e,n,i)}else return null;return null}function YA(r,t){return r.type===t}function lz(r,t){if(r.length===t.length){for(var e=0;e<r.length;e++)if(r[e]!==t[e])return;return!0}}function uz(r){for(var t=1/0,e=1/0,n=-1/0,i=-1/0,a=0;a<r.length;){var s=r[a++],o=r[a++];isNaN(s)||(t=Math.min(s,t),n=Math.max(s,n)),isNaN(o)||(e=Math.min(o,e),i=Math.max(o,i))}return[[t,e],[n,i]]}function cz(r,t){var e=uz(r),n=e[0],i=e[1],a=uz(t),s=a[0],o=a[1];return Math.max(Math.abs(n[0]-s[0]),Math.abs(n[1]-s[1]),Math.abs(i[0]-o[0]),Math.abs(i[1]-o[1]))}function fz(r){return an(r)?r:r?.5:0}function A_e(r,t,e){if(!e.valueDim)return[];for(var n=t.count(),i=ff(n*2),a=0;a<n;a++){var s=Nie(e,r,t,a);i[a*2]=s[0],i[a*2+1]=s[1]}return i}function Nd(r,t,e,n,i){var a=e.getBaseAxis(),s=a.dim==="x"||a.dim==="radius"?0:1,o=[],l=0,u=[],c=[],f=[],h=[];if(i){for(l=0;l<r.length;l+=2){var d=t||r;!isNaN(d[l])&&!isNaN(d[l+1])&&h.push(r[l],r[l+1])}r=h}for(l=0;l<r.length-2;l+=2)switch(f[0]=r[l+2],f[1]=r[l+3],c[0]=r[l],c[1]=r[l+1],o.push(c[0],c[1]),n){case"end":u[s]=f[s],u[1-s]=c[1-s],o.push(u[0],u[1]);break;case"middle":var A=(c[s]+f[s])/2,p=[];u[s]=p[s]=A,u[1-s]=c[1-s],p[1-s]=f[1-s],o.push(u[0],u[1]),o.push(p[0],p[1]);break;default:u[s]=c[s],u[1-s]=f[1-s],o.push(u[0],u[1])}return o.push(r[l++],r[l++]),o}function p_e(r,t){var e=[],n=r.length,i,a;function s(c,f,h){var d=c.coord,A=(h-d)/(f.coord-d),p=ED(A,[c.color,f.color]);return{coord:h,color:p}}for(var o=0;o<n;o++){var l=r[o],u=l.coord;if(u<0)i=l;else if(u>t){a?e.push(s(a,l,t)):i&&e.push(s(i,l,0),s(i,l,t));break}else i&&(e.push(s(i,l,0)),i=null),e.push(l),a=l}return e}function g_e(r,t,e){var n=r.getVisual("visualMeta");if(!(!n||!n.length||!r.count())&&t.type==="cartesian2d"){for(var i,a,s=n.length-1;s>=0;s--){var o=r.getDimensionInfo(n[s].dimension);if(i=o&&o.coordDim,i==="x"||i==="y"){a=n[s];break}}if(a){var l=t.getAxis(i),u=wt(a.stops,function(y){return{coord:l.toGlobalCoord(l.dataToCoord(y.value)),color:y.color}}),c=u.length,f=a.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),f.reverse());var h=p_e(u,i==="x"?e.getWidth():e.getHeight()),d=h.length;if(!d&&c)return u[0].coord<0?f[1]?f[1]:u[c-1].color:f[0]?f[0]:u[0].color;var A=10,p=h[0].coord-A,g=h[d-1].coord+A,m=g-p;if(m<.001)return"transparent";se(h,function(y){y.offset=(y.coord-p)/m}),h.push({offset:d?h[d-1].offset:.5,color:f[1]||"transparent"}),h.unshift({offset:d?h[0].offset:.5,color:f[0]||"transparent"});var v=new jg(0,0,0,0,h,!0);return v[i]=p,v[i+"2"]=g,v}}}function m_e(r,t,e){var n=r.get("showAllSymbol"),i=n==="auto";if(!(n&&!i)){var a=e.getAxesByScale("ordinal")[0];if(a&&!(i&&v_e(a,t))){var s=t.mapDimension(a.dim),o={};return se(a.getViewLabels(),function(l){var u=a.scale.getRawOrdinalNumber(l.tickValue);o[u]=1}),function(l){return!o.hasOwnProperty(t.get(s,l))}}}}function v_e(r,t){var e=r.getExtent(),n=Math.abs(e[1]-e[0])/r.scale.count();isNaN(n)&&(n=0);for(var i=t.count(),a=Math.max(1,Math.round(i/5)),s=0;s<i;s+=a)if(Xw.getSymbolSize(t,s)[r.isHorizontal()?1:0]*1.5>n)return!1;return!0}function y_e(r,t){return isNaN(r)||isNaN(t)}function x_e(r){for(var t=r.length/2;t>0&&y_e(r[t*2-2],r[t*2-1]);t--);return t-1}function hz(r,t){return[r[t*2],r[t*2+1]]}function b_e(r,t,e){for(var n=r.length/2,i=e==="x"?0:1,a,s,o=0,l=-1,u=0;u<n;u++)if(s=r[u*2+i],!(isNaN(s)||isNaN(r[u*2+1-i]))){if(u===0){a=s;continue}if(a<=t&&s>=t||a>=t&&s<=t){l=u;break}o=u,a=s}return{range:[o,l],t:(t-a)/(s-a)}}function Die(r){if(r.get(["endLabel","show"]))return!0;for(var t=0;t<Lo.length;t++)if(r.get([Lo[t],"endLabel","show"]))return!0;return!1}function hE(r,t,e,n){if(YA(t,"cartesian2d")){var i=n.getModel("endLabel"),a=i.get("valueAnimation"),s=n.getData(),o={lastFrameIndex:0},l=Die(n)?function(d,A){r._endLabelOnDuring(d,A,s,o,a,i,t)}:null,u=t.getBaseAxis().isHorizontal(),c=Mie(t,e,n,function(){var d=r._endLabel;d&&e&&o.originalX!=null&&d.attr({x:o.originalX,y:o.originalY})},l);if(!n.get("clip",!0)){var f=c.shape,h=Math.max(f.width,f.height);u?(f.y-=h,f.height+=h*2):(f.x-=h,f.width+=h*2)}return l&&l(1,c),c}else return Lie(t,e,n)}function w_e(r,t){var e=t.getBaseAxis(),n=e.isHorizontal(),i=e.inverse,a=n?i?"right":"left":"center",s=n?"middle":i?"top":"bottom";return{normal:{align:r.get("align")||a,verticalAlign:r.get("verticalAlign")||s}}}var __e=function(r){Ge(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(){var e=new ir,n=new Yw;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=e,this._changePolyState=Qt(this._changePolyState,this)},t.prototype.render=function(e,n,i){var a=e.coordinateSystem,s=this.group,o=e.getData(),l=e.getModel("lineStyle"),u=e.getModel("areaStyle"),c=o.getLayout("points")||[],f=a.type==="polar",h=this._coordSys,d=this._symbolDraw,A=this._polyline,p=this._polygon,g=this._lineGroup,m=!n.ssr&&e.get("animation"),v=!u.isEmpty(),y=u.get("origin"),b=kie(a,o,y),_=v&&A_e(a,o,b),T=e.get("showSymbol"),I=e.get("connectNulls"),N=T&&!f&&m_e(e,o,a),F=this._data;F&&F.eachItemGraphicEl(function(W,j){W.__temp&&(s.remove(W),F.setItemGraphicEl(j,null))}),T||d.remove(),s.add(g);var P=f?!1:e.get("step"),D;a&&a.getArea&&e.get("clip",!0)&&(D=a.getArea(),D.width!=null?(D.x-=.1,D.y-=.1,D.width+=.2,D.height+=.2):D.r0&&(D.r0-=.5,D.r+=.5)),this._clipShapeForSymbol=D;var R=g_e(o,a,i)||o.getVisual("style")[o.getVisual("drawType")];if(!(A&&h.type===a.type&&P===this._step))T&&d.updateData(o,{isIgnore:N,clipShape:D,disableAnimation:!0,getSymbolPoint:function(W){return[c[W*2],c[W*2+1]]}}),m&&this._initSymbolLabelAnimation(o,a,D),P&&(_&&(_=Nd(_,c,a,P,I)),c=Nd(c,null,a,P,I)),A=this._newPolyline(c),v?p=this._newPolygon(c,_):p&&(g.remove(p),p=this._polygon=null),f||this._initOrUpdateEndLabel(e,a,Cg(R)),g.setClipPath(hE(this,a,!0,e));else{v&&!p?p=this._newPolygon(c,_):p&&!v&&(g.remove(p),p=this._polygon=null),f||this._initOrUpdateEndLabel(e,a,Cg(R));var E=g.getClipPath();if(E){var L=hE(this,a,!1,e);ni(E,{shape:L.shape},e)}else g.setClipPath(hE(this,a,!0,e));T&&d.updateData(o,{isIgnore:N,clipShape:D,disableAnimation:!0,getSymbolPoint:function(W){return[c[W*2],c[W*2+1]]}}),(!lz(this._stackedOnPoints,_)||!lz(this._points,c))&&(m?this._doUpdateAnimation(o,_,a,i,P,y,I):(P&&(_&&(_=Nd(_,c,a,P,I)),c=Nd(c,null,a,P,I)),A.setShape({points:c}),p&&p.setShape({points:c,stackedOnPoints:_})))}var k=e.getModel("emphasis"),w=k.get("focus"),C=k.get("blurScope"),S=k.get("disabled");if(A.useStyle(sr(l.getLineStyle(),{fill:"none",stroke:R,lineJoin:"bevel"})),Ia(A,e,"lineStyle"),A.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"){var B=A.getState("emphasis").style;B.lineWidth=+A.style.lineWidth+1}pr(A).seriesIndex=e.seriesIndex,di(A,w,C,S);var O=fz(e.get("smooth")),V=e.get("smoothMonotone");if(A.setShape({smooth:O,smoothMonotone:V,connectNulls:I}),p){var M=o.getCalculationInfo("stackedOnSeries"),U=0;p.useStyle(sr(u.getAreaStyle(),{fill:R,opacity:.7,lineJoin:"bevel",decal:o.getVisual("style").decal})),M&&(U=fz(M.get("smooth"))),p.setShape({smooth:O,stackedOnSmooth:U,smoothMonotone:V,connectNulls:I}),Ia(p,e,"areaStyle"),pr(p).seriesIndex=e.seriesIndex,di(p,w,C,S)}var Q=this._changePolyState;o.eachItemGraphicEl(function(W){W&&(W.onHoverStateChange=Q)}),this._polyline.onHoverStateChange=Q,this._data=o,this._coordSys=a,this._stackedOnPoints=_,this._points=c,this._step=P,this._valueOrigin=y,e.get("triggerLineEvent")&&(this.packEventData(e,A),p&&this.packEventData(e,p))},t.prototype.packEventData=function(e,n){pr(n).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,n,i,a){var s=e.getData(),o=xg(s,a);if(this._changePolyState("emphasis"),!(o instanceof Array)&&o!=null&&o>=0){var l=s.getLayout("points"),u=s.getItemGraphicEl(o);if(!u){var c=l[o*2],f=l[o*2+1];if(isNaN(c)||isNaN(f)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,f))return;var h=e.get("zlevel")||0,d=e.get("z")||0;u=new Xw(s,o),u.x=c,u.y=f,u.setZ(h,d);var A=u.getSymbolPath().getTextContent();A&&(A.zlevel=h,A.z=d,A.z2=this._polyline.z2+1),u.__temp=!0,s.setItemGraphicEl(o,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else Nn.prototype.highlight.call(this,e,n,i,a)},t.prototype.downplay=function(e,n,i,a){var s=e.getData(),o=xg(s,a);if(this._changePolyState("normal"),o!=null&&o>=0){var l=s.getItemGraphicEl(o);l&&(l.__temp?(s.setItemGraphicEl(o,null),this.group.remove(l)):l.downplay())}else Nn.prototype.downplay.call(this,e,n,i,a)},t.prototype._changePolyState=function(e){var n=this._polygon;KS(this._polyline,e),n&&KS(n,e)},t.prototype._newPolyline=function(e){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new h_e({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},t.prototype._newPolygon=function(e,n){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new Iie({shape:{points:e,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},t.prototype._initSymbolLabelAnimation=function(e,n,i){var a,s,o=n.getBaseAxis(),l=o.inverse;n.type==="cartesian2d"?(a=o.isHorizontal(),s=!1):n.type==="polar"&&(a=o.dim==="angle",s=!0);var u=e.hostModel,c=u.get("animationDuration");rr(c)&&(c=c(null));var f=u.get("animationDelay")||0,h=rr(f)?f(null):f;e.eachItemGraphicEl(function(d,A){var p=d;if(p){var g=[d.x,d.y],m=void 0,v=void 0,y=void 0;if(i)if(s){var b=i,_=n.pointToCoord(g);a?(m=b.startAngle,v=b.endAngle,y=-_[1]/180*Math.PI):(m=b.r0,v=b.r,y=_[0])}else{var T=i;a?(m=T.x,v=T.x+T.width,y=d.x):(m=T.y+T.height,v=T.y,y=d.y)}var I=v===m?0:(y-m)/(v-m);l&&(I=1-I);var N=rr(f)?f(A):c*I+h,F=p.getSymbolPath(),P=F.getTextContent();p.attr({scaleX:0,scaleY:0}),p.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:N}),P&&P.animateFrom({style:{opacity:0}},{duration:300,delay:N}),F.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,n,i){var a=e.getModel("endLabel");if(Die(e)){var s=e.getData(),o=this._polyline,l=s.getLayout("points");if(!l){o.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new nn({z2:200}),u.ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var c=x_e(l);c>=0&&(Ja(o,Ma(e,"endLabel"),{inheritColor:i,labelFetcher:e,labelDataIndex:c,defaultText:function(f,h,d){return d!=null?Eie(s,d):D1(s,f)},enableTextSetter:!0},w_e(a,n)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,n,i,a,s,o,l){var u=this._endLabel,c=this._polyline;if(u){e<1&&a.originalX==null&&(a.originalX=u.x,a.originalY=u.y);var f=i.getLayout("points"),h=i.hostModel,d=h.get("connectNulls"),A=o.get("precision"),p=o.get("distance")||0,g=l.getBaseAxis(),m=g.isHorizontal(),v=g.inverse,y=n.shape,b=v?m?y.x:y.y+y.height:m?y.x+y.width:y.y,_=(m?p:0)*(v?-1:1),T=(m?0:-p)*(v?-1:1),I=m?"x":"y",N=b_e(f,b,I),F=N.range,P=F[1]-F[0],D=void 0;if(P>=1){if(P>1&&!d){var R=hz(f,F[0]);u.attr({x:R[0]+_,y:R[1]+T}),s&&(D=h.getRawValue(F[0]))}else{var R=c.getPointOn(b,I);R&&u.attr({x:R[0]+_,y:R[1]+T});var E=h.getRawValue(F[0]),L=h.getRawValue(F[1]);s&&(D=ote(i,A,E,L,N.t))}a.lastFrameIndex=F[0]}else{var k=e===1||a.lastFrameIndex>0?F[0]:0,R=hz(f,k);s&&(D=h.getRawValue(k)),u.attr({x:R[0]+_,y:R[1]+T})}if(s){var w=iy(u);typeof w.setLabelText=="function"&&w.setLabelText(D)}}},t.prototype._doUpdateAnimation=function(e,n,i,a,s,o,l){var u=this._polyline,c=this._polygon,f=e.hostModel,h=f_e(this._data,e,this._stackedOnPoints,n,this._coordSys,i,this._valueOrigin),d=h.current,A=h.stackedOnCurrent,p=h.next,g=h.stackedOnNext;if(s&&(A=Nd(h.stackedOnCurrent,h.current,i,s,l),d=Nd(h.current,null,i,s,l),g=Nd(h.stackedOnNext,h.next,i,s,l),p=Nd(h.next,null,i,s,l)),cz(d,p)>3e3||c&&cz(A,g)>3e3){u.stopAnimation(),u.setShape({points:p}),c&&(c.stopAnimation(),c.setShape({points:p,stackedOnPoints:g}));return}u.shape.__points=h.current,u.shape.points=d;var m={shape:{points:p}};h.current!==d&&(m.shape.__points=h.next),u.stopAnimation(),ln(u,m,f),c&&(c.setShape({points:d,stackedOnPoints:A}),c.stopAnimation(),ln(c,{shape:{stackedOnPoints:g}},f),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var v=[],y=h.status,b=0;b<y.length;b++){var _=y[b].cmd;if(_==="="){var T=e.getItemGraphicEl(y[b].idx1);T&&v.push({el:T,ptIdx:b})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var I=u.shape.__points,N=0;N<v.length;N++){var F=v[N].el,P=v[N].ptIdx*2;F.x=I[P],F.y=I[P+1],F.markRedraw()}})},t.prototype.remove=function(e){var n=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,s){a.__temp&&(n.remove(a),i.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(Nn);function Jw(r,t){return{seriesType:r,plan:ly(),reset:function(e){var n=e.getData(),i=e.coordinateSystem,a=e.pipelineContext,s=t||a.large;if(i){var o=wt(i.dimensions,function(d){return n.mapDimension(d)}).slice(0,2),l=o.length,u=n.getCalculationInfo("stackResultDimension");Wh(n,o[0])&&(o[0]=u),Wh(n,o[1])&&(o[1]=u);var c=n.getStore(),f=n.getDimensionIndex(o[0]),h=n.getDimensionIndex(o[1]);return l&&{progress:function(d,A){for(var p=d.end-d.start,g=s&&ff(p*l),m=[],v=[],y=d.start,b=0;y<d.end;y++){var _=void 0;if(l===1){var T=c.get(f,y);_=i.dataToPoint(T,null,v)}else m[0]=c.get(f,y),m[1]=c.get(h,y),_=i.dataToPoint(m,null,v);s?(g[b++]=_[0],g[b++]=_[1]):A.setItemLayout(y,_.slice())}s&&A.setLayout("points",g)}}}}}}var S_e={average:function(r){for(var t=0,e=0,n=0;n<r.length;n++)isNaN(r[n])||(t+=r[n],e++);return e===0?NaN:t/e},sum:function(r){for(var t=0,e=0;e<r.length;e++)t+=r[e]||0;return t},max:function(r){for(var t=-1/0,e=0;e<r.length;e++)r[e]>t&&(t=r[e]);return isFinite(t)?t:NaN},min:function(r){for(var t=1/0,e=0;e<r.length;e++)r[e]<t&&(t=r[e]);return isFinite(t)?t:NaN},nearest:function(r){return r[0]}},C_e=function(r){return Math.round(r.length/2)};function Pie(r){return{seriesType:r,reset:function(t,e,n){var i=t.getData(),a=t.get("sampling"),s=t.coordinateSystem,o=i.count();if(o>10&&s.type==="cartesian2d"&&a){var l=s.getBaseAxis(),u=s.getOtherAxis(l),c=l.getExtent(),f=n.getDevicePixelRatio(),h=Math.abs(c[1]-c[0])*(f||1),d=Math.round(o/h);if(isFinite(d)&&d>1){a==="lttb"?t.setData(i.lttbDownSample(i.mapDimension(u.dim),1/d)):a==="minmax"&&t.setData(i.minmaxDownSample(i.mapDimension(u.dim),1/d));var A=void 0;Ht(a)?A=S_e[a]:rr(a)&&(A=a),A&&t.setData(i.downSample(i.mapDimension(u.dim),1/d,A,C_e))}}}}}function B_e(r){r.registerChartView(__e),r.registerSeriesModel(o_e),r.registerLayout(Jw("line",!0)),r.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),n=t.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",n)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,Pie("line"))}var Gb=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,n){return Df(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,n,i){var a=this.coordinateSystem;if(a&&a.clampData){var s=a.clampData(e),o=a.dataToPoint(s);if(i)se(a.getAxes(),function(h,d){if(h.type==="category"&&n!=null){var A=h.getTicksCoords(),p=h.getTickModel().get("alignWithLabel"),g=s[d],m=n[d]==="x1"||n[d]==="y1";if(m&&!p&&(g+=1),A.length<2)return;if(A.length===2){o[d]=h.toGlobalCoord(h.getExtent()[m?1:0]);return}for(var v=void 0,y=void 0,b=1,_=0;_<A.length;_++){var T=A[_].coord,I=_===A.length-1?A[_-1].tickValue+b:A[_].tickValue;if(I===g){y=T;break}else if(I<g)v=T;else if(v!=null&&I>g){y=(T+v)/2;break}_===1&&(b=I-A[0].tickValue)}y==null&&(v?v&&(y=A[A.length-1].coord):y=A[0].coord),o[d]=h.toGlobalCoord(y)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),f=a.getBaseAxis().isHorizontal()?0:1;o[f]+=u+c/2}return o}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",defaultBarGap:"10%"},t}(Ln);Ln.registerClass(Gb);var T_e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return Df(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>e&&(e=n),e},t.prototype.brushSelector=function(e,n,i){return i.rect(n.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=d0(Gb.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:Je.color.primary,borderWidth:2}},realtimeSort:!1}),t}(Gb),E_e=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),m6=function(r){Ge(t,r);function t(e){var n=r.call(this,e)||this;return n.type="sausage",n}return t.prototype.getDefaultShape=function(){return new E_e},t.prototype.buildPath=function(e,n){var i=n.cx,a=n.cy,s=Math.max(n.r0||0,0),o=Math.max(n.r,0),l=(o-s)*.5,u=s+l,c=n.startAngle,f=n.endAngle,h=n.clockwise,d=Math.PI*2,A=h?f-c<d:c-f<d;A||(c=f-(h?d:-d));var p=Math.cos(c),g=Math.sin(c),m=Math.cos(f),v=Math.sin(f);A?(e.moveTo(p*s+i,g*s+a),e.arc(p*u+i,g*u+a,l,-Math.PI+c,c,!h)):e.moveTo(p*o+i,g*o+a),e.arc(i,a,o,c,f,!h),e.arc(m*u+i,v*u+a,l,f-Math.PI*2,f-Math.PI,!h),s!==0&&e.arc(i,a,s,f,c,h)},t}(Xr);function k_e(r,t){t=t||{};var e=t.isRoundCap;return function(n,i,a){var s=i.position;if(!s||s instanceof Array)return zS(n,i,a);var o=r(s),l=i.distance!=null?i.distance:5,u=this.shape,c=u.cx,f=u.cy,h=u.r,d=u.r0,A=(h+d)/2,p=u.startAngle,g=u.endAngle,m=(p+g)/2,v=e?Math.abs(h-d)/2:0,y=Math.cos,b=Math.sin,_=c+h*y(p),T=f+h*b(p),I="left",N="top";switch(o){case"startArc":_=c+(d-l)*y(m),T=f+(d-l)*b(m),I="center",N="top";break;case"insideStartArc":_=c+(d+l)*y(m),T=f+(d+l)*b(m),I="center",N="bottom";break;case"startAngle":_=c+A*y(p)+K5(p,l+v,!1),T=f+A*b(p)+q5(p,l+v,!1),I="right",N="middle";break;case"insideStartAngle":_=c+A*y(p)+K5(p,-l+v,!1),T=f+A*b(p)+q5(p,-l+v,!1),I="left",N="middle";break;case"middle":_=c+A*y(m),T=f+A*b(m),I="center",N="middle";break;case"endArc":_=c+(h+l)*y(m),T=f+(h+l)*b(m),I="center",N="bottom";break;case"insideEndArc":_=c+(h-l)*y(m),T=f+(h-l)*b(m),I="center",N="top";break;case"endAngle":_=c+A*y(g)+K5(g,l+v,!0),T=f+A*b(g)+q5(g,l+v,!0),I="left",N="middle";break;case"insideEndAngle":_=c+A*y(g)+K5(g,-l+v,!0),T=f+A*b(g)+q5(g,-l+v,!0),I="right",N="middle";break;default:return zS(n,i,a)}return n=n||{},n.x=_,n.y=T,n.align=I,n.verticalAlign=N,n}}function N_e(r,t,e,n){if(an(n)){r.setTextConfig({rotation:n});return}else if(xt(t)){r.setTextConfig({rotation:0});return}var i=r.shape,a=i.clockwise?i.startAngle:i.endAngle,s=i.clockwise?i.endAngle:i.startAngle,o=(a+s)/2,l,u=e(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=o;break;case"startAngle":case"insideStartAngle":l=a;break;case"endAngle":case"insideEndAngle":l=s;break;default:r.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),r.setTextConfig({rotation:c})}function K5(r,t,e){return t*Math.sin(r)*(e?-1:1)}function q5(r,t,e){return t*Math.cos(r)*(e?1:-1)}function df(r,t,e){var n=r.get("borderRadius");if(n==null)return e?{cornerRadius:0}:null;xt(n)||(n=[n,n,n,n]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:wt(n,function(a){return xc(a,i)})}}var dE=Math.max,AE=Math.min;function F_e(r,t){var e=r.getArea&&r.getArea();if(YA(r,"cartesian2d")){var n=r.getBaseAxis();if(n.type!=="category"||!n.onBand){var i=t.getLayout("bandWidth");n.isHorizontal()?(e.x-=i,e.width+=i*2):(e.y-=i,e.height+=i*2)}}return e}var I_e=function(r){Ge(t,r);function t(){var e=r.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,n,i,a){this._model=e,this._removeOnRenderedListener(i),this._updateDrawMode(e);var s=e.get("coordinateSystem");(s==="cartesian2d"||s==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,n,i):this._renderNormal(e,n,i,a))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,n){this._progressiveEls=[],this._incrementalRenderLarge(e,n)},t.prototype.eachRendered=function(e){h0(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var n=e.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(e,n,i,a){var s=this.group,o=e.getData(),l=this._data,u=e.coordinateSystem,c=u.getBaseAxis(),f;u.type==="cartesian2d"?f=c.isHorizontal():u.type==="polar"&&(f=c.dim==="angle");var h=e.isAnimationEnabled()?e:null,d=M_e(e,u);d&&this._enableRealtimeSort(d,o,i);var A=e.get("clip",!0)||d,p=F_e(u,o);s.removeClipPath();var g=e.get("roundCap",!0),m=e.get("showBackground",!0),v=e.getModel("backgroundStyle"),y=v.get("borderRadius")||0,b=[],_=this._backgroundEls,T=a&&a.isInitSort,I=a&&a.type==="changeAxisOrder";function N(D){var R=X5[u.type](o,D);if(!R)return null;var E=U_e(u,f,R);return E.useStyle(v.getItemStyle()),u.type==="cartesian2d"?E.setShape("r",y):E.setShape("cornerRadius",y),b[D]=E,E}o.diff(l).add(function(D){var R=o.getItemModel(D),E=X5[u.type](o,D,R);if(E&&(m&&N(D),!(!o.hasValue(D)||!mz[u.type](E)))){var L=!1;A&&(L=dz[u.type](p,E));var k=Az[u.type](e,o,D,E,f,h,c.model,!1,g);d&&(k.forceLabelAnimation=!0),vz(k,o,D,R,E,e,f,u.type==="polar"),T?k.attr({shape:E}):d?pz(d,h,k,E,D,f,!1,!1):ni(k,{shape:E},e,D),o.setItemGraphicEl(D,k),s.add(k),k.ignore=L}}).update(function(D,R){var E=o.getItemModel(D),L=X5[u.type](o,D,E);if(L){if(m){var k=void 0;_.length===0?k=N(R):(k=_[R],k.useStyle(v.getItemStyle()),u.type==="cartesian2d"?k.setShape("r",y):k.setShape("cornerRadius",y),b[D]=k);var w=X5[u.type](o,D),C=Oie(f,w,u);ln(k,{shape:C},h,D)}var S=l.getItemGraphicEl(R);if(!o.hasValue(D)||!mz[u.type](L)){s.remove(S);return}var B=!1;A&&(B=dz[u.type](p,L),B&&s.remove(S));var O=S&&(S.type==="sector"&&g||S.type==="sausage"&&!g);if(O&&(S&&kh(S,e,R),S=null),S?Fu(S):S=Az[u.type](e,o,D,L,f,h,c.model,!0,g),d&&(S.forceLabelAnimation=!0),I){var V=S.getTextContent();if(V){var M=iy(V);M.prevValue!=null&&(M.prevValue=M.value)}}else vz(S,o,D,E,L,e,f,u.type==="polar");T?S.attr({shape:L}):d?pz(d,h,S,L,D,f,!0,I):ln(S,{shape:L},e,D,null),o.setItemGraphicEl(D,S),S.ignore=B,s.add(S)}}).remove(function(D){var R=l.getItemGraphicEl(D);R&&kh(R,e,D)}).execute();var F=this._backgroundGroup||(this._backgroundGroup=new ir);F.removeAll();for(var P=0;P<b.length;++P)F.add(b[P]);s.add(F),this._backgroundEls=b,this._data=o},t.prototype._renderLarge=function(e,n,i){this._clear(),xz(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,n){this._removeBackground(),xz(n,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var n=e.get("clip",!0)&&Zw(e.coordinateSystem,!1,e),i=this.group;n?i.setClipPath(n):i.removeClipPath()},t.prototype._enableRealtimeSort=function(e,n,i){var a=this;if(n.count()){var s=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,e,i),this._isFirstFrame=!1;else{var o=function(l){var u=n.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(s.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){a._updateSortWithinSameData(n,o,s,i)},i.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,n,i){var a=[];return e.each(e.mapDimension(n.dim),function(s,o){var l=i(o);l=l??NaN,a.push({dataIndex:o,mappedValue:l,ordinalNumber:s})}),a.sort(function(s,o){return o.mappedValue-s.mappedValue}),{ordinalNumbers:wt(a,function(s){return s.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,n,i){for(var a=i.scale,s=e.mapDimension(i.dim),o=Number.MAX_VALUE,l=0,u=a.getOrdinalMeta().categories.length;l<u;++l){var c=e.rawIndexOf(s,a.getRawOrdinalNumber(l)),f=c<0?Number.MIN_VALUE:n(e.indexOfRawIndex(c));if(f>o)return!0;o=f}return!1},t.prototype._isOrderDifferentInView=function(e,n){for(var i=n.scale,a=i.getExtent(),s=Math.max(0,a[0]),o=Math.min(a[1],i.getOrdinalMeta().categories.length-1);s<=o;++s)if(e.ordinalNumbers[s]!==i.getRawOrdinalNumber(s))return!0},t.prototype._updateSortWithinSameData=function(e,n,i,a){if(this._isOrderChangedWithinSameData(e,n,i)){var s=this._dataSort(e,i,n);this._isOrderDifferentInView(s,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:s}))}},t.prototype._dispatchInitSort=function(e,n,i){var a=n.baseAxis,s=this._dataSort(e,a,function(o){return e.get(e.mapDimension(n.otherAxis.dim),o)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:s})},t.prototype.remove=function(e,n){this._clear(this._model),this._removeOnRenderedListener(n)},t.prototype.dispose=function(e,n){this._removeOnRenderedListener(n)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var n=this.group,i=this._data;e&&e.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){kh(a,e,pr(a).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(Nn),dz={cartesian2d:function(r,t){var e=t.width<0?-1:1,n=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height);var i=r.x+r.width,a=r.y+r.height,s=dE(t.x,r.x),o=AE(t.x+t.width,i),l=dE(t.y,r.y),u=AE(t.y+t.height,a),c=o<s,f=u<l;return t.x=c&&s>i?o:s,t.y=f&&l>a?u:l,t.width=c?0:o-s,t.height=f?0:u-l,e<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height),c||f},polar:function(r,t){var e=t.r0<=t.r?1:-1;if(e<0){var n=t.r;t.r=t.r0,t.r0=n}var i=AE(t.r,r.r),a=dE(t.r0,r.r0);t.r=i,t.r0=a;var s=i-a<0;if(e<0){var n=t.r;t.r=t.r0,t.r0=n}return s}},Az={cartesian2d:function(r,t,e,n,i,a,s,o,l){var u=new zr({shape:pt({},n),z2:1});if(u.__dataIndex=e,u.name="item",a){var c=u.shape,f=i?"height":"width";c[f]=0}return u},polar:function(r,t,e,n,i,a,s,o,l){var u=!i&&l?m6:Us,c=new u({shape:n,z2:1});c.name="item";var f=Rie(i);if(c.calculateTextPosition=k_e(f,{isRoundCap:u===m6}),a){var h=c.shape,d=i?"r":"endAngle",A={};h[d]=i?n.r0:n.startAngle,A[d]=n[d],(o?ln:ni)(c,{shape:A},a)}return c}};function M_e(r,t){var e=r.get("realtimeSort",!0),n=t.getBaseAxis();if(e&&n.type==="category"&&t.type==="cartesian2d")return{baseAxis:n,otherAxis:t.getOtherAxis(n)}}function pz(r,t,e,n,i,a,s,o){var l,u;a?(u={x:n.x,width:n.width},l={y:n.y,height:n.height}):(u={y:n.y,height:n.height},l={x:n.x,width:n.width}),o||(s?ln:ni)(e,{shape:l},t,i,null);var c=t?r.baseAxis.model:null;(s?ln:ni)(e,{shape:u},c,i)}function gz(r,t){for(var e=0;e<t.length;e++)if(!isFinite(r[t[e]]))return!0;return!1}var L_e=["x","y","width","height"],D_e=["cx","cy","r","startAngle","endAngle"],mz={cartesian2d:function(r){return!gz(r,L_e)},polar:function(r){return!gz(r,D_e)}},X5={cartesian2d:function(r,t,e){var n=r.getItemLayout(t);if(!n)return null;var i=e?R_e(e,n):0,a=n.width>0?1:-1,s=n.height>0?1:-1;return{x:n.x+a*i/2,y:n.y+s*i/2,width:n.width-a*i,height:n.height-s*i}},polar:function(r,t,e){var n=r.getItemLayout(t);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function P_e(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function Rie(r){return function(t){var e=t?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+e;default:return n}}}(r)}function vz(r,t,e,n,i,a,s,o){var l=t.getItemVisual(e,"style");if(o){if(!a.get("roundCap")){var c=r.shape,f=df(n.getModel("itemStyle"),c,!0);pt(c,f),r.setShape(c)}}else{var u=n.get(["itemStyle","borderRadius"])||0;r.setShape("r",u)}r.useStyle(l);var h=n.getShallow("cursor");h&&r.attr("cursor",h);var d=o?s?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":s?i.height>=0?"bottom":"top":i.width>=0?"right":"left",A=Ma(n);Ja(r,A,{labelFetcher:a,labelDataIndex:e,defaultText:D1(a.getData(),e),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:d});var p=r.getTextContent();if(o&&p){var g=n.get(["label","position"]);r.textConfig.inside=g==="middle"?!0:null,N_e(r,g==="outside"?d:g,Rie(s),n.get(["label","rotate"]))}Kte(p,A,a.getRawValue(e),function(v){return Eie(t,v)});var m=n.getModel(["emphasis"]);di(r,m.get("focus"),m.get("blurScope"),m.get("disabled")),Ia(r,n),P_e(i)&&(r.style.fill="none",r.style.stroke="none",se(r.states,function(v){v.style&&(v.style.fill=v.style.stroke="none")}))}function R_e(r,t){var e=r.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var n=r.get(["itemStyle","borderWidth"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),a=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(n,i,a)}var O_e=function(){function r(){}return r}(),yz=function(r){Ge(t,r);function t(e){var n=r.call(this,e)||this;return n.type="largeBar",n}return t.prototype.getDefaultShape=function(){return new O_e},t.prototype.buildPath=function(e,n){for(var i=n.points,a=this.baseDimIdx,s=1-this.baseDimIdx,o=[],l=[],u=this.barWidth,c=0;c<i.length;c+=3)l[a]=u,l[s]=i[c+2],o[a]=i[c+a],o[s]=i[c+s],e.rect(o[0],o[1],l[0],l[1])},t}(Xr);function xz(r,t,e,n){var i=r.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,s=i.getLayout("largeDataIndices"),o=i.getLayout("size"),l=r.getModel("backgroundStyle"),u=i.getLayout("largeBackgroundPoints");if(u){var c=new yz({shape:{points:u},incremental:!!n,silent:!0,z2:0});c.baseDimIdx=a,c.largeDataIndices=s,c.barWidth=o,c.useStyle(l.getItemStyle()),t.add(c),e&&e.push(c)}var f=new yz({shape:{points:i.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});f.baseDimIdx=a,f.largeDataIndices=s,f.barWidth=o,t.add(f),f.useStyle(i.getVisual("style")),f.style.stroke=null,pr(f).seriesIndex=r.seriesIndex,r.get("silent")||(f.on("mousedown",bz),f.on("mousemove",bz)),e&&e.push(f)}var bz=h8(function(r){var t=this,e=j_e(t,r.offsetX,r.offsetY);pr(t).dataIndex=e>=0?e:null},30,!1);function j_e(r,t,e){for(var n=r.baseDimIdx,i=1-n,a=r.shape.points,s=r.largeDataIndices,o=[],l=[],u=r.barWidth,c=0,f=a.length/3;c<f;c++){var h=c*3;if(l[n]=u,l[i]=a[h+2],o[n]=a[h+n],o[i]=a[h+i],l[i]<0&&(o[i]+=l[i],l[i]=-l[i]),t>=o[0]&&t<=o[0]+l[0]&&e>=o[1]&&e<=o[1]+l[1])return s[c]}return-1}function Oie(r,t,e){if(YA(e,"cartesian2d")){var n=t,i=e.getArea();return{x:r?n.x:i.x,y:r?i.y:n.y,width:r?n.width:i.width,height:r?i.height:n.height}}else{var i=e.getArea(),a=t;return{cx:i.cx,cy:i.cy,r0:r?i.r0:a.r0,r:r?i.r:a.r,startAngle:r?a.startAngle:0,endAngle:r?a.endAngle:Math.PI*2}}}function U_e(r,t,e){var n=r.type==="polar"?Us:zr;return new n({shape:Oie(t,e,r),silent:!0,z2:0})}function H_e(r){r.registerChartView(I_e),r.registerSeriesModel(T_e),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,Nr(Hne,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Qne("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,Pie("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},function(i){t.sortInfo&&i.axis.setCategorySortInfo(t.sortInfo)})})}var wz=Math.PI*2,Y5=Math.PI/180;function Q_e(r,t,e){t.eachSeriesByType(r,function(n){var i=n.getData(),a=i.mapDimension("value"),s=hre(n,e),o=s.cx,l=s.cy,u=s.r,c=s.r0,f=s.viewRect,h=-n.get("startAngle")*Y5,d=n.get("endAngle"),A=n.get("padAngle")*Y5;d=d==="auto"?h-wz:-d*Y5;var p=n.get("minAngle")*Y5,g=p+A,m=0;i.each(a,function(C){!isNaN(C)&&m++});var v=i.getSum(a),y=Math.PI/(v||m)*2,b=n.get("clockwise"),_=n.get("roseType"),T=n.get("stillShowZeroSum"),I=i.getDataExtent(a);I[0]=0;var N=b?1:-1,F=[h,d],P=N*A/2;t8(F,!b),h=F[0],d=F[1];var D=jie(n);D.startAngle=h,D.endAngle=d,D.clockwise=b,D.cx=o,D.cy=l,D.r=u,D.r0=c;var R=Math.abs(d-h),E=R,L=0,k=h;if(i.setLayout({viewRect:f,r:u}),i.each(a,function(C,S){var B;if(isNaN(C)){i.setItemLayout(S,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:b,cx:o,cy:l,r0:c,r:_?NaN:u});return}_!=="area"?B=v===0&&T?y:C*y:B=R/m,B<g?(B=g,E-=g):L+=C;var O=k+N*B,V=0,M=0;A>B?(V=k+N*B/2,M=V):(V=k+P,M=O-P),i.setItemLayout(S,{angle:B,startAngle:V,endAngle:M,clockwise:b,cx:o,cy:l,r0:c,r:_?gn(C,I,[c,u]):u}),k=O}),E<wz&&m)if(E<=.001){var w=R/m;i.each(a,function(C,S){if(!isNaN(C)){var B=i.getItemLayout(S);B.angle=w;var O=0,V=0;w<A?(O=h+N*(S+1/2)*w,V=O):(O=h+N*S*w+P,V=h+N*(S+1)*w-P),B.startAngle=O,B.endAngle=V}})}else y=E/L,k=h,i.each(a,function(C,S){if(!isNaN(C)){var B=i.getItemLayout(S),O=B.angle===g?g:C*y,V=0,M=0;O<A?(V=k+N*O/2,M=V):(V=k+P,M=k+N*O-P),B.startAngle=V,B.endAngle=M,k+=N*O}})})}var jie=Kr();function Ay(r){return{seriesType:r,reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(!(!n||!n.length)){var i=t.getData();i.filterSelf(function(a){for(var s=i.getName(a),o=0;o<n.length;o++)if(!n[o].isSelected(s))return!1;return!0})}}}}var z_e=Math.PI/180;function _z(r,t,e,n,i,a,s,o,l,u){if(r.length<2)return;function c(p){for(var g=p.rB,m=g*g,v=0;v<p.list.length;v++){var y=p.list[v],b=Math.abs(y.label.y-e),_=n+y.len,T=_*_,I=Math.sqrt(Math.abs((1-b*b/m)*T)),N=t+(I+y.len2)*i,F=N-y.label.x,P=y.targetTextWidth-F*i;Uie(y,P,!0),y.label.x=N}}function f(p){for(var g={list:[],maxY:0},m={list:[],maxY:0},v=0;v<p.length;v++)if(p[v].labelAlignTo==="none"){var y=p[v],b=y.label.y>e?m:g,_=Math.abs(y.label.y-e);if(_>=b.maxY){var T=y.label.x-t-y.len2*i,I=n+y.len,N=Math.abs(T)<I?Math.sqrt(_*_/(1-T*T/I/I)):I;b.rB=N,b.maxY=_}b.list.push(y)}c(g),c(m)}for(var h=r.length,d=0;d<h;d++)if(r[d].position==="outer"&&r[d].labelAlignTo==="labelLine"){var A=r[d].label.x-u;r[d].linePoints[1][0]+=A,r[d].label.x=u}XF(r,1,l,l+s)&&f(r)}function V_e(r,t,e,n,i,a,s,o){for(var l=[],u=[],c=Number.MAX_VALUE,f=-Number.MAX_VALUE,h=0;h<r.length;h++){var d=r[h].label;pE(r[h])||(d.x<t?(c=Math.min(c,d.x),l.push(r[h])):(f=Math.max(f,d.x),u.push(r[h])))}for(var h=0;h<r.length;h++){var A=r[h];if(!pE(A)&&A.linePoints){if(A.labelStyleWidth!=null)continue;var d=A.label,p=A.linePoints,g=void 0;A.labelAlignTo==="edge"?d.x<t?g=p[2][0]-A.labelDistance-s-A.edgeDistance:g=s+i-A.edgeDistance-p[2][0]-A.labelDistance:A.labelAlignTo==="labelLine"?d.x<t?g=c-s-A.bleedMargin:g=s+i-f-A.bleedMargin:d.x<t?g=d.x-s-A.bleedMargin:g=s+i-d.x-A.bleedMargin,A.targetTextWidth=g,Uie(A,g,!1)}}_z(u,t,e,n,1,i,a,s,o,f),_z(l,t,e,n,-1,i,a,s,o,c);for(var h=0;h<r.length;h++){var A=r[h];if(!pE(A)&&A.linePoints){var d=A.label,p=A.linePoints,m=A.labelAlignTo==="edge",v=d.style.padding,y=v?v[1]+v[3]:0,b=d.style.backgroundColor?0:y,_=A.rect.width+b,T=p[1][0]-p[2][0];m?d.x<t?p[2][0]=s+A.edgeDistance+_+A.labelDistance:p[2][0]=s+i-A.edgeDistance-_-A.labelDistance:(d.x<t?p[2][0]=d.x+A.labelDistance:p[2][0]=d.x-A.labelDistance,p[1][0]=p[2][0]+T),p[1][1]=p[2][1]=d.y}}}function Uie(r,t,e){if(r.labelStyleWidth==null){var n=r.label,i=n.style,a=r.rect,s=i.backgroundColor,o=i.padding,l=o?o[1]+o[3]:0,u=i.overflow,c=a.width+(s?0:l);if(t<c||e){if(u&&u.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",t-l);var f=n.getBoundingRect();n.setStyle("width",Math.ceil(f.width)),n.setStyle("backgroundColor",s)}else{var h=t-l,d=t<c?h:e?h>r.unconstrainedWidth?null:h:null;n.setStyle("width",d)}Hie(a,n)}}}function Hie(r,t){Sz.rect=r,fie(Sz,t,G_e)}var G_e={minMarginForce:[null,0,null,0],marginDefault:[1,0,1,0]},Sz={};function pE(r){return r.position==="center"}function W_e(r){var t=r.getData(),e=[],n,i,a=!1,s=(r.get("minShowLabelAngle")||0)*z_e,o=t.getLayout("viewRect"),l=t.getLayout("r"),u=o.width,c=o.x,f=o.y,h=o.height;function d(T){T.ignore=!0}function A(T){if(!T.ignore)return!0;for(var I in T.states)if(T.states[I].ignore===!1)return!0;return!1}t.each(function(T){var I=t.getItemGraphicEl(T),N=I.shape,F=I.getTextContent(),P=I.getTextGuideLine(),D=t.getItemModel(T),R=D.getModel("label"),E=R.get("position")||D.get(["emphasis","label","position"]),L=R.get("distanceToLabelLine"),k=R.get("alignTo"),w=Ut(R.get("edgeDistance"),u),C=R.get("bleedMargin");C==null&&(C=Math.min(u,h)>200?10:2);var S=D.getModel("labelLine"),B=S.get("length");B=Ut(B,u);var O=S.get("length2");if(O=Ut(O,u),Math.abs(N.endAngle-N.startAngle)<s){se(F.states,d),F.ignore=!0,P&&(se(P.states,d),P.ignore=!0);return}if(A(F)){var V=(N.startAngle+N.endAngle)/2,M=Math.cos(V),U=Math.sin(V),Q,W,j,X;n=N.cx,i=N.cy;var z=E==="inside"||E==="inner";if(E==="center")Q=N.cx,W=N.cy,X="center";else{var H=(z?(N.r+N.r0)/2*M:N.r*M)+n,K=(z?(N.r+N.r0)/2*U:N.r*U)+i;if(Q=H+M*3,W=K+U*3,!z){var Z=H+M*(B+l-N.r),ie=K+U*(B+l-N.r),ee=Z+(M<0?-1:1)*O,ne=ie;k==="edge"?Q=M<0?c+w:c+u-w:Q=ee+(M<0?-L:L),W=ne,j=[[H,K],[Z,ie],[ee,ne]]}X=z?"center":k==="edge"?M>0?"right":"left":M>0?"left":"right"}var te=Math.PI,le=0,re=R.get("rotate");if(an(re))le=re*(te/180);else if(E==="center")le=0;else if(re==="radial"||re===!0){var de=M<0?-V+te:-V;le=de}else if(re==="tangential"&&E!=="outside"&&E!=="outer"){var ue=Math.atan2(M,U);ue<0&&(ue=te*2+ue);var Fe=U>0;Fe&&(ue=te+ue),le=ue-te}if(a=!!le,F.x=Q,F.y=W,F.rotation=le,F.setStyle({verticalAlign:"middle"}),z){F.setStyle({align:X});var De=F.states.select;De&&(De.x+=F.x,De.y+=F.y)}else{var Se=new fr(0,0,0,0);Hie(Se,F),e.push({label:F,labelLine:P,position:E,len:B,len2:O,minTurnAngle:S.get("minTurnAngle"),maxSurfaceAngle:S.get("maxSurfaceAngle"),surfaceNormal:new cr(M,U),linePoints:j,textAlign:X,labelDistance:L,labelAlignTo:k,edgeDistance:w,bleedMargin:C,rect:Se,unconstrainedWidth:Se.width,labelStyleWidth:F.style.width})}I.setTextConfig({inside:z})}}),!a&&r.get("avoidLabelOverlap")&&V_e(e,n,i,l,u,h,c,f);for(var p=0;p<e.length;p++){var g=e[p],m=g.label,v=g.labelLine,y=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:g.textAlign}),y&&(se(m.states,d),m.ignore=!0);var b=m.states.select;b&&(b.x+=m.x,b.y+=m.y)}if(v){var _=g.linePoints;y||!_?(se(v.states,d),v.ignore=!0):(lie(_,g.minTurnAngle),hwe(_,g.surfaceNormal,g.maxSurfaceAngle),v.setShape({points:_}),m.__hostTarget.textGuideLineConfig={anchor:new cr(_[0][0],_[0][1])})}}}var $_e=function(r){Ge(t,r);function t(e,n,i){var a=r.call(this)||this;a.z2=2;var s=new nn;return a.setTextContent(s),a.updateData(e,n,i,!0),a}return t.prototype.updateData=function(e,n,i,a){var s=this,o=e.hostModel,l=e.getItemModel(n),u=l.getModel("emphasis"),c=e.getItemLayout(n),f=pt(df(l.getModel("itemStyle"),c,!0),c);if(isNaN(f.startAngle)){s.setShape(f);return}if(a){s.setShape(f);var h=o.getShallow("animationType");o.ecModel.ssr?(ni(s,{scaleX:0,scaleY:0},o,{dataIndex:n,isFrom:!0}),s.originX=f.cx,s.originY=f.cy):h==="scale"?(s.shape.r=c.r0,ni(s,{shape:{r:c.r}},o,n)):i!=null?(s.setShape({startAngle:i,endAngle:i}),ni(s,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},o,n)):(s.shape.endAngle=c.startAngle,ln(s,{shape:{endAngle:c.endAngle}},o,n))}else Fu(s),ln(s,{shape:f},o,n);s.useStyle(e.getItemVisual(n,"style")),Ia(s,l);var d=(c.startAngle+c.endAngle)/2,A=o.get("selectedOffset"),p=Math.cos(d)*A,g=Math.sin(d)*A,m=l.getShallow("cursor");m&&s.attr("cursor",m),this._updateLabel(o,e,n),s.ensureState("emphasis").shape=pt({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},df(u.getModel("itemStyle"),c)),pt(s.ensureState("select"),{x:p,y:g,shape:df(l.getModel(["select","itemStyle"]),c)}),pt(s.ensureState("blur"),{shape:df(l.getModel(["blur","itemStyle"]),c)});var v=s.getTextGuideLine(),y=s.getTextContent();v&&pt(v.ensureState("select"),{x:p,y:g}),pt(y.ensureState("select"),{x:p,y:g}),di(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e,n,i){var a=this,s=n.getItemModel(i),o=s.getModel("labelLine"),l=n.getItemVisual(i,"style"),u=l&&l.fill,c=l&&l.opacity;Ja(a,Ma(s),{labelFetcher:n.hostModel,labelDataIndex:i,inheritColor:u,defaultOpacity:c,defaultText:e.getFormattedLabel(i,"normal")||n.getName(i)});var f=a.getTextContent();a.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var h=s.get(["label","position"]);if(h!=="outside"&&h!=="outer")a.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new gs,this.setTextGuideLine(d)),z9(this,V9(s),{stroke:u,opacity:rl(o.get(["lineStyle","opacity"]),c,1)})}},t}(Us),K_e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,n,i,a){var s=e.getData(),o=this._data,l=this.group,u;if(!o&&s.count()>0){for(var c=s.getItemLayout(0),f=1;isNaN(c&&c.startAngle)&&f<s.count();++f)c=s.getItemLayout(f);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),s.count()===0&&e.get("showEmptyCircle")){var h=jie(e),d=new Us({shape:nr(h)});d.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=d,l.add(d)}s.diff(o).add(function(A){var p=new $_e(s,A,u);s.setItemGraphicEl(A,p),l.add(p)}).update(function(A,p){var g=o.getItemGraphicEl(p);g.updateData(s,A,u),g.off("click"),l.add(g),s.setItemGraphicEl(A,g)}).remove(function(A){var p=o.getItemGraphicEl(A);kh(p,e,A)}).execute(),W_e(e),e.get("animationTypeUpdate")!=="expansion"&&(this._data=s)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var s=e[0]-a.cx,o=e[1]-a.cy,l=Math.sqrt(s*s+o*o);return l<=a.r&&l>=a.r0}},t.type="pie",t}(Nn);function py(r,t,e){t=xt(t)&&{coordDimensions:t}||pt({encodeDefine:r.getEncode()},t);var n=r.getSource(),i=fy(n,t).dimensions,a=new lo(i,r);return a.initData(n,e),a}var gy=function(){function r(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return r.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},r.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},r.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},r.prototype.getItemVisual=function(t,e){var n=this._getDataWithEncodedVisual();return n.getItemVisual(t,e)},r}(),q_e=Kr(),Qie=function(r){Ge(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new gy(Qt(this.getData,this),Qt(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return py(this,{coordDimensions:["value"],encodeDefaulter:Nr(g9,this)})},t.prototype.getDataParams=function(e){var n=this.getData(),i=q_e(n),a=i.seats;if(!a){var s=[];n.each(n.mapDimension("value"),function(l){s.push(l)}),a=i.seats=Yee(s,n.hostModel.get("percentPrecision"))}var o=r.prototype.getDataParams.call(this,e);return o.percent=a[e]||0,o.$vars.push("percent"),o},t.prototype._defaultLabelLine=function(e){yg(e,"labelLine",["show"]);var n=e.labelLine,i=e.emphasis.labelLine;n.show=n.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"50%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,coordinateSystemUsage:"box",left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:30,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(Ln);Q1e({fullType:Qie.type,getCoord2:function(r){return r.getShallow("center")}});function X_e(r){return{seriesType:r,reset:function(t,e){var n=t.getData();n.filterSelf(function(i){var a=n.mapDimension("value"),s=n.get(a,i);return!(an(s)&&!isNaN(s)&&s<0)})}}}function Y_e(r){r.registerChartView(K_e),r.registerSeriesModel(Qie),nne("pie",r.registerAction),r.registerLayout(Nr(Q_e,"pie")),r.registerProcessor(Ay("pie")),r.registerProcessor(X_e("pie"))}var Z_e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,n){return Df(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return e??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(e,n,i){return i.point(n.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:Je.color.primary}},universalTransition:{divideShape:"clone"}},t}(Ln),zie=4,J_e=function(){function r(){}return r}(),e5e=function(r){Ge(t,r);function t(e){var n=r.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.getDefaultShape=function(){return new J_e},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,n){var i=n.points,a=n.size,s=this.symbolProxy,o=s.shape,l=e.getContext?e.getContext():e,u=l&&a[0]<zie,c=this.softClipShape,f;if(u){this._ctx=l;return}for(this._ctx=null,f=this._off;f<i.length;){var h=i[f++],d=i[f++];isNaN(h)||isNaN(d)||c&&!c.contain(h,d)||(o.x=h-a[0]/2,o.y=d-a[1]/2,o.width=a[0],o.height=a[1],s.buildPath(e,o,!0))}this.incremental&&(this._off=f,this.notClear=!0)},t.prototype.afterBrush=function(){var e=this.shape,n=e.points,i=e.size,a=this._ctx,s=this.softClipShape,o;if(a){for(o=this._off;o<n.length;){var l=n[o++],u=n[o++];isNaN(l)||isNaN(u)||s&&!s.contain(l,u)||a.fillRect(l-i[0]/2,u-i[1]/2,i[0],i[1])}this.incremental&&(this._off=o,this.notClear=!0)}},t.prototype.findDataIndex=function(e,n){for(var i=this.shape,a=i.points,s=i.size,o=Math.max(s[0],4),l=Math.max(s[1],4),u=a.length/2-1;u>=0;u--){var c=u*2,f=a[c]-o/2,h=a[c+1]-l/2;if(e>=f&&n>=h&&e<=f+o&&n<=h+l)return u}return-1},t.prototype.contain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect();if(e=i[0],n=i[1],a.contain(e,n)){var s=this.hoverDataIdx=this.findDataIndex(e,n);return s>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var n=this.shape,i=n.points,a=n.size,s=a[0],o=a[1],l=1/0,u=1/0,c=-1/0,f=-1/0,h=0;h<i.length;){var d=i[h++],A=i[h++];l=Math.min(d,l),c=Math.max(d,c),u=Math.min(A,u),f=Math.max(A,f)}e=this._rect=new fr(l-s/2,u-o/2,c-l+s,f-u+o)}return e},t}(Xr),t5e=function(){function r(){this.group=new ir}return r.prototype.updateData=function(t,e){this._clear();var n=this._create();n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,e)},r.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(n){if(n.startIndex!=null){var i=(n.endIndex-n.startIndex)*2,a=n.startIndex*4*2;e=new Float32Array(e.buffer,a,i)}n.setShape("points",e),n.reset()})},r.prototype.incrementalPrepareUpdate=function(t){this._clear()},r.prototype.incrementalUpdate=function(t,e,n){var i=this._newAdded[0],a=e.getLayout("points"),s=i&&i.shape.points;if(s&&s.length<2e4){var o=s.length,l=new Float32Array(o+a.length);l.set(s),l.set(a,o),i.endIndex=t.end,i.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=t.start,u.endIndex=t.end,u.incremental=!0,u.setShape({points:a}),this._setCommon(u,e,n)}},r.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},r.prototype._create=function(){var t=new e5e({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},r.prototype._setCommon=function(t,e,n){var i=e.hostModel;n=n||{};var a=e.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]),t.softClipShape=n.clipShape||null,t.symbolProxy=ia(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var s=t.shape.size[0]<zie;t.useStyle(i.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var o=e.getVisual("style"),l=o&&o.fill;l&&t.setColor(l);var u=pr(t);u.seriesIndex=i.seriesIndex,t.on("mousemove",function(c){u.dataIndex=null;var f=t.hoverDataIdx;f>=0&&(u.dataIndex=f+(t.startIndex||0))})},r.prototype.remove=function(){this._clear()},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}(),r5e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=e.getData(),s=this._updateSymbolDraw(a,e);s.updateData(a,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,n,i){var a=e.getData(),s=this._updateSymbolDraw(a,e);s.incrementalPrepareUpdate(a),this._finished=!1},t.prototype.incrementalRender=function(e,n,i){this._symbolDraw.incrementalUpdate(e,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=e.end===n.getData().count()},t.prototype.updateTransform=function(e,n,i){var a=e.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var s=Jw("").reset(e,n,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){if(e.get("clip",!0)){var n=e.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},t.prototype._updateSymbolDraw=function(e,n){var i=this._symbolDraw,a=n.pipelineContext,s=a.large;return(!i||s!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=s?new t5e:new Yw,this._isLargeDraw=s,this.group.removeAll()),this.group.add(i.group),i},t.prototype.remove=function(e,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(Nn),Vie={left:0,right:0,top:0,bottom:0},v6=["25%","25%"],n5e=function(r){Ge(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.mergeDefaultAndTheme=function(e,n){var i=Hg(e.outerBounds);r.prototype.mergeDefaultAndTheme.apply(this,arguments),i&&e.outerBounds&&kf(e.outerBounds,i)},t.prototype.mergeOption=function(e,n){r.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&e.outerBounds&&kf(this.option.outerBounds,e.outerBounds)},t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"15%",top:65,right:"10%",bottom:80,containLabel:!1,outerBoundsMode:"auto",outerBounds:Vie,outerBoundsContain:"all",outerBoundsClampWidth:v6[0],outerBoundsClampHeight:v6[1],backgroundColor:Je.color.transparent,borderWidth:1,borderColor:Je.color.neutral30},t}($r),tI=function(r){Ge(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Ni).models[0]},t.type="cartesian2dAxis",t}($r);Ui(tI,dy);var Gie={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:Je.color.axisLine,width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:Je.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:Je.color.axisSplitLine,width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:[Je.color.backgroundTint,Je.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:Je.color.neutral00,borderColor:Je.color.border,borderWidth:1,borderType:[3,3],opacity:.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:"auto"}},i5e=Dr({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto",show:"auto"},axisLabel:{interval:"auto"}},Gie),Y9=Dr({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:Je.color.axisMinorSplitLine,width:1}}},Gie),a5e=Dr({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Y9),s5e=sr({logBase:10},Y9);const Wie={category:i5e,value:Y9,time:a5e,log:s5e};var o5e={value:1,category:1,time:1,log:1},rI=null;function l5e(r){rI||(rI=r)}function e_(){return rI}function P1(r,t,e,n){se(o5e,function(i,a){var s=Dr(Dr({},Wie[a],!0),n,!0),o=function(l){Ge(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=t+"Axis."+a,c}return u.prototype.mergeDefaultAndTheme=function(c,f){var h=Db(this),d=h?Hg(c):{},A=f.getTheme();Dr(c,A.get(a+"Axis")),Dr(c,this.getDefaultOption()),c.type=Cz(c),h&&kf(c,d,h)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=Hb.createByAxisModel(this))},u.prototype.getCategories=function(c){var f=this.option;if(f.type==="category")return c?f.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.prototype.updateAxisBreaks=function(c){var f=e_();return f?f.updateModelAxisBreak(this,c):{breaks:[]}},u.type=t+"Axis."+a,u.defaultOption=s,u}(e);r.registerComponentModel(o)}),r.registerSubTypeDefaulter(t+"Axis",Cz)}function Cz(r){return r.type||(r.data?"category":"value")}var u5e=function(){function r(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return r.prototype.getAxis=function(t){return this._axes[t]},r.prototype.getAxes=function(){return wt(this._dimList,function(t){return this._axes[t]},this)},r.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),dn(this.getAxes(),function(e){return e.scale.type===t})},r.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},r}(),nI=["x","y"];function Bz(r){return(r.type==="interval"||r.type==="time")&&!r.hasBreaks()}var c5e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=nI,e}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!Bz(e)||!Bz(n))){var i=e.getExtent(),a=n.getExtent(),s=this.dataToPoint([i[0],a[0]]),o=this.dataToPoint([i[1],a[1]]),l=i[1]-i[0],u=a[1]-a[0];if(!(!l||!u)){var c=(o[0]-s[0])/l,f=(o[1]-s[1])/u,h=s[0]-i[0]*c,d=s[1]-a[0]*f,A=this._transform=[c,0,0,f,h,d];this._invTransform=ku([],A)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var n=this.getAxis("x"),i=this.getAxis("y");return n.contain(n.toLocalCoord(e[0]))&&i.contain(i.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,n){var i=this.dataToPoint(e),a=this.dataToPoint(n),s=this.getArea(),o=new fr(i[0],i[1],a[0]-i[0],a[1]-i[1]);return s.intersect(o)},t.prototype.dataToPoint=function(e,n,i){i=i||[];var a=e[0],s=e[1];if(this._transform&&a!=null&&isFinite(a)&&s!=null&&isFinite(s))return Oi(i,e,this._transform);var o=this.getAxis("x"),l=this.getAxis("y");return i[0]=o.toGlobalCoord(o.dataToCoord(a,n)),i[1]=l.toGlobalCoord(l.dataToCoord(s,n)),i},t.prototype.clampData=function(e,n){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,s=i.getExtent(),o=a.getExtent(),l=i.parse(e[0]),u=a.parse(e[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),n[1]=Math.min(Math.max(Math.min(o[0],o[1]),u),Math.max(o[0],o[1])),n},t.prototype.pointToData=function(e,n,i){if(i=i||[],this._invTransform)return Oi(i,e,this._invTransform);var a=this.getAxis("x"),s=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(e[0]),n),i[1]=s.coordToData(s.toLocalCoord(e[1]),n),i},t.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")},t.prototype.getArea=function(e){e=e||0;var n=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),a=Math.min(n[0],n[1])-e,s=Math.min(i[0],i[1])-e,o=Math.max(n[0],n[1])-a+e,l=Math.max(i[0],i[1])-s+e;return new fr(a,s,o,l)},t}(u5e),$ie=function(r){Ge(t,r);function t(e,n,i,a,s){var o=r.call(this,e,n,i)||this;return o.index=0,o.type=a||"value",o.position=s||"bottom",o}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.getGlobalExtent=function(e){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),e&&n[0]>n[1]&&n.reverse(),n},t.prototype.pointToData=function(e,n){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),n)},t.prototype.setCategorySortInfo=function(e){if(this.type!=="category")return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(Du),m8="expandAxisBreak",Kie="collapseAxisBreak",qie="toggleAxisBreak",Z9="axisbreakchanged",f5e={type:m8,event:Z9,update:"update",refineEvent:J9},h5e={type:Kie,event:Z9,update:"update",refineEvent:J9},d5e={type:qie,event:Z9,update:"update",refineEvent:J9};function J9(r,t,e,n){var i=[];return se(r,function(a){i=i.concat(a.eventBreaks)}),{eventContent:{breaks:i}}}function A5e(r){r.registerAction(f5e,t),r.registerAction(h5e,t),r.registerAction(d5e,t);function t(e,n){var i=[],a=zv(n,e);function s(o,l){se(a[o],function(u){var c=u.updateAxisBreaks(e);se(c.breaks,function(f){var h;i.push(sr((h={},h[l]=u.componentIndex,h),f))})})}return s("xAxisModels","xAxisIndex"),s("yAxisModels","yAxisIndex"),s("singleAxisModels","singleAxisIndex"),{eventBreaks:i}}}var dA=Math.PI,p5e=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],g5e=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],R1=Kr(),Xie=Kr(),Yie=function(){function r(t){this.recordMap={},this.resolveAxisNameOverlap=t}return r.prototype.ensureRecord=function(t){var e=t.axis.dim,n=t.componentIndex,i=this.recordMap,a=i[e]||(i[e]=[]);return a[n]||(a[n]={ready:{}})},r}();function m5e(r,t,e,n){var i=e.axis,a=t.ensureRecord(e),s=[],o,l=eP(r.axisName)&&L1(r.nameLocation);se(n,function(A){var p=Nf(A);if(!(!p||p.label.ignore)){s.push(p);var g=a.transGroup;l&&(g.transform?ku(Ax,g.transform):Ow(Ax),p.transform&&dc(Ax,Ax,p.transform),fr.copy(Z5,p.localRect),Z5.applyTransform(Ax),o?o.union(Z5):fr.copy(o=new fr(0,0,0,0),Z5))}});var u=Math.abs(a.dirVec.x)>.1?"x":"y",c=a.transGroup[u];if(s.sort(function(A,p){return Math.abs(A.label[u]-c)-Math.abs(p.label[u]-c)}),l&&o){var f=i.getExtent(),h=Math.min(f[0],f[1]),d=Math.max(f[0],f[1])-h;o.union(new fr(h,0,d,1))}a.stOccupiedRect=o,a.labelInfoList=s}var Ax=Ya(),Z5=new fr(0,0,0,0),Zie=function(r,t,e,n,i,a){if(L1(r.nameLocation)){var s=a.stOccupiedRect;s&&Jie(pwe({},s,a.transGroup.transform),n,i)}else eae(a.labelInfoList,a.dirVec,n,i)};function Jie(r,t,e){var n=new cr;p8(r,t,n,{direction:Math.atan2(e.y,e.x),bidirectional:!1,touchThreshold:.05})&&KF(t,n)}function eae(r,t,e,n){for(var i=cr.dot(n,t)>=0,a=0,s=r.length;a<s;a++){var o=r[i?a:s-1-a];o.label.ignore||Jie(o,e,n)}}var Fo=function(){function r(t,e,n,i){this.group=new ir,this._axisModel=t,this._api=e,this._local={},this._shared=i||new Yie(Zie),this._resetCfgDetermined(n)}return r.prototype.updateCfg=function(t){var e=this._cfg.raw;e.position=t.position,e.labelOffset=t.labelOffset,this._resetCfgDetermined(e)},r.prototype.__getRawCfg=function(){return this._cfg.raw},r.prototype._resetCfgDetermined=function(t){var e=this._axisModel,n=e.getDefaultOption?e.getDefaultOption():{},i=Zt(t.axisName,e.get("name")),a=e.get("nameMoveOverlap");(a==null||a==="auto")&&(a=Zt(t.defaultNameMoveOverlap,!0));var s={raw:t,position:t.position,rotation:t.rotation,nameDirection:Zt(t.nameDirection,1),tickDirection:Zt(t.tickDirection,1),labelDirection:Zt(t.labelDirection,1),labelOffset:Zt(t.labelOffset,0),silent:Zt(t.silent,!0),axisName:i,nameLocation:rl(e.get("nameLocation"),n.nameLocation,"end"),shouldNameMoveOverlap:eP(i)&&a,optionHideOverlap:e.get(["axisLabel","hideOverlap"]),showMinorTicks:e.get(["minorTick","show"])};this._cfg=s;var o=new ir({x:s.position[0],y:s.position[1],rotation:s.rotation});o.updateTransform(),this._transformGroup=o;var l=this._shared.ensureRecord(e);l.transGroup=this._transformGroup,l.dirVec=new cr(Math.cos(-s.rotation),Math.sin(-s.rotation))},r.prototype.build=function(t,e){var n=this;return t||(t={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0}),se(v5e,function(i){t[i]&&y5e[i](n._cfg,n._local,n._shared,n._axisModel,n.group,n._transformGroup,n._api,e||{})}),this},r.innerTextLayout=function(t,e,n){var i=ID(e-t),a,s;return T1(i)?(s=n>0?"top":"bottom",a="center"):T1(i-dA)?(s=n>0?"bottom":"top",a="center"):(s="middle",i>0&&i<dA?a=n>0?"right":"left":a=n>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:s}},r.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},r.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},r}(),v5e=["axisLine","axisTickLabelEstimate","axisTickLabelDetermine","axisName"],y5e={axisLine:function(r,t,e,n,i,a,s){var o=n.get(["axisLine","show"]);if(o==="auto"&&(o=!0,r.raw.axisLineAutoShow!=null&&(o=!!r.raw.axisLineAutoShow)),!!o){var l=n.axis.getExtent(),u=a.transform,c=[l[0],0],f=[l[1],0],h=c[0]>f[0];u&&(Oi(c,c,u),Oi(f,f,u));var d=pt({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),A={strokeContainThreshold:r.raw.strokeContainThreshold||5,silent:!0,z2:1,style:d};if(n.get(["axisLine","breakLine"])&&n.axis.scale.hasBreaks())e_().buildAxisBreakLine(n,i,a,A);else{var p=new ra(pt({shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]}},A));N1(p.shape,p.style.lineWidth),p.anid="line",i.add(p)}var g=n.get(["axisLine","symbol"]);if(g!=null){var m=n.get(["axisLine","symbolSize"]);Ht(g)&&(g=[g,g]),(Ht(m)||an(m))&&(m=[m,m]);var v=zg(n.get(["axisLine","symbolOffset"])||0,m),y=m[0],b=m[1];se([{rotate:r.rotation+Math.PI/2,offset:v[0],r:0},{rotate:r.rotation-Math.PI/2,offset:v[1],r:Math.sqrt((c[0]-f[0])*(c[0]-f[0])+(c[1]-f[1])*(c[1]-f[1]))}],function(_,T){if(g[T]!=="none"&&g[T]!=null){var I=ia(g[T],-y/2,-b/2,y,b,d.stroke,!0),N=_.r+_.offset,F=h?f:c;I.attr({rotation:_.rotate,x:F[0]+N*Math.cos(r.rotation),y:F[1]-N*Math.sin(r.rotation),silent:!0,z2:11}),i.add(I)}})}}},axisTickLabelEstimate:function(r,t,e,n,i,a,s,o){var l=Ez(t,i,o);l&&Tz(r,t,e,n,i,a,s,bc.estimate)},axisTickLabelDetermine:function(r,t,e,n,i,a,s,o){var l=Ez(t,i,o);l&&Tz(r,t,e,n,i,a,s,bc.determine);var u=_5e(r,i,a,n);w5e(r,t.labelLayoutList,u),S5e(r,i,a,n,r.tickDirection)},axisName:function(r,t,e,n,i,a,s,o){var l=e.ensureRecord(n);t.nameEl&&(i.remove(t.nameEl),t.nameEl=l.nameLayout=l.nameLocation=null);var u=r.axisName;if(eP(u)){var c=r.nameLocation,f=r.nameDirection,h=n.getModel("nameTextStyle"),d=n.get("nameGap")||0,A=n.axis.getExtent(),p=n.axis.inverse?-1:1,g=new cr(0,0),m=new cr(0,0);c==="start"?(g.x=A[0]-p*d,m.x=-p):c==="end"?(g.x=A[1]+p*d,m.x=p):(g.x=(A[0]+A[1])/2,g.y=r.labelOffset+f*d,m.y=f);var v=Ya();m.transform(td(v,v,r.rotation));var y=n.get("nameRotate");y!=null&&(y=y*dA/180);var b,_;L1(c)?b=Fo.innerTextLayout(r.rotation,y??r.rotation,f):(b=x5e(r.rotation,c,y||0,A),_=r.raw.axisNameAvailableWidth,_!=null&&(_=Math.abs(_/Math.sin(b.rotation)),!isFinite(_)&&(_=null)));var T=h.getFont(),I=n.get("nameTruncate",!0)||{},N=I.ellipsis,F=hs(r.raw.nameTruncateMaxWidth,I.maxWidth,_),P=o.nameMarginLevel||0,D=new nn({x:g.x,y:g.y,rotation:b.rotation,silent:Fo.isLabelSilent(n),style:jn(h,{text:u,font:T,overflow:"truncate",width:F,ellipsis:N,fill:h.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:h.get("align")||b.textAlign,verticalAlign:h.get("verticalAlign")||b.textVerticalAlign}),z2:1});if(nd({el:D,componentModel:n,itemName:u}),D.__fullText=u,D.anid="name",n.get("triggerEvent")){var R=Fo.makeAxisEventDataBase(n);R.targetType="axisName",R.name=u,pr(D).eventData=R}a.add(D),D.updateTransform(),t.nameEl=D;var E=l.nameLayout=Nf({label:D,priority:D.z2,defaultAttr:{ignore:D.ignore},marginDefault:L1(c)?p5e[P]:g5e[P]});if(l.nameLocation=c,i.add(D),D.decomposeTransform(),r.shouldNameMoveOverlap&&E){var L=e.ensureRecord(n);e.resolveAxisNameOverlap(r,e,n,E,m,L)}}}};function Tz(r,t,e,n,i,a,s,o){rae(t)||C5e(r,t,i,o,n,s);var l=t.labelLayoutList;B5e(r,n,l,a),k5e(n,r.rotation,l);var u=r.optionHideOverlap;b5e(n,l,u),u&&hie(dn(l,function(c){return c&&!c.label.ignore})),m5e(r,e,n,l)}function x5e(r,t,e,n){var i=ID(e-r),a,s,o=n[0]>n[1],l=t==="start"&&!o||t!=="start"&&o;return T1(i-dA/2)?(s=l?"bottom":"top",a="center"):T1(i-dA*1.5)?(s=l?"top":"bottom",a="center"):(s="middle",i<dA*1.5&&i>dA/2?a=l?"left":"right":a=l?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:s}}function b5e(r,t,e){if(qne(r.axis))return;function n(o,l,u){var c=Nf(t[l]),f=Nf(t[u]);if(!(!c||!f)){if(o===!1||c.suggestIgnore){Zx(c.label);return}if(f.suggestIgnore){Zx(f.label);return}var h=.1;if(!e){var d=[0,0,0,0];c=qF({marginForce:d},c),f=qF({marginForce:d},f)}p8(c,f,null,{touchThreshold:h})&&Zx(o?f.label:c.label)}}var i=r.get(["axisLabel","showMinLabel"]),a=r.get(["axisLabel","showMaxLabel"]),s=t.length;n(i,0,1),n(a,s-1,s-2)}function w5e(r,t,e){r.showMinorTicks||se(t,function(n){if(n&&n.label.ignore)for(var i=0;i<e.length;i++){var a=e[i],s=Xie(a),o=R1(n.label);if(s.tickValue!=null&&!s.onBand&&s.tickValue===o.tickValue){Zx(a);return}}})}function Zx(r){r&&(r.ignore=!0)}function tae(r,t,e,n,i){for(var a=[],s=[],o=[],l=0;l<r.length;l++){var u=r[l].coord;s[0]=u,s[1]=0,o[0]=u,o[1]=e,t&&(Oi(s,s,t),Oi(o,o,t));var c=new ra({shape:{x1:s[0],y1:s[1],x2:o[0],y2:o[1]},style:n,z2:2,autoBatch:!0,silent:!0});N1(c.shape,c.style.lineWidth),c.anid=i+"_"+r[l].tickValue,a.push(c);var f=Xie(c);f.onBand=!!r[l].onBand,f.tickValue=r[l].tickValue}return a}function _5e(r,t,e,n){var i=n.axis,a=n.getModel("axisTick"),s=a.get("show");if(s==="auto"&&(s=!0,r.raw.axisTickAutoShow!=null&&(s=!!r.raw.axisTickAutoShow)),!s||i.scale.isBlank())return[];for(var o=a.getModel("lineStyle"),l=r.tickDirection*a.get("length"),u=i.getTicksCoords(),c=tae(u,e.transform,l,sr(o.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<c.length;f++)t.add(c[f]);return c}function S5e(r,t,e,n,i){var a=n.axis,s=n.getModel("minorTick");if(!(!r.showMinorTicks||a.scale.isBlank())){var o=a.getMinorTicksCoords();if(o.length)for(var l=s.getModel("lineStyle"),u=i*s.get("length"),c=sr(l.getLineStyle(),sr(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),f=0;f<o.length;f++)for(var h=tae(o[f],e.transform,u,c,"minorticks_"+f),d=0;d<h.length;d++)t.add(h[d])}}function Ez(r,t,e){if(rae(r)){var n=r.axisLabelsCreationContext,i=n.out.noPxChangeTryDetermine;if(e.noPxChange){for(var a=!0,s=0;s<i.length;s++)a=a&&i[s]();if(a)return!1}i.length&&(t.remove(r.labelGroup),iI(r,null,null,null))}return!0}function C5e(r,t,e,n,i,a){var s=i.axis,o=hs(r.raw.axisLabelShow,i.get(["axisLabel","show"])),l=new ir;e.add(l);var u=f6(n);if(!o||s.scale.isBlank()){iI(t,[],l,u);return}var c=i.getModel("axisLabel"),f=s.getViewLabels(u),h=(hs(r.raw.labelRotate,c.get("rotate"))||0)*dA/180,d=Fo.innerTextLayout(r.rotation,h,r.labelDirection),A=i.getCategories&&i.getCategories(!0),p=[],g=i.get("triggerEvent"),m=1/0,v=-1/0;se(f,function(b,_){var T,I=s.scale.type==="ordinal"?s.scale.getRawOrdinalNumber(b.tickValue):b.tickValue,N=b.formattedLabel,F=b.rawLabel,P=c;if(A&&A[I]){var D=A[I];or(D)&&D.textStyle&&(P=new qr(D.textStyle,c,i.ecModel))}var R=P.getTextColor()||i.get(["axisLine","lineStyle","color"]),E=P.getShallow("align",!0)||d.textAlign,L=Zt(P.getShallow("alignMinLabel",!0),E),k=Zt(P.getShallow("alignMaxLabel",!0),E),w=P.getShallow("verticalAlign",!0)||P.getShallow("baseline",!0)||d.textVerticalAlign,C=Zt(P.getShallow("verticalAlignMinLabel",!0),w),S=Zt(P.getShallow("verticalAlignMaxLabel",!0),w),B=10+(((T=b.time)===null||T===void 0?void 0:T.level)||0);m=Math.min(m,B),v=Math.max(v,B);var O=new nn({x:0,y:0,rotation:0,silent:Fo.isLabelSilent(i),z2:B,style:jn(P,{text:N,align:_===0?L:_===f.length-1?k:E,verticalAlign:_===0?C:_===f.length-1?S:w,fill:rr(R)?R(s.type==="category"?F:s.type==="value"?I+"":I,_):R})});O.anid="label_"+I;var V=R1(O);if(V.break=b.break,V.tickValue=I,V.layoutRotation=d.rotation,nd({el:O,componentModel:i,itemName:N,formatterParamsExtra:{isTruncated:function(){return O.isTruncated},value:F,tickIndex:_}}),g){var M=Fo.makeAxisEventDataBase(i);M.targetType="axisLabel",M.value=F,M.tickIndex=_,b.break&&(M.break={start:b.break.parsedBreak.vmin,end:b.break.parsedBreak.vmax}),s.type==="category"&&(M.dataIndex=I),pr(O).eventData=M,b.break&&E5e(i,a,O,b.break)}p.push(O),l.add(O)});var y=wt(p,function(b){return{label:b,priority:R1(b).break?b.z2+(v-m+1):b.z2,defaultAttr:{ignore:b.ignore}}});iI(t,y,l,u)}function rae(r){return!!r.labelLayoutList}function iI(r,t,e,n){r.labelLayoutList=t,r.labelGroup=e,r.axisLabelsCreationContext=n}function B5e(r,t,e,n){var i=t.get(["axisLabel","margin"]);se(e,function(a,s){var o=Nf(a);if(o){var l=o.label,u=R1(l);o.suggestIgnore=l.ignore,l.ignore=!1,QS(Zf,T5e),Zf.x=t.axis.dataToCoord(u.tickValue),Zf.y=r.labelOffset+r.labelDirection*i,Zf.rotation=u.layoutRotation,n.add(Zf),Zf.updateTransform(),n.remove(Zf),Zf.decomposeTransform(),QS(l,Zf),l.markRedraw(),p6(o,!0),Nf(o)}})}var Zf=new zr,T5e=new zr;function eP(r){return!!r}function E5e(r,t,e,n){e.on("click",function(i){var a={type:m8,breaks:[{start:n.parsedBreak.breakOption.start,end:n.parsedBreak.breakOption.end}]};a[r.axis.dim+"AxisIndex"]=r.componentIndex,t.dispatchAction(a)})}function k5e(r,t,e){var n=ma();if(n){var i=n.retrieveAxisBreakPairs(e,function(s){return s&&R1(s.label).break},!0),a=r.get(["breakLabelLayout","moveOverlap"],!0);(a===!0||a==="auto")&&se(i,function(s){e_().adjustBreakLabelPair(r.axis.inverse,t,[Nf(e[s[0]]),Nf(e[s[1]])])})}}function y6(r,t,e){e=e||{};var n=t.axis,i={},a=n.getAxesOnZeroOf()[0],s=n.position,o=a?"onZero":s,l=n.dim,u=[r.x,r.x+r.width,r.y,r.y+r.height],c={left:0,right:1,top:0,bottom:1,onZero:2},f=t.get("offset")||0,h=l==="x"?[u[2]-f,u[3]+f]:[u[0]-f,u[1]+f];if(a){var d=a.toGlobalCoord(a.dataToCoord(0));h[c.onZero]=Math.max(Math.min(d,h[1]),h[0])}i.position=[l==="y"?h[c[o]]:u[0],l==="x"?h[c[o]]:u[3]],i.rotation=Math.PI/2*(l==="x"?0:1);var A={top:-1,bottom:1,left:-1,right:1};i.labelDirection=i.tickDirection=i.nameDirection=A[s],i.labelOffset=a?h[c[s]]-h[c.onZero]:0,t.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),hs(e.labelInside,t.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var p=t.get(["axisLabel","rotate"]);return i.labelRotate=o==="top"?-p:p,i.z2=1,i}function N5e(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function kz(r){var t={xAxisModel:null,yAxisModel:null};return se(t,function(e,n){var i=n.replace(/Model$/,""),a=r.getReferringComponents(i,Ni).models[0];t[n]=a}),t}function F5e(r,t,e,n,i,a){for(var s=y6(r,e),o=!1,l=!1,u=0;u<t.length;u++)QF(t[u].getOtherAxis(e.axis).scale)&&(o=l=!0,e.axis.type==="category"&&e.axis.onBand&&(l=!1));return s.axisLineAutoShow=o,s.axisTickAutoShow=l,s.defaultNameMoveOverlap=a,new Fo(e,n,s,i)}function I5e(r,t,e){var n=y6(t,e);r.updateCfg(n)}function nae(r,t,e){var n=$h.prototype,i=n.getTicks.call(e),a=n.getTicks.call(e,{expandToNicedExtent:!0}),s=i.length-1,o=n.getInterval.call(e),l=Kne(r,t),u=l.extent,c=l.fixMin,f=l.fixMax;r.type==="log"&&(u=zF(r.base,u,!0)),r.setBreaksFromOption(Xne(t)),r.setExtent(u[0],u[1]),r.calcNiceExtent({splitNumber:s,fixMin:c,fixMax:f});var h=n.getExtent.call(r);c&&(u[0]=h[0]),f&&(u[1]=h[1]);var d=n.getInterval.call(r),A=u[0],p=u[1];if(c&&f)d=(p-A)/s;else if(c)for(p=u[0]+d*s;p<u[1]&&isFinite(p)&&isFinite(u[1]);)d=eE(d),p=u[0]+d*s;else if(f)for(A=u[1]-d*s;A>u[0]&&isFinite(A)&&isFinite(u[0]);)d=eE(d),A=u[1]-d*s;else{var g=r.getTicks().length-1;g>s&&(d=eE(d));var m=d*s;p=Math.ceil(u[1]/d)*d,A=ta(p-m),A<0&&u[0]>=0?(A=0,p=ta(m)):p>0&&u[1]<=0&&(p=0,A=-ta(m))}var v=(i[0].value-a[0].value)/o,y=(i[s].value-a[s].value)/o;n.setExtent.call(r,A+d*v,p+d*y),n.setInterval.call(r,d),(v||y)&&n.setNiceExtent.call(r,A+d,p-d)}var Nz=[[3,1],[0,2]],M5e=function(){function r(t,e,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=nI,this._initCartesian(t,e,n),this.model=t}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(t,e){var n=this._axesMap;this._updateScale(t,this.model);function i(s){var o,l=en(s),u=l.length;if(u){for(var c=[],f=u-1;f>=0;f--){var h=+l[f],d=s[h],A=d.model,p=d.scale;QF(p)&&A.get("alignTicks")&&A.get("interval")==null?c.push(d):(Bg(p,A),QF(p)&&(o=d))}c.length&&(o||(o=c.pop(),Bg(o.scale,o.model)),se(c,function(g){nae(g.scale,g.model,o.scale)}))}}i(n.x),i(n.y);var a={};se(n.x,function(s){Fz(n,"y",s,a)}),se(n.y,function(s){Fz(n,"x",s,a)}),this.resize(this.model,e)},r.prototype.resize=function(t,e,n){var i=La(t,e),a=this._rect=li(t.getBoxLayoutParams(),i.refContainer),s=this._axesMap,o=this._coordsList,l=t.get("containLabel");if(aI(s,a),!n){var u=P5e(a,o,s,l,e),c=void 0;if(l)sI?(sI(this._axesList,a),aI(s,a)):c=Lz(a.clone(),"axisLabel",null,a,s,u,i);else{var f=R5e(t,a,i),h=f.outerBoundsRect,d=f.parsedOuterBoundsContain,A=f.outerBoundsClamp;h&&(c=Lz(h,d,A,a,s,u,i))}iae(a,s,bc.determine,null,c,i)}se(this._coordsList,function(p){p.calcAffineTransform()})},r.prototype.getAxis=function(t,e){var n=this._axesMap[t];if(n!=null)return n[e||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(t,e){if(t!=null&&e!=null){var n="x"+t+"y"+e;return this._coordsMap[n]}or(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===t||a[i].getAxis("y").index===e)return a[i]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},r.prototype.convertFromPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},r.prototype._findConvertTarget=function(t){var e=t.seriesModel,n=t.xAxisModel||e&&e.getReferringComponents("xAxis",Ni).models[0],i=t.yAxisModel||e&&e.getReferringComponents("yAxis",Ni).models[0],a=t.gridModel,s=this._coordsList,o,l;if(e)o=e.coordinateSystem,Lr(s,o)<0&&(o=null);else if(n&&i)o=this.getCartesian(n.componentIndex,i.componentIndex);else if(n)l=this.getAxis("x",n.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(a){var u=a.coordinateSystem;u===this&&(o=this._coordsList[0])}return{cartesian:o,axis:l}},r.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},r.prototype._initCartesian=function(t,e,n){var i=this,a=this,s={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},l={x:0,y:0};if(e.eachComponent("xAxis",u("x"),this),e.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=o,se(o.x,function(c,f){se(o.y,function(h,d){var A="x"+f+"y"+d,p=new c5e(A);p.master=i,p.model=t,i._coordsMap[A]=p,i._coordsList.push(p),p.addAxis(c),p.addAxis(h)})});function u(c){return function(f,h){if(gE(f,t)){var d=f.get("position");c==="x"?d!=="top"&&d!=="bottom"&&(d=s.bottom?"top":"bottom"):d!=="left"&&d!=="right"&&(d=s.left?"right":"left"),s[d]=!0;var A=new $ie(c,qw(f),[0,0],f.get("type"),d),p=A.type==="category";A.onBand=p&&f.get("boundaryGap"),A.inverse=f.get("inverse"),f.axis=A,A.model=f,A.grid=a,A.index=h,a._axesList.push(A),o[c][h]=A,l[c]++}}}},r.prototype._updateScale=function(t,e){se(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),t.eachSeries(function(i){if(N5e(i)){var a=kz(i),s=a.xAxisModel,o=a.yAxisModel;if(!gE(s,e)||!gE(o,e))return;var l=this.getCartesian(s.componentIndex,o.componentIndex),u=i.getData(),c=l.getAxis("x"),f=l.getAxis("y");n(u,c),n(u,f)}},this);function n(i,a){se(c6(i,a.dim),function(s){a.scale.unionExtentFromData(i,s)})}},r.prototype.getTooltipAxes=function(t){var e=[],n=[];return se(this.getCartesians(),function(i){var a=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis(),s=i.getOtherAxis(a);Lr(e,a)<0&&e.push(a),Lr(n,s)<0&&n.push(s)}),{baseAxes:e,otherAxes:n}},r.create=function(t,e){var n=[];return t.eachComponent("grid",function(i,a){var s=new r(i,t,e);s.name="grid_"+a,s.resize(i,e,!0),i.coordinateSystem=s,n.push(s)}),t.eachSeries(function(i){$w({targetModel:i,coordSysType:"cartesian2d",coordSysProvider:a});function a(){var s=kz(i),o=s.xAxisModel,l=s.yAxisModel,u=o.getCoordSysModel(),c=u.coordinateSystem;return c.getCartesian(o.componentIndex,l.componentIndex)}}),n},r.dimensions=nI,r}();function gE(r,t){return r.getCoordSysModel()===t}function Fz(r,t,e,n){e.getAxesOnZeroOf=function(){return a?[a]:[]};var i=r[t],a,s=e.model,o=s.get(["axisLine","onZero"]),l=s.get(["axisLine","onZeroAxisIndex"]);if(!o)return;if(l!=null)Iz(i[l])&&(a=i[l]);else for(var u in i)if(i.hasOwnProperty(u)&&Iz(i[u])&&!n[c(i[u])]){a=i[u];break}a&&(n[c(a)]=!0);function c(f){return f.dim+"_"+f.index}}function Iz(r){return r&&r.type!=="category"&&r.type!=="time"&&Cbe(r)}function L5e(r,t){var e=r.getExtent(),n=e[0]+e[1];r.toGlobalCoord=r.dim==="x"?function(i){return i+t}:function(i){return n-i+t},r.toLocalCoord=r.dim==="x"?function(i){return i-t}:function(i){return n-i+t}}function aI(r,t){se(r.x,function(e){return Mz(e,t.x,t.width)}),se(r.y,function(e){return Mz(e,t.y,t.height)})}function Mz(r,t,e){var n=[0,e],i=r.inverse?1:0;r.setExtent(n[i],n[1-i]),L5e(r,t)}var sI;function D5e(r){sI=r}function Lz(r,t,e,n,i,a,s){iae(n,i,bc.estimate,t,!1,s);var o=[0,0,0,0];u(0),u(1),c(n,0,NaN),c(n,1,NaN);var l=c0(o,function(h){return h>0})==null;return _g(n,o,!0,!0,e),aI(i,n),l;function u(h){se(i[Sr[h]],function(d){if(Qb(d.model)){var A=a.ensureRecord(d.model),p=A.labelInfoList;if(p)for(var g=0;g<p.length;g++){var m=p[g],v=d.scale.normalize(R1(m.label).tickValue);v=h===1?1-v:v,c(m.rect,h,v),c(m.rect,1-h,NaN)}var y=A.nameLayout;if(y){var v=L1(A.nameLocation)?.5:NaN;c(y.rect,h,v),c(y.rect,1-h,NaN)}}})}function c(h,d,A){var p=r[Sr[d]]-h[Sr[d]],g=h[va[d]]+h[Sr[d]]-(r[va[d]]+r[Sr[d]]);p=f(p,1-A),g=f(g,A);var m=Nz[d][0],v=Nz[d][1];o[m]=ea(o[m],p),o[v]=ea(o[v],g)}function f(h,d){return h>0&&!Ds(d)&&d>1e-4&&(h/=d),h}}function P5e(r,t,e,n,i){var a=new Yie(O5e);return se(e,function(s){return se(s,function(o){if(Qb(o.model)){var l=!n;o.axisBuilder=F5e(r,t,o.model,i,a,l)}})}),a}function iae(r,t,e,n,i,a){var s=e===bc.determine;se(t,function(u){return se(u,function(c){Qb(c.model)&&(I5e(c.axisBuilder,r,c.model),c.axisBuilder.build(s?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:i}))})});var o={x:0,y:0};l(0),l(1);function l(u){o[Sr[1-u]]=r[va[u]]<=a.refContainer[va[u]]*.5?0:1-u===1?2:1}se(t,function(u,c){return se(u,function(f){Qb(f.model)&&((n==="all"||s)&&f.axisBuilder.build({axisName:!0},{nameMarginLevel:o[c]}),s&&f.axisBuilder.build({axisLine:!0}))})})}function R5e(r,t,e){var n,i=r.get("outerBoundsMode",!0);i==="same"?n=t.clone():(i==null||i==="auto")&&(n=li(r.get("outerBounds",!0)||Vie,e.refContainer));var a=r.get("outerBoundsContain",!0),s;a==null||a==="auto"||Lr(["all","axisLabel"],a)<0?s="all":s=a;var o=[VS(Zt(r.get("outerBoundsClampWidth",!0),v6[0]),t.width),VS(Zt(r.get("outerBoundsClampHeight",!0),v6[1]),t.height)];return{outerBoundsRect:n,parsedOuterBoundsContain:s,outerBoundsClamp:o}}var O5e=function(r,t,e,n,i,a){var s=e.axis.dim==="x"?"y":"x";Zie(r,t,e,n,i,a),L1(r.nameLocation)||se(t.recordMap[s],function(o){o&&o.labelInfoList&&o.dirVec&&eae(o.labelInfoList,o.dirVec,n,i)})};function j5e(r,t){var e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return U5e(e,r,t),e.seriesInvolved&&Q5e(e,r),e}function U5e(r,t,e){var n=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),a=i.get("link",!0)||[],s=[];se(e.getCoordinateSystems(),function(o){if(!o.axisPointerEnabled)return;var l=Wb(o.model),u=r.coordSysAxesInfo[l]={};r.coordSysMap[l]=o;var c=o.model,f=c.getModel("tooltip",n);if(se(o.getAxes(),Nr(p,!1,null)),o.getTooltipAxes&&n&&f.get("show")){var h=f.get("trigger")==="axis",d=f.get(["axisPointer","type"])==="cross",A=o.getTooltipAxes(f.get(["axisPointer","axis"]));(h||d)&&se(A.baseAxes,Nr(p,d?"cross":!0,h)),d&&se(A.otherAxes,Nr(p,"cross",!1))}function p(g,m,v){var y=v.model.getModel("axisPointer",i),b=y.get("show");if(!(!b||b==="auto"&&!g&&!oI(y))){m==null&&(m=y.get("triggerTooltip")),y=g?H5e(v,f,i,t,g,m):y;var _=y.get("snap"),T=y.get("triggerEmphasis"),I=Wb(v.model),N=m||_||v.type==="category",F=r.axesInfo[I]={key:I,axis:v,coordSys:o,axisPointerModel:y,triggerTooltip:m,triggerEmphasis:T,involveSeries:N,snap:_,useHandle:oI(y),seriesModels:[],linkGroup:null};u[I]=F,r.seriesInvolved=r.seriesInvolved||N;var P=z5e(a,v);if(P!=null){var D=s[P]||(s[P]={axesInfo:{}});D.axesInfo[I]=F,D.mapper=a[P].mapper,F.linkGroup=D}}}})}function H5e(r,t,e,n,i,a){var s=t.getModel("axisPointer"),o=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};se(o,function(h){l[h]=nr(s.get(h))}),l.snap=r.type!=="category"&&!!a,s.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),i==="cross"){var c=s.get(["label","show"]);if(u.show=c??!0,!a){var f=l.lineStyle=s.get("crossStyle");f&&sr(u,f.textStyle)}}return r.model.getModel("axisPointer",new qr(l,e,n))}function Q5e(r,t){t.eachSeries(function(e){var n=e.coordinateSystem,i=e.get(["tooltip","trigger"],!0),a=e.get(["tooltip","show"],!0);!n||!n.model||i==="none"||i===!1||i==="item"||a===!1||e.get(["axisPointer","show"],!0)===!1||se(r.coordSysAxesInfo[Wb(n.model)],function(s){var o=s.axis;n.getAxis(o.dim)===o&&(s.seriesModels.push(e),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=e.getData().count())})})}function z5e(r,t){for(var e=t.model,n=t.dim,i=0;i<r.length;i++){var a=r[i]||{};if(mE(a[n+"AxisId"],e.id)||mE(a[n+"AxisIndex"],e.componentIndex)||mE(a[n+"AxisName"],e.name))return i}}function mE(r,t){return r==="all"||xt(r)&&Lr(r,t)>=0||r===t}function V5e(r){var t=tP(r);if(t){var e=t.axisPointerModel,n=t.axis.scale,i=e.option,a=e.get("status"),s=e.get("value");s!=null&&(s=n.parse(s));var o=oI(e);a==null&&(i.status=o?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(s==null||s>l[1])&&(s=l[1]),s<l[0]&&(s=l[0]),i.value=s,o&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function tP(r){var t=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[Wb(r)]}function G5e(r){var t=tP(r);return t&&t.axisPointerModel}function oI(r){return!!r.get(["handle","show"])}function Wb(r){return r.type+"||"+r.id}var Dz={},Vg=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){this.axisPointerClass&&V5e(e),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,i,!0)},t.prototype.updateAxisPointer=function(e,n,i,a){this._doUpdateAxisPointerClass(e,i,!1)},t.prototype.remove=function(e,n){var i=this._axisPointer;i&&i.remove(n)},t.prototype.dispose=function(e,n){this._disposeAxisPointer(n),r.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,n,i){var a=t.getAxisPointerClass(this.axisPointerClass);if(a){var s=G5e(e);s?(this._axisPointer||(this._axisPointer=new a)).render(e,s,n,i):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,n){Dz[e]=n},t.getAxisPointerClass=function(e){return e&&Dz[e]},t.type="axis",t}(Hn),lI=Kr();function aae(r,t,e,n){var i=e.axis;if(!i.scale.isBlank()){var a=e.getModel("splitArea"),s=a.getModel("areaStyle"),o=s.get("color"),l=n.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:a,clamp:!0,breakTicks:"none",pruneByBreak:"preserve_extent_bound"});if(u.length){var c=o.length,f=lI(r).splitAreaColors,h=Xt(),d=0;if(f)for(var A=0;A<u.length;A++){var p=f.get(u[A].tickValue);if(p!=null){d=(p+(c-1)*A)%c;break}}var g=i.toGlobalCoord(u[0].coord),m=s.getAreaStyle();o=xt(o)?o:[o];for(var A=1;A<u.length;A++){var v=i.toGlobalCoord(u[A].coord),y=void 0,b=void 0,_=void 0,T=void 0;i.isHorizontal()?(y=g,b=l.y,_=v-y,T=l.height,g=y+_):(y=l.x,b=g,_=l.width,T=v-b,g=b+T);var I=u[A-1].tickValue;I!=null&&h.set(I,d),t.add(new zr({anid:I!=null?"area_"+I:null,shape:{x:y,y:b,width:_,height:T},style:sr({fill:o[d]},m),autoBatch:!0,silent:!0})),d=(d+1)%c}lI(r).splitAreaColors=h}}}function sae(r){lI(r).splitAreaColors=null}var W5e=["splitArea","splitLine","minorSplitLine","breakArea"],oae=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return t.prototype.render=function(e,n,i,a){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new ir,this.group.add(this._axisGroup),!!Qb(e)){this._axisGroup.add(e.axis.axisBuilder.group),se(W5e,function(l){e.get([l,"show"])&&$5e[l](this,this._axisGroup,e,e.getCoordSysModel(),i)},this);var o=a&&a.type==="changeAxisOrder"&&a.isInitSort;o||Gw(s,this._axisGroup,e),r.prototype.render.call(this,e,n,i,a)}},t.prototype.remove=function(){sae(this)},t.type="cartesianAxis",t}(Vg),$5e={splitLine:function(r,t,e,n,i){var a=e.axis;if(!a.scale.isBlank()){var s=e.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),u=s.get("showMinLine")!==!1,c=s.get("showMaxLine")!==!1;l=xt(l)?l:[l];for(var f=n.coordinateSystem.getRect(),h=a.isHorizontal(),d=0,A=a.getTicksCoords({tickModel:s,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),p=[],g=[],m=o.getLineStyle(),v=0;v<A.length;v++){var y=a.toGlobalCoord(A[v].coord);if(!(v===0&&!u||v===A.length-1&&!c)){var b=A[v].tickValue;h?(p[0]=y,p[1]=f.y,g[0]=y,g[1]=f.y+f.height):(p[0]=f.x,p[1]=y,g[0]=f.x+f.width,g[1]=y);var _=d++%l.length,T=new ra({anid:b!=null?"line_"+b:null,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:g[0],y2:g[1]},style:sr({stroke:l[_]},m),silent:!0});N1(T.shape,m.lineWidth),t.add(T)}}}},minorSplitLine:function(r,t,e,n,i){var a=e.axis,s=e.getModel("minorSplitLine"),o=s.getModel("lineStyle"),l=n.coordinateSystem.getRect(),u=a.isHorizontal(),c=a.getMinorTicksCoords();if(c.length)for(var f=[],h=[],d=o.getLineStyle(),A=0;A<c.length;A++)for(var p=0;p<c[A].length;p++){var g=a.toGlobalCoord(c[A][p].coord);u?(f[0]=g,f[1]=l.y,h[0]=g,h[1]=l.y+l.height):(f[0]=l.x,f[1]=g,h[0]=l.x+l.width,h[1]=g);var m=new ra({anid:"minor_line_"+c[A][p].tickValue,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:h[0],y2:h[1]},style:d,silent:!0});N1(m.shape,d.lineWidth),t.add(m)}},splitArea:function(r,t,e,n,i){aae(r,t,e,n)},breakArea:function(r,t,e,n,i){var a=e_(),s=e.axis.scale;a&&s.type!=="ordinal"&&a.rectCoordBuildBreakAxis(t,r,e,n.coordinateSystem.getRect(),i)}},lae=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="xAxis",t}(oae),K5e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=lae.type,e}return t.type="yAxis",t}(oae),q5e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="grid",e}return t.prototype.render=function(e,n){this.group.removeAll(),e.get("show")&&this.group.add(new zr({shape:e.coordinateSystem.getRect(),style:sr({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(Hn),Pz={offset:0};function uae(r){r.registerComponentView(q5e),r.registerComponentModel(n5e),r.registerCoordinateSystem("cartesian2d",M5e),P1(r,"x",tI,Pz),P1(r,"y",tI,Pz),r.registerComponentView(lae),r.registerComponentView(K5e),r.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function X5e(r,t){var e=r.coordinateSystem,n=e&&e.type,i=e&&e.getBaseAxis&&e.getBaseAxis(),a=i&&i.scale&&i.scale.type,s=n==="cartesian2d"&&a==="ordinal"||n==="single",o=t.model.get("jitter")>0;return s&&o}var Y5e=Kr();function Rz(r,t,e,n){if(r instanceof $ie){var i=r.scale.type;if(i!=="category"&&i!=="ordinal")return e}var a=r.model,s=a.get("jitter"),o=a.get("jitterOverlap"),l=a.get("jitterMargin")||0,u=r.scale.type==="ordinal"?r.getBandWidth():null;return s>0?o?cae(e,s,u,n):Z5e(r,t,e,n,s,l):e}function cae(r,t,e,n){if(e===null)return r+(Math.random()-.5)*t;var i=e-n*2,a=Math.min(Math.max(0,t),i);return r+(Math.random()-.5)*a}function Z5e(r,t,e,n,i,a){var s=Y5e(r);s.items||(s.items=[]);var o=s.items,l=Oz(o,t,e,n,i,a,1),u=Oz(o,t,e,n,i,a,-1),c=Math.abs(l-e)<Math.abs(u-e)?l:u,f=r.scale.type==="ordinal"?r.getBandWidth():null,h=Math.abs(c-e);return h>i/2||f&&h>f/2-n?cae(e,i,f,n):(o.push({fixedCoord:t,floatCoord:c,r:n}),c)}function Oz(r,t,e,n,i,a,s){for(var o=e,l=0;l<r.length;l++){var u=r[l],c=t-u.fixedCoord,f=o-u.floatCoord,h=c*c+f*f,d=n+u.r+a;if(h<d*d){var A=u.floatCoord+Math.sqrt(d*d-c*c)*s;if(Math.abs(A-e)>i/2)return Number.MAX_VALUE;if(s===1&&A>o||s===-1&&A<o){o=A,l=-1;continue}}}return o}function J5e(r){r.eachSeriesByType("scatter",function(t){var e=t.coordinateSystem;if(e&&(e.type==="cartesian2d"||e.type==="single")){var n=e.getBaseAxis?e.getBaseAxis():null,i=n&&X5e(t,n);if(i){var a=t.getData();a.each(function(s){var o=n.dim,l=n.orient,u=l==="horizontal"&&n.type!=="category"||l==="vertical"&&n.type==="category",c=a.getItemLayout(s),f=a.getItemVisual(s,"symbolSize"),h=f instanceof Array?(f[1]+f[0])/2:f;if(o==="y"||o==="single"&&u){var d=Rz(n,c[0],c[1],h/2);a.setItemLayout(s,[c[0],d])}else if(o==="x"||o==="single"&&!u){var d=Rz(n,c[1],c[0],h/2);a.setItemLayout(s,[d,c[1]])}})}}})}function e4e(r){Or(uae),r.registerSeriesModel(Z_e),r.registerChartView(r5e),r.registerLayout(Jw("scatter"))}function t4e(r){r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,J5e)}function r4e(r){r.eachSeriesByType("radar",function(t){var e=t.getData(),n=[],i=t.coordinateSystem;if(i){var a=i.getIndicatorAxes();se(a,function(s,o){e.each(e.mapDimension(a[o].dim),function(l,u){n[u]=n[u]||[];var c=i.dataToPoint(l,o);n[u][o]=jz(c)?c:Uz(i)})}),e.each(function(s){var o=c0(n[s],function(l){return jz(l)})||Uz(i);n[s].push(o.slice()),e.setItemLayout(s,n[s])})}})}function jz(r){return!isNaN(r[0])&&!isNaN(r[1])}function Uz(r){return[r.cx,r.cy]}function n4e(r){var t=r.polar;if(t){xt(t)||(t=[t]);var e=[];se(t,function(n,i){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),r.radar=r.radar||[],xt(r.radar)||(r.radar=[r.radar]),r.radar.push(n)):e.push(n)}),r.polar=e}se(r.series,function(n){n&&n.type==="radar"&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}var i4e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=e.coordinateSystem,s=this.group,o=e.getData(),l=this._data;function u(h,d){var A=h.getItemVisual(d,"symbol")||"circle";if(A!=="none"){var p=cy(h.getItemVisual(d,"symbolSize")),g=ia(A,-1,-1,2,2),m=h.getItemVisual(d,"symbolRotate")||0;return g.attr({style:{strokeNoScale:!0},z2:100,scaleX:p[0]/2,scaleY:p[1]/2,rotation:m*Math.PI/180||0}),g}}function c(h,d,A,p,g,m){A.removeAll();for(var v=0;v<d.length-1;v++){var y=u(p,g);y&&(y.__dimIdx=v,h[v]?(y.setPosition(h[v]),Ug[m?"initProps":"updateProps"](y,{x:d[v][0],y:d[v][1]},e,g)):y.setPosition(d[v]),A.add(y))}}function f(h){return wt(h,function(d){return[a.cx,a.cy]})}o.diff(l).add(function(h){var d=o.getItemLayout(h);if(d){var A=new Hs,p=new gs,g={shape:{points:d}};A.shape.points=f(d),p.shape.points=f(d),ni(A,g,e,h),ni(p,g,e,h);var m=new ir,v=new ir;m.add(p),m.add(A),m.add(v),c(p.shape.points,d,v,o,h,!0),o.setItemGraphicEl(h,m)}}).update(function(h,d){var A=l.getItemGraphicEl(d),p=A.childAt(0),g=A.childAt(1),m=A.childAt(2),v={shape:{points:o.getItemLayout(h)}};v.shape.points&&(c(p.shape.points,v.shape.points,m,o,h,!1),Fu(g),Fu(p),ln(p,v,e),ln(g,v,e),o.setItemGraphicEl(h,A))}).remove(function(h){s.remove(l.getItemGraphicEl(h))}).execute(),o.eachItemGraphicEl(function(h,d){var A=o.getItemModel(d),p=h.childAt(0),g=h.childAt(1),m=h.childAt(2),v=o.getItemVisual(d,"style"),y=v.fill;s.add(h),p.useStyle(sr(A.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:y})),Ia(p,A,"lineStyle"),Ia(g,A,"areaStyle");var b=A.getModel("areaStyle"),_=b.isEmpty()&&b.parentModel.isEmpty();g.ignore=_,se(["emphasis","select","blur"],function(I){var N=A.getModel([I,"areaStyle"]),F=N.isEmpty()&&N.parentModel.isEmpty();g.ensureState(I).ignore=F&&_;var P=A.getModel([I,"lineStyle"]).getLineStyle();p.ensureState(I).style=P;var D=N.getAreaStyle();g.ensureState(I).style=D;var R=A.getModel([I,"itemStyle"]).getItemStyle();m.eachChild(function(E){E.ensureState(I).style=nr(R)})}),g.useStyle(sr(A.getModel("areaStyle").getAreaStyle(),{fill:y,opacity:.7,decal:v.decal}));var T=A.getModel("emphasis");m.eachChild(function(I){if(I instanceof es){var N=I.style;I.useStyle(pt({image:N.image,x:N.x,y:N.y,width:N.width,height:N.height},v))}else I.useStyle(v),I.setColor(y),I.style.strokeNoScale=!0;var F=o.getStore().get(o.getDimensionIndex(I.__dimIdx),d);(F==null||isNaN(F))&&(F=""),Ja(I,Ma(A),{labelFetcher:o.hostModel,labelDataIndex:d,labelDimIndex:I.__dimIdx,defaultText:F,inheritColor:y,defaultOpacity:v.opacity})}),di(h,T.get("focus"),T.get("blurScope"),T.get("disabled"))}),this._data=o},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(Nn),a4e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new gy(Qt(this.getData,this),Qt(this.getRawData,this))},t.prototype.getInitialData=function(e,n){return py(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),s=this.coordinateSystem,o=s.getIndicatorAxes(),l=this.getData().getName(e),u=l===""?this.name:l,c=Gre(this,e);return ya("section",{header:u,sortBlocks:!0,blocks:wt(o,function(f){var h=a.get(a.mapDimension(f.dim),e);return ya("nameValue",{markerType:"subItem",markerColor:c,name:f.name,value:h,sortParam:h})})})},t.prototype.getTooltipPosition=function(e){if(e!=null){for(var n=this.getData(),i=this.coordinateSystem,a=n.getValues(wt(i.dimensions,function(u){return n.mapDimension(u)}),e),s=0,o=a.length;s<o;s++)if(!isNaN(a[s])){var l=i.getIndicatorAxes();return i.coordToPoint(l[s].dataToCoord(a[s]),s)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(Ln),px=Wie.value;function J5(r,t){return sr({show:t},r)}var s4e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),n=this.get("splitNumber"),i=this.get("scale"),a=this.get("axisLine"),s=this.get("axisTick"),o=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),f=this.get("axisNameGap"),h=this.get("triggerEvent"),d=wt(this.get("indicator")||[],function(A){A.max!=null&&A.max>0&&!A.min?A.min=0:A.min!=null&&A.min<0&&!A.max&&(A.max=0);var p=l;A.color!=null&&(p=sr({color:A.color},l));var g=Dr(nr(A),{boundaryGap:e,splitNumber:n,scale:i,axisLine:a,axisTick:s,axisLabel:o,name:A.text,showName:u,nameLocation:"end",nameGap:f,nameTextStyle:p,triggerEvent:h},!1);if(Ht(c)){var m=g.name;g.name=c.replace("{value}",m??"")}else rr(c)&&(g.name=c(g.name,g));var v=new qr(g,null,this.ecModel);return Ui(v,dy.prototype),v.mainType="radar",v.componentIndex=this.componentIndex,v},this);this._indicatorModels=d},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"50%",startAngle:90,axisName:{show:!0,color:Je.color.axisLabel},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:Dr({lineStyle:{color:Je.color.neutral20}},px.axisLine),axisLabel:J5(px.axisLabel,!1),axisTick:J5(px.axisTick,!1),splitLine:J5(px.splitLine,!0),splitArea:J5(px.splitArea,!0),indicator:[]},t}($r),o4e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=this.group;a.removeAll(),this._buildAxes(e,i),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e,n){var i=e.coordinateSystem,a=i.getIndicatorAxes(),s=wt(a,function(o){var l=o.model.get("showName")?o.name:"",u=new Fo(o.model,n,{axisName:l,position:[i.cx,i.cy],rotation:o.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return u});se(s,function(o){o.build(),this.group.add(o.group)},this)},t.prototype._buildSplitLineAndArea=function(e){var n=e.coordinateSystem,i=n.getIndicatorAxes();if(!i.length)return;var a=e.get("shape"),s=e.getModel("splitLine"),o=e.getModel("splitArea"),l=s.getModel("lineStyle"),u=o.getModel("areaStyle"),c=s.get("show"),f=o.get("show"),h=l.get("color"),d=u.get("color"),A=xt(h)?h:[h],p=xt(d)?d:[d],g=[],m=[];function v(k,w,C){var S=C%w.length;return k[S]=k[S]||[],S}if(a==="circle")for(var y=i[0].getTicksCoords(),b=n.cx,_=n.cy,T=0;T<y.length;T++){if(c){var I=v(g,A,T);g[I].push(new Lf({shape:{cx:b,cy:_,r:y[T].coord}}))}if(f&&T<y.length-1){var I=v(m,p,T);m[I].push(new ey({shape:{cx:b,cy:_,r0:y[T].coord,r:y[T+1].coord}}))}}else for(var N,F=wt(i,function(k,w){var C=k.getTicksCoords();return N=N==null?C.length-1:Math.min(C.length-1,N),wt(C,function(S){return n.coordToPoint(S.coord,w)})}),P=[],T=0;T<=N;T++){for(var D=[],R=0;R<i.length;R++)D.push(F[R][T]);if(D[0]&&D.push(D[0].slice()),c){var I=v(g,A,T);g[I].push(new gs({shape:{points:D}}))}if(f&&P){var I=v(m,p,T-1);m[I].push(new Hs({shape:{points:D.concat(P)}}))}P=D.slice().reverse()}var E=l.getLineStyle(),L=u.getAreaStyle();se(m,function(k,w){this.group.add(Fl(k,{style:sr({stroke:"none",fill:p[w%p.length]},L),silent:!0}))},this),se(g,function(k,w){this.group.add(Fl(k,{style:sr({fill:"none",stroke:A[w%A.length]},E),silent:!0}))},this)},t.type="radar",t}(Hn),l4e=function(r){Ge(t,r);function t(e,n,i){var a=r.call(this,e,n,i)||this;return a.type="value",a.angle=0,a.name="",a}return t}(Du),u4e=function(){function r(t,e,n){this.dimensions=[],this._model=t,this._indicatorAxes=wt(t.getIndicatorModels(),function(i,a){var s="indicator_"+a,o=new l4e(s,new $h);return o.name=i.get("name"),o.model=i,i.axis=o,this.dimensions.push(s),o},this),this.resize(t,n)}return r.prototype.getIndicatorAxes=function(){return this._indicatorAxes},r.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},r.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e],i=n.angle,a=this.cx+t*Math.cos(i),s=this.cy-t*Math.sin(i);return[a,s]},r.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=Math.sqrt(e*e+n*n);e/=i,n/=i;for(var a=Math.atan2(-n,e),s=1/0,o,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],f=Math.abs(a-c.angle);f<s&&(o=c,l=u,s=f)}return[l,+(o&&o.coordToData(i))]},r.prototype.resize=function(t,e){var n=La(t,e).refContainer,i=t.get("center"),a=Math.min(n.width,n.height)/2;this.cx=Ut(i[0],n.width)+n.x,this.cy=Ut(i[1],n.height)+n.y,this.startAngle=t.get("startAngle")*Math.PI/180;var s=t.get("radius");(Ht(s)||an(s))&&(s=[0,s]),this.r0=Ut(s[0],a),this.r=Ut(s[1],a),se(this._indicatorAxes,function(o,l){o.setExtent(this.r0,this.r);var u=this.startAngle+l*Math.PI*2/this._indicatorAxes.length;u=Math.atan2(Math.sin(u),Math.cos(u)),o.angle=u},this)},r.prototype.update=function(t,e){var n=this._indicatorAxes,i=this._model;se(n,function(o){o.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(o,l){if(!(o.get("coordinateSystem")!=="radar"||t.getComponent("radar",o.get("radarIndex"))!==i)){var u=o.getData();se(n,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var a=i.get("splitNumber"),s=new $h;s.setExtent(0,a),s.setInterval(1),se(n,function(o,l){nae(o.scale,o.model,s)})},r.prototype.convertToPixel=function(t,e,n){return console.warn("Not implemented."),null},r.prototype.convertFromPixel=function(t,e,n){return console.warn("Not implemented."),null},r.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},r.create=function(t,e){var n=[];return t.eachComponent("radar",function(i){var a=new r(i,t,e);n.push(a),i.coordinateSystem=a}),t.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=n[i.get("radarIndex")||0])}),n},r.dimensions=[],r}();function c4e(r){r.registerCoordinateSystem("radar",u4e),r.registerComponentModel(s4e),r.registerComponentView(o4e),r.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(n){e.setItemVisual(n,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}function f4e(r){Or(c4e),r.registerChartView(i4e),r.registerSeriesModel(a4e),r.registerLayout(r4e),r.registerProcessor(Ay("radar")),r.registerPreprocessor(n4e)}var rP=Kr();function h4e(r,t,e){rP(r)[t]=e}function d4e(r,t,e){var n=rP(r),i=n[t];i===e&&(n[t]=null)}function Hz(r,t){return!!rP(r)[t]}Bc({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Ri);var A4e={axisPointer:1,tooltip:1,brush:1};function fae(r,t,e){var n=t.getComponentByElement(r.topTarget);if(!n||n===e||A4e.hasOwnProperty(n.mainType))return!1;var i=n.coordinateSystem;if(!i||i.model===e)return!1;var a=Sg(n),s=Sg(e);return!((a.zlevel-s.zlevel||a.z-s.z)<=0)}var Gg=function(r){Ge(t,r);function t(e){var n=r.call(this)||this;n._zr=e;var i=Qt(n._mousedownHandler,n),a=Qt(n._mousemoveHandler,n),s=Qt(n._mouseupHandler,n),o=Qt(n._mousewheelHandler,n),l=Qt(n._pinchHandler,n);return n.enable=function(u,c){var f=c.zInfo,h=Sg(f.component),d=h.z,A=h.zlevel,p={component:f.component,z:d,zlevel:A,z2:Zt(f.z2,-1/0)},g=pt({},c.triggerInfo);this._opt=sr(pt({},c),{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0,zInfoParsed:p,triggerInfo:g}),u==null&&(u=!0),(!this._enabled||this._controlType!==u)&&(this._enabled=!0,this.disable(),(u===!0||u==="move"||u==="pan")&&(mx(e,"mousedown",i,p),mx(e,"mousemove",a,p),mx(e,"mouseup",s,p)),(u===!0||u==="scale"||u==="zoom")&&(mx(e,"mousewheel",o,p),mx(e,"pinch",l,p)))},n.disable=function(){this._enabled=!1,vx(e,"mousedown",i),vx(e,"mousemove",a),vx(e,"mouseup",s),vx(e,"mousewheel",o),vx(e,"pinch",l)},n}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype._checkPointer=function(e,n,i){var a=this._opt,s=a.zInfoParsed;if(fae(e,a.api,s.component))return!1;var o=a.triggerInfo,l=o.roamTrigger,u=!1;return l==="global"&&(u=!0),u||(u=o.isInSelf(e,n,i)),u&&o.isInClip&&!o.isInClip(e,n,i)&&(u=!1),u},t.prototype._decideCursorStyle=function(e,n,i,a){var s=e.target;if(!s&&this._checkPointer(e,n,i))return"grab";if(a)return s&&s.cursor||"default"},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!(oU(e)||gx(e))){for(var n=e.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var i=e.offsetX,a=e.offsetY;this._checkPointer(e,i,a)&&(this._x=i,this._y=a,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){var n=this._zr;if(!(e.gestureEvent==="pinch"||Hz(n,"globalPan")||gx(e))){var i=e.offsetX,a=e.offsetY;if(!this._dragging||!z3("moveOnMouseMove",e,this._opt)){var s=this._decideCursorStyle(e,i,a,!1);s&&n.setCursorStyle(s);return}n.setCursorStyle("grabbing");var o=this._x,l=this._y,u=i-o,c=a-l;this._x=i,this._y=a,this._opt.preventDefaultMouseMove&&Qh(e.event),e.__ecRoamConsumed=!0,Qz(this,"pan","moveOnMouseMove",e,{dx:u,dy:c,oldX:o,oldY:l,newX:i,newY:a,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){if(!gx(e)){var n=this._zr;if(!oU(e)){this._dragging=!1;var i=this._decideCursorStyle(e,e.offsetX,e.offsetY,!0);i&&n.setCursorStyle(i)}}},t.prototype._mousewheelHandler=function(e){if(!gx(e)){var n=z3("zoomOnMouseWheel",e,this._opt),i=z3("moveOnMouseWheel",e,this._opt),a=e.wheelDelta,s=Math.abs(a),o=e.offsetX,l=e.offsetY;if(!(a===0||!n&&!i)){if(n){var u=s>3?1.4:s>1?1.2:1.1,c=a>0?u:1/u;this._checkTriggerMoveZoom(this,"zoom","zoomOnMouseWheel",e,{scale:c,originX:o,originY:l,isAvailableBehavior:null})}if(i){var f=Math.abs(a),h=(a>0?1:-1)*(f>3?.4:f>1?.15:.05);this._checkTriggerMoveZoom(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:h,originX:o,originY:l,isAvailableBehavior:null})}}}},t.prototype._pinchHandler=function(e){if(!(Hz(this._zr,"globalPan")||gx(e))){var n=e.pinchScale>1?1.1:1/1.1;this._checkTriggerMoveZoom(this,"zoom",null,e,{scale:n,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t.prototype._checkTriggerMoveZoom=function(e,n,i,a,s){e._checkPointer(a,s.originX,s.originY)&&(Qh(a.event),a.__ecRoamConsumed=!0,Qz(e,n,i,a,s))},t}(Mu);function gx(r){return r.__ecRoamConsumed}var p4e=Kr();function v8(r){var t=p4e(r);return t.roam=t.roam||{},t.uniform=t.uniform||{},t}function mx(r,t,e,n){for(var i=v8(r),a=i.roam,s=a[t]=a[t]||[],o=0;o<s.length;o++){var l=s[o].zInfoParsed;if((l.zlevel-n.zlevel||l.z-n.z||l.z2-n.z2)<=0)break}s.splice(o,0,{listener:e,zInfoParsed:n}),g4e(r,t)}function vx(r,t,e){for(var n=v8(r),i=n.roam[t]||[],a=0;a<i.length;a++)if(i[a].listener===e){i.splice(a,1),i.length||m4e(r,t);return}}function g4e(r,t){var e=v8(r);e.uniform[t]||r.on(t,e.uniform[t]=function(n){var i=e.roam[t];if(i)for(var a=0;a<i.length;a++)i[a].listener(n)})}function m4e(r,t){var e=v8(r),n=e.uniform;n[t]&&(r.off(t,n[t]),n[t]=null)}function Qz(r,t,e,n,i){i.isAvailableBehavior=Qt(z3,null,e,n),r.trigger(t,i)}function z3(r,t,e){var n=e[r];return!r||n&&(!Ht(n)||t.event[n+"Key"])}function nP(r,t,e){var n=r.target;n.x+=t,n.y+=e,n.dirty()}function iP(r,t,e,n){var i=r.target,a=r.zoomLimit,s=r.zoom=r.zoom||1;s*=t,s=aP(s,a);var o=s/r.zoom;r.zoom=s,dae(i,e,n,o),i.dirty()}function hae(r,t,e,n,i,a){var s=new fr(0,0,0,0);n.enable(r.get("roam"),{api:t,zInfo:{component:r},triggerInfo:{roamTrigger:r.get("roamTrigger"),isInSelf:function(u,c,f){return s.copy(e.getBoundingRect()),s.applyTransform(e.getComputedTransform()),s.contain(c,f)},isInClip:function(u,c,f){return!a||a.contain(c,f)}}}),i.zoomLimit=r.get("scaleLimit");var o=r.coordinateSystem;i.zoom=o?o.getZoom():1;var l=r.subType+"Roam";n.off("pan").off("zoom").on("pan",function(u){nP(i,u.dx,u.dy),t.dispatchAction({seriesId:r.id,type:l,dx:u.dx,dy:u.dy})}).on("zoom",function(u){iP(i,u.scale,u.originX,u.originY),t.dispatchAction({seriesId:r.id,type:l,zoom:u.scale,originX:u.originX,originY:u.originY}),t.updateLabelLayout()})}function zz(r,t){return r.pointToProjected?r.pointToProjected(t):r.pointToData(t)}function y8(r,t,e){var n=r.getZoom(),i=r.getCenter(),a=t.zoom,s=r.projectedToPoint?r.projectedToPoint(i):r.dataToPoint(i);return t.dx!=null&&t.dy!=null&&(s[0]-=t.dx,s[1]-=t.dy,r.setCenter(zz(r,s))),a!=null&&(a=aP(n*a,e)/n,dae(r,t.originX,t.originY,a),r.updateTransform(),r.setCenter(zz(r,s)),r.setZoom(a*n)),{center:r.getCenter(),zoom:r.getZoom()}}function dae(r,t,e,n){r.x-=(t-r.x)*(n-1),r.y-=(e-r.y)*(n-1),r.scaleX*=n,r.scaleY*=n}function aP(r,t){if(t){var e=t.min||0,n=t.max||1/0;r=Math.max(Math.min(n,r),e)}return r}function Aae(r){if(Ht(r)){var t=new DOMParser;r=t.parseFromString(r,"text/xml")}var e=r;for(e.nodeType===9&&(e=e.firstChild);e.nodeName.toLowerCase()!=="svg"||e.nodeType!==1;)e=e.nextSibling;return e}var vE,x6={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},Vz=en(x6),b6={"alignment-baseline":"textBaseline","stop-color":"stopColor"},Gz=en(b6),v4e=function(){function r(){this._defs={},this._root=null}return r.prototype.parse=function(t,e){e=e||{};var n=Aae(t);this._defsUsePending=[];var i=new ir;this._root=i;var a=[],s=n.getAttribute("viewBox")||"",o=parseFloat(n.getAttribute("width")||e.width),l=parseFloat(n.getAttribute("height")||e.height);isNaN(o)&&(o=null),isNaN(l)&&(l=null),yl(n,i,null,!0,!1);for(var u=n.firstChild;u;)this._parseNode(u,i,a,null,!1,!1),u=u.nextSibling;b4e(this._defs,this._defsUsePending),this._defsUsePending=[];var c,f;if(s){var h=x8(s);h.length>=4&&(c={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(c&&o!=null&&l!=null&&(f=gae(c,{x:0,y:0,width:o,height:l}),!e.ignoreViewBox)){var d=i;i=new ir,i.add(d),d.scaleX=d.scaleY=f.scale,d.x=f.x,d.y=f.y}return!e.ignoreRootClip&&o!=null&&l!=null&&i.setClipPath(new zr({shape:{x:0,y:0,width:o,height:l}})),{root:i,width:o,height:l,viewBoxRect:c,viewBoxTransform:f,named:a}},r.prototype._parseNode=function(t,e,n,i,a,s){var o=t.nodeName.toLowerCase(),l,u=i;if(o==="defs"&&(a=!0),o==="text"&&(s=!0),o==="defs"||o==="switch")l=e;else{if(!a){var c=vE[o];if(c&&Kt(vE,o)){l=c.call(this,t,e);var f=t.getAttribute("name");if(f){var h={name:f,namedFrom:null,svgNodeTagLower:o,el:l};n.push(h),o==="g"&&(u=h)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:o,el:l});e.add(l)}}var d=Wz[o];if(d&&Kt(Wz,o)){var A=d.call(this,t),p=t.getAttribute("id");p&&(this._defs[p]=A)}}if(l&&l.isGroup)for(var g=t.firstChild;g;)g.nodeType===1?this._parseNode(g,l,n,u,a,s):g.nodeType===3&&s&&this._parseText(g,l),g=g.nextSibling},r.prototype._parseText=function(t,e){var n=new E1({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});tu(e,n),yl(t,n,this._defsUsePending,!1,!1),y4e(n,e);var i=n.style,a=i.fontSize;a&&a<9&&(i.fontSize=9,n.scaleX*=a/9,n.scaleY*=a/9);var s=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=s;var o=n.getBoundingRect();return this._textX+=o.width,e.add(n),n},r.internalField=function(){vE={g:function(t,e){var n=new ir;return tu(e,n),yl(t,n,this._defsUsePending,!1,!1),n},rect:function(t,e){var n=new zr;return tu(e,n),yl(t,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(t,e){var n=new Lf;return tu(e,n),yl(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),n.silent=!0,n},line:function(t,e){var n=new ra;return tu(e,n),yl(t,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(t,e){var n=new Qw;return tu(e,n),yl(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(t,e){var n=t.getAttribute("points"),i;n&&(i=qz(n));var a=new Hs({shape:{points:i||[]},silent:!0});return tu(e,a),yl(t,a,this._defsUsePending,!1,!1),a},polyline:function(t,e){var n=t.getAttribute("points"),i;n&&(i=qz(n));var a=new gs({shape:{points:i||[]},silent:!0});return tu(e,a),yl(t,a,this._defsUsePending,!1,!1),a},image:function(t,e){var n=new es;return tu(e,n),yl(t,n,this._defsUsePending,!1,!1),n.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),n.silent=!0,n},text:function(t,e){var n=t.getAttribute("x")||"0",i=t.getAttribute("y")||"0",a=t.getAttribute("dx")||"0",s=t.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(a),this._textY=parseFloat(i)+parseFloat(s);var o=new ir;return tu(e,o),yl(t,o,this._defsUsePending,!1,!0),o},tspan:function(t,e){var n=t.getAttribute("x"),i=t.getAttribute("y");n!=null&&(this._textX=parseFloat(n)),i!=null&&(this._textY=parseFloat(i));var a=t.getAttribute("dx")||"0",s=t.getAttribute("dy")||"0",o=new ir;return tu(e,o),yl(t,o,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(s),o},path:function(t,e){var n=t.getAttribute("d")||"",i=Mte(n);return tu(e,i),yl(t,i,this._defsUsePending,!1,!1),i.silent=!0,i}}}(),r}(),Wz={lineargradient:function(r){var t=parseInt(r.getAttribute("x1")||"0",10),e=parseInt(r.getAttribute("y1")||"0",10),n=parseInt(r.getAttribute("x2")||"10",10),i=parseInt(r.getAttribute("y2")||"0",10),a=new jg(t,e,n,i);return $z(r,a),Kz(r,a),a},radialgradient:function(r){var t=parseInt(r.getAttribute("cx")||"0",10),e=parseInt(r.getAttribute("cy")||"0",10),n=parseInt(r.getAttribute("r")||"0",10),i=new $D(t,e,n);return $z(r,i),Kz(r,i),i}};function $z(r,t){var e=r.getAttribute("gradientUnits");e==="userSpaceOnUse"&&(t.global=!0)}function Kz(r,t){for(var e=r.firstChild;e;){if(e.nodeType===1&&e.nodeName.toLocaleLowerCase()==="stop"){var n=e.getAttribute("offset"),i=void 0;n&&n.indexOf("%")>0?i=parseInt(n,10)/100:n?i=parseFloat(n):i=0;var a={};pae(e,a,a);var s=a.stopColor||e.getAttribute("stop-color")||"#000000",o=a.stopOpacity||e.getAttribute("stop-opacity");if(o){var l=oo(s),u=l&&l[3];u&&(l[3]*=Th(o),s=Su(l,"rgba"))}t.colorStops.push({offset:i,color:s})}e=e.nextSibling}}function tu(r,t){r&&r.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),sr(t.__inheritedStyle,r.__inheritedStyle))}function qz(r){for(var t=x8(r),e=[],n=0;n<t.length;n+=2){var i=parseFloat(t[n]),a=parseFloat(t[n+1]);e.push([i,a])}return e}function yl(r,t,e,n,i){var a=t,s=a.__inheritedStyle=a.__inheritedStyle||{},o={};r.nodeType===1&&(S4e(r,t),pae(r,s,o),n||C4e(r,s,o)),a.style=a.style||{},s.fill!=null&&(a.style.fill=Xz(a,"fill",s.fill,e)),s.stroke!=null&&(a.style.stroke=Xz(a,"stroke",s.stroke,e)),se(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){s[l]!=null&&(a.style[l]=parseFloat(s[l]))}),se(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){s[l]!=null&&(a.style[l]=s[l])}),i&&(a.__selfStyle=o),s.lineDash&&(a.style.lineDash=wt(x8(s.lineDash),function(l){return parseFloat(l)})),(s.visibility==="hidden"||s.visibility==="collapse")&&(a.invisible=!0),s.display==="none"&&(a.ignore=!0)}function y4e(r,t){var e=t.__selfStyle;if(e){var n=e.textBaseline,i=n;!n||n==="auto"||n==="baseline"?i="alphabetic":n==="before-edge"||n==="text-before-edge"?i="top":n==="after-edge"||n==="text-after-edge"?i="bottom":(n==="central"||n==="mathematical")&&(i="middle"),r.style.textBaseline=i}var a=t.__inheritedStyle;if(a){var s=a.textAlign,o=s;s&&(s==="middle"&&(o="center"),r.style.textAlign=o)}}var x4e=/^url\(\s*#(.*?)\)/;function Xz(r,t,e,n){var i=e&&e.match(x4e);if(i){var a=Ml(i[1]);n.push([r,t,a]);return}return e==="none"&&(e=null),e}function b4e(r,t){for(var e=0;e<t.length;e++){var n=t[e];n[0].style[n[1]]=r[n[2]]}}var w4e=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function x8(r){return r.match(w4e)||[]}var _4e=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,yE=Math.PI/180;function S4e(r,t){var e=r.getAttribute("transform");if(e){e=e.replace(/,/g," ");var n=[],i=null;e.replace(_4e,function(f,h,d){return n.push(h,d),""});for(var a=n.length-1;a>0;a-=2){var s=n[a],o=n[a-1],l=x8(s);switch(i=i||Ya(),o){case"translate":yc(i,i,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":WC(i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":td(i,i,-parseFloat(l[0])*yE,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*yE);dc(i,[1,0,u,1,0,0],i);break;case"skewY":var c=Math.tan(parseFloat(l[0])*yE);dc(i,[1,c,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5]);break}}t.setLocalTransform(i)}}var Yz=/([^\s:;]+)\s*:\s*([^:;]+)/g;function pae(r,t,e){var n=r.getAttribute("style");if(n){Yz.lastIndex=0;for(var i;(i=Yz.exec(n))!=null;){var a=i[1],s=Kt(x6,a)?x6[a]:null;s&&(t[s]=i[2]);var o=Kt(b6,a)?b6[a]:null;o&&(e[o]=i[2])}}}function C4e(r,t,e){for(var n=0;n<Vz.length;n++){var i=Vz[n],a=r.getAttribute(i);a!=null&&(t[x6[i]]=a)}for(var n=0;n<Gz.length;n++){var i=Gz[n],a=r.getAttribute(i);a!=null&&(e[b6[i]]=a)}}function gae(r,t){var e=t.width/r.width,n=t.height/r.height,i=Math.min(e,n);return{scale:i,x:-(r.x+r.width/2)*i+(t.x+t.width/2),y:-(r.y+r.height/2)*i+(t.y+t.height/2)}}function B4e(r,t){var e=new v4e;return e.parse(r,t)}var T4e=Xt(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),E4e=function(){function r(t,e){this.type="geoSVG",this._usedGraphicMap=Xt(),this._freedGraphics=[],this._mapName=t,this._parsedXML=Aae(e)}return r.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=N4e(t.named),n=e.regions,i=e.regionsMap;this._regions=n,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},r.prototype._buildGraphic=function(t){var e,n;try{e=t&&B4e(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},n=e.root,js(n!=null)}catch(g){throw new Error(`Invalid svg format
`+g.message)}var i=new ir;i.add(n),i.isGeoSVGGraphicRoot=!0;var a=e.width,s=e.height,o=e.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,c=void 0,f=void 0,h=void 0;if(a!=null?(u=0,f=a):o&&(u=o.x,f=o.width),s!=null?(c=0,h=s):o&&(c=o.y,h=o.height),u==null||c==null){var d=n.getBoundingRect();u==null&&(u=d.x,f=d.width),c==null&&(c=d.y,h=d.height)}l=this._boundingRect=new fr(u,c,f,h)}if(o){var A=gae(o,l);n.scaleX=n.scaleY=A.scale,n.x=A.x,n.y=A.y}i.setClipPath(new zr({shape:l.plain()}));var p=[];return se(e.named,function(g){T4e.get(g.svgNodeTagLower)!=null&&(p.push(g),k4e(g.el))}),{root:i,boundingRect:l,named:p}},r.prototype.useGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,n),n)},r.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);n&&(e.removeKey(t),this._freedGraphics.push(n))},r}();function k4e(r){r.silent=!1,r.isGroup&&r.traverse(function(t){t.silent=!1})}function N4e(r){var t=[],e=Xt();return se(r,function(n){if(n.namedFrom==null){var i=new Rbe(n.name,n.el);t.push(i),e.set(n.name,i)}}),{regions:t,regionsMap:e}}var uI=[126,25],Zz="",fp=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var ip=0;ip<fp.length;ip++)for(var wm=0;wm<fp[ip].length;wm++)fp[ip][wm][0]/=10.5,fp[ip][wm][1]/=-10.5/.75,fp[ip][wm][0]+=uI[0],fp[ip][wm][1]+=uI[1];function F4e(r,t){if(r==="china"){for(var e=0;e<t.length;e++)if(t[e].name===Zz)return;t.push(new Zne(Zz,wt(fp,function(n){return{type:"polygon",exterior:n}}),uI))}}var I4e={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function M4e(r,t){if(r==="china"){var e=I4e[t.name];if(e){var n=t.getCenter();n[0]+=e[0]/10.5,n[1]+=-e[1]/(10.5/.75),t.setCenter(n)}}}var L4e=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function D4e(r,t){r==="china"&&t.name===""&&t.geometries.push({type:"polygon",exterior:L4e[0]})}var P4e="name",R4e=function(){function r(t,e,n){this.type="geoJSON",this._parsedMap=Xt(),this._mapName=t,this._specialAreas=n,this._geoJSON=j4e(e)}return r.prototype.load=function(t,e){e=e||P4e;var n=this._parsedMap.get(e);if(!n){var i=this._parseToRegions(e);n=this._parsedMap.set(e,{regions:i,boundingRect:O4e(i)})}var a=Xt(),s=[];return se(n.regions,function(o){var l=o.name;t&&Kt(t,l)&&(o=o.cloneShallow(l=t[l])),s.push(o),a.set(l,o)}),{regions:s,boundingRect:n.boundingRect||new fr(0,0,0,0),regionsMap:a}},r.prototype._parseToRegions=function(t){var e=this._mapName,n=this._geoJSON,i;try{i=n?WF(n,t):[]}catch(a){throw new Error(`Invalid geoJson format
`+a.message)}return F4e(e,i),se(i,function(a){var s=a.name;M4e(e,a),D4e(e,a);var o=this._specialAreas&&this._specialAreas[s];o&&a.transformTo(o.left,o.top,o.width,o.height)},this),i},r.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},r}();function O4e(r){for(var t,e=0;e<r.length;e++){var n=r[e].getBoundingRect();t=t||n.clone(),t.union(n)}return t}function j4e(r){return Ht(r)?typeof JSON<"u"&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}var yx=Xt();const Kh={registerMap:function(r,t,e){if(t.svg){var n=new E4e(r,t.svg);yx.set(r,n)}else{var i=t.geoJson||t.geoJSON;i&&!t.features?e=t.specialAreas:i=t;var n=new R4e(r,i,e);yx.set(r,n)}},getGeoResource:function(r){return yx.get(r)},getMapForUser:function(r){var t=yx.get(r);return t&&t.type==="geoJSON"&&t.getMapForUser()},load:function(r,t,e){var n=yx.get(r);if(n)return n.load(t,e)}};var sP=["rect","circle","line","ellipse","polygon","polyline","path"],U4e=Xt(sP),H4e=Xt(sP.concat(["g"])),Q4e=Xt(sP.concat(["g"])),mae=Kr();function e4(r){var t=r.getItemStyle(),e=r.get("areaColor");return e!=null&&(t.fill=e),t}function Jz(r){var t=r.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var vae=function(){function r(t){var e=this.group=new ir,n=this._transformGroup=new ir;e.add(n),this.uid=ay("ec_map_draw"),this._controller=new Gg(t.getZr()),this._controllerHost={target:n},n.add(this._regionsGroup=new ir),n.add(this._svgGroup=new ir)}return r.prototype.draw=function(t,e,n,i,a){var s=t.mainType==="geo",o=t.getData&&t.getData();s&&e.eachComponent({mainType:"series",subType:"map"},function(y){!o&&y.getHostGeoModel()===t&&(o=y.getData())});var l=t.coordinateSystem,u=this._regionsGroup,c=this._transformGroup,f=l.getTransformInfo(),h=f.raw,d=f.roam,A=!u.childAt(0)||a,p=t.getShallow("clip",!0),g;p?(g=l.getViewRect().clone(),this.group.setClipPath(new zr({shape:g.clone()}))):this.group.removeClipPath(),A?(c.x=d.x,c.y=d.y,c.scaleX=d.scaleX,c.scaleY=d.scaleY,c.dirty()):ln(c,d,t);var m=o&&o.getVisual("visualMeta")&&o.getVisual("visualMeta").length>0,v={api:n,geo:l,mapOrGeoModel:t,data:o,isVisualEncodedByVisualMap:m,isGeo:s,transformInfoRaw:h};l.resourceType==="geoJSON"?this._buildGeoJSON(v):l.resourceType==="geoSVG"&&this._buildSVG(v),this._updateController(t,g,e,n),this._updateMapSelectHandler(t,u,n,i)},r.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=Xt(),n=Xt(),i=this._regionsGroup,a=t.transformInfoRaw,s=t.mapOrGeoModel,o=t.data,l=t.geo.projection,u=l&&l.stream;function c(d,A){return A&&(d=A(d)),d&&[d[0]*a.scaleX+a.x,d[1]*a.scaleY+a.y]}function f(d){for(var A=[],p=!u&&l&&l.project,g=0;g<d.length;++g){var m=c(d[g],p);m&&A.push(m)}return A}function h(d){return{shape:{points:f(d)}}}i.removeAll(),se(t.geo.regions,function(d){var A=d.name,p=e.get(A),g=n.get(A)||{},m=g.dataIdx,v=g.regionModel;if(!p){p=e.set(A,new ir),i.add(p),m=o?o.indexOfName(A):null,v=t.isGeo?s.getRegionModel(A):o?o.getItemModel(m):null;var y=v.get("silent",!0);y!=null&&(p.silent=y),n.set(A,{dataIdx:m,regionModel:v})}var b=[],_=[];se(d.geometries,function(N){if(N.type==="polygon"){var F=[N.exterior].concat(N.interiors||[]);u&&(F=aV(F,u)),se(F,function(D){b.push(new Hs(h(D)))})}else{var P=N.points;u&&(P=aV(P,u,!0)),se(P,function(D){_.push(new gs(h(D)))})}});var T=c(d.getCenter(),l&&l.project);function I(N,F){if(N.length){var P=new Vw({culling:!0,segmentIgnoreThreshold:1,shape:{paths:N}});p.add(P),eV(t,P,m,v),tV(t,P,A,v,s,m,T),F&&(Jz(P),se(P.states,Jz))}}I(b),I(_,!0)}),e.each(function(d,A){var p=n.get(A),g=p.dataIdx,m=p.regionModel;rV(t,d,A,m,s,g),nV(t,d,A,m,s),iV(t,d,A,m,s)},this)},r.prototype._buildSVG=function(t){var e=t.geo.map,n=t.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var i=this._svgDispatcherMap=Xt(),a=!1;se(this._svgGraphicRecord.named,function(s){var o=s.name,l=t.mapOrGeoModel,u=t.data,c=s.svgNodeTagLower,f=s.el,h=u?u.indexOfName(o):null,d=l.getRegionModel(o);U4e.get(c)!=null&&f instanceof Nu&&eV(t,f,h,d),f instanceof Nu&&(f.culling=!0);var A=d.get("silent",!0);if(A!=null&&(f.silent=A),f.z2EmphasisLift=0,!s.namedFrom&&(Q4e.get(c)!=null&&tV(t,f,o,d,l,h,null),rV(t,f,o,d,l,h),nV(t,f,o,d,l),H4e.get(c)!=null)){var p=iV(t,f,o,d,l);p==="self"&&(a=!0);var g=i.get(o)||i.set(o,[]);g.push(f)}},this),this._enableBlurEntireSVG(a,t)},r.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var n=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=n.opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){wg(a);var s=a.ensureState("blur").style||{};s.opacity==null&&i!=null&&(s.opacity=i),a.ensureState("emphasis")}})}},r.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},r.prototype.findHighDownDispatchers=function(t,e){if(t==null)return[];var n=e.coordinateSystem;if(n.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var a=i.get(t);return a?[a]:[]}}else if(n.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},r.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},r.prototype._useSVG=function(t){var e=Kh.getGeoResource(t);if(e&&e.type==="geoSVG"){var n=e.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=t}},r.prototype._freeSVG=function(){var t=this._svgMapName;if(t!=null){var e=Kh.getGeoResource(t);e&&e.type==="geoSVG"&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},r.prototype._updateController=function(t,e,n,i){var a=t.coordinateSystem,s=this._controller,o=this._controllerHost;o.zoomLimit=t.get("scaleLimit"),o.zoom=a.getZoom(),s.enable(t.get("roam")||!1,{api:i,zInfo:{component:t},triggerInfo:{roamTrigger:t.get("roamTrigger"),isInSelf:function(c,f,h){return a.containPoint([f,h])},isInClip:function(c,f,h){return!e||e.contain(f,h)}}});var l=t.mainType;function u(){var c={type:"geoRoam",componentType:l};return c[l+"Id"]=t.id,c}s.off("pan").on("pan",function(c){this._mouseDownFlag=!1,nP(o,c.dx,c.dy),i.dispatchAction(pt(u(),{dx:c.dx,dy:c.dy,animation:{duration:0}}))},this),s.off("zoom").on("zoom",function(c){this._mouseDownFlag=!1,iP(o,c.scale,c.originX,c.originY),i.dispatchAction(pt(u(),{totalZoom:o.zoom,zoom:c.scale,originX:c.originX,originY:c.originY,animation:{duration:0}}))},this)},r.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=mae(e).ignore)})},r.prototype._updateMapSelectHandler=function(t,e,n,i){var a=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){a._mouseDownFlag=!0}),e.on("click",function(s){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},r}();function eV(r,t,e,n){var i=n.getModel("itemStyle"),a=n.getModel(["emphasis","itemStyle"]),s=n.getModel(["blur","itemStyle"]),o=n.getModel(["select","itemStyle"]),l=e4(i),u=e4(a),c=e4(o),f=e4(s),h=r.data;if(h){var d=h.getItemVisual(e,"style"),A=h.getItemVisual(e,"decal");r.isVisualEncodedByVisualMap&&d.fill&&(l.fill=d.fill),A&&(l.decal=I1(A,r.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=c,t.ensureState("blur").style=f,wg(t)}function tV(r,t,e,n,i,a,s){var o=r.data,l=r.isGeo,u=o&&isNaN(o.get(o.mapDimension("value"),a)),c=o&&o.getItemLayout(a);if(l||u||c&&c.showLabel){var f=l?e:a,h=void 0;(!o||a>=0)&&(h=i);var d=s?{normal:{align:"center",verticalAlign:"middle"}}:null;Ja(t,Ma(n),{labelFetcher:h,labelDataIndex:f,defaultText:e},d);var A=t.getTextContent();if(A&&(mae(A).ignore=A.ignore,t.textConfig&&s)){var p=t.getBoundingRect().clone();t.textConfig.layoutRect=p,t.textConfig.position=[(s[0]-p.x)/p.width*100+"%",(s[1]-p.y)/p.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function rV(r,t,e,n,i,a){r.data?r.data.setItemGraphicEl(a,t):pr(t).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:e,region:n&&n.option||{}}}function nV(r,t,e,n,i){r.data||nd({el:t,componentModel:i,itemName:e,itemTooltipOption:n.get("tooltip")})}function iV(r,t,e,n,i){t.highDownSilentOnTouch=!!i.get("selectedMode");var a=n.getModel("emphasis"),s=a.get("focus");return di(t,s,a.get("blurScope"),a.get("disabled")),r.isGeo&&Lve(t,i,e),s}function aV(r,t,e){var n=[],i;function a(){i=[]}function s(){i.length&&(n.push(i),i=[])}var o=t({polygonStart:a,polygonEnd:s,lineStart:a,lineEnd:s,point:function(l,u){isFinite(l)&&isFinite(u)&&i.push([l,u])},sphere:function(){}});return!e&&o.polygonStart(),se(r,function(l){o.lineStart();for(var u=0;u<l.length;u++)o.point(l[u][0],l[u][1]);o.lineEnd()}),!e&&o.polygonEnd(),n}var z4e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){if(!(a&&a.type==="mapToggleSelect"&&a.from===this.uid)){var s=this.group;if(s.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&a&&a.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),a&&a.type==="geoRoam"&&a.componentType==="series"&&a.seriesId===e.id){var o=this._mapDraw;o&&s.add(o.group)}else if(e.needsDrawMap){var o=this._mapDraw||new vae(i);s.add(o.group),o.draw(e,n,i,this,a),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&n.getComponent("legend")&&this._renderSymbols(e,n,i)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,n,i){var a=e.originalData,s=this.group;a.each(a.mapDimension("value"),function(o,l){if(!isNaN(o)){var u=a.getItemLayout(l);if(!(!u||!u.point)){var c=u.point,f=u.offset,h=new Lf({style:{fill:e.getData().getVisual("style").fill},shape:{cx:c[0]+f*9,cy:c[1],r:3},silent:!0,z2:8+(f?0:J1+1)});if(!f){var d=e.mainSeries.getData(),A=a.getName(l),p=d.indexOfName(A),g=a.getItemModel(l),m=g.getModel("label"),v=d.getItemGraphicEl(p);Ja(h,Ma(g),{labelFetcher:{getFormattedLabel:function(y,b){return e.getFormattedLabel(p,b)}},defaultText:A}),h.disableLabelAnimation=!0,m.get("position")||h.setTextConfig({position:"bottom"}),v.onHoverStateChange=function(y){KS(h,y)}}s.add(h)}}})},t.type="map",t}(Nn),V4e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(n){if(n!=null){var i=this.getData().getName(n),a=this.coordinateSystem,s=a.getRegion(i);return s&&a.dataToPoint(s.getCenter())}},e}return t.prototype.getInitialData=function(e){for(var n=py(this,{coordDimensions:["value"],encodeDefaulter:Nr(g9,this)}),i=Xt(),a=[],s=0,o=n.count();s<o;s++){var l=n.getName(s);i.set(l,s)}var u=Kh.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return se(u.regions,function(c){var f=c.name,h=i.get(f),d=c.properties&&c.properties.echartsStyle,A;h==null?(A={name:f},a.push(A)):A=n.getRawDataItem(h),d&&Dr(A,d)}),n.appendData(a),n},t.prototype.getHostGeoModel=function(){if(lre(this).kind!==sf.boxCoordSys)return this.getReferringComponents("geo",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0]},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var n=this.getData();return n.get(n.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var n=this.getData();return n.getItemModel(n.indexOfName(e))},t.prototype.formatTooltip=function(e,n,i){for(var a=this.getData(),s=this.getRawValue(e),o=a.getName(e),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var f=l[c].originalData.indexOfName(o),h=a.mapDimension("value");isNaN(l[c].originalData.get(h,f))||u.push(l[c].name)}return ya("section",{header:u.join(", "),noHeader:!u.length,blocks:[ya("nameValue",{name:o,value:s})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var n=e.icon||"roundRect",i=ia(n,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return i.setStyle(e.itemStyle),i.style.stroke="none",n.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill=Je.color.neutral00,i.style.lineWidth=2),i},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:Je.color.tertiary},itemStyle:{borderWidth:.5,borderColor:Je.color.border,areaColor:Je.color.background},emphasis:{label:{show:!0,color:Je.color.primary},itemStyle:{areaColor:Je.color.highlight}},select:{label:{show:!0,color:Je.color.primary},itemStyle:{color:Je.color.highlight}},nameProperty:"name"},t}(Ln);function G4e(r,t){var e={};return se(r,function(n){n.each(n.mapDimension("value"),function(i,a){var s="ec-"+n.getName(a);e[s]=e[s]||[],isNaN(i)||e[s].push(i)})}),r[0].map(r[0].mapDimension("value"),function(n,i){for(var a="ec-"+r[0].getName(i),s=0,o=1/0,l=-1/0,u=e[a].length,c=0;c<u;c++)o=Math.min(o,e[a][c]),l=Math.max(l,e[a][c]),s+=e[a][c];var f;return t==="min"?f=o:t==="max"?f=l:t==="average"?f=s/u:f=s,u===0?NaN:f})}function W4e(r){var t={};r.eachSeriesByType("map",function(e){var n=e.getHostGeoModel(),i=n?"o"+n.id:"i"+e.getMapType();(t[i]=t[i]||[]).push(e)}),se(t,function(e,n){for(var i=G4e(wt(e,function(s){return s.getData()}),e[0].get("mapValueCalculation")),a=0;a<e.length;a++)e[a].originalData=e[a].getData();for(var a=0;a<e.length;a++)e[a].seriesGroup=e,e[a].needsDrawMap=a===0&&!e[a].getHostGeoModel(),e[a].setData(i.cloneShallow()),e[a].mainSeries=e[0]})}function $4e(r){var t={};r.eachSeriesByType("map",function(e){var n=e.getMapType();if(!(e.getHostGeoModel()||t[n])){var i={};se(e.seriesGroup,function(s){var o=s.coordinateSystem,l=s.originalData;s.get("showLegendSymbol")&&r.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,c){var f=l.getName(c),h=o.getRegion(f);if(!(!h||isNaN(u))){var d=i[f]||0,A=o.dataToPoint(h.getCenter());i[f]=d+1,l.setItemLayout(c,{point:A,offset:d})}})});var a=e.getData();a.each(function(s){var o=a.getName(s),l=a.getItemLayout(s)||{};l.showLabel=!i[o],a.setItemLayout(s,l)}),t[n]=!0}})}var sV=Oi,Wg=function(r){Ge(t,r);function t(e,n){var i=r.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new _h,i._rawTransformable=new _h,i.name=e,i._opt=n,i}return t.prototype.setBoundingRect=function(e,n,i,a){return this._rect=new fr(e,n,i,a),this._updateCenterAndZoom(),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,n,i,a){this._transformTo(e,n,i,a),this._viewRect=new fr(e,n,i,a)},t.prototype._transformTo=function(e,n,i,a){var s=this.getBoundingRect(),o=this._rawTransformable;o.transform=s.calculateTransform(new fr(e,n,i,a));var l=o.parent;o.parent=null,o.decomposeTransform(),o.parent=l,this._updateTransform()},t.prototype.setCenter=function(e){var n=this._opt;n&&n.api&&n.ecModel&&n.ecModel.getShallow("legacyViewCoordSysCenterBase")&&e&&(e=[Ut(e[0],n.api.getWidth()),Ut(e[1],n.api.getWidth())]),this._centerOption=nr(e),this._updateCenterAndZoom()},t.prototype.setZoom=function(e){this._zoom=aP(e||1,this.zoomLimit),this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect(),n=e.x+e.width/2,i=e.y+e.height/2;return[n,i]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._centerOption,n=this._rect;e&&n&&(this._center=[Ut(e[0],n.width,n.x),Ut(e[1],n.height,n.y)]);var i=this._rawTransformable.getLocalTransform(),a=this._roamTransformable,s=this.getDefaultCenter(),o=this.getCenter(),l=this.getZoom();o=Oi([],o,i),s=Oi([],s,i),a.originX=o[0],a.originY=o[1],a.x=s[0]-o[0],a.y=s[1]-o[1],a.scaleX=a.scaleY=l,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,n=this._rawTransformable;n.parent=e,e.updateTransform(),n.updateTransform(),jw(this.transform||(this.transform=[]),n.transform||Ya()),this._rawTransform=n.getLocalTransform(),this.invTransform=this.invTransform||[],ku(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,n=this._roamTransformable,i=new _h;return i.transform=n.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,n,i){var a=n?this._rawTransform:this.transform;return i=i||[],a?sV(i,e,a):to(i,e)},t.prototype.pointToData=function(e,n,i){i=i||[];var a=this.invTransform;return a?sV(i,e,a):(i[0]=e[0],i[1]=e[1],i)},t.prototype.convertToPixel=function(e,n,i){var a=oV(n);return a===this?a.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,n,i){var a=oV(n);return a===this?a.pointToData(i):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(_h);function oV(r){var t=r.seriesModel;return t?t.coordinateSystem:null}var K4e={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},yae=["lng","lat"],cI=function(r){Ge(t,r);function t(e,n,i){var a=r.call(this,e,{api:i.api,ecModel:i.ecModel})||this;a.dimensions=yae,a.type="geo",a._nameCoordMap=Xt(),a.map=n;var s=i.projection,o=Kh.load(n,i.nameMap,i.nameProperty),l=Kh.getGeoResource(n);a.resourceType=l?l.type:null;var u=a.regions=o.regions,c=K4e[l.type];a._regionsMap=o.regionsMap,a.regions=o.regions,a.projection=s;var f;if(s)for(var h=0;h<u.length;h++){var d=u[h].getBoundingRect(s);f=f||d.clone(),f.union(d)}else f=o.boundingRect;return a.setBoundingRect(f.x,f.y,f.width,f.height),a.aspectScale=s?1:Zt(i.aspectScale,c.aspectScale),a._invertLongitute=s?!1:c.invertLongitute,a}return t.prototype._transformTo=function(e,n,i,a){var s=this.getBoundingRect(),o=this._invertLongitute;s=s.clone(),o&&(s.y=-s.y-s.height);var l=this._rawTransformable;l.transform=s.calculateTransform(new fr(e,n,i,a));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,o&&(l.scaleY=-l.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var n=this.regions,i=0;i<n.length;i++){var a=n[i];if(a.type==="geoJSON"&&a.contain(e))return n[i]}},t.prototype.addGeoCoord=function(e,n){this._nameCoordMap.set(e,n)},t.prototype.getGeoCoord=function(e){var n=this._regionsMap.get(e);return this._nameCoordMap.get(e)||n&&n.getCenter()},t.prototype.dataToPoint=function(e,n,i){if(Ht(e)&&(e=this.getGeoCoord(e)),e){var a=this.projection;return a&&(e=a.project(e)),e&&this.projectedToPoint(e,n,i)}},t.prototype.pointToData=function(e,n,i){var a=this.projection;return a&&(e=a.unproject(e)),e&&this.pointToProjected(e,i)},t.prototype.pointToProjected=function(e,n){return r.prototype.pointToData.call(this,e,0,n)},t.prototype.projectedToPoint=function(e,n,i){return r.prototype.dataToPoint.call(this,e,n,i)},t.prototype.convertToPixel=function(e,n,i){var a=lV(n);return a===this?a.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,n,i){var a=lV(n);return a===this?a.pointToData(i):null},t}(Wg);Ui(cI,Wg);function lV(r){var t=r.geoModel,e=r.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",Ni).models[0]||{}).coordinateSystem:null}function uV(r,t){var e=r.get("boundingCoords");if(e!=null){var n=e[0],i=e[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])){var a=this.projection;if(a){var s=n[0],o=n[1],l=i[0],u=i[1];n=[1/0,1/0],i=[-1/0,-1/0];var c=function(_,T,I,N){for(var F=I-_,P=N-T,D=0;D<=100;D++){var R=D/100,E=a.project([_+F*R,T+P*R]);bh(n,n,E),wh(i,i,E)}};c(s,o,l,o),c(l,o,l,u),c(l,u,s,u),c(s,u,l,o)}this.setBoundingRect(n[0],n[1],i[0]-n[0],i[1]-n[1])}}var f=this.getBoundingRect(),h=r.get("layoutCenter"),d=r.get("layoutSize"),A=La(r,t).refContainer,p=f.width/f.height*this.aspectScale,g=!1,m,v;h&&d&&(m=[Ut(h[0],A.width)+A.x,Ut(h[1],A.height)+A.y],v=Ut(d,Math.min(A.width,A.height)),!isNaN(m[0])&&!isNaN(m[1])&&!isNaN(v)&&(g=!0));var y;if(g)y={},p>1?(y.width=v,y.height=v/p):(y.height=v,y.width=v*p),y.y=m[1]-y.height/2,y.x=m[0]-y.width/2;else{var b=r.getBoxLayoutParams();b.aspect=p,y=li(b,A),y=dre(r,y,p)}this.setViewRect(y.x,y.y,y.width,y.height),this.setCenter(r.get("center")),this.setZoom(r.get("zoom"))}function q4e(r,t){se(t.get("geoCoord"),function(e,n){r.addGeoCoord(n,e)})}var X4e=function(){function r(){this.dimensions=yae}return r.prototype.create=function(t,e){var n=[];function i(s){return{nameProperty:s.get("nameProperty"),aspectScale:s.get("aspectScale"),projection:s.get("projection")}}t.eachComponent("geo",function(s,o){var l=s.get("map"),u=new cI(l+o,l,pt({nameMap:s.get("nameMap"),api:e,ecModel:t},i(s)));u.zoomLimit=s.get("scaleLimit"),n.push(u),s.coordinateSystem=u,u.model=s,u.resize=uV,u.resize(s,e)}),t.eachSeries(function(s){$w({targetModel:s,coordSysType:"geo",coordSysProvider:function(){var o=s.subType==="map"?s.getHostGeoModel():s.getReferringComponents("geo",Ni).models[0];return o&&o.coordinateSystem},allowNotFound:!0})});var a={};return t.eachSeriesByType("map",function(s){if(!s.getHostGeoModel()){var o=s.getMapType();a[o]=a[o]||[],a[o].push(s)}}),se(a,function(s,o){var l=wt(s,function(c){return c.get("nameMap")}),u=new cI(o,o,pt({nameMap:zC(l),api:e,ecModel:t},i(s[0])));u.zoomLimit=hs.apply(null,wt(s,function(c){return c.get("scaleLimit")})),n.push(u),u.resize=uV,u.resize(s[0],e),se(s,function(c){c.coordinateSystem=u,q4e(u,c)})}),n},r.prototype.getFilledRegions=function(t,e,n,i){for(var a=(t||[]).slice(),s=Xt(),o=0;o<a.length;o++)s.set(a[o].name,a[o]);var l=Kh.load(e,n,i);return se(l.regions,function(u){var c=u.name,f=s.get(c),h=u.properties&&u.properties.echartsStyle;f||(f={name:c},a.push(f)),h&&Dr(f,h)}),a},r}(),xae=new X4e,Y4e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i);var a=Kh.getGeoResource(e.map);if(a&&a.type==="geoJSON"){var s=e.itemStyle=e.itemStyle||{};"color"in s||(s.color=e.defaultItemStyleColor||Je.color.backgroundTint)}yg(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,n=this.option;n.regions=xae.getFilledRegions(n.regions,n.map,n.nameMap,n.nameProperty);var i={};this._optionModelMap=Eu(n.regions||[],function(a,s){var o=s.name;return o&&(a.set(o,new qr(s,e,e.ecModel)),s.selected&&(i[o]=!0)),a},Xt()),n.selectedMap||(n.selectedMap=i)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new qr(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,n){var i=this.getRegionModel(e),a=n==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),s={name:e};if(rr(a))return s.status=n,a(s);if(Ht(a))return a.replace("{a}",e??"")},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var n=this.option,i=n.selectedMode;if(i){i!=="multiple"&&(n.selectedMap=null);var a=n.selectedMap||(n.selectedMap={});a[e]=!0}},t.prototype.unSelect=function(e){var n=this.option.selectedMap;n&&(n[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var n=this.option.selectedMap;return!!(n&&n[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:Je.color.tertiary},itemStyle:{borderWidth:.5,borderColor:Je.color.border},emphasis:{label:{show:!0,color:Je.color.primary},itemStyle:{color:Je.color.highlight}},select:{label:{show:!0,color:Je.color.primary},itemStyle:{color:Je.color.highlight}},regions:[]},t}($r),Z4e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.focusBlurEnabled=!0,e}return t.prototype.init=function(e,n){this._api=n},t.prototype.render=function(e,n,i,a){if(this._model=e,!e.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new vae(i));var s=this._mapDraw;s.draw(e,n,i,this,a),s.group.on("click",this._handleRegionClick,this),s.group.silent=e.get("silent"),this.group.add(s.group),this.updateSelectStatus(e,n,i)},t.prototype._handleRegionClick=function(e){var n;Lp(e.target,function(i){return(n=pr(i).eventData)!=null},!0),n&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:n.name})},t.prototype.updateSelectStatus=function(e,n,i){var a=this;this._mapDraw.group.traverse(function(s){var o=pr(s).eventData;if(o)return a._model.isSelected(o.name)?i.enterSelect(s):i.leaveSelect(s),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(Hn);function J4e(r,t,e){Kh.registerMap(r,t,e)}function bae(r){r.registerCoordinateSystem("geo",xae),r.registerComponentModel(Y4e),r.registerComponentView(Z4e),r.registerImpl("registerMap",J4e),r.registerImpl("getMap",function(e){return Kh.getMapForUser(e)});function t(e,n){n.update="geo:updateSelectStatus",r.registerAction(n,function(i,a){var s={},o=[];return a.eachComponent({mainType:"geo",query:i},function(l){l[e](i.name);var u=l.coordinateSystem;se(u.regions,function(f){s[f.name]=l.isSelected(f.name)||!1});var c=[];se(s,function(f,h){s[h]&&c.push(h)}),o.push({geoIndex:l.componentIndex,name:c})}),{selected:s,allSelected:o,name:i.name}})}t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),r.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,n,i){var a=e.componentType;a||(e.geoId!=null?a="geo":e.seriesId!=null&&(a="series")),a||(a="series"),n.eachComponent({mainType:a,query:e},function(s){var o=s.coordinateSystem;if(o.type==="geo"){var l=y8(o,e,s.get("scaleLimit"));s.setCenter&&s.setCenter(l.center),s.setZoom&&s.setZoom(l.zoom),a==="series"&&se(s.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function e3e(r){Or(bae),r.registerChartView(z4e),r.registerSeriesModel(V4e),r.registerLayout($4e),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,W4e),nne("map",r.registerAction)}function t3e(r){var t=r;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e=[t],n,i;n=e.pop();)if(i=n.children,n.isExpand&&i.length)for(var a=i.length,s=a-1;s>=0;s--){var o=i[s];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:s,thread:null},e.push(o)}}function r3e(r,t){var e=r.isExpand?r.children:[],n=r.parentNode.children,i=r.hierNode.i?n[r.hierNode.i-1]:null;if(e.length){i3e(r);var a=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;i?(r.hierNode.prelim=i.hierNode.prelim+t(r,i),r.hierNode.modifier=r.hierNode.prelim-a):r.hierNode.prelim=a}else i&&(r.hierNode.prelim=i.hierNode.prelim+t(r,i));r.parentNode.hierNode.defaultAncestor=a3e(r,i,r.parentNode.hierNode.defaultAncestor||n[0],t)}function n3e(r){var t=r.hierNode.prelim+r.parentNode.hierNode.modifier;r.setLayout({x:t},!0),r.hierNode.modifier+=r.parentNode.hierNode.modifier}function cV(r){return arguments.length?r:l3e}function Jx(r,t){return r-=Math.PI/2,{x:t*Math.cos(r),y:t*Math.sin(r)}}function i3e(r){for(var t=r.children,e=t.length,n=0,i=0;--e>=0;){var a=t[e];a.hierNode.prelim+=n,a.hierNode.modifier+=n,i+=a.hierNode.change,n+=a.hierNode.shift+i}}function a3e(r,t,e,n){if(t){for(var i=r,a=r,s=a.parentNode.children[0],o=t,l=i.hierNode.modifier,u=a.hierNode.modifier,c=s.hierNode.modifier,f=o.hierNode.modifier;o=xE(o),a=bE(a),o&&a;){i=xE(i),s=bE(s),i.hierNode.ancestor=r;var h=o.hierNode.prelim+f-a.hierNode.prelim-u+n(o,a);h>0&&(o3e(s3e(o,r,e),r,h),u+=h,l+=h),f+=o.hierNode.modifier,u+=a.hierNode.modifier,l+=i.hierNode.modifier,c+=s.hierNode.modifier}o&&!xE(i)&&(i.hierNode.thread=o,i.hierNode.modifier+=f-l),a&&!bE(s)&&(s.hierNode.thread=a,s.hierNode.modifier+=u-c,e=r)}return e}function xE(r){var t=r.children;return t.length&&r.isExpand?t[t.length-1]:r.hierNode.thread}function bE(r){var t=r.children;return t.length&&r.isExpand?t[0]:r.hierNode.thread}function s3e(r,t,e){return r.hierNode.ancestor.parentNode===t.parentNode?r.hierNode.ancestor:e}function o3e(r,t,e){var n=e/(t.hierNode.i-r.hierNode.i);t.hierNode.change-=n,t.hierNode.shift+=e,t.hierNode.modifier+=e,t.hierNode.prelim+=e,r.hierNode.change+=n}function l3e(r,t){return r.parentNode===t.parentNode?1:2}var u3e=function(){function r(){this.parentPoint=[],this.childPoints=[]}return r}(),c3e=function(r){Ge(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:Je.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new u3e},t.prototype.buildPath=function(e,n){var i=n.childPoints,a=i.length,s=n.parentPoint,o=i[0],l=i[a-1];if(a===1){e.moveTo(s[0],s[1]),e.lineTo(o[0],o[1]);return}var u=n.orient,c=u==="TB"||u==="BT"?0:1,f=1-c,h=Ut(n.forkPosition,1),d=[];d[c]=s[c],d[f]=s[f]+(l[f]-s[f])*h,e.moveTo(s[0],s[1]),e.lineTo(d[0],d[1]),e.moveTo(o[0],o[1]),d[c]=o[c],e.lineTo(d[0],d[1]),d[c]=l[c],e.lineTo(d[0],d[1]),e.lineTo(l[0],l[1]);for(var A=1;A<a-1;A++){var p=i[A];e.moveTo(p[0],p[1]),d[c]=p[c],e.lineTo(d[0],d[1])}},t}(Xr),f3e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new ir,e}return t.prototype.init=function(e,n){this._controller=new Gg(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,n,i){var a=e.getData(),s=e.layoutInfo,o=this._mainGroup,l=e.get("layout");l==="radial"?(o.x=s.x+s.width/2,o.y=s.y+s.height/2):(o.x=s.x,o.y=s.y),this._updateViewCoordSys(e,i),this._updateController(e,null,n,i);var u=this._data;a.diff(u).add(function(c){fV(a,c)&&hV(a,c,null,o,e)}).update(function(c,f){var h=u.getItemGraphicEl(f);if(!fV(a,c)){h&&AV(u,f,h,o,e);return}hV(a,c,h,o,e)}).remove(function(c){var f=u.getItemGraphicEl(c);f&&AV(u,c,f,o,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),e.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(c,f){c.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:f})})}),this._data=a},t.prototype._updateViewCoordSys=function(e,n){var i=e.getData(),a=[];i.each(function(f){var h=i.getItemLayout(f);h&&!isNaN(h.x)&&!isNaN(h.y)&&a.push([+h.x,+h.y])});var s=[],o=[];e8(a,s,o);var l=this._min,u=this._max;o[0]-s[0]===0&&(s[0]=l?l[0]:s[0]-1,o[0]=u?u[0]:o[0]+1),o[1]-s[1]===0&&(s[1]=l?l[1]:s[1]-1,o[1]=u?u[1]:o[1]+1);var c=e.coordinateSystem=new Wg(null,{api:n,ecModel:e.ecModel});c.zoomLimit=e.get("scaleLimit"),c.setBoundingRect(s[0],s[1],o[0]-s[0],o[1]-s[1]),c.setCenter(e.get("center")),c.setZoom(e.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=s,this._max=o},t.prototype._updateController=function(e,n,i,a){var s=this;hae(e,a,this.group,this._controller,this._controllerHost,n),this._controller.on("zoom",function(o){s._updateNodeAndLinkScale(e)})},t.prototype._updateNodeAndLinkScale=function(e){var n=e.getData(),i=this._getNodeGlobalScale(e);n.eachItemGraphicEl(function(a,s){a.setSymbolScale(i)})},t.prototype._getNodeGlobalScale=function(e){var n=e.coordinateSystem;if(n.type!=="view")return 1;var i=this._nodeScaleRatio,a=n.scaleX||1,s=n.getZoom(),o=(s-1)*i+1;return o/a},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(Nn);function fV(r,t){var e=r.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)}function hV(r,t,e,n,i){var a=!e,s=r.tree.getNodeByDataIndex(t),o=s.getModel(),l=s.getVisual("style").fill,u=s.isExpand===!1&&s.children.length!==0?l:Je.color.neutral00,c=r.tree.root,f=s.parentNode===c?s:s.parentNode||s,h=r.getItemGraphicEl(f.dataIndex),d=f.getLayout(),A=h?{x:h.__oldX,y:h.__oldY,rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:d,p=s.getLayout();a?(e=new Xw(r,t,null,{symbolInnerColor:u,useNameLabel:!0}),e.x=A.x,e.y=A.y):e.updateData(r,t,null,{symbolInnerColor:u,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=p.rawX,e.__radialRawY=p.rawY,n.add(e),r.setItemGraphicEl(t,e),e.__oldX=e.x,e.__oldY=e.y,ln(e,{x:p.x,y:p.y},i);var g=e.getSymbolPath();if(i.get("layout")==="radial"){var m=c.children[0],v=m.getLayout(),y=m.children.length,b=void 0,_=void 0;if(p.x===v.x&&s.isExpand===!0&&m.children.length){var T={x:(m.children[0].getLayout().x+m.children[y-1].getLayout().x)/2,y:(m.children[0].getLayout().y+m.children[y-1].getLayout().y)/2};b=Math.atan2(T.y-v.y,T.x-v.x),b<0&&(b=Math.PI*2+b),_=T.x<v.x,_&&(b=b-Math.PI)}else b=Math.atan2(p.y-v.y,p.x-v.x),b<0&&(b=Math.PI*2+b),s.children.length===0||s.children.length!==0&&s.isExpand===!1?(_=p.x<v.x,_&&(b=b-Math.PI)):(_=p.x>v.x,_||(b=b-Math.PI));var I=_?"left":"right",N=o.getModel("label"),F=N.get("rotate"),P=F*(Math.PI/180),D=g.getTextContent();D&&(g.setTextConfig({position:N.get("position")||I,rotation:F==null?-b:P,origin:"center"}),D.setStyle("verticalAlign","middle"))}var R=o.get(["emphasis","focus"]),E=R==="relative"?S1(s.getAncestorsIndices(),s.getDescendantIndices()):R==="ancestor"?s.getAncestorsIndices():R==="descendant"?s.getDescendantIndices():null;E&&(pr(e).focus=E),h3e(i,s,c,e,A,d,p,n),e.__edge&&(e.onHoverStateChange=function(L){if(L!=="blur"){var k=s.parentNode&&r.getItemGraphicEl(s.parentNode.dataIndex);k&&k.hoverState===Hw||KS(e.__edge,L)}})}function h3e(r,t,e,n,i,a,s,o){var l=t.getModel(),u=r.get("edgeShape"),c=r.get("layout"),f=r.getOrient(),h=r.get(["lineStyle","curveness"]),d=r.get("edgeForkPosition"),A=l.getModel("lineStyle").getLineStyle(),p=n.__edge;if(u==="curve")t.parentNode&&t.parentNode!==e&&(p||(p=n.__edge=new ty({shape:fI(c,f,h,i,i)})),ln(p,{shape:fI(c,f,h,a,s)},r));else if(u==="polyline"&&c==="orthogonal"&&t!==e&&t.children&&t.children.length!==0&&t.isExpand===!0){for(var g=t.children,m=[],v=0;v<g.length;v++){var y=g[v].getLayout();m.push([y.x,y.y])}p||(p=n.__edge=new c3e({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:f,forkPosition:d}})),ln(p,{shape:{parentPoint:[s.x,s.y],childPoints:m}},r)}p&&!(u==="polyline"&&!t.isExpand)&&(p.useStyle(sr({strokeNoScale:!0,fill:null},A)),Ia(p,l,"lineStyle"),wg(p),o.add(p))}function dV(r,t,e,n,i){var a=t.tree.root,s=wae(a,r),o=s.source,l=s.sourceLayout,u=t.getItemGraphicEl(r.dataIndex);if(u){var c=t.getItemGraphicEl(o.dataIndex),f=c.__edge,h=u.__edge||(o.isExpand===!1||o.children.length===1?f:void 0),d=n.get("edgeShape"),A=n.get("layout"),p=n.get("orient"),g=n.get(["lineStyle","curveness"]);h&&(d==="curve"?XA(h,{shape:fI(A,p,g,l,l),style:{opacity:0}},n,{cb:function(){e.remove(h)},removeOpt:i}):d==="polyline"&&n.get("layout")==="orthogonal"&&XA(h,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},n,{cb:function(){e.remove(h)},removeOpt:i}))}}function wae(r,t){for(var e=t.parentNode===r?t:t.parentNode||t,n;n=e.getLayout(),n==null;)e=e.parentNode===r?e:e.parentNode||e;return{source:e,sourceLayout:n}}function AV(r,t,e,n,i){var a=r.tree.getNodeByDataIndex(t),s=r.tree.root,o=wae(s,a).sourceLayout,l={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};XA(e,{x:o.x+1,y:o.y+1},i,{cb:function(){n.remove(e),r.setItemGraphicEl(t,null)},removeOpt:l}),e.fadeOut(null,r.hostModel,{fadeLabel:!0,animation:l}),a.children.forEach(function(u){dV(u,r,n,i,l)}),dV(a,r,n,i,l)}function fI(r,t,e,n,i){var a,s,o,l,u,c,f,h;if(r==="radial"){u=n.rawX,f=n.rawY,c=i.rawX,h=i.rawY;var d=Jx(u,f),A=Jx(u,f+(h-f)*e),p=Jx(c,h+(f-h)*e),g=Jx(c,h);return{x1:d.x||0,y1:d.y||0,x2:g.x||0,y2:g.y||0,cpx1:A.x||0,cpy1:A.y||0,cpx2:p.x||0,cpy2:p.y||0}}else u=n.x,f=n.y,c=i.x,h=i.y,(t==="LR"||t==="RL")&&(a=u+(c-u)*e,s=f,o=c+(u-c)*e,l=h),(t==="TB"||t==="BT")&&(a=u,s=f+(h-f)*e,o=c,l=h+(f-h)*e);return{x1:u,y1:f,x2:c,y2:h,cpx1:a,cpy1:s,cpx2:o,cpy2:l}}var Cu=Kr();function _ae(r){var t=r.mainData,e=r.datas;e||(e={main:t},r.datasAttr={main:"data"}),r.datas=r.mainData=null,Sae(t,e,r),se(e,function(n){se(t.TRANSFERABLE_METHODS,function(i){n.wrapMethod(i,Nr(d3e,r))})}),t.wrapMethod("cloneShallow",Nr(p3e,r)),se(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,Nr(A3e,r))}),js(e[t.dataType]===t)}function d3e(r,t){if(v3e(this)){var e=pt({},Cu(this).datas);e[this.dataType]=t,Sae(t,e,r)}else oP(t,this.dataType,Cu(this).mainData,r);return t}function A3e(r,t){return r.struct&&r.struct.update(),t}function p3e(r,t){return se(Cu(t).datas,function(e,n){e!==t&&oP(e.cloneShallow(),n,t,r)}),t}function g3e(r){var t=Cu(this).mainData;return r==null||t==null?t:Cu(t).datas[r]}function m3e(){var r=Cu(this).mainData;return r==null?[{data:r}]:wt(en(Cu(r).datas),function(t){return{type:t,data:Cu(r).datas[t]}})}function v3e(r){return Cu(r).mainData===r}function Sae(r,t,e){Cu(r).datas={},se(t,function(n,i){oP(n,i,r,e)})}function oP(r,t,e,n){Cu(e).datas[t]=r,Cu(r).mainData=e,r.dataType=t,n.struct&&(r[n.structAttr]=n.struct,n.struct[n.datasAttr[t]]=r),r.getLinkedData=g3e,r.getLinkedDataAll=m3e}var y3e=function(){function r(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return r.prototype.isRemoved=function(){return this.dataIndex<0},r.prototype.eachNode=function(t,e,n){rr(t)&&(n=e,e=t,t=null),t=t||{},Ht(t)&&(t={order:t});var i=t.order||"preorder",a=this[t.attr||"children"],s;i==="preorder"&&(s=e.call(n,this));for(var o=0;!s&&o<a.length;o++)a[o].eachNode(t,e,n);i==="postorder"&&e.call(n,this)},r.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},r.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,i=n.length;e<i;e++){var a=n[e].getNodeById(t);if(a)return a}},r.prototype.contains=function(t){if(t===this)return!0;for(var e=0,n=this.children,i=n.length;e<i;e++){var a=n[e].contains(t);if(a)return a}},r.prototype.getAncestors=function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},r.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},r.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},r.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},r.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},r.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostTree,n=e.data.getItemModel(this.dataIndex);return n.getModel(t)}},r.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},r.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},r.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},r.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},r.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},r.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},r.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},r.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},r}(),lP=function(){function r(t){this.type="tree",this._nodes=[],this.hostModel=t}return r.prototype.eachNode=function(t,e,n){this.root.eachNode(t,e,n)},r.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},r.prototype.getNodeById=function(t){return this.root.getNodeById(t)},r.prototype.update=function(){for(var t=this.data,e=this._nodes,n=0,i=e.length;n<i;n++)e[n].dataIndex=-1;for(var n=0,i=t.count();n<i;n++)e[t.getRawIndex(n)].dataIndex=n},r.prototype.clearLayouts=function(){this.data.clearItemLayouts()},r.createTree=function(t,e,n){var i=new r(e),a=[],s=1;o(t);function o(c,f){var h=c.value;s=Math.max(s,xt(h)?h.length:1),a.push(c);var d=new y3e(Na(c.name,""),i);f?x3e(d,f):i.root=d,i._nodes.push(d);var A=c.children;if(A)for(var p=0;p<A.length;p++)o(A[p],d)}i.root.updateDepthAndHeight(0);var l=fy(a,{coordDimensions:["value"],dimensionsCount:s}).dimensions,u=new lo(l,e);return u.initData(a),n&&n(u),_ae({mainData:u,struct:i,structAttr:"tree"}),i.update(),i},r}();function x3e(r,t){var e=t.children;r.parentNode!==t&&(e.push(r),r.parentNode=t)}function $b(r,t,e){if(r&&Lr(t,r.type)>=0){var n=e.getData().tree.root,i=r.targetNode;if(Ht(i)&&(i=n.getNodeById(i)),i&&n.contains(i))return{node:i};var a=r.targetNodeId;if(a!=null&&(i=n.getNodeById(a)))return{node:i}}}function Cae(r){for(var t=[];r;)r=r.parentNode,r&&t.push(r);return t.reverse()}function uP(r,t){var e=Cae(r);return Lr(e,t)>=0}function b8(r,t){for(var e=[];r;){var n=r.dataIndex;e.push({name:r.name,dataIndex:n,value:t.getRawValue(n)}),r=r.parentNode}return e.reverse(),e}var b3e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return t.prototype.getInitialData=function(e){var n={name:e.name,children:e.data},i=e.leaves||{},a=new qr(i,this,this.ecModel),s=lP.createTree(n,this,o);function o(f){f.wrapMethod("getItemModel",function(h,d){var A=s.getNodeByDataIndex(d);return A&&A.children.length&&A.isExpand||(h.parentModel=a),h})}var l=0;s.eachNode("preorder",function(f){f.depth>l&&(l=f.depth)});var u=e.expandAndCollapse,c=u&&e.initialTreeDepth>=0?e.initialTreeDepth:l;return s.root.eachNode("preorder",function(f){var h=f.hostTree.data.getRawDataItem(f.dataIndex);f.isExpand=h&&h.collapsed!=null?!h.collapsed:f.depth<=c}),s.data},t.prototype.getOrient=function(){var e=this.get("orient");return e==="horizontal"?e="LR":e==="vertical"&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,n,i){for(var a=this.getData().tree,s=a.root.children[0],o=a.getNodeByDataIndex(e),l=o.getValue(),u=o.name;o&&o!==s;)u=o.parentNode.name+"."+u,o=o.parentNode;return ya("nameValue",{name:u,value:l,noValue:isNaN(l)||l==null})},t.prototype.getDataParams=function(e){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=b8(i,this),n.collapsed=!i.isExpand,n},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystemUsage:"box",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,roamTrigger:"global",nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:Je.color.borderTint,width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(Ln);function w3e(r,t,e){for(var n=[r],i=[],a;a=n.pop();)if(i.push(a),a.isExpand){var s=a.children;if(s.length)for(var o=0;o<s.length;o++)n.push(s[o])}for(;a=i.pop();)t(a,e)}function xx(r,t){for(var e=[r],n;n=e.pop();)if(t(n),n.isExpand){var i=n.children;if(i.length)for(var a=i.length-1;a>=0;a--)e.push(i[a])}}function _3e(r,t){r.eachSeriesByType("tree",function(e){S3e(e,t)})}function S3e(r,t){var e=La(r,t).refContainer,n=li(r.getBoxLayoutParams(),e);r.layoutInfo=n;var i=r.get("layout"),a=0,s=0,o=null;i==="radial"?(a=2*Math.PI,s=Math.min(n.height,n.width)/2,o=cV(function(b,_){return(b.parentNode===_.parentNode?1:2)/b.depth})):(a=n.width,s=n.height,o=cV());var l=r.getData().tree.root,u=l.children[0];if(u){t3e(l),w3e(u,r3e,o),l.hierNode.modifier=-u.hierNode.prelim,xx(u,n3e);var c=u,f=u,h=u;xx(u,function(b){var _=b.getLayout().x;_<c.getLayout().x&&(c=b),_>f.getLayout().x&&(f=b),b.depth>h.depth&&(h=b)});var d=c===f?1:o(c,f)/2,A=d-c.getLayout().x,p=0,g=0,m=0,v=0;if(i==="radial")p=a/(f.getLayout().x+d+A),g=s/(h.depth-1||1),xx(u,function(b){m=(b.getLayout().x+A)*p,v=(b.depth-1)*g;var _=Jx(m,v);b.setLayout({x:_.x,y:_.y,rawX:m,rawY:v},!0)});else{var y=r.getOrient();y==="RL"||y==="LR"?(g=s/(f.getLayout().x+d+A),p=a/(h.depth-1||1),xx(u,function(b){v=(b.getLayout().x+A)*g,m=y==="LR"?(b.depth-1)*p:a-(b.depth-1)*p,b.setLayout({x:m,y:v},!0)})):(y==="TB"||y==="BT")&&(p=a/(f.getLayout().x+d+A),g=s/(h.depth-1||1),xx(u,function(b){m=(b.getLayout().x+A)*p,v=y==="TB"?(b.depth-1)*g:s-(b.depth-1)*g,b.setLayout({x:m,y:v},!0)}))}}}function C3e(r){r.eachSeriesByType("tree",function(t){var e=t.getData(),n=e.tree;n.eachNode(function(i){var a=i.getModel(),s=a.getModel("itemStyle").getItemStyle(),o=e.ensureUniqueItemVisual(i.dataIndex,"style");pt(o,s)})})}function B3e(r){r.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(n){var i=t.dataIndex,a=n.getData().tree,s=a.getNodeByDataIndex(i);s.isExpand=!s.isExpand})}),r.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,e,n){e.eachComponent({mainType:"series",subType:"tree",query:t},function(i){var a=i.coordinateSystem,s=y8(a,t,i.get("scaleLimit"));i.setCenter(s.center),i.setZoom(s.zoom)})})}function T3e(r){r.registerChartView(f3e),r.registerSeriesModel(b3e),r.registerLayout(_3e),r.registerVisual(C3e),B3e(r)}var pV=["treemapZoomToNode","treemapRender","treemapMove"];function E3e(r){for(var t=0;t<pV.length;t++)r.registerAction({type:pV[t],update:"updateView"},Ri);r.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,n){n.eachComponent({mainType:"series",subType:"treemap",query:e},i);function i(a,s){var o=["treemapZoomToNode","treemapRootToNode"],l=$b(e,o,a);if(l){var u=a.getViewRoot();u&&(e.direction=uP(u,l.node)?"rollUp":"drillDown"),a.resetViewRoot(l.node)}}})}function Bae(r){var t=r.getData(),e=t.tree,n={};e.eachNode(function(i){for(var a=i;a&&a.depth>1;)a=a.parentNode;var s=EF(r.ecModel,a.name||a.dataIndex+"",n);i.setVisual("decal",s)})}var k3e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return t.prototype.getInitialData=function(e,n){var i={name:e.name,children:e.data};Tae(i);var a=e.levels||[],s=this.designatedVisualItemStyle={},o=new qr({itemStyle:s},this,n);a=e.levels=N3e(a,n);var l=wt(a||[],function(f){return new qr(f,o,n)},this),u=lP.createTree(i,this,c);function c(f){f.wrapMethod("getItemModel",function(h,d){var A=u.getNodeByDataIndex(d),p=A?l[A.depth]:null;return h.parentModel=p||o,h})}return u.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),s=this.getRawValue(e),o=a.getName(e);return ya("nameValue",{name:o,value:s})},t.prototype.getDataParams=function(e){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=b8(i,this),n.treePathInfo=n.treeAncestors,n},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},pt(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var n=this._idIndexMap;n||(n=this._idIndexMap=Xt(),this._idIndexMapCount=0);var i=n.get(e);return i==null&&n.set(e,i=this._idIndexMapCount++),i},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var n=this.getRawData().tree.root;(!e||e!==n&&!n.contains(e))&&(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){Bae(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,coordinateSystemUsage:"box",left:Je.size.l,top:Je.size.xxxl,right:Je.size.l,bottom:Je.size.xxxl,sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,scaleLimit:{max:5,min:.2},roam:!0,roamTrigger:"global",nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",bottom:Je.size.m,emptyItemWidth:25,itemStyle:{color:Je.color.backgroundShade,textStyle:{color:Je.color.secondary}},emphasis:{itemStyle:{color:Je.color.background}}},label:{show:!0,distance:0,padding:5,position:"inside",color:Je.color.neutral00,overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:Je.color.neutral00,borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(Ln);function Tae(r){var t=0;se(r.children,function(n){Tae(n);var i=n.value;xt(i)&&(i=i[0]),t+=i});var e=r.value;xt(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),xt(r.value)?r.value[0]=e:r.value=e}function N3e(r,t){var e=Un(t.get("color")),n=Un(t.get(["aria","decal","decals"]));if(e){r=r||[];var i,a;se(r,function(o){var l=new qr(o),u=l.get("color"),c=l.get("decal");(l.get(["itemStyle","color"])||u&&u!=="none")&&(i=!0),(l.get(["itemStyle","decal"])||c&&c!=="none")&&(a=!0)});var s=r[0]||(r[0]={});return i||(s.color=e.slice()),!a&&n&&(s.decal=n.slice()),r}}var F3e=8,gV=8,wE=5,I3e=function(){function r(t){this.group=new ir,t.add(this.group)}return r.prototype.render=function(t,e,n,i){var a=t.getModel("breadcrumb"),s=this.group;if(s.removeAll(),!(!a.get("show")||!n)){var o=a.getModel("itemStyle"),l=a.getModel("emphasis"),u=o.getModel("textStyle"),c=l.getModel(["itemStyle","textStyle"]),f=La(t,e).refContainer,h={left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},d={emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]},A=li(h,f);this._prepare(n,d,u),this._renderContent(t,d,A,o,l,u,c,i),l8(s,h,f)}},r.prototype._prepare=function(t,e,n){for(var i=t;i;i=i.parentNode){var a=Na(i.getModel().get("name"),""),s=n.getTextRect(a),o=Math.max(s.width+F3e*2,e.emptyItemWidth);e.totalWidth+=o+gV,e.renderList.push({node:i,text:a,width:o})}},r.prototype._renderContent=function(t,e,n,i,a,s,o,l){for(var u=0,c=e.emptyItemWidth,f=t.get(["breadcrumb","height"]),h=e.totalWidth,d=e.renderList,A=a.getModel("itemStyle").getItemStyle(),p=d.length-1;p>=0;p--){var g=d[p],m=g.node,v=g.width,y=g.text;h>n.width&&(h-=v-c,v=c,y=null);var b=new Hs({shape:{points:M3e(u,0,v,f,p===d.length-1,p===0)},style:sr(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new nn({style:jn(s,{text:y})}),textConfig:{position:"inside"},z2:J1*1e4,onclick:Nr(l,m)});b.disableLabelAnimation=!0,b.getTextContent().ensureState("emphasis").style=jn(o,{text:y}),b.ensureState("emphasis").style=A,di(b,a.get("focus"),a.get("blurScope"),a.get("disabled")),this.group.add(b),L3e(b,t,m),u+=v+gV}},r.prototype.remove=function(){this.group.removeAll()},r}();function M3e(r,t,e,n,i,a){var s=[[i?r:r-wE,t],[r+e,t],[r+e,t+n],[i?r:r-wE,t+n]];return!a&&s.splice(2,0,[r+e+wE,t+n/2]),!i&&s.push([r,t+n/2]),s}function L3e(r,t,e){pr(r).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&b8(e,t)}}var D3e=function(){function r(){this._storage=[],this._elExistsMap={}}return r.prototype.add=function(t,e,n,i,a){return this._elExistsMap[t.id]?!1:(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:n,delay:i,easing:a}),!0)},r.prototype.finished=function(t){return this._finishedCallback=t,this},r.prototype.start=function(){for(var t=this,e=this._storage.length,n=function(){e--,e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,a=this._storage.length;i<a;i++){var s=this._storage[i];s.el.animateTo(s.target,{duration:s.duration,delay:s.delay,easing:s.easing,setToFinal:!0,done:n,aborted:n})}return this},r}();function P3e(){return new D3e}var hI=ir,mV=zr,vV=3,yV="label",xV="upperLabel",R3e=J1*10,O3e=J1*2,j3e=J1*3,hp=bg([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),bV=function(r){var t=hp(r);return t.stroke=t.fill=t.lineWidth=null,t},w6=Kr(),U3e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage=bx(),e}return t.prototype.render=function(e,n,i,a){var s=n.findComponents({mainType:"series",subType:"treemap",query:a});if(!(Lr(s,e)<0)){this.seriesModel=e,this.api=i,this.ecModel=n;var o=["treemapZoomToNode","treemapRootToNode"],l=$b(a,o,e),u=a&&a.type,c=e.layoutInfo,f=!this._oldTree,h=this._storage,d=u==="treemapRootToNode"&&l&&h?{rootNodeGroup:h.nodeGroup[l.node.getRawIndex()],direction:a.direction}:null,A=this._giveContainerGroup(c),p=e.get("animation"),g=this._doRender(A,e,d);p&&!f&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(A,g,e,d):g.renderFinally(),this._resetController(i),this._renderBreadcrumb(e,i,l)}},t.prototype._giveContainerGroup=function(e){var n=this._containerGroup;return n||(n=this._containerGroup=new hI,this._initEvents(n),this.group.add(n)),n.x=e.x,n.y=e.y,n},t.prototype._doRender=function(e,n,i){var a=n.getData().tree,s=this._oldTree,o=bx(),l=bx(),u=this._storage,c=[];function f(v,y,b,_){return H3e(n,l,u,i,o,c,v,y,b,_)}p(a.root?[a.root]:[],s&&s.root?[s.root]:[],e,a===s||!s,0);var h=g(u);if(this._oldTree=a,this._storage=l,this._controllerHost){var d=this.seriesModel.layoutInfo,A=a.root.getLayout();A.width===d.width&&A.height===d.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:o,willDeleteEls:h,renderFinally:m};function p(v,y,b,_,T){_?(y=v,se(v,function(F,P){!F.isRemoved()&&N(P,P)})):new Gh(y,v,I,I).add(N).update(N).remove(Nr(N,null)).execute();function I(F){return F.getId()}function N(F,P){var D=F!=null?v[F]:null,R=P!=null?y[P]:null,E=f(D,R,b,T);E&&p(D&&D.viewChildren||[],R&&R.viewChildren||[],E,_,T+1)}}function g(v){var y=bx();return v&&se(v,function(b,_){var T=y[_];se(b,function(I){I&&(T.push(I),w6(I).willDelete=!0)})}),y}function m(){se(h,function(v){se(v,function(y){y.parent&&y.parent.remove(y)})}),se(c,function(v){v.invisible=!0,v.dirty()})}},t.prototype._doAnimation=function(e,n,i,a){var s=i.get("animationDurationUpdate"),o=i.get("animationEasing"),l=(rr(s)?0:s)||0,u=(rr(o)?null:o)||"cubicOut",c=P3e();se(n.willDeleteEls,function(f,h){se(f,function(d,A){if(!d.invisible){var p=d.parent,g,m=w6(p);if(a&&a.direction==="drillDown")g=p===a.rootNodeGroup?{shape:{x:0,y:0,width:m.nodeWidth,height:m.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var v=0,y=0;m.willDelete||(v=m.nodeWidth/2,y=m.nodeHeight/2),g=h==="nodeGroup"?{x:v,y,style:{opacity:0}}:{shape:{x:v,y,width:0,height:0},style:{opacity:0}}}g&&c.add(d,g,l,0,u)}})}),se(this._storage,function(f,h){se(f,function(d,A){var p=n.lastsForAnimation[h][A],g={};p&&(d instanceof ir?p.oldX!=null&&(g.x=d.x,g.y=d.y,d.x=p.oldX,d.y=p.oldY):(p.oldShape&&(g.shape=pt({},d.shape),d.setShape(p.oldShape)),p.fadein?(d.setStyle("opacity",0),g.style={opacity:1}):d.style.opacity!==1&&(g.style={opacity:1})),c.add(d,g,l,0,u))})},this),this._state="animating",c.finished(Qt(function(){this._state="ready",n.renderFinally()},this)).start()},t.prototype._resetController=function(e){var n=this,i=this._controller,a=this._controllerHost;a||(this._controllerHost={target:this.group},a=this._controllerHost);var s=this.seriesModel;i||(i=this._controller=new Gg(e.getZr()),i.on("pan",Qt(this._onPan,this)),i.on("zoom",Qt(this._onZoom,this))),i.enable(s.get("roam"),{api:e,zInfo:{component:s},triggerInfo:{roamTrigger:s.get("roamTrigger"),isInSelf:function(o,l,u){var c=n._containerGroup;return c?c.getBoundingRect().contain(l-c.x,u-c.y):!1}}}),a.zoomLimit=s.get("scaleLimit"),a.zoom=s.get("zoom")},t.prototype._clearController=function(){var e=this._controller;this._controllerHost=null,e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if(this._state!=="animating"&&(Math.abs(e.dx)>vV||Math.abs(e.dy)>vV)){var n=this.seriesModel.getData().tree.root;if(!n)return;var i=n.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+e.dx,y:i.y+e.dy,width:i.width,height:i.height}})}},t.prototype._onZoom=function(e){var n=e.originX,i=e.originY,a=e.scale;if(this._state!=="animating"){var s=this.seriesModel.getData().tree.root;if(!s)return;var o=s.getLayout();if(!o)return;var l=new fr(o.x,o.y,o.width,o.height),u=null,c=this._controllerHost;u=c.zoomLimit;var f=c.zoom=c.zoom||1;if(f*=a,u){var h=u.min||0,d=u.max||1/0;f=Math.max(Math.min(d,f),h)}var A=f/c.zoom;c.zoom=f;var p=this.seriesModel.layoutInfo;n-=p.x,i-=p.y;var g=Ya();yc(g,g,[-n,-i]),WC(g,g,[A,A]),yc(g,g,[n,i]),l.applyTransform(g),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},t.prototype._initEvents=function(e){var n=this;e.on("click",function(i){if(n._state==="ready"){var a=n.seriesModel.get("nodeClick",!0);if(a){var s=n.findTarget(i.offsetX,i.offsetY);if(s){var o=s.node;if(o.getLayout().isLeafRoot)n._rootToNode(s);else if(a==="zoomToNode")n._zoomToNode(s);else if(a==="link"){var l=o.hostTree.data.getItemModel(o.dataIndex),u=l.get("link",!0),c=l.get("target",!0)||"blank";u&&ZS(u,c)}}}}},this)},t.prototype._renderBreadcrumb=function(e,n,i){var a=this;i||(i=e.get("leafDepth",!0)!=null?{node:e.getViewRoot()}:this.findTarget(n.getWidth()/2,n.getHeight()/2),i||(i={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new I3e(this.group))).render(e,n,i.node,function(s){a._state!=="animating"&&(uP(e.getViewRoot(),s)?a._rootToNode({node:s}):a._zoomToNode({node:s}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=bx(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,n){var i,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(s){var o=this._storage.background[s.getRawIndex()];if(o){var l=o.transformCoordToLocal(e,n),u=o.shape;if(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height)i={node:s,offsetX:l[0],offsetY:l[1]};else return!1}},this),i},t.type="treemap",t}(Nn);function bx(){return{nodeGroup:[],background:[],content:[]}}function H3e(r,t,e,n,i,a,s,o,l,u){if(!s)return;var c=s.getLayout(),f=r.getData(),h=s.getModel();if(f.setItemGraphicEl(s.dataIndex,null),!c||!c.isInView)return;var d=c.width,A=c.height,p=c.borderWidth,g=c.invisible,m=s.getRawIndex(),v=o&&o.getRawIndex(),y=s.viewChildren,b=c.upperHeight,_=y&&y.length,T=h.getModel("itemStyle"),I=h.getModel(["emphasis","itemStyle"]),N=h.getModel(["blur","itemStyle"]),F=h.getModel(["select","itemStyle"]),P=T.get("borderRadius")||0,D=W("nodeGroup",hI);if(!D)return;if(l.add(D),D.x=c.x||0,D.y=c.y||0,D.markRedraw(),w6(D).nodeWidth=d,w6(D).nodeHeight=A,c.isAboveViewRoot)return D;var R=W("background",mV,u,O3e);R&&O(D,R,_&&c.upperLabelHeight);var E=h.getModel("emphasis"),L=E.get("focus"),k=E.get("blurScope"),w=E.get("disabled"),C=L==="ancestor"?s.getAncestorsIndices():L==="descendant"?s.getDescendantIndices():L;if(_)Ib(D)&&Ip(D,!1),R&&(Ip(R,!w),f.setItemGraphicEl(s.dataIndex,R),mF(R,C,k));else{var S=W("content",mV,u,j3e);S&&V(D,S),R.disableMorphing=!0,R&&Ib(R)&&Ip(R,!1),Ip(D,!w),f.setItemGraphicEl(s.dataIndex,D);var B=h.getShallow("cursor");B&&S.attr("cursor",B),mF(D,C,k)}return D;function O(z,H,K){var Z=pr(H);if(Z.dataIndex=s.dataIndex,Z.seriesIndex=r.seriesIndex,H.setShape({x:0,y:0,width:d,height:A,r:P}),g)M(H);else{H.invisible=!1;var ie=s.getVisual("style"),ee=ie.stroke,ne=bV(T);ne.fill=ee;var te=hp(I);te.fill=I.get("borderColor");var le=hp(N);le.fill=N.get("borderColor");var re=hp(F);if(re.fill=F.get("borderColor"),K){var de=d-2*p;U(H,ee,ie.opacity,{x:p,y:0,width:de,height:b})}else H.removeTextContent();H.setStyle(ne),H.ensureState("emphasis").style=te,H.ensureState("blur").style=le,H.ensureState("select").style=re,wg(H)}z.add(H)}function V(z,H){var K=pr(H);K.dataIndex=s.dataIndex,K.seriesIndex=r.seriesIndex;var Z=Math.max(d-2*p,0),ie=Math.max(A-2*p,0);if(H.culling=!0,H.setShape({x:p,y:p,width:Z,height:ie,r:P}),g)M(H);else{H.invisible=!1;var ee=s.getVisual("style"),ne=ee.fill,te=bV(T);te.fill=ne,te.decal=ee.decal;var le=hp(I),re=hp(N),de=hp(F);U(H,ne,ee.opacity,null),H.setStyle(te),H.ensureState("emphasis").style=le,H.ensureState("blur").style=re,H.ensureState("select").style=de,wg(H)}z.add(H)}function M(z){!z.invisible&&a.push(z)}function U(z,H,K,Z){var ie=h.getModel(Z?xV:yV),ee=Na(h.get("name"),null),ne=ie.getShallow("show");Ja(z,Ma(h,Z?xV:yV),{defaultText:ne?ee:null,inheritColor:H,defaultOpacity:K,labelFetcher:r,labelDataIndex:s.dataIndex});var te=z.getTextContent();if(te){var le=te.style,re=Pw(le.padding||0);Z&&(z.setTextConfig({layoutRect:Z}),te.disableLabelLayout=!0),te.beforeUpdate=function(){var ue=Math.max((Z?Z.width:z.shape.width)-re[1]-re[3],0),Fe=Math.max((Z?Z.height:z.shape.height)-re[0]-re[2],0);(le.width!==ue||le.height!==Fe)&&te.setStyle({width:ue,height:Fe})},le.truncateMinChar=2,le.lineOverflow="truncate",Q(le,Z,c);var de=te.getState("emphasis");Q(de?de.style:null,Z,c)}}function Q(z,H,K){var Z=z?z.text:null;if(!H&&K.isLeafRoot&&Z!=null){var ie=r.get("drillDownIcon",!0);z.text=ie?ie+" "+Z:Z}}function W(z,H,K,Z){var ie=v!=null&&e[z][v],ee=i[z];return ie?(e[z][v]=null,j(ee,ie)):g||(ie=new H,ie instanceof Nu&&(ie.z2=Q3e(K,Z)),X(ee,ie)),t[z][m]=ie}function j(z,H){var K=z[m]={};H instanceof hI?(K.oldX=H.x,K.oldY=H.y):K.oldShape=pt({},H.shape)}function X(z,H){var K=z[m]={},Z=s.parentNode,ie=H instanceof ir;if(Z&&(!n||n.direction==="drillDown")){var ee=0,ne=0,te=i.background[Z.getRawIndex()];!n&&te&&te.oldShape&&(ee=te.oldShape.width,ne=te.oldShape.height),ie?(K.oldX=0,K.oldY=ne):K.oldShape={x:ee,y:ne,width:0,height:0}}K.fadein=!ie}}function Q3e(r,t){return r*R3e+t}var Kb=se,z3e=or,_6=-1,Za=function(){function r(t){var e=t.mappingMethod,n=t.type,i=this.option=nr(t);this.type=n,this.mappingMethod=e,this._normalizeData=W3e[e];var a=r.visualHandlers[n];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[e],e==="piecewise"?(_E(i),V3e(i)):e==="category"?i.categories?G3e(i):_E(i,!0):(js(e!=="linear"||i.dataExtent),_E(i))}return r.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},r.prototype.getNormalizer=function(){return Qt(this._normalizeData,this)},r.listVisualTypes=function(){return en(r.visualHandlers)},r.isValidType=function(t){return r.visualHandlers.hasOwnProperty(t)},r.eachVisual=function(t,e,n){or(t)?se(t,e,n):e.call(n,t)},r.mapVisual=function(t,e,n){var i,a=xt(t)?[]:or(t)?{}:(i=!0,null);return r.eachVisual(t,function(s,o){var l=e.call(n,s,o);i?a=l:a[o]=l}),a},r.retrieveVisuals=function(t){var e={},n;return t&&Kb(r.visualHandlers,function(i,a){t.hasOwnProperty(a)&&(e[a]=t[a],n=!0)}),n?e:null},r.prepareVisualTypes=function(t){if(xt(t))t=t.slice();else if(z3e(t)){var e=[];Kb(t,function(n,i){e.push(i)}),t=e}else return[];return t.sort(function(n,i){return i==="color"&&n!=="color"&&n.indexOf("color")===0?1:-1}),t},r.dependsOn=function(t,e){return e==="color"?!!(t&&t.indexOf(e)===0):t===e},r.findPieceIndex=function(t,e,n){for(var i,a=1/0,s=0,o=e.length;s<o;s++){var l=e[s].value;if(l!=null){if(l===t||Ht(l)&&l===t+"")return s;n&&h(l,s)}}for(var s=0,o=e.length;s<o;s++){var u=e[s],c=u.interval,f=u.close;if(c){if(c[0]===-1/0){if(r4(f[1],t,c[1]))return s}else if(c[1]===1/0){if(r4(f[0],c[0],t))return s}else if(r4(f[0],c[0],t)&&r4(f[1],t,c[1]))return s;n&&h(c[0],s),n&&h(c[1],s)}}if(n)return t===1/0?e.length-1:t===-1/0?0:i;function h(d,A){var p=Math.abs(d-t);p<a&&(a=p,i=A)}},r.visualHandlers={color:{applyVisual:_x("color"),getColorMapper:function(){var t=this.option;return Qt(t.mappingMethod==="category"?function(e,n){return!n&&(e=this._normalizeData(e)),e2.call(this,e)}:function(e,n,i){var a=!!i;return!n&&(e=this._normalizeData(e)),i=N2(e,t.parsedVisual,i),a?i:Su(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return Su(N2(t,this.option.parsedVisual),"rgba")},category:e2,piecewise:function(t,e){var n=AI.call(this,e);return n==null&&(n=Su(N2(t,this.option.parsedVisual),"rgba")),n},fixed:dp}},colorHue:t4(function(t,e){return Eh(t,e)}),colorSaturation:t4(function(t,e){return Eh(t,null,e)}),colorLightness:t4(function(t,e){return Eh(t,null,null,e)}),colorAlpha:t4(function(t,e){return Tb(t,e)}),decal:{applyVisual:_x("decal"),_normalizedToVisual:{linear:null,category:e2,piecewise:null,fixed:null}},opacity:{applyVisual:_x("opacity"),_normalizedToVisual:dI([0,1])},liftZ:{applyVisual:_x("liftZ"),_normalizedToVisual:{linear:dp,category:dp,piecewise:dp,fixed:dp}},symbol:{applyVisual:function(t,e,n){var i=this.mapValueToVisual(t);n("symbol",i)},_normalizedToVisual:{linear:wV,category:e2,piecewise:function(t,e){var n=AI.call(this,e);return n==null&&(n=wV.call(this,t)),n},fixed:dp}},symbolSize:{applyVisual:_x("symbolSize"),_normalizedToVisual:dI([0,1])}},r}();function V3e(r){var t=r.pieceList;r.hasSpecialVisual=!1,se(t,function(e,n){e.originIndex=n,e.visual!=null&&(r.hasSpecialVisual=!0)})}function G3e(r){var t=r.categories,e=r.categoryMap={},n=r.visual;if(Kb(t,function(s,o){e[s]=o}),!xt(n)){var i=[];or(n)?Kb(n,function(s,o){var l=e[o];i[l??_6]=s}):i[_6]=n,n=Eae(r,i)}for(var a=t.length-1;a>=0;a--)n[a]==null&&(delete e[t[a]],t.pop())}function _E(r,t){var e=r.visual,n=[];or(e)?Kb(e,function(a){n.push(a)}):e!=null&&n.push(e);var i={color:1,symbol:1};!t&&n.length===1&&!i.hasOwnProperty(r.type)&&(n[1]=n[0]),Eae(r,n)}function t4(r){return{applyVisual:function(t,e,n){var i=this.mapValueToVisual(t);n("color",r(e("color"),i))},_normalizedToVisual:dI([0,1])}}function wV(r){var t=this.option.visual;return t[Math.round(gn(r,[0,1],[0,t.length-1],!0))]||{}}function _x(r){return function(t,e,n){n(r,this.mapValueToVisual(t))}}function e2(r){var t=this.option.visual;return t[this.option.loop&&r!==_6?r%t.length:r]}function dp(){return this.option.visual[0]}function dI(r){return{linear:function(t){return gn(t,r,this.option.visual,!0)},category:e2,piecewise:function(t,e){var n=AI.call(this,e);return n==null&&(n=gn(t,r,this.option.visual,!0)),n},fixed:dp}}function AI(r){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var n=Za.findPieceIndex(r,e),i=e[n];if(i&&i.visual)return i.visual[this.type]}}function Eae(r,t){return r.visual=t,r.type==="color"&&(r.parsedVisual=wt(t,function(e){var n=oo(e);return n||[0,0,0,1]})),t}var W3e={linear:function(r){return gn(r,this.option.dataExtent,[0,1],!0)},piecewise:function(r){var t=this.option.pieceList,e=Za.findPieceIndex(r,t,!0);if(e!=null)return gn(e,[0,t.length-1],[0,1],!0)},category:function(r){var t=this.option.categories?this.option.categoryMap[r]:r;return t??_6},fixed:Ri};function r4(r,t,e){return r?t<=e:t<e}var $3e="itemStyle",kae=Kr();const K3e={seriesType:"treemap",reset:function(r){var t=r.getData().tree,e=t.root;e.isRemoved()||Nae(e,{},r.getViewRoot().getAncestors(),r)}};function Nae(r,t,e,n){var i=r.getModel(),a=r.getLayout(),s=r.hostTree.data;if(!(!a||a.invisible||!a.isInView)){var o=i.getModel($3e),l=q3e(o,t,n),u=s.ensureUniqueItemVisual(r.dataIndex,"style"),c=o.get("borderColor"),f=o.get("borderColorSaturation"),h;f!=null&&(h=_V(l),c=X3e(f,h)),u.stroke=c;var d=r.viewChildren;if(!d||!d.length)h=_V(l),u.fill=h;else{var A=Y3e(r,i,a,o,l,d);se(d,function(p,g){if(p.depth>=e.length||p===e[p.depth]){var m=Z3e(i,l,p,g,A,n);Nae(p,m,e,n)}})}}}function q3e(r,t,e){var n=pt({},t),i=e.designatedVisualItemStyle;return se(["color","colorAlpha","colorSaturation"],function(a){i[a]=t[a];var s=r.get(a);i[a]=null,s!=null&&(n[a]=s)}),n}function _V(r){var t=SE(r,"color");if(t){var e=SE(r,"colorAlpha"),n=SE(r,"colorSaturation");return n&&(t=Eh(t,null,null,n)),e&&(t=Tb(t,e)),t}}function X3e(r,t){return t!=null?Eh(t,null,null,r):null}function SE(r,t){var e=r[t];if(e!=null&&e!=="none")return e}function Y3e(r,t,e,n,i,a){if(!(!a||!a.length)){var s=CE(t,"color")||i.color!=null&&i.color!=="none"&&(CE(t,"colorAlpha")||CE(t,"colorSaturation"));if(s){var o=t.get("visualMin"),l=t.get("visualMax"),u=e.dataExtent.slice();o!=null&&o<u[0]&&(u[0]=o),l!=null&&l>u[1]&&(u[1]=l);var c=t.get("colorMappingBy"),f={type:s.name,dataExtent:u,visual:s.range};f.type==="color"&&(c==="index"||c==="id")?(f.mappingMethod="category",f.loop=!0):f.mappingMethod="linear";var h=new Za(f);return kae(h).drColorMappingBy=c,h}}}function CE(r,t){var e=r.get(t);return xt(e)&&e.length?{name:t,range:e}:null}function Z3e(r,t,e,n,i,a){var s=pt({},t);if(i){var o=i.type,l=o==="color"&&kae(i).drColorMappingBy,u=l==="index"?n:l==="id"?a.mapIdToIndex(e.getId()):e.getValue(r.get("visualDimension"));s[o]=i.mapValueToVisual(u)}return s}var qb=Math.max,S6=Math.min,SV=hs,cP=se,Fae=["itemStyle","borderWidth"],J3e=["itemStyle","gapWidth"],eSe=["upperLabel","show"],tSe=["upperLabel","height"];const rSe={seriesType:"treemap",reset:function(r,t,e,n){var i=r.option,a=La(r,e).refContainer,s=li(r.getBoxLayoutParams(),a),o=i.size||[],l=Ut(SV(s.width,o[0]),a.width),u=Ut(SV(s.height,o[1]),a.height),c=n&&n.type,f=["treemapZoomToNode","treemapRootToNode"],h=$b(n,f,r),d=c==="treemapRender"||c==="treemapMove"?n.rootRect:null,A=r.getViewRoot(),p=Cae(A);if(c!=="treemapMove"){var g=c==="treemapZoomToNode"?lSe(r,h,A,l,u):d?[d.width,d.height]:[l,u],m=i.sort;m&&m!=="asc"&&m!=="desc"&&(m="desc");var v={squareRatio:i.squareRatio,sort:m,leafDepth:i.leafDepth};A.hostTree.clearLayouts();var y={x:0,y:0,width:g[0],height:g[1],area:g[0]*g[1]};A.setLayout(y),Iae(A,v,!1,0),y=A.getLayout(),cP(p,function(_,T){var I=(p[T+1]||A).getValue();_.setLayout(pt({dataExtent:[I,I],borderWidth:0,upperHeight:0},y))})}var b=r.getData().tree.root;b.setLayout(uSe(s,d,h),!0),r.setLayoutInfo(s),Mae(b,new fr(-s.x,-s.y,e.getWidth(),e.getHeight()),p,A,0)}};function Iae(r,t,e,n){var i,a;if(!r.isRemoved()){var s=r.getLayout();i=s.width,a=s.height;var o=r.getModel(),l=o.get(Fae),u=o.get(J3e)/2,c=Lae(o),f=Math.max(l,c),h=l-u,d=f-u;r.setLayout({borderWidth:l,upperHeight:f,upperLabelHeight:c},!0),i=qb(i-2*h,0),a=qb(a-h-d,0);var A=i*a,p=nSe(r,o,A,t,e,n);if(p.length){var g={x:h,y:d,width:i,height:a},m=S6(i,a),v=1/0,y=[];y.area=0;for(var b=0,_=p.length;b<_;){var T=p[b];y.push(T),y.area+=T.getLayout().area;var I=oSe(y,m,t.squareRatio);I<=v?(b++,v=I):(y.area-=y.pop().getLayout().area,CV(y,m,g,u,!1),m=S6(g.width,g.height),y.length=y.area=0,v=1/0)}if(y.length&&CV(y,m,g,u,!0),!e){var N=o.get("childrenVisibleMin");N!=null&&A<N&&(e=!0)}for(var b=0,_=p.length;b<_;b++)Iae(p[b],t,e,n+1)}}}function nSe(r,t,e,n,i,a){var s=r.children||[],o=n.sort;o!=="asc"&&o!=="desc"&&(o=null);var l=n.leafDepth!=null&&n.leafDepth<=a;if(i&&!l)return r.viewChildren=[];s=dn(s,function(d){return!d.isRemoved()}),aSe(s,o);var u=sSe(t,s,o);if(u.sum===0)return r.viewChildren=[];if(u.sum=iSe(t,e,u.sum,o,s),u.sum===0)return r.viewChildren=[];for(var c=0,f=s.length;c<f;c++){var h=s[c].getValue()/u.sum*e;s[c].setLayout({area:h})}return l&&(s.length&&r.setLayout({isLeafRoot:!0},!0),s.length=0),r.viewChildren=s,r.setLayout({dataExtent:u.dataExtent},!0),s}function iSe(r,t,e,n,i){if(!n)return e;for(var a=r.get("visibleMin"),s=i.length,o=s,l=s-1;l>=0;l--){var u=i[n==="asc"?s-l-1:l].getValue();u/e*t<a&&(o=l,e-=u)}return n==="asc"?i.splice(0,s-o):i.splice(o,s-o),e}function aSe(r,t){return t&&r.sort(function(e,n){var i=t==="asc"?e.getValue()-n.getValue():n.getValue()-e.getValue();return i===0?t==="asc"?e.dataIndex-n.dataIndex:n.dataIndex-e.dataIndex:i}),r}function sSe(r,t,e){for(var n=0,i=0,a=t.length;i<a;i++)n+=t[i].getValue();var s=r.get("visualDimension"),o;return!t||!t.length?o=[NaN,NaN]:s==="value"&&e?(o=[t[t.length-1].getValue(),t[0].getValue()],e==="asc"&&o.reverse()):(o=[1/0,-1/0],cP(t,function(l){var u=l.getValue(s);u<o[0]&&(o[0]=u),u>o[1]&&(o[1]=u)})),{sum:n,dataExtent:o}}function oSe(r,t,e){for(var n=0,i=1/0,a=0,s=void 0,o=r.length;a<o;a++)s=r[a].getLayout().area,s&&(s<i&&(i=s),s>n&&(n=s));var l=r.area*r.area,u=t*t*e;return l?qb(u*n/l,l/(u*i)):1/0}function CV(r,t,e,n,i){var a=t===e.width?0:1,s=1-a,o=["x","y"],l=["width","height"],u=e[o[a]],c=t?r.area/t:0;(i||c>e[l[s]])&&(c=e[l[s]]);for(var f=0,h=r.length;f<h;f++){var d=r[f],A={},p=c?d.getLayout().area/c:0,g=A[l[s]]=qb(c-2*n,0),m=e[o[a]]+e[l[a]]-u,v=f===h-1||m<p?m:p,y=A[l[a]]=qb(v-2*n,0);A[o[s]]=e[o[s]]+S6(n,g/2),A[o[a]]=u+S6(n,y/2),u+=v,d.setLayout(A,!0)}e[o[s]]+=c,e[l[s]]-=c}function lSe(r,t,e,n,i){var a=(t||{}).node,s=[n,i];if(!a||a===e)return s;for(var o,l=n*i,u=l*r.option.zoomToNodeRatio;o=a.parentNode;){for(var c=0,f=o.children,h=0,d=f.length;h<d;h++)c+=f[h].getValue();var A=a.getValue();if(A===0)return s;u*=c/A;var p=o.getModel(),g=p.get(Fae),m=Math.max(g,Lae(p));u+=4*g*g+(3*g+m)*Math.pow(u,.5),u>sF&&(u=sF),a=o}u<l&&(u=l);var v=Math.pow(u/l,.5);return[n*v,i*v]}function uSe(r,t,e){if(t)return{x:t.x,y:t.y};var n={x:0,y:0};if(!e)return n;var i=e.node,a=i.getLayout();if(!a)return n;for(var s=[a.width/2,a.height/2],o=i;o;){var l=o.getLayout();s[0]+=l.x,s[1]+=l.y,o=o.parentNode}return{x:r.width/2-s[0],y:r.height/2-s[1]}}function Mae(r,t,e,n,i){var a=r.getLayout(),s=e[i],o=s&&s===r;if(!(s&&!o||i===e.length&&r!==n)){r.setLayout({isInView:!0,invisible:!o&&!t.intersect(a),isAboveViewRoot:o},!0);var l=new fr(t.x-a.x,t.y-a.y,t.width,t.height);cP(r.viewChildren||[],function(u){Mae(u,l,e,n,i+1)})}}function Lae(r){return r.get(eSe)?r.get(tSe):0}function cSe(r){r.registerSeriesModel(k3e),r.registerChartView(U3e),r.registerVisual(K3e),r.registerLayout(rSe),E3e(r)}function fSe(r){var t=r.findComponents({mainType:"legend"});!t||!t.length||r.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),i=e.getGraph(),a=i.data,s=n.mapArray(n.getName);a.filterSelf(function(o){var l=a.getItemModel(o),u=l.getShallow("category");if(u!=null){an(u)&&(u=s[u]);for(var c=0;c<t.length;c++)if(!t[c].isSelected(u))return!1}return!0})})}function hSe(r){var t={};r.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),i=e.getData(),a={};n.each(function(s){var o=n.getName(s);a["ec-"+o]=s;var l=n.getItemModel(s),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=e.getColorFromPalette(o,t)),n.setItemVisual(s,"style",u);for(var c=["symbol","symbolSize","symbolKeepAspect"],f=0;f<c.length;f++){var h=l.getShallow(c[f],!0);h!=null&&n.setItemVisual(s,c[f],h)}}),n.count()&&i.each(function(s){var o=i.getItemModel(s),l=o.getShallow("category");if(l!=null){Ht(l)&&(l=a["ec-"+l]);var u=n.getItemVisual(l,"style"),c=i.ensureUniqueItemVisual(s,"style");pt(c,u);for(var f=["symbol","symbolSize","symbolKeepAspect"],h=0;h<f.length;h++)i.setItemVisual(s,f[h],n.getItemVisual(l,f[h]))}})})}function n4(r){return r instanceof Array||(r=[r,r]),r}function dSe(r){r.eachSeriesByType("graph",function(t){var e=t.getGraph(),n=t.getEdgeData(),i=n4(t.get("edgeSymbol")),a=n4(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",a&&a[0]),n.setVisual("toSymbolSize",a&&a[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each(function(s){var o=n.getItemModel(s),l=e.getEdgeByIndex(s),u=n4(o.getShallow("symbol",!0)),c=n4(o.getShallow("symbolSize",!0)),f=o.getModel("lineStyle").getLineStyle(),h=n.ensureUniqueItemVisual(s,"style");switch(pt(h,f),h.stroke){case"source":{var d=l.node1.getVisual("style");h.stroke=d&&d.fill;break}case"target":{var d=l.node2.getVisual("style");h.stroke=d&&d.fill;break}}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),c[0]&&l.setVisual("fromSymbolSize",c[0]),c[1]&&l.setVisual("toSymbolSize",c[1])})})}var pI="-->",w8=function(r){return r.get("autoCurveness")||null},Dae=function(r,t){var e=w8(r),n=20,i=[];if(an(e))n=e;else if(xt(e)){r.__curvenessList=e;return}t>n&&(n=t);var a=n%2?n+2:n+3;i=[];for(var s=0;s<a;s++)i.push((s%2?s+1:s)/10*(s%2?-1:1));r.__curvenessList=i},Xb=function(r,t,e){var n=[r.id,r.dataIndex].join("."),i=[t.id,t.dataIndex].join(".");return[e.uid,n,i].join(pI)},Pae=function(r){var t=r.split(pI);return[t[0],t[2],t[1]].join(pI)},ASe=function(r,t){var e=Xb(r.node1,r.node2,t);return t.__edgeMap[e]},pSe=function(r,t){var e=gI(Xb(r.node1,r.node2,t),t),n=gI(Xb(r.node2,r.node1,t),t);return e+n},gI=function(r,t){var e=t.__edgeMap;return e[r]?e[r].length:0};function gSe(r){w8(r)&&(r.__curvenessList=[],r.__edgeMap={},Dae(r))}function mSe(r,t,e,n){if(w8(e)){var i=Xb(r,t,e),a=e.__edgeMap,s=a[Pae(i)];a[i]&&!s?a[i].isForward=!0:s&&a[i]&&(s.isForward=!0,a[i].isForward=!1),a[i]=a[i]||[],a[i].push(n)}}function fP(r,t,e,n){var i=w8(t),a=xt(i);if(!i)return null;var s=ASe(r,t);if(!s)return null;for(var o=-1,l=0;l<s.length;l++)if(s[l]===e){o=l;break}var u=pSe(r,t);Dae(t,u),r.lineStyle=r.lineStyle||{};var c=Xb(r.node1,r.node2,t),f=t.__curvenessList,h=a||u%2?0:1;if(s.isForward)return f[h+o];var d=Pae(c),A=gI(d,t),p=f[o+A+h];return n?a?i&&i[0]===0?(A+h)%2?p:-p:((A%2?0:1)+h)%2?p:-p:(A+h)%2?p:-p:f[o+A+h]}function Rae(r){var t=r.coordinateSystem;if(!(t&&t.type!=="view")){var e=r.getGraph();e.eachNode(function(n){var i=n.getModel();n.setLayout([+i.get("x"),+i.get("y")])}),hP(e,r)}}function hP(r,t){r.eachEdge(function(e,n){var i=rl(e.getModel().get(["lineStyle","curveness"]),-fP(e,t,n,!0),0),a=yf(e.node1.getLayout()),s=yf(e.node2.getLayout()),o=[a,s];+i&&o.push([(a[0]+s[0])/2-(a[1]-s[1])*i,(a[1]+s[1])/2-(s[0]-a[0])*i]),e.setLayout(o)})}function vSe(r,t){r.eachSeriesByType("graph",function(e){var n=e.get("layout"),i=e.coordinateSystem;if(i&&i.type!=="view"){var a=e.getData(),s=[];se(i.dimensions,function(h){s=s.concat(a.mapDimensionsAll(h))});for(var o=0;o<a.count();o++){for(var l=[],u=!1,c=0;c<s.length;c++){var f=a.get(s[c],o);isNaN(f)||(u=!0),l.push(f)}u?a.setItemLayout(o,i.dataToPoint(l)):a.setItemLayout(o,[NaN,NaN])}hP(a.graph,e)}else(!n||n==="none")&&Rae(e)})}function t2(r){var t=r.coordinateSystem;if(t.type!=="view")return 1;var e=r.option.nodeScaleRatio,n=t.scaleX,i=t.getZoom(),a=(i-1)*e+1;return a/n}function r2(r){var t=r.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var BV=Math.PI,BE=[];function dP(r,t,e,n){var i=r.coordinateSystem;if(!(i&&i.type!=="view")){var a=i.getBoundingRect(),s=r.getData(),o=s.graph,l=a.width/2+a.x,u=a.height/2+a.y,c=Math.min(a.width,a.height)/2,f=s.count();if(s.setLayout({cx:l,cy:u}),!!f){if(e){var h=i.pointToData(n),d=h[0],A=h[1],p=[d-l,A-u];Og(p,p),B2(p,p,c),e.setLayout([l+p[0],u+p[1]],!0);var g=r.get(["circular","rotateLabel"]);Oae(e,g,l,u)}ySe[t](r,o,s,c,l,u,f),o.eachEdge(function(m,v){var y=rl(m.getModel().get(["lineStyle","curveness"]),fP(m,r,v),0),b=yf(m.node1.getLayout()),_=yf(m.node2.getLayout()),T,I=(b[0]+_[0])/2,N=(b[1]+_[1])/2;+y&&(y*=3,T=[l*y+I*(1-y),u*y+N*(1-y)]),m.setLayout([b,_,T])})}}}var ySe={value:function(r,t,e,n,i,a,s){var o=0,l=e.getSum("value"),u=Math.PI*2/(l||s);t.eachNode(function(c){var f=c.getValue("value"),h=u*(l?f:1)/2;o+=h,c.setLayout([n*Math.cos(o)+i,n*Math.sin(o)+a]),o+=h})},symbolSize:function(r,t,e,n,i,a,s){var o=0;BE.length=s;var l=t2(r);t.eachNode(function(f){var h=r2(f);isNaN(h)&&(h=2),h<0&&(h=0),h*=l;var d=Math.asin(h/2/n);isNaN(d)&&(d=BV/2),BE[f.dataIndex]=d,o+=d*2});var u=(2*BV-o)/s/2,c=0;t.eachNode(function(f){var h=u+BE[f.dataIndex];c+=h,(!f.getLayout()||!f.getLayout().fixed)&&f.setLayout([n*Math.cos(c)+i,n*Math.sin(c)+a]),c+=h})}};function Oae(r,t,e,n){var i=r.getGraphicEl();if(i){var a=r.getModel(),s=a.get(["label","rotate"])||0,o=i.getSymbolPath();if(t){var l=r.getLayout(),u=Math.atan2(l[1]-n,l[0]-e);u<0&&(u=Math.PI*2+u);var c=l[0]<e;c&&(u=u-Math.PI);var f=c?"left":"right";o.setTextConfig({rotation:-u,position:f,origin:"center"});var h=o.ensureState("emphasis");pt(h.textConfig||(h.textConfig={}),{position:f})}else o.setTextConfig({rotation:s*=Math.PI/180})}}function xSe(r){r.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&dP(t,"symbolSize")})}var _m=IS;function bSe(r,t,e){for(var n=r,i=t,a=e.rect,s=a.width,o=a.height,l=[a.x+s/2,a.y+o/2],u=e.gravity==null?.1:e.gravity,c=0;c<n.length;c++){var f=n[c];f.p||(f.p=f0(s*(Math.random()-.5)+l[0],o*(Math.random()-.5)+l[1])),f.pp=yf(f.p),f.edges=null}var h=e.friction==null?.6:e.friction,d=h,A,p;return{warmUp:function(){d=h*.8},setFixed:function(g){n[g].fixed=!0},setUnfixed:function(g){n[g].fixed=!1},beforeStep:function(g){A=g},afterStep:function(g){p=g},step:function(g){A&&A(n,i);for(var m=[],v=n.length,y=0;y<i.length;y++){var b=i[y];if(!b.ignoreForceLayout){var _=b.n1,T=b.n2;uA(m,T.p,_.p);var I=Sb(m)-b.d,N=T.w/(_.w+T.w);isNaN(N)&&(N=0),Og(m,m),!_.fixed&&_m(_.p,_.p,m,N*I*d),!T.fixed&&_m(T.p,T.p,m,-(1-N)*I*d)}}for(var y=0;y<v;y++){var F=n[y];F.fixed||(uA(m,l,F.p),_m(F.p,F.p,m,u*d))}for(var y=0;y<v;y++)for(var _=n[y],P=y+1;P<v;P++){var T=n[P];uA(m,T.p,_.p);var I=Sb(m);I===0&&(GC(m,Math.random()-.5,Math.random()-.5),I=1);var D=(_.rep+T.rep)/I/I;!_.fixed&&_m(_.pp,_.pp,m,D),!T.fixed&&_m(T.pp,T.pp,m,-D)}for(var R=[],y=0;y<v;y++){var F=n[y];F.fixed||(uA(R,F.p,F.pp),_m(F.p,F.p,R,d),to(F.pp,F.p))}d=d*.992;var E=d<.01;p&&p(n,i,E),g&&g(E)}}}function wSe(r){r.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!(e&&e.type!=="view"))if(t.get("layout")==="force"){var n=t.preservedPoints||{},i=t.getGraph(),a=i.data,s=i.edgeData,o=t.getModel("force"),l=o.get("initLayout");t.preservedPoints?a.each(function(y){var b=a.getId(y);a.setItemLayout(y,n[b]||[NaN,NaN])}):!l||l==="none"?Rae(t):l==="circular"&&dP(t,"value");var u=a.getDataExtent("value"),c=s.getDataExtent("value"),f=o.get("repulsion"),h=o.get("edgeLength"),d=xt(f)?f:[f,f],A=xt(h)?h:[h,h];A=[A[1],A[0]];var p=a.mapArray("value",function(y,b){var _=a.getItemLayout(b),T=gn(y,u,d);return isNaN(T)&&(T=(d[0]+d[1])/2),{w:T,rep:T,fixed:a.getItemModel(b).get("fixed"),p:!_||isNaN(_[0])||isNaN(_[1])?null:_}}),g=s.mapArray("value",function(y,b){var _=i.getEdgeByIndex(b),T=gn(y,c,A);isNaN(T)&&(T=(A[0]+A[1])/2);var I=_.getModel(),N=rl(_.getModel().get(["lineStyle","curveness"]),-fP(_,t,b,!0),0);return{n1:p[_.node1.dataIndex],n2:p[_.node2.dataIndex],d:T,curveness:N,ignoreForceLayout:I.get("ignoreForceLayout")}}),m=e.getBoundingRect(),v=bSe(p,g,{rect:m,gravity:o.get("gravity"),friction:o.get("friction")});v.beforeStep(function(y,b){for(var _=0,T=y.length;_<T;_++)y[_].fixed&&to(y[_].p,i.getNodeByIndex(_).getLayout())}),v.afterStep(function(y,b,_){for(var T=0,I=y.length;T<I;T++)y[T].fixed||i.getNodeByIndex(T).setLayout(y[T].p),n[a.getId(T)]=y[T].p;for(var T=0,I=b.length;T<I;T++){var N=b[T],F=i.getEdgeByIndex(T),P=N.n1.p,D=N.n2.p,R=F.getLayout();R=R?R.slice():[],R[0]=R[0]||[],R[1]=R[1]||[],to(R[0],P),to(R[1],D),+N.curveness&&(R[2]=[(P[0]+D[0])/2-(P[1]-D[1])*N.curveness,(P[1]+D[1])/2-(D[0]-P[0])*N.curveness]),F.setLayout(R)}}),t.forceLayout=v,t.preservedPoints=n,v.step()}else t.forceLayout=null})}function _Se(r,t,e){var n=La(r,t),i=pt(r.getBoxLayoutParams(),{aspect:e}),a=li(i,n.refContainer);return dre(r,a,e)}function SSe(r,t){var e=[];return r.eachSeriesByType("graph",function(n){$w({targetModel:n,coordSysType:"view",coordSysProvider:i,isDefaultDataCoordSys:!0});function i(){var a=n.getData(),s=a.mapArray(function(A){var p=a.getItemModel(A);return[+p.get("x"),+p.get("y")]}),o=[],l=[];e8(s,o,l),l[0]-o[0]===0&&(l[0]+=1,o[0]-=1),l[1]-o[1]===0&&(l[1]+=1,o[1]-=1);var u=(l[0]-o[0])/(l[1]-o[1]),c=_Se(n,t,u);isNaN(u)&&(o=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var f=l[0]-o[0],h=l[1]-o[1],d=new Wg(null,{api:t,ecModel:r});return d.zoomLimit=n.get("scaleLimit"),d.setBoundingRect(o[0],o[1],f,h),d.setViewRect(c.x,c.y,c.width,c.height),d.setCenter(n.get("center")),d.setZoom(n.get("zoom")),e.push(d),d}}),e}var TV=ra.prototype,TE=ty.prototype,jae=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r}();(function(r){Ge(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t})(jae);function EE(r){return isNaN(+r.cpx1)||isNaN(+r.cpy1)}var Uae=function(r){Ge(t,r);function t(e){var n=r.call(this,e)||this;return n.type="ec-line",n}return t.prototype.getDefaultStyle=function(){return{stroke:Je.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new jae},t.prototype.buildPath=function(e,n){EE(n)?TV.buildPath.call(this,e,n):TE.buildPath.call(this,e,n)},t.prototype.pointAt=function(e){return EE(this.shape)?TV.pointAt.call(this,e):TE.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var n=this.shape,i=EE(n)?[n.x2-n.x1,n.y2-n.y1]:TE.tangentAt.call(this,e);return Og(i,i)},t}(Xr),kE=["fromSymbol","toSymbol"];function EV(r){return"_"+r+"Type"}function kV(r,t,e){var n=t.getItemVisual(e,r);if(!n||n==="none")return n;var i=t.getItemVisual(e,r+"Size"),a=t.getItemVisual(e,r+"Rotate"),s=t.getItemVisual(e,r+"Offset"),o=t.getItemVisual(e,r+"KeepAspect"),l=cy(i),u=zg(s||0,l);return n+l+u+(a||"")+(o||"")}function NV(r,t,e){var n=t.getItemVisual(e,r);if(!(!n||n==="none")){var i=t.getItemVisual(e,r+"Size"),a=t.getItemVisual(e,r+"Rotate"),s=t.getItemVisual(e,r+"Offset"),o=t.getItemVisual(e,r+"KeepAspect"),l=cy(i),u=zg(s||0,l),c=ia(n,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,o);return c.__specifiedRotation=a==null||isNaN(a)?void 0:+a*Math.PI/180||0,c.name=r,c}}function CSe(r){var t=new Uae({name:"line",subPixelOptimize:!0});return mI(t.shape,r),t}function mI(r,t){r.x1=t[0][0],r.y1=t[0][1],r.x2=t[1][0],r.y2=t[1][1],r.percent=1;var e=t[2];e?(r.cpx1=e[0],r.cpy1=e[1]):(r.cpx1=NaN,r.cpy1=NaN)}var AP=function(r){Ge(t,r);function t(e,n,i){var a=r.call(this)||this;return a._createLine(e,n,i),a}return t.prototype._createLine=function(e,n,i){var a=e.hostModel,s=e.getItemLayout(n),o=e.getItemVisual(n,"z2"),l=CSe(s);l.shape.percent=0,ni(l,{z2:Zt(o,0),shape:{percent:1}},a,n),this.add(l),se(kE,function(u){var c=NV(u,e,n);this.add(c),this[EV(u)]=kV(u,e,n)},this),this._updateCommonStl(e,n,i)},t.prototype.updateData=function(e,n,i){var a=e.hostModel,s=this.childOfName("line"),o=e.getItemLayout(n),l={shape:{}};mI(l.shape,o),ln(s,l,a,n),se(kE,function(u){var c=kV(u,e,n),f=EV(u);if(this[f]!==c){this.remove(this.childOfName(u));var h=NV(u,e,n);this.add(h)}this[f]=c},this),this._updateCommonStl(e,n,i)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,n,i){var a=e.hostModel,s=this.childOfName("line"),o=i&&i.emphasisLineStyle,l=i&&i.blurLineStyle,u=i&&i.selectLineStyle,c=i&&i.labelStatesModels,f=i&&i.emphasisDisabled,h=i&&i.focus,d=i&&i.blurScope;if(!i||e.hasItemOption){var A=e.getItemModel(n),p=A.getModel("emphasis");o=p.getModel("lineStyle").getLineStyle(),l=A.getModel(["blur","lineStyle"]).getLineStyle(),u=A.getModel(["select","lineStyle"]).getLineStyle(),f=p.get("disabled"),h=p.get("focus"),d=p.get("blurScope"),c=Ma(A)}var g=e.getItemVisual(n,"style"),m=g.stroke;s.useStyle(g),s.style.fill=null,s.style.strokeNoScale=!0,s.ensureState("emphasis").style=o,s.ensureState("blur").style=l,s.ensureState("select").style=u,se(kE,function(T){var I=this.childOfName(T);if(I){I.setColor(m),I.style.opacity=g.opacity;for(var N=0;N<Lo.length;N++){var F=Lo[N],P=s.getState(F);if(P){var D=P.style||{},R=I.ensureState(F),E=R.style||(R.style={});D.stroke!=null&&(E[I.__isEmptyBrush?"stroke":"fill"]=D.stroke),D.opacity!=null&&(E.opacity=D.opacity)}}I.markRedraw()}},this);var v=a.getRawValue(n);Ja(this,c,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(T,I){return a.getFormattedLabel(T,I,e.dataType)}},inheritColor:m||Je.color.neutral99,defaultOpacity:g.opacity,defaultText:(v==null?e.getName(n):isFinite(v)?ta(v):v)+""});var y=this.getTextContent();if(y){var b=c.normal;y.__align=y.style.align,y.__verticalAlign=y.style.verticalAlign,y.__position=b.get("position")||"middle";var _=b.get("distance");xt(_)||(_=[_,_]),y.__labelDistance=_}this.setTextConfig({position:null,local:!0,inside:!1}),di(this,h,d,f)},t.prototype.highlight=function(){zh(this)},t.prototype.downplay=function(){Vh(this)},t.prototype.updateLayout=function(e,n){this.setLinePoints(e.getItemLayout(n))},t.prototype.setLinePoints=function(e){var n=this.childOfName("line");mI(n.shape,e),n.dirty()},t.prototype.beforeUpdate=function(){var e=this,n=e.childOfName("fromSymbol"),i=e.childOfName("toSymbol"),a=e.getTextContent();if(!n&&!i&&(!a||a.ignore))return;for(var s=1,o=this.parent;o;)o.scaleX&&(s/=o.scaleX),o=o.parent;var l=e.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,c=l.pointAt(0),f=l.pointAt(u),h=uA([],f,c);Og(h,h);function d(P,D){var R=P.__specifiedRotation;if(R==null){var E=l.tangentAt(D);P.attr("rotation",(D===1?-1:1)*Math.PI/2-Math.atan2(E[1],E[0]))}else P.attr("rotation",R)}if(n&&(n.setPosition(c),d(n,0),n.scaleX=n.scaleY=s*u,n.markRedraw()),i&&(i.setPosition(f),d(i,1),i.scaleX=i.scaleY=s*u,i.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var A=void 0,p=void 0,g=a.__labelDistance,m=g[0]*s,v=g[1]*s,y=u/2,b=l.tangentAt(y),_=[b[1],-b[0]],T=l.pointAt(y);_[1]>0&&(_[0]=-_[0],_[1]=-_[1]);var I=b[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var N=-Math.atan2(b[1],b[0]);f[0]<c[0]&&(N=Math.PI+N),a.rotation=N}var F=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":F=-v,p="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":F=v,p="top";break;default:F=0,p="middle"}switch(a.__position){case"end":a.x=h[0]*m+f[0],a.y=h[1]*v+f[1],A=h[0]>.8?"left":h[0]<-.8?"right":"center",p=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";break;case"start":a.x=-h[0]*m+c[0],a.y=-h[1]*v+c[1],A=h[0]>.8?"right":h[0]<-.8?"left":"center",p=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=m*I+c[0],a.y=c[1]+F,A=b[0]<0?"right":"left",a.originX=-m*I,a.originY=-F;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=T[0],a.y=T[1]+F,A="center",a.originY=-F;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-m*I+f[0],a.y=f[1]+F,A=b[0]>=0?"right":"left",a.originX=m*I,a.originY=-F;break}a.scaleX=a.scaleY=s,a.setStyle({verticalAlign:a.__verticalAlign||p,align:a.__align||A})}},t}(ir),pP=function(){function r(t){this.group=new ir,this._LineCtor=t||AP}return r.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var n=this,i=n.group,a=n._lineData;n._lineData=t,a||i.removeAll();var s=FV(t);t.diff(a).add(function(o){e._doAdd(t,o,s)}).update(function(o,l){e._doUpdate(a,t,l,o,s)}).remove(function(o){i.remove(a.getItemGraphicEl(o))}).execute()},r.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,n){e.updateLayout(t,n)},this)},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=FV(t),this._lineData=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,e){this._progressiveEls=[];function n(o){!o.isGroup&&!BSe(o)&&(o.incremental=!0,o.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var a=e.getItemLayout(i);if(NE(a)){var s=new this._LineCtor(e,i,this._seriesScope);s.traverse(n),this.group.add(s),e.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},r.prototype.remove=function(){this.group.removeAll()},r.prototype.eachRendered=function(t){h0(this._progressiveEls||this.group,t)},r.prototype._doAdd=function(t,e,n){var i=t.getItemLayout(e);if(NE(i)){var a=new this._LineCtor(t,e,n);t.setItemGraphicEl(e,a),this.group.add(a)}},r.prototype._doUpdate=function(t,e,n,i,a){var s=t.getItemGraphicEl(n);if(!NE(e.getItemLayout(i))){this.group.remove(s);return}s?s.updateData(e,i,a):s=new this._LineCtor(e,i,a),e.setItemGraphicEl(i,s),this.group.add(s)},r}();function BSe(r){return r.animators&&r.animators.length>0}function FV(r){var t=r.hostModel,e=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:e.get("disabled"),blurScope:e.get("blurScope"),focus:e.get("focus"),labelStatesModels:Ma(t)}}function IV(r){return isNaN(r[0])||isNaN(r[1])}function NE(r){return r&&!IV(r[0])&&!IV(r[1])}var FE=[],IE=[],ME=[],Sm=us,LE=FA,MV=Math.abs;function LV(r,t,e){for(var n=r[0],i=r[1],a=r[2],s=1/0,o,l=e*e,u=.1,c=.1;c<=.9;c+=.1){FE[0]=Sm(n[0],i[0],a[0],c),FE[1]=Sm(n[1],i[1],a[1],c);var f=MV(LE(FE,t)-l);f<s&&(s=f,o=c)}for(var h=0;h<32;h++){var d=o+u;IE[0]=Sm(n[0],i[0],a[0],o),IE[1]=Sm(n[1],i[1],a[1],o),ME[0]=Sm(n[0],i[0],a[0],d),ME[1]=Sm(n[1],i[1],a[1],d);var f=LE(IE,t)-l;if(MV(f)<.01)break;var A=LE(ME,t)-l;u/=2,f<0?A>=0?o=o+u:o=o-u:A>=0?o=o-u:o=o+u}return o}function DE(r,t){var e=[],n=Cb,i=[[],[],[]],a=[[],[]],s=[];t/=2,r.eachEdge(function(o,l){var u=o.getLayout(),c=o.getVisual("fromSymbol"),f=o.getVisual("toSymbol");u.__original||(u.__original=[yf(u[0]),yf(u[1])],u[2]&&u.__original.push(yf(u[2])));var h=u.__original;if(u[2]!=null){if(to(i[0],h[0]),to(i[1],h[2]),to(i[2],h[1]),c&&c!=="none"){var d=r2(o.node1),A=LV(i,h[0],d*t);n(i[0][0],i[1][0],i[2][0],A,e),i[0][0]=e[3],i[1][0]=e[4],n(i[0][1],i[1][1],i[2][1],A,e),i[0][1]=e[3],i[1][1]=e[4]}if(f&&f!=="none"){var d=r2(o.node2),A=LV(i,h[1],d*t);n(i[0][0],i[1][0],i[2][0],A,e),i[1][0]=e[1],i[2][0]=e[2],n(i[0][1],i[1][1],i[2][1],A,e),i[1][1]=e[1],i[2][1]=e[2]}to(u[0],i[0]),to(u[1],i[2]),to(u[2],i[1])}else{if(to(a[0],h[0]),to(a[1],h[1]),uA(s,a[1],a[0]),Og(s,s),c&&c!=="none"){var d=r2(o.node1);IS(a[0],a[0],s,d*t)}if(f&&f!=="none"){var d=r2(o.node2);IS(a[1],a[1],s,-d*t)}to(u[0],a[0]),to(u[1],a[1])}})}var Hae=Kr();function TSe(r){if(r)return Hae(r).bridge}function DV(r,t){r&&(Hae(r).bridge=t)}function PV(r){return r.type==="view"}var ESe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){var i=new Yw,a=new pP,s=this.group,o=new ir;this._controller=new Gg(n.getZr()),this._controllerHost={target:o},o.add(i.group),o.add(a.group),s.add(o),this._symbolDraw=i,this._lineDraw=a,this._mainGroup=o,this._firstRender=!0},t.prototype.render=function(e,n,i){var a=this,s=e.coordinateSystem,o=!1;this._model=e,this._api=i,this._active=!0;var l=this._getThumbnailInfo();l&&l.bridge.reset(i);var u=this._symbolDraw,c=this._lineDraw;if(PV(s)){var f={x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY};this._firstRender?this._mainGroup.attr(f):ln(this._mainGroup,f,e)}DE(e.getGraph(),t2(e));var h=e.getData();u.updateData(h);var d=e.getEdgeData();c.updateData(d),this._updateNodeAndLinkScale(),this._updateController(null,e,i),clearTimeout(this._layoutTimeout);var A=e.forceLayout,p=e.get(["force","layoutAnimation"]);A&&(o=!0,this._startForceLayoutIteration(A,i,p));var g=e.get("layout");h.graph.eachNode(function(b){var _=b.dataIndex,T=b.getGraphicEl(),I=b.getModel();if(T){T.off("drag").off("dragend");var N=I.get("draggable");N&&T.on("drag",function(P){switch(g){case"force":A.warmUp(),!a._layouting&&a._startForceLayoutIteration(A,i,p),A.setFixed(_),h.setItemLayout(_,[T.x,T.y]);break;case"circular":h.setItemLayout(_,[T.x,T.y]),b.setLayout({fixed:!0},!0),dP(e,"symbolSize",b,[P.offsetX,P.offsetY]),a.updateLayout(e);break;case"none":default:h.setItemLayout(_,[T.x,T.y]),hP(e.getGraph(),e),a.updateLayout(e);break}}).on("dragend",function(){A&&A.setUnfixed(_)}),T.setDraggable(N,!!I.get("cursor"));var F=I.get(["emphasis","focus"]);F==="adjacency"&&(pr(T).focus=b.getAdjacentDataIndices())}}),h.graph.eachEdge(function(b){var _=b.getGraphicEl(),T=b.getModel().get(["emphasis","focus"]);_&&T==="adjacency"&&(pr(_).focus={edge:[b.dataIndex],node:[b.node1.dataIndex,b.node2.dataIndex]})});var m=e.get("layout")==="circular"&&e.get(["circular","rotateLabel"]),v=h.getLayout("cx"),y=h.getLayout("cy");h.graph.eachNode(function(b){Oae(b,m,v,y)}),this._firstRender=!1,o||this._renderThumbnail(e,i,this._symbolDraw,this._lineDraw)},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,n,i){var a=this,s=!1;(function o(){e.step(function(l){a.updateLayout(a._model),(l||!s)&&(s=!0,a._renderThumbnail(a._model,n,a._symbolDraw,a._lineDraw)),(a._layouting=!l)&&(i?a._layoutTimeout=setTimeout(o,16):o())})})()},t.prototype._updateController=function(e,n,i){var a=this._controller,s=this._controllerHost,o=n.coordinateSystem;if(!PV(o)){a.disable();return}a.enable(n.get("roam"),{api:i,zInfo:{component:n},triggerInfo:{roamTrigger:n.get("roamTrigger"),isInSelf:function(l,u,c){return o.containPoint([u,c])},isInClip:function(l,u,c){return!e||e.contain(u,c)}}}),s.zoomLimit=n.get("scaleLimit"),s.zoom=o.getZoom(),a.off("pan").off("zoom").on("pan",function(l){i.dispatchAction({seriesId:n.id,type:"graphRoam",dx:l.dx,dy:l.dy})}).on("zoom",function(l){i.dispatchAction({seriesId:n.id,type:"graphRoam",zoom:l.scale,originX:l.originX,originY:l.originY})})},t.prototype.updateViewOnPan=function(e,n,i){this._active&&(nP(this._controllerHost,i.dx,i.dy),this._updateThumbnailWindow())},t.prototype.updateViewOnZoom=function(e,n,i){this._active&&(iP(this._controllerHost,i.zoom,i.originX,i.originY),this._updateNodeAndLinkScale(),DE(e.getGraph(),t2(e)),this._lineDraw.updateLayout(),n.updateLabelLayout(),this._updateThumbnailWindow())},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,n=e.getData(),i=t2(e);n.eachItemGraphicEl(function(a,s){a&&a.setSymbolScale(i)})},t.prototype.updateLayout=function(e){this._active&&(DE(e.getGraph(),t2(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout())},t.prototype.remove=function(){this._active=!1,clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove(),this._controller&&this._controller.disable()},t.prototype._getThumbnailInfo=function(){var e=this._model,n=e.coordinateSystem;if(n.type==="view"){var i=TSe(e);if(i)return{bridge:i,coordSys:n}}},t.prototype._updateThumbnailWindow=function(){var e=this._getThumbnailInfo();e&&e.bridge.updateWindow(e.coordSys.transform,this._api)},t.prototype._renderThumbnail=function(e,n,i,a){var s=this._getThumbnailInfo();if(s){var o=new ir,l=i.group.children(),u=a.group.children(),c=new ir,f=new ir;o.add(f),o.add(c);for(var h=0;h<l.length;h++){var d=l[h],A=d.children()[0],p=d.x,g=d.y,m=nr(A.shape),v=pt(m,{width:A.scaleX,height:A.scaleY,x:p-A.scaleX/2,y:g-A.scaleY/2}),y=nr(A.style),b=new A.constructor({shape:v,style:y,z2:151});f.add(b)}for(var h=0;h<u.length;h++){var d=u[h],_=d.children()[0],y=nr(_.style),v=nr(_.shape),T=new Uae({style:y,shape:v,z2:151});c.add(T)}s.bridge.renderContent({api:n,roamType:e.get("roam"),viewportRect:null,group:o,targetTrans:s.coordSys.transform})}},t.type="graph",t}(Nn);function Cm(r){return"_EC_"+r}var kSe=function(){function r(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return r.prototype.isDirected=function(){return this._directed},r.prototype.addNode=function(t,e){t=t==null?""+e:""+t;var n=this._nodesMap;if(!n[Cm(t)]){var i=new Ap(t,e);return i.hostGraph=this,this.nodes.push(i),n[Cm(t)]=i,i}},r.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},r.prototype.getNodeById=function(t){return this._nodesMap[Cm(t)]},r.prototype.addEdge=function(t,e,n){var i=this._nodesMap,a=this._edgesMap;if(an(t)&&(t=this.nodes[t]),an(e)&&(e=this.nodes[e]),t instanceof Ap||(t=i[Cm(t)]),e instanceof Ap||(e=i[Cm(e)]),!(!t||!e)){var s=t.id+"-"+e.id,o=new Qae(t,e,n);return o.hostGraph=this,this._directed&&(t.outEdges.push(o),e.inEdges.push(o)),t.edges.push(o),t!==e&&e.edges.push(o),this.edges.push(o),a[s]=o,o}},r.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},r.prototype.getEdge=function(t,e){t instanceof Ap&&(t=t.id),e instanceof Ap&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},r.prototype.eachNode=function(t,e){for(var n=this.nodes,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&t.call(e,n[a],a)},r.prototype.eachEdge=function(t,e){for(var n=this.edges,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&n[a].node1.dataIndex>=0&&n[a].node2.dataIndex>=0&&t.call(e,n[a],a)},r.prototype.breadthFirstTraverse=function(t,e,n,i){if(e instanceof Ap||(e=this._nodesMap[Cm(e)]),!!e){for(var a=n==="out"?"outEdges":n==="in"?"inEdges":"edges",s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!t.call(i,e,null))for(var o=[e];o.length;)for(var l=o.shift(),u=l[a],s=0;s<u.length;s++){var c=u[s],f=c.node1===l?c.node2:c.node1;if(!f.__visited){if(t.call(i,f,l))return;o.push(f),f.__visited=!0}}}},r.prototype.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,i=this.edges,a=0,s=n.length;a<s;a++)n[a].dataIndex=-1;for(var a=0,s=t.count();a<s;a++)n[t.getRawIndex(a)].dataIndex=a;e.filterSelf(function(o){var l=i[e.getRawIndex(o)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var a=0,s=i.length;a<s;a++)i[a].dataIndex=-1;for(var a=0,s=e.count();a<s;a++)i[e.getRawIndex(a)].dataIndex=a},r.prototype.clone=function(){for(var t=new r(this._directed),e=this.nodes,n=this.edges,i=0;i<e.length;i++)t.addNode(e[i].id,e[i].dataIndex);for(var i=0;i<n.length;i++){var a=n[i];t.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return t},r}(),Ap=function(){function r(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=e??-1}return r.prototype.degree=function(){return this.edges.length},r.prototype.inDegree=function(){return this.inEdges.length},r.prototype.outDegree=function(){return this.outEdges.length},r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.data.getItemModel(this.dataIndex);return n.getModel(t)}},r.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var n=this.edges[e];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},r.prototype.getTrajectoryDataIndices=function(){for(var t=Xt(),e=Xt(),n=0,i=this.edges.length;n<i;n++){var a=this.edges[n];if(!(a.dataIndex<0)){t.set(a.dataIndex,!0);for(var s=[a.node1],o=[a.node2],l=0;l<s.length;){var u=s[l];l++,e.set(u.dataIndex,!0);for(var c=u.inEdges,f=0,h=c.length,d=void 0,A=void 0;f<h;f++)d=c[f],A=d.dataIndex,A>=0&&!t.hasKey(A)&&(t.set(A,!0),s.push(d.node1))}for(l=0;l<o.length;){var p=o[l];l++,e.set(p.dataIndex,!0);for(var g=p.outEdges,f=0,m=g.length,v=void 0,y=void 0;f<m;f++)v=g[f],y=v.dataIndex,y>=0&&!t.hasKey(y)&&(t.set(y,!0),o.push(v.node2))}}}return{edge:t.keys(),node:e.keys()}},r}(),Qae=function(){function r(t,e,n){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=n??-1}return r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.edgeData.getItemModel(this.dataIndex);return n.getModel(t)}},r.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},r.prototype.getTrajectoryDataIndices=function(){var t=Xt(),e=Xt();t.set(this.dataIndex,!0);for(var n=[this.node1],i=[this.node2],a=0;a<n.length;){var s=n[a];a++,e.set(s.dataIndex,!0);for(var o=s.inEdges,l=0,u=o.length,c=void 0,f=void 0;l<u;l++)c=s.inEdges[l],f=c.dataIndex,f>=0&&!t.hasKey(f)&&(t.set(f,!0),n.push(c.node1))}for(a=0;a<i.length;){var h=i[a];a++,e.set(h.dataIndex,!0);for(var d=h.outEdges,l=0,u=d.length,A=void 0,p=void 0;l<u;l++)A=h.outEdges[l],p=A.dataIndex,p>=0&&!t.hasKey(p)&&(t.set(p,!0),i.push(A.node2))}return{edge:t.keys(),node:e.keys()}},r}();function zae(r,t){return{getValue:function(e){var n=this[r][t];return n.getStore().get(n.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,n){this.dataIndex>=0&&this[r][t].setItemVisual(this.dataIndex,e,n)},getVisual:function(e){return this[r][t].getItemVisual(this.dataIndex,e)},setLayout:function(e,n){this.dataIndex>=0&&this[r][t].setItemLayout(this.dataIndex,e,n)},getLayout:function(){return this[r][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[r][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[r][t].getRawIndex(this.dataIndex)}}}Ui(Ap,zae("hostGraph","data"));Ui(Qae,zae("hostGraph","edgeData"));function gP(r,t,e,n,i){for(var a=new kSe(n),s=0;s<r.length;s++)a.addNode(hs(r[s].id,r[s].name,s),s);for(var o=[],l=[],u=0,s=0;s<t.length;s++){var c=t[s],f=c.source,h=c.target;a.addEdge(f,h,u)&&(l.push(c),o.push(hs(Na(c.id,null),f+" > "+h)),u++)}var d=e.get("coordinateSystem"),A;if(d==="cartesian2d"||d==="polar"||d==="matrix")A=Df(r,e);else{var p=oy.get(d),g=p?p.dimensions||[]:[];Lr(g,"value")<0&&g.concat(["value"]);var m=fy(r,{coordDimensions:g,encodeDefine:e.getEncode()}).dimensions;A=new lo(m,e),A.initData(r)}var v=new lo(["value"],e);return v.initData(l,o),i&&i(A,v),_ae({mainData:A,struct:a,structAttr:"graph",datas:{node:A,edge:v},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var NSe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}this.legendVisualProvider=new gy(i,i),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){r.prototype.mergeDefaultAndTheme.apply(this,arguments),yg(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,n){var i=e.edges||e.links||[],a=e.data||e.nodes||[],s=this;if(a&&i){gSe(this);var o=gP(a,i,this,!0,l);return se(o.edges,function(u){mSe(u.node1,u.node2,this,u.dataIndex)},this),o.data}function l(u,c){u.wrapMethod("getItemModel",function(A){var p=s._categoriesModels,g=A.getShallow("category"),m=p[g];return m&&(m.parentModel=A.parentModel,A.parentModel=m),A});var f=qr.prototype.getModel;function h(A,p){var g=f.call(this,A,p);return g.resolveParentPath=d,g}c.wrapMethod("getItemModel",function(A){return A.resolveParentPath=d,A.getModel=h,A});function d(A){if(A&&(A[0]==="label"||A[1]==="label")){var p=A.slice();return A[0]==="label"?p[0]="edgeLabel":A[1]==="label"&&(p[1]="edgeLabel"),p}return A}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,n,i){if(i==="edge"){var a=this.getData(),s=this.getDataParams(e,i),o=a.graph.getEdgeByIndex(e),l=a.getName(o.node1.dataIndex),u=a.getName(o.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),ya("nameValue",{name:c.join(" > "),value:s.value,noValue:s.value==null})}var f=$re({series:this,dataIndex:e,multipleSeries:n});return f},t.prototype._updateCategoriesData=function(){var e=wt(this.option.categories||[],function(i){return i.value!=null?i:pt({value:0},i)}),n=new lo(["value"],this);n.initData(e),this._categoriesData=n,this._categoriesModels=n.mapArray(function(i){return n.getItemModel(i)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return r.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:Je.color.neutral50,width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:Je.color.primary}}},t}(Ln);function FSe(r){r.registerChartView(ESe),r.registerSeriesModel(NSe),r.registerProcessor(fSe),r.registerVisual(hSe),r.registerVisual(dSe),r.registerLayout(vSe),r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,xSe),r.registerLayout(wSe),r.registerCoordinateSystem("graphView",{dimensions:Wg.dimensions,create:SSe}),r.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Ri),r.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Ri),r.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(t,e,n){e.eachComponent({mainType:"series",query:t},function(i){var a=n.getViewOfSeriesModel(i);a&&(t.dx!=null&&t.dy!=null&&a.updateViewOnPan(i,n,t),t.zoom!=null&&t.originX!=null&&t.originY!=null&&a.updateViewOnZoom(i,n,t));var s=i.coordinateSystem,o=y8(s,t,i.get("scaleLimit"));i.setCenter&&i.setCenter(o.center),i.setZoom&&i.setZoom(o.zoom)})})}var RV=function(r){Ge(t,r);function t(e,n,i){var a=r.call(this)||this;pr(a).dataType="node",a.z2=2;var s=new nn;return a.setTextContent(s),a.updateData(e,n,i,!0),a}return t.prototype.updateData=function(e,n,i,a){var s=this,o=e.graph.getNodeByIndex(n),l=e.hostModel,u=o.getModel(),c=u.getModel("emphasis"),f=e.getItemLayout(n),h=pt(df(u.getModel("itemStyle"),f,!0),f),d=this;if(isNaN(h.startAngle)){d.setShape(h);return}a?d.setShape(h):ln(d,{shape:h},l,n);var A=pt(df(u.getModel("itemStyle"),f,!0),f);s.setShape(A),s.useStyle(e.getItemVisual(n,"style")),Ia(s,u),this._updateLabel(l,u,o),e.setItemGraphicEl(n,d),Ia(d,u,"itemStyle");var p=c.get("focus");di(this,p==="adjacency"?o.getAdjacentDataIndices():p,c.get("blurScope"),c.get("disabled"))},t.prototype._updateLabel=function(e,n,i){var a=this.getTextContent(),s=i.getLayout(),o=(s.startAngle+s.endAngle)/2,l=Math.cos(o),u=Math.sin(o),c=n.getModel("label");a.ignore=!c.get("show");var f=Ma(n),h=i.getVisual("style");Ja(a,f,{labelFetcher:{getFormattedLabel:function(v,y,b,_,T,I){return e.getFormattedLabel(v,y,"node",_,rl(T,f.normal&&f.normal.get("formatter"),n.get("name")),I)}},labelDataIndex:i.dataIndex,defaultText:i.dataIndex+"",inheritColor:h.fill,defaultOpacity:h.opacity,defaultOutsidePosition:"startArc"});var d=c.get("position")||"outside",A=c.get("distance")||0,p;d==="outside"?p=s.r+A:p=(s.r+s.r0)/2,this.textConfig={inside:d!=="outside"};var g=d!=="outside"?c.get("align")||"center":l>0?"left":"right",m=d!=="outside"?c.get("verticalAlign")||"middle":u>0?"top":"bottom";a.attr({x:l*p+s.cx,y:u*p+s.cy,rotation:0,style:{align:g,verticalAlign:m}})},t}(Us),ISe=function(r){Ge(t,r);function t(e,n,i,a){var s=r.call(this)||this;return pr(s).dataType="edge",s.updateData(e,n,i,a,!0),s}return t.prototype.buildPath=function(e,n){e.moveTo(n.s1[0],n.s1[1]);var i=.7,a=n.clockwise;e.arc(n.cx,n.cy,n.r,n.sStartAngle,n.sEndAngle,!a),e.bezierCurveTo((n.cx-n.s2[0])*i+n.s2[0],(n.cy-n.s2[1])*i+n.s2[1],(n.cx-n.t1[0])*i+n.t1[0],(n.cy-n.t1[1])*i+n.t1[1],n.t1[0],n.t1[1]),e.arc(n.cx,n.cy,n.r,n.tStartAngle,n.tEndAngle,!a),e.bezierCurveTo((n.cx-n.t2[0])*i+n.t2[0],(n.cy-n.t2[1])*i+n.t2[1],(n.cx-n.s1[0])*i+n.s1[0],(n.cy-n.s1[1])*i+n.s1[1],n.s1[0],n.s1[1]),e.closePath()},t.prototype.updateData=function(e,n,i,a,s){var o=e.hostModel,l=n.graph.getEdgeByIndex(i),u=l.getLayout(),c=l.node1.getModel(),f=n.getItemModel(l.dataIndex),h=f.getModel("lineStyle"),d=f.getModel("emphasis"),A=d.get("focus"),p=pt(df(c.getModel("itemStyle"),u,!0),u),g=this;if(isNaN(p.sStartAngle)||isNaN(p.tStartAngle)){g.setShape(p);return}s?(g.setShape(p),OV(g,l,e,h)):(Fu(g),OV(g,l,e,h),ln(g,{shape:p},o,i)),di(this,A==="adjacency"?l.getAdjacentDataIndices():A,d.get("blurScope"),d.get("disabled")),Ia(g,f,"lineStyle"),n.setItemGraphicEl(l.dataIndex,g)},t}(Xr);function OV(r,t,e,n){var i=t.node1,a=t.node2,s=r.style;r.setStyle(n.getLineStyle());var o=n.get("color");switch(o){case"source":s.fill=e.getItemVisual(i.dataIndex,"style").fill,s.decal=i.getVisual("style").decal;break;case"target":s.fill=e.getItemVisual(a.dataIndex,"style").fill,s.decal=a.getVisual("style").decal;break;case"gradient":var l=e.getItemVisual(i.dataIndex,"style").fill,u=e.getItemVisual(a.dataIndex,"style").fill;if(Ht(l)&&Ht(u)){var c=r.shape,f=(c.s1[0]+c.s2[0])/2,h=(c.s1[1]+c.s2[1])/2,d=(c.t1[0]+c.t2[0])/2,A=(c.t1[1]+c.t2[1])/2;s.fill=new jg(f,h,d,A,[{offset:0,color:l},{offset:1,color:u}],!0)}break}}var MSe=Math.PI/180,LSe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){},t.prototype.render=function(e,n,i){var a=e.getData(),s=this._data,o=this.group,l=-e.get("startAngle")*MSe;if(a.diff(s).add(function(c){var f=a.getItemLayout(c);if(f){var h=new RV(a,c,l);pr(h).dataIndex=c,o.add(h)}}).update(function(c,f){var h=s.getItemGraphicEl(f),d=a.getItemLayout(c);if(!d){h&&kh(h,e,f);return}h?h.updateData(a,c,l):h=new RV(a,c,l),o.add(h)}).remove(function(c){var f=s.getItemGraphicEl(c);f&&kh(f,e,c)}).execute(),!s){var u=e.get("center");this.group.scaleX=.01,this.group.scaleY=.01,this.group.originX=Ut(u[0],i.getWidth()),this.group.originY=Ut(u[1],i.getHeight()),ni(this.group,{scaleX:1,scaleY:1},e)}this._data=a,this.renderEdges(e,l)},t.prototype.renderEdges=function(e,n){var i=e.getData(),a=e.getEdgeData(),s=this._edgeData,o=this.group;a.diff(s).add(function(l){var u=new ISe(i,a,l,n);pr(u).dataIndex=l,o.add(u)}).update(function(l,u){var c=s.getItemGraphicEl(u);c.updateData(i,a,l,n),o.add(c)}).remove(function(l){var u=s.getItemGraphicEl(l);u&&kh(u,e,l)}).execute(),this._edgeData=a},t.prototype.dispose=function(){},t.type="chord",t}(Nn),DSe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this.legendVisualProvider=new gy(Qt(this.getData,this),Qt(this.getRawData,this))},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links)},t.prototype.getInitialData=function(e,n){var i=e.edges||e.links||[],a=e.data||e.nodes||[];if(a&&i){var s=gP(a,i,this,!0,o);return s.data}function o(l,u){var c=qr.prototype.getModel;function f(d,A){var p=c.call(this,d,A);return p.resolveParentPath=h,p}u.wrapMethod("getItemModel",function(d){return d.resolveParentPath=h,d.getModel=f,d});function h(d){if(d&&(d[0]==="label"||d[1]==="label")){var A=d.slice();return d[0]==="label"?A[0]="edgeLabel":d[1]==="label"&&(A[1]="edgeLabel"),A}return d}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,n,i){var a=this.getDataParams(e,i);if(i==="edge"){var s=this.getData(),o=s.graph.getEdgeByIndex(e),l=s.getName(o.node1.dataIndex),u=s.getName(o.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),ya("nameValue",{name:c.join(" > "),value:a.value,noValue:a.value==null})}return ya("nameValue",{name:a.name,value:a.value,noValue:a.value==null})},t.prototype.getDataParams=function(e,n){var i=r.prototype.getDataParams.call(this,e,n);if(n==="node"){var a=this.getData(),s=this.getGraph().getNodeByIndex(e);if(i.name==null&&(i.name=a.getName(e)),i.value==null){var o=s.getLayout().value;i.value=o}}return i},t.type="series.chord",t.defaultOption={z:2,coordinateSystem:"none",legendHoverLink:!0,colorBy:"data",left:0,top:0,right:0,bottom:0,width:null,height:null,center:["50%","50%"],radius:["70%","80%"],clockwise:!0,startAngle:90,endAngle:"auto",minAngle:0,padAngle:3,itemStyle:{borderRadius:[0,0,5,5]},lineStyle:{width:0,color:"source",opacity:.2},label:{show:!0,position:"outside",distance:5},emphasis:{focus:"adjacency",lineStyle:{opacity:.5}}},t}(Ln),PE=Math.PI/180;function PSe(r,t){r.eachSeriesByType("chord",function(e){RSe(e,t)})}function RSe(r,t){var e=r.getData(),n=e.graph,i=r.getEdgeData(),a=i.count();if(a){var s=hre(r,t),o=s.cx,l=s.cy,u=s.r,c=s.r0,f=Math.max((r.get("padAngle")||0)*PE,0),h=Math.max((r.get("minAngle")||0)*PE,0),d=-r.get("startAngle")*PE,A=d+Math.PI*2,p=r.get("clockwise"),g=p?1:-1,m=[d,A];t8(m,!p);var v=m[0],y=m[1],b=y-v,_=e.getSum("value")===0&&i.getSum("value")===0,T=[],I=0;n.eachEdge(function(S){var B=_?1:S.getValue("value");_&&(B>0||h)&&(I+=2);var O=S.node1.dataIndex,V=S.node2.dataIndex;T[O]=(T[O]||0)+B,T[V]=(T[V]||0)+B});var N=0;if(n.eachNode(function(S){var B=S.getValue("value");isNaN(B)||(T[S.dataIndex]=Math.max(B,T[S.dataIndex]||0)),!_&&(T[S.dataIndex]>0||h)&&I++,N+=T[S.dataIndex]||0}),!(I===0||N===0)){f*I>=Math.abs(b)&&(f=Math.max(0,(Math.abs(b)-h*I)/I)),(f+h)*I>=Math.abs(b)&&(h=(Math.abs(b)-f*I)/I);var F=(b-f*I*g)/N,P=0,D=0,R=0;n.eachNode(function(S){var B=T[S.dataIndex]||0,O=F*(N?B:1)*g;Math.abs(O)<h?P+=h-Math.abs(O):(D+=Math.abs(O)-h,R+=Math.abs(O)),S.setLayout({angle:O,value:B})});var E=!1;if(P>D){var L=P/D;n.eachNode(function(S){var B=S.getLayout().angle;Math.abs(B)>=h?S.setLayout({angle:B*L,ratio:L},!0):S.setLayout({angle:h,ratio:h===0?1:B/h},!0)})}else n.eachNode(function(S){if(!E){var B=S.getLayout().angle,O=Math.min(B/R,1),V=O*P;B-V<h&&(E=!0)}});var k=P;n.eachNode(function(S){if(!(k<=0)){var B=S.getLayout().angle;if(B>h&&h>0){var O=E?1:Math.min(B/R,1),V=B-h,M=Math.min(V,Math.min(k,P*O));k-=M,S.setLayout({angle:B-M,ratio:(B-M)/B},!0)}else h>0&&S.setLayout({angle:h,ratio:B===0?1:h/B},!0)}});var w=v,C=[];n.eachNode(function(S){var B=Math.max(S.getLayout().angle,h);S.setLayout({cx:o,cy:l,r0:c,r:u,startAngle:w,endAngle:w+B*g,clockwise:p},!0),C[S.dataIndex]=w,w+=(B+f)*g}),n.eachEdge(function(S){var B=_?1:S.getValue("value"),O=F*(N?B:1)*g,V=S.node1.dataIndex,M=C[V]||0,U=Math.abs((S.node1.getLayout().ratio||1)*O),Q=M+U*g,W=[o+c*Math.cos(M),l+c*Math.sin(M)],j=[o+c*Math.cos(Q),l+c*Math.sin(Q)],X=S.node2.dataIndex,z=C[X]||0,H=Math.abs((S.node2.getLayout().ratio||1)*O),K=z+H*g,Z=[o+c*Math.cos(z),l+c*Math.sin(z)],ie=[o+c*Math.cos(K),l+c*Math.sin(K)];S.setLayout({s1:W,s2:j,sStartAngle:M,sEndAngle:Q,t1:Z,t2:ie,tStartAngle:z,tEndAngle:K,cx:o,cy:l,r:c,value:B,clockwise:p}),C[V]=Q,C[X]=K})}}}function OSe(r){r.registerChartView(LSe),r.registerSeriesModel(DSe),r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,PSe),r.registerProcessor(Ay("chord"))}var jSe=function(){function r(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return r}(),USe=function(r){Ge(t,r);function t(e){var n=r.call(this,e)||this;return n.type="pointer",n}return t.prototype.getDefaultShape=function(){return new jSe},t.prototype.buildPath=function(e,n){var i=Math.cos,a=Math.sin,s=n.r,o=n.width,l=n.angle,u=n.x-i(l)*o*(o>=s/3?1:2),c=n.y-a(l)*o*(o>=s/3?1:2);l=n.angle-Math.PI/2,e.moveTo(u,c),e.lineTo(n.x+i(l)*o,n.y+a(l)*o),e.lineTo(n.x+i(n.angle)*s,n.y+a(n.angle)*s),e.lineTo(n.x-i(l)*o,n.y-a(l)*o),e.lineTo(u,c)},t}(Xr);function HSe(r,t){var e=r.get("center"),n=t.getWidth(),i=t.getHeight(),a=Math.min(n,i),s=Ut(e[0],t.getWidth()),o=Ut(e[1],t.getHeight()),l=Ut(r.get("radius"),a/2);return{cx:s,cy:o,r:l}}function i4(r,t){var e=r==null?"":r+"";return t&&(Ht(t)?e=t.replace("{value}",e):rr(t)&&(e=t(r))),e}var QSe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){this.group.removeAll();var a=e.get(["axisLine","lineStyle","color"]),s=HSe(e,i);this._renderMain(e,n,i,a,s),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,n,i,a,s){var o=this.group,l=e.get("clockwise"),u=-e.get("startAngle")/180*Math.PI,c=-e.get("endAngle")/180*Math.PI,f=e.getModel("axisLine"),h=f.get("roundCap"),d=h?m6:Us,A=f.get("show"),p=f.getModel("lineStyle"),g=p.get("width"),m=[u,c];t8(m,!l),u=m[0],c=m[1];for(var v=c-u,y=u,b=[],_=0;A&&_<a.length;_++){var T=Math.min(Math.max(a[_][0],0),1);c=u+v*T;var I=new d({shape:{startAngle:y,endAngle:c,cx:s.cx,cy:s.cy,clockwise:l,r0:s.r-g,r:s.r},silent:!0});I.setStyle({fill:a[_][1]}),I.setStyle(p.getLineStyle(["color","width"])),b.push(I),y=c}b.reverse(),se(b,function(F){return o.add(F)});var N=function(F){if(F<=0)return a[0][1];var P;for(P=0;P<a.length;P++)if(a[P][0]>=F&&(P===0?0:a[P-1][0])<F)return a[P][1];return a[P-1][1]};this._renderTicks(e,n,i,N,s,u,c,l,g),this._renderTitleAndDetail(e,n,i,N,s),this._renderAnchor(e,s),this._renderPointer(e,n,i,N,s,u,c,l,g)},t.prototype._renderTicks=function(e,n,i,a,s,o,l,u,c){for(var f=this.group,h=s.cx,d=s.cy,A=s.r,p=+e.get("min"),g=+e.get("max"),m=e.getModel("splitLine"),v=e.getModel("axisTick"),y=e.getModel("axisLabel"),b=e.get("splitNumber"),_=v.get("splitNumber"),T=Ut(m.get("length"),A),I=Ut(v.get("length"),A),N=o,F=(l-o)/b,P=F/_,D=m.getModel("lineStyle").getLineStyle(),R=v.getModel("lineStyle").getLineStyle(),E=m.get("distance"),L,k,w=0;w<=b;w++){if(L=Math.cos(N),k=Math.sin(N),m.get("show")){var C=E?E+c:c,S=new ra({shape:{x1:L*(A-C)+h,y1:k*(A-C)+d,x2:L*(A-T-C)+h,y2:k*(A-T-C)+d},style:D,silent:!0});D.stroke==="auto"&&S.setStyle({stroke:a(w/b)}),f.add(S)}if(y.get("show")){var C=y.get("distance")+E,B=i4(ta(w/b*(g-p)+p),y.get("formatter")),O=a(w/b),V=L*(A-T-C)+h,M=k*(A-T-C)+d,U=y.get("rotate"),Q=0;U==="radial"?(Q=-N+2*Math.PI,Q>Math.PI/2&&(Q+=Math.PI)):U==="tangential"?Q=-N-Math.PI/2:an(U)&&(Q=U*Math.PI/180),Q===0?f.add(new nn({style:jn(y,{text:B,x:V,y:M,verticalAlign:k<-.8?"top":k>.8?"bottom":"middle",align:L<-.4?"left":L>.4?"right":"center"},{inheritColor:O}),silent:!0})):f.add(new nn({style:jn(y,{text:B,x:V,y:M,verticalAlign:"middle",align:"center"},{inheritColor:O}),silent:!0,originX:V,originY:M,rotation:Q}))}if(v.get("show")&&w!==b){var C=v.get("distance");C=C?C+c:c;for(var W=0;W<=_;W++){L=Math.cos(N),k=Math.sin(N);var j=new ra({shape:{x1:L*(A-C)+h,y1:k*(A-C)+d,x2:L*(A-I-C)+h,y2:k*(A-I-C)+d},silent:!0,style:R});R.stroke==="auto"&&j.setStyle({stroke:a((w+W/_)/b)}),f.add(j),N+=P}N-=P}else N+=F}},t.prototype._renderPointer=function(e,n,i,a,s,o,l,u,c){var f=this.group,h=this._data,d=this._progressEls,A=[],p=e.get(["pointer","show"]),g=e.getModel("progress"),m=g.get("show"),v=e.getData(),y=v.mapDimension("value"),b=+e.get("min"),_=+e.get("max"),T=[b,_],I=[o,l];function N(P,D){var R=v.getItemModel(P),E=R.getModel("pointer"),L=Ut(E.get("width"),s.r),k=Ut(E.get("length"),s.r),w=e.get(["pointer","icon"]),C=E.get("offsetCenter"),S=Ut(C[0],s.r),B=Ut(C[1],s.r),O=E.get("keepAspect"),V;return w?V=ia(w,S-L/2,B-k,L,k,null,O):V=new USe({shape:{angle:-Math.PI/2,width:L,r:k,x:S,y:B}}),V.rotation=-(D+Math.PI/2),V.x=s.cx,V.y=s.cy,V}function F(P,D){var R=g.get("roundCap"),E=R?m6:Us,L=g.get("overlap"),k=L?g.get("width"):c/v.count(),w=L?s.r-k:s.r-(P+1)*k,C=L?s.r:s.r-P*k,S=new E({shape:{startAngle:o,endAngle:D,cx:s.cx,cy:s.cy,clockwise:u,r0:w,r:C}});return L&&(S.z2=gn(v.get(y,P),[b,_],[100,0],!0)),S}(m||p)&&(v.diff(h).add(function(P){var D=v.get(y,P);if(p){var R=N(P,o);ni(R,{rotation:-((isNaN(+D)?I[0]:gn(D,T,I,!0))+Math.PI/2)},e),f.add(R),v.setItemGraphicEl(P,R)}if(m){var E=F(P,o),L=g.get("clip");ni(E,{shape:{endAngle:gn(D,T,I,L)}},e),f.add(E),dF(e.seriesIndex,v.dataType,P,E),A[P]=E}}).update(function(P,D){var R=v.get(y,P);if(p){var E=h.getItemGraphicEl(D),L=E?E.rotation:o,k=N(P,L);k.rotation=L,ln(k,{rotation:-((isNaN(+R)?I[0]:gn(R,T,I,!0))+Math.PI/2)},e),f.add(k),v.setItemGraphicEl(P,k)}if(m){var w=d[D],C=w?w.shape.endAngle:o,S=F(P,C),B=g.get("clip");ln(S,{shape:{endAngle:gn(R,T,I,B)}},e),f.add(S),dF(e.seriesIndex,v.dataType,P,S),A[P]=S}}).execute(),v.each(function(P){var D=v.getItemModel(P),R=D.getModel("emphasis"),E=R.get("focus"),L=R.get("blurScope"),k=R.get("disabled");if(p){var w=v.getItemGraphicEl(P),C=v.getItemVisual(P,"style"),S=C.fill;if(w instanceof es){var B=w.style;w.useStyle(pt({image:B.image,x:B.x,y:B.y,width:B.width,height:B.height},C))}else w.useStyle(C),w.type!=="pointer"&&w.setColor(S);w.setStyle(D.getModel(["pointer","itemStyle"]).getItemStyle()),w.style.fill==="auto"&&w.setStyle("fill",a(gn(v.get(y,P),T,[0,1],!0))),w.z2EmphasisLift=0,Ia(w,D),di(w,E,L,k)}if(m){var O=A[P];O.useStyle(v.getItemVisual(P,"style")),O.setStyle(D.getModel(["progress","itemStyle"]).getItemStyle()),O.z2EmphasisLift=0,Ia(O,D),di(O,E,L,k)}}),this._progressEls=A)},t.prototype._renderAnchor=function(e,n){var i=e.getModel("anchor"),a=i.get("show");if(a){var s=i.get("size"),o=i.get("icon"),l=i.get("offsetCenter"),u=i.get("keepAspect"),c=ia(o,n.cx-s/2+Ut(l[0],n.r),n.cy-s/2+Ut(l[1],n.r),s,s,null,u);c.z2=i.get("showAbove")?1:0,c.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(c)}},t.prototype._renderTitleAndDetail=function(e,n,i,a,s){var o=this,l=e.getData(),u=l.mapDimension("value"),c=+e.get("min"),f=+e.get("max"),h=new ir,d=[],A=[],p=e.isAnimationEnabled(),g=e.get(["pointer","showAbove"]);l.diff(this._data).add(function(m){d[m]=new nn({silent:!0}),A[m]=new nn({silent:!0})}).update(function(m,v){d[m]=o._titleEls[v],A[m]=o._detailEls[v]}).execute(),l.each(function(m){var v=l.getItemModel(m),y=l.get(u,m),b=new ir,_=a(gn(y,[c,f],[0,1],!0)),T=v.getModel("title");if(T.get("show")){var I=T.get("offsetCenter"),N=s.cx+Ut(I[0],s.r),F=s.cy+Ut(I[1],s.r),P=d[m];P.attr({z2:g?0:2,style:jn(T,{x:N,y:F,text:l.getName(m),align:"center",verticalAlign:"middle"},{inheritColor:_})}),b.add(P)}var D=v.getModel("detail");if(D.get("show")){var R=D.get("offsetCenter"),E=s.cx+Ut(R[0],s.r),L=s.cy+Ut(R[1],s.r),k=Ut(D.get("width"),s.r),w=Ut(D.get("height"),s.r),C=e.get(["progress","show"])?l.getItemVisual(m,"style").fill:_,P=A[m],S=D.get("formatter");P.attr({z2:g?0:2,style:jn(D,{x:E,y:L,text:i4(y,S),width:isNaN(k)?null:k,height:isNaN(w)?null:w,align:"center",verticalAlign:"middle"},{inheritColor:C})}),Kte(P,{normal:D},y,function(O){return i4(O,S)}),p&&qte(P,m,l,e,{getFormattedLabel:function(O,V,M,U,Q,W){return i4(W?W.interpolatedValue:y,S)}}),b.add(P)}h.add(b)}),this.group.add(h),this._titleEls=d,this._detailEls=A},t.type="gauge",t}(Nn),zSe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e}return t.prototype.getInitialData=function(e,n){return py(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,Je.color.neutral10]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:Je.color.axisTick,width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:Je.color.axisTickMinor,width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:Je.color.axisLabel,fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:Je.color.neutral00,borderWidth:0,borderColor:Je.color.theme[0]}},title:{show:!0,offsetCenter:[0,"20%"],color:Je.color.secondary,fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:Je.color.transparent,borderWidth:0,borderColor:Je.color.neutral40,width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:Je.color.primary,fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(Ln);function VSe(r){r.registerChartView(QSe),r.registerSeriesModel(zSe)}var GSe=["itemStyle","opacity"],WSe=function(r){Ge(t,r);function t(e,n){var i=r.call(this)||this,a=i,s=new gs,o=new nn;return a.setTextContent(o),i.setTextGuideLine(s),i.updateData(e,n,!0),i}return t.prototype.updateData=function(e,n,i){var a=this,s=e.hostModel,o=e.getItemModel(n),l=e.getItemLayout(n),u=o.getModel("emphasis"),c=o.get(GSe);c=c??1,i||Fu(a),a.useStyle(e.getItemVisual(n,"style")),a.style.lineJoin="round",i?(a.setShape({points:l.points}),a.style.opacity=0,ni(a,{style:{opacity:c}},s,n)):ln(a,{style:{opacity:c},shape:{points:l.points}},s,n),Ia(a,o),this._updateLabel(e,n),di(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e,n){var i=this,a=this.getTextGuideLine(),s=i.getTextContent(),o=e.hostModel,l=e.getItemModel(n),u=e.getItemLayout(n),c=u.label,f=e.getItemVisual(n,"style"),h=f.fill;Ja(s,Ma(l),{labelFetcher:e.hostModel,labelDataIndex:n,defaultOpacity:f.opacity,defaultText:e.getName(n)},{normal:{align:c.textAlign,verticalAlign:c.verticalAlign}});var d=l.getModel("label"),A=d.get("color"),p=A==="inherit"?h:null;i.setTextConfig({local:!0,inside:!!c.inside,insideStroke:p,outsideFill:p});var g=c.linePoints;a.setShape({points:g}),i.textGuideLineConfig={anchor:g?new cr(g[0][0],g[0][1]):null},ln(s,{style:{x:c.x,y:c.y}},o,n),s.attr({rotation:c.rotation,originX:c.x,originY:c.y,z2:10}),z9(i,V9(l),{stroke:h})},t}(Hs),$Se=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,n,i){var a=e.getData(),s=this._data,o=this.group;a.diff(s).add(function(l){var u=new WSe(a,l);a.setItemGraphicEl(l,u),o.add(u)}).update(function(l,u){var c=s.getItemGraphicEl(u);c.updateData(a,l),o.add(c),a.setItemGraphicEl(l,c)}).remove(function(l){var u=s.getItemGraphicEl(l);kh(u,e,l)}).execute(),this._data=a},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(Nn),KSe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new gy(Qt(this.getData,this),Qt(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.getInitialData=function(e,n){return py(this,{coordDimensions:["value"],encodeDefaulter:Nr(g9,this)})},t.prototype._defaultLabelLine=function(e){yg(e,"labelLine",["show"]);var n=e.labelLine,i=e.emphasis.labelLine;n.show=n.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.prototype.getDataParams=function(e){var n=this.getData(),i=r.prototype.getDataParams.call(this,e),a=n.mapDimension("value"),s=n.getSum(a);return i.percent=s?+(n.get(a,e)/s*100).toFixed(2):0,i.$vars.push("percent"),i},t.type="series.funnel",t.defaultOption={coordinateSystemUsage:"box",z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:65,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:Je.color.neutral00,borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:Je.color.primary}}},t}(Ln);function qSe(r,t){for(var e=r.mapDimension("value"),n=r.mapArray(e,function(l){return l}),i=[],a=t==="ascending",s=0,o=r.count();s<o;s++)i[s]=s;return rr(t)?i.sort(t):t!=="none"&&i.sort(function(l,u){return a?n[l]-n[u]:n[u]-n[l]}),i}function XSe(r){var t=r.hostModel,e=t.get("orient");r.each(function(n){var i=r.getItemModel(n),a=i.getModel("label"),s=a.get("position"),o=i.getModel("labelLine"),l=r.getItemLayout(n),u=l.points,c=s==="inner"||s==="inside"||s==="center"||s==="insideLeft"||s==="insideRight",f,h,d,A;if(c)s==="insideLeft"?(h=(u[0][0]+u[3][0])/2+5,d=(u[0][1]+u[3][1])/2,f="left"):s==="insideRight"?(h=(u[1][0]+u[2][0])/2-5,d=(u[1][1]+u[2][1])/2,f="right"):(h=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,d=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,f="center"),A=[[h,d],[h,d]];else{var p=void 0,g=void 0,m=void 0,v=void 0,y=o.get("length");s==="left"?(p=(u[3][0]+u[0][0])/2,g=(u[3][1]+u[0][1])/2,m=p-y,h=m-5,f="right"):s==="right"?(p=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,m=p+y,h=m+5,f="left"):s==="top"?(p=(u[3][0]+u[0][0])/2,g=(u[3][1]+u[0][1])/2,v=g-y,d=v-5,f="center"):s==="bottom"?(p=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,v=g+y,d=v+5,f="center"):s==="rightTop"?(p=e==="horizontal"?u[3][0]:u[1][0],g=e==="horizontal"?u[3][1]:u[1][1],e==="horizontal"?(v=g-y,d=v-5,f="center"):(m=p+y,h=m+5,f="top")):s==="rightBottom"?(p=u[2][0],g=u[2][1],e==="horizontal"?(v=g+y,d=v+5,f="center"):(m=p+y,h=m+5,f="bottom")):s==="leftTop"?(p=u[0][0],g=e==="horizontal"?u[0][1]:u[1][1],e==="horizontal"?(v=g-y,d=v-5,f="center"):(m=p-y,h=m-5,f="right")):s==="leftBottom"?(p=e==="horizontal"?u[1][0]:u[3][0],g=e==="horizontal"?u[1][1]:u[2][1],e==="horizontal"?(v=g+y,d=v+5,f="center"):(m=p-y,h=m-5,f="right")):(p=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,e==="horizontal"?(v=g+y,d=v+5,f="center"):(m=p+y,h=m+5,f="left")),e==="horizontal"?(m=p,h=m):(v=g,d=v),A=[[p,g],[m,v]]}l.label={linePoints:A,x:h,y:d,verticalAlign:"middle",textAlign:f,inside:c}})}function YSe(r,t){r.eachSeriesByType("funnel",function(e){var n=e.getData(),i=n.mapDimension("value"),a=e.get("sort"),s=La(e,t),o=li(e.getBoxLayoutParams(),s.refContainer),l=e.get("orient"),u=o.width,c=o.height,f=qSe(n,a),h=o.x,d=o.y,A=l==="horizontal"?[Ut(e.get("minSize"),c),Ut(e.get("maxSize"),c)]:[Ut(e.get("minSize"),u),Ut(e.get("maxSize"),u)],p=n.getDataExtent(i),g=e.get("min"),m=e.get("max");g==null&&(g=Math.min(p[0],0)),m==null&&(m=p[1]);var v=e.get("funnelAlign"),y=e.get("gap"),b=l==="horizontal"?u:c,_=(b-y*(n.count()-1))/n.count(),T=function(k,w){if(l==="horizontal"){var C=n.get(i,k)||0,S=gn(C,[g,m],A,!0),B=void 0;switch(v){case"top":B=d;break;case"center":B=d+(c-S)/2;break;case"bottom":B=d+(c-S);break}return[[w,B],[w,B+S]]}var O=n.get(i,k)||0,V=gn(O,[g,m],A,!0),M;switch(v){case"left":M=h;break;case"center":M=h+(u-V)/2;break;case"right":M=h+u-V;break}return[[M,w],[M+V,w]]};a==="ascending"&&(_=-_,y=-y,l==="horizontal"?h+=u:d+=c,f=f.reverse());for(var I=0;I<f.length;I++){var N=f[I],F=f[I+1],P=n.getItemModel(N);if(l==="horizontal"){var D=P.get(["itemStyle","width"]);D==null?D=_:(D=Ut(D,u),a==="ascending"&&(D=-D));var R=T(N,h),E=T(F,h+D);h+=D+y,n.setItemLayout(N,{points:R.concat(E.slice().reverse())})}else{var L=P.get(["itemStyle","height"]);L==null?L=_:(L=Ut(L,c),a==="ascending"&&(L=-L));var R=T(N,d),E=T(F,d+L);d+=L+y,n.setItemLayout(N,{points:R.concat(E.slice().reverse())})}}XSe(n)})}function ZSe(r){r.registerChartView($Se),r.registerSeriesModel(KSe),r.registerLayout(YSe),r.registerProcessor(Ay("funnel"))}var JSe=.3,e6e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new ir,e._initialized=!1,e}return t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,n,i,a){this._progressiveEls=null;var s=this._dataGroup,o=e.getData(),l=this._data,u=e.coordinateSystem,c=u.dimensions,f=UV(e);o.diff(l).add(h).update(d).remove(A).execute();function h(g){var m=jV(o,s,g,c,u);RE(m,o,g,f)}function d(g,m){var v=l.getItemGraphicEl(m),y=Vae(o,g,c,u);o.setItemGraphicEl(g,v),ln(v,{shape:{points:y}},e,g),Fu(v),RE(v,o,g,f)}function A(g){var m=l.getItemGraphicEl(g);s.remove(m)}if(!this._initialized){this._initialized=!0;var p=t6e(u,e,function(){setTimeout(function(){s.removeClipPath()})});s.setClipPath(p)}this._data=o},t.prototype.incrementalPrepareRender=function(e,n,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,n,i){for(var a=n.getData(),s=n.coordinateSystem,o=s.dimensions,l=UV(n),u=this._progressiveEls=[],c=e.start;c<e.end;c++){var f=jV(a,this._dataGroup,c,o,s);f.incremental=!0,RE(f,a,c,l),u.push(f)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(Nn);function t6e(r,t,e){var n=r.model,i=r.getRect(),a=new zr({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),s=n.get("layout")==="horizontal"?"width":"height";return a.setShape(s,0),ni(a,{shape:{width:i.width,height:i.height}},t,e),a}function Vae(r,t,e,n){for(var i=[],a=0;a<e.length;a++){var s=e[a],o=r.get(r.mapDimension(s),t);r6e(o,n.getAxis(s).type)||i.push(n.dataToPoint(o,s))}return i}function jV(r,t,e,n,i){var a=Vae(r,e,n,i),s=new gs({shape:{points:a},z2:10});return t.add(s),r.setItemGraphicEl(e,s),s}function UV(r){var t=r.get("smooth",!0);return t===!0&&(t=JSe),t=Tf(t),Ds(t)&&(t=0),{smooth:t}}function RE(r,t,e,n){r.useStyle(t.getItemVisual(e,"style")),r.style.fill=null,r.setShape("smooth",n.smooth);var i=t.getItemModel(e),a=i.getModel("emphasis");Ia(r,i,"lineStyle"),di(r,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function r6e(r,t){return t==="category"?r==null:r==null||isNaN(r)}var n6e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return t.prototype.getInitialData=function(e,n){return Df(null,this,{useEncodeDefaulter:Qt(i6e,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var n=this.coordinateSystem,i=this.getData(),a=[];return n.eachActiveState(i,function(s,o){e===s&&a.push(i.getRawIndex(o))}),a},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(Ln);function i6e(r){var t=r.ecModel.getComponent("parallel",r.get("parallelIndex"));if(t){var e={};return se(t.dimensions,function(n){var i=a6e(n);e[n]=i}),e}}function a6e(r){return+r.replace("dim","")}var s6e=["lineStyle","opacity"],o6e={seriesType:"parallel",reset:function(r,t){var e=r.coordinateSystem,n={normal:r.get(["lineStyle","opacity"]),active:r.get("activeOpacity"),inactive:r.get("inactiveOpacity")};return{progress:function(i,a){e.eachActiveState(a,function(s,o){var l=n[s];if(s==="normal"&&a.hasItemOption){var u=a.getItemModel(o).get(s6e,!0);u!=null&&(l=u)}var c=a.ensureUniqueItemVisual(o,"style");c.opacity=l},i.start,i.end)}}}};function l6e(r){u6e(r),c6e(r)}function u6e(r){if(!r.parallel){var t=!1;se(r.series,function(e){e&&e.type==="parallel"&&(t=!0)}),t&&(r.parallel=[{}])}}function c6e(r){var t=Un(r.parallelAxis);se(t,function(e){if(or(e)){var n=e.parallelIndex||0,i=Un(r.parallel)[n];i&&i.parallelAxisDefault&&Dr(e,i.parallelAxisDefault,!1)}})}var f6e=5,h6e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){this._model=e,this._api=i,this._handlers||(this._handlers={},se(d6e,function(a,s){i.getZr().on(s,this._handlers[s]=Qt(a,this))},this)),uy(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,n){Rb(this,"_throttledDispatchExpand"),se(this._handlers,function(i,a){n.getZr().off(a,i)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(pt({type:"parallelAxisExpand"},e))},t.type="parallel",t}(Hn),d6e={mousedown:function(r){OE(this,"click")&&(this._mouseDownPoint=[r.offsetX,r.offsetY])},mouseup:function(r){var t=this._mouseDownPoint;if(OE(this,"click")&&t){var e=[r.offsetX,r.offsetY],n=Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2);if(n>f6e)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(r){if(!(this._mouseDownPoint||!OE(this,"mousemove"))){var t=this._model,e=t.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]),n=e.behavior;n==="jump"&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand(n==="none"?null:{axisExpandWindow:e.axisExpandWindow,animation:n==="jump"?null:{duration:0}})}}};function OE(r,t){var e=r._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===t}var A6e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){r.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){var n=this.option;e&&Dr(n,e,!0),this._initDimensions()},t.prototype.contains=function(e,n){var i=e.get("parallelIndex");return i!=null&&n.getComponent("parallel",i)===this},t.prototype.setAxisExpand=function(e){se(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(n){e.hasOwnProperty(n)&&(this.option[n]=e[n])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],n=this.parallelAxisIndex=[],i=dn(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);se(i,function(a){e.push("dim"+a.get("dim")),n.push(a.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}($r),p6e=function(r){Ge(t,r);function t(e,n,i,a,s){var o=r.call(this,e,n,i)||this;return o.type=a||"value",o.axisIndex=s,o}return t.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},t}(Du);function ZA(r,t,e,n,i,a){r=r||0;var s=e[1]-e[0];if(i!=null&&(i=Bm(i,[0,s])),a!=null&&(a=Math.max(a,i??0)),n==="all"){var o=Math.abs(t[1]-t[0]);o=Bm(o,[0,s]),i=a=Bm(o,[i,a]),n=0}t[0]=Bm(t[0],e),t[1]=Bm(t[1],e);var l=jE(t,n);t[n]+=r;var u=i||0,c=e.slice();l.sign<0?c[0]+=u:c[1]-=u,t[n]=Bm(t[n],c);var f;return f=jE(t,n),i!=null&&(f.sign!==l.sign||f.span<i)&&(t[1-n]=t[n]+l.sign*i),f=jE(t,n),a!=null&&f.span>a&&(t[1-n]=t[n]+f.sign*a),t}function jE(r,t){var e=r[t]-r[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function Bm(r,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,r))}var UE=se,Gae=Math.min,Wae=Math.max,HV=Math.floor,g6e=Math.ceil,QV=ta,m6e=Math.PI,v6e=function(){function r(t,e,n){this.type="parallel",this._axesMap=Xt(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,n)}return r.prototype._init=function(t,e,n){var i=t.dimensions,a=t.parallelAxisIndex;UE(i,function(s,o){var l=a[o],u=e.getComponent("parallelAxis",l),c=this._axesMap.set(s,new p6e(s,qw(u),[0,0],u.get("type"),l)),f=c.type==="category";c.onBand=f&&u.get("boundaryGap"),c.inverse=u.get("inverse"),u.axis=c,c.model=u,c.coordinateSystem=u.coordinateSystem=this},this)},r.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},r.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),n=e.axisBase,i=e.layoutBase,a=e.pixelDimIndex,s=t[1-a],o=t[a];return s>=n&&s<=n+e.axisLength&&o>=i&&o<=i+e.layoutLength},r.prototype.getModel=function(){return this._model},r.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(n){if(t.contains(n,e)){var i=n.getData();UE(this.dimensions,function(a){var s=this._axesMap.get(a);s.scale.unionExtentFromData(i,i.mapDimension(a)),Bg(s.scale,s.model)},this)}},this)},r.prototype.resize=function(t,e){var n=La(t,e).refContainer;this._rect=li(t.getBoxLayoutParams(),n),this._layoutAxes()},r.prototype.getRect=function(){return this._rect},r.prototype._makeLayoutInfo=function(){var t=this._model,e=this._rect,n=["x","y"],i=["width","height"],a=t.get("layout"),s=a==="horizontal"?0:1,o=e[i[s]],l=[0,o],u=this.dimensions.length,c=a4(t.get("axisExpandWidth"),l),f=a4(t.get("axisExpandCount")||0,[0,u]),h=t.get("axisExpandable")&&u>3&&u>f&&f>1&&c>0&&o>0,d=t.get("axisExpandWindow"),A;if(d)A=a4(d[1]-d[0],l),d[1]=d[0]+A;else{A=a4(c*(f-1),l);var p=t.get("axisExpandCenter")||HV(u/2);d=[c*p-A/2],d[1]=d[0]+A}var g=(o-A)/(u-f);g<3&&(g=0);var m=[HV(QV(d[0]/c,1))+1,g6e(QV(d[1]/c,1))-1],v=g/c*d[0];return{layout:a,pixelDimIndex:s,layoutBase:e[n[s]],layoutLength:o,axisBase:e[n[1-s]],axisLength:e[i[1-s]],axisExpandable:h,axisExpandWidth:c,axisCollapseWidth:g,axisExpandWindow:d,axisCount:u,winInnerIndices:m,axisExpandWindow0Pos:v}},r.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),a=i.layout;e.each(function(s){var o=[0,i.axisLength],l=s.inverse?1:0;s.setExtent(o[l],o[1-l])}),UE(n,function(s,o){var l=(i.axisExpandable?x6e:y6e)(o,i),u={horizontal:{x:l.position,y:i.axisLength},vertical:{x:0,y:l.position}},c={horizontal:m6e/2,vertical:0},f=[u[a].x+t.x,u[a].y+t.y],h=c[a],d=Ya();td(d,d,h),yc(d,d,f),this._axesLayout[s]={position:f,rotation:h,transform:d,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},r.prototype.getAxis=function(t){return this._axesMap.get(t)},r.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},r.prototype.eachActiveState=function(t,e,n,i){n==null&&(n=0),i==null&&(i=t.count());var a=this._axesMap,s=this.dimensions,o=[],l=[];se(s,function(g){o.push(t.mapDimension(g)),l.push(a.get(g).model)});for(var u=this.hasAxisBrushed(),c=n;c<i;c++){var f=void 0;if(!u)f="normal";else{f="active";for(var h=t.getValues(o,c),d=0,A=s.length;d<A;d++){var p=l[d].getActiveState(h[d]);if(p==="inactive"){f="inactive";break}}}e(f,c)}},r.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,n=!1,i=0,a=t.length;i<a;i++)e.get(t[i]).model.getActiveState()!=="normal"&&(n=!0);return n},r.prototype.axisCoordToPoint=function(t,e){var n=this._axesLayout[e];return pc([t,0],n.transform)},r.prototype.getAxisLayout=function(t){return nr(this._axesLayout[t])},r.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,i=e.axisExpandWindow.slice(),a=i[1]-i[0],s=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var o=t[n]-e.layoutBase-e.axisExpandWindow0Pos,l,u="slide",c=e.axisCollapseWidth,f=this._model.get("axisExpandSlideTriggerArea"),h=f[0]!=null;if(c)h&&c&&o<a*f[0]?(u="jump",l=o-a*f[2]):h&&c&&o>a*(1-f[0])?(u="jump",l=o-a*(1-f[2])):(l=o-a*f[1])>=0&&(l=o-a*(1-f[1]))<=0&&(l=0),l*=e.axisExpandWidth/c,l?ZA(l,i,s,"all"):u="none";else{var d=i[1]-i[0],A=s[1]*o/d;i=[Wae(0,A-d/2)],i[1]=Gae(s[1],i[0]+d),i[0]=i[1]-d}return{axisExpandWindow:i,behavior:u}},r}();function a4(r,t){return Gae(Wae(r,t[0]),t[1])}function y6e(r,t){var e=t.layoutLength/(t.axisCount-1);return{position:e*r,axisNameAvailableWidth:e,axisLabelShow:!0}}function x6e(r,t){var e=t.layoutLength,n=t.axisExpandWidth,i=t.axisCount,a=t.axisCollapseWidth,s=t.winInnerIndices,o,l=a,u=!1,c;return r<s[0]?(o=r*a,c=a):r<=s[1]?(o=t.axisExpandWindow0Pos+r*n-t.axisExpandWindow[0],l=n,u=!0):(o=e-(i-1-r)*a,c=a),{position:o,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:c}}function b6e(r,t){var e=[];return r.eachComponent("parallel",function(n,i){var a=new v6e(n,r,t);a.name="parallel_"+i,a.resize(n,t),n.coordinateSystem=a,a.model=n,e.push(a)}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="parallel"){var i=n.getReferringComponents("parallel",Ni).models[0];n.coordinateSystem=i.coordinateSystem}}),e}var w6e={create:b6e},vI=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.activeIntervals=[],e}return t.prototype.getAreaSelectStyle=function(){return bg([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var n=this.activeIntervals=nr(e);if(n)for(var i=n.length-1;i>=0;i--)Ll(n[i])},t.prototype.getActiveState=function(e){var n=this.activeIntervals;if(!n.length)return"normal";if(e==null||isNaN(+e))return"inactive";if(n.length===1){var i=n[0];if(i[0]<=e&&e<=i[1])return"active"}else for(var a=0,s=n.length;a<s;a++)if(n[a][0]<=e&&e<=n[a][1])return"active";return"inactive"},t}($r);Ui(vI,dy);var Tg=!0,Yb=Math.min,O1=Math.max,_6e=Math.pow,S6e=1e4,C6e=6,B6e=6,zV="globalPan",T6e={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},E6e={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},VV={brushStyle:{lineWidth:2,stroke:Je.color.backgroundTint,fill:Je.color.borderTint},transformable:!0,brushMode:"single",removeOnClick:!1},k6e=0,mP=function(r){Ge(t,r);function t(e){var n=r.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=e,n.group=new ir,n._uid="brushController_"+k6e++,se(P6e,function(i,a){this._handlers[a]=Qt(i,this)},n),n}return t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var n=this._zr;this._enableGlobalPan||h4e(n,zV,this._uid),se(this._handlers,function(i,a){n.on(a,i)}),this._brushType=e.brushType,this._brushOption=Dr(nr(VV),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;d4e(e,zV,this._uid),se(this._handlers,function(n,i){e.off(i,n)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var n=this._panels={};se(e,function(i){n[i.panelId]=nr(i)})}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=n.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=wt(e,function(h){return Dr(nr(VV),h,!0)});var n="\0-brush-index-",i=this._covers,a=this._covers=[],s=this,o=this._creatingCover;return new Gh(i,e,u,l).add(c).update(c).remove(f).execute(),this;function l(h,d){return(h.id!=null?h.id:n+d)+"-"+h.brushType}function u(h,d){return l(h.__brushOption,d)}function c(h,d){var A=e[h];if(d!=null&&i[d]===o)a[h]=i[d];else{var p=a[h]=d!=null?(i[d].__brushOption=A,i[d]):Kae(s,$ae(s,A));vP(s,p)}}function f(h){i[h]!==o&&s.group.remove(i[h])}},t.prototype.unmount=function(){return this.enableBrush(!1),yI(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(Mu);function $ae(r,t){var e=_8[t.brushType].createCover(r,t);return e.__brushOption=t,Xae(e,t),r.group.add(e),e}function Kae(r,t){var e=yP(t);return e.endCreating&&(e.endCreating(r,t),Xae(t,t.__brushOption)),t}function qae(r,t){var e=t.__brushOption;yP(t).updateCoverShape(r,t,e.range,e)}function Xae(r,t){var e=t.z;e==null&&(e=S6e),r.traverse(function(n){n.z=e,n.z2=e})}function vP(r,t){yP(t).updateCommon(r,t),qae(r,t)}function yP(r){return _8[r.__brushOption.brushType]}function xP(r,t,e){var n=r._panels;if(!n)return Tg;var i,a=r._transform;return se(n,function(s){s.isTargetByCursor(t,e,a)&&(i=s)}),i}function Yae(r,t){var e=r._panels;if(!e)return Tg;var n=t.__brushOption.panelId;return n!=null?e[n]:Tg}function yI(r){var t=r._covers,e=t.length;return se(t,function(n){r.group.remove(n)},r),t.length=0,!!e}function Eg(r,t){var e=wt(r._covers,function(n){var i=n.__brushOption,a=nr(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});r.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function N6e(r){var t=r._track;if(!t.length)return!1;var e=t[t.length-1],n=t[0],i=e[0]-n[0],a=e[1]-n[1],s=_6e(i*i+a*a,.5);return s>C6e}function Zae(r){var t=r.length-1;return t<0&&(t=0),[r[0],r[t]]}function Jae(r,t,e,n){var i=new ir;return i.add(new zr({name:"main",style:bP(e),silent:!0,draggable:!0,cursor:"move",drift:Nr(GV,r,t,i,["n","s","w","e"]),ondragend:Nr(Eg,t,{isEnd:!0})})),se(n,function(a){i.add(new zr({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Nr(GV,r,t,i,a),ondragend:Nr(Eg,t,{isEnd:!0})}))}),i}function ese(r,t,e,n){var i=n.brushStyle.lineWidth||0,a=O1(i,B6e),s=e[0][0],o=e[1][0],l=s-i/2,u=o-i/2,c=e[0][1],f=e[1][1],h=c-a+i/2,d=f-a+i/2,A=c-s,p=f-o,g=A+i,m=p+i;Jf(r,t,"main",s,o,A,p),n.transformable&&(Jf(r,t,"w",l,u,a,m),Jf(r,t,"e",h,u,a,m),Jf(r,t,"n",l,u,g,a),Jf(r,t,"s",l,d,g,a),Jf(r,t,"nw",l,u,a,a),Jf(r,t,"ne",h,u,a,a),Jf(r,t,"sw",l,d,a,a),Jf(r,t,"se",h,d,a,a))}function xI(r,t){var e=t.__brushOption,n=e.transformable,i=t.childAt(0);i.useStyle(bP(e)),i.attr({silent:!n,cursor:n?"move":"default"}),se([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var s=t.childOfName(a.join("")),o=a.length===1?bI(r,a[0]):I6e(r,a);s&&s.attr({silent:!n,invisible:!n,cursor:n?E6e[o]+"-resize":null})})}function Jf(r,t,e,n,i,a,s){var o=t.childOfName(e);o&&o.setShape(L6e(wP(r,t,[[n,i],[n+a,i+s]])))}function bP(r){return sr({strokeNoScale:!0},r.brushStyle)}function tse(r,t,e,n){var i=[Yb(r,e),Yb(t,n)],a=[O1(r,e),O1(t,n)];return[[i[0],a[0]],[i[1],a[1]]]}function F6e(r){return DA(r.group)}function bI(r,t){var e={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},i=a8(e[t],F6e(r));return n[i]}function I6e(r,t){var e=[bI(r,t[0]),bI(r,t[1])];return(e[0]==="e"||e[0]==="w")&&e.reverse(),e.join("")}function GV(r,t,e,n,i,a){var s=e.__brushOption,o=r.toRectRange(s.range),l=rse(t,i,a);se(n,function(u){var c=T6e[u];o[c[0]][c[1]]+=l[c[0]]}),s.range=r.fromRectRange(tse(o[0][0],o[1][0],o[0][1],o[1][1])),vP(t,e),Eg(t,{isEnd:!1})}function M6e(r,t,e,n){var i=t.__brushOption.range,a=rse(r,e,n);se(i,function(s){s[0]+=a[0],s[1]+=a[1]}),vP(r,t),Eg(r,{isEnd:!1})}function rse(r,t,e){var n=r.group,i=n.transformCoordToLocal(t,e),a=n.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function wP(r,t,e){var n=Yae(r,t);return n&&n!==Tg?n.clipPath(e,r._transform):nr(e)}function L6e(r){var t=Yb(r[0][0],r[1][0]),e=Yb(r[0][1],r[1][1]),n=O1(r[0][0],r[1][0]),i=O1(r[0][1],r[1][1]);return{x:t,y:e,width:n-t,height:i-e}}function D6e(r,t,e){if(!(!r._brushType||R6e(r,t.offsetX,t.offsetY))){var n=r._zr,i=r._covers,a=xP(r,t,e);if(!r._dragging)for(var s=0;s<i.length;s++){var o=i[s].__brushOption;if(a&&(a===Tg||o.panelId===a.panelId)&&_8[o.brushType].contain(i[s],e[0],e[1]))return}a&&n.setCursorStyle("crosshair")}}function wI(r){var t=r.event;t.preventDefault&&t.preventDefault()}function _I(r,t,e){return r.childOfName("main").contain(t,e)}function nse(r,t,e,n){var i=r._creatingCover,a=r._creatingPanel,s=r._brushOption,o;if(r._track.push(e.slice()),N6e(r)||i){if(a&&!i){s.brushMode==="single"&&yI(r);var l=nr(s);l.brushType=WV(l.brushType,a),l.panelId=a===Tg?null:a.panelId,i=r._creatingCover=$ae(r,l),r._covers.push(i)}if(i){var u=_8[WV(r._brushType,a)],c=i.__brushOption;c.range=u.getCreatingRange(wP(r,i,r._track)),n&&(Kae(r,i),u.updateCommon(r,i)),qae(r,i),o={isEnd:n}}}else n&&s.brushMode==="single"&&s.removeOnClick&&xP(r,t,e)&&yI(r)&&(o={isEnd:n,removeOnClick:!0});return o}function WV(r,t){return r==="auto"?t.defaultBrushType:r}var P6e={mousedown:function(r){if(this._dragging)$V(this,r);else if(!r.target||!r.target.draggable){wI(r);var t=this.group.transformCoordToLocal(r.offsetX,r.offsetY);this._creatingCover=null;var e=this._creatingPanel=xP(this,r,t);e&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(r){var t=r.offsetX,e=r.offsetY,n=this.group.transformCoordToLocal(t,e);if(D6e(this,r,n),this._dragging){wI(r);var i=nse(this,r,n,!1);i&&Eg(this,i)}},mouseup:function(r){$V(this,r)}};function $V(r,t){if(r._dragging){wI(t);var e=t.offsetX,n=t.offsetY,i=r.group.transformCoordToLocal(e,n),a=nse(r,t,i,!0);r._dragging=!1,r._track=[],r._creatingCover=null,a&&Eg(r,a)}}function R6e(r,t,e){var n=r._zr;return t<0||t>n.getWidth()||e<0||e>n.getHeight()}var _8={lineX:KV(0),lineY:KV(1),rect:{createCover:function(r,t){function e(n){return n}return Jae({toRectRange:e,fromRectRange:e},r,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(r){var t=Zae(r);return tse(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(r,t,e,n){ese(r,t,e,n)},updateCommon:xI,contain:_I},polygon:{createCover:function(r,t){var e=new ir;return e.add(new gs({name:"main",style:bP(t),silent:!0})),e},getCreatingRange:function(r){return r},endCreating:function(r,t){t.remove(t.childAt(0)),t.add(new Hs({name:"main",draggable:!0,drift:Nr(M6e,r,t),ondragend:Nr(Eg,r,{isEnd:!0})}))},updateCoverShape:function(r,t,e,n){t.childAt(0).setShape({points:wP(r,t,e)})},updateCommon:xI,contain:_I}};function KV(r){return{createCover:function(t,e){return Jae({toRectRange:function(n){var i=[n,[0,100]];return r&&i.reverse(),i},fromRectRange:function(n){return n[r]}},t,e,[[["w"],["e"]],[["n"],["s"]]][r])},getCreatingRange:function(t){var e=Zae(t),n=Yb(e[0][r],e[1][r]),i=O1(e[0][r],e[1][r]);return[n,i]},updateCoverShape:function(t,e,n,i){var a,s=Yae(t,e);if(s!==Tg&&s.getLinearBrushOtherExtent)a=s.getLinearBrushOtherExtent(r);else{var o=t._zr;a=[0,[o.getWidth(),o.getHeight()][1-r]]}var l=[n,a];r&&l.reverse(),ese(t,e,l,i)},updateCommon:xI,contain:_I}}function ise(r){return r=_P(r),function(t){return YD(t,r)}}function ase(r,t){return r=_P(r),function(e){var n=t??e,i=n?r.width:r.height,a=n?r.x:r.y;return[a,a+(i||0)]}}function sse(r,t,e){var n=_P(r);return function(i,a){return n.contain(a[0],a[1])&&!fae(i,t,e)}}function _P(r){return fr.create(r)}var O6e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){r.prototype.init.apply(this,arguments),(this._brushController=new mP(n.getZr())).on("brush",Qt(this._onBrush,this))},t.prototype.render=function(e,n,i,a){if(!j6e(e,n,a)){this.axisModel=e,this.api=i,this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new ir,this.group.add(this._axisGroup),!!e.get("show")){var o=H6e(e,n),l=o.coordinateSystem,u=e.getAreaSelectStyle(),c=u.width,f=e.axis.dim,h=l.getAxisLayout(f),d=pt({strokeContainThreshold:c},h),A=new Fo(e,i,d);A.build(),this._axisGroup.add(A.group),this._refreshBrushController(d,u,e,o,c,i),Gw(s,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,n,i,a,s,o){var l=i.axis.getExtent(),u=l[1]-l[0],c=Math.min(30,Math.abs(u)*.1),f=fr.create({x:l[0],y:-s/2,width:u,height:s});f.x-=c,f.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:ise(f),isTargetByCursor:sse(f,o,a),getLinearBrushOtherExtent:ase(f,0)}]).enableBrush({brushType:"lineX",brushStyle:n,removeOnClick:!0}).updateCovers(U6e(i))},t.prototype._onBrush=function(e){var n=e.areas,i=this.axisModel,a=i.axis,s=wt(n,function(o){return[a.coordToData(o.range[0],!0),a.coordToData(o.range[1],!0)]});(!i.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:s})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(Hn);function j6e(r,t,e){return e&&e.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:e})[0]===r}function U6e(r){var t=r.axis;return wt(r.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}})}function H6e(r,t){return t.getComponent("parallel",r.get("parallelIndex"))}var Q6e={type:"axisAreaSelect",event:"axisAreaSelected"};function z6e(r){r.registerAction(Q6e,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(n){n.axis.model.setActiveIntervals(t.intervals)})}),r.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(n){n.setAxisExpand(t)})})}var V6e={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function ose(r){r.registerComponentView(h6e),r.registerComponentModel(A6e),r.registerCoordinateSystem("parallel",w6e),r.registerPreprocessor(l6e),r.registerComponentModel(vI),r.registerComponentView(O6e),P1(r,"parallel",vI,V6e),z6e(r)}function G6e(r){Or(ose),r.registerChartView(e6e),r.registerSeriesModel(n6e),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,o6e)}var W6e=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return r}(),$6e=function(r){Ge(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new W6e},t.prototype.buildPath=function(e,n){var i=n.extent;e.moveTo(n.x1,n.y1),e.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),n.orient==="vertical"?(e.lineTo(n.x2+i,n.y2),e.bezierCurveTo(n.cpx2+i,n.cpy2,n.cpx1+i,n.cpy1,n.x1+i,n.y1)):(e.lineTo(n.x2,n.y2+i),e.bezierCurveTo(n.cpx2,n.cpy2+i,n.cpx1,n.cpy1+i,n.x1,n.y1+i)),e.closePath()},t.prototype.highlight=function(){zh(this)},t.prototype.downplay=function(){Vh(this)},t}(Xr),K6e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new ir,e._focusAdjacencyDisabled=!1,e}return t.prototype.init=function(e,n){this._controller=new Gg(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,n,i){var a=this,s=e.getGraph(),o=this._mainGroup,l=e.layoutInfo,u=l.width,c=l.height,f=e.getData(),h=e.getData("edge"),d=e.get("orient");this._model=e,o.removeAll(),o.x=l.x,o.y=l.y,this._updateViewCoordSys(e,i),hae(e,i,o,this._controller,this._controllerHost,null),s.eachEdge(function(A){var p=new $6e,g=pr(p);g.dataIndex=A.dataIndex,g.seriesIndex=e.seriesIndex,g.dataType="edge";var m=A.getModel(),v=m.getModel("lineStyle"),y=v.get("curveness"),b=A.node1.getLayout(),_=A.node1.getModel(),T=_.get("localX"),I=_.get("localY"),N=A.node2.getLayout(),F=A.node2.getModel(),P=F.get("localX"),D=F.get("localY"),R=A.getLayout(),E,L,k,w,C,S,B,O;p.shape.extent=Math.max(1,R.dy),p.shape.orient=d,d==="vertical"?(E=(T!=null?T*u:b.x)+R.sy,L=(I!=null?I*c:b.y)+b.dy,k=(P!=null?P*u:N.x)+R.ty,w=D!=null?D*c:N.y,C=E,S=L*(1-y)+w*y,B=k,O=L*y+w*(1-y)):(E=(T!=null?T*u:b.x)+b.dx,L=(I!=null?I*c:b.y)+R.sy,k=P!=null?P*u:N.x,w=(D!=null?D*c:N.y)+R.ty,C=E*(1-y)+k*y,S=L,B=E*y+k*(1-y),O=w),p.setShape({x1:E,y1:L,x2:k,y2:w,cpx1:C,cpy1:S,cpx2:B,cpy2:O}),p.useStyle(v.getItemStyle()),qV(p.style,d,A);var V=""+m.get("value"),M=Ma(m,"edgeLabel");Ja(p,M,{labelFetcher:{getFormattedLabel:function(W,j,X,z,H,K){return e.getFormattedLabel(W,j,"edge",z,rl(H,M.normal&&M.normal.get("formatter"),V),K)}},labelDataIndex:A.dataIndex,defaultText:V}),p.setTextConfig({position:"inside"});var U=m.getModel("emphasis");Ia(p,m,"lineStyle",function(W){var j=W.getItemStyle();return qV(j,d,A),j}),o.add(p),h.setItemGraphicEl(A.dataIndex,p);var Q=U.get("focus");di(p,Q==="adjacency"?A.getAdjacentDataIndices():Q==="trajectory"?A.getTrajectoryDataIndices():Q,U.get("blurScope"),U.get("disabled"))}),s.eachNode(function(A){var p=A.getLayout(),g=A.getModel(),m=g.get("localX"),v=g.get("localY"),y=g.getModel("emphasis"),b=g.get(["itemStyle","borderRadius"])||0,_=new zr({shape:{x:m!=null?m*u:p.x,y:v!=null?v*c:p.y,width:p.dx,height:p.dy,r:b},style:g.getModel("itemStyle").getItemStyle(),z2:10});Ja(_,Ma(g),{labelFetcher:{getFormattedLabel:function(I,N){return e.getFormattedLabel(I,N,"node")}},labelDataIndex:A.dataIndex,defaultText:A.id}),_.disableLabelAnimation=!0,_.setStyle("fill",A.getVisual("color")),_.setStyle("decal",A.getVisual("style").decal),Ia(_,g),o.add(_),f.setItemGraphicEl(A.dataIndex,_),pr(_).dataType="node";var T=y.get("focus");di(_,T==="adjacency"?A.getAdjacentDataIndices():T==="trajectory"?A.getTrajectoryDataIndices():T,y.get("blurScope"),y.get("disabled"))}),f.eachItemGraphicEl(function(A,p){var g=f.getItemModel(p);g.get("draggable")&&(A.drift=function(m,v){a._focusAdjacencyDisabled=!0,this.shape.x+=m,this.shape.y+=v,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:f.getRawIndex(p),localX:this.shape.x/u,localY:this.shape.y/c})},A.ondragend=function(){a._focusAdjacencyDisabled=!1},A.draggable=!0,A.cursor="move")}),!this._data&&e.isAnimationEnabled()&&o.setClipPath(q6e(o.getBoundingRect(),e,function(){o.removeClipPath()})),this._data=e.getData()},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._updateViewCoordSys=function(e,n){var i=e.layoutInfo,a=i.width,s=i.height,o=e.coordinateSystem=new Wg(null,{api:n,ecModel:e.ecModel});o.zoomLimit=e.get("scaleLimit"),o.setBoundingRect(0,0,a,s),o.setCenter(e.get("center")),o.setZoom(e.get("zoom")),this._controllerHost.target.attr({x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY})},t.type="sankey",t}(Nn);function qV(r,t,e){switch(r.fill){case"source":r.fill=e.node1.getVisual("color"),r.decal=e.node1.getVisual("style").decal;break;case"target":r.fill=e.node2.getVisual("color"),r.decal=e.node2.getVisual("style").decal;break;case"gradient":var n=e.node1.getVisual("color"),i=e.node2.getVisual("color");Ht(n)&&Ht(i)&&(r.fill=new jg(0,0,+(t==="horizontal"),+(t==="vertical"),[{color:n,offset:0},{color:i,offset:1}]))}}function q6e(r,t,e){var n=new zr({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return ni(n,{shape:{width:r.width+20}},t,e),n}var X6e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,n){var i=e.edges||e.links||[],a=e.data||e.nodes||[],s=e.levels||[];this.levelModels=[];for(var o=this.levelModels,l=0;l<s.length;l++)s[l].depth!=null&&s[l].depth>=0&&(o[s[l].depth]=new qr(s[l],this,n));var u=gP(a,i,this,!0,c);return u.data;function c(f,h){f.wrapMethod("getItemModel",function(d,A){var p=d.parentModel,g=p.getData().getItemLayout(A);if(g){var m=g.depth,v=p.levelModels[m];v&&(d.parentModel=v)}return d}),h.wrapMethod("getItemModel",function(d,A){var p=d.parentModel,g=p.getGraph().getEdgeByIndex(A),m=g.node1.getLayout();if(m){var v=m.depth,y=p.levelModels[v];y&&(d.parentModel=y)}return d})}},t.prototype.setNodePosition=function(e,n){var i=this.option.data||this.option.nodes,a=i[e];a.localX=n[0],a.localY=n[1]},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,n,i){function a(d){return isNaN(d)||d==null}if(i==="edge"){var s=this.getDataParams(e,i),o=s.data,l=s.value,u=o.source+" -- "+o.target;return ya("nameValue",{name:u,value:l,noValue:a(l)})}else{var c=this.getGraph().getNodeByIndex(e),f=c.getLayout().value,h=this.getDataParams(e,i).data.name;return ya("nameValue",{name:h!=null?h+"":null,value:f,noValue:a(f)})}},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(e,n){var i=r.prototype.getDataParams.call(this,e,n);if(i.value==null&&n==="node"){var a=this.getGraph().getNodeByIndex(e),s=a.getLayout().value;i.value=s}return i},t.type="series.sankey",t.layoutMode="box",t.defaultOption={z:2,coordinateSystemUsage:"box",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,roam:!1,roamTrigger:"global",center:null,zoom:1,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:Je.color.neutral50,opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:Je.color.primary}},animationEasing:"linear",animationDuration:1e3},t}(Ln);function Y6e(r,t){r.eachSeriesByType("sankey",function(e){var n=e.get("nodeWidth"),i=e.get("nodeGap"),a=La(e,t).refContainer,s=li(e.getBoxLayoutParams(),a);e.layoutInfo=s;var o=s.width,l=s.height,u=e.getGraph(),c=u.nodes,f=u.edges;J6e(c);var h=dn(c,function(g){return g.getLayout().value===0}),d=h.length!==0?0:e.get("layoutIterations"),A=e.get("orient"),p=e.get("nodeAlign");Z6e(c,f,n,i,o,l,d,A,p)})}function Z6e(r,t,e,n,i,a,s,o,l){eCe(r,t,e,i,a,o,l),iCe(r,t,a,i,n,s,o),dCe(r,o)}function J6e(r){se(r,function(t){var e=OA(t.outEdges,C6),n=OA(t.inEdges,C6),i=t.getValue()||0,a=Math.max(e,n,i);t.setLayout({value:a},!0)})}function eCe(r,t,e,n,i,a,s){for(var o=[],l=[],u=[],c=[],f=0,h=0;h<t.length;h++)o[h]=1;for(var h=0;h<r.length;h++)l[h]=r[h].inEdges.length,l[h]===0&&u.push(r[h]);for(var d=-1;u.length;){for(var A=0;A<u.length;A++){var p=u[A],g=p.hostGraph.data.getRawDataItem(p.dataIndex),m=g.depth!=null&&g.depth>=0;m&&g.depth>d&&(d=g.depth),p.setLayout({depth:m?g.depth:f},!0),a==="vertical"?p.setLayout({dy:e},!0):p.setLayout({dx:e},!0);for(var v=0;v<p.outEdges.length;v++){var y=p.outEdges[v],b=t.indexOf(y);o[b]=0;var _=y.node2,T=r.indexOf(_);--l[T]===0&&c.indexOf(_)<0&&c.push(_)}}++f,u=c,c=[]}for(var h=0;h<o.length;h++)if(o[h]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var I=d>f-1?d:f-1;s&&s!=="left"&&tCe(r,s,a,I);var N=a==="vertical"?(i-e)/I:(n-e)/I;nCe(r,N,a)}function lse(r){var t=r.hostGraph.data.getRawDataItem(r.dataIndex);return t.depth!=null&&t.depth>=0}function tCe(r,t,e,n){if(t==="right"){for(var i=[],a=r,s=0;a.length;){for(var o=0;o<a.length;o++){var l=a[o];l.setLayout({skNodeHeight:s},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];i.indexOf(c.node1)<0&&i.push(c.node1)}}a=i,i=[],++s}se(r,function(f){lse(f)||f.setLayout({depth:Math.max(0,n-f.getLayout().skNodeHeight)},!0)})}else t==="justify"&&rCe(r,n)}function rCe(r,t){se(r,function(e){!lse(e)&&!e.outEdges.length&&e.setLayout({depth:t},!0)})}function nCe(r,t,e){se(r,function(n){var i=n.getLayout().depth*t;e==="vertical"?n.setLayout({y:i},!0):n.setLayout({x:i},!0)})}function iCe(r,t,e,n,i,a,s){var o=aCe(r,s);sCe(o,t,e,n,i,s),HE(o,i,e,n,s);for(var l=1;a>0;a--)l*=.99,oCe(o,l,s),HE(o,i,e,n,s),hCe(o,l,s),HE(o,i,e,n,s)}function aCe(r,t){var e=[],n=t==="vertical"?"y":"x",i=lF(r,function(a){return a.getLayout()[n]});return i.keys.sort(function(a,s){return a-s}),se(i.keys,function(a){e.push(i.buckets.get(a))}),e}function sCe(r,t,e,n,i,a){var s=1/0;se(r,function(o){var l=o.length,u=0;se(o,function(f){u+=f.getLayout().value});var c=a==="vertical"?(n-(l-1)*i)/u:(e-(l-1)*i)/u;c<s&&(s=c)}),se(r,function(o){se(o,function(l,u){var c=l.getLayout().value*s;a==="vertical"?(l.setLayout({x:u},!0),l.setLayout({dx:c},!0)):(l.setLayout({y:u},!0),l.setLayout({dy:c},!0))})}),se(t,function(o){var l=+o.getValue()*s;o.setLayout({dy:l},!0)})}function HE(r,t,e,n,i){var a=i==="vertical"?"x":"y";se(r,function(s){s.sort(function(p,g){return p.getLayout()[a]-g.getLayout()[a]});for(var o,l,u,c=0,f=s.length,h=i==="vertical"?"dx":"dy",d=0;d<f;d++)l=s[d],u=c-l.getLayout()[a],u>0&&(o=l.getLayout()[a]+u,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0)),c=l.getLayout()[a]+l.getLayout()[h]+t;var A=i==="vertical"?n:e;if(u=c-t-A,u>0){o=l.getLayout()[a]-u,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0),c=o;for(var d=f-2;d>=0;--d)l=s[d],u=l.getLayout()[a]+l.getLayout()[h]+t-c,u>0&&(o=l.getLayout()[a]-u,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0)),c=l.getLayout()[a]}})}function oCe(r,t,e){se(r.slice().reverse(),function(n){se(n,function(i){if(i.outEdges.length){var a=OA(i.outEdges,lCe,e)/OA(i.outEdges,C6);if(isNaN(a)){var s=i.outEdges.length;a=s?OA(i.outEdges,uCe,e)/s:0}if(e==="vertical"){var o=i.getLayout().x+(a-JA(i,e))*t;i.setLayout({x:o},!0)}else{var l=i.getLayout().y+(a-JA(i,e))*t;i.setLayout({y:l},!0)}}})})}function lCe(r,t){return JA(r.node2,t)*r.getValue()}function uCe(r,t){return JA(r.node2,t)}function cCe(r,t){return JA(r.node1,t)*r.getValue()}function fCe(r,t){return JA(r.node1,t)}function JA(r,t){return t==="vertical"?r.getLayout().x+r.getLayout().dx/2:r.getLayout().y+r.getLayout().dy/2}function C6(r){return r.getValue()}function OA(r,t,e){for(var n=0,i=r.length,a=-1;++a<i;){var s=+t(r[a],e);isNaN(s)||(n+=s)}return n}function hCe(r,t,e){se(r,function(n){se(n,function(i){if(i.inEdges.length){var a=OA(i.inEdges,cCe,e)/OA(i.inEdges,C6);if(isNaN(a)){var s=i.inEdges.length;a=s?OA(i.inEdges,fCe,e)/s:0}if(e==="vertical"){var o=i.getLayout().x+(a-JA(i,e))*t;i.setLayout({x:o},!0)}else{var l=i.getLayout().y+(a-JA(i,e))*t;i.setLayout({y:l},!0)}}})})}function dCe(r,t){var e=t==="vertical"?"x":"y";se(r,function(n){n.outEdges.sort(function(i,a){return i.node2.getLayout()[e]-a.node2.getLayout()[e]}),n.inEdges.sort(function(i,a){return i.node1.getLayout()[e]-a.node1.getLayout()[e]})}),se(r,function(n){var i=0,a=0;se(n.outEdges,function(s){s.setLayout({sy:i},!0),i+=s.getLayout().dy}),se(n.inEdges,function(s){s.setLayout({ty:a},!0),a+=s.getLayout().dy})})}function ACe(r){r.eachSeriesByType("sankey",function(t){var e=t.getGraph(),n=e.nodes,i=e.edges;if(n.length){var a=1/0,s=-1/0;se(n,function(o){var l=o.getLayout().value;l<a&&(a=l),l>s&&(s=l)}),se(n,function(o){var l=new Za({type:"color",mappingMethod:"linear",dataExtent:[a,s],visual:t.get("color")}),u=l.mapValueToVisual(o.getLayout().value),c=o.getModel().get(["itemStyle","color"]);c!=null?(o.setVisual("color",c),o.setVisual("style",{fill:c})):(o.setVisual("color",u),o.setVisual("style",{fill:u}))})}i.length&&se(i,function(o){var l=o.getModel().get("lineStyle");o.setVisual("style",l)})})}function pCe(r){r.registerChartView(K6e),r.registerSeriesModel(X6e),r.registerLayout(Y6e),r.registerVisual(ACe),r.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(n){n.setNodePosition(t.dataIndex,[t.localX,t.localY])})}),r.registerAction({type:"sankeyRoam",event:"sankeyRoam",update:"none"},function(t,e,n){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(i){var a=i.coordinateSystem,s=y8(a,t,i.get("scaleLimit"));i.setCenter(s.center),i.setZoom(s.zoom)})})}var use=function(){function r(){}return r.prototype._hasEncodeRule=function(t){var e=this.getEncode();return e&&e.get(t)!=null},r.prototype.getInitialData=function(t,e){var n,i=e.getComponent("xAxis",this.get("xAxisIndex")),a=e.getComponent("yAxis",this.get("yAxisIndex")),s=i.get("type"),o=a.get("type"),l;s==="category"?(t.layout="horizontal",n=i.getOrdinalMeta(),l=!this._hasEncodeRule("x")):o==="category"?(t.layout="vertical",n=a.getOrdinalMeta(),l=!this._hasEncodeRule("y")):t.layout=t.layout||"horizontal";var u=["x","y"],c=t.layout==="horizontal"?0:1,f=this._baseAxisDim=u[c],h=u[1-c],d=[i,a],A=d[c].get("type"),p=d[1-c].get("type"),g=t.data;if(g&&l){var m=[];se(g,function(b,_){var T;xt(b)?(T=b.slice(),b.unshift(_)):xt(b.value)?(T=pt({},b),T.value=T.value.slice(),b.value.unshift(_)):T=b,m.push(T)}),t.data=m}var v=this.defaultValueDimensions,y=[{name:f,type:l6(A),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:l6(p),dimsDef:v.slice()}];return py(this,{coordDimensions:y,dimensionsCount:v.length+1,encodeDefaulter:Nr(xre,y,this)})},r.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},r}(),cse=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:Je.color.neutral00,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:Je.color.shadow}},animationDuration:800},t}(Ln);Ui(cse,use,!0);var gCe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=e.getData(),s=this.group,o=this._data;this._data||s.removeAll();var l=e.get("layout")==="horizontal"?1:0;a.diff(o).add(function(u){if(a.hasValue(u)){var c=a.getItemLayout(u),f=XV(c,a,u,l,!0);a.setItemGraphicEl(u,f),s.add(f)}}).update(function(u,c){var f=o.getItemGraphicEl(c);if(!a.hasValue(u)){s.remove(f);return}var h=a.getItemLayout(u);f?(Fu(f),fse(h,f,a,u)):f=XV(h,a,u,l),s.add(f),a.setItemGraphicEl(u,f)}).remove(function(u){var c=o.getItemGraphicEl(u);c&&s.remove(c)}).execute(),this._data=a},t.prototype.remove=function(e){var n=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(a){a&&n.remove(a)})},t.type="boxplot",t}(Nn),mCe=function(){function r(){}return r}(),vCe=function(r){Ge(t,r);function t(e){var n=r.call(this,e)||this;return n.type="boxplotBoxPath",n}return t.prototype.getDefaultShape=function(){return new mCe},t.prototype.buildPath=function(e,n){var i=n.points,a=0;for(e.moveTo(i[a][0],i[a][1]),a++;a<4;a++)e.lineTo(i[a][0],i[a][1]);for(e.closePath();a<i.length;a++)e.moveTo(i[a][0],i[a][1]),a++,e.lineTo(i[a][0],i[a][1])},t}(Xr);function XV(r,t,e,n,i){var a=r.ends,s=new vCe({shape:{points:i?yCe(a,n,r):a}});return fse(r,s,t,e,i),s}function fse(r,t,e,n,i){var a=e.hostModel,s=Ug[i?"initProps":"updateProps"];s(t,{shape:{points:r.ends}},a,n),t.useStyle(e.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.z2=100;var o=e.getItemModel(n),l=o.getModel("emphasis");Ia(t,o),di(t,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function yCe(r,t,e){return wt(r,function(n){return n=n.slice(),n[t]=e.initBaseline,n})}var O2=se;function xCe(r){var t=bCe(r);O2(t,function(e){var n=e.seriesModels;n.length&&(wCe(e),O2(n,function(i,a){_Ce(i,e.boxOffsetList[a],e.boxWidthList[a])}))})}function bCe(r){var t=[],e=[];return r.eachSeriesByType("boxplot",function(n){var i=n.getBaseAxis(),a=Lr(e,i);a<0&&(a=e.length,e[a]=i,t[a]={axis:i,seriesModels:[]}),t[a].seriesModels.push(n)}),t}function wCe(r){var t=r.axis,e=r.seriesModels,n=e.length,i=r.boxWidthList=[],a=r.boxOffsetList=[],s=[],o;if(t.type==="category")o=t.getBandWidth();else{var l=0;O2(e,function(A){l=Math.max(l,A.getData().count())});var u=t.getExtent();o=Math.abs(u[1]-u[0])/l}O2(e,function(A){var p=A.get("boxWidth");xt(p)||(p=[p,p]),s.push([Ut(p[0],o)||0,Ut(p[1],o)||0])});var c=o*.8-2,f=c/n*.3,h=(c-f*(n-1))/n,d=h/2-c/2;O2(e,function(A,p){a.push(d),d+=f+h,i.push(Math.min(Math.max(h,s[p][0]),s[p][1]))})}function _Ce(r,t,e){var n=r.coordinateSystem,i=r.getData(),a=e/2,s=r.get("layout")==="horizontal"?0:1,o=1-s,l=["x","y"],u=i.mapDimension(l[s]),c=i.mapDimensionsAll(l[o]);if(u==null||c.length<5)return;for(var f=0;f<i.count();f++){var h=i.get(u,f),d=y(h,c[2],f),A=y(h,c[0],f),p=y(h,c[1],f),g=y(h,c[3],f),m=y(h,c[4],f),v=[];b(v,p,!1),b(v,g,!0),v.push(A,p,m,g),_(v,A),_(v,m),_(v,d),i.setItemLayout(f,{initBaseline:d[o],ends:v})}function y(T,I,N){var F=i.get(I,N),P=[];P[s]=T,P[o]=F;var D;return isNaN(T)||isNaN(F)?D=[NaN,NaN]:(D=n.dataToPoint(P),D[s]+=t),D}function b(T,I,N){var F=I.slice(),P=I.slice();F[s]+=a,P[s]-=a,N?T.push(F,P):T.push(P,F)}function _(T,I){var N=I.slice(),F=I.slice();N[s]-=a,F[s]+=a,T.push(N,F)}}function SCe(r,t){t=t||{};for(var e=[],n=[],i=t.boundIQR,a=i==="none"||i===0,s=0;s<r.length;s++){var o=Ll(r[s].slice()),l=L3(o,.25),u=L3(o,.5),c=L3(o,.75),f=o[0],h=o[o.length-1],d=(i??1.5)*(c-l),A=a?f:Math.max(f,l-d),p=a?h:Math.min(h,c+d),g=t.itemNameFormatter,m=rr(g)?g({value:s}):Ht(g)?g.replace("{value}",s+""):s+"";e.push([m,A,l,u,c,p]);for(var v=0;v<o.length;v++){var y=o[v];if(y<A||y>p){var b=[m,y];n.push(b)}}}return{boxData:e,outliers:n}}var CCe={type:"echarts:boxplot",transform:function(t){var e=t.upstream;if(e.sourceFormat!==ms){var n="";mn(n)}var i=SCe(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function BCe(r){r.registerSeriesModel(cse),r.registerChartView(gCe),r.registerLayout(xCe),r.registerTransform(CCe)}var TCe=["itemStyle","borderColor"],ECe=["itemStyle","borderColor0"],kCe=["itemStyle","borderColorDoji"],NCe=["itemStyle","color"],FCe=["itemStyle","color0"];function SP(r,t){return t.get(r>0?NCe:FCe)}function CP(r,t){return t.get(r===0?kCe:r>0?TCe:ECe)}var ICe={seriesType:"candlestick",plan:ly(),performRawSeries:!0,reset:function(r,t){if(!t.isSeriesFiltered(r)){var e=r.pipelineContext.large;return!e&&{progress:function(n,i){for(var a;(a=n.next())!=null;){var s=i.getItemModel(a),o=i.getItemLayout(a).sign,l=s.getItemStyle();l.fill=SP(o,s),l.stroke=CP(o,s)||l.fill;var u=i.ensureUniqueItemVisual(a,"style");pt(u,l)}}}}}},MCe=["color","borderColor"],LCe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,n,i){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,n,i,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,n):this._incrementalRenderNormal(e,n)},t.prototype.eachRendered=function(e){h0(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var n=e.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(e){var n=e.getData(),i=this._data,a=this.group,s=n.getLayout("isSimpleBox"),o=e.get("clip",!0),l=e.coordinateSystem,u=l.getArea&&l.getArea();this._data||a.removeAll(),n.diff(i).add(function(c){if(n.hasValue(c)){var f=n.getItemLayout(c);if(o&&YV(u,f))return;var h=QE(f,c,!0);ni(h,{shape:{points:f.ends}},e,c),zE(h,n,c,s),a.add(h),n.setItemGraphicEl(c,h)}}).update(function(c,f){var h=i.getItemGraphicEl(f);if(!n.hasValue(c)){a.remove(h);return}var d=n.getItemLayout(c);if(o&&YV(u,d)){a.remove(h);return}h?(ln(h,{shape:{points:d.ends}},e,c),Fu(h)):h=QE(d),zE(h,n,c,s),a.add(h),n.setItemGraphicEl(c,h)}).remove(function(c){var f=i.getItemGraphicEl(c);f&&a.remove(f)}).execute(),this._data=n},t.prototype._renderLarge=function(e){this._clear(),ZV(e,this.group);var n=e.get("clip",!0)?Zw(e.coordinateSystem,!1,e):null;n?this.group.setClipPath(n):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,n){for(var i=n.getData(),a=i.getLayout("isSimpleBox"),s;(s=e.next())!=null;){var o=i.getItemLayout(s),l=QE(o);zE(l,i,s,a),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},t.prototype._incrementalRenderLarge=function(e,n){ZV(n,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(Nn),DCe=function(){function r(){}return r}(),PCe=function(r){Ge(t,r);function t(e){var n=r.call(this,e)||this;return n.type="normalCandlestickBox",n}return t.prototype.getDefaultShape=function(){return new DCe},t.prototype.buildPath=function(e,n){var i=n.points;this.__simpleBox?(e.moveTo(i[4][0],i[4][1]),e.lineTo(i[6][0],i[6][1])):(e.moveTo(i[0][0],i[0][1]),e.lineTo(i[1][0],i[1][1]),e.lineTo(i[2][0],i[2][1]),e.lineTo(i[3][0],i[3][1]),e.closePath(),e.moveTo(i[4][0],i[4][1]),e.lineTo(i[5][0],i[5][1]),e.moveTo(i[6][0],i[6][1]),e.lineTo(i[7][0],i[7][1]))},t}(Xr);function QE(r,t,e){var n=r.ends;return new PCe({shape:{points:e?RCe(n,r):n},z2:100})}function YV(r,t){for(var e=!0,n=0;n<t.ends.length;n++)if(r.contain(t.ends[n][0],t.ends[n][1])){e=!1;break}return e}function zE(r,t,e,n){var i=t.getItemModel(e);r.useStyle(t.getItemVisual(e,"style")),r.style.strokeNoScale=!0,r.__simpleBox=n,Ia(r,i);var a=t.getItemLayout(e).sign;se(r.states,function(o,l){var u=i.getModel(l),c=SP(a,u),f=CP(a,u)||c,h=o.style||(o.style={});c&&(h.fill=c),f&&(h.stroke=f)});var s=i.getModel("emphasis");di(r,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function RCe(r,t){return wt(r,function(e){return e=e.slice(),e[1]=t.initBaseline,e})}var OCe=function(){function r(){}return r}(),VE=function(r){Ge(t,r);function t(e){var n=r.call(this,e)||this;return n.type="largeCandlestickBox",n}return t.prototype.getDefaultShape=function(){return new OCe},t.prototype.buildPath=function(e,n){for(var i=n.points,a=0;a<i.length;)if(this.__sign===i[a++]){var s=i[a++];e.moveTo(s,i[a++]),e.lineTo(s,i[a++])}else a+=3},t}(Xr);function ZV(r,t,e,n){var i=r.getData(),a=i.getLayout("largePoints"),s=new VE({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});t.add(s);var o=new VE({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});t.add(o);var l=new VE({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});t.add(l),GE(1,s,r),GE(-1,o,r),GE(0,l,r),n&&(s.incremental=!0,o.incremental=!0),e&&e.push(s,o)}function GE(r,t,e,n){var i=CP(r,e)||SP(r,e),a=e.getModel("itemStyle").getItemStyle(MCe);t.useStyle(a),t.style.fill=null,t.style.stroke=i}var hse=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,n,i){var a=n.getItemLayout(e);return a&&i.rect(a.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(Ln);Ui(hse,use,!0);function jCe(r){!r||!xt(r.series)||se(r.series,function(t){or(t)&&t.type==="k"&&(t.type="candlestick")})}var UCe={seriesType:"candlestick",plan:ly(),reset:function(r){var t=r.coordinateSystem,e=r.getData(),n=HCe(r,e),i=0,a=1,s=["x","y"],o=e.getDimensionIndex(e.mapDimension(s[i])),l=wt(e.mapDimensionsAll(s[a]),e.getDimensionIndex,e),u=l[0],c=l[1],f=l[2],h=l[3];if(e.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),o<0||l.length<4)return;return{progress:r.pipelineContext.large?A:d};function d(p,g){for(var m,v=g.getStore();(m=p.next())!=null;){var y=v.get(o,m),b=v.get(u,m),_=v.get(c,m),T=v.get(f,m),I=v.get(h,m),N=Math.min(b,_),F=Math.max(b,_),P=C(N,y),D=C(F,y),R=C(T,y),E=C(I,y),L=[];S(L,D,0),S(L,P,1),L.push(O(E),O(D),O(R),O(P));var k=g.getItemModel(m),w=!!k.get(["itemStyle","borderColorDoji"]);g.setItemLayout(m,{sign:JV(v,m,b,_,c,w),initBaseline:b>_?D[a]:P[a],ends:L,brushRect:B(T,I,y)})}function C(V,M){var U=[];return U[i]=M,U[a]=V,isNaN(M)||isNaN(V)?[NaN,NaN]:t.dataToPoint(U)}function S(V,M,U){var Q=M.slice(),W=M.slice();Q[i]=P3(Q[i]+n/2,1,!1),W[i]=P3(W[i]-n/2,1,!0),U?V.push(Q,W):V.push(W,Q)}function B(V,M,U){var Q=C(V,U),W=C(M,U);return Q[i]-=n/2,W[i]-=n/2,{x:Q[0],y:Q[1],width:n,height:W[1]-Q[1]}}function O(V){return V[i]=P3(V[i],1),V}}function A(p,g){for(var m=ff(p.count*4),v=0,y,b=[],_=[],T,I=g.getStore(),N=!!r.get(["itemStyle","borderColorDoji"]);(T=p.next())!=null;){var F=I.get(o,T),P=I.get(u,T),D=I.get(c,T),R=I.get(f,T),E=I.get(h,T);if(isNaN(F)||isNaN(R)||isNaN(E)){m[v++]=NaN,v+=3;continue}m[v++]=JV(I,T,P,D,c,N),b[i]=F,b[a]=R,y=t.dataToPoint(b,null,_),m[v++]=y?y[0]:NaN,m[v++]=y?y[1]:NaN,b[a]=E,y=t.dataToPoint(b,null,_),m[v++]=y?y[1]:NaN}g.setLayout("largePoints",m)}}};function JV(r,t,e,n,i,a){var s;return e>n?s=-1:e<n?s=1:s=a?0:t>0?r.get(i,t-1)<=n?1:-1:1,s}function HCe(r,t){var e=r.getBaseAxis(),n,i=e.type==="category"?e.getBandWidth():(n=e.getExtent(),Math.abs(n[1]-n[0])/t.count()),a=Ut(Zt(r.get("barMaxWidth"),i),i),s=Ut(Zt(r.get("barMinWidth"),1),i),o=r.get("barWidth");return o!=null?Ut(o,i):Math.max(Math.min(i/2,a),s)}function QCe(r){r.registerChartView(LCe),r.registerSeriesModel(hse),r.registerPreprocessor(jCe),r.registerVisual(ICe),r.registerLayout(UCe)}function eG(r,t){var e=t.rippleEffectColor||t.color;r.eachChild(function(n){n.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?e:null,fill:t.brushType==="fill"?e:null}})})}var zCe=function(r){Ge(t,r);function t(e,n){var i=r.call(this)||this,a=new Xw(e,n),s=new ir;return i.add(a),i.add(s),i.updateData(e,n),i}return t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var n=e.symbolType,i=e.color,a=e.rippleNumber,s=this.childAt(1),o=0;o<a;o++){var l=ia(n,-1,-1,2,2,i);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-o/a*e.period+e.effectOffset;l.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(e.period,{opacity:0}).delay(u).start(),s.add(l)}eG(s,e)},t.prototype.updateEffectAnimation=function(e){for(var n=this._effectCfg,i=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],s=0;s<a.length;s++){var o=a[s];if(n[o]!==e[o]){this.stopEffectAnimation(),this.startEffectAnimation(e);return}}eG(i,e)},t.prototype.highlight=function(){zh(this)},t.prototype.downplay=function(){Vh(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,n){var i=this,a=e.hostModel;this.childAt(0).updateData(e,n);var s=this.childAt(1),o=e.getItemModel(n),l=e.getItemVisual(n,"symbol"),u=cy(e.getItemVisual(n,"symbolSize")),c=e.getItemVisual(n,"style"),f=c&&c.fill,h=o.getModel("emphasis");s.setScale(u),s.traverse(function(g){g.setStyle("fill",f)});var d=zg(e.getItemVisual(n,"symbolOffset"),u);d&&(s.x=d[0],s.y=d[1]);var A=e.getItemVisual(n,"symbolRotate");s.rotation=(A||0)*Math.PI/180||0;var p={};p.showEffectOn=a.get("showEffectOn"),p.rippleScale=o.get(["rippleEffect","scale"]),p.brushType=o.get(["rippleEffect","brushType"]),p.period=o.get(["rippleEffect","period"])*1e3,p.effectOffset=n/e.count(),p.z=a.getShallow("z")||0,p.zlevel=a.getShallow("zlevel")||0,p.symbolType=l,p.color=f,p.rippleEffectColor=o.get(["rippleEffect","color"]),p.rippleNumber=o.get(["rippleEffect","number"]),p.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(g){g==="emphasis"?p.showEffectOn!=="render"&&i.startEffectAnimation(p):g==="normal"&&p.showEffectOn!=="render"&&i.stopEffectAnimation()}),this._effectCfg=p,di(this,h.get("focus"),h.get("blurScope"),h.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(ir),VCe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this._symbolDraw=new Yw(zCe)},t.prototype.render=function(e,n,i){var a=e.getData(),s=this._symbolDraw;s.updateData(a,{clipShape:this._getClipShape(e)}),this.group.add(s.group)},t.prototype._getClipShape=function(e){var n=e.coordinateSystem,i=n&&n.getArea&&n.getArea();return e.get("clip",!0)?i:null},t.prototype.updateTransform=function(e,n,i){var a=e.getData();this.group.dirty();var s=Jw("").reset(e,n,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var n=e.coordinateSystem;n&&n.getRoamTransform&&(this.group.transform=bee(n.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,n){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(Nn),GCe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,n){return Df(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,n,i){return i.point(n.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(Ln);function WCe(r){r.registerChartView(VCe),r.registerSeriesModel(GCe),r.registerLayout(Jw("effectScatter"))}var dse=function(r){Ge(t,r);function t(e,n,i){var a=r.call(this)||this;return a.add(a.createLine(e,n,i)),a._updateEffectSymbol(e,n),a}return t.prototype.createLine=function(e,n,i){return new AP(e,n,i)},t.prototype._updateEffectSymbol=function(e,n){var i=e.getItemModel(n),a=i.getModel("effect"),s=a.get("symbolSize"),o=a.get("symbol");xt(s)||(s=[s,s]);var l=e.getItemVisual(n,"style"),u=a.get("color")||l&&l.stroke,c=this.childAt(1);this._symbolType!==o&&(this.remove(c),c=ia(o,-.5,-.5,1,1,u),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",u),c.setStyle(a.getItemStyle(["color"])),c.scaleX=s[0],c.scaleY=s[1],c.setColor(u),this._symbolType=o,this._symbolScale=s,this._updateEffectAnimation(e,a,n))},t.prototype._updateEffectAnimation=function(e,n,i){var a=this.childAt(1);if(a){var s=e.getItemLayout(i),o=n.get("period")*1e3,l=n.get("loop"),u=n.get("roundTrip"),c=n.get("constantSpeed"),f=hs(n.get("delay"),function(d){return d/e.count()*o/3});if(a.ignore=!0,this._updateAnimationPoints(a,s),c>0&&(o=this._getLineLength(a)/c*1e3),o!==this._period||l!==this._loop||u!==this._roundTrip){a.stopAnimation();var h=void 0;rr(f)?h=f(i):h=f,a.__t>0&&(h=-o*a.__t),this._animateSymbol(a,o,h,l,u)}this._period=o,this._loop=l,this._roundTrip=u}},t.prototype._animateSymbol=function(e,n,i,a,s){if(n>0){e.__t=0;var o=this,l=e.animate("",a).when(s?n*2:n,{__t:s?2:1}).delay(i).during(function(){o._updateSymbolPosition(e)});a||l.done(function(){o.remove(e)}),l.start()}},t.prototype._getLineLength=function(e){return xh(e.__p1,e.__cp1)+xh(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,n){e.__p1=n[0],e.__p2=n[1],e.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},t.prototype.updateData=function(e,n,i){this.childAt(0).updateData(e,n,i),this._updateEffectSymbol(e,n)},t.prototype._updateSymbolPosition=function(e){var n=e.__p1,i=e.__p2,a=e.__cp1,s=e.__t<1?e.__t:2-e.__t,o=[e.x,e.y],l=o.slice(),u=us,c=W7;o[0]=u(n[0],a[0],i[0],s),o[1]=u(n[1],a[1],i[1],s);var f=e.__t<1?c(n[0],a[0],i[0],s):c(i[0],a[0],n[0],1-s),h=e.__t<1?c(n[1],a[1],i[1],s):c(i[1],a[1],n[1],1-s);e.rotation=-Math.atan2(h,f)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(e.__lastT!==void 0&&e.__lastT<e.__t?(e.scaleY=xh(l,o)*1.05,s===1&&(o[0]=l[0]+(o[0]-l[0])/2,o[1]=l[1]+(o[1]-l[1])/2)):e.__lastT===1?e.scaleY=2*xh(n,o):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=o[0],e.y=o[1]},t.prototype.updateLayout=function(e,n){this.childAt(0).updateLayout(e,n);var i=e.getItemModel(n).getModel("effect");this._updateEffectAnimation(e,i,n)},t}(ir),Ase=function(r){Ge(t,r);function t(e,n,i){var a=r.call(this)||this;return a._createPolyline(e,n,i),a}return t.prototype._createPolyline=function(e,n,i){var a=e.getItemLayout(n),s=new gs({shape:{points:a}});this.add(s),this._updateCommonStl(e,n,i)},t.prototype.updateData=function(e,n,i){var a=e.hostModel,s=this.childAt(0),o={shape:{points:e.getItemLayout(n)}};ln(s,o,a,n),this._updateCommonStl(e,n,i)},t.prototype._updateCommonStl=function(e,n,i){var a=this.childAt(0),s=e.getItemModel(n),o=i&&i.emphasisLineStyle,l=i&&i.focus,u=i&&i.blurScope,c=i&&i.emphasisDisabled;if(!i||e.hasItemOption){var f=s.getModel("emphasis");o=f.getModel("lineStyle").getLineStyle(),c=f.get("disabled"),l=f.get("focus"),u=f.get("blurScope")}a.useStyle(e.getItemVisual(n,"style")),a.style.fill=null,a.style.strokeNoScale=!0;var h=a.ensureState("emphasis");h.style=o,di(this,l,u,c)},t.prototype.updateLayout=function(e,n){var i=this.childAt(0);i.setShape("points",e.getItemLayout(n))},t}(ir),$Ce=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return t.prototype.createLine=function(e,n,i){return new Ase(e,n,i)},t.prototype._updateAnimationPoints=function(e,n){this._points=n;for(var i=[0],a=0,s=1;s<n.length;s++){var o=n[s-1],l=n[s];a+=xh(o,l),i.push(a)}if(a===0){this._length=0;return}for(var s=0;s<i.length;s++)i[s]/=a;this._offsets=i,this._length=a},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var n=e.__t<1?e.__t:2-e.__t,i=this._points,a=this._offsets,s=i.length;if(a){var o=this._lastFrame,l;if(n<this._lastFramePercent){var u=Math.min(o+1,s-1);for(l=u;l>=0&&!(a[l]<=n);l--);l=Math.min(l,s-2)}else{for(l=o;l<s&&!(a[l]>n);l++);l=Math.min(l-1,s-2)}var c=(n-a[l])/(a[l+1]-a[l]),f=i[l],h=i[l+1];e.x=f[0]*(1-c)+c*h[0],e.y=f[1]*(1-c)+c*h[1];var d=e.__t<1?h[0]-f[0]:f[0]-h[0],A=e.__t<1?h[1]-f[1]:f[1]-h[1];e.rotation=-Math.atan2(A,d)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=n,e.ignore=!1}},t}(dse),KCe=function(){function r(){this.polyline=!1,this.curveness=0,this.segs=[]}return r}(),qCe=function(r){Ge(t,r);function t(e){var n=r.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:Je.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new KCe},t.prototype.buildPath=function(e,n){var i=n.segs,a=n.curveness,s;if(n.polyline)for(s=this._off;s<i.length;){var o=i[s++];if(o>0){e.moveTo(i[s++],i[s++]);for(var l=1;l<o;l++)e.lineTo(i[s++],i[s++])}}else for(s=this._off;s<i.length;){var u=i[s++],c=i[s++],f=i[s++],h=i[s++];if(e.moveTo(u,c),a>0){var d=(u+f)/2-(c-h)*a,A=(c+h)/2-(f-u)*a;e.quadraticCurveTo(d,A,f,h)}else e.lineTo(f,h)}this.incremental&&(this._off=s,this.notClear=!0)},t.prototype.findDataIndex=function(e,n){var i=this.shape,a=i.segs,s=i.curveness,o=this.style.lineWidth;if(i.polyline)for(var l=0,u=0;u<a.length;){var c=a[u++];if(c>0)for(var f=a[u++],h=a[u++],d=1;d<c;d++){var A=a[u++],p=a[u++];if(Gd(f,h,A,p,o,e,n))return l}l++}else for(var l=0,u=0;u<a.length;){var f=a[u++],h=a[u++],A=a[u++],p=a[u++];if(s>0){var g=(f+A)/2-(h-p)*s,m=(h+p)/2-(A-f)*s;if(pte(f,h,g,m,A,p,o,e,n))return l}else if(Gd(f,h,A,p,o,e,n))return l;l++}return-1},t.prototype.contain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect();if(e=i[0],n=i[1],a.contain(e,n)){var s=this.hoverDataIdx=this.findDataIndex(e,n);return s>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var n=this.shape,i=n.segs,a=1/0,s=1/0,o=-1/0,l=-1/0,u=0;u<i.length;){var c=i[u++],f=i[u++];a=Math.min(c,a),o=Math.max(c,o),s=Math.min(f,s),l=Math.max(f,l)}e=this._rect=new fr(a,s,o,l)}return e},t}(Xr),XCe=function(){function r(){this.group=new ir}return r.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},r.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},r.prototype.incrementalUpdate=function(t,e){var n=this._newAdded[0],i=e.getLayout("linesPoints"),a=n&&n.shape.segs;if(a&&a.length<2e4){var s=a.length,o=new Float32Array(s+i.length);o.set(a),o.set(i,s),n.setShape({segs:o})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:i}),this._setCommon(l,e),l.__startIndex=t.start}},r.prototype.remove=function(){this._clear()},r.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},r.prototype._create=function(){var t=new qCe({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},r.prototype._setCommon=function(t,e,n){var i=e.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var a=e.getVisual("style");a&&a.stroke&&t.setStyle("stroke",a.stroke),t.setStyle("fill",null);var s=pr(t);s.seriesIndex=i.seriesIndex,t.on("mousemove",function(o){s.dataIndex=null;var l=t.hoverDataIdx;l>0&&(s.dataIndex=l+t.__startIndex)})},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}(),pse={seriesType:"lines",plan:ly(),reset:function(r){var t=r.coordinateSystem;if(t){var e=r.get("polyline"),n=r.pipelineContext.large;return{progress:function(i,a){var s=[];if(n){var o=void 0,l=i.end-i.start;if(e){for(var u=0,c=i.start;c<i.end;c++)u+=r.getLineCoordsCount(c);o=new Float32Array(l+u*2)}else o=new Float32Array(l*4);for(var f=0,h=[],c=i.start;c<i.end;c++){var d=r.getLineCoords(c,s);e&&(o[f++]=d);for(var A=0;A<d;A++)h=t.dataToPoint(s[A],!1,h),o[f++]=h[0],o[f++]=h[1]}a.setLayout("linesPoints",o)}else for(var c=i.start;c<i.end;c++){var p=a.getItemModel(c),d=r.getLineCoords(c,s),g=[];if(e)for(var m=0;m<d;m++)g.push(t.dataToPoint(s[m]));else{g[0]=t.dataToPoint(s[0]),g[1]=t.dataToPoint(s[1]);var v=p.get(["lineStyle","curveness"]);+v&&(g[2]=[(g[0][0]+g[1][0])/2-(g[0][1]-g[1][1])*v,(g[0][1]+g[1][1])/2-(g[1][0]-g[0][0])*v])}a.setItemLayout(c,g)}}}}}},YCe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=e.getData(),s=this._updateLineDraw(a,e),o=e.get("zlevel"),l=e.get(["effect","trailLength"]),u=i.getZr(),c=u.painter.getType()==="svg";c||u.painter.getLayer(o).clear(!0),this._lastZlevel!=null&&!c&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&l>0&&(c||u.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),s.updateData(a);var f=e.get("clip",!0)&&Zw(e.coordinateSystem,!1,e);f?this.group.setClipPath(f):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,n,i){var a=e.getData(),s=this._updateLineDraw(a,e);s.incrementalPrepareUpdate(a),this._clearLayer(i),this._finished=!1},t.prototype.incrementalRender=function(e,n,i){this._lineDraw.incrementalUpdate(e,n.getData()),this._finished=e.end===n.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,n,i){var a=e.getData(),s=e.pipelineContext;if(!this._finished||s.large||s.progressiveRender)return{update:!0};var o=pse.reset(e,n,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(i)},t.prototype._updateLineDraw=function(e,n){var i=this._lineDraw,a=this._showEffect(n),s=!!n.get("polyline"),o=n.pipelineContext,l=o.large;return(!i||a!==this._hasEffet||s!==this._isPolyline||l!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=l?new XCe:new pP(s?a?$Ce:Ase:a?dse:AP),this._hasEffet=a,this._isPolyline=s,this._isLargeDraw=l),this.group.add(i.group),i},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var n=e.getZr(),i=n.painter.getType()==="svg";!i&&this._lastZlevel!=null&&n.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},t.prototype.dispose=function(e,n){this.remove(e,n)},t.type="lines",t}(Nn),ZCe=typeof Uint32Array>"u"?Array:Uint32Array,JCe=typeof Float64Array>"u"?Array:Float64Array;function tG(r){var t=r.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(r.data=wt(t,function(e){var n=[e[0].coord,e[1].coord],i={coords:n};return e[0].name&&(i.fromName=e[0].name),e[1].name&&(i.toName=e[1].name),zC([i,e[0],e[1]])}))}var e8e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return t.prototype.init=function(e){e.data=e.data||[],tG(e);var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),r.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(e){if(tG(e),e.data){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count))}r.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var n=this._processFlatCoordsArray(e.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=S1(this._flatCoords,n.flatCoords),this._flatCoordsOffset=S1(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),e.data=new Float32Array(n.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var n=this.getData().getItemModel(e),i=n.option instanceof Array?n.option:n.getShallow("coords");return i},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[e*2+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,n){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[e*2],a=this._flatCoordsOffset[e*2+1],s=0;s<a;s++)n[s]=n[s]||[],n[s][0]=this._flatCoords[i+s*2],n[s][1]=this._flatCoords[i+s*2+1];return a}else{for(var o=this._getCoordsFromItemModel(e),s=0;s<o.length;s++)n[s]=n[s]||[],n[s][0]=o[s][0],n[s][1]=o[s][1];return o.length}},t.prototype._processFlatCoordsArray=function(e){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),an(e[0])){for(var i=e.length,a=new ZCe(i),s=new JCe(i),o=0,l=0,u=0,c=0;c<i;){u++;var f=e[c++];a[l++]=o+n,a[l++]=f;for(var h=0;h<f;h++){var d=e[c++],A=e[c++];s[o++]=d,s[o++]=A}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,l),flatCoords:s,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,n){var i=new lo(["value"],this);return i.hasItemOption=!1,i.initData(e.data,[],function(a,s,o,l){if(a instanceof Array)return NaN;i.hasItemOption=!0;var u=a.value;if(u!=null)return u instanceof Array?u[l]:u}),i},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),s=a.getItemModel(e),o=s.get("name");if(o)return o;var l=s.get("fromName"),u=s.get("toName"),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),ya("nameValue",{name:c.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return e??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),n=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&n>0?n+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(Ln);function s4(r){return r instanceof Array||(r=[r,r]),r}var t8e={seriesType:"lines",reset:function(r){var t=s4(r.get("symbol")),e=s4(r.get("symbolSize")),n=r.getData();n.setVisual("fromSymbol",t&&t[0]),n.setVisual("toSymbol",t&&t[1]),n.setVisual("fromSymbolSize",e&&e[0]),n.setVisual("toSymbolSize",e&&e[1]);function i(a,s){var o=a.getItemModel(s),l=s4(o.getShallow("symbol",!0)),u=s4(o.getShallow("symbolSize",!0));l[0]&&a.setItemVisual(s,"fromSymbol",l[0]),l[1]&&a.setItemVisual(s,"toSymbol",l[1]),u[0]&&a.setItemVisual(s,"fromSymbolSize",u[0]),u[1]&&a.setItemVisual(s,"toSymbolSize",u[1])}return{dataEach:n.hasItemOption?i:null}}};function r8e(r){r.registerChartView(YCe),r.registerSeriesModel(e8e),r.registerLayout(pse),r.registerVisual(t8e)}var n8e=256,i8e=function(){function r(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=il.createCanvas();this.canvas=t}return r.prototype.update=function(t,e,n,i,a,s){var o=this._getBrush(),l=this._getGradient(a,"inRange"),u=this._getGradient(a,"outOfRange"),c=this.pointSize+this.blurSize,f=this.canvas,h=f.getContext("2d"),d=t.length;f.width=e,f.height=n;for(var A=0;A<d;++A){var p=t[A],g=p[0],m=p[1],v=p[2],y=i(v);h.globalAlpha=y,h.drawImage(o,g-c,m-c)}if(!f.width||!f.height)return f;for(var b=h.getImageData(0,0,f.width,f.height),_=b.data,T=0,I=_.length,N=this.minOpacity,F=this.maxOpacity,P=F-N;T<I;){var y=_[T+3]/256,D=Math.floor(y*(n8e-1))*4;if(y>0){var R=s(y)?l:u;y>0&&(y=y*P+N),_[T++]=R[D],_[T++]=R[D+1],_[T++]=R[D+2],_[T++]=R[D+3]*y*256}else T+=4}return h.putImageData(b,0,0),f},r.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=il.createCanvas()),e=this.pointSize+this.blurSize,n=e*2;t.width=n,t.height=n;var i=t.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor=Je.color.neutral99,i.beginPath(),i.arc(-e,e,this.pointSize,0,Math.PI*2,!0),i.closePath(),i.fill(),t},r.prototype._getGradient=function(t,e){for(var n=this._gradientPixels,i=n[e]||(n[e]=new Uint8ClampedArray(256*4)),a=[0,0,0,0],s=0,o=0;o<256;o++)t[e](o/255,!0,a),i[s++]=a[0],i[s++]=a[1],i[s++]=a[2],i[s++]=a[3];return i},r}();function a8e(r,t,e){var n=r[1]-r[0];t=wt(t,function(s){return{interval:[(s.interval[0]-r[0])/n,(s.interval[1]-r[0])/n]}});var i=t.length,a=0;return function(s){var o;for(o=a;o<i;o++){var l=t[o].interval;if(l[0]<=s&&s<=l[1]){a=o;break}}if(o===i)for(o=a-1;o>=0;o--){var l=t[o].interval;if(l[0]<=s&&s<=l[1]){a=o;break}}return o>=0&&o<i&&e[o]}}function s8e(r,t){var e=r[1]-r[0];return t=[(t[0]-r[0])/e,(t[1]-r[0])/e],function(n){return n>=t[0]&&n<=t[1]}}function rG(r){var t=r.dimensions;return t[0]==="lng"&&t[1]==="lat"}var o8e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a;n.eachComponent("visualMap",function(o){o.eachTargetSeries(function(l){l===e&&(a=o)})}),this._progressiveEls=null,this.group.removeAll();var s=e.coordinateSystem;s.type==="cartesian2d"||s.type==="calendar"||s.type==="matrix"?this._renderOnGridLike(e,i,0,e.getData().count()):rG(s)&&this._renderOnGeo(s,e,a,i)},t.prototype.incrementalPrepareRender=function(e,n,i){this.group.removeAll()},t.prototype.incrementalRender=function(e,n,i,a){var s=n.coordinateSystem;s&&(rG(s)?this.render(n,i,a):(this._progressiveEls=[],this._renderOnGridLike(n,a,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){h0(this._progressiveEls||this.group,e)},t.prototype._renderOnGridLike=function(e,n,i,a,s){var o=e.coordinateSystem,l=YA(o,"cartesian2d"),u=YA(o,"matrix"),c,f,h,d;if(l){var A=o.getAxis("x"),p=o.getAxis("y");c=A.getBandWidth()+.5,f=p.getBandWidth()+.5,h=A.scale.getExtent(),d=p.scale.getExtent()}for(var g=this.group,m=e.getData(),v=e.getModel(["emphasis","itemStyle"]).getItemStyle(),y=e.getModel(["blur","itemStyle"]).getItemStyle(),b=e.getModel(["select","itemStyle"]).getItemStyle(),_=e.get(["itemStyle","borderRadius"]),T=Ma(e),I=e.getModel("emphasis"),N=I.get("focus"),F=I.get("blurScope"),P=I.get("disabled"),D=l||u?[m.mapDimension("x"),m.mapDimension("y"),m.mapDimension("value")]:[m.mapDimension("time"),m.mapDimension("value")],R=i;R<a;R++){var E=void 0,L=m.getItemVisual(R,"style");if(l){var k=m.get(D[0],R),w=m.get(D[1],R);if(isNaN(m.get(D[2],R))||isNaN(k)||isNaN(w)||k<h[0]||k>h[1]||w<d[0]||w>d[1])continue;var C=o.dataToPoint([k,w]);E=new zr({shape:{x:C[0]-c/2,y:C[1]-f/2,width:c,height:f},style:L})}else if(u){var S=o.dataToLayout([m.get(D[0],R),m.get(D[1],R)]).rect;if(Ds(S.x))continue;E=new zr({z2:1,shape:S,style:L})}else{if(isNaN(m.get(D[1],R)))continue;var B=o.dataToLayout([m.get(D[0],R)]),S=B.contentRect||B.rect;if(Ds(S.x)||Ds(S.y))continue;E=new zr({z2:1,shape:S,style:L})}if(m.hasItemOption){var O=m.getItemModel(R),V=O.getModel("emphasis");v=V.getModel("itemStyle").getItemStyle(),y=O.getModel(["blur","itemStyle"]).getItemStyle(),b=O.getModel(["select","itemStyle"]).getItemStyle(),_=O.get(["itemStyle","borderRadius"]),N=V.get("focus"),F=V.get("blurScope"),P=V.get("disabled"),T=Ma(O)}E.shape.r=_;var M=e.getRawValue(R),U="-";M&&M[2]!=null&&(U=M[2]+""),Ja(E,T,{labelFetcher:e,labelDataIndex:R,defaultOpacity:L.opacity,defaultText:U}),E.ensureState("emphasis").style=v,E.ensureState("blur").style=y,E.ensureState("select").style=b,di(E,N,F,P),E.incremental=s,s&&(E.states.emphasis.hoverLayer=!0),g.add(E),m.setItemGraphicEl(R,E),this._progressiveEls&&this._progressiveEls.push(E)}},t.prototype._renderOnGeo=function(e,n,i,a){var s=i.targetVisuals.inRange,o=i.targetVisuals.outOfRange,l=n.getData(),u=this._hmLayer||this._hmLayer||new i8e;u.blurSize=n.get("blurSize"),u.pointSize=n.get("pointSize"),u.minOpacity=n.get("minOpacity"),u.maxOpacity=n.get("maxOpacity");var c=e.getViewRect().clone(),f=e.getRoamTransform();c.applyTransform(f);var h=Math.max(c.x,0),d=Math.max(c.y,0),A=Math.min(c.width+c.x,a.getWidth()),p=Math.min(c.height+c.y,a.getHeight()),g=A-h,m=p-d,v=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],y=l.mapArray(v,function(I,N,F){var P=e.dataToPoint([I,N]);return P[0]-=h,P[1]-=d,P.push(F),P}),b=i.getExtent(),_=i.type==="visualMap.continuous"?s8e(b,i.option.range):a8e(b,i.getPieceList(),i.option.selected);u.update(y,g,m,s.color.getNormalizer(),{inRange:s.color.getColorMapper(),outOfRange:o.color.getColorMapper()},_);var T=new es({style:{width:g,height:m,x:h,y:d,image:u.canvas},silent:!0});this.group.add(T)},t.type="heatmap",t}(Nn),l8e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,n){return Df(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=oy.get(this.get("coordinateSystem"));if(e&&e.dimensions)return e.dimensions[0]==="lng"&&e.dimensions[1]==="lat"},t.type="series.heatmap",t.dependencies=["grid","geo","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:Je.color.primary}}},t}(Ln);function u8e(r){r.registerChartView(o8e),r.registerSeriesModel(l8e)}var c8e=["itemStyle","borderWidth"],nG=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],WE=new Lf,f8e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=this.group,s=e.getData(),o=this._data,l=e.coordinateSystem,u=l.getBaseAxis(),c=u.isHorizontal(),f=l.master.getRect(),h={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:e,coordSys:l,coordSysExtent:[[f.x,f.x+f.width],[f.y,f.y+f.height]],isHorizontal:c,valueDim:nG[+c],categoryDim:nG[1-+c]};s.diff(o).add(function(A){if(s.hasValue(A)){var p=aG(s,A),g=iG(s,A,p,h),m=sG(s,h,g);s.setItemGraphicEl(A,m),a.add(m),lG(m,h,g)}}).update(function(A,p){var g=o.getItemGraphicEl(p);if(!s.hasValue(A)){a.remove(g);return}var m=aG(s,A),v=iG(s,A,m,h),y=bse(s,v);g&&y!==g.__pictorialShapeStr&&(a.remove(g),s.setItemGraphicEl(A,null),g=null),g?v8e(g,h,v):g=sG(s,h,v,!0),s.setItemGraphicEl(A,g),g.__pictorialSymbolMeta=v,a.add(g),lG(g,h,v)}).remove(function(A){var p=o.getItemGraphicEl(A);p&&oG(o,A,p.__pictorialSymbolMeta.animationModel,p)}).execute();var d=e.get("clip",!0)?Zw(e.coordinateSystem,!1,e):null;return d?a.setClipPath(d):a.removeClipPath(),this._data=s,this.group},t.prototype.remove=function(e,n){var i=this.group,a=this._data;e.get("animation")?a&&a.eachItemGraphicEl(function(s){oG(a,pr(s).dataIndex,e,s)}):i.removeAll()},t.type="pictorialBar",t}(Nn);function iG(r,t,e,n){var i=r.getItemLayout(t),a=e.get("symbolRepeat"),s=e.get("symbolClip"),o=e.get("symbolPosition")||"start",l=e.get("symbolRotate"),u=(l||0)*Math.PI/180||0,c=e.get("symbolPatternSize")||2,f=e.isAnimationEnabled(),h={dataIndex:t,layout:i,itemModel:e,symbolType:r.getItemVisual(t,"symbol")||"circle",style:r.getItemVisual(t,"style"),symbolClip:s,symbolRepeat:a,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:f?e:null,hoverScale:f&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};h8e(e,a,i,n,h),d8e(r,t,i,a,s,h.boundingLength,h.pxSign,c,n,h),A8e(e,h.symbolScale,u,n,h);var d=h.symbolSize,A=zg(e.get("symbolOffset"),d);return p8e(e,d,i,a,s,A,o,h.valueLineWidth,h.boundingLength,h.repeatCutLength,n,h),h}function h8e(r,t,e,n,i){var a=n.valueDim,s=r.get("symbolBoundingData"),o=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),l=o.toGlobalCoord(o.dataToCoord(0)),u=1-+(e[a.wh]<=0),c;if(xt(s)){var f=[$E(o,s[0])-l,$E(o,s[1])-l];f[1]<f[0]&&f.reverse(),c=f[u]}else s!=null?c=$E(o,s)-l:t?c=n.coordSysExtent[a.index][u]-l:c=e[a.wh];i.boundingLength=c,t&&(i.repeatCutLength=e[a.wh]);var h=a.xy==="x",d=o.inverse;i.pxSign=h&&!d||!h&&d?c>=0?1:-1:c>0?1:-1}function $E(r,t){return r.toGlobalCoord(r.dataToCoord(r.scale.parse(t)))}function d8e(r,t,e,n,i,a,s,o,l,u){var c=l.valueDim,f=l.categoryDim,h=Math.abs(e[f.wh]),d=r.getItemVisual(t,"symbolSize"),A;xt(d)?A=d.slice():d==null?A=["100%","100%"]:A=[d,d],A[f.index]=Ut(A[f.index],h),A[c.index]=Ut(A[c.index],n?h:Math.abs(a)),u.symbolSize=A;var p=u.symbolScale=[A[0]/o,A[1]/o];p[c.index]*=(l.isHorizontal?-1:1)*s}function A8e(r,t,e,n,i){var a=r.get(c8e)||0;a&&(WE.attr({scaleX:t[0],scaleY:t[1],rotation:e}),WE.updateTransform(),a/=WE.getLineScale(),a*=t[n.valueDim.index]),i.valueLineWidth=a||0}function p8e(r,t,e,n,i,a,s,o,l,u,c,f){var h=c.categoryDim,d=c.valueDim,A=f.pxSign,p=Math.max(t[d.index]+o,0),g=p;if(n){var m=Math.abs(l),v=hs(r.get("symbolMargin"),"15%")+"",y=!1;v.lastIndexOf("!")===v.length-1&&(y=!0,v=v.slice(0,v.length-1));var b=Ut(v,t[d.index]),_=Math.max(p+b*2,0),T=y?0:b*2,I=LD(n),N=I?n:uG((m+T)/_),F=m-N*p;b=F/2/(y?N:Math.max(N-1,1)),_=p+b*2,T=y?0:b*2,!I&&n!=="fixed"&&(N=u?uG((Math.abs(u)+T)/_):0),g=N*_-T,f.repeatTimes=N,f.symbolMargin=b}var P=A*(g/2),D=f.pathPosition=[];D[h.index]=e[h.wh]/2,D[d.index]=s==="start"?P:s==="end"?l-P:l/2,a&&(D[0]+=a[0],D[1]+=a[1]);var R=f.bundlePosition=[];R[h.index]=e[h.xy],R[d.index]=e[d.xy];var E=f.barRectShape=pt({},e);E[d.wh]=A*Math.max(Math.abs(e[d.wh]),Math.abs(D[d.index]+P)),E[h.wh]=e[h.wh];var L=f.clipShape={};L[h.xy]=-e[h.xy],L[h.wh]=c.ecSize[h.wh],L[d.xy]=0,L[d.wh]=e[d.wh]}function gse(r){var t=r.symbolPatternSize,e=ia(r.symbolType,-t/2,-t/2,t,t);return e.attr({culling:!0}),e.type!=="image"&&e.setStyle({strokeNoScale:!0}),e}function mse(r,t,e,n){var i=r.__pictorialBundle,a=e.symbolSize,s=e.valueLineWidth,o=e.pathPosition,l=t.valueDim,u=e.repeatTimes||0,c=0,f=a[t.valueDim.index]+s+e.symbolMargin*2;for(BP(r,function(p){p.__pictorialAnimationIndex=c,p.__pictorialRepeatTimes=u,c<u?Wv(p,null,A(c),e,n):Wv(p,null,{scaleX:0,scaleY:0},e,n,function(){i.remove(p)}),c++});c<u;c++){var h=gse(e);h.__pictorialAnimationIndex=c,h.__pictorialRepeatTimes=u,i.add(h);var d=A(c);Wv(h,{x:d.x,y:d.y,scaleX:0,scaleY:0},{scaleX:d.scaleX,scaleY:d.scaleY,rotation:d.rotation},e,n)}function A(p){var g=o.slice(),m=e.pxSign,v=p;return(e.symbolRepeatDirection==="start"?m>0:m<0)&&(v=u-1-p),g[l.index]=f*(v-u/2+.5)+o[l.index],{x:g[0],y:g[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function vse(r,t,e,n){var i=r.__pictorialBundle,a=r.__pictorialMainPath;a?Wv(a,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,n):(a=r.__pictorialMainPath=gse(e),i.add(a),Wv(a,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,n))}function yse(r,t,e){var n=pt({},t.barRectShape),i=r.__pictorialBarRect;i?Wv(i,null,{shape:n},t,e):(i=r.__pictorialBarRect=new zr({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,r.add(i))}function xse(r,t,e,n){if(e.symbolClip){var i=r.__pictorialClipPath,a=pt({},e.clipShape),s=t.valueDim,o=e.animationModel,l=e.dataIndex;if(i)ln(i,{shape:a},o,l);else{a[s.wh]=0,i=new zr({shape:a}),r.__pictorialBundle.setClipPath(i),r.__pictorialClipPath=i;var u={};u[s.wh]=e.clipShape[s.wh],Ug[n?"updateProps":"initProps"](i,{shape:u},o,l)}}}function aG(r,t){var e=r.getItemModel(t);return e.getAnimationDelayParams=g8e,e.isAnimationEnabled=m8e,e}function g8e(r){return{index:r.__pictorialAnimationIndex,count:r.__pictorialRepeatTimes}}function m8e(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function sG(r,t,e,n){var i=new ir,a=new ir;return i.add(a),i.__pictorialBundle=a,a.x=e.bundlePosition[0],a.y=e.bundlePosition[1],e.symbolRepeat?mse(i,t,e):vse(i,t,e),yse(i,e,n),xse(i,t,e,n),i.__pictorialShapeStr=bse(r,e),i.__pictorialSymbolMeta=e,i}function v8e(r,t,e){var n=e.animationModel,i=e.dataIndex,a=r.__pictorialBundle;ln(a,{x:e.bundlePosition[0],y:e.bundlePosition[1]},n,i),e.symbolRepeat?mse(r,t,e,!0):vse(r,t,e,!0),yse(r,e,!0),xse(r,t,e,!0)}function oG(r,t,e,n){var i=n.__pictorialBarRect;i&&i.removeTextContent();var a=[];BP(n,function(s){a.push(s)}),n.__pictorialMainPath&&a.push(n.__pictorialMainPath),n.__pictorialClipPath&&(e=null),se(a,function(s){XA(s,{scaleX:0,scaleY:0},e,t,function(){n.parent&&n.parent.remove(n)})}),r.setItemGraphicEl(t,null)}function bse(r,t){return[r.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function BP(r,t,e){se(r.__pictorialBundle.children(),function(n){n!==r.__pictorialBarRect&&t.call(e,n)})}function Wv(r,t,e,n,i,a){t&&r.attr(t),n.symbolClip&&!i?e&&r.attr(e):e&&Ug[i?"updateProps":"initProps"](r,e,n.animationModel,n.dataIndex,a)}function lG(r,t,e){var n=e.dataIndex,i=e.itemModel,a=i.getModel("emphasis"),s=a.getModel("itemStyle").getItemStyle(),o=i.getModel(["blur","itemStyle"]).getItemStyle(),l=i.getModel(["select","itemStyle"]).getItemStyle(),u=i.getShallow("cursor"),c=a.get("focus"),f=a.get("blurScope"),h=a.get("scale");BP(r,function(p){if(p instanceof es){var g=p.style;p.useStyle(pt({image:g.image,x:g.x,y:g.y,width:g.width,height:g.height},e.style))}else p.useStyle(e.style);var m=p.ensureState("emphasis");m.style=s,h&&(m.scaleX=p.scaleX*1.1,m.scaleY=p.scaleY*1.1),p.ensureState("blur").style=o,p.ensureState("select").style=l,u&&(p.cursor=u),p.z2=e.z2});var d=t.valueDim.posDesc[+(e.boundingLength>0)],A=r.__pictorialBarRect;A.ignoreClip=!0,Ja(A,Ma(i),{labelFetcher:t.seriesModel,labelDataIndex:n,defaultText:D1(t.seriesModel.getData(),n),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:d}),di(r,c,f,a.get("disabled"))}function uG(r){var t=Math.round(r);return Math.abs(r-t)<1e-4?t:Math.ceil(r)}var y8e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return t.prototype.getInitialData=function(e){return e.stack=null,r.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=d0(Gb.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:Je.color.primary}}}),t}(Gb);function x8e(r){r.registerChartView(f8e),r.registerSeriesModel(y8e),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,Nr(Hne,"pictorialBar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Qne("pictorialBar"))}var b8e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._layers=[],e}return t.prototype.render=function(e,n,i){var a=e.getData(),s=this,o=this.group,l=e.getLayerSeries(),u=a.getLayout("layoutInfo"),c=u.rect,f=u.boundaryGap;o.x=0,o.y=c.y+f[0];function h(g){return g.name}var d=new Gh(this._layersSeries||[],l,h,h),A=[];d.add(Qt(p,this,"add")).update(Qt(p,this,"update")).remove(Qt(p,this,"remove")).execute();function p(g,m,v){var y=s._layers;if(g==="remove"){o.remove(y[m]);return}for(var b=[],_=[],T,I=l[m].indices,N=0;N<I.length;N++){var F=a.getItemLayout(I[N]),P=F.x,D=F.y0,R=F.y;b.push(P,D),_.push(P,D+R),T=a.getItemVisual(I[N],"style")}var E,L=a.getItemLayout(I[0]),k=e.getModel("label"),w=k.get("margin"),C=e.getModel("emphasis");if(g==="add"){var S=A[m]=new ir;E=new Iie({shape:{points:b,stackedOnPoints:_,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),S.add(E),o.add(S),e.isAnimationEnabled()&&E.setClipPath(w8e(E.getBoundingRect(),e,function(){E.removeClipPath()}))}else{var S=y[v];E=S.childAt(0),o.add(S),A[m]=S,ln(E,{shape:{points:b,stackedOnPoints:_}},e),Fu(E)}Ja(E,Ma(e),{labelDataIndex:I[N-1],defaultText:a.getName(I[N-1]),inheritColor:T.fill},{normal:{verticalAlign:"middle"}}),E.setTextConfig({position:null,local:!0});var B=E.getTextContent();B&&(B.x=L.x-w,B.y=L.y0+L.y/2),E.useStyle(T),a.setItemGraphicEl(m,E),Ia(E,e),di(E,C.get("focus"),C.get("blurScope"),C.get("disabled"))}this._layersSeries=l,this._layers=A},t.type="themeRiver",t}(Nn);function w8e(r,t,e){var n=new zr({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return ni(n,{shape:{x:r.x-50,width:r.width+100,height:r.height+20}},t,e),n}var KE=2,_8e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new gy(Qt(this.getData,this),Qt(this.getRawData,this))},t.prototype.fixData=function(e){var n=e.length,i={},a=lF(e,function(h){return i.hasOwnProperty(h[0]+"")||(i[h[0]+""]=-1),h[2]}),s=[];a.buckets.each(function(h,d){s.push({name:d,dataList:h})});for(var o=s.length,l=0;l<o;++l){for(var u=s[l].name,c=0;c<s[l].dataList.length;++c){var f=s[l].dataList[c][0]+"";i[f]=l}for(var f in i)i.hasOwnProperty(f)&&i[f]!==l&&(i[f]=l,e[n]=[f,0,u],n++)}return e},t.prototype.getInitialData=function(e,n){for(var i=this.getReferringComponents("singleAxis",Ni).models[0],a=i.get("type"),s=dn(e.data,function(A){return A[2]!==void 0}),o=this.fixData(s||[]),l=[],u=this.nameMap=Xt(),c=0,f=0;f<o.length;++f)l.push(o[f][KE]),u.get(o[f][KE])||(u.set(o[f][KE],c),c++);var h=fy(o,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:l6(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,d=new lo(h,this);return d.initData(o),d},t.prototype.getLayerSeries=function(){for(var e=this.getData(),n=e.count(),i=[],a=0;a<n;++a)i[a]=a;var s=e.mapDimension("single"),o=lF(i,function(u){return e.get("name",u)}),l=[];return o.buckets.each(function(u,c){u.sort(function(f,h){return e.get(s,f)-e.get(s,h)}),l.push({name:c,indices:u})}),l},t.prototype.getAxisTooltipData=function(e,n,i){xt(e)||(e=e?[e]:[]);for(var a=this.getData(),s=this.getLayerSeries(),o=[],l=s.length,u,c=0;c<l;++c){for(var f=Number.MAX_VALUE,h=-1,d=s[c].indices.length,A=0;A<d;++A){var p=a.get(e[0],s[c].indices[A]),g=Math.abs(p-n);g<=f&&(u=p,f=g,h=s[c].indices[A])}o.push(h)}return{dataIndices:o,nestestValue:u}},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),s=a.getName(e),o=a.get(a.mapDimension("value"),e);return ya("nameValue",{name:s,value:o})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(Ln);function S8e(r,t){r.eachSeriesByType("themeRiver",function(e){var n=e.getData(),i=e.coordinateSystem,a={},s=i.getRect();a.rect=s;var o=e.get("boundaryGap"),l=i.getAxis();if(a.boundaryGap=o,l.orient==="horizontal"){o[0]=Ut(o[0],s.height),o[1]=Ut(o[1],s.height);var u=s.height-o[0]-o[1];cG(n,e,u)}else{o[0]=Ut(o[0],s.width),o[1]=Ut(o[1],s.width);var c=s.width-o[0]-o[1];cG(n,e,c)}n.setLayout("layoutInfo",a)})}function cG(r,t,e){if(r.count())for(var n=t.coordinateSystem,i=t.getLayerSeries(),a=r.mapDimension("single"),s=r.mapDimension("value"),o=wt(i,function(g){return wt(g.indices,function(m){var v=n.dataToPoint(r.get(a,m));return v[1]=r.get(s,m),v})}),l=C8e(o),u=l.y0,c=e/l.max,f=i.length,h=i[0].indices.length,d,A=0;A<h;++A){d=u[A]*c,r.setItemLayout(i[0].indices[A],{layerIndex:0,x:o[0][A][0],y0:d,y:o[0][A][1]*c});for(var p=1;p<f;++p)d+=o[p-1][A][1]*c,r.setItemLayout(i[p].indices[A],{layerIndex:p,x:o[p][A][0],y0:d,y:o[p][A][1]*c})}}function C8e(r){for(var t=r.length,e=r[0].length,n=[],i=[],a=0,s=0;s<e;++s){for(var o=0,l=0;l<t;++l)o+=r[l][s][1];o>a&&(a=o),n.push(o)}for(var u=0;u<e;++u)i[u]=(a-n[u])/2;a=0;for(var c=0;c<e;++c){var f=n[c]+i[c];f>a&&(a=f)}return{y0:i,max:a}}function B8e(r){r.registerChartView(b8e),r.registerSeriesModel(_8e),r.registerLayout(S8e),r.registerProcessor(Ay("themeRiver"))}var T8e=2,E8e=4,fG=function(r){Ge(t,r);function t(e,n,i,a){var s=r.call(this)||this;s.z2=T8e,s.textConfig={inside:!0},pr(s).seriesIndex=n.seriesIndex;var o=new nn({z2:E8e,silent:e.getModel().get(["label","silent"])});return s.setTextContent(o),s.updateData(!0,e,n,i,a),s}return t.prototype.updateData=function(e,n,i,a,s){this.node=n,n.piece=this,i=i||this._seriesModel,a=a||this._ecModel;var o=this;pr(o).dataIndex=n.dataIndex;var l=n.getModel(),u=l.getModel("emphasis"),c=n.getLayout(),f=pt({},c);f.label=null;var h=n.getVisual("style");h.lineJoin="bevel";var d=n.getVisual("decal");d&&(h.decal=I1(d,s));var A=df(l.getModel("itemStyle"),f,!0);pt(f,A),se(Lo,function(v){var y=o.ensureState(v),b=l.getModel([v,"itemStyle"]);y.style=b.getItemStyle();var _=df(b,f);_&&(y.shape=_)}),e?(o.setShape(f),o.shape.r=c.r0,ni(o,{shape:{r:c.r}},i,n.dataIndex)):(ln(o,{shape:f},i),Fu(o)),o.useStyle(h),this._updateLabel(i);var p=l.getShallow("cursor");p&&o.attr("cursor",p),this._seriesModel=i||this._seriesModel,this._ecModel=a||this._ecModel;var g=u.get("focus"),m=g==="relative"?S1(n.getAncestorsIndices(),n.getDescendantIndices()):g==="ancestor"?n.getAncestorsIndices():g==="descendant"?n.getDescendantIndices():g;di(this,m,u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e){var n=this,i=this.node.getModel(),a=i.getModel("label"),s=this.node.getLayout(),o=s.endAngle-s.startAngle,l=(s.startAngle+s.endAngle)/2,u=Math.cos(l),c=Math.sin(l),f=this,h=f.getTextContent(),d=this.node.dataIndex,A=a.get("minAngle")/180*Math.PI,p=a.get("show")&&!(A!=null&&Math.abs(o)<A);h.ignore=!p,se(Fb,function(m){var v=m==="normal"?i.getModel("label"):i.getModel([m,"label"]),y=m==="normal",b=y?h:h.ensureState(m),_=e.getFormattedLabel(d,m);y&&(_=_||n.node.name),b.style=jn(v,{},null,m!=="normal",!0),_&&(b.style.text=_);var T=v.get("show");T!=null&&!y&&(b.ignore=!T);var I=g(v,"position"),N=y?f:f.states[m],F=N.style.fill;N.textConfig={outsideFill:v.get("color")==="inherit"?F:null,inside:I!=="outside"};var P,D=g(v,"distance")||0,R=g(v,"align"),E=g(v,"rotate"),L=Math.PI*.5,k=Math.PI*1.5,w=Dl(E==="tangential"?Math.PI/2-l:l),C=w>L&&!T1(w-L)&&w<k;I==="outside"?(P=s.r+D,R=C?"right":"left"):!R||R==="center"?(o===2*Math.PI&&s.r0===0?P=0:P=(s.r+s.r0)/2,R="center"):R==="left"?(P=s.r0+D,R=C?"right":"left"):R==="right"&&(P=s.r-D,R=C?"left":"right"),b.style.align=R,b.style.verticalAlign=g(v,"verticalAlign")||"middle",b.x=P*u+s.cx,b.y=P*c+s.cy;var S=0;E==="radial"?S=Dl(-l)+(C?Math.PI:0):E==="tangential"?S=Dl(Math.PI/2-l)+(C?Math.PI:0):an(E)&&(S=E*Math.PI/180),b.rotation=Dl(S)});function g(m,v){var y=m.get(v);return y??a.get(v)}h.dirtyStyle()},t}(Us),SI="sunburstRootToNode",hG="sunburstHighlight",k8e="sunburstUnhighlight";function N8e(r){r.registerAction({type:SI,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},n);function n(i,a){var s=$b(t,[SI],i);if(s){var o=i.getViewRoot();o&&(t.direction=uP(o,s.node)?"rollUp":"drillDown"),i.resetViewRoot(s.node)}}}),r.registerAction({type:hG,update:"none"},function(t,e,n){t=pt({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},i);function i(a){var s=$b(t,[hG],a);s&&(t.dataIndex=s.node.dataIndex)}n.dispatchAction(pt(t,{type:"highlight"}))}),r.registerAction({type:k8e,update:"updateView"},function(t,e,n){t=pt({},t),n.dispatchAction(pt(t,{type:"downplay"}))})}var F8e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){var s=this;this.seriesModel=e,this.api=i,this.ecModel=n;var o=e.getData(),l=o.tree.root,u=e.getViewRoot(),c=this.group,f=e.get("renderLabelForZeroData"),h=[];u.eachNode(function(v){h.push(v)});var d=this._oldChildren||[];A(h,d),m(l,u),this._initEvents(),this._oldChildren=h;function A(v,y){if(v.length===0&&y.length===0)return;new Gh(y,v,b,b).add(_).update(_).remove(Nr(_,null)).execute();function b(T){return T.getId()}function _(T,I){var N=T==null?null:v[T],F=I==null?null:y[I];p(N,F)}}function p(v,y){if(!f&&v&&!v.getValue()&&(v=null),v!==l&&y!==l){if(y&&y.piece)v?(y.piece.updateData(!1,v,e,n,i),o.setItemGraphicEl(v.dataIndex,y.piece)):g(y);else if(v){var b=new fG(v,e,n,i);c.add(b),o.setItemGraphicEl(v.dataIndex,b)}}}function g(v){v&&v.piece&&(c.remove(v.piece),v.piece=null)}function m(v,y){y.depth>0?(s.virtualPiece?s.virtualPiece.updateData(!1,v,e,n,i):(s.virtualPiece=new fG(v,e,n,i),c.add(s.virtualPiece)),y.piece.off("click"),s.virtualPiece.on("click",function(b){s._rootToNode(y.parentNode)})):s.virtualPiece&&(c.remove(s.virtualPiece),s.virtualPiece=null)}},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(n){var i=!1,a=e.seriesModel.getViewRoot();a.eachNode(function(s){if(!i&&s.piece&&s.piece===n.target){var o=s.getModel().get("nodeClick");if(o==="rootToNode")e._rootToNode(s);else if(o==="link"){var l=s.getModel(),u=l.get("link");if(u){var c=l.get("target",!0)||"_blank";ZS(u,c)}}i=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:SI,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var s=e[0]-a.cx,o=e[1]-a.cy,l=Math.sqrt(s*s+o*o);return l<=a.r&&l>=a.r0}},t.type="sunburst",t}(Nn),I8e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.ignoreStyleOnData=!0,e}return t.prototype.getInitialData=function(e,n){var i={name:e.name,children:e.data};wse(i);var a=this._levelModels=wt(e.levels||[],function(l){return new qr(l,this,n)},this),s=lP.createTree(i,this,o);function o(l){l.wrapMethod("getItemModel",function(u,c){var f=s.getNodeByDataIndex(c),h=a[f.depth];return h&&(u.parentModel=h),u})}return s.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(e){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treePathInfo=b8(i,this),n},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var n=this.getRawData().tree.root;(!e||e!==n&&!n.contains(e))&&(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){Bae(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(Ln);function wse(r){var t=0;se(r.children,function(n){wse(n);var i=n.value;xt(i)&&(i=i[0]),t+=i});var e=r.value;xt(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),xt(r.value)?r.value[0]=e:r.value=e}var dG=Math.PI/180;function M8e(r,t,e){t.eachSeriesByType(r,function(n){var i=n.get("center"),a=n.get("radius");xt(a)||(a=[0,a]),xt(i)||(i=[i,i]);var s=e.getWidth(),o=e.getHeight(),l=Math.min(s,o),u=Ut(i[0],s),c=Ut(i[1],o),f=Ut(a[0],l/2),h=Ut(a[1],l/2),d=-n.get("startAngle")*dG,A=n.get("minAngle")*dG,p=n.getData().tree.root,g=n.getViewRoot(),m=g.depth,v=n.get("sort");v!=null&&_se(g,v);var y=0;se(g.children,function(w){!isNaN(w.getValue())&&y++});var b=g.getValue(),_=Math.PI/(b||y)*2,T=g.depth>0,I=g.height-(T?-1:1),N=(h-f)/(I||1),F=n.get("clockwise"),P=n.get("stillShowZeroSum"),D=F?1:-1,R=function(w,C){if(w){var S=C;if(w!==p){var B=w.getValue(),O=b===0&&P?_:B*_;O<A&&(O=A),S=C+D*O;var V=w.depth-m-(T?-1:1),M=f+N*V,U=f+N*(V+1),Q=n.getLevelModel(w);if(Q){var W=Q.get("r0",!0),j=Q.get("r",!0),X=Q.get("radius",!0);X!=null&&(W=X[0],j=X[1]),W!=null&&(M=Ut(W,l/2)),j!=null&&(U=Ut(j,l/2))}w.setLayout({angle:O,startAngle:C,endAngle:S,clockwise:F,cx:u,cy:c,r0:M,r:U})}if(w.children&&w.children.length){var z=0;se(w.children,function(H){z+=R(H,C+z)})}return S-C}};if(T){var E=f,L=f+N,k=Math.PI*2;p.setLayout({angle:k,startAngle:d,endAngle:d+k,clockwise:F,cx:u,cy:c,r0:E,r:L})}R(g,d)})}function _se(r,t){var e=r.children||[];r.children=L8e(e,t),e.length&&se(r.children,function(n){_se(n,t)})}function L8e(r,t){if(rr(t)){var e=wt(r,function(i,a){var s=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return s}},index:a}});return e.sort(function(i,a){return t(i.params,a.params)}),wt(e,function(i){return r[i.index]})}else{var n=t==="asc";return r.sort(function(i,a){var s=(i.getValue()-a.getValue())*(n?1:-1);return s===0?(i.dataIndex-a.dataIndex)*(n?-1:1):s})}}function D8e(r){var t={};function e(n,i,a){if(n.depth===0)return Je.color.neutral50;for(var s=n;s&&s.depth>1;)s=s.parentNode;var o=i.getColorFromPalette(s.name||s.dataIndex+"",t);return n.depth>1&&Ht(o)&&(o=OS(o,(n.depth-1)/(a-1)*.5)),o}r.eachSeriesByType("sunburst",function(n){var i=n.getData(),a=i.tree;a.eachNode(function(s){var o=s.getModel(),l=o.getModel("itemStyle").getItemStyle();l.fill||(l.fill=e(s,n,a.root.height));var u=i.ensureUniqueItemVisual(s.dataIndex,"style");pt(u,l)})})}function P8e(r){r.registerChartView(F8e),r.registerSeriesModel(I8e),r.registerLayout(Nr(M8e,"sunburst")),r.registerProcessor(Nr(Ay,"sunburst")),r.registerVisual(D8e),N8e(r)}var AG={color:"fill",borderColor:"stroke"},R8e={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Nh=Kr(),O8e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,n){return Df(null,this)},t.prototype.getDataParams=function(e,n,i){var a=r.prototype.getDataParams.call(this,e,n);return i&&(a.info=Nh(i).info),a},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(Ln);function j8e(r,t){return t=t||[0,0],wt(["x","y"],function(e,n){var i=this.getAxis(e),a=t[n],s=r[n]/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(a-s)-i.dataToCoord(a+s))},this)}function U8e(r){var t=r.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return r.dataToPoint(e)},size:Qt(j8e,r)}}}function H8e(r,t){return t=t||[0,0],wt([0,1],function(e){var n=t[e],i=r[e]/2,a=[],s=[];return a[e]=n-i,s[e]=n+i,a[1-e]=s[1-e]=t[1-e],Math.abs(this.dataToPoint(a)[e]-this.dataToPoint(s)[e])},this)}function Q8e(r){var t=r.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:r.getZoom()},api:{coord:function(e){return r.dataToPoint(e)},size:Qt(H8e,r)}}}function z8e(r,t){var e=this.getAxis(),n=t instanceof Array?t[0]:t,i=(r instanceof Array?r[0]:r)/2;return e.type==="category"?e.getBandWidth():Math.abs(e.dataToCoord(n-i)-e.dataToCoord(n+i))}function V8e(r){var t=r.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return r.dataToPoint(e)},size:Qt(z8e,r)}}}function G8e(r,t){return t=t||[0,0],wt(["Radius","Angle"],function(e,n){var i="get"+e+"Axis",a=this[i](),s=t[n],o=r[n]/2,l=a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(s-o)-a.dataToCoord(s+o));return e==="Angle"&&(l=l*Math.PI/180),l},this)}function W8e(r){var t=r.getRadiusAxis(),e=r.getAngleAxis(),n=t.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:r.cx,cy:r.cy,r:n[1],r0:n[0]},api:{coord:function(i){var a=t.dataToRadius(i[0]),s=e.dataToAngle(i[1]),o=r.coordToPoint([a,s]);return o.push(a,s*Math.PI/180),o},size:Qt(G8e,r)}}}function $8e(r){var t=r.getRect(),e=r.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:r.getCellWidth(),cellHeight:r.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(n,i){return r.dataToPoint(n,i)},layout:function(n,i){return r.dataToLayout(n,i)}}}}function K8e(r){var t=r.getRect();return{coordSys:{type:"matrix",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e,n){return r.dataToPoint(e,n)},layout:function(e,n){return r.dataToLayout(e,n)}}}}function Sse(r,t,e,n){return r&&(r.legacy||r.legacy!==!1&&!e&&!n&&t!=="tspan"&&(t==="text"||Kt(r,"text")))}function Cse(r,t,e){var n=r,i,a,s;if(t==="text")s=n;else{s={},Kt(n,"text")&&(s.text=n.text),Kt(n,"rich")&&(s.rich=n.rich),Kt(n,"textFill")&&(s.fill=n.textFill),Kt(n,"textStroke")&&(s.stroke=n.textStroke),Kt(n,"fontFamily")&&(s.fontFamily=n.fontFamily),Kt(n,"fontSize")&&(s.fontSize=n.fontSize),Kt(n,"fontStyle")&&(s.fontStyle=n.fontStyle),Kt(n,"fontWeight")&&(s.fontWeight=n.fontWeight),a={type:"text",style:s,silent:!0},i={};var o=Kt(n,"textPosition");e?i.position=o?n.textPosition:"inside":o&&(i.position=n.textPosition),Kt(n,"textPosition")&&(i.position=n.textPosition),Kt(n,"textOffset")&&(i.offset=n.textOffset),Kt(n,"textRotation")&&(i.rotation=n.textRotation),Kt(n,"textDistance")&&(i.distance=n.textDistance)}return pG(s,r),se(s.rich,function(l){pG(l,l)}),{textConfig:i,textContent:a}}function pG(r,t){t&&(t.font=t.textFont||t.font,Kt(t,"textStrokeWidth")&&(r.lineWidth=t.textStrokeWidth),Kt(t,"textAlign")&&(r.align=t.textAlign),Kt(t,"textVerticalAlign")&&(r.verticalAlign=t.textVerticalAlign),Kt(t,"textLineHeight")&&(r.lineHeight=t.textLineHeight),Kt(t,"textWidth")&&(r.width=t.textWidth),Kt(t,"textHeight")&&(r.height=t.textHeight),Kt(t,"textBackgroundColor")&&(r.backgroundColor=t.textBackgroundColor),Kt(t,"textPadding")&&(r.padding=t.textPadding),Kt(t,"textBorderColor")&&(r.borderColor=t.textBorderColor),Kt(t,"textBorderWidth")&&(r.borderWidth=t.textBorderWidth),Kt(t,"textBorderRadius")&&(r.borderRadius=t.textBorderRadius),Kt(t,"textBoxShadowColor")&&(r.shadowColor=t.textBoxShadowColor),Kt(t,"textBoxShadowBlur")&&(r.shadowBlur=t.textBoxShadowBlur),Kt(t,"textBoxShadowOffsetX")&&(r.shadowOffsetX=t.textBoxShadowOffsetX),Kt(t,"textBoxShadowOffsetY")&&(r.shadowOffsetY=t.textBoxShadowOffsetY))}function gG(r,t,e){var n=r;n.textPosition=n.textPosition||e.position||"inside",e.offset!=null&&(n.textOffset=e.offset),e.rotation!=null&&(n.textRotation=e.rotation),e.distance!=null&&(n.textDistance=e.distance);var i=n.textPosition.indexOf("inside")>=0,a=r.fill||Je.color.neutral99;mG(n,t);var s=n.textFill==null;return i?s&&(n.textFill=e.insideFill||Je.color.neutral00,!n.textStroke&&e.insideStroke&&(n.textStroke=e.insideStroke),!n.textStroke&&(n.textStroke=a),n.textStrokeWidth==null&&(n.textStrokeWidth=2)):(s&&(n.textFill=r.fill||e.outsideFill||Je.color.neutral00),!n.textStroke&&e.outsideStroke&&(n.textStroke=e.outsideStroke)),n.text=t.text,n.rich=t.rich,se(t.rich,function(o){mG(o,o)}),n}function mG(r,t){t&&(Kt(t,"fill")&&(r.textFill=t.fill),Kt(t,"stroke")&&(r.textStroke=t.fill),Kt(t,"lineWidth")&&(r.textStrokeWidth=t.lineWidth),Kt(t,"font")&&(r.font=t.font),Kt(t,"fontStyle")&&(r.fontStyle=t.fontStyle),Kt(t,"fontWeight")&&(r.fontWeight=t.fontWeight),Kt(t,"fontSize")&&(r.fontSize=t.fontSize),Kt(t,"fontFamily")&&(r.fontFamily=t.fontFamily),Kt(t,"align")&&(r.textAlign=t.align),Kt(t,"verticalAlign")&&(r.textVerticalAlign=t.verticalAlign),Kt(t,"lineHeight")&&(r.textLineHeight=t.lineHeight),Kt(t,"width")&&(r.textWidth=t.width),Kt(t,"height")&&(r.textHeight=t.height),Kt(t,"backgroundColor")&&(r.textBackgroundColor=t.backgroundColor),Kt(t,"padding")&&(r.textPadding=t.padding),Kt(t,"borderColor")&&(r.textBorderColor=t.borderColor),Kt(t,"borderWidth")&&(r.textBorderWidth=t.borderWidth),Kt(t,"borderRadius")&&(r.textBorderRadius=t.borderRadius),Kt(t,"shadowColor")&&(r.textBoxShadowColor=t.shadowColor),Kt(t,"shadowBlur")&&(r.textBoxShadowBlur=t.shadowBlur),Kt(t,"shadowOffsetX")&&(r.textBoxShadowOffsetX=t.shadowOffsetX),Kt(t,"shadowOffsetY")&&(r.textBoxShadowOffsetY=t.shadowOffsetY),Kt(t,"textShadowColor")&&(r.textShadowColor=t.textShadowColor),Kt(t,"textShadowBlur")&&(r.textShadowBlur=t.textShadowBlur),Kt(t,"textShadowOffsetX")&&(r.textShadowOffsetX=t.textShadowOffsetX),Kt(t,"textShadowOffsetY")&&(r.textShadowOffsetY=t.textShadowOffsetY))}var Bse={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},vG=en(Bse);Eu(Bf,function(r,t){return r[t]=1,r},{});Bf.join(", ");var B6=["","style","shape","extra"],j1=Kr();function TP(r,t,e,n,i){var a=r+"Animation",s=ry(r,n,i)||{},o=j1(t).userDuring;return s.duration>0&&(s.during=o?Qt(J8e,{el:t,userDuring:o}):null,s.setToFinal=!0,s.scope=r),pt(s,e[a]),s}function V3(r,t,e,n){n=n||{};var i=n.dataIndex,a=n.isInit,s=n.clearStyle,o=e.isAnimationEnabled(),l=j1(r),u=t.style;l.userDuring=t.during;var c={},f={};if(tBe(r,t,f),r.type==="compound")for(var h=r.shape.paths,d=t.shape.paths,A=0;A<d.length;A++){var p=d[A];qE("shape",p,h[A])}else qE("shape",t,f),qE("extra",t,f);if(!a&&o&&(eBe(r,t,c),yG("shape",r,t,c),yG("extra",r,t,c),rBe(r,t,u,c)),f.style=u,q8e(r,f,s),Y8e(r,t),o)if(a){var g={};se(B6,function(v){var y=v?t[v]:t;y&&y.enterFrom&&(v&&(g[v]=g[v]||{}),pt(v?g[v]:g,y.enterFrom))});var m=TP("enter",r,t,e,i);m.duration>0&&r.animateFrom(g,m)}else X8e(r,t,i||0,e,c);Tse(r,t),u?r.dirty():r.markRedraw()}function Tse(r,t){for(var e=j1(r).leaveToProps,n=0;n<B6.length;n++){var i=B6[n],a=i?t[i]:t;a&&a.leaveTo&&(e||(e=j1(r).leaveToProps={}),i&&(e[i]=e[i]||{}),pt(i?e[i]:e,a.leaveTo))}}function S8(r,t,e,n){if(r){var i=r.parent,a=j1(r).leaveToProps;if(a){var s=TP("update",r,t,e,0);s.done=function(){i&&i.remove(r)},r.animateTo(a,s)}else i&&i.remove(r)}}function og(r){return r==="all"}function q8e(r,t,e){var n=t.style;if(!r.isGroup&&n){if(e){r.useStyle({});for(var i=r.animators,a=0;a<i.length;a++){var s=i[a];s.targetName==="style"&&s.changeTarget(r.style)}}r.setStyle(n)}t&&(t.style=null,t&&r.attr(t),t.style=n)}function X8e(r,t,e,n,i){if(i){var a=TP("update",r,t,n,e);a.duration>0&&r.animateFrom(i,a)}}function Y8e(r,t){Kt(t,"silent")&&(r.silent=t.silent),Kt(t,"ignore")&&(r.ignore=t.ignore),r instanceof Nu&&Kt(t,"invisible")&&(r.invisible=t.invisible),r instanceof Xr&&Kt(t,"autoBatch")&&(r.autoBatch=t.autoBatch)}var Wc={},Z8e={setTransform:function(r,t){return Wc.el[r]=t,this},getTransform:function(r){return Wc.el[r]},setShape:function(r,t){var e=Wc.el,n=e.shape||(e.shape={});return n[r]=t,e.dirtyShape&&e.dirtyShape(),this},getShape:function(r){var t=Wc.el.shape;if(t)return t[r]},setStyle:function(r,t){var e=Wc.el,n=e.style;return n&&(n[r]=t,e.dirtyStyle&&e.dirtyStyle()),this},getStyle:function(r){var t=Wc.el.style;if(t)return t[r]},setExtra:function(r,t){var e=Wc.el.extra||(Wc.el.extra={});return e[r]=t,this},getExtra:function(r){var t=Wc.el.extra;if(t)return t[r]}};function J8e(){var r=this,t=r.el;if(t){var e=j1(t).userDuring,n=r.userDuring;if(e!==n){r.el=r.userDuring=null;return}Wc.el=t,n(Z8e)}}function yG(r,t,e,n){var i=e[r];if(i){var a=t[r],s;if(a){var o=e.transition,l=i.transition;if(l)if(!s&&(s=n[r]={}),og(l))pt(s,a);else for(var u=Un(l),c=0;c<u.length;c++){var f=u[c],h=a[f];s[f]=h}else if(og(o)||Lr(o,r)>=0){!s&&(s=n[r]={});for(var d=en(a),c=0;c<d.length;c++){var f=d[c],h=a[f];nBe(i[f],h)&&(s[f]=h)}}}}}function qE(r,t,e){var n=t[r];if(n)for(var i=e[r]={},a=en(n),s=0;s<a.length;s++){var o=a[s];i[o]=F2(n[o])}}function eBe(r,t,e){for(var n=t.transition,i=og(n)?Bf:Un(n||[]),a=0;a<i.length;a++){var s=i[a];if(!(s==="style"||s==="shape"||s==="extra")){var o=r[s];e[s]=o}}}function tBe(r,t,e){for(var n=0;n<vG.length;n++){var i=vG[n],a=Bse[i],s=t[i];s&&(e[a[0]]=s[0],e[a[1]]=s[1])}for(var n=0;n<Bf.length;n++){var o=Bf[n];t[o]!=null&&(e[o]=t[o])}}function rBe(r,t,e,n){if(e){var i=r.style,a;if(i){var s=e.transition,o=t.transition;if(s&&!og(s)){var l=Un(s);!a&&(a=n.style={});for(var u=0;u<l.length;u++){var c=l[u],f=i[c];a[c]=f}}else if(r.getAnimationStyleProps&&(og(o)||og(s)||Lr(o,"style")>=0)){var h=r.getAnimationStyleProps(),d=h?h.style:null;if(d){!a&&(a=n.style={});for(var A=en(e),u=0;u<A.length;u++){var c=A[u];if(d[c]){var f=i[c];a[c]=f}}}}}}}function nBe(r,t){return Os(r)?r!==t:r!=null&&isFinite(r)}var Ese=Kr(),iBe=["percent","easing","shape","style","extra"];function kse(r){r.stopAnimation("keyframe"),r.attr(Ese(r))}function T6(r,t,e){if(!(!e.isAnimationEnabled()||!t)){if(xt(t)){se(t,function(o){T6(r,o,e)});return}var n=t.keyframes,i=t.duration;if(e&&i==null){var a=ry("enter",e,0);i=a&&a.duration}if(!(!n||!i)){var s=Ese(r);se(B6,function(o){if(!(o&&!r[o])){var l;n.sort(function(u,c){return u.percent-c.percent}),se(n,function(u){var c=r.animators,f=o?u[o]:u;if(f){var h=en(f);if(o||(h=dn(h,function(p){return Lr(iBe,p)<0})),!!h.length){l||(l=r.animate(o,t.loop,!0),l.scope="keyframe");for(var d=0;d<c.length;d++)c[d]!==l&&c[d].targetName===l.targetName&&c[d].stopTracks(h);o&&(s[o]=s[o]||{});var A=o?s[o]:s;se(h,function(p){A[p]=((o?r[o]:r)||{})[p]}),l.whenWithKeys(i*u.percent,f,h,u.easing)}}}),l&&l.delay(t.delay||0).duration(i).start(t.easing)}})}}}var Fh="emphasis",AA="normal",EP="blur",kP="select",e0=[AA,Fh,EP,kP],XE={normal:["itemStyle"],emphasis:[Fh,"itemStyle"],blur:[EP,"itemStyle"],select:[kP,"itemStyle"]},YE={normal:["label"],emphasis:[Fh,"label"],blur:[EP,"label"],select:[kP,"label"]},aBe=["x","y"],sBe="e\0\0",ru={normal:{},emphasis:{},blur:{},select:{}},oBe={cartesian2d:U8e,geo:Q8e,single:V8e,polar:W8e,calendar:$8e,matrix:K8e};function CI(r){return r instanceof Xr}function BI(r){return r instanceof Nu}function lBe(r,t){t.copyTransform(r),BI(t)&&BI(r)&&(t.setStyle(r.style),t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel,t.invisible=r.invisible,t.ignore=r.ignore,CI(t)&&CI(r)&&t.setShape(r.shape))}var uBe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){this._progressiveEls=null;var s=this._data,o=e.getData(),l=this.group,u=xG(e,o,n,i);s||l.removeAll(),o.diff(s).add(function(f){ZE(i,null,f,u(f,a),e,l,o)}).remove(function(f){var h=s.getItemGraphicEl(f);h&&S8(h,Nh(h).option,e)}).update(function(f,h){var d=s.getItemGraphicEl(h);ZE(i,d,f,u(f,a),e,l,o)}).execute();var c=e.get("clip",!0)?Zw(e.coordinateSystem,!1,e):null;c?l.setClipPath(c):l.removeClipPath(),this._data=o},t.prototype.incrementalPrepareRender=function(e,n,i){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,n,i,a,s){var o=n.getData(),l=xG(n,o,i,a),u=this._progressiveEls=[];function c(d){d.isGroup||(d.incremental=!0,d.ensureState("emphasis").hoverLayer=!0)}for(var f=e.start;f<e.end;f++){var h=ZE(null,null,f,l(f,s),n,this.group,o);h&&(h.traverse(c),u.push(h))}},t.prototype.eachRendered=function(e){h0(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,n,i,a){var s=n.element;if(s==null||i.name===s)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===s)return!0;return!1},t.type="custom",t}(Nn);function NP(r){var t=r.type,e;if(t==="path"){var n=r.shape,i=n.width!=null&&n.height!=null?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,a=Ise(n);e=k1(a,null,i,n.layout||"center"),Nh(e).customPathData=a}else if(t==="image")e=new es({}),Nh(e).customImagePath=r.style.image;else if(t==="text")e=new nn({});else if(t==="group")e=new ir;else if(t==="compoundPath"){var n=r.shape;if(!n||!n.paths){var s="";mn(s)}var o=wt(n.paths,function(c){if(c.type==="path")return k1(c.shape.pathData,c,null);var f=Mb(c.type);if(!f){var h="";mn(h)}return new f});e=new Vw({shape:{paths:o}})}else{var l=Mb(t);if(!l){var s="";mn(s)}e=new l}return Nh(e).customGraphicType=t,e.name=r.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function FP(r,t,e,n,i,a,s){kse(t);var o=i&&i.normal.cfg;o&&t.setTextConfig(o),n&&n.transition==null&&(n.transition=aBe);var l=n&&n.style;if(l){if(t.type==="text"){var u=l;Kt(u,"textFill")&&(u.fill=u.textFill),Kt(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,f=CI(t)?l.decal:null;r&&f&&(f.dirty=!0,c=I1(f,r)),l.__decalPattern=c}if(BI(t)&&l){var c=l.__decalPattern;c&&(l.decal=c)}V3(t,n,a,{dataIndex:e,isInit:s,clearStyle:!0}),T6(t,n.keyframeAnimation,a)}function Nse(r,t,e,n,i){var a=t.isGroup?null:t,s=i&&i[r].cfg;if(a){var o=a.ensureState(r);if(n===!1){var l=a.getState(r);l&&(l.style=null)}else o.style=n||null;s&&(o.textConfig=s),wg(a)}}function cBe(r,t,e){if(!r.isGroup){var n=r,i=e.currentZ,a=e.currentZLevel;n.z=i,n.zlevel=a;var s=t.z2;s!=null&&(n.z2=s||0);for(var o=0;o<e0.length;o++)fBe(n,t,e0[o])}}function fBe(r,t,e){var n=e===AA,i=n?t:E6(t,e),a=i?i.z2:null,s;a!=null&&(s=n?r:r.ensureState(e),s.z2=a||0)}function xG(r,t,e,n){var i=r.get("renderItem");if(typeof i=="string"){var a=i2e(i);a&&(i=a)}var s=r.coordinateSystem,o={};s&&(o=s.prepareCustoms?s.prepareCustoms(s):oBe[s.type](s));for(var l=sr({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:_,style:I,ordinalRawValue:T,styleEmphasis:N,visual:D,barLayout:R,currentSeriesIndices:E,font:L},o.api||{}),u={context:{},seriesId:r.id,seriesName:r.name,seriesIndex:r.seriesIndex,coordSys:o.coordSys,dataInsideLength:t.count(),encode:hBe(r.getData()),itemPayload:r.get("itemPayload")||{}},c,f,h={},d={},A={},p={},g=0;g<e0.length;g++){var m=e0[g];A[m]=r.getModel(XE[m]),p[m]=r.getModel(YE[m])}function v(k){return k===c?f||(f=t.getItemModel(k)):t.getItemModel(k)}function y(k,w){return t.hasItemOption?k===c?h[w]||(h[w]=v(k).getModel(XE[w])):v(k).getModel(XE[w]):A[w]}function b(k,w){return t.hasItemOption?k===c?d[w]||(d[w]=v(k).getModel(YE[w])):v(k).getModel(YE[w]):p[w]}return function(k,w){return c=k,f=null,h={},d={},i&&i(sr({dataIndexInside:k,dataIndex:t.getRawIndex(k),actionType:w?w.type:null},u),l)};function _(k,w){return w==null&&(w=c),t.getStore().get(t.getDimensionIndex(k||0),w)}function T(k,w){w==null&&(w=c),k=k||0;var C=t.getDimensionInfo(k);if(!C){var S=t.getDimensionIndex(k);return S>=0?t.getStore().get(S,w):void 0}var B=t.get(C.name,w),O=C&&C.ordinalMeta;return O?O.categories[B]:B}function I(k,w){w==null&&(w=c);var C=t.getItemVisual(w,"style"),S=C&&C.fill,B=C&&C.opacity,O=y(w,AA).getItemStyle();S!=null&&(O.fill=S),B!=null&&(O.opacity=B);var V={inheritColor:Ht(S)?S:Je.color.neutral99},M=b(w,AA),U=jn(M,null,V,!1,!0);U.text=M.getShallow("show")?Zt(r.getFormattedLabel(w,AA),D1(t,w)):null;var Q=qS(M,V,!1);return P(k,O),O=gG(O,U,Q),k&&F(O,k),O.legacy=!0,O}function N(k,w){w==null&&(w=c);var C=y(w,Fh).getItemStyle(),S=b(w,Fh),B=jn(S,null,null,!0,!0);B.text=S.getShallow("show")?rl(r.getFormattedLabel(w,Fh),r.getFormattedLabel(w,AA),D1(t,w)):null;var O=qS(S,null,!0);return P(k,C),C=gG(C,B,O),k&&F(C,k),C.legacy=!0,C}function F(k,w){for(var C in w)Kt(w,C)&&(k[C]=w[C])}function P(k,w){k&&(k.textFill&&(w.textFill=k.textFill),k.textPosition&&(w.textPosition=k.textPosition))}function D(k,w){if(w==null&&(w=c),Kt(AG,k)){var C=t.getItemVisual(w,"style");return C?C[AG[k]]:null}if(Kt(R8e,k))return t.getItemVisual(w,k)}function R(k){if(s.type==="cartesian2d"){var w=s.getBaseAxis();return obe(sr({axis:w},k))}}function E(){return e.getCurrentSeriesIndices()}function L(k){return e9(k,e)}}function hBe(r){var t={};return se(r.dimensions,function(e){var n=r.getDimensionInfo(e);if(!n.isExtraCoord){var i=n.coordDim,a=t[i]=t[i]||[];a[n.coordDimIndex]=r.getDimensionIndex(e)}}),t}function ZE(r,t,e,n,i,a,s){if(!n){a.remove(t);return}var o=IP(r,t,e,n,i,a);return o&&s.setItemGraphicEl(e,o),o&&di(o,n.focus,n.blurScope,n.emphasisDisabled),o}function IP(r,t,e,n,i,a){var s=-1,o=t;t&&Fse(t,n,i)&&(s=Lr(a.childrenRef(),t),t=null);var l=!t,u=t;u?u.clearStates():(u=NP(n),o&&lBe(o,u)),n.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),n.tooltipDisabled&&(u.tooltipDisabled=!0),ru.normal.cfg=ru.normal.conOpt=ru.emphasis.cfg=ru.emphasis.conOpt=ru.blur.cfg=ru.blur.conOpt=ru.select.cfg=ru.select.conOpt=null,ru.isLegacy=!1,ABe(u,e,n,i,l,ru),dBe(u,e,n,i,l),FP(r,u,e,n,ru,i,l),Kt(n,"info")&&(Nh(u).info=n.info);for(var c=0;c<e0.length;c++){var f=e0[c];if(f!==AA){var h=E6(n,f),d=MP(n,h,f);Nse(f,u,h,d,ru)}}return cBe(u,n,i),n.type==="group"&&pBe(r,u,e,n,i),s>=0?a.replaceAt(u,s):a.add(u),u}function Fse(r,t,e){var n=Nh(r),i=t.type,a=t.shape,s=t.style;return e.isUniversalTransitionEnabled()||i!=null&&i!==n.customGraphicType||i==="path"&&yBe(a)&&Ise(a)!==n.customPathData||i==="image"&&Kt(s,"image")&&s.image!==n.customImagePath}function dBe(r,t,e,n,i){var a=e.clipPath;if(a===!1)r&&r.getClipPath()&&r.removeClipPath();else if(a){var s=r.getClipPath();s&&Fse(s,a,n)&&(s=null),s||(s=NP(a),r.setClipPath(s)),FP(null,s,t,a,null,n,i)}}function ABe(r,t,e,n,i,a){if(!(r.isGroup||r.type==="compoundPath")){bG(e,null,a),bG(e,Fh,a);var s=a.normal.conOpt,o=a.emphasis.conOpt,l=a.blur.conOpt,u=a.select.conOpt;if(s!=null||o!=null||u!=null||l!=null){var c=r.getTextContent();if(s===!1)c&&r.removeTextContent();else{s=a.normal.conOpt=s||{type:"text"},c?c.clearStates():(c=NP(s),r.setTextContent(c)),FP(null,c,t,s,null,n,i);for(var f=s&&s.style,h=0;h<e0.length;h++){var d=e0[h];if(d!==AA){var A=a[d].conOpt;Nse(d,c,A,MP(s,A,d),null)}}f?c.dirty():c.markRedraw()}}}}function bG(r,t,e){var n=t?E6(r,t):r,i=t?MP(r,n,Fh):r.style,a=r.type,s=n?n.textConfig:null,o=r.textContent,l=o?t?E6(o,t):o:null;if(i&&(e.isLegacy||Sse(i,a,!!s,!!l))){e.isLegacy=!0;var u=Cse(i,a,!t);!s&&u.textConfig&&(s=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!t&&l){var c=l;!c.type&&(c.type="text")}var f=t?e[t]:e.normal;f.cfg=s,f.conOpt=l}function E6(r,t){return t?r?r[t]:null:r}function MP(r,t,e){var n=t&&t.style;return n==null&&e===Fh&&r&&(n=r.styleEmphasis),n}function pBe(r,t,e,n,i){var a=n.children,s=a?a.length:0,o=n.$mergeChildren,l=o==="byName"||n.diffChildrenByName,u=o===!1;if(!(!s&&!l&&!u)){if(l){mBe({api:r,oldChildren:t.children()||[],newChildren:a||[],dataIndex:e,seriesModel:i,group:t});return}u&&t.removeAll();for(var c=0;c<s;c++){var f=a[c],h=t.childAt(c);f?(f.ignore==null&&(f.ignore=!1),IP(r,h,e,f,i,t)):h.ignore=!0}for(var d=t.childCount()-1;d>=c;d--){var A=t.childAt(d);gBe(t,A,i)}}}function gBe(r,t,e){t&&S8(t,Nh(r).option,e)}function mBe(r){new Gh(r.oldChildren,r.newChildren,wG,wG,r).add(_G).update(_G).remove(vBe).execute()}function wG(r,t){var e=r&&r.name;return e??sBe+t}function _G(r,t){var e=this.context,n=r!=null?e.newChildren[r]:null,i=t!=null?e.oldChildren[t]:null;IP(e.api,i,e.dataIndex,n,e.seriesModel,e.group)}function vBe(r){var t=this.context,e=t.oldChildren[r];e&&S8(e,Nh(e).option,t.seriesModel)}function Ise(r){return r&&(r.pathData||r.d)}function yBe(r){return r&&(Kt(r,"pathData")||Kt(r,"d"))}function xBe(r){r.registerChartView(uBe),r.registerSeriesModel(O8e)}var xp=Kr(),SG=nr,JE=Qt,LP=function(){function r(){this._dragging=!1,this.animationThreshold=15}return r.prototype.render=function(t,e,n,i){var a=e.get("value"),s=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,!(!i&&this._lastValue===a&&this._lastStatus===s)){this._lastValue=a,this._lastStatus=s;var o=this._group,l=this._handle;if(!s||s==="hide"){o&&o.hide(),l&&l.hide();return}o&&o.show(),l&&l.show();var u={};this.makeElOption(u,a,t,e,n);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var f=this._moveAnimation=this.determineAnimation(t,e);if(!o)o=this._group=new ir,this.createPointerEl(o,u,t,e),this.createLabelEl(o,u,t,e),n.getZr().add(o);else{var h=Nr(CG,e,f);this.updatePointerEl(o,u,h),this.updateLabelEl(o,u,h,e)}TG(o,e,!0),this._renderHandle(a)}},r.prototype.remove=function(t){this.clear(t)},r.prototype.dispose=function(t){this.clear(t)},r.prototype.determineAnimation=function(t,e){var n=e.get("animation"),i=t.axis,a=i.type==="category",s=e.get("snap");if(!s&&!a)return!1;if(n==="auto"||n==null){var o=this.animationThreshold;if(a&&i.getBandWidth()>o)return!0;if(s){var l=tP(t).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>o}return!1}return n===!0},r.prototype.makeElOption=function(t,e,n,i,a){},r.prototype.createPointerEl=function(t,e,n,i){var a=e.pointer;if(a){var s=xp(t).pointerEl=new Ug[a.type](SG(e.pointer));t.add(s)}},r.prototype.createLabelEl=function(t,e,n,i){if(e.label){var a=xp(t).labelEl=new nn(SG(e.label));t.add(a),BG(a,i)}},r.prototype.updatePointerEl=function(t,e,n){var i=xp(t).pointerEl;i&&e.pointer&&(i.setStyle(e.pointer.style),n(i,{shape:e.pointer.shape}))},r.prototype.updateLabelEl=function(t,e,n,i){var a=xp(t).labelEl;a&&(a.setStyle(e.label.style),n(a,{x:e.label.x,y:e.label.y}),BG(a,i))},r.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var e=this._axisPointerModel,n=this._api.getZr(),i=this._handle,a=e.getModel("handle"),s=e.get("status");if(!a.get("show")||!s||s==="hide"){i&&n.remove(i),this._handle=null;return}var o;this._handle||(o=!0,i=this._handle=ny(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Qh(u.event)},onmousedown:JE(this._onHandleDragMove,this,0,0),drift:JE(this._onHandleDragMove,this),ondragend:JE(this._onHandleDragEnd,this)}),n.add(i)),TG(i,e,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");xt(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,uy(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,o)}},r.prototype._moveHandleToValue=function(t,e){CG(this._axisPointerModel,!e&&this._moveAnimation,this._handle,ek(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},r.prototype._onHandleDragMove=function(t,e){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(ek(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(ek(i)),xp(n).lastProp=null,this._doDispatchAxisPointer()}},r.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var e=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},r.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},r.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,i=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),i&&e.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),Rb(this,"_doDispatchAxisPointer")},r.prototype.doClear=function(){},r.prototype.buildLabel=function(t,e,n){return n=n||0,{x:t[n],y:t[1-n],width:e[n],height:e[1-n]}},r}();function CG(r,t,e,n){Mse(xp(e).lastProp,n)||(xp(e).lastProp=n,t?ln(e,n,r):(e.stopAnimation(),e.attr(n)))}function Mse(r,t){if(or(r)&&or(t)){var e=!0;return se(t,function(n,i){e=e&&Mse(r[i],n)}),!!e}else return r===t}function BG(r,t){r[t.get(["label","show"])?"show":"hide"]()}function ek(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function TG(r,t,e){var n=t.get("z"),i=t.get("zlevel");r&&r.traverse(function(a){a.type!=="group"&&(n!=null&&(a.z=n),i!=null&&(a.zlevel=i),a.silent=e)})}function DP(r){var t=r.get("type"),e=r.getModel(t+"Style"),n;return t==="line"?(n=e.getLineStyle(),n.fill=null):t==="shadow"&&(n=e.getAreaStyle(),n.stroke=null),n}function Lse(r,t,e,n,i){var a=e.get("value"),s=Dse(a,t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),o=e.getModel("label"),l=sy(o.get("padding")||0),u=o.getFont(),c=KC(s,u),f=i.position,h=c.width+l[1]+l[3],d=c.height+l[0]+l[2],A=i.align;A==="right"&&(f[0]-=h),A==="center"&&(f[0]-=h/2);var p=i.verticalAlign;p==="bottom"&&(f[1]-=d),p==="middle"&&(f[1]-=d/2),bBe(f,h,d,n);var g=o.get("backgroundColor");(!g||g==="auto")&&(g=t.get(["axisLine","lineStyle","color"])),r.label={x:f[0],y:f[1],style:jn(o,{text:s,font:u,fill:o.getTextColor(),padding:l,backgroundColor:g}),z2:10}}function bBe(r,t,e,n){var i=n.getWidth(),a=n.getHeight();r[0]=Math.min(r[0]+t,i)-t,r[1]=Math.min(r[1]+e,a)-e,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}function Dse(r,t,e,n,i){r=t.scale.parse(r);var a=t.scale.getLabel({value:r},{precision:i.precision}),s=i.formatter;if(s){var o={value:u6(t,{value:r}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};se(n,function(l){var u=e.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,f=u&&u.getDataParams(c);f&&o.seriesData.push(f)}),Ht(s)?a=s.replace("{value}",a):rr(s)&&(a=s(o))}return a}function PP(r,t,e){var n=Ya();return td(n,n,e.rotation),yc(n,n,e.position),pc([r.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],n)}function Pse(r,t,e,n,i,a){var s=Fo.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=i.get(["label","margin"]),Lse(t,n,i,a,{position:PP(n.axis,r,e),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function RP(r,t,e){return e=e||0,{x1:r[e],y1:r[1-e],x2:t[e],y2:t[1-e]}}function Rse(r,t,e){return e=e||0,{x:r[e],y:r[1-e],width:t[e],height:t[1-e]}}function EG(r,t,e,n,i,a){return{cx:r,cy:t,r0:e,r:n,startAngle:i,endAngle:a,clockwise:!0}}var wBe=function(r){Ge(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,n,i,a,s){var o=i.axis,l=o.grid,u=a.get("type"),c=kG(l,o).getOtherAxis(o).getGlobalExtent(),f=o.toGlobalCoord(o.dataToCoord(n,!0));if(u&&u!=="none"){var h=DP(a),d=_Be[u](o,f,c);d.style=h,e.graphicKey=d.type,e.pointer=d}var A=y6(l.getRect(),i);Pse(n,e,A,i,a,s)},t.prototype.getHandleTransform=function(e,n,i){var a=y6(n.axis.grid.getRect(),n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var s=PP(n.axis,e,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,n,i,a){var s=i.axis,o=s.grid,l=s.getGlobalExtent(!0),u=kG(o,s).getOtherAxis(s).getGlobalExtent(),c=s.dim==="x"?0:1,f=[e.x,e.y];f[c]+=n[c],f[c]=Math.min(l[1],f[c]),f[c]=Math.max(l[0],f[c]);var h=(u[1]+u[0])/2,d=[h,h];d[c]=f[c];var A=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:e.rotation,cursorPoint:d,tooltipOption:A[c]}},t}(LP);function kG(r,t){var e={};return e[t.dim+"AxisIndex"]=t.index,r.getCartesian(e)}var _Be={line:function(r,t,e){var n=RP([t,e[0]],[t,e[1]],NG(r));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(r,t,e){var n=Math.max(1,r.getBandWidth()),i=e[1]-e[0];return{type:"Rect",shape:Rse([t-n/2,e[0]],[n,i],NG(r))}}};function NG(r){return r.dim==="x"?0:1}var SBe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:Je.color.border,width:1,type:"dashed"},shadowStyle:{color:Je.color.shadowTint},label:{show:!0,formatter:null,precision:"auto",margin:3,color:Je.color.neutral00,padding:[5,7,5,7],backgroundColor:Je.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:Je.color.accent40,throttle:40}},t}($r),Sh=Kr(),CBe=se;function Ose(r,t,e){if(!Zr.node){var n=t.getZr();Sh(n).records||(Sh(n).records={}),BBe(n,t);var i=Sh(n).records[r]||(Sh(n).records[r]={});i.handler=e}}function BBe(r,t){if(Sh(r).initialized)return;Sh(r).initialized=!0,e("click",Nr(FG,"click")),e("mousemove",Nr(FG,"mousemove")),e("globalout",EBe);function e(n,i){r.on(n,function(a){var s=kBe(t);CBe(Sh(r).records,function(o){o&&i(o,a,s.dispatchAction)}),TBe(s.pendings,t)})}}function TBe(r,t){var e=r.showTip.length,n=r.hideTip.length,i;e?i=r.showTip[e-1]:n&&(i=r.hideTip[n-1]),i&&(i.dispatchAction=null,t.dispatchAction(i))}function EBe(r,t,e){r.handler("leave",null,e)}function FG(r,t,e,n){t.handler(r,e,n)}function kBe(r){var t={showTip:[],hideTip:[]},e=function(n){var i=t[n.type];i?i.push(n):(n.dispatchAction=e,r.dispatchAction(n))};return{dispatchAction:e,pendings:t}}function TI(r,t){if(!Zr.node){var e=t.getZr(),n=(Sh(e).records||{})[r];n&&(Sh(e).records[r]=null)}}var NBe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=n.getComponent("tooltip"),s=e.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";Ose("axisPointer",i,function(o,l,u){s!=="none"&&(o==="leave"||s.indexOf(o)>=0)&&u({type:"updateAxisPointer",currTrigger:o,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(e,n){TI("axisPointer",n)},t.prototype.dispose=function(e,n){TI("axisPointer",n)},t.type="axisPointer",t}(Hn);function jse(r,t){var e=[],n=r.seriesIndex,i;if(n==null||!(i=t.getSeriesByIndex(n)))return{point:[]};var a=i.getData(),s=xg(a,r);if(s==null||s<0||xt(s))return{point:[]};var o=a.getItemGraphicEl(s),l=i.coordinateSystem;if(i.getTooltipPosition)e=i.getTooltipPosition(s)||[];else if(l&&l.dataToPoint)if(r.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),f=c.dim,h=u.dim,d=f==="x"||f==="radius"?1:0,A=a.mapDimension(h),p=[];p[d]=a.get(A,s),p[1-d]=a.get(a.getCalculationInfo("stackResultDimension"),s),e=l.dataToPoint(p)||[]}else e=l.dataToPoint(a.getValues(wt(l.dimensions,function(m){return a.mapDimension(m)}),s))||[];else if(o){var g=o.getBoundingRect().clone();g.applyTransform(o.transform),e=[g.x+g.width/2,g.y+g.height/2]}return{point:e,el:o}}var IG=Kr();function FBe(r,t,e){var n=r.currTrigger,i=[r.x,r.y],a=r,s=r.dispatchAction||Qt(e.dispatchAction,e),o=t.getComponent("axisPointer").coordSysAxesInfo;if(o){G3(i)&&(i=jse({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},t).point);var l=G3(i),u=a.axesInfo,c=o.axesInfo,f=n==="leave"||G3(i),h={},d={},A={list:[],map:{}},p={showPointer:Nr(MBe,d),showTooltip:Nr(LBe,A)};se(o.coordSysMap,function(m,v){var y=l||m.containPoint(i);se(o.coordSysAxesInfo[v],function(b,_){var T=b.axis,I=OBe(u,b);if(!f&&y&&(!u||I)){var N=I&&I.value;N==null&&!l&&(N=T.pointToData(i)),N!=null&&MG(b,N,p,!1,h)}})});var g={};return se(c,function(m,v){var y=m.linkGroup;y&&!d[v]&&se(y.axesInfo,function(b,_){var T=d[_];if(b!==m&&T){var I=T.value;y.mapper&&(I=m.axis.scale.parse(y.mapper(I,LG(b),LG(m)))),g[m.key]=I}})}),se(g,function(m,v){MG(c[v],m,p,!0,h)}),DBe(d,c,h),PBe(A,i,r,s),RBe(c,s,e),h}}function MG(r,t,e,n,i){var a=r.axis;if(!(a.scale.isBlank()||!a.containData(t))){if(!r.involveSeries){e.showPointer(r,t);return}var s=IBe(t,r),o=s.payloadBatch,l=s.snapToValue;o[0]&&i.seriesIndex==null&&pt(i,o[0]),!n&&r.snap&&a.containData(l)&&l!=null&&(t=l),e.showPointer(r,t,o),e.showTooltip(r,s,l)}}function IBe(r,t){var e=t.axis,n=e.dim,i=r,a=[],s=Number.MAX_VALUE,o=-1;return se(t.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(n),f,h;if(l.getAxisTooltipData){var d=l.getAxisTooltipData(c,r,e);h=d.dataIndices,f=d.nestestValue}else{if(h=l.indicesOfNearest(n,c[0],r,e.type==="category"?.5:null),!h.length)return;f=l.getData().get(c[0],h[0])}if(!(f==null||!isFinite(f))){var A=r-f,p=Math.abs(A);p<=s&&((p<s||A>=0&&o<0)&&(s=p,o=A,i=f,a.length=0),se(h,function(g){a.push({seriesIndex:l.seriesIndex,dataIndexInside:g,dataIndex:l.getData().getRawIndex(g)})}))}}),{payloadBatch:a,snapToValue:i}}function MBe(r,t,e,n){r[t.key]={value:e,payloadBatch:n}}function LBe(r,t,e,n){var i=e.payloadBatch,a=t.axis,s=a.model,o=t.axisPointerModel;if(!(!t.triggerTooltip||!i.length)){var l=t.coordSys.model,u=Wb(l),c=r.map[u];c||(c=r.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},r.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:n,valueLabelOpt:{precision:o.get(["label","precision"]),formatter:o.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function DBe(r,t,e){var n=e.axesInfo=[];se(t,function(i,a){var s=i.axisPointerModel.option,o=r[a];o?(!i.useHandle&&(s.status="show"),s.value=o.value,s.seriesDataIndices=(o.payloadBatch||[]).slice()):!i.useHandle&&(s.status="hide"),s.status==="show"&&n.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:s.value})})}function PBe(r,t,e,n){if(G3(t)||!r.list.length){n({type:"hideTip"});return}var i=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:e.tooltipOption,position:e.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:r.list})}function RBe(r,t,e){var n=e.getZr(),i="axisPointerLastHighlights",a=IG(n)[i]||{},s=IG(n)[i]={};se(r,function(u,c){var f=u.axisPointerModel.option;f.status==="show"&&u.triggerEmphasis&&se(f.seriesDataIndices,function(h){var d=h.seriesIndex+" | "+h.dataIndex;s[d]=h})});var o=[],l=[];se(a,function(u,c){!s[c]&&l.push(u)}),se(s,function(u,c){!a[c]&&o.push(u)}),l.length&&e.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),o.length&&e.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:o})}function OBe(r,t){for(var e=0;e<(r||[]).length;e++){var n=r[e];if(t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex)return n}}function LG(r){var t=r.axis.model,e={},n=e.axisDim=r.axis.dim;return e.axisIndex=e[n+"AxisIndex"]=t.componentIndex,e.axisName=e[n+"AxisName"]=t.name,e.axisId=e[n+"AxisId"]=t.id,e}function G3(r){return!r||r[0]==null||isNaN(r[0])||r[1]==null||isNaN(r[1])}function t_(r){Vg.registerAxisPointerClass("CartesianAxisPointer",wBe),r.registerComponentModel(SBe),r.registerComponentView(NBe),r.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!xt(e)&&(t.axisPointer.link=[e])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=j5e(t,e)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},FBe)}function jBe(r){Or(uae),Or(t_)}var UBe=function(r){Ge(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,n,i,a,s){var o=i.axis;o.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=o.polar,u=l.getOtherAxis(o),c=u.getExtent(),f=o.dataToCoord(n),h=a.get("type");if(h&&h!=="none"){var d=DP(a),A=QBe[h](o,l,f,c);A.style=d,e.graphicKey=A.type,e.pointer=A}var p=a.get(["label","margin"]),g=HBe(n,i,a,l,p);Lse(e,i,a,s,g)},t}(LP);function HBe(r,t,e,n,i){var a=t.axis,s=a.dataToCoord(r),o=n.getAngleAxis().getExtent()[0];o=o/180*Math.PI;var l=n.getRadiusAxis().getExtent(),u,c,f;if(a.dim==="radius"){var h=Ya();td(h,h,o),yc(h,h,[n.cx,n.cy]),u=pc([s,-i],h);var d=t.getModel("axisLabel").get("rotate")||0,A=Fo.innerTextLayout(o,d*Math.PI/180,-1);c=A.textAlign,f=A.textVerticalAlign}else{var p=l[1];u=n.coordToPoint([p+i,s]);var g=n.cx,m=n.cy;c=Math.abs(u[0]-g)/p<.3?"center":u[0]>g?"left":"right",f=Math.abs(u[1]-m)/p<.3?"middle":u[1]>m?"top":"bottom"}return{position:u,align:c,verticalAlign:f}}var QBe={line:function(r,t,e,n){return r.dim==="angle"?{type:"Line",shape:RP(t.coordToPoint([n[0],e]),t.coordToPoint([n[1],e]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:e}}},shadow:function(r,t,e,n){var i=Math.max(1,r.getBandWidth()),a=Math.PI/180;return r.dim==="angle"?{type:"Sector",shape:EG(t.cx,t.cy,n[0],n[1],(-e-i/2)*a,(-e+i/2)*a)}:{type:"Sector",shape:EG(t.cx,t.cy,e-i/2,e+i/2,0,Math.PI*2)}}},zBe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.findAxisModel=function(e){var n,i=this.ecModel;return i.eachComponent(e,function(a){a.getCoordSysModel()===this&&(n=a)},this),n},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}($r),OP=function(r){Ge(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Ni).models[0]},t.type="polarAxis",t}($r);Ui(OP,dy);var VBe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="angleAxis",t}(OP),GBe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="radiusAxis",t}(OP),jP=function(r){Ge(t,r);function t(e,n){return r.call(this,"radius",e,n)||this}return t.prototype.pointToData=function(e,n){return this.polar.pointToData(e,n)[this.dim==="radius"?0:1]},t}(Du);jP.prototype.dataToRadius=Du.prototype.dataToCoord;jP.prototype.radiusToData=Du.prototype.coordToData;var WBe=Kr(),UP=function(r){Ge(t,r);function t(e,n){return r.call(this,"angle",e,n||[0,360])||this}return t.prototype.pointToData=function(e,n){return this.polar.pointToData(e,n)[this.dim==="radius"?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,n=e.getLabelModel(),i=e.scale,a=i.getExtent(),s=i.count();if(a[1]-a[0]<1)return 0;var o=a[0],l=e.dataToCoord(o+1)-e.dataToCoord(o),u=Math.abs(l),c=KC(o==null?"":o+"",n.getFont(),"center","top"),f=Math.max(c.height,7),h=f/u;isNaN(h)&&(h=1/0);var d=Math.max(0,Math.floor(h)),A=WBe(e.model),p=A.lastAutoInterval,g=A.lastTickCount;return p!=null&&g!=null&&Math.abs(p-d)<=1&&Math.abs(g-s)<=1&&p>d?d=p:(A.lastTickCount=s,A.lastAutoInterval=d),d},t}(Du);UP.prototype.dataToAngle=Du.prototype.dataToCoord;UP.prototype.angleToData=Du.prototype.coordToData;var Use=["radius","angle"],$Be=function(){function r(t){this.dimensions=Use,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new jP,this._angleAxis=new UP,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return r.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},r.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},r.prototype.getAxis=function(t){var e="_"+t+"Axis";return this[e]},r.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},r.prototype.getAxesByScale=function(t){var e=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===t&&e.push(n),i.scale.type===t&&e.push(i),e},r.prototype.getAngleAxis=function(){return this._angleAxis},r.prototype.getRadiusAxis=function(){return this._radiusAxis},r.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},r.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},r.prototype.getTooltipAxes=function(t){var e=t!=null&&t!=="auto"?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},r.prototype.dataToPoint=function(t,e,n){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)],n)},r.prototype.pointToData=function(t,e,n){n=n||[];var i=this.pointToCoord(t);return n[0]=this._radiusAxis.radiusToData(i[0],e),n[1]=this._angleAxis.angleToData(i[1],e),n},r.prototype.pointToCoord=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=this.getAngleAxis(),a=i.getExtent(),s=Math.min(a[0],a[1]),o=Math.max(a[0],a[1]);i.inverse?s=o-360:o=s+360;var l=Math.sqrt(e*e+n*n);e/=l,n/=l;for(var u=Math.atan2(-n,e)/Math.PI*180,c=u<s?1:-1;u<s||u>o;)u+=c*360;return[l,u]},r.prototype.coordToPoint=function(t,e){e=e||[];var n=t[0],i=t[1]/180*Math.PI;return e[0]=Math.cos(i)*n+this.cx,e[1]=-Math.sin(i)*n+this.cy,e},r.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis(),n=e.getExtent().slice();n[0]>n[1]&&n.reverse();var i=t.getExtent(),a=Math.PI/180,s=1e-4;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:t.inverse,contain:function(o,l){var u=o-this.cx,c=l-this.cy,f=u*u+c*c,h=this.r,d=this.r0;return h!==d&&f-s<=h*h&&f+s>=d*d},x:this.cx-n[1],y:this.cy-n[1],width:n[1]*2,height:n[1]*2}},r.prototype.convertToPixel=function(t,e,n){var i=DG(e);return i===this?this.dataToPoint(n):null},r.prototype.convertFromPixel=function(t,e,n){var i=DG(e);return i===this?this.pointToData(n):null},r}();function DG(r){var t=r.seriesModel,e=r.polarModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}function KBe(r,t,e){var n=t.get("center"),i=La(t,e).refContainer;r.cx=Ut(n[0],i.width)+i.x,r.cy=Ut(n[1],i.height)+i.y;var a=r.getRadiusAxis(),s=Math.min(i.width,i.height)/2,o=t.get("radius");o==null?o=[0,"100%"]:xt(o)||(o=[0,o]);var l=[Ut(o[0],s),Ut(o[1],s)];a.inverse?a.setExtent(l[1],l[0]):a.setExtent(l[0],l[1])}function qBe(r,t){var e=this,n=e.getAngleAxis(),i=e.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),r.eachSeries(function(o){if(o.coordinateSystem===e){var l=o.getData();se(c6(l,"radius"),function(u){i.scale.unionExtentFromData(l,u)}),se(c6(l,"angle"),function(u){n.scale.unionExtentFromData(l,u)})}}),Bg(n.scale,n.model),Bg(i.scale,i.model),n.type==="category"&&!n.onBand){var a=n.getExtent(),s=360/n.scale.count();n.inverse?a[1]+=s:a[1]-=s,n.setExtent(a[0],a[1])}}function XBe(r){return r.mainType==="angleAxis"}function PG(r,t){var e;if(r.type=t.get("type"),r.scale=qw(t),r.onBand=t.get("boundaryGap")&&r.type==="category",r.inverse=t.get("inverse"),XBe(t)){r.inverse=r.inverse!==t.get("clockwise");var n=t.get("startAngle"),i=(e=t.get("endAngle"))!==null&&e!==void 0?e:n+(r.inverse?-360:360);r.setExtent(n,i)}t.axis=r,r.model=t}var YBe={dimensions:Use,create:function(r,t){var e=[];return r.eachComponent("polar",function(n,i){var a=new $Be(i+"");a.update=qBe;var s=a.getRadiusAxis(),o=a.getAngleAxis(),l=n.findAxisModel("radiusAxis"),u=n.findAxisModel("angleAxis");PG(s,l),PG(o,u),KBe(a,n,t),e.push(a),n.coordinateSystem=a,a.model=n}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="polar"){var i=n.getReferringComponents("polar",Ni).models[0];n.coordinateSystem=i.coordinateSystem}}),e}},ZBe=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function o4(r,t,e){t[1]>t[0]&&(t=t.slice().reverse());var n=r.coordToPoint([t[0],e]),i=r.coordToPoint([t[1],e]);return{x1:n[0],y1:n[1],x2:i[0],y2:i[1]}}function l4(r){var t=r.getRadiusAxis();return t.inverse?0:1}function RG(r){var t=r[0],e=r[r.length-1];t&&e&&Math.abs(Math.abs(t.coord-e.coord)-360)<1e-4&&r.pop()}var JBe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return t.prototype.render=function(e,n){if(this.group.removeAll(),!!e.get("show")){var i=e.axis,a=i.polar,s=a.getRadiusAxis().getExtent(),o=i.getTicksCoords({breakTicks:"none"}),l=i.getMinorTicksCoords(),u=wt(i.getViewLabels(),function(c){c=nr(c);var f=i.scale,h=f.type==="ordinal"?f.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=i.dataToCoord(h),c});RG(u),RG(o),se(ZBe,function(c){e.get([c,"show"])&&(!i.scale.isBlank()||c==="axisLine")&&eTe[c](this.group,e,a,o,l,s,u)},this)}},t.type="angleAxis",t}(Vg),eTe={axisLine:function(r,t,e,n,i,a){var s=t.getModel(["axisLine","lineStyle"]),o=e.getAngleAxis(),l=Math.PI/180,u=o.getExtent(),c=l4(e),f=c?0:1,h,d=Math.abs(u[1]-u[0])===360?"Circle":"Arc";a[f]===0?h=new Ug[d]({shape:{cx:e.cx,cy:e.cy,r:a[c],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:o.inverse},style:s.getLineStyle(),z2:1,silent:!0}):h=new ey({shape:{cx:e.cx,cy:e.cy,r:a[c],r0:a[f]},style:s.getLineStyle(),z2:1,silent:!0}),h.style.fill=null,r.add(h)},axisTick:function(r,t,e,n,i,a){var s=t.getModel("axisTick"),o=(s.get("inside")?-1:1)*s.get("length"),l=a[l4(e)],u=wt(n,function(c){return new ra({shape:o4(e,[l,l+o],c.coord)})});r.add(Fl(u,{style:sr(s.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(r,t,e,n,i,a){if(i.length){for(var s=t.getModel("axisTick"),o=t.getModel("minorTick"),l=(s.get("inside")?-1:1)*o.get("length"),u=a[l4(e)],c=[],f=0;f<i.length;f++)for(var h=0;h<i[f].length;h++)c.push(new ra({shape:o4(e,[u,u+l],i[f][h].coord)}));r.add(Fl(c,{style:sr(o.getModel("lineStyle").getLineStyle(),sr(s.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(r,t,e,n,i,a,s){var o=t.getCategories(!0),l=t.getModel("axisLabel"),u=l.get("margin"),c=t.get("triggerEvent");se(s,function(f,h){var d=l,A=f.tickValue,p=a[l4(e)],g=e.coordToPoint([p+u,f.coord]),m=e.cx,v=e.cy,y=Math.abs(g[0]-m)/p<.3?"center":g[0]>m?"left":"right",b=Math.abs(g[1]-v)/p<.3?"middle":g[1]>v?"top":"bottom";if(o&&o[A]){var _=o[A];or(_)&&_.textStyle&&(d=new qr(_.textStyle,l,l.ecModel))}var T=new nn({silent:Fo.isLabelSilent(t),style:jn(d,{x:g[0],y:g[1],fill:d.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:f.formattedLabel,align:y,verticalAlign:b})});if(r.add(T),nd({el:T,componentModel:t,itemName:f.formattedLabel,formatterParamsExtra:{isTruncated:function(){return T.isTruncated},value:f.rawLabel,tickIndex:h}}),c){var I=Fo.makeAxisEventDataBase(t);I.targetType="axisLabel",I.value=f.rawLabel,pr(T).eventData=I}},this)},splitLine:function(r,t,e,n,i,a){var s=t.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=0;f<n.length;f++){var h=u++%l.length;c[h]=c[h]||[],c[h].push(new ra({shape:o4(e,a,n[f].coord)}))}for(var f=0;f<c.length;f++)r.add(Fl(c[f],{style:sr({stroke:l[f%l.length]},o.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(r,t,e,n,i,a){if(i.length){for(var s=t.getModel("minorSplitLine"),o=s.getModel("lineStyle"),l=[],u=0;u<i.length;u++)for(var c=0;c<i[u].length;c++)l.push(new ra({shape:o4(e,a,i[u][c].coord)}));r.add(Fl(l,{style:o.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(r,t,e,n,i,a){if(n.length){var s=t.getModel("splitArea"),o=s.getModel("areaStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=Math.PI/180,h=-n[0].coord*f,d=Math.min(a[0],a[1]),A=Math.max(a[0],a[1]),p=t.get("clockwise"),g=1,m=n.length;g<=m;g++){var v=g===m?n[0].coord:n[g].coord,y=u++%l.length;c[y]=c[y]||[],c[y].push(new Us({shape:{cx:e.cx,cy:e.cy,r0:d,r:A,startAngle:h,endAngle:-v*f,clockwise:p},silent:!0})),h=-v*f}for(var g=0;g<c.length;g++)r.add(Fl(c[g],{style:sr({fill:l[g%l.length]},o.getAreaStyle()),silent:!0}))}}},tTe=["splitLine","splitArea","minorSplitLine"],rTe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return t.prototype.render=function(e,n,i){if(this.group.removeAll(),!!e.get("show")){var a=this._axisGroup,s=this._axisGroup=new ir;this.group.add(s);var o=e.axis,l=o.polar,u=l.getAngleAxis(),c=o.getTicksCoords(),f=o.getMinorTicksCoords(),h=u.getExtent()[0],d=o.getExtent(),A=iTe(l,e,h),p=new Fo(e,i,A);p.build(),s.add(p.group),Gw(a,s,e),se(tTe,function(g){e.get([g,"show"])&&!o.scale.isBlank()&&nTe[g](this.group,e,l,h,d,c,f)},this)}},t.type="radiusAxis",t}(Vg),nTe={splitLine:function(r,t,e,n,i,a){var s=t.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),u=0,c=e.getAngleAxis(),f=Math.PI/180,h=c.getExtent(),d=Math.abs(h[1]-h[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var A=[],p=0;p<a.length;p++){var g=u++%l.length;A[g]=A[g]||[],A[g].push(new Ug[d]({shape:{cx:e.cx,cy:e.cy,r:Math.max(a[p].coord,0),startAngle:-h[0]*f,endAngle:-h[1]*f,clockwise:c.inverse}}))}for(var p=0;p<A.length;p++)r.add(Fl(A[p],{style:sr({stroke:l[p%l.length],fill:null},o.getLineStyle()),silent:!0}))},minorSplitLine:function(r,t,e,n,i,a,s){if(s.length){for(var o=t.getModel("minorSplitLine"),l=o.getModel("lineStyle"),u=[],c=0;c<s.length;c++)for(var f=0;f<s[c].length;f++)u.push(new Lf({shape:{cx:e.cx,cy:e.cy,r:s[c][f].coord}}));r.add(Fl(u,{style:sr({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(r,t,e,n,i,a){if(a.length){var s=t.getModel("splitArea"),o=s.getModel("areaStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=a[0].coord,h=1;h<a.length;h++){var d=u++%l.length;c[d]=c[d]||[],c[d].push(new Us({shape:{cx:e.cx,cy:e.cy,r0:f,r:a[h].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),f=a[h].coord}for(var h=0;h<c.length;h++)r.add(Fl(c[h],{style:sr({fill:l[h%l.length]},o.getAreaStyle()),silent:!0}))}}};function iTe(r,t,e){return{position:[r.cx,r.cy],rotation:e/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}function Hse(r){return r.get("stack")||"__ec_stack_"+r.seriesIndex}function Qse(r,t){return t.dim+r.model.componentIndex}function aTe(r,t,e){var n={},i=sTe(dn(t.getSeriesByType(r),function(a){return!t.isSeriesFiltered(a)&&a.coordinateSystem&&a.coordinateSystem.type==="polar"}));t.eachSeriesByType(r,function(a){if(a.coordinateSystem.type==="polar"){var s=a.getData(),o=a.coordinateSystem,l=o.getBaseAxis(),u=Qse(o,l),c=Hse(a),f=i[u][c],h=f.offset,d=f.width,A=o.getOtherAxis(l),p=a.coordinateSystem.cx,g=a.coordinateSystem.cy,m=a.get("barMinHeight")||0,v=a.get("barMinAngle")||0;n[c]=n[c]||[];for(var y=s.mapDimension(A.dim),b=s.mapDimension(l.dim),_=Wh(s,y),T=l.dim!=="radius"||!a.get("roundCap",!0),I=A.model,N=I.get("startValue"),F=A.dataToCoord(N||0),P=0,D=s.count();P<D;P++){var R=s.get(y,P),E=s.get(b,P),L=R>=0?"p":"n",k=F;_&&(n[c][E]||(n[c][E]={p:F,n:F}),k=n[c][E][L]);var w=void 0,C=void 0,S=void 0,B=void 0;if(A.dim==="radius"){var O=A.dataToCoord(R)-F,V=l.dataToCoord(E);Math.abs(O)<m&&(O=(O<0?-1:1)*m),w=k,C=k+O,S=V-h,B=S-d,_&&(n[c][E][L]=C)}else{var M=A.dataToCoord(R,T)-F,U=l.dataToCoord(E);Math.abs(M)<v&&(M=(M<0?-1:1)*v),w=U+h,C=w+d,S=k,B=k+M,_&&(n[c][E][L]=B)}s.setItemLayout(P,{cx:p,cy:g,r0:w,r:C,startAngle:-S*Math.PI/180,endAngle:-B*Math.PI/180,clockwise:S>=B})}}})}function sTe(r){var t={};se(r,function(n,i){var a=n.getData(),s=n.coordinateSystem,o=s.getBaseAxis(),l=Qse(s,o),u=o.getExtent(),c=o.type==="category"?o.getBandWidth():Math.abs(u[1]-u[0])/a.count(),f=t[l]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=f.stacks;t[l]=f;var d=Hse(n);h[d]||f.autoWidthCount++,h[d]=h[d]||{width:0,maxWidth:0};var A=Ut(n.get("barWidth"),c),p=Ut(n.get("barMaxWidth"),c),g=n.get("barGap"),m=n.get("barCategoryGap");A&&!h[d].width&&(A=Math.min(f.remainedWidth,A),h[d].width=A,f.remainedWidth-=A),p&&(h[d].maxWidth=p),g!=null&&(f.gap=g),m!=null&&(f.categoryGap=m)});var e={};return se(t,function(n,i){e[i]={};var a=n.stacks,s=n.bandWidth,o=Ut(n.categoryGap,s),l=Ut(n.gap,1),u=n.remainedWidth,c=n.autoWidthCount,f=(u-o)/(c+(c-1)*l);f=Math.max(f,0),se(a,function(p,g){var m=p.maxWidth;m&&m<f&&(m=Math.min(m,u),p.width&&(m=Math.min(m,p.width)),u-=m,p.width=m,c--)}),f=(u-o)/(c+(c-1)*l),f=Math.max(f,0);var h=0,d;se(a,function(p,g){p.width||(p.width=f),d=p,h+=p.width*(1+l)}),d&&(h-=d.width*l);var A=-h/2;se(a,function(p,g){e[i][g]=e[i][g]||{offset:A,width:p.width},A+=p.width*(1+l)})}),e}var oTe={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},lTe={splitNumber:5},uTe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="polar",t}(Hn);function cTe(r){Or(t_),Vg.registerAxisPointerClass("PolarAxisPointer",UBe),r.registerCoordinateSystem("polar",YBe),r.registerComponentModel(zBe),r.registerComponentView(uTe),P1(r,"angle",VBe,oTe),P1(r,"radius",GBe,lTe),r.registerComponentView(JBe),r.registerComponentView(rTe),r.registerLayout(Nr(aTe,"bar"))}function EI(r,t){t=t||{};var e=r.coordinateSystem,n=r.axis,i={},a=n.position,s=n.orient,o=e.getRect(),l=[o.x,o.x+o.width,o.y,o.y+o.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};i.position=[s==="vertical"?u.vertical[a]:l[0],s==="horizontal"?u.horizontal[a]:l[3]];var c={horizontal:0,vertical:1};i.rotation=Math.PI/2*c[s];var f={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=f[a],r.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),hs(t.labelInside,r.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var h=r.get(["axisLabel","rotate"]);return i.labelRotate=a==="top"?-h:h,i.z2=1,i}var fTe=["splitArea","splitLine","breakArea"],hTe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="SingleAxisPointer",e}return t.prototype.render=function(e,n,i,a){var s=this.group;s.removeAll();var o=this._axisGroup;this._axisGroup=new ir;var l=EI(e),u=new Fo(e,i,l);u.build(),s.add(this._axisGroup),s.add(u.group),se(fTe,function(c){e.get([c,"show"])&&dTe[c](this,this.group,this._axisGroup,e,i)},this),Gw(o,this._axisGroup,e),r.prototype.render.call(this,e,n,i,a)},t.prototype.remove=function(){sae(this)},t.type="singleAxis",t}(Vg),dTe={splitLine:function(r,t,e,n,i){var a=n.axis;if(!a.scale.isBlank()){var s=n.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color");l=l instanceof Array?l:[l];for(var u=o.get("width"),c=n.coordinateSystem.getRect(),f=a.isHorizontal(),h=[],d=0,A=a.getTicksCoords({tickModel:s,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),p=[],g=[],m=0;m<A.length;++m){var v=a.toGlobalCoord(A[m].coord);f?(p[0]=v,p[1]=c.y,g[0]=v,g[1]=c.y+c.height):(p[0]=c.x,p[1]=v,g[0]=c.x+c.width,g[1]=v);var y=new ra({shape:{x1:p[0],y1:p[1],x2:g[0],y2:g[1]},silent:!0});N1(y.shape,u);var b=d++%l.length;h[b]=h[b]||[],h[b].push(y)}for(var _=o.getLineStyle(["color"]),m=0;m<h.length;++m)t.add(Fl(h[m],{style:sr({stroke:l[m%l.length]},_),silent:!0}))}},splitArea:function(r,t,e,n,i){aae(r,e,n,n)},breakArea:function(r,t,e,n,i){var a=e_(),s=n.axis.scale;a&&s.type!=="ordinal"&&a.rectCoordBuildBreakAxis(t,r,n,n.coordinateSystem.getRect(),i)}},W3=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}},jitter:0,jitterOverlap:!0,jitterMargin:2},t}($r);Ui(W3,dy.prototype);var ATe=function(r){Ge(t,r);function t(e,n,i,a,s){var o=r.call(this,e,n,i)||this;return o.type=a||"value",o.position=s||"bottom",o}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.pointToData=function(e,n){return this.coordinateSystem.pointToData(e)[0]},t}(Du),zse=["single"],pTe=function(){function r(t,e,n){this.type="single",this.dimension="single",this.dimensions=zse,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,n)}return r.prototype._init=function(t,e,n){var i=this.dimension,a=new ATe(i,qw(t),[0,0],t.get("type"),t.get("position")),s=a.type==="category";a.onBand=s&&t.get("boundaryGap"),a.inverse=t.get("inverse"),a.orient=t.get("orient"),t.axis=a,a.model=t,a.coordinateSystem=this,this._axis=a},r.prototype.update=function(t,e){t.eachSeries(function(n){if(n.coordinateSystem===this){var i=n.getData();se(i.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(i,a)},this),Bg(this._axis.scale,this._axis.model)}},this)},r.prototype.resize=function(t,e){var n=La(t,e).refContainer;this._rect=li(t.getBoxLayoutParams(),n),this._adjustAxis()},r.prototype.getRect=function(){return this._rect},r.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),i=n?[0,t.width]:[0,t.height],a=e.inverse?1:0;e.setExtent(i[a],i[1-a]),this._updateAxisTransform(e,n?t.x:t.y)},r.prototype._updateAxisTransform=function(t,e){var n=t.getExtent(),i=n[0]+n[1],a=t.isHorizontal();t.toGlobalCoord=a?function(s){return s+e}:function(s){return i-s+e},t.toLocalCoord=a?function(s){return s-e}:function(s){return i-s+e}},r.prototype.getAxis=function(){return this._axis},r.prototype.getBaseAxis=function(){return this._axis},r.prototype.getAxes=function(){return[this._axis]},r.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},r.prototype.containPoint=function(t){var e=this.getRect(),n=this.getAxis(),i=n.orient;return i==="horizontal"?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},r.prototype.pointToData=function(t,e,n){n=n||[];var i=this.getAxis();return n[0]=i.coordToData(i.toLocalCoord(t[i.orient==="horizontal"?0:1])),n},r.prototype.dataToPoint=function(t,e,n){var i=this.getAxis(),a=this.getRect();n=n||[];var s=i.orient==="horizontal"?0:1;return t instanceof Array&&(t=t[0]),n[s]=i.toGlobalCoord(i.dataToCoord(+t)),n[1-s]=s===0?a.y+a.height/2:a.x+a.width/2,n},r.prototype.convertToPixel=function(t,e,n){var i=OG(e);return i===this?this.dataToPoint(n):null},r.prototype.convertFromPixel=function(t,e,n){var i=OG(e);return i===this?this.pointToData(n):null},r}();function OG(r){var t=r.seriesModel,e=r.singleAxisModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}function gTe(r,t){var e=[];return r.eachComponent("singleAxis",function(n,i){var a=new pTe(n,r,t);a.name="single_"+i,a.resize(n,t),n.coordinateSystem=a,e.push(a)}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="singleAxis"){var i=n.getReferringComponents("singleAxis",Ni).models[0];n.coordinateSystem=i&&i.coordinateSystem}}),e}var mTe={create:gTe,dimensions:zse},jG=["x","y"],vTe=["width","height"],yTe=function(r){Ge(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,n,i,a,s){var o=i.axis,l=o.coordinateSystem,u=tk(l,1-k6(o)),c=l.dataToPoint(n)[0],f=a.get("type");if(f&&f!=="none"){var h=DP(a),d=xTe[f](o,c,u);d.style=h,e.graphicKey=d.type,e.pointer=d}var A=EI(i);Pse(n,e,A,i,a,s)},t.prototype.getHandleTransform=function(e,n,i){var a=EI(n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var s=PP(n.axis,e,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,n,i,a){var s=i.axis,o=s.coordinateSystem,l=k6(s),u=tk(o,l),c=[e.x,e.y];c[l]+=n[l],c[l]=Math.min(u[1],c[l]),c[l]=Math.max(u[0],c[l]);var f=tk(o,1-l),h=(f[1]+f[0])/2,d=[h,h];return d[l]=c[l],{x:c[0],y:c[1],rotation:e.rotation,cursorPoint:d,tooltipOption:{verticalAlign:"middle"}}},t}(LP),xTe={line:function(r,t,e){var n=RP([t,e[0]],[t,e[1]],k6(r));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(r,t,e){var n=r.getBandWidth(),i=e[1]-e[0];return{type:"Rect",shape:Rse([t-n/2,e[0]],[n,i],k6(r))}}};function k6(r){return r.isHorizontal()?0:1}function tk(r,t){var e=r.getRect();return[e[jG[t]],e[jG[t]]+e[vTe[t]]]}var bTe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="single",t}(Hn);function wTe(r){Or(t_),Vg.registerAxisPointerClass("SingleAxisPointer",yTe),r.registerComponentView(bTe),r.registerComponentView(hTe),r.registerComponentModel(W3),P1(r,"single",W3,W3.defaultOption),r.registerCoordinateSystem("single",mTe)}var _Te=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n,i){var a=Hg(e);r.prototype.init.apply(this,arguments),UG(e,a)},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),UG(this.option,e)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.layoutMode="box",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:Je.color.axisLine,width:1,type:"solid"}},itemStyle:{color:Je.color.neutral00,borderWidth:1,borderColor:Je.color.neutral10},dayLabel:{show:!0,firstDay:0,position:"start",margin:Je.size.s,color:Je.color.secondary},monthLabel:{show:!0,position:"start",margin:Je.size.s,align:"center",formatter:null,color:Je.color.secondary},yearLabel:{show:!0,position:null,margin:Je.size.xl,formatter:null,color:Je.color.quaternary,fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}($r);function UG(r,t){var e=r.cellSize,n;xt(e)?n=e:n=r.cellSize=[e,e],n.length===1&&(n[1]=n[0]);var i=wt([0,1],function(a){return G1e(t,a)&&(n[a]="auto"),n[a]!=null&&n[a]!=="auto"});kf(r,t,{type:"box",ignoreSize:i})}var STe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=this.group;a.removeAll();var s=e.coordinateSystem,o=s.getRangeInfo(),l=s.getOrient(),u=n.getLocaleModel();this._renderDayRect(e,o,a),this._renderLines(e,o,l,a),this._renderYearText(e,o,l,a),this._renderMonthText(e,u,l,a),this._renderWeekText(e,u,o,l,a)},t.prototype._renderDayRect=function(e,n,i){for(var a=e.coordinateSystem,s=e.getModel("itemStyle").getItemStyle(),o=a.getCellWidth(),l=a.getCellHeight(),u=n.start.time;u<=n.end.time;u=a.getNextNDay(u,1).time){var c=a.dataToCalendarLayout([u],!1).tl,f=new zr({shape:{x:c[0],y:c[1],width:o,height:l},cursor:"default",style:s});i.add(f)}},t.prototype._renderLines=function(e,n,i,a){var s=this,o=e.coordinateSystem,l=e.getModel(["splitLine","lineStyle"]).getLineStyle(),u=e.get(["splitLine","show"]),c=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var f=n.start,h=0;f.time<=n.end.time;h++){A(f.formatedDate),h===0&&(f=o.getDateInfo(n.start.y+"-"+n.start.m));var d=f.date;d.setMonth(d.getMonth()+1),f=o.getDateInfo(d)}A(o.getNextNDay(n.end.time,1).formatedDate);function A(p){s._firstDayOfMonth.push(o.getDateInfo(p)),s._firstDayPoints.push(o.dataToCalendarLayout([p],!1).tl);var g=s._getLinePointsOfOneWeek(e,p,i);s._tlpoints.push(g[0]),s._blpoints.push(g[g.length-1]),u&&s._drawSplitline(g,l,a)}u&&this._drawSplitline(s._getEdgesPoints(s._tlpoints,c,i),l,a),u&&this._drawSplitline(s._getEdgesPoints(s._blpoints,c,i),l,a)},t.prototype._getEdgesPoints=function(e,n,i){var a=[e[0].slice(),e[e.length-1].slice()],s=i==="horizontal"?0:1;return a[0][s]=a[0][s]-n/2,a[1][s]=a[1][s]+n/2,a},t.prototype._drawSplitline=function(e,n,i){var a=new gs({z2:20,shape:{points:e},style:n});i.add(a)},t.prototype._getLinePointsOfOneWeek=function(e,n,i){for(var a=e.coordinateSystem,s=a.getDateInfo(n),o=[],l=0;l<7;l++){var u=a.getNextNDay(s.time,l),c=a.dataToCalendarLayout([u.time],!1);o[2*u.day]=c.tl,o[2*u.day+1]=c[i==="horizontal"?"bl":"tr"]}return o},t.prototype._formatterLabel=function(e,n){return Ht(e)&&e?O1e(e,n):rr(e)?e(n):n.nameMap},t.prototype._yearTextPositionControl=function(e,n,i,a,s){var o=n[0],l=n[1],u=["center","bottom"];a==="bottom"?(l+=s,u=["center","top"]):a==="left"?o-=s:a==="right"?(o+=s,u=["center","top"]):l-=s;var c=0;return(a==="left"||a==="right")&&(c=Math.PI/2),{rotation:c,x:o,y:l,style:{align:u[0],verticalAlign:u[1]}}},t.prototype._renderYearText=function(e,n,i,a){var s=e.getModel("yearLabel");if(s.get("show")){var o=s.get("margin"),l=s.get("position");l||(l=i!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(u[0][0]+u[1][0])/2,f=(u[0][1]+u[1][1])/2,h=i==="horizontal"?0:1,d={top:[c,u[h][1]],bottom:[c,u[1-h][1]],left:[u[1-h][0],f],right:[u[h][0],f]},A=n.start.y;+n.end.y>+n.start.y&&(A=A+"-"+n.end.y);var p=s.get("formatter"),g={start:n.start.y,end:n.end.y,nameMap:A},m=this._formatterLabel(p,g),v=new nn({z2:30,style:jn(s,{text:m}),silent:s.get("silent")});v.attr(this._yearTextPositionControl(v,d[l],i,l,o)),a.add(v)}},t.prototype._monthTextPositionControl=function(e,n,i,a,s){var o="left",l="top",u=e[0],c=e[1];return i==="horizontal"?(c=c+s,n&&(o="center"),a==="start"&&(l="bottom")):(u=u+s,n&&(l="middle"),a==="start"&&(o="right")),{x:u,y:c,align:o,verticalAlign:l}},t.prototype._renderMonthText=function(e,n,i,a){var s=e.getModel("monthLabel");if(s.get("show")){var o=s.get("nameMap"),l=s.get("margin"),u=s.get("position"),c=s.get("align"),f=[this._tlpoints,this._blpoints];(!o||Ht(o))&&(o&&(n=_F(o)||n),o=n.get(["time","monthAbbr"])||[]);var h=u==="start"?0:1,d=i==="horizontal"?0:1;l=u==="start"?-l:l;for(var A=c==="center",p=s.get("silent"),g=0;g<f[h].length-1;g++){var m=f[h][g].slice(),v=this._firstDayOfMonth[g];if(A){var y=this._firstDayPoints[g];m[d]=(y[d]+f[0][g+1][d])/2}var b=s.get("formatter"),_=o[+v.m-1],T={yyyy:v.y,yy:(v.y+"").slice(2),MM:v.m,M:+v.m,nameMap:_},I=this._formatterLabel(b,T),N=new nn({z2:30,style:pt(jn(s,{text:I}),this._monthTextPositionControl(m,A,i,u,l)),silent:p});a.add(N)}}},t.prototype._weekTextPositionControl=function(e,n,i,a,s){var o="center",l="middle",u=e[0],c=e[1],f=i==="start";return n==="horizontal"?(u=u+a+(f?1:-1)*s[0]/2,o=f?"right":"left"):(c=c+a+(f?1:-1)*s[1]/2,l=f?"bottom":"top"),{x:u,y:c,align:o,verticalAlign:l}},t.prototype._renderWeekText=function(e,n,i,a,s){var o=e.getModel("dayLabel");if(o.get("show")){var l=e.coordinateSystem,u=o.get("position"),c=o.get("nameMap"),f=o.get("margin"),h=l.getFirstDayOfWeek();if(!c||Ht(c)){c&&(n=_F(c)||n);var d=n.get(["time","dayOfWeekShort"]);c=d||wt(n.get(["time","dayOfWeekAbbr"]),function(T){return T[0]})}var A=l.getNextNDay(i.end.time,7-i.lweek).time,p=[l.getCellWidth(),l.getCellHeight()];f=Ut(f,Math.min(p[1],p[0])),u==="start"&&(A=l.getNextNDay(i.start.time,-(7+i.fweek)).time,f=-f);for(var g=o.get("silent"),m=0;m<7;m++){var v=l.getNextNDay(A,m),y=l.dataToCalendarLayout([v.time],!1).center,b=m;b=Math.abs((m+h)%7);var _=new nn({z2:30,style:pt(jn(o,{text:c[b]}),this._weekTextPositionControl(y,a,u,f,p)),silent:g});s.add(_)}}},t.type="calendar",t}(Hn),rk=864e5,CTe=function(){function r(t,e,n){this.type="calendar",this.dimensions=r.dimensions,this.getDimensionsInfo=r.getDimensionsInfo,this._model=t,this._update(e,n)}return r.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},r.prototype.getRangeInfo=function(){return this._rangeInfo},r.prototype.getModel=function(){return this._model},r.prototype.getRect=function(){return this._rect},r.prototype.getCellWidth=function(){return this._sw},r.prototype.getCellHeight=function(){return this._sh},r.prototype.getOrient=function(){return this._orient},r.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},r.prototype.getDateInfo=function(t){t=Mf(t);var e=t.getFullYear(),n=t.getMonth()+1,i=n<10?"0"+n:""+n,a=t.getDate(),s=a<10?"0"+a:""+a,o=t.getDay();return o=Math.abs((o+7-this.getFirstDayOfWeek())%7),{y:e+"",m:i,d:s,day:o,time:t.getTime(),formatedDate:e+"-"+i+"-"+s,date:t}},r.prototype.getNextNDay=function(t,e){return e=e||0,e===0?this.getDateInfo(t):(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+e),this.getDateInfo(t))},r.prototype._update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],a=this._model.getCellSize().slice(),s=this._model.getBoxLayoutParams(),o=this._orient==="horizontal"?[n,7]:[7,n];se([0,1],function(f){c(a,f)&&(s[i[f]]=a[f]*o[f])});var l={width:e.getWidth(),height:e.getHeight()},u=this._rect=li(s,l);se([0,1],function(f){c(a,f)||(a[f]=u[i[f]]/o[f])});function c(f,h){return f[h]!=null&&f[h]!=="auto"}this._sw=a[0],this._sh=a[1]},r.prototype.dataToPoint=function(t,e,n){n=n||[],xt(t)&&(t=t[0]),e==null&&(e=!0);var i=this.getDateInfo(t),a=this._rangeInfo,s=i.formatedDate;if(e&&!(i.time>=a.start.time&&i.time<a.end.time+rk))return n[0]=n[1]=NaN,n;var o=i.day,l=this._getRangeInfo([a.start.time,s]).nthWeek;return this._orient==="vertical"?(n[0]=this._rect.x+o*this._sw+this._sw/2,n[1]=this._rect.y+l*this._sh+this._sh/2):(n[0]=this._rect.x+l*this._sw+this._sw/2,n[1]=this._rect.y+o*this._sh+this._sh/2),n},r.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},r.prototype.dataToLayout=function(t,e,n){n=n||{};var i=n.rect=n.rect||{},a=n.contentRect=n.contentRect||{},s=this.dataToPoint(t,e);return i.x=s[0]-this._sw/2,i.y=s[1]-this._sh/2,i.width=this._sw,i.height=this._sh,fr.copy(a,i),_g(a,this._lineWidth/2,!0,!0),n},r.prototype.dataToCalendarLayout=function(t,e){var n=this.dataToPoint(t,e);return{center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},r.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(n,e-1,i):this._getDateByWeeksAndDay(e,n-1,i)},r.prototype.convertToPixel=function(t,e,n){var i=nk(e);return i===this?i.dataToPoint(n):null},r.prototype.convertToLayout=function(t,e,n){var i=nk(e);return i===this?i.dataToLayout(n):null},r.prototype.convertFromPixel=function(t,e,n){var i=nk(e);return i===this?i.pointToData(n):null},r.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},r.prototype._initRangeOption=function(){var t=this._model.get("range"),e;if(xt(t)&&t.length===1&&(t=t[0]),xt(t))e=t;else{var n=t.toString();if(/^\d{4}$/.test(n)&&(e=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var i=this.getDateInfo(n),a=i.date;a.setMonth(a.getMonth()+1);var s=this.getNextNDay(a,-1);e=[i.formatedDate,s.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(e=[n,n])}if(!e)return t;var o=this._getRangeInfo(e);return o.start.time>o.end.time&&e.reverse(),e},r.prototype._getRangeInfo=function(t){var e=[this.getDateInfo(t[0]),this.getDateInfo(t[1])],n;e[0].time>e[1].time&&(n=!0,e.reverse());var i=Math.floor(e[1].time/rk)-Math.floor(e[0].time/rk)+1,a=new Date(e[0].time),s=a.getDate(),o=e[1].date.getDate();a.setDate(s+i-1);var l=a.getDate();if(l!==o)for(var u=a.getTime()-e[1].time>0?1:-1;(l=a.getDate())!==o&&(a.getTime()-e[1].time)*u>0;)i-=u,a.setDate(l-u);var c=Math.floor((i+e[0].day+6)/7),f=n?-c+1:c-1;return n&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:i,weeks:c,nthWeek:f,fweek:e[0].day,lweek:e[1].day}},r.prototype._getDateByWeeksAndDay=function(t,e,n){var i=this._getRangeInfo(n);if(t>i.weeks||t===0&&e<i.fweek||t===i.weeks&&e>i.lweek)return null;var a=(t-1)*7-i.fweek+e,s=new Date(i.start.time);return s.setDate(+i.start.d+a),this.getDateInfo(s)},r.create=function(t,e){var n=[];return t.eachComponent("calendar",function(i){var a=new r(i,t,e);n.push(a),i.coordinateSystem=a}),t.eachComponent(function(i,a){$w({targetModel:a,coordSysType:"calendar",coordSysProvider:ure})}),n},r.dimensions=["time","value"],r}();function nk(r){var t=r.calendarModel,e=r.seriesModel,n=t?t.coordinateSystem:e?e.coordinateSystem:null;return n}function BTe(r){r.registerComponentModel(_Te),r.registerComponentView(STe),r.registerCoordinateSystem("calendar",CTe)}var mh={level:1,leaf:2,nonLeaf:3},Ih={none:0,all:1,body:2,corner:3};function kI(r,t,e){var n=t[Sr[e]].getCell(r);return!n&&an(r)&&r<0&&(n=t[Sr[1-e]].getUnitLayoutInfo(e,Math.round(r))),n}function Vse(r){var t=r||[];return t[0]=t[0]||[],t[1]=t[1]||[],t[0][0]=t[0][1]=t[1][0]=t[1][1]=NaN,t}function Gse(r,t,e,n,i){HG(r[0],t,i,e,n,0),HG(r[1],t,i,e,n,1)}function HG(r,t,e,n,i,a){r[0]=1/0,r[1]=-1/0;var s=n[a],o=xt(s)?s:[s],l=o.length,u=!!e;if(l>=1?(QG(r,t,o,u,i,a,0),l>1&&QG(r,t,o,u,i,a,l-1)):r[0]=r[1]=NaN,u){var c=-i[Sr[1-a]].getLocatorCount(a),f=i[Sr[a]].getLocatorCount(a)-1;e===Ih.body?c=ea(0,c):e===Ih.corner&&(f=Hl(-1,f)),f<c&&(c=f=NaN),Ds(r[0])&&(r[0]=c),Ds(r[1])&&(r[1]=f),r[0]=ea(Hl(r[0],f),c),r[1]=ea(Hl(r[1],f),c)}}function QG(r,t,e,n,i,a,s){var o=kI(e[s],i,a);if(!o){r[0]=r[1]=NaN;return}var l=o.id[Sr[a]],u=l,c=NTe(o);c&&(u+=c.span[Sr[a]]-1),r[0]=Hl(r[0],l,u),r[1]=ea(r[1],l,u)}function u4(r,t){return Ds(r[t][0])||Ds(r[t][1])}function zG(r,t,e,n){t=t||TTe;for(var i=0;i<n;i++)t[i]=!1;for(;;){for(var a=!1,i=0;i<n;i++){var s=e[i];!t[i]&&s.cellMergeOwner&&ETe(r,s.locatorRange)&&(t[i]=!0,a=!0)}if(!a)break}}var TTe=[];function ETe(r,t){return!VG(r[0],t[0])||!VG(r[1],t[1])?!1:(r[0][0]=Hl(r[0][0],t[0][0]),r[0][1]=ea(r[0][1],t[0][1]),r[1][0]=Hl(r[1][0],t[1][0]),r[1][1]=ea(r[1][1],t[1][1]),!0)}function VG(r,t){return r[1]>=t[0]&&r[0]<=t[1]}function GG(r,t){r.id.set(t[0][0],t[1][0]),r.span.set(t[0][1]-r.id.x+1,t[1][1]-r.id.y+1)}function kTe(r,t){r[0][0]=t[0][0],r[0][1]=t[0][1],r[1][0]=t[1][0],r[1][1]=t[1][1]}function WG(r,t,e,n){var i=kI(t[n][0],e,n),a=kI(t[n][1],e,n);r[Sr[n]]=r[va[n]]=NaN,i&&a&&(r[Sr[n]]=i.xy,r[va[n]]=a.xy+a.wh-i.xy)}function Sx(r,t,e,n){return r[Sr[t]]=e,r[Sr[1-t]]=n,r}function NTe(r){return r&&(r.type===mh.leaf||r.type===mh.nonLeaf)?r:null}function N6(){return{x:NaN,y:NaN,width:NaN,height:NaN}}var $G=function(){function r(t,e){this._cells=[],this._levels=[],this.dim=t,this.dimIdx=t==="x"?0:1,this._model=e,this._uniqueValueGen=FTe(t);var n=e.get("data",!0);n!=null&&!xt(n)&&(n=[]),n?this._initByDimModelData(n):this._initBySeriesData()}return r.prototype._initByDimModelData=function(t){var e=this,n=e._cells,i=e._levels,a=[],s=0;e._leavesCount=o(t,0,0),l();return;function o(u,c,f){var h=0;return u&&se(u,function(d,A){var p;Ht(d)?p={value:d}:or(d)?(p=d,d.value!=null&&!Ht(d.value)&&(p={value:null})):p={value:null};var g={type:mh.nonLeaf,ordinal:NaN,level:f,firstLeafLocator:c,id:new cr,span:Sx(new cr,e.dimIdx,1,1),option:p,xy:NaN,wh:NaN,dim:e,rect:N6()};s++,(a[c]||(a[c]=[])).push(g),i[f]||(i[f]={type:mh.level,xy:NaN,wh:NaN,option:null,id:new cr,dim:e});var m=o(p.children,c,f+1),v=Math.max(1,m);g.span[Sr[e.dimIdx]]=v,h+=v,c+=v}),h}function l(){for(var u=[];n.length<s;)for(var c=0;c<a.length;c++){var f=a[c].pop();if(f){f.ordinal=u.length;var h=f.option.value;u.push(h),n.push(f),e._uniqueValueGen.calcDupBase(h)}}e._uniqueValueGen.ensureValueUnique(u,n);var d=e._ordinalMeta=new Hb({categories:u,needCollect:!1,deduplication:!1});e._scale=new M1({ordinalMeta:d});for(var A=0;A<e._leavesCount;A++){var p=e._cells[A];p.type=mh.leaf,p.span[Sr[1-e.dimIdx]]=e._levels.length-p.level}e._initCellsId(),e._initLevelIdOptions()}},r.prototype._initBySeriesData=function(){var t=this;t._leavesCount=0,t._levels=[{type:mh.level,xy:NaN,wh:NaN,option:null,id:new cr,dim:t}],t._initLevelIdOptions();var e=t._ordinalMeta=new Hb({needCollect:!0,deduplication:!0,onCollect:function(n,i){var a=t._cells[i]={type:mh.leaf,ordinal:i,level:0,firstLeafLocator:i,id:new cr,span:Sx(new cr,t.dimIdx,1,1),option:{value:n+""},xy:NaN,wh:NaN,dim:t,rect:N6()};t._leavesCount++,t._setCellId(a)}});t._scale=new M1({ordinalMeta:e})},r.prototype._setCellId=function(t){var e=this._levels.length,n=this.dimIdx;Sx(t.id,n,t.firstLeafLocator,t.level-e)},r.prototype._initCellsId=function(){var t=this._levels.length,e=this.dimIdx;se(this._cells,function(n){Sx(n.id,e,n.firstLeafLocator,n.level-t)})},r.prototype._initLevelIdOptions=function(){var t=this._levels.length,e=this.dimIdx,n=this._model.get("levels",!0);n=xt(n)?n:[],se(this._levels,function(i,a){Sx(i.id,e,0,a-t),i.option=n[a]})},r.prototype.shouldShow=function(){return!!this._model.getShallow("show",!0)},r.prototype.resetLayoutIterator=function(t,e,n,i){if(t=t||new MA,e===this.dimIdx){var a=this._leavesCount,s=n!=null?Math.max(0,n):0;i=i!=null?Math.min(i,a):a,t.reset(this._cells,s,s+i)}else{var a=this._levels.length,s=n!=null?Math.max(0,n+a):0;i=i!=null?Math.min(i,a):a,t.reset(this._levels,s,s+i)}return t},r.prototype.resetCellIterator=function(t){return(t||new MA).reset(this._cells,0)},r.prototype.resetLevelIterator=function(t){return(t||new MA).reset(this._levels,0)},r.prototype.getLayout=function(t,e,n){var i=this.getUnitLayoutInfo(e,n);t[Sr[e]]=i?i.xy:NaN,t[va[e]]=i?i.wh:NaN},r.prototype.getUnitLayoutInfo=function(t,e){return t===this.dimIdx?e<this._leavesCount?this._cells[e]:void 0:this._levels[e+this._levels.length]},r.prototype.getCell=function(t){var e=this._scale.parse(t);return Ds(e)?void 0:this._cells[e]},r.prototype.getLocatorCount=function(t){return t===this.dimIdx?this._leavesCount:this._levels.length},r.prototype.getOrdinalMeta=function(){return this._ordinalMeta},r}();function FTe(r){var t=r.toUpperCase(),e=new RegExp("^"+t+"([0-9]+)$"),n=0;function i(o){var l;o!=null&&(l=o.match(e))&&(n=ea(n,+l[1]+1))}function a(){return""+t+n++}function s(o,l){for(var u=Xt(),c=0;c<o.length;c++){var f=o[c];(f==null||u.get(f)!=null)&&(o[c]=f=a(),l[c].option=sr({value:f},l[c].option)),u.set(f,!0)}}return{calcDupBase:i,ensureValueUnique:s}}var KG=function(){function r(t,e,n){this._model=e,this._dims=n,this._kind=t,this._cellMergeOwnerList=[]}return r.prototype._ensureCellMap=function(){var t=this,e=t._cellMap;return e||(e=t._cellMap=Xt(),n()),e;function n(){var a=[],s=t._model.getShallow("data");s&&!xt(s)&&(s=null),se(s,function(A,p){if(!(!or(A)||!xt(A.coord))){var g=Vse([]),m=null;if(Gse(g,m,A.coord,t._dims,A.coordClamp?Ih[t._kind]:Ih.none),!(u4(g,0)||u4(g,1))){var v=A&&A.mergeCells,y={id:new cr,span:new cr,locatorRange:g,option:A,cellMergeOwner:v};GG(y,g),a.push(y)}}});for(var o=[],l=0;l<a.length;l++){var u=a[l];if(u.cellMergeOwner){var c=u.locatorRange;zG(c,o,a,l);for(var f=0;f<l;f++)o[f]&&(a[f].cellMergeOwner=!1);if(c[0][0]!==u.id.x||c[1][0]!==u.id.y){u.cellMergeOwner=!1;var h=pt({},u.option);h.coord=null;var d={id:new cr,span:new cr,locatorRange:c,option:h,cellMergeOwner:!0};GG(d,c),a.push(d)}}}se(a,function(A){var p=i(A.id.x,A.id.y);if(A.cellMergeOwner&&(p.cellMergeOwner=!0,p.span=A.span,p.locatorRange=A.locatorRange,p.spanRect=N6(),t._cellMergeOwnerList.push(p)),!(!A.cellMergeOwner&&!A.option))for(var g=0;g<A.span.y;g++)for(var m=0;m<A.span.x;m++){var v=i(A.id.x+m,A.id.y+g);v.option=A.option,A.cellMergeOwner&&(v.inSpanOf=p)}})}function i(a,s){var o=qG(a,s),l=e.get(o);return l||(l=e.set(o,{id:new cr(a,s),option:null,inSpanOf:null,span:null,spanRect:null,locatorRange:null,cellMergeOwner:!1})),l}},r.prototype.getCell=function(t){return this._ensureCellMap().get(qG(t[0],t[1]))},r.prototype.travelExistingCells=function(t){this._ensureCellMap().each(t)},r.prototype.expandRangeByCellMerge=function(t){if(!u4(t,0)&&!u4(t,1)&&t[0][0]===t[0][1]&&t[1][0]===t[1][1]){ik[0]=t[0][0],ik[1]=t[1][0];var e=this.getCell(ik),n=e&&e.inSpanOf;if(n){kTe(t,n.locatorRange);return}}var i=this._cellMergeOwnerList;zG(t,null,i,i.length)},r}(),ik=[];function qG(r,t){return r+"|"+t}var HP={show:!0,color:Je.color.secondary,overflow:"break",lineOverflow:"truncate",padding:[2,3,2,3],distance:0};function QP(r){return{color:"none",borderWidth:1,borderColor:r?"none":Je.color.borderTint}}var XG={show:!0,label:HP,itemStyle:QP(!1),silent:void 0,dividerLineStyle:{width:1,color:Je.color.border}},ITe={label:HP,itemStyle:QP(!1),silent:void 0},MTe={label:HP,itemStyle:QP(!0),silent:void 0},LTe={z:-50,left:"10%",top:"10%",right:"10%",bottom:"10%",x:XG,y:XG,body:ITe,corner:MTe,backgroundStyle:{color:"none",borderColor:Je.color.axisLine,borderWidth:1}},DTe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){var e=this._dimModels={x:new YG(this.get("x",!0)||{}),y:new YG(this.get("y",!0)||{})};e.x.option.type=e.y.option.type="category";var n=e.x.dim=new $G("x",e.x),i=e.y.dim=new $G("y",e.y),a={x:n,y:i};this._body=new KG("body",new qr(this.getShallow("body")),a),this._corner=new KG("corner",new qr(this.getShallow("corner")),a)},t.prototype.getDimensionModel=function(e){return this._dimModels[e]},t.prototype.getBody=function(){return this._body},t.prototype.getCorner=function(){return this._corner},t.type="matrix",t.layoutMode="box",t.defaultOption=LTe,t}($r),YG=function(r){Ge(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getOrdinalMeta=function(){return this.dim.getOrdinalMeta()},t}(qr),c4=Math.round,PTe=0,RTe=99,OTe={normal:25,special:100},jTe={normal:50,special:125},UTe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n){this.group.removeAll();var i=this.group,a=e.coordinateSystem,s=a.getRect(),o=e.getDimensionModel("x"),l=e.getDimensionModel("y"),u=o.dim,c=l.dim;HTe(i,e,n),QTe(i,e,u,c,n);var f=e.getShallow("borderZ2",!0),h=Zt(f,RTe),d=h-1,A=e.getModel("backgroundStyle").getItemStyle(["borderWidth"]);A.lineWidth=0;var p=e.getModel("backgroundStyle").getItemStyle(["color","decal","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]);p.fill="none";var g=NI(s.clone(),A,PTe),m=NI(s.clone(),p,h);g.silent=!0,m.silent=!0,i.add(g),i.add(m);var v=u.getUnitLayoutInfo(0,0),y=c.getUnitLayoutInfo(1,0);v&&y&&(u.shouldShow()&&i.add(ZG({x1:s.x,y1:y.xy,x2:s.x+s.width,y2:y.xy},o.getModel("dividerLineStyle").getLineStyle(),d)),c.shouldShow()&&i.add(ZG({x1:v.xy,y1:s.y,x2:v.xy,y2:s.y+s.height},l.getModel("dividerLineStyle").getLineStyle(),d)))},t.type="matrix",t}(Hn);function HTe(r,t,e){n(0),n(1);function n(i){var a=t.getDimensionModel(Sr[i]),s=a.dim;if(s.shouldShow())for(var o=a.getModel("itemStyle"),l=a.getModel("label"),u=t.getShallow("tooltip",!0),c=[],f=s.resetCellIterator();f.next();){var h=f.item,d={};fr.copy(d,h.rect),GC(c,h.id.x,h.id.y),Wse(c,t,r,e,h.option,o,l,a,d,h.option.value,jTe,u)}}}function QTe(r,t,e,n,i){a("body",t.getBody(),e,n),e.shouldShow()&&n.shouldShow()&&a("corner",t.getCorner(),n,e);function a(s,o,l,u){var c=new qr(t.getShallow(s,!0)),f=c.getModel("itemStyle"),h=c.getModel("label"),d=new MA,A=new MA,p=[],g=t.getShallow("tooltip",!0);for(u.resetLayoutIterator(A,1);A.next();)for(l.resetLayoutIterator(d,0);d.next();){var m=d.item,v=A.item;GC(p,m.id.x,v.id.y);var y=o.getCell(p);if(!(y&&y.inSpanOf&&y.inSpanOf!==y)){var b={};y&&y.span?fr.copy(b,y.spanRect):(m.dim.getLayout(b,0,p[0]),v.dim.getLayout(b,1,p[1]));var _=y?y.option:null;Wse(p,t,r,i,_,f,h,c,b,_?_.value:null,OTe,g)}}}}function Wse(r,t,e,n,i,a,s,o,l,u,c,f){var h;f4.option=i?i.itemStyle:null,f4.parentModel=a,Tm.option=i,Tm.parentModel=o;var d=Zt(Tm.getShallow("z2"),i&&i.itemStyle?c.special:c.normal),A=f&&f.show,p=NI(l,f4.getItemStyle(),d);e.add(p);var g=Tm.get("cursor");g!=null&&p.attr("cursor",g);var m;if(u!=null){var v=u+"";if(Em.option=i?i.label:null,Em.parentModel=s,Em.ecModel=n,Ja(p,{normal:Em},{defaultText:v,autoOverflowArea:!0,layoutRect:nr(p.shape)}),m=p.getTextContent(),m){m.z2=d+1;var y=m.style;if(y&&y.overflow&&y.overflow!=="none"&&y.lineOverflow){var b={};fr.copy(b,l),_g(b,(((h=p.style)===null||h===void 0?void 0:h.lineWidth)||0)/2,!0,!0),p.updateInnerText(),m.getLocalTransform(h4),ku(h4,h4),fr.applyTransform(b,b,h4),m.setClipPath(new zr({shape:b}))}}nd({el:p,componentModel:t,itemName:v,itemTooltipOption:f,formatterParamsExtra:{xyLocator:r.slice()}})}if(m){var _=Em.get("silent");_==null&&(_=!A),m.silent=_,m.ignoreHostSilent=!0}var T=Tm.get("silent");T==null&&(T=!p.style||p.style.fill==="none"||!p.style.fill),p.silent=T,mT(Tm),mT(f4),mT(Em)}var Tm=new qr,f4=new qr,Em=new qr,h4=[];function NI(r,t,e){var n=t.lineWidth;if(n){var i=r.x+r.width,a=r.y+r.height;r.x=Pl(r.x,n,!0),r.y=Pl(r.y,n,!0),r.width=Pl(i,n,!0)-r.x,r.height=Pl(a,n,!0)-r.y}return new zr({shape:r,style:t,z2:e})}function ZG(r,t,e){var n=t.lineWidth;return n&&(c4(r.x1*2)===c4(r.x2*2)&&(r.x1=r.x2=Pl(r.x1,n,!0)),c4(r.y1*2)===c4(r.y2*2)&&(r.y1=r.y2=Pl(r.y1,n,!0))),new ra({shape:r,style:t,silent:!0,z2:e})}var zTe=function(){function r(t,e,n){this.dimensions=r.dimensions,this.type="matrix",this._model=t;var i=this._dimModels={x:t.getDimensionModel("x"),y:t.getDimensionModel("y")};this._dims={x:i.x.dim,y:i.y.dim},this._resize(t,n)}return r.getDimensionsInfo=function(){return[{name:"x",type:"ordinal"},{name:"y",type:"ordinal"},{name:"value"}]},r.create=function(t,e){var n=[];return t.eachComponent("matrix",function(i){var a=new r(i,t,e);n.push(a),i.coordinateSystem=a}),t.eachComponent(function(i,a){$w({targetModel:a,coordSysType:"matrix",coordSysProvider:ure})}),n},r.prototype.getRect=function(){return this._rect},r.prototype._resize=function(t,e){var n=this._dims,i=this._dimModels,a=this._rect=li(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});JG(i,n,a,0),JG(i,n,a,1),eW(0,n),eW(1,n),tW(this._model.getBody(),n),tW(this._model.getCorner(),n)},r.prototype.dataToPoint=function(t,e,n){return n=n||[],this.dataToLayout(t,e,Cx),n[0]=Cx.rect.x+Cx.rect.width/2,n[1]=Cx.rect.y+Cx.rect.height/2,n},r.prototype.dataToLayout=function(t,e,n){var i=this._dims;n=n||{};var a=n.rect=n.rect||{};a.x=a.y=a.width=a.height=NaN;var s=n.matrixXYLocatorRange=Vse(n.matrixXYLocatorRange);return xt(t)&&(Gse(s,null,t,i,Zt(e&&e.clamp,Ih.none)),(!e||!e.ignoreMergeCells)&&((!e||e.clamp!==Ih.corner)&&this._model.getBody().expandRangeByCellMerge(s),(!e||e.clamp!==Ih.body)&&this._model.getCorner().expandRangeByCellMerge(s)),WG(a,s,i,0),WG(a,s,i,1)),n},r.prototype.pointToData=function(t,e,n){var i=this._dims;return rW(Qc,0,i,t,e&&e.clamp),rW(Qc,1,i,t,e&&e.clamp),n=n||[],n[0]=n[1]=NaN,Qc.y===Bs.inCorner&&Qc.x===Bs.inBody?nW(Qc,n,0,i):Qc.x===Bs.inCorner&&Qc.y===Bs.inBody?nW(Qc,n,1,i):(iW(Qc,n,0,i),iW(Qc,n,1,i)),n},r.prototype.convertToPixel=function(t,e,n,i){var a=sk(e);return a===this?a.dataToPoint(n,i):void 0},r.prototype.convertToLayout=function(t,e,n,i){var a=sk(e);return a===this?a.dataToLayout(n,i):void 0},r.prototype.convertFromPixel=function(t,e,n,i){var a=sk(e);return a===this?a.pointToData(n,i):void 0},r.prototype.containPoint=function(t){return this._rect.contain(t[0],t[1])},r.dimensions=["x","y","value"],r}(),Cx={rect:N6()},d4=new MA,ak=new MA;function JG(r,t,e,n){for(var i=1-n,a=t[Sr[n]],s=t[Sr[i]],o=s.shouldShow(),l=a.resetCellIterator();l.next();)l.item.wh=l.item.xy=NaN;for(var u=s.resetLayoutIterator(null,n);u.next();)u.item.wh=u.item.xy=NaN;for(var c=e[va[n]],f=a.getLocatorCount(n)+s.getLocatorCount(n),h=new qr,d=s.resetLevelIterator();d.next();)h.option=d.item.option,h.parentModel=r[Sr[i]],g(d.item,o?h.get("levelSize"):0);for(var A=new qr,p=a.resetCellIterator();p.next();)p.item.type===mh.leaf&&(A.option=p.item.option,A.parentModel=void 0,g(p.item,A.get("size")));function g(I,N){var F=VTe(N,n,e);Ds(F)||(I.wh=FI(F,c),c=FI(c-I.wh),f--)}var m=f?c/f:0,v=!f&&c>=1,y=e[Sr[n]],b=a.getLocatorCount(n)-1,_=new MA;for(s.resetLayoutIterator(_,n);_.next();)T(_.item);for(a.resetLayoutIterator(_,n);_.next();)T(_.item);function T(I){Ds(I.wh)&&(I.wh=m),I.xy=y,I.id[Sr[n]]===b&&!v&&(I.wh=e[Sr[n]]+e[va[n]]-I.xy),y+=I.wh}}function eW(r,t){for(var e=t[Sr[r]].resetCellIterator();e.next();){var n=e.item;F6(n.rect,r,n.id,n.span,t),F6(n.rect,1-r,n.id,n.span,t),n.type===mh.nonLeaf&&(n.xy=n.rect[Sr[r]],n.wh=n.rect[va[r]])}}function tW(r,t){r.travelExistingCells(function(e){var n=e.span;if(n){var i=e.spanRect,a=e.id;F6(i,0,a,n,t),F6(i,1,a,n,t)}})}function F6(r,t,e,n,i){r[va[t]]=0;var a=e[Sr[t]],s=a<0?i[Sr[1-t]]:i[Sr[t]],o=s.getUnitLayoutInfo(t,e[Sr[t]]);if(r[Sr[t]]=o.xy,r[va[t]]=o.wh,n[Sr[t]]>1){var l=s.getUnitLayoutInfo(t,e[Sr[t]]+n[Sr[t]]-1);r[va[t]]=l.xy+l.wh-o.xy}}function VTe(r,t,e){var n=VS(r,e[va[t]]);return FI(n,e[va[t]])}function FI(r,t){return Math.max(Math.min(r,Zt(t,1/0)),0)}function sk(r){var t=r.matrixModel,e=r.seriesModel,n=t?t.coordinateSystem:e?e.coordinateSystem:null;return n}var Bs={inBody:1,inCorner:2,outside:3},Qc={x:null,y:null,point:[]};function rW(r,t,e,n,i){var a=e[Sr[t]],s=e[Sr[1-t]],o=a.getUnitLayoutInfo(t,a.getLocatorCount(t)-1),l=a.getUnitLayoutInfo(t,0),u=s.getUnitLayoutInfo(t,-s.getLocatorCount(t)),c=s.shouldShow()?s.getUnitLayoutInfo(t,-1):null,f=r.point[t]=n[t];if(!l&&!c){r[Sr[t]]=Bs.outside;return}if(i===Ih.body){l?(r[Sr[t]]=Bs.inBody,f=Hl(o.xy+o.wh,ea(l.xy,f)),r.point[t]=f):r[Sr[t]]=Bs.outside;return}else if(i===Ih.corner){c?(r[Sr[t]]=Bs.inCorner,f=Hl(c.xy+c.wh,ea(u.xy,f)),r.point[t]=f):r[Sr[t]]=Bs.outside;return}var h=l?l.xy:c?c.xy+c.wh:NaN,d=u?u.xy:h,A=o?o.xy+o.wh:h;if(f<d){if(!i){r[Sr[t]]=Bs.outside;return}f=d}else if(f>A){if(!i){r[Sr[t]]=Bs.outside;return}f=A}r.point[t]=f,r[Sr[t]]=h<=f&&f<=A?Bs.inBody:d<=f&&f<=h?Bs.inCorner:Bs.outside}function nW(r,t,e,n){var i=1-e;if(r[Sr[e]]!==Bs.outside)for(n[Sr[e]].resetCellIterator(ak);ak.next();){var a=ak.item;if(aW(r.point[e],a.rect,e)&&aW(r.point[i],a.rect,i)){t[e]=a.ordinal,t[i]=a.id[Sr[i]];return}}}function iW(r,t,e,n){if(r[Sr[e]]!==Bs.outside){var i=r[Sr[e]]===Bs.inCorner?n[Sr[1-e]]:n[Sr[e]];for(i.resetLayoutIterator(d4,e);d4.next();)if(GTe(r.point[e],d4.item)){t[e]=d4.item.id[Sr[e]];return}}}function GTe(r,t){return t.xy<=r&&r<=t.xy+t.wh}function aW(r,t,e){return t[Sr[e]]<=r&&r<=t[Sr[e]]+t[va[e]]}function WTe(r){r.registerComponentModel(DTe),r.registerComponentView(UTe),r.registerCoordinateSystem("matrix",zTe)}function $Te(r,t){var e=r.existing;if(t.id=r.keyInfo.id,!t.type&&e&&(t.type=e.type),t.parentId==null){var n=t.parentOption;n?t.parentId=n.id:e&&(t.parentId=e.parentId)}t.parentOption=null}function sW(r,t){var e;return se(t,function(n){r[n]!=null&&r[n]!=="auto"&&(e=!0)}),e}function KTe(r,t,e){var n=pt({},e),i=r[t],a=e.$action||"merge";a==="merge"?i?(Dr(i,n,!0),kf(i,n,{ignoreSize:!0}),Are(e,i),A4(e,i),A4(e,i,"shape"),A4(e,i,"style"),A4(e,i,"extra"),e.clipPath=i.clipPath):r[t]=n:a==="replace"?r[t]=n:a==="remove"&&i&&(r[t]=null)}var $se=["transition","enterFrom","leaveTo"],qTe=$se.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function A4(r,t,e){if(e&&(!r[e]&&t[e]&&(r[e]={}),r=r[e],t=t[e]),!(!r||!t))for(var n=e?$se:qTe,i=0;i<n.length;i++){var a=n[i];r[a]==null&&t[a]!=null&&(r[a]=t[a])}}function XTe(r,t){if(r&&(r.hv=t.hv=[sW(t,["left","right"]),sW(t,["top","bottom"])],r.type==="group")){var e=r,n=t;e.width==null&&(e.width=n.width=0),e.height==null&&(e.height=n.height=0)}}var YTe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return t.prototype.mergeOption=function(e,n){var i=this.option.elements;this.option.elements=null,r.prototype.mergeOption.call(this,e,n),this.option.elements=i},t.prototype.optionUpdated=function(e,n){var i=this.option,a=(n?i:e).elements,s=i.elements=n?[]:i.elements,o=[];this._flatten(a,o,null);var l=ite(s,o,"normalMerge"),u=this._elOptionsToUpdate=[];se(l,function(c,f){var h=c.newOption;h&&(u.push(h),$Te(c,h),KTe(s,f,h),XTe(s[f],h))},this),i.elements=dn(s,function(c){return c&&delete c.$action,c!=null})},t.prototype._flatten=function(e,n,i){se(e,function(a){if(a){i&&(a.parentOption=i),n.push(a);var s=a.children;s&&s.length&&this._flatten(s,n,a),delete a.children}},this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}($r),oW={path:null,compoundPath:null,group:ir,image:es,text:nn},cu=Kr(),ZTe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this._elMap=Xt()},t.prototype.render=function(e,n,i){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,i)},t.prototype._updateElements=function(e){var n=e.useElOptionsToUpdate();if(n){var i=this._elMap,a=this.group,s=e.get("z"),o=e.get("zlevel");se(n,function(l){var u=Na(l.id,null),c=u!=null?i.get(u):null,f=Na(l.parentId,null),h=f!=null?i.get(f):a,d=l.type,A=l.style;d==="text"&&A&&l.hv&&l.hv[1]&&(A.textVerticalAlign=A.textBaseline=A.verticalAlign=A.align=null);var p=l.textContent,g=l.textConfig;if(A&&Sse(A,d,!!g,!!p)){var m=Cse(A,d,!0);!g&&m.textConfig&&(g=l.textConfig=m.textConfig),!p&&m.textContent&&(p=m.textContent)}var v=JTe(l),y=l.$action||"merge",b=y==="merge",_=y==="replace";if(b){var T=!c,I=c;T?I=lW(u,h,l.type,i):(I&&(cu(I).isNew=!1),kse(I)),I&&(V3(I,v,e,{isInit:T}),uW(I,l,s,o))}else if(_){$3(c,l,i,e);var N=lW(u,h,l.type,i);N&&(V3(N,v,e,{isInit:!0}),uW(N,l,s,o))}else y==="remove"&&(Tse(c,l),$3(c,l,i,e));var F=i.get(u);if(F&&p)if(b){var P=F.getTextContent();P?P.attr(p):F.setTextContent(new nn(p))}else _&&F.setTextContent(new nn(p));if(F){var D=l.clipPath;if(D){var R=D.type,E=void 0,T=!1;if(b){var L=F.getClipPath();T=!L||cu(L).type!==R,E=T?II(R):L}else _&&(T=!0,E=II(R));F.setClipPath(E),V3(E,D,e,{isInit:T}),T6(E,D.keyframeAnimation,e)}var k=cu(F);F.setTextConfig(g),k.option=l,eEe(F,e,l),nd({el:F,componentModel:e,itemName:F.name,itemTooltipOption:l.tooltip}),T6(F,l.keyframeAnimation,e)}})}},t.prototype._relocate=function(e,n){for(var i=e.option.elements,a=this.group,s=this._elMap,o=n.getWidth(),l=n.getHeight(),u=["x","y"],c=0;c<i.length;c++){var f=i[c],h=Na(f.id,null),d=h!=null?s.get(h):null;if(!(!d||!d.isGroup)){var A=d.parent,p=A===a,g=cu(d),m=cu(A);g.width=Ut(g.option.width,p?o:m.width)||0,g.height=Ut(g.option.height,p?l:m.height)||0}}for(var c=i.length-1;c>=0;c--){var f=i[c],h=Na(f.id,null),d=h!=null?s.get(h):null;if(d){var A=d.parent,m=cu(A),v=A===a?{width:o,height:l}:{width:m.width,height:m.height},y={},b=l8(d,f,v,null,{hv:f.hv,boundingMode:f.bounding},y);if(!cu(d).isNew&&b){for(var _=f.transition,T={},I=0;I<u.length;I++){var N=u[I],F=y[N];_&&(og(_)||Lr(_,N)>=0)?T[N]=F:d[N]=F}ln(d,T,e,0)}else d.attr(y)}}},t.prototype._clear=function(){var e=this,n=this._elMap;n.each(function(i){$3(i,cu(i).option,n,e._lastGraphicModel)}),this._elMap=Xt()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(Hn);function II(r){var t=Kt(oW,r)?oW[r]:Mb(r),e=new t({});return cu(e).type=r,e}function lW(r,t,e,n){var i=II(e);return t.add(i),n.set(r,i),cu(i).id=r,cu(i).isNew=!0,i}function $3(r,t,e,n){var i=r&&r.parent;i&&(r.type==="group"&&r.traverse(function(a){$3(a,t,e,n)}),S8(r,t,n),e.removeKey(cu(r).id))}function uW(r,t,e,n){r.isGroup||se([["cursor",Nu.prototype.cursor],["zlevel",n||0],["z",e||0],["z2",0]],function(i){var a=i[0];Kt(t,a)?r[a]=Zt(t[a],i[1]):r[a]==null&&(r[a]=i[1])}),se(en(t),function(i){if(i.indexOf("on")===0){var a=t[i];r[i]=rr(a)?a:null}}),Kt(t,"draggable")&&(r.draggable=t.draggable),t.name!=null&&(r.name=t.name),t.id!=null&&(r.id=t.id)}function JTe(r){return r=pt({},r),se(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(cre),function(t){delete r[t]}),r}function eEe(r,t,e){var n=pr(r).eventData;!r.silent&&!r.ignore&&!n&&(n=pr(r).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:r.name}),n&&(n.info=e.info)}function tEe(r){r.registerComponentModel(YTe),r.registerComponentView(ZTe),r.registerPreprocessor(function(t){var e=t.graphic;xt(e)?!e[0]||!e[0].elements?t.graphic=[{elements:e}]:t.graphic=[t.graphic[0]]:e&&!e.elements&&(t.graphic=[{elements:[e]}])})}var cW=["x","y","radius","angle","single"],rEe=["cartesian2d","polar","singleAxis"];function nEe(r){var t=r.get("coordinateSystem");return Lr(rEe,t)>=0}function pA(r){return r+"Axis"}function iEe(r,t){var e=Xt(),n=[],i=Xt();r.eachComponent({mainType:"dataZoom",query:t},function(c){i.get(c.uid)||o(c)});var a;do a=!1,r.eachComponent("dataZoom",s);while(a);function s(c){!i.get(c.uid)&&l(c)&&(o(c),a=!0)}function o(c){i.set(c.uid,!0),n.push(c),u(c)}function l(c){var f=!1;return c.eachTargetAxis(function(h,d){var A=e.get(h);A&&A[d]&&(f=!0)}),f}function u(c){c.eachTargetAxis(function(f,h){(e.get(f)||e.set(f,[]))[h]=!0})}return n}function Kse(r){var t=r.ecModel,e={infoList:[],infoMap:Xt()};return r.eachTargetAxis(function(n,i){var a=t.getComponent(pA(n),i);if(a){var s=a.getCoordSysModel();if(s){var o=s.uid,l=e.infoMap.get(o);l||(l={model:s,axisModels:[]},e.infoList.push(l),e.infoMap.set(o,l)),l.axisModels.push(a)}}}),e}var ok=function(){function r(){this.indexList=[],this.indexMap=[]}return r.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},r}(),Zb=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return t.prototype.init=function(e,n,i){var a=fW(e);this.settledOption=a,this.mergeDefaultAndTheme(e,i),this._doInit(a)},t.prototype.mergeOption=function(e){var n=fW(e);Dr(this.option,e,!0),Dr(this.settledOption,n,!0),this._doInit(n)},t.prototype._doInit=function(e){var n=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var i=this.settledOption;se([["start","startValue"],["end","endValue"]],function(a,s){this._rangePropMode[s]==="value"&&(n[a[0]]=i[a[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),n=this._targetAxisInfoMap=Xt(),i=this._fillSpecifiedTargetAxis(n);i?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var n=!1;return se(cW,function(i){var a=this.getReferringComponents(pA(i),wme);if(a.specified){n=!0;var s=new ok;se(a.models,function(o){s.add(o.componentIndex)}),e.set(i,s)}},this),n},t.prototype._fillAutoTargetAxisByOrient=function(e,n){var i=this.ecModel,a=!0;if(a){var s=n==="vertical"?"y":"x",o=i.findComponents({mainType:s+"Axis"});l(o,s)}if(a){var o=i.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===n}});l(o,"single")}function l(u,c){var f=u[0];if(f){var h=new ok;if(h.add(f.componentIndex),e.set(c,h),a=!1,c==="x"||c==="y"){var d=f.getReferringComponents("grid",Ni).models[0];d&&se(u,function(A){f.componentIndex!==A.componentIndex&&d===A.getReferringComponents("grid",Ni).models[0]&&h.add(A.componentIndex)})}}}a&&se(cW,function(u){if(a){var c=i.findComponents({mainType:pA(u),filter:function(h){return h.get("type",!0)==="category"}});if(c[0]){var f=new ok;f.add(c[0].componentIndex),e.set(u,f),a=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(n){!e&&(e=n)},this),e==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var n=this._rangePropMode,i=this.get("rangeMode");se([["start","startValue"],["end","endValue"]],function(a,s){var o=e[a[0]]!=null,l=e[a[1]]!=null;o&&!l?n[s]="percent":!o&&l?n[s]="value":i?n[s]=i[s]:o&&(n[s]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(n,i){e==null&&(e=this.ecModel.getComponent(pA(n),i))},this),e},t.prototype.eachTargetAxis=function(e,n){this._targetAxisInfoMap.each(function(i,a){se(i.indexList,function(s){e.call(n,a,s)})})},t.prototype.getAxisProxy=function(e,n){var i=this.getAxisModel(e,n);if(i)return i.__dzAxisProxy},t.prototype.getAxisModel=function(e,n){var i=this._targetAxisInfoMap.get(e);if(i&&i.indexMap[n])return this.ecModel.getComponent(pA(e),n)},t.prototype.setRawRange=function(e){var n=this.option,i=this.settledOption;se([["start","startValue"],["end","endValue"]],function(a){(e[a[0]]!=null||e[a[1]]!=null)&&(n[a[0]]=i[a[0]]=e[a[0]],n[a[1]]=i[a[1]]=e[a[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var n=this.option;se(["start","startValue","end","endValue"],function(i){n[i]=e[i]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,n){if(e==null&&n==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(e,n).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var n,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var s=i[a],o=this._targetAxisInfoMap.get(s),l=0;l<o.indexList.length;l++){var u=this.getAxisProxy(s,o.indexList[l]);if(u.hostedBy(this))return u;n||(n=u)}return n},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}($r);function fW(r){var t={};return se(["start","end","startValue","endValue","throttle"],function(e){r.hasOwnProperty(e)&&(t[e]=r[e])}),t}var aEe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t}(Zb),zP=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){this.dataZoomModel=e,this.ecModel=n,this.api=i},t.type="dataZoom",t}(Hn),sEe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t}(zP),tv=se,hW=Ll,oEe=function(){function r(t,e,n,i){this._dimName=t,this._axisIndex=e,this.ecModel=i,this._dataZoomModel=n}return r.prototype.hostedBy=function(t){return this._dataZoomModel===t},r.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},r.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},r.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(nEe(e)){var n=pA(this._dimName),i=e.getReferringComponents(n,Ni).models[0];i&&this._axisIndex===i.componentIndex&&t.push(e)}},this),t},r.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},r.prototype.getMinMaxSpan=function(){return nr(this._minMaxSpan)},r.prototype.calculateDataWindow=function(t){var e=this._dataExtent,n=this.getAxisModel(),i=n.axis.scale,a=this._dataZoomModel.getRangePropMode(),s=[0,100],o=[],l=[],u;tv(["start","end"],function(h,d){var A=t[h],p=t[h+"Value"];a[d]==="percent"?(A==null&&(A=s[d]),p=i.parse(gn(A,s,e))):(u=!0,p=p==null?e[d]:i.parse(p),A=gn(p,e,s)),l[d]=p==null||isNaN(p)?e[d]:p,o[d]=A==null||isNaN(A)?s[d]:A}),hW(l),hW(o);var c=this._minMaxSpan;u?f(l,o,e,s,!1):f(o,l,s,e,!0);function f(h,d,A,p,g){var m=g?"Span":"ValueSpan";ZA(0,h,A,"all",c["min"+m],c["max"+m]);for(var v=0;v<2;v++)d[v]=gn(h[v],A,p,!0),g&&(d[v]=i.parse(d[v]))}return{valueWindow:l,percentWindow:o}},r.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=lEe(this,this._dimName,e),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},r.prototype.filterData=function(t,e){if(t!==this._dataZoomModel)return;var n=this._dimName,i=this.getTargetSeriesModels(),a=t.get("filterMode"),s=this._valueWindow;if(a==="none")return;tv(i,function(l){var u=l.getData(),c=u.mapDimensionsAll(n);if(c.length){if(a==="weakFilter"){var f=u.getStore(),h=wt(c,function(d){return u.getDimensionIndex(d)},u);u.filterSelf(function(d){for(var A,p,g,m=0;m<c.length;m++){var v=f.get(h[m],d),y=!isNaN(v),b=v<s[0],_=v>s[1];if(y&&!b&&!_)return!0;y&&(g=!0),b&&(A=!0),_&&(p=!0)}return g&&A&&p})}else tv(c,function(d){if(a==="empty")l.setData(u=u.map(d,function(p){return o(p)?p:NaN}));else{var A={};A[d]=s,u.selectRange(A)}});tv(c,function(d){u.setApproximateExtent(s,d)})}});function o(l){return l>=s[0]&&l<=s[1]}},r.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;tv(["min","max"],function(i){var a=e.get(i+"Span"),s=e.get(i+"ValueSpan");s!=null&&(s=this.getAxisModel().axis.scale.parse(s)),s!=null?a=gn(n[0]+s,n,[0,100],!0):a!=null&&(s=gn(a,[0,100],n,!0)-n[0]),t[i+"Span"]=a,t[i+"ValueSpan"]=s},this)},r.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,n=this._valueWindow;if(e){var i=FD(n,[0,500]);i=Math.min(i,20);var a=t.axis.scale.rawExtentInfo;e[0]!==0&&a.setDeterminedMinMax("min",+n[0].toFixed(i)),e[1]!==100&&a.setDeterminedMinMax("max",+n[1].toFixed(i)),a.freeze()}},r}();function lEe(r,t,e){var n=[1/0,-1/0];tv(e,function(s){Bbe(n,s.getData(),t)});var i=r.getAxisModel(),a=$ne(i.axis.scale,i,n).calculate();return[a.min,a.max]}var uEe={getTargetSeries:function(r){function t(i){r.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(s,o){var l=r.getComponent(pA(s),o);i(s,o,l,a)})})}t(function(i,a,s,o){s.__dzAxisProxy=null});var e=[];t(function(i,a,s,o){s.__dzAxisProxy||(s.__dzAxisProxy=new oEe(i,a,o,r),e.push(s.__dzAxisProxy))});var n=Xt();return se(e,function(i){se(i.getTargetSeriesModels(),function(a){n.set(a.uid,a)})}),n},overallReset:function(r,t){r.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(n,i){e.getAxisProxy(n,i).reset(e)}),e.eachTargetAxis(function(n,i){e.getAxisProxy(n,i).filterData(e,t)})}),r.eachComponent("dataZoom",function(e){var n=e.findRepresentativeAxisProxy();if(n){var i=n.getDataPercentWindow(),a=n.getDataValueWindow();e.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}};function cEe(r){r.registerAction("dataZoom",function(t,e){var n=iEe(e,t);se(n,function(i){i.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var dW=!1;function VP(r){dW||(dW=!0,r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,uEe),cEe(r),r.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function fEe(r){r.registerComponentModel(aEe),r.registerComponentView(sEe),VP(r)}var gu=function(){function r(){}return r}(),qse={};function rv(r,t){qse[r]=t}function Xse(r){return qse[r]}var hEe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){r.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;se(this.option.feature,function(n,i){var a=Xse(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(e)),Dr(n,a.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:Je.color.border,borderRadius:0,borderWidth:0,padding:Je.size.m,itemSize:15,itemGap:Je.size.s,showTitle:!0,iconStyle:{borderColor:Je.color.accent50,color:"none"},emphasis:{iconStyle:{borderColor:Je.color.accent50}},tooltip:{show:!1,position:"bottom"}},t}($r);function Yse(r,t){var e=sy(t.get("padding")),n=t.getItemStyle(["color","opacity"]);n.fill=t.get("backgroundColor");var i=new zr({shape:{x:r.x-e[3],y:r.y-e[0],width:r.width+e[1]+e[3],height:r.height+e[0]+e[2],r:t.get("borderRadius")},style:n,silent:!0,z2:-1});return i}var dEe=function(r){Ge(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(e,n,i,a){var s=this.group;if(s.removeAll(),!e.get("show"))return;var o=+e.get("itemSize"),l=e.get("orient")==="vertical",u=e.get("feature")||{},c=this._features||(this._features={}),f=[];se(u,function(v,y){f.push(y)}),new Gh(this._featureNames||[],f).add(h).update(h).remove(Nr(h,null)).execute(),this._featureNames=f;function h(v,y){var b=f[v],_=f[y],T=u[b],I=new qr(T,e,e.ecModel),N;if(a&&a.newTitle!=null&&a.featureName===b&&(T.title=a.newTitle),b&&!_){if(AEe(b))N={onclick:I.option.onclick,featureName:b};else{var F=Xse(b);if(!F)return;N=new F}c[b]=N}else if(N=c[_],!N)return;N.uid=ay("toolbox-feature"),N.model=I,N.ecModel=n,N.api=i;var P=N instanceof gu;if(!b&&_){P&&N.dispose&&N.dispose(n,i);return}if(!I.get("show")||P&&N.unusable){P&&N.remove&&N.remove(n,i);return}d(I,N,b),I.setIconStatus=function(D,R){var E=this.option,L=this.iconPaths;E.iconStatus=E.iconStatus||{},E.iconStatus[D]=R,L[D]&&(R==="emphasis"?zh:Vh)(L[D])},N instanceof gu&&N.render&&N.render(I,n,i,a)}function d(v,y,b){var _=v.getModel("iconStyle"),T=v.getModel(["emphasis","iconStyle"]),I=y instanceof gu&&y.getIcons?y.getIcons():v.get("icon"),N=v.get("title")||{},F,P;Ht(I)?(F={},F[b]=I):F=I,Ht(N)?(P={},P[b]=N):P=N;var D=v.iconPaths={};se(F,function(R,E){var L=ny(R,{},{x:-o/2,y:-o/2,width:o,height:o});L.setStyle(_.getItemStyle());var k=L.ensureState("emphasis");k.style=T.getItemStyle();var w=new nn({style:{text:P[E],align:T.get("textAlign"),borderRadius:T.get("textBorderRadius"),padding:T.get("textPadding"),fill:null,font:e9({fontStyle:T.get("textFontStyle"),fontFamily:T.get("textFontFamily"),fontSize:T.get("textFontSize"),fontWeight:T.get("textFontWeight")},n)},ignore:!0});L.setTextContent(w),nd({el:L,componentModel:e,itemName:E,formatterParamsExtra:{title:P[E]}}),L.__title=P[E],L.on("mouseover",function(){var C=T.getItemStyle(),S=l?e.get("right")==null&&e.get("left")!=="right"?"right":"left":e.get("bottom")==null&&e.get("top")!=="bottom"?"bottom":"top";w.setStyle({fill:T.get("textFill")||C.fill||C.stroke||Je.color.neutral99,backgroundColor:T.get("textBackgroundColor")}),L.setTextConfig({position:T.get("textPosition")||S}),w.ignore=!e.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){v.get(["iconStatus",E])!=="emphasis"&&i.leaveEmphasis(this),w.hide()}),(v.get(["iconStatus",E])==="emphasis"?zh:Vh)(L),s.add(L),L.on("click",Qt(y.onclick,y,n,i,E)),D[E]=L})}var A=La(e,i).refContainer,p=e.getBoxLayoutParams(),g=e.get("padding"),m=li(p,A,g);ig(e.get("orient"),s,e.get("itemGap"),m.width,m.height),l8(s,p,A,g),s.add(Yse(s.getBoundingRect(),e)),l||s.eachChild(function(v){var y=v.__title,b=v.ensureState("emphasis"),_=b.textConfig||(b.textConfig={}),T=v.getTextContent(),I=T&&T.ensureState("emphasis");if(I&&!rr(I)&&y){var N=I.style||(I.style={}),F=KC(y,nn.makeFont(N)),P=v.x+s.x,D=v.y+s.y+o,R=!1;D+F.height>i.getHeight()&&(_.position="top",R=!0);var E=R?-5-F.height:o+10;P+F.width/2>i.getWidth()?(_.position=["100%",E],N.align="right"):P-F.width/2<0&&(_.position=[0,E],N.align="left")}})},t.prototype.updateView=function(e,n,i,a){se(this._features,function(s){s instanceof gu&&s.updateView&&s.updateView(s.model,n,i,a)})},t.prototype.remove=function(e,n){se(this._features,function(i){i instanceof gu&&i.remove&&i.remove(e,n)}),this.group.removeAll()},t.prototype.dispose=function(e,n){se(this._features,function(i){i instanceof gu&&i.dispose&&i.dispose(e,n)})},t.type="toolbox",t}(Hn);function AEe(r){return r.indexOf("my")===0}var pEe=function(r){Ge(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(e,n){var i=this.model,a=i.get("name")||e.get("title.0.text")||"echarts",s=n.getZr().painter.getType()==="svg",o=s?"svg":i.get("type",!0)||"png",l=n.getConnectedDataURL({type:o,backgroundColor:i.get("backgroundColor",!0)||e.get("backgroundColor")||Je.color.neutral00,connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),u=Zr.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var c=document.createElement("a");c.download=a+"."+o,c.target="_blank",c.href=l;var f=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(f)}else if(window.navigator.msSaveOrOpenBlob||s){var h=l.split(","),d=h[0].indexOf("base64")>-1,A=s?decodeURIComponent(h[1]):h[1];d&&(A=window.atob(A));var p=a+"."+o;if(window.navigator.msSaveOrOpenBlob){for(var g=A.length,m=new Uint8Array(g);g--;)m[g]=A.charCodeAt(g);var v=new Blob([m]);window.navigator.msSaveOrOpenBlob(v,p)}else{var y=document.createElement("iframe");document.body.appendChild(y);var b=y.contentWindow,_=b.document;_.open("image/svg+xml","replace"),_.write(A),_.close(),b.focus(),_.execCommand("SaveAs",!0,p),document.body.removeChild(y)}}else{var T=i.get("lang"),I='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(T&&T[0]||"")+'" /></body>',N=window.open();N.document.write(I),N.document.title=a}},t.getDefaultOption=function(e){var n={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:Je.color.neutral00,name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return n},t}(gu),AW="__ec_magicType_stack__",gEe=[["line","bar"],["stack"]],mEe=function(r){Ge(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getIcons=function(){var e=this.model,n=e.get("icon"),i={};return se(e.get("type"),function(a){n[a]&&(i[a]=n[a])}),i},t.getDefaultOption=function(e){var n={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return n},t.prototype.onclick=function(e,n,i){var a=this.model,s=a.get(["seriesIndex",i]);if(pW[i]){var o={series:[]},l=function(f){var h=f.subType,d=f.id,A=pW[i](h,d,f,a);A&&(sr(A,f.option),o.series.push(A));var p=f.coordinateSystem;if(p&&p.type==="cartesian2d"&&(i==="line"||i==="bar")){var g=p.getAxesByScale("ordinal")[0];if(g){var m=g.dim,v=m+"Axis",y=f.getReferringComponents(v,Ni).models[0],b=y.componentIndex;o[v]=o[v]||[];for(var _=0;_<=b;_++)o[v][b]=o[v][b]||{};o[v][b].boundaryGap=i==="bar"}}};se(gEe,function(f){Lr(f,i)>=0&&se(f,function(h){a.setIconStatus(h,"normal")})}),a.setIconStatus(i,"emphasis"),e.eachComponent({mainType:"series",query:s==null?null:{seriesIndex:s}},l);var u,c=i;i==="stack"&&(u=Dr({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",i])!=="emphasis"&&(c="tiled")),n.dispatchAction({type:"changeMagicType",currentType:c,newOption:o,newTitle:u,featureName:"magicType"})}},t}(gu),pW={line:function(r,t,e,n){if(r==="bar")return Dr({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(r,t,e,n){if(r==="line")return Dr({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(r,t,e,n){var i=e.get("stack")===AW;if(r==="line"||r==="bar")return n.setIconStatus("stack",i?"normal":"emphasis"),Dr({id:t,stack:i?"":AW},n.get(["option","stack"])||{},!0)}};Bc({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(r,t){t.mergeOption(r.newOption)});var C8=new Array(60).join("-"),U1="	";function vEe(r){var t={},e=[],n=[];return r.eachRawSeries(function(i){var a=i.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var s=a.getBaseAxis();if(s.type==="category"){var o=s.dim+"_"+s.index;t[o]||(t[o]={categoryAxis:s,valueAxis:a.getOtherAxis(s),series:[]},n.push({axisDim:s.dim,axisIndex:s.index})),t[o].series.push(i)}else e.push(i)}else e.push(i)}),{seriesGroupByCategoryAxis:t,other:e,meta:n}}function yEe(r){var t=[];return se(r,function(e,n){var i=e.categoryAxis,a=e.valueAxis,s=a.dim,o=[" "].concat(wt(e.series,function(d){return d.name})),l=[i.model.getCategories()];se(e.series,function(d){var A=d.getRawData();l.push(d.getRawData().mapArray(A.mapDimension(s),function(p){return p}))});for(var u=[o.join(U1)],c=0;c<l[0].length;c++){for(var f=[],h=0;h<l.length;h++)f.push(l[h][c]);u.push(f.join(U1))}t.push(u.join(`
`))}),t.join(`

`+C8+`

`)}function xEe(r){return wt(r,function(t){var e=t.getRawData(),n=[t.name],i=[];return e.each(e.dimensions,function(){for(var a=arguments.length,s=arguments[a-1],o=e.getName(s),l=0;l<a-1;l++)i[l]=arguments[l];n.push((o?o+U1:"")+i.join(U1))}),n.join(`
`)}).join(`

`+C8+`

`)}function bEe(r){var t=vEe(r);return{value:dn([yEe(t.seriesGroupByCategoryAxis),xEe(t.other)],function(e){return!!e.replace(/[\n\t\s]/g,"")}).join(`

`+C8+`

`),meta:t.meta}}function I6(r){return r.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function wEe(r){var t=r.slice(0,r.indexOf(`
`));if(t.indexOf(U1)>=0)return!0}var MI=new RegExp("["+U1+"]+","g");function _Ee(r){for(var t=r.split(/\n+/g),e=I6(t.shift()).split(MI),n=[],i=wt(e,function(l){return{name:l,data:[]}}),a=0;a<t.length;a++){var s=I6(t[a]).split(MI);n.push(s.shift());for(var o=0;o<s.length;o++)i[o]&&(i[o].data[a]=s[o])}return{series:i,categories:n}}function SEe(r){for(var t=r.split(/\n+/g),e=I6(t.shift()),n=[],i=0;i<t.length;i++){var a=I6(t[i]);if(a){var s=a.split(MI),o="",l=void 0,u=!1;isNaN(s[0])?(u=!0,o=s[0],s=s.slice(1),n[i]={name:o,value:[]},l=n[i].value):l=n[i]=[];for(var c=0;c<s.length;c++)l.push(+s[c]);l.length===1&&(u?n[i].value=l[0]:n[i]=l[0])}}return{name:e,data:n}}function CEe(r,t){var e=r.split(new RegExp(`
*`+C8+`
*`,"g")),n={series:[]};return se(e,function(i,a){if(wEe(i)){var s=_Ee(i),o=t[a],l=o.axisDim+"Axis";o&&(n[l]=n[l]||[],n[l][o.axisIndex]={data:s.categories},n.series=n.series.concat(s.series))}else{var s=SEe(i);n.series.push(s)}}),n}var BEe=function(r){Ge(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(e,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var i=n.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var s=document.createElement("div");s.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",s.style.backgroundColor=a.get("backgroundColor")||Je.color.neutral00;var o=document.createElement("h4"),l=a.get("lang")||[];o.innerHTML=l[0]||a.get("title"),o.style.cssText="margin:10px 20px",o.style.color=a.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var f=a.get("optionToContent"),h=a.get("contentToOption"),d=bEe(e);if(rr(f)){var A=f(n.getOption());Ht(A)?u.innerHTML=A:vg(A)&&u.appendChild(A)}else{c.readOnly=a.get("readOnly");var p=c.style;p.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",p.color=a.get("textColor"),p.borderColor=a.get("textareaBorderColor"),p.backgroundColor=a.get("textareaColor"),c.value=d.value,u.appendChild(c)}var g=d.meta,m=document.createElement("div");m.style.cssText="position:absolute;bottom:5px;left:0;right:0";var v="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",y=document.createElement("div"),b=document.createElement("div");v+=";background-color:"+a.get("buttonColor"),v+=";color:"+a.get("buttonTextColor");var _=this;function T(){i.removeChild(s),_._dom=null}z7(y,"click",T),z7(b,"click",function(){if(h==null&&f!=null||h!=null&&f==null){T();return}var I;try{rr(h)?I=h(u,n.getOption()):I=CEe(c.value,g)}catch(N){throw T(),new Error("Data view format error "+N)}I&&n.dispatchAction({type:"changeDataView",newOption:I}),T()}),y.innerHTML=l[1],b.innerHTML=l[2],b.style.cssText=y.style.cssText=v,!a.get("readOnly")&&m.appendChild(b),m.appendChild(y),s.appendChild(o),s.appendChild(u),s.appendChild(m),u.style.height=i.clientHeight-80+"px",i.appendChild(s),this._dom=s},t.prototype.remove=function(e,n){this._dom&&n.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,n){this.remove(e,n)},t.getDefaultOption=function(e){var n={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:Je.color.background,textColor:Je.color.primary,textareaColor:Je.color.background,textareaBorderColor:Je.color.border,buttonColor:Je.color.accent50,buttonTextColor:Je.color.neutral00};return n},t}(gu);function TEe(r,t){return wt(r,function(e,n){var i=t&&t[n];if(or(i)&&!xt(i)){var a=or(e)&&!xt(e);a||(e={value:e});var s=i.name!=null&&e.name==null;return e=sr(e,i),s&&delete e.name,e}else return e})}Bc({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(r,t){var e=[];se(r.newOption.series,function(n){var i=t.getSeriesByName(n.name)[0];if(!i)e.push(pt({type:"scatter"},n));else{var a=i.get("data");e.push({name:n.name,data:TEe(n.data,a)})}}),t.mergeOption(sr({series:e},r.newOption))});var Zse=se,Jse=Kr();function EEe(r,t){var e=GP(r);Zse(t,function(n,i){for(var a=e.length-1;a>=0;a--){var s=e[a];if(s[i])break}if(a<0){var o=r.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(o){var l=o.getPercentRange();e[0][i]={dataZoomId:i,start:l[0],end:l[1]}}}}),e.push(t)}function kEe(r){var t=GP(r),e=t[t.length-1];t.length>1&&t.pop();var n={};return Zse(e,function(i,a){for(var s=t.length-1;s>=0;s--)if(i=t[s][a],i){n[a]=i;break}}),n}function NEe(r){Jse(r).snapshots=null}function FEe(r){return GP(r).length}function GP(r){var t=Jse(r);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var IEe=function(r){Ge(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(e,n){NEe(e),n.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){var n={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])};return n},t}(gu);Bc({type:"restore",event:"restore",update:"prepareAndUpdate"},function(r,t){t.resetOption("recreate")});var MEe=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],WP=function(){function r(t,e,n){var i=this;this._targetInfoList=[];var a=gW(e,t);se(LEe,function(s,o){(!n||!n.include||Lr(n.include,o)>=0)&&s(a,i._targetInfoList)})}return r.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(n,i,a){if((n.coordRanges||(n.coordRanges=[])).push(i),!n.coordRange){n.coordRange=i;var s=lk[n.brushType](0,a,i);n.__rangeOffset={offset:xW[n.brushType](s.values,n.range,[1,1]),xyMinMax:s.xyMinMax}}}),t},r.prototype.matchOutputRanges=function(t,e,n){se(t,function(i){var a=this.findTargetInfo(i,e);a&&a!==!0&&se(a.coordSyses,function(s){var o=lk[i.brushType](1,s,i.range,!0);n(i,o.values,s,e)})},this)},r.prototype.setInputRanges=function(t,e){se(t,function(n){var i=this.findTargetInfo(n,e);if(n.range=n.range||[],i&&i!==!0){n.panelId=i.panelId;var a=lk[n.brushType](0,i.coordSys,n.coordRange),s=n.__rangeOffset;n.range=s?xW[n.brushType](a.values,s.offset,DEe(a.xyMinMax,s.xyMinMax)):a.values}},this)},r.prototype.makePanelOpts=function(t,e){return wt(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e?e(n):null,clipPath:ise(i),isTargetByCursor:sse(i,t,n.coordSysModel),getLinearBrushOtherExtent:ase(i)}})},r.prototype.controlSeries=function(t,e,n){var i=this.findTargetInfo(t,n);return i===!0||i&&Lr(i.coordSyses,e.coordinateSystem)>=0},r.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,i=gW(e,t),a=0;a<n.length;a++){var s=n[a],o=t.panelId;if(o){if(s.panelId===o)return s}else for(var l=0;l<mW.length;l++)if(mW[l](i,s))return s}return!0},r}();function LI(r){return r[0]>r[1]&&r.reverse(),r}function gW(r,t){return zv(r,t,{includeMainTypes:MEe})}var LEe={grid:function(r,t){var e=r.xAxisModels,n=r.yAxisModels,i=r.gridModels,a=Xt(),s={},o={};!e&&!n&&!i||(se(e,function(l){var u=l.axis.grid.model;a.set(u.id,u),s[u.id]=!0}),se(n,function(l){var u=l.axis.grid.model;a.set(u.id,u),o[u.id]=!0}),se(i,function(l){a.set(l.id,l),s[l.id]=!0,o[l.id]=!0}),a.each(function(l){var u=l.coordinateSystem,c=[];se(u.getCartesians(),function(f,h){(Lr(e,f.getAxis("x").model)>=0||Lr(n,f.getAxis("y").model)>=0)&&c.push(f)}),t.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:vW.grid,xAxisDeclared:s[l.id],yAxisDeclared:o[l.id]})}))},geo:function(r,t){se(r.geoModels,function(e){var n=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:n,coordSyses:[n],getPanelRect:vW.geo})})}},mW=[function(r,t){var e=r.xAxisModel,n=r.yAxisModel,i=r.gridModel;return!i&&e&&(i=e.axis.grid.model),!i&&n&&(i=n.axis.grid.model),i&&i===t.gridModel},function(r,t){var e=r.geoModel;return e&&e===t.geoModel}],vW={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var r=this.coordSys,t=r.getBoundingRect().clone();return t.applyTransform(DA(r)),t}},lk={lineX:Nr(yW,0),lineY:Nr(yW,1),rect:function(r,t,e,n){var i=r?t.pointToData([e[0][0],e[1][0]],n):t.dataToPoint([e[0][0],e[1][0]],n),a=r?t.pointToData([e[0][1],e[1][1]],n):t.dataToPoint([e[0][1],e[1][1]],n),s=[LI([i[0],a[0]]),LI([i[1],a[1]])];return{values:s,xyMinMax:s}},polygon:function(r,t,e,n){var i=[[1/0,-1/0],[1/0,-1/0]],a=wt(e,function(s){var o=r?t.pointToData(s,n):t.dataToPoint(s,n);return i[0][0]=Math.min(i[0][0],o[0]),i[1][0]=Math.min(i[1][0],o[1]),i[0][1]=Math.max(i[0][1],o[0]),i[1][1]=Math.max(i[1][1],o[1]),o});return{values:a,xyMinMax:i}}};function yW(r,t,e,n){var i=e.getAxis(["x","y"][r]),a=LI(wt([0,1],function(o){return t?i.coordToData(i.toLocalCoord(n[o]),!0):i.toGlobalCoord(i.dataToCoord(n[o]))})),s=[];return s[r]=a,s[1-r]=[NaN,NaN],{values:a,xyMinMax:s}}var xW={lineX:Nr(bW,0),lineY:Nr(bW,1),rect:function(r,t,e){return[[r[0][0]-e[0]*t[0][0],r[0][1]-e[0]*t[0][1]],[r[1][0]-e[1]*t[1][0],r[1][1]-e[1]*t[1][1]]]},polygon:function(r,t,e){return wt(r,function(n,i){return[n[0]-e[0]*t[i][0],n[1]-e[1]*t[i][1]]})}};function bW(r,t,e,n){return[t[0]-n[r]*e[0],t[1]-n[r]*e[1]]}function DEe(r,t){var e=wW(r),n=wW(t),i=[e[0]/n[0],e[1]/n[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function wW(r){return r?[r[0][1]-r[0][0],r[1][1]-r[1][0]]:[NaN,NaN]}var DI=se,PEe=mme("toolbox-dataZoom_"),REe=function(r){Ge(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(e,n,i,a){this._brushController||(this._brushController=new mP(i.getZr()),this._brushController.on("brush",Qt(this._onBrush,this)).mount()),UEe(e,n,this,a,i),jEe(e,n)},t.prototype.onclick=function(e,n,i){OEe[i].call(this)},t.prototype.remove=function(e,n){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,n){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var n=e.areas;if(!e.isEnd||!n.length)return;var i={},a=this.ecModel;this._brushController.updateCovers([]);var s=new WP($P(this.model),a,{include:["grid"]});s.matchOutputRanges(n,a,function(u,c,f){if(f.type==="cartesian2d"){var h=u.brushType;h==="rect"?(o("x",f,c[0]),o("y",f,c[1])):o({lineX:"x",lineY:"y"}[h],f,c)}}),EEe(a,i),this._dispatchZoomAction(i);function o(u,c,f){var h=c.getAxis(u),d=h.model,A=l(u,d,a),p=A.findRepresentativeAxisProxy(d).getMinMaxSpan();(p.minValueSpan!=null||p.maxValueSpan!=null)&&(f=ZA(0,f.slice(),h.scale.getExtent(),0,p.minValueSpan,p.maxValueSpan)),A&&(i[A.id]={dataZoomId:A.id,startValue:f[0],endValue:f[1]})}function l(u,c,f){var h;return f.eachComponent({mainType:"dataZoom",subType:"select"},function(d){var A=d.getAxisModel(u,c.componentIndex);A&&(h=d)}),h}},t.prototype._dispatchZoomAction=function(e){var n=[];DI(e,function(i,a){n.push(nr(i))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},t.getDefaultOption=function(e){var n={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:Je.color.backgroundTint}};return n},t}(gu),OEe={zoom:function(){var r=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:r})},back:function(){this._dispatchZoomAction(kEe(this.ecModel))}};function $P(r){var t={xAxisIndex:r.get("xAxisIndex",!0),yAxisIndex:r.get("yAxisIndex",!0),xAxisId:r.get("xAxisId",!0),yAxisId:r.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function jEe(r,t){r.setIconStatus("back",FEe(t)>1?"emphasis":"normal")}function UEe(r,t,e,n,i){var a=e._isZoomActive;n&&n.type==="takeGlobalCursor"&&(a=n.key==="dataZoomSelect"?n.dataZoomSelectActive:!1),e._isZoomActive=a,r.setIconStatus("zoom",a?"emphasis":"normal");var s=new WP($P(r),t,{include:["grid"]}),o=s.makePanelOpts(i,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});e._brushController.setPanels(o).enableBrush(a&&o.length?{brushType:"auto",brushStyle:r.getModel("brushStyle").getItemStyle()}:!1)}Z1e("dataZoom",function(r){var t=r.getComponent("toolbox",0),e=["feature","dataZoom"];if(!t||t.get(e)==null)return;var n=t.getModel(e),i=[],a=$P(n),s=zv(r,a);DI(s.xAxisModels,function(l){return o(l,"xAxis","xAxisIndex")}),DI(s.yAxisModels,function(l){return o(l,"yAxis","yAxisIndex")});function o(l,u,c){var f=l.componentIndex,h={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:PEe+u+f};h[c]=f,i.push(h)}return i});function HEe(r){r.registerComponentModel(hEe),r.registerComponentView(dEe),rv("saveAsImage",pEe),rv("magicType",mEe),rv("dataView",BEe),rv("dataZoom",REe),rv("restore",IEe),Or(fEe)}var QEe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,displayTransition:!0,enterable:!1,backgroundColor:Je.color.neutral00,shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:Je.color.border,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:Je.color.borderShade,width:1,type:"dashed",textStyle:{}}},textStyle:{color:Je.color.tertiary,fontSize:14}},t}($r);function eoe(r){var t=r.get("confine");return t!=null?!!t:r.get("renderMode")==="richText"}function toe(r){if(Zr.domSupported){for(var t=document.documentElement.style,e=0,n=r.length;e<n;e++)if(r[e]in t)return r[e]}}var roe=toe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),zEe=toe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function noe(r,t){if(!r)return t;t=d9(t,!0);var e=r.indexOf(t);return r=e===-1?t:"-"+r.slice(0,e)+"-"+t,r.toLowerCase()}function VEe(r,t){var e=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return e?e[t]:null}var GEe=noe(zEe,"transition"),KP=noe(roe,"transform"),WEe="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Zr.transform3dSupported?"will-change:transform;":"");function $Ee(r){return r=r==="left"?"right":r==="right"?"left":r==="top"?"bottom":"top",r}function KEe(r,t,e){if(!Ht(e)||e==="inside")return"";var n=r.get("backgroundColor"),i=r.get("borderWidth");t=Cg(t);var a=$Ee(e),s=Math.max(Math.round(i)*1.5,6),o="",l=KP+":",u;Lr(["left","right"],a)>-1?(o+="top:50%",l+="translateY(-50%) rotate("+(u=a==="left"?-225:-45)+"deg)"):(o+="left:50%",l+="translateX(-50%) rotate("+(u=a==="top"?225:45)+"deg)");var c=u*Math.PI/180,f=s+i,h=f*Math.abs(Math.cos(c))+f*Math.abs(Math.sin(c)),d=Math.round(((h-Math.SQRT2*i)/2+Math.SQRT2*i-(h-f)/2)*100)/100;o+=";"+a+":-"+d+"px";var A=t+" solid "+i+"px;",p=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",o+";"+l+";","border-bottom:"+A,"border-right:"+A,"background-color:"+n+";"];return'<div style="'+p.join("")+'"></div>'}function qEe(r,t,e){var n="cubic-bezier(0.23,1,0.32,1)",i="",a="";return e&&(i=" "+r/2+"s "+n,a="opacity"+i+",visibility"+i),t||(i=" "+r+"s "+n,a+=(a.length?",":"")+(Zr.transformSupported?""+KP+i:",left"+i+",top"+i)),GEe+":"+a}function _W(r,t,e){var n=r.toFixed(0)+"px",i=t.toFixed(0)+"px";if(!Zr.transformSupported)return e?"top:"+i+";left:"+n+";":[["top",i],["left",n]];var a=Zr.transform3dSupported,s="translate"+(a?"3d":"")+"("+n+","+i+(a?",0":"")+")";return e?"top:0;left:0;"+KP+":"+s+";":[["top",0],["left",0],[roe,s]]}function XEe(r){var t=[],e=r.get("fontSize"),n=r.getTextColor();n&&t.push("color:"+n),t.push("font:"+r.getFont());var i=Zt(r.get("lineHeight"),Math.round(e*3/2));e&&t.push("line-height:"+i+"px");var a=r.get("textShadowColor"),s=r.get("textShadowBlur")||0,o=r.get("textShadowOffsetX")||0,l=r.get("textShadowOffsetY")||0;return a&&s&&t.push("text-shadow:"+o+"px "+l+"px "+s+"px "+a),se(["decoration","align"],function(u){var c=r.get(u);c&&t.push("text-"+u+":"+c)}),t.join(";")}function YEe(r,t,e,n){var i=[],a=r.get("transitionDuration"),s=r.get("backgroundColor"),o=r.get("shadowBlur"),l=r.get("shadowColor"),u=r.get("shadowOffsetX"),c=r.get("shadowOffsetY"),f=r.getModel("textStyle"),h=Wre(r,"html"),d=u+"px "+c+"px "+o+"px "+l;return i.push("box-shadow:"+d),t&&a>0&&i.push(qEe(a,e,n)),s&&i.push("background-color:"+s),se(["width","color","radius"],function(A){var p="border-"+A,g=d9(p),m=r.get(g);m!=null&&i.push(p+":"+m+(A==="color"?"":"px"))}),i.push(XEe(f)),h!=null&&i.push("padding:"+sy(h).join("px ")+"px"),i.join(";")+";"}function SW(r,t,e,n,i){var a=t&&t.painter;if(e){var s=a&&a.getViewportRoot();s&&Ppe(r,s,e,n,i)}else{r[0]=n,r[1]=i;var o=a&&a.getViewportRootOffset();o&&(r[0]+=o.offsetLeft,r[1]+=o.offsetTop)}r[2]=r[0]/t.getWidth(),r[3]=r[1]/t.getHeight()}var ZEe=function(){function r(t,e){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Zr.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var i=this._zr=t.getZr(),a=e.appendTo,s=a&&(Ht(a)?document.querySelector(a):vg(a)?a:rr(a)&&a(t.getDom()));SW(this._styleCoord,i,s,t.getWidth()/2,t.getHeight()/2),(s||t.getDom()).appendChild(n),this._api=t,this._container=s;var o=this;n.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},n.onmousemove=function(l){if(l=l||window.event,!o._enterable){var u=i.handler,c=i.painter.getViewportRoot();au(c,l,!0),u.dispatch("mousemove",l)}},n.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}return r.prototype.update=function(t){if(!this._container){var e=this._api.getDom(),n=VEe(e,"position"),i=e.style;i.position!=="absolute"&&n!=="absolute"&&(i.position="relative")}var a=t.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this._enableDisplayTransition=t.get("displayTransition")&&t.get("transitionDuration")>0,this.el.className=t.get("className")||""},r.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,a=this._styleCoord;n.innerHTML?i.cssText=WEe+YEe(t,!this._firstShow,this._longHide,this._enableDisplayTransition)+_W(a[0],a[1],!0)+("border-color:"+Cg(e)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(t,e,n,i,a){var s=this.el;if(t==null){s.innerHTML="";return}var o="";if(Ht(a)&&n.get("trigger")==="item"&&!eoe(n)&&(o=KEe(n,i,a)),Ht(t))s.innerHTML=t+o;else if(t){s.innerHTML="",xt(t)||(t=[t]);for(var l=0;l<t.length;l++)vg(t[l])&&t[l].parentNode!==s&&s.appendChild(t[l]);if(o&&s.childNodes.length){var u=document.createElement("div");u.innerHTML=o,s.appendChild(u)}}},r.prototype.setEnterable=function(t){this._enterable=t},r.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},r.prototype.moveTo=function(t,e){if(this.el){var n=this._styleCoord;if(SW(n,this._zr,this._container,t,e),n[0]!=null&&n[1]!=null){var i=this.el.style,a=_W(n[0],n[1]);se(a,function(s){i[s[0]]=s[1]})}}},r.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},r.prototype.hide=function(){var t=this,e=this.el.style;this._enableDisplayTransition?(e.visibility="hidden",e.opacity="0"):e.display="none",Zr.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},r.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Qt(this.hide,this),t)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this._zr;Rpe(t&&t.painter&&t.painter.getViewportRoot(),this._container);var e=this.el;if(e){e.onmouseenter=e.onmousemove=e.onmouseleave=null;var n=e.parentNode;n&&n.removeChild(e)}this.el=this._container=null},r}(),JEe=function(){function r(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),BW(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return r.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(t,e,n,i,a){var s=this;or(t)&&mn(""),this.el&&this._zr.remove(this.el);var o=n.getModel("textStyle");this.el=new nn({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:o.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:Wre(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),se(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){s.el.style[u]=n.get(u)}),se(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){s.el.style[u]=o.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},r.prototype.setEnterable=function(t){this._enterable=t},r.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),n=CW(t.style);return[e.width+n.left+n.right,e.height+n.top+n.bottom]},r.prototype.moveTo=function(t,e){var n=this.el;if(n){var i=this._styleCoord;BW(i,this._zr,t,e),t=i[0],e=i[1];var a=n.style,s=Rd(a.borderWidth||0),o=CW(a);n.x=t+s+o.left,n.y=e+s+o.top,n.markRedraw()}},r.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Qt(this.hide,this),t)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this._zr.remove(this.el)},r}();function Rd(r){return Math.max(0,r)}function CW(r){var t=Rd(r.shadowBlur||0),e=Rd(r.shadowOffsetX||0),n=Rd(r.shadowOffsetY||0);return{left:Rd(t-e),right:Rd(t+e),top:Rd(t-n),bottom:Rd(t+n)}}function BW(r,t,e,n){r[0]=e,r[1]=n,r[2]=r[0]/t.getWidth(),r[3]=r[1]/t.getHeight()}var eke=new zr({shape:{x:-1,y:-1,width:2,height:2}}),tke=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){if(!(Zr.node||!n.getDom())){var i=e.getComponent("tooltip"),a=this._renderMode=Sme(i.get("renderMode"));this._tooltipContent=a==="richText"?new JEe(n):new ZEe(n,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},t.prototype.render=function(e,n,i){if(!(Zr.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=e,this._ecModel=n,this._api=i;var a=this._tooltipContent;a.update(e),a.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&e.get("transitionDuration")?uy(this,"_updatePosition",50,"fixRate"):Rb(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel,n=e.get("triggerOn");Ose("itemTooltip",this._api,Qt(function(i,a,s){n!=="none"&&(n.indexOf(i)>=0?this._tryShow(a,s):i==="leave"&&this._hide(s))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,n=this._ecModel,i=this._api,a=e.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&s.manuallyShowTip(e,n,i,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,n,i,a){if(!(a.from===this.uid||Zr.node||!i.getDom())){var s=TW(a,i);this._ticket="";var o=a.dataByCoordSys,l=ake(a,n,i);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:a.position,positionDefault:"bottom"},s)}else if(a.tooltip&&a.x!=null&&a.y!=null){var c=eke;c.x=a.x,c.y=a.y,c.update(),pr(c).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:c},s)}else if(o)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:o,tooltipOption:a.tooltipOption},s);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(e,n,i,a))return;var f=jse(a,n),h=f.point[0],d=f.point[1];h!=null&&d!=null&&this._tryShow({offsetX:h,offsetY:d,target:f.el,position:a.position,positionDefault:"bottom"},s)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},s))}},t.prototype.manuallyHideTip=function(e,n,i,a){var s=this._tooltipContent;this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(TW(a,i))},t.prototype._manuallyAxisShowTip=function(e,n,i,a){var s=a.seriesIndex,o=a.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||o==null||l==null)){var u=n.getSeriesByIndex(s);if(u){var c=u.getData(),f=Bx([c.getItemModel(o),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:o,position:a.position}),!0}}},t.prototype._tryShow=function(e,n){var i=e.target,a=this._tooltipModel;if(a){this._lastX=e.offsetX,this._lastY=e.offsetY;var s=e.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,e);else if(i){var o=pr(i);if(o.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;Lp(i,function(c){if(c.tooltipDisabled)return l=u=null,!0;l||u||(pr(c).dataIndex!=null?l=c:pr(c).tooltipConfig!=null&&(u=c))},!0),l?this._showSeriesItemTooltip(e,l,n):u?this._showComponentItemTooltip(e,u,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},t.prototype._showOrMove=function(e,n){var i=e.get("showDelay");n=Qt(n,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(n,i):n()},t.prototype._showAxisTooltip=function(e,n){var i=this._ecModel,a=this._tooltipModel,s=[n.offsetX,n.offsetY],o=Bx([n.tooltipOption],a),l=this._renderMode,u=[],c=ya("section",{blocks:[],noHeader:!0}),f=[],h=new zT;se(e,function(v){se(v.dataByAxis,function(y){var b=i.getComponent(y.axisDim+"Axis",y.axisIndex),_=y.value;if(!(!b||_==null)){var T=Dse(_,b.axis,i,y.seriesDataIndices,y.valueLabelOpt),I=ya("section",{header:T,noHeader:!Ml(T),sortBlocks:!0,blocks:[]});c.blocks.push(I),se(y.seriesDataIndices,function(N){var F=i.getSeriesByIndex(N.seriesIndex),P=N.dataIndexInside,D=F.getDataParams(P);if(!(D.dataIndex<0)){D.axisDim=y.axisDim,D.axisIndex=y.axisIndex,D.axisType=y.axisType,D.axisId=y.axisId,D.axisValue=u6(b.axis,{value:_}),D.axisValueLabel=T,D.marker=h.makeTooltipMarker("item",Cg(D.color),l);var R=zH(F.formatTooltip(P,!0,null)),E=R.frag;if(E){var L=Bx([F],a).get("valueFormatter");I.blocks.push(L?pt({valueFormatter:L},E):E)}R.text&&f.push(R.text),u.push(D)}})}})}),c.blocks.reverse(),f.reverse();var d=n.position,A=o.get("order"),p=qH(c,h,l,A,i.get("useUTC"),o.get("textStyle"));p&&f.unshift(p);var g=l==="richText"?`

`:"<br/>",m=f.join(g);this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(e,u)?this._updatePosition(o,d,s[0],s[1],this._tooltipContent,u):this._showTooltipContent(o,m,u,Math.random()+"",s[0],s[1],d,null,h)})},t.prototype._showSeriesItemTooltip=function(e,n,i){var a=this._ecModel,s=pr(n),o=s.seriesIndex,l=a.getSeriesByIndex(o),u=s.dataModel||l,c=s.dataIndex,f=s.dataType,h=u.getData(f),d=this._renderMode,A=e.positionDefault,p=Bx([h.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,A?{position:A}:null),g=p.get("trigger");if(!(g!=null&&g!=="item")){var m=u.getDataParams(c,f),v=new zT;m.marker=v.makeTooltipMarker("item",Cg(m.color),d);var y=zH(u.formatTooltip(c,!1,f)),b=p.get("order"),_=p.get("valueFormatter"),T=y.frag,I=T?qH(_?pt({valueFormatter:_},T):T,v,d,b,a.get("useUTC"),p.get("textStyle")):y.text,N="item_"+u.name+"_"+c;this._showOrMove(p,function(){this._showTooltipContent(p,I,m,N,e.offsetX,e.offsetY,e.position,e.target,v)}),i({type:"showTip",dataIndexInside:c,dataIndex:h.getRawIndex(c),seriesIndex:o,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,n,i){var a=this._renderMode==="html",s=pr(n),o=s.tooltipConfig,l=o.option||{},u=l.encodeHTMLContent;if(Ht(l)){var c=l;l={content:c,formatter:c},u=!0}u&&a&&l.content&&(l=nr(l),l.content=so(l.content));var f=[l],h=this._ecModel.getComponent(s.componentMainType,s.componentIndex);h&&f.push(h),f.push({formatter:l.content});var d=e.positionDefault,A=Bx(f,this._tooltipModel,d?{position:d}:null),p=A.get("content"),g=Math.random()+"",m=new zT;this._showOrMove(A,function(){var v=nr(A.get("formatterParams")||{});this._showTooltipContent(A,p,v,g,e.offsetX,e.offsetY,e.position,n,m)}),i({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,n,i,a,s,o,l,u,c){if(this._ticket="",!(!e.get("showContent")||!e.get("show"))){var f=this._tooltipContent;f.setEnterable(e.get("enterable"));var h=e.get("formatter");l=l||e.get("position");var d=n,A=this._getNearestPoint([s,o],i,e.get("trigger"),e.get("borderColor"),e.get("defaultBorderColor",!0)),p=A.color;if(h)if(Ht(h)){var g=e.ecModel.get("useUTC"),m=xt(i)?i[0]:i,v=m&&m.axisType&&m.axisType.indexOf("time")>=0;d=h,v&&(d=Ww(m.axisValue,d,g)),d=A9(d,i,!0)}else if(rr(h)){var y=Qt(function(b,_){b===this._ticket&&(f.setContent(_,c,e,p,l),this._updatePosition(e,l,s,o,f,i,u))},this);this._ticket=a,d=h(i,a,y)}else d=h;f.setContent(d,c,e,p,l),f.show(e,p),this._updatePosition(e,l,s,o,f,i,u)}},t.prototype._getNearestPoint=function(e,n,i,a,s){if(i==="axis"||xt(n))return{color:a||s};if(!xt(n))return{color:a||n.color||n.borderColor}},t.prototype._updatePosition=function(e,n,i,a,s,o,l){var u=this._api.getWidth(),c=this._api.getHeight();n=n||e.get("position");var f=s.getSize(),h=e.get("align"),d=e.get("verticalAlign"),A=l&&l.getBoundingRect().clone();if(l&&A.applyTransform(l.transform),rr(n)&&(n=n([i,a],o,s.el,A,{viewSize:[u,c],contentSize:f.slice()})),xt(n))i=Ut(n[0],u),a=Ut(n[1],c);else if(or(n)){var p=n;p.width=f[0],p.height=f[1];var g=li(p,{width:u,height:c});i=g.x,a=g.y,h=null,d=null}else if(Ht(n)&&l){var m=ike(n,A,f,e.get("borderWidth"));i=m[0],a=m[1]}else{var m=rke(i,a,s,u,c,h?null:20,d?null:20);i=m[0],a=m[1]}if(h&&(i-=EW(h)?f[0]/2:h==="right"?f[0]:0),d&&(a-=EW(d)?f[1]/2:d==="bottom"?f[1]:0),eoe(e)){var m=nke(i,a,s,u,c);i=m[0],a=m[1]}s.moveTo(i,a)},t.prototype._updateContentNotChangedOnAxis=function(e,n){var i=this._lastDataByCoordSys,a=this._cbParamsList,s=!!i&&i.length===e.length;return s&&se(i,function(o,l){var u=o.dataByAxis||[],c=e[l]||{},f=c.dataByAxis||[];s=s&&u.length===f.length,s&&se(u,function(h,d){var A=f[d]||{},p=h.seriesDataIndices||[],g=A.seriesDataIndices||[];s=s&&h.value===A.value&&h.axisType===A.axisType&&h.axisId===A.axisId&&p.length===g.length,s&&se(p,function(m,v){var y=g[v];s=s&&m.seriesIndex===y.seriesIndex&&m.dataIndex===y.dataIndex}),a&&se(h.seriesDataIndices,function(m){var v=m.seriesIndex,y=n[v],b=a[v];y&&b&&b.data!==y.data&&(s=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=n,!!s},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,n){Zr.node||!n.getDom()||(Rb(this,"_updatePosition"),this._tooltipContent.dispose(),TI("itemTooltip",n))},t.type="tooltip",t}(Hn);function Bx(r,t,e){var n=t.ecModel,i;e?(i=new qr(e,n,n),i=new qr(t.option,i,n)):i=t;for(var a=r.length-1;a>=0;a--){var s=r[a];s&&(s instanceof qr&&(s=s.get("tooltip",!0)),Ht(s)&&(s={formatter:s}),s&&(i=new qr(s,i,n)))}return i}function TW(r,t){return r.dispatchAction||Qt(t.dispatchAction,t)}function rke(r,t,e,n,i,a,s){var o=e.getSize(),l=o[0],u=o[1];return a!=null&&(r+l+a+2>n?r-=l+a:r+=a),s!=null&&(t+u+s>i?t-=u+s:t+=s),[r,t]}function nke(r,t,e,n,i){var a=e.getSize(),s=a[0],o=a[1];return r=Math.min(r+s,n)-s,t=Math.min(t+o,i)-o,r=Math.max(r,0),t=Math.max(t,0),[r,t]}function ike(r,t,e,n){var i=e[0],a=e[1],s=Math.ceil(Math.SQRT2*n)+8,o=0,l=0,u=t.width,c=t.height;switch(r){case"inside":o=t.x+u/2-i/2,l=t.y+c/2-a/2;break;case"top":o=t.x+u/2-i/2,l=t.y-a-s;break;case"bottom":o=t.x+u/2-i/2,l=t.y+c+s;break;case"left":o=t.x-i-s,l=t.y+c/2-a/2;break;case"right":o=t.x+u+s,l=t.y+c/2-a/2}return[o,l]}function EW(r){return r==="center"||r==="middle"}function ake(r,t,e){var n=PD(r).queryOptionMap,i=n.keys()[0];if(!(!i||i==="series")){var a=Z1(t,i,n.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),s=a.models[0];if(s){var o=e.getViewOfComponentModel(s),l;if(o.group.traverse(function(u){var c=pr(u).tooltipConfig;if(c&&c.name===r.name)return l=u,!0}),l)return{componentMainType:i,componentIndex:s.componentIndex,el:l}}}}function ske(r){Or(t_),r.registerComponentModel(QEe),r.registerComponentView(tke),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Ri),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Ri)}var oke=["rect","polygon","keep","clear"];function lke(r,t){var e=Un(r?r.brush:[]);if(e.length){var n=[];se(e,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(n=n.concat(u))});var i=r&&r.toolbox;xt(i)&&(i=i[0]),i||(i={feature:{}},r.toolbox=[i]);var a=i.feature||(i.feature={}),s=a.brush||(a.brush={}),o=s.type||(s.type=[]);o.push.apply(o,n),uke(o),t&&!o.length&&o.push.apply(o,oke)}}function uke(r){var t={};se(r,function(e){t[e]=1}),r.length=0,se(t,function(e,n){r.push(n)})}var kW=se;function NW(r){if(r){for(var t in r)if(r.hasOwnProperty(t))return!0}}function PI(r,t,e){var n={};return kW(t,function(a){var s=n[a]=i();kW(r[a],function(o,l){if(Za.isValidType(l)){var u={type:l,visual:o};e&&e(u,a),s[l]=new Za(u),l==="opacity"&&(u=nr(u),u.type="colorAlpha",s.__hidden.__alphaForOpacity=new Za(u))}})}),n;function i(){var a=function(){};a.prototype.__hidden=a.prototype;var s=new a;return s}}function ioe(r,t,e){var n;se(e,function(i){t.hasOwnProperty(i)&&NW(t[i])&&(n=!0)}),n&&se(e,function(i){t.hasOwnProperty(i)&&NW(t[i])?r[i]=nr(t[i]):delete r[i]})}function cke(r,t,e,n,i,a){var s={};se(r,function(f){var h=Za.prepareVisualTypes(t[f]);s[f]=h});var o;function l(f){return S9(e,o,f)}function u(f,h){rne(e,o,f,h)}e.each(c);function c(f,h){o=f;var d=e.getRawDataItem(o);if(!(d&&d.visualMap===!1))for(var A=n.call(i,f),p=t[A],g=s[A],m=0,v=g.length;m<v;m++){var y=g[m];p[y]&&p[y].applyVisual(f,l,u)}}}function fke(r,t,e,n){var i={};return se(r,function(a){var s=Za.prepareVisualTypes(t[a]);i[a]=s}),{progress:function(s,o){var l;n!=null&&(l=o.getDimensionIndex(n));function u(_){return S9(o,f,_)}function c(_,T){rne(o,f,_,T)}for(var f,h=o.getStore();(f=s.next())!=null;){var d=o.getRawDataItem(f);if(!(d&&d.visualMap===!1))for(var A=n!=null?h.get(l,f):f,p=e(A),g=t[p],m=i[p],v=0,y=m.length;v<y;v++){var b=m[v];g[b]&&g[b].applyVisual(A,u,c)}}}}}function hke(r){var t=r.brushType,e={point:function(n){return FW[t].point(n,e,r)},rect:function(n){return FW[t].rect(n,e,r)}};return e}var FW={lineX:IW(0),lineY:IW(1),rect:{point:function(r,t,e){return r&&e.boundingRect.contain(r[0],r[1])},rect:function(r,t,e){return r&&e.boundingRect.intersect(r)}},polygon:{point:function(r,t,e){return r&&e.boundingRect.contain(r[0],r[1])&&vp(e.range,r[0],r[1])},rect:function(r,t,e){var n=e.range;if(!r||n.length<=1)return!1;var i=r.x,a=r.y,s=r.width,o=r.height,l=n[0];if(vp(n,i,a)||vp(n,i+s,a)||vp(n,i,a+o)||vp(n,i+s,a+o)||fr.create(r).contain(l[0],l[1])||Kx(i,a,i+s,a,n)||Kx(i,a,i,a+o,n)||Kx(i+s,a,i+s,a+o,n)||Kx(i,a+o,i+s,a+o,n))return!0}}};function IW(r){var t=["x","y"],e=["width","height"];return{point:function(n,i,a){if(n){var s=a.range,o=n[r];return Tx(o,s)}},rect:function(n,i,a){if(n){var s=a.range,o=[n[t[r]],n[t[r]]+n[e[r]]];return o[1]<o[0]&&o.reverse(),Tx(o[0],s)||Tx(o[1],s)||Tx(s[0],o)||Tx(s[1],o)}}}}function Tx(r,t){return t[0]<=r&&r<=t[1]}var MW=["inBrush","outOfBrush"],uk="__ecBrushSelect",RI="__ecInBrushSelectEvent";function aoe(r){r.eachComponent({mainType:"brush"},function(t){var e=t.brushTargetManager=new WP(t.option,r);e.setInputRanges(t.areas,r)})}function dke(r,t,e){var n=[],i,a;r.eachComponent({mainType:"brush"},function(s){e&&e.type==="takeGlobalCursor"&&s.setBrushOption(e.key==="brush"?e.brushOption:{brushType:!1})}),aoe(r),r.eachComponent({mainType:"brush"},function(s,o){var l={brushId:s.id,brushIndex:o,brushName:s.name,areas:nr(s.areas),selected:[]};n.push(l);var u=s.option,c=u.brushLink,f=[],h=[],d=[],A=!1;o||(i=u.throttleType,a=u.throttleDelay);var p=wt(s.areas,function(_){var T=mke[_.brushType],I=sr({boundingRect:T?T(_):void 0},_);return I.selectors=hke(I),I}),g=PI(s.option,MW,function(_){_.mappingMethod="fixed"});xt(c)&&se(c,function(_){f[_]=1});function m(_){return c==="all"||!!f[_]}function v(_){return!!_.length}r.eachSeries(function(_,T){var I=d[T]=[];_.subType==="parallel"?y(_,T):b(_,T,I)});function y(_,T){var I=_.coordinateSystem;A=A||I.hasAxisBrushed(),m(T)&&I.eachActiveState(_.getData(),function(N,F){N==="active"&&(h[F]=1)})}function b(_,T,I){if(!(!_.brushSelector||gke(s,T))&&(se(p,function(F){s.brushTargetManager.controlSeries(F,_,r)&&I.push(F),A=A||v(I)}),m(T)&&v(I))){var N=_.getData();N.each(function(F){LW(_,I,N,F)&&(h[F]=1)})}}r.eachSeries(function(_,T){var I={seriesId:_.id,seriesIndex:T,seriesName:_.name,dataIndex:[]};l.selected.push(I);var N=d[T],F=_.getData(),P=m(T)?function(D){return h[D]?(I.dataIndex.push(F.getRawIndex(D)),"inBrush"):"outOfBrush"}:function(D){return LW(_,N,F,D)?(I.dataIndex.push(F.getRawIndex(D)),"inBrush"):"outOfBrush"};(m(T)?A:v(N))&&cke(MW,g,F,P)})}),Ake(t,i,a,n,e)}function Ake(r,t,e,n,i){if(i){var a=r.getZr();if(!a[RI]){a[uk]||(a[uk]=pke);var s=uy(a,uk,e,t);s(r,n)}}}function pke(r,t){if(!r.isDisposed()){var e=r.getZr();e[RI]=!0,r.dispatchAction({type:"brushSelect",batch:t}),e[RI]=!1}}function LW(r,t,e,n){for(var i=0,a=t.length;i<a;i++){var s=t[i];if(r.brushSelector(n,e,s.selectors,s))return!0}}function gke(r,t){var e=r.option.seriesIndex;return e!=null&&e!=="all"&&(xt(e)?Lr(e,t)<0:t!==e)}var mke={rect:function(r){return DW(r.range)},polygon:function(r){for(var t,e=r.range,n=0,i=e.length;n<i;n++){t=t||[[1/0,-1/0],[1/0,-1/0]];var a=e[n];a[0]<t[0][0]&&(t[0][0]=a[0]),a[0]>t[0][1]&&(t[0][1]=a[0]),a[1]<t[1][0]&&(t[1][0]=a[1]),a[1]>t[1][1]&&(t[1][1]=a[1])}return t&&DW(t)}};function DW(r){return new fr(r[0][0],r[1][0],r[0][1]-r[0][0],r[1][1]-r[1][0])}var vke=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){this.ecModel=e,this.api=n,this.model,(this._brushController=new mP(n.getZr())).on("brush",Qt(this._onBrush,this)).mount()},t.prototype.render=function(e,n,i,a){this.model=e,this._updateController(e,n,i,a)},t.prototype.updateTransform=function(e,n,i,a){aoe(n),this._updateController(e,n,i,a)},t.prototype.updateVisual=function(e,n,i,a){this.updateTransform(e,n,i,a)},t.prototype.updateView=function(e,n,i,a){this._updateController(e,n,i,a)},t.prototype._updateController=function(e,n,i,a){(!a||a.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(i)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var n=this.model.id,i=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:nr(i),$from:n}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:nr(i),$from:n})},t.type="brush",t}(Hn),yke=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.areas=[],e.brushOption={},e}return t.prototype.optionUpdated=function(e,n){var i=this.option;!n&&ioe(i,e,["inBrush","outOfBrush"]);var a=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:this.option.defaultOutOfBrushColor},a.hasOwnProperty("liftZ")||(a.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=wt(e,function(n){return PW(this.option,n)},this))},t.prototype.setBrushOption=function(e){this.brushOption=PW(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:Je.color.backgroundTint,borderColor:Je.color.borderTint},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4,defaultOutOfBrushColor:Je.color.disabled},t}($r);function PW(r,t){return Dr({brushType:r.brushType,brushMode:r.brushMode,transformable:r.transformable,brushStyle:new qr(r.brushStyle).getItemStyle(),removeOnClick:r.removeOnClick,z:r.z},t,!0)}var xke=["rect","polygon","lineX","lineY","keep","clear"],bke=function(r){Ge(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(e,n,i){var a,s,o;n.eachComponent({mainType:"brush"},function(l){a=l.brushType,s=l.brushOption.brushMode||"single",o=o||!!l.areas.length}),this._brushType=a,this._brushMode=s,se(e.get("type",!0),function(l){e.setIconStatus(l,(l==="keep"?s==="multiple":l==="clear"?o:l===a)?"emphasis":"normal")})},t.prototype.updateView=function(e,n,i){this.render(e,n,i)},t.prototype.getIcons=function(){var e=this.model,n=e.get("icon",!0),i={};return se(e.get("type",!0),function(a){n[a]&&(i[a]=n[a])}),i},t.prototype.onclick=function(e,n,i){var a=this._brushType,s=this._brushMode;i==="clear"?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:i==="keep"?a:a===i?!1:i,brushMode:i==="keep"?s==="multiple"?"single":"multiple":s}})},t.getDefaultOption=function(e){var n={show:!0,type:xke.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])};return n},t}(gu);function wke(r){r.registerComponentView(vke),r.registerComponentModel(yke),r.registerPreprocessor(lke),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,dke),r.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(n){n.setAreas(t.areas)})}),r.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Ri),r.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Ri),rv("brush",bke)}var _ke=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:"center",top:Je.size.m,backgroundColor:Je.color.transparent,borderColor:Je.color.primary,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:Je.color.primary},subtextStyle:{fontSize:12,color:Je.color.quaternary}},t}($r),Ske=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){if(this.group.removeAll(),!!e.get("show")){var a=this.group,s=e.getModel("textStyle"),o=e.getModel("subtextStyle"),l=e.get("textAlign"),u=Zt(e.get("textBaseline"),e.get("textVerticalAlign")),c=new nn({style:jn(s,{text:e.get("text"),fill:s.getTextColor()},{disableBox:!0}),z2:10}),f=c.getBoundingRect(),h=e.get("subtext"),d=new nn({style:jn(o,{text:h,fill:o.getTextColor(),y:f.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),A=e.get("link"),p=e.get("sublink"),g=e.get("triggerEvent",!0);c.silent=!A&&!g,d.silent=!p&&!g,A&&c.on("click",function(){ZS(A,"_"+e.get("target"))}),p&&d.on("click",function(){ZS(p,"_"+e.get("subtarget"))}),pr(c).eventData=pr(d).eventData=g?{componentType:"title",componentIndex:e.componentIndex}:null,a.add(c),h&&a.add(d);var m=a.getBoundingRect(),v=e.getBoxLayoutParams();v.width=m.width,v.height=m.height;var y=La(e,i),b=li(v,y.refContainer,e.get("padding"));l||(l=e.get("left")||e.get("right"),l==="middle"&&(l="center"),l==="right"?b.x+=b.width:l==="center"&&(b.x+=b.width/2)),u||(u=e.get("top")||e.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?b.y+=b.height:u==="middle"&&(b.y+=b.height/2),u=u||"top"),a.x=b.x,a.y=b.y,a.markRedraw();var _={align:l,verticalAlign:u};c.setStyle(_),d.setStyle(_),m=a.getBoundingRect();var T=b.margin,I=e.getItemStyle(["color","opacity"]);I.fill=e.get("backgroundColor");var N=new zr({shape:{x:m.x-T[3],y:m.y-T[0],width:m.width+T[1]+T[3],height:m.height+T[0]+T[2],r:e.get("borderRadius")},style:I,subPixelOptimize:!0,silent:!0});a.add(N)}},t.type="title",t}(Hn);function Cke(r){r.registerComponentModel(_ke),r.registerComponentView(Ske)}var RW=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.layoutMode="box",e}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i),this._initData()},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){e==null&&(e=this.option.currentIndex);var n=this._data.count();this.option.loop?e=(e%n+n)%n:(e>=n&&(e=n-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e=this.option,n=e.data||[],i=e.axisType,a=this._names=[],s;i==="category"?(s=[],se(n,function(u,c){var f=Na(Y1(u),""),h;or(u)?(h=nr(u),h.value=c):h=c,s.push(h),a.push(f)})):s=n;var o={category:"ordinal",time:"time",value:"number"}[i]||"number",l=this._data=new lo([{name:"value",type:o}],this);l.initData(s,a)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:Je.size.m,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:Je.color.secondary},data:[]},t}($r),soe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="timeline.slider",t.defaultOption=d0(RW.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:Je.color.border,borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:Je.color.accent10},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:Je.color.tertiary},itemStyle:{color:Je.color.accent20,borderWidth:0},checkpointStyle:{symbol:"circle",symbolSize:15,color:Je.color.accent50,borderColor:Je.color.accent50,borderWidth:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10.6699C11.5 9.90014 12.3333 9.41887 13 9.80371L20.5 14.1338C21.1667 14.5187 21.1667 15.4813 20.5 15.8662L13 20.1963C12.3333 20.5811 11.5 20.0999 11.5 19.3301V10.6699Z",stopIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10C12.3284 10 13 10.6716 13 11.5V18.5C13 19.3284 12.3284 20 11.5 20C10.6716 20 10 19.3284 10 18.5V11.5C10 10.6716 10.6716 10 11.5 10ZM18.5 10C19.3284 10 20 10.6716 20 11.5V18.5C20 19.3284 19.3284 20 18.5 20C17.6716 20 17 19.3284 17 18.5V11.5C17 10.6716 17.6716 10 18.5 10Z",nextIcon:"path://M0.838834 18.7383C0.253048 18.1525 0.253048 17.2028 0.838834 16.617L7.55635 9.89949L0.838834 3.18198C0.253048 2.59619 0.253048 1.64645 0.838834 1.06066C1.42462 0.474874 2.37437 0.474874 2.96015 1.06066L10.7383 8.83883L10.8412 8.95277C11.2897 9.50267 11.2897 10.2963 10.8412 10.8462L10.7383 10.9602L2.96015 18.7383C2.37437 19.3241 1.42462 19.3241 0.838834 18.7383Z",prevIcon:"path://M10.9602 1.06066C11.5459 1.64645 11.5459 2.59619 10.9602 3.18198L4.24264 9.89949L10.9602 16.617C11.5459 17.2028 11.5459 18.1525 10.9602 18.7383C10.3744 19.3241 9.42462 19.3241 8.83883 18.7383L1.06066 10.9602L0.957771 10.8462C0.509245 10.2963 0.509245 9.50267 0.957771 8.95277L1.06066 8.83883L8.83883 1.06066C9.42462 0.474874 10.3744 0.474874 10.9602 1.06066Z",prevBtnSize:18,nextBtnSize:18,color:Je.color.accent50,borderColor:Je.color.accent50,borderWidth:0},emphasis:{label:{show:!0,color:Je.color.accent60},itemStyle:{color:Je.color.accent60,borderColor:Je.color.accent60},controlStyle:{color:Je.color.accent70,borderColor:Je.color.accent70}},progress:{lineStyle:{color:Je.color.accent30},itemStyle:{color:Je.color.accent40}},data:[]}),t}(RW);Ui(soe,c8.prototype);var Bke=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="timeline",t}(Hn),Tke=function(r){Ge(t,r);function t(e,n,i,a){var s=r.call(this,e,n,i)||this;return s.type=a||"value",s}return t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},t}(Du),ck=Math.PI,OW=Kr(),Eke=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){this.api=n},t.prototype.render=function(e,n,i){if(this.model=e,this.api=i,this.ecModel=n,this.group.removeAll(),e.get("show",!0)){var a=this._layout(e,i),s=this._createGroup("_mainGroup"),o=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(a,e);e.formatTooltip=function(u){var c=l.scale.getLabel({value:u});return ya("nameValue",{noName:!0,value:c})},se(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](a,s,l,e)},this),this._renderAxisLabel(a,o,l,e),this._position(a,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,n){var i=e.get(["label","position"]),a=e.get("orient"),s=Nke(e,n),o;i==null||i==="auto"?o=a==="horizontal"?s.y+s.height/2<n.getHeight()/2?"-":"+":s.x+s.width/2<n.getWidth()/2?"+":"-":Ht(i)?o={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][i]:o=i;var l={horizontal:"center",vertical:o>=0||o==="+"?"left":"right"},u={horizontal:o>=0||o==="+"?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:ck/2},f=a==="vertical"?s.height:s.width,h=e.getModel("controlStyle"),d=h.get("show",!0),A=d?h.get("itemSize"):0,p=d?h.get("itemGap"):0,g=A+p,m=e.get(["label","rotate"])||0;m=m*ck/180;var v,y,b,_=h.get("position",!0),T=d&&h.get("showPlayBtn",!0),I=d&&h.get("showPrevBtn",!0),N=d&&h.get("showNextBtn",!0),F=0,P=f;_==="left"||_==="bottom"?(T&&(v=[0,0],F+=g),I&&(y=[F,0],F+=g),N&&(b=[P-A,0],P-=g)):(T&&(v=[P-A,0],P-=g),I&&(y=[0,0],F+=g),N&&(b=[P-A,0],P-=g));var D=[F,P];return e.get("inverse")&&D.reverse(),{viewRect:s,mainLength:f,orient:a,rotation:c[a],labelRotation:m,labelPosOpt:o,labelAlign:e.get(["label","align"])||l[a],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||u[a],playPosition:v,prevBtnPosition:y,nextBtnPosition:b,axisExtent:D,controlSize:A,controlGap:p}},t.prototype._position=function(e,n){var i=this._mainGroup,a=this._labelGroup,s=e.viewRect;if(e.orient==="vertical"){var o=Ya(),l=s.x,u=s.y+s.height;yc(o,o,[-l,-u]),td(o,o,-ck/2),yc(o,o,[l,u]),s=s.clone(),s.applyTransform(o)}var c=v(s),f=v(i.getBoundingRect()),h=v(a.getBoundingRect()),d=[i.x,i.y],A=[a.x,a.y];A[0]=d[0]=c[0][0];var p=e.labelPosOpt;if(p==null||Ht(p)){var g=p==="+"?0:1;y(d,f,c,1,g),y(A,h,c,1,1-g)}else{var g=p>=0?0:1;y(d,f,c,1,g),A[1]=d[1]+p}i.setPosition(d),a.setPosition(A),i.rotation=a.rotation=e.rotation,m(i),m(a);function m(b){b.originX=c[0][0]-b.x,b.originY=c[1][0]-b.y}function v(b){return[[b.x,b.x+b.width],[b.y,b.y+b.height]]}function y(b,_,T,I,N){b[I]+=T[I][N]-_[I][N]}},t.prototype._createAxis=function(e,n){var i=n.getData(),a=n.get("axisType"),s=kke(n,a);s.getTicks=function(){return i.mapArray(["value"],function(u){return{value:u}})};var o=i.getDataExtent("value");s.setExtent(o[0],o[1]),s.calcNiceTicks();var l=new Tke("value",s,e.axisExtent,a);return l.model=n,l},t.prototype._createGroup=function(e){var n=this[e]=new ir;return this.group.add(n),n},t.prototype._renderAxisLine=function(e,n,i,a){var s=i.getExtent();if(a.get(["lineStyle","show"])){var o=new ra({shape:{x1:s[0],y1:0,x2:s[1],y2:0},style:pt({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});n.add(o);var l=this._progressLine=new ra({shape:{x1:s[0],x2:this._currentPointer?this._currentPointer.x:s[0],y1:0,y2:0},style:sr({lineCap:"round",lineWidth:o.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});n.add(l)}},t.prototype._renderAxisTick=function(e,n,i,a){var s=this,o=a.getData(),l=i.scale.getTicks();this._tickSymbols=[],se(l,function(u){var c=i.dataToCoord(u.value),f=o.getItemModel(u.value),h=f.getModel("itemStyle"),d=f.getModel(["emphasis","itemStyle"]),A=f.getModel(["progress","itemStyle"]),p={x:c,y:0,onclick:Qt(s._changeTimeline,s,u.value)},g=jW(f,h,n,p);g.ensureState("emphasis").style=d.getItemStyle(),g.ensureState("progress").style=A.getItemStyle(),LA(g);var m=pr(g);f.get("tooltip")?(m.dataIndex=u.value,m.dataModel=a):m.dataIndex=m.dataModel=null,s._tickSymbols.push(g)})},t.prototype._renderAxisLabel=function(e,n,i,a){var s=this,o=i.getLabelModel();if(o.get("show")){var l=a.getData(),u=i.getViewLabels();this._tickLabels=[],se(u,function(c){var f=c.tickValue,h=l.getItemModel(f),d=h.getModel("label"),A=h.getModel(["emphasis","label"]),p=h.getModel(["progress","label"]),g=i.dataToCoord(c.tickValue),m=new nn({x:g,y:0,rotation:e.labelRotation-e.rotation,onclick:Qt(s._changeTimeline,s,f),silent:!1,style:jn(d,{text:c.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});m.ensureState("emphasis").style=jn(A),m.ensureState("progress").style=jn(p),n.add(m),LA(m),OW(m).dataIndex=f,s._tickLabels.push(m)})}},t.prototype._renderControl=function(e,n,i,a){var s=e.controlSize,o=e.rotation,l=a.getModel("controlStyle").getItemStyle(),u=a.getModel(["emphasis","controlStyle"]).getItemStyle(),c=a.getPlayState(),f=a.get("inverse",!0);h(e.nextBtnPosition,"next",Qt(this._changeTimeline,this,f?"-":"+")),h(e.prevBtnPosition,"prev",Qt(this._changeTimeline,this,f?"+":"-")),h(e.playPosition,c?"stop":"play",Qt(this._handlePlayClick,this,!c),!0);function h(d,A,p,g){if(d){var m=xc(Zt(a.get(["controlStyle",A+"BtnSize"]),s),s),v=[0,-m/2,m,m],y=Fke(a,A+"Icon",v,{x:d[0],y:d[1],originX:s/2,originY:0,rotation:g?-o:0,rectHover:!0,style:l,onclick:p});y.ensureState("emphasis").style=u,n.add(y),LA(y)}}},t.prototype._renderCurrentPointer=function(e,n,i,a){var s=a.getData(),o=a.getCurrentIndex(),l=s.getItemModel(o).getModel("checkpointStyle"),u=this,c={onCreate:function(f){f.draggable=!0,f.drift=Qt(u._handlePointerDrag,u),f.ondragend=Qt(u._handlePointerDragend,u),UW(f,u._progressLine,o,i,a,!0)},onUpdate:function(f){UW(f,u._progressLine,o,i,a)}};this._currentPointer=jW(l,l,this._mainGroup,{},this._currentPointer,c)},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,n,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,n){var i=this._toAxisCoord(e)[0],a=this._axis,s=Ll(a.getExtent().slice());i>s[1]&&(i=s[1]),i<s[0]&&(i=s[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var o=this._progressLine;o&&(o.shape.x2=i,o.dirty());var l=this._findNearestTick(i),u=this.model;(n||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var n=e.model;e._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){var n=this._mainGroup.getLocalTransform();return pc(e,n,!0)},t.prototype._findNearestTick=function(e){var n=this.model.getData(),i=1/0,a,s=this._axis;return n.each(["value"],function(o,l){var u=s.dataToCoord(o),c=Math.abs(u-e);c<i&&(i=c,a=l)}),a},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var n=this.model.getCurrentIndex();e==="+"?e=n+1:e==="-"&&(e=n-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),n=this._tickSymbols,i=this._tickLabels;if(n)for(var a=0;a<n.length;a++)n&&n[a]&&n[a].toggleState("progress",a<e);if(i)for(var a=0;a<i.length;a++)i&&i[a]&&i[a].toggleState("progress",OW(i[a]).dataIndex<=e)},t.type="timeline.slider",t}(Bke);function kke(r,t){if(t=t||r.get("type"),t)switch(t){case"category":return new M1({ordinalMeta:r.getCategories(),extent:[1/0,-1/0]});case"time":return new H9({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new $h}}function Nke(r,t){return li(r.getBoxLayoutParams(),La(r,t).refContainer,r.get("padding"))}function Fke(r,t,e,n){var i=n.style,a=ny(r.get(["controlStyle",t]),n||{},new fr(e[0],e[1],e[2],e[3]));return i&&a.setStyle(i),a}function jW(r,t,e,n,i,a){var s=t.get("color");if(i)i.setColor(s),e.add(i),a&&a.onUpdate(i);else{var o=r.get("symbol");i=ia(o,-1,-1,2,2,s),i.setStyle("strokeNoScale",!0),e.add(i),a&&a.onCreate(i)}var l=t.getItemStyle(["color"]);i.setStyle(l),n=Dr({rectHover:!0,z2:100},n,!0);var u=cy(r.get("symbolSize"));n.scaleX=u[0]/2,n.scaleY=u[1]/2;var c=zg(r.get("symbolOffset"),u);c&&(n.x=(n.x||0)+c[0],n.y=(n.y||0)+c[1]);var f=r.get("symbolRotate");return n.rotation=(f||0)*Math.PI/180||0,i.attr(n),i.updateTransform(),i}function UW(r,t,e,n,i,a){if(!r.dragging){var s=i.getModel("checkpointStyle"),o=n.dataToCoord(i.getData().get("value",e));if(a||!s.get("animation",!0))r.attr({x:o,y:0}),t&&t.attr({shape:{x2:o}});else{var l={duration:s.get("animationDuration",!0),easing:s.get("animationEasing",!0)};r.stopAnimation(null,!0),r.animateTo({x:o,y:0},l),t&&t.animateTo({shape:{x2:o}},l)}}}function Ike(r){r.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e,n){var i=e.getComponent("timeline");return i&&t.currentIndex!=null&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),e.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),sr({currentIndex:i.option.currentIndex},t)}),r.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var n=e.getComponent("timeline");n&&t.playState!=null&&n.setPlayState(t.playState)})}function Mke(r){var t=r&&r.timeline;xt(t)||(t=t?[t]:[]),se(t,function(e){e&&Lke(e)})}function Lke(r){var t=r.type,e={number:"value",time:"time"};if(e[t]&&(r.axisType=e[t],delete r.type),HW(r),bp(r,"controlPosition")){var n=r.controlStyle||(r.controlStyle={});bp(n,"position")||(n.position=r.controlPosition),n.position==="none"&&!bp(n,"show")&&(n.show=!1,delete n.position),delete r.controlPosition}se(r.data||[],function(i){or(i)&&!xt(i)&&(!bp(i,"value")&&bp(i,"name")&&(i.value=i.name),HW(i))})}function HW(r){var t=r.itemStyle||(r.itemStyle={}),e=t.emphasis||(t.emphasis={}),n=r.label||r.label||{},i=n.normal||(n.normal={}),a={normal:1,emphasis:1};se(n,function(s,o){!a[o]&&!bp(i,o)&&(i[o]=s)}),e.label&&!bp(n,"emphasis")&&(n.emphasis=e.label,delete e.label)}function bp(r,t){return r.hasOwnProperty(t)}function Dke(r){r.registerComponentModel(soe),r.registerComponentView(Eke),r.registerSubTypeDefaulter("timeline",function(){return"slider"}),Ike(r),r.registerPreprocessor(Mke)}function qP(r,t){if(!r)return!1;for(var e=xt(r)?r:[r],n=0;n<e.length;n++)if(e[n]&&e[n][t])return!0;return!1}function p4(r){yg(r,"label",["show"])}var g4=Kr(),Ff=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.createdBySelf=!1,e.preventAutoZ=!0,e}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i),this._mergeOption(e,i,!1,!0)},t.prototype.isAnimationEnabled=function(){if(Zr.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,n){this._mergeOption(e,n,!1,!1)},t.prototype._mergeOption=function(e,n,i,a){var s=this.mainType;i||n.eachSeries(function(o){var l=o.get(this.mainType,!0),u=g4(o)[s];if(!l||!l.data){g4(o)[s]=null;return}u?u._mergeOption(l,n,!0):(a&&p4(l),se(l.data,function(c){c instanceof Array?(p4(c[0]),p4(c[1])):p4(c)}),u=this.createMarkerModelFromSeries(l,this,n),pt(u,{mainType:this.mainType,seriesIndex:o.seriesIndex,name:o.name,createdBySelf:!0}),u.__hostSeries=o),g4(o)[s]=u},this)},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),s=this.getRawValue(e),o=a.getName(e);return ya("section",{header:this.name,blocks:[ya("nameValue",{name:o,value:s,noName:!o,noValue:s==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.prototype.getDataParams=function(e,n){var i=c8.prototype.getDataParams.call(this,e,n),a=this.__hostSeries;return a&&(i.seriesId=a.id,i.seriesName=a.name,i.seriesType=a.subType),i},t.getMarkerModelFromSeries=function(e,n){return g4(e)[n]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}($r);Ui(Ff,c8.prototype);var Pke=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,n,i){return new t(e,n,i)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(Ff);function OI(r){return!(isNaN(parseFloat(r.x))&&isNaN(parseFloat(r.y)))}function Rke(r){return!isNaN(parseFloat(r.x))&&!isNaN(parseFloat(r.y))}function m4(r,t,e,n,i,a,s){var o=[],l=Wh(t,i),u=l?t.getCalculationInfo("stackResultDimension"):i,c=M6(t,u,r),f=t.hostModel,h=f.indicesOfNearest(e,u,c)[0];o[a]=t.get(n,h),o[s]=t.get(u,h);var d=t.get(i,h),A=oc(t.get(i,h));return A=Math.min(A,20),A>=0&&(o[s]=+o[s].toFixed(A)),[o,d]}var v4={min:Nr(m4,"min"),max:Nr(m4,"max"),average:Nr(m4,"average"),median:Nr(m4,"median")};function Jb(r,t){if(t){var e=r.getData(),n=r.coordinateSystem,i=n&&n.dimensions;if(!Rke(t)&&!xt(t.coord)&&xt(i)){var a=ooe(t,e,n,r);if(t=nr(t),t.type&&v4[t.type]&&a.baseAxis&&a.valueAxis){var s=Lr(i,a.baseAxis.dim),o=Lr(i,a.valueAxis.dim),l=v4[t.type](e,a.valueAxis.dim,a.baseDataDim,a.valueDataDim,s,o);t.coord=l[0],t.value=l[1]}else t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}if(t.coord==null||!xt(i)){t.coord=[];var u=r.getBaseAxis();if(u&&t.type&&v4[t.type]){var c=n.getOtherAxis(u);c&&(t.value=M6(e,e.mapDimension(c.dim),t.type))}}else for(var f=t.coord,h=0;h<2;h++)v4[f[h]]&&(f[h]=M6(e,e.mapDimension(i[h]),f[h]));return t}}function ooe(r,t,e,n){var i={};return r.valueIndex!=null||r.valueDim!=null?(i.valueDataDim=r.valueIndex!=null?t.getDimension(r.valueIndex):r.valueDim,i.valueAxis=e.getAxis(Oke(n,i.valueDataDim)),i.baseAxis=e.getOtherAxis(i.valueAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim)):(i.baseAxis=n.getBaseAxis(),i.valueAxis=e.getOtherAxis(i.baseAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim),i.valueDataDim=t.mapDimension(i.valueAxis.dim)),i}function Oke(r,t){var e=r.getData().getDimensionInfo(t);return e&&e.coordDim}function ew(r,t){return r&&r.containData&&t.coord&&!OI(t)?r.containData(t.coord):!0}function jke(r,t,e){return r&&r.containZone&&t.coord&&e.coord&&!OI(t)&&!OI(e)?r.containZone(t.coord,e.coord):!0}function loe(r,t){return r?function(e,n,i,a){var s=a<2?e.coord&&e.coord[a]:e.value;return RA(s,t[a])}:function(e,n,i,a){return RA(e.value,t[a])}}function M6(r,t,e){if(e==="average"){var n=0,i=0;return r.each(t,function(a,s){isNaN(a)||(n+=a,i++)}),n/i}else return e==="median"?r.getMedian(t):r.getDataExtent(t)[e==="max"?1:0]}var fk=Kr(),XP=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this.markerGroupMap=Xt()},t.prototype.render=function(e,n,i){var a=this,s=this.markerGroupMap;s.each(function(o){fk(o).keep=!1}),n.eachSeries(function(o){var l=Ff.getMarkerModelFromSeries(o,a.type);l&&a.renderSeries(o,l,n,i)}),s.each(function(o){!fk(o).keep&&a.group.remove(o.group)}),Uke(n,s,this.type)},t.prototype.markKeep=function(e){fk(e).keep=!0},t.prototype.toggleBlurSeries=function(e,n){var i=this;se(e,function(a){var s=Ff.getMarkerModelFromSeries(a,i.type);if(s){var o=s.getData();o.eachItemGraphicEl(function(l){l&&(n?Ste(l):VD(l))})}})},t.type="marker",t}(Hn);function Uke(r,t,e){r.eachSeries(function(n){var i=Ff.getMarkerModelFromSeries(n,e),a=t.get(n.id);if(i&&a&&a.group){var s=Sg(i),o=s.z,l=s.zlevel;s8(a.group,o,l)}})}function QW(r,t,e){var n=t.coordinateSystem,i=e.getWidth(),a=e.getHeight(),s=n&&n.getArea&&n.getArea();r.each(function(o){var l=r.getItemModel(o),u=l.get("relativeTo")==="coordinate",c=u?s?s.width:0:i,f=u?s?s.height:0:a,h=u&&s?s.x:0,d=u&&s?s.y:0,A,p=Ut(l.get("x"),c)+h,g=Ut(l.get("y"),f)+d;if(!isNaN(p)&&!isNaN(g))A=[p,g];else if(t.getMarkerPosition)A=t.getMarkerPosition(r.getValues(r.dimensions,o));else if(n){var m=r.get(n.dimensions[0],o),v=r.get(n.dimensions[1],o);A=n.dataToPoint([m,v])}isNaN(p)||(A[0]=p),isNaN(g)||(A[1]=g),r.setItemLayout(o,A)})}var Hke=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,n,i){n.eachSeries(function(a){var s=Ff.getMarkerModelFromSeries(a,"markPoint");s&&(QW(s.getData(),a,i),this.markerGroupMap.get(a.id).updateLayout())},this)},t.prototype.renderSeries=function(e,n,i,a){var s=e.coordinateSystem,o=e.id,l=e.getData(),u=this.markerGroupMap,c=u.get(o)||u.set(o,new Yw),f=Qke(s,e,n);n.setData(f),QW(n.getData(),e,a),f.each(function(h){var d=f.getItemModel(h),A=d.getShallow("symbol"),p=d.getShallow("symbolSize"),g=d.getShallow("symbolRotate"),m=d.getShallow("symbolOffset"),v=d.getShallow("symbolKeepAspect");if(rr(A)||rr(p)||rr(g)||rr(m)){var y=n.getRawValue(h),b=n.getDataParams(h);rr(A)&&(A=A(y,b)),rr(p)&&(p=p(y,b)),rr(g)&&(g=g(y,b)),rr(m)&&(m=m(y,b))}var _=d.getModel("itemStyle").getItemStyle(),T=d.get("z2"),I=Kw(l,"color");_.fill||(_.fill=I),f.setItemVisual(h,{z2:Zt(T,0),symbol:A,symbolSize:p,symbolRotate:g,symbolOffset:m,symbolKeepAspect:v,style:_})}),c.updateData(f),this.group.add(c.group),f.eachItemGraphicEl(function(h){h.traverse(function(d){pr(d).dataModel=n})}),this.markKeep(c),c.group.silent=n.get("silent")||e.get("silent")},t.type="markPoint",t}(XP);function Qke(r,t,e){var n;r?n=wt(r&&r.dimensions,function(o){var l=t.getData().getDimensionInfo(t.getData().mapDimension(o))||{};return pt(pt({},l),{name:o,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new lo(n,e),a=wt(e.get("data"),Nr(Jb,t));r&&(a=dn(a,Nr(ew,r)));var s=loe(!!r,n);return i.initData(a,null,s),i}function zke(r){r.registerComponentModel(Pke),r.registerComponentView(Hke),r.registerPreprocessor(function(t){qP(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}var Vke=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,n,i){return new t(e,n,i)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(Ff),y4=Kr(),Gke=function(r,t,e,n){var i=r.getData(),a;if(xt(n))a=n;else{var s=n.type;if(s==="min"||s==="max"||s==="average"||s==="median"||n.xAxis!=null||n.yAxis!=null){var o=void 0,l=void 0;if(n.yAxis!=null||n.xAxis!=null)o=t.getAxis(n.yAxis!=null?"y":"x"),l=hs(n.yAxis,n.xAxis);else{var u=ooe(n,i,t,r);o=u.valueAxis;var c=R9(i,u.valueDataDim);l=M6(i,c,s)}var f=o.dim==="x"?0:1,h=1-f,d=nr(n),A={coord:[]};d.type=null,d.coord=[],d.coord[h]=-1/0,A.coord[h]=1/0;var p=e.get("precision");p>=0&&an(l)&&(l=+l.toFixed(Math.min(p,20))),d.coord[f]=A.coord[f]=l,a=[d,A,{type:s,valueIndex:n.valueIndex,value:l}]}else a=[]}var g=[Jb(r,a[0]),Jb(r,a[1]),pt({},a[2])];return g[2].type=g[2].type||null,Dr(g[2],g[0]),Dr(g[2],g[1]),g};function L6(r){return!isNaN(r)&&!isFinite(r)}function zW(r,t,e,n){var i=1-r,a=n.dimensions[r];return L6(t[i])&&L6(e[i])&&t[r]===e[r]&&n.getAxis(a).containData(t[r])}function Wke(r,t){if(r.type==="cartesian2d"){var e=t[0].coord,n=t[1].coord;if(e&&n&&(zW(1,e,n,r)||zW(0,e,n,r)))return!0}return ew(r,t[0])&&ew(r,t[1])}function hk(r,t,e,n,i){var a=n.coordinateSystem,s=r.getItemModel(t),o,l=Ut(s.get("x"),i.getWidth()),u=Ut(s.get("y"),i.getHeight());if(!isNaN(l)&&!isNaN(u))o=[l,u];else{if(n.getMarkerPosition)o=n.getMarkerPosition(r.getValues(r.dimensions,t));else{var c=a.dimensions,f=r.get(c[0],t),h=r.get(c[1],t);o=a.dataToPoint([f,h])}if(YA(a,"cartesian2d")){var d=a.getAxis("x"),A=a.getAxis("y"),c=a.dimensions;L6(r.get(c[0],t))?o[0]=d.toGlobalCoord(d.getExtent()[e?0:1]):L6(r.get(c[1],t))&&(o[1]=A.toGlobalCoord(A.getExtent()[e?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}r.setItemLayout(t,o)}var $ke=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,n,i){n.eachSeries(function(a){var s=Ff.getMarkerModelFromSeries(a,"markLine");if(s){var o=s.getData(),l=y4(s).from,u=y4(s).to;l.each(function(c){hk(l,c,!0,a,i),hk(u,c,!1,a,i)}),o.each(function(c){o.setItemLayout(c,[l.getItemLayout(c),u.getItemLayout(c)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,n,i,a){var s=e.coordinateSystem,o=e.id,l=e.getData(),u=this.markerGroupMap,c=u.get(o)||u.set(o,new pP);this.group.add(c.group);var f=Kke(s,e,n),h=f.from,d=f.to,A=f.line;y4(n).from=h,y4(n).to=d,n.setData(A);var p=n.get("symbol"),g=n.get("symbolSize"),m=n.get("symbolRotate"),v=n.get("symbolOffset");xt(p)||(p=[p,p]),xt(g)||(g=[g,g]),xt(m)||(m=[m,m]),xt(v)||(v=[v,v]),f.from.each(function(b){y(h,b,!0),y(d,b,!1)}),A.each(function(b){var _=A.getItemModel(b),T=_.getModel("lineStyle").getLineStyle();A.setItemLayout(b,[h.getItemLayout(b),d.getItemLayout(b)]);var I=_.get("z2");T.stroke==null&&(T.stroke=h.getItemVisual(b,"style").fill),A.setItemVisual(b,{z2:Zt(I,0),fromSymbolKeepAspect:h.getItemVisual(b,"symbolKeepAspect"),fromSymbolOffset:h.getItemVisual(b,"symbolOffset"),fromSymbolRotate:h.getItemVisual(b,"symbolRotate"),fromSymbolSize:h.getItemVisual(b,"symbolSize"),fromSymbol:h.getItemVisual(b,"symbol"),toSymbolKeepAspect:d.getItemVisual(b,"symbolKeepAspect"),toSymbolOffset:d.getItemVisual(b,"symbolOffset"),toSymbolRotate:d.getItemVisual(b,"symbolRotate"),toSymbolSize:d.getItemVisual(b,"symbolSize"),toSymbol:d.getItemVisual(b,"symbol"),style:T})}),c.updateData(A),f.line.eachItemGraphicEl(function(b){pr(b).dataModel=n,b.traverse(function(_){pr(_).dataModel=n})});function y(b,_,T){var I=b.getItemModel(_);hk(b,_,T,e,a);var N=I.getModel("itemStyle").getItemStyle();N.fill==null&&(N.fill=Kw(l,"color")),b.setItemVisual(_,{symbolKeepAspect:I.get("symbolKeepAspect"),symbolOffset:Zt(I.get("symbolOffset",!0),v[T?0:1]),symbolRotate:Zt(I.get("symbolRotate",!0),m[T?0:1]),symbolSize:Zt(I.get("symbolSize"),g[T?0:1]),symbol:Zt(I.get("symbol",!0),p[T?0:1]),style:N})}this.markKeep(c),c.group.silent=n.get("silent")||e.get("silent")},t.type="markLine",t}(XP);function Kke(r,t,e){var n;r?n=wt(r&&r.dimensions,function(u){var c=t.getData().getDimensionInfo(t.getData().mapDimension(u))||{};return pt(pt({},c),{name:u,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new lo(n,e),a=new lo(n,e),s=new lo([],e),o=wt(e.get("data"),Nr(Gke,t,r,e));r&&(o=dn(o,Nr(Wke,r)));var l=loe(!!r,n);return i.initData(wt(o,function(u){return u[0]}),null,l),a.initData(wt(o,function(u){return u[1]}),null,l),s.initData(wt(o,function(u){return u[2]})),s.hasItemOption=!0,{from:i,to:a,line:s}}function qke(r){r.registerComponentModel(Vke),r.registerComponentView($ke),r.registerPreprocessor(function(t){qP(t.series,"markLine")&&(t.markLine=t.markLine||{})})}var Xke=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,n,i){return new t(e,n,i)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(Ff),x4=Kr(),Yke=function(r,t,e,n){var i=n[0],a=n[1];if(!(!i||!a)){var s=Jb(r,i),o=Jb(r,a),l=s.coord,u=o.coord;l[0]=hs(l[0],-1/0),l[1]=hs(l[1],-1/0),u[0]=hs(u[0],1/0),u[1]=hs(u[1],1/0);var c=zC([{},s,o]);return c.coord=[s.coord,o.coord],c.x0=s.x,c.y0=s.y,c.x1=o.x,c.y1=o.y,c}};function D6(r){return!isNaN(r)&&!isFinite(r)}function VW(r,t,e,n){var i=1-r;return D6(t[i])&&D6(e[i])}function Zke(r,t){var e=t.coord[0],n=t.coord[1],i={coord:e,x:t.x0,y:t.y0},a={coord:n,x:t.x1,y:t.y1};return YA(r,"cartesian2d")?e&&n&&(VW(1,e,n)||VW(0,e,n))?!0:jke(r,i,a):ew(r,i)||ew(r,a)}function GW(r,t,e,n,i){var a=n.coordinateSystem,s=r.getItemModel(t),o,l=Ut(s.get(e[0]),i.getWidth()),u=Ut(s.get(e[1]),i.getHeight());if(!isNaN(l)&&!isNaN(u))o=[l,u];else{if(n.getMarkerPosition){var c=r.getValues(["x0","y0"],t),f=r.getValues(["x1","y1"],t),h=a.clampData(c),d=a.clampData(f),A=[];e[0]==="x0"?A[0]=h[0]>d[0]?f[0]:c[0]:A[0]=h[0]>d[0]?c[0]:f[0],e[1]==="y0"?A[1]=h[1]>d[1]?f[1]:c[1]:A[1]=h[1]>d[1]?c[1]:f[1],o=n.getMarkerPosition(A,e,!0)}else{var p=r.get(e[0],t),g=r.get(e[1],t),m=[p,g];a.clampData&&a.clampData(m,m),o=a.dataToPoint(m,!0)}if(YA(a,"cartesian2d")){var v=a.getAxis("x"),y=a.getAxis("y"),p=r.get(e[0],t),g=r.get(e[1],t);D6(p)?o[0]=v.toGlobalCoord(v.getExtent()[e[0]==="x0"?0:1]):D6(g)&&(o[1]=y.toGlobalCoord(y.getExtent()[e[1]==="y0"?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}return o}var WW=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],Jke=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,n,i){n.eachSeries(function(a){var s=Ff.getMarkerModelFromSeries(a,"markArea");if(s){var o=s.getData();o.each(function(l){var u=wt(WW,function(f){return GW(o,l,f,a,i)});o.setItemLayout(l,u);var c=o.getItemGraphicEl(l);c.setShape("points",u)})}},this)},t.prototype.renderSeries=function(e,n,i,a){var s=e.coordinateSystem,o=e.id,l=e.getData(),u=this.markerGroupMap,c=u.get(o)||u.set(o,{group:new ir});this.group.add(c.group),this.markKeep(c);var f=eNe(s,e,n);n.setData(f),f.each(function(h){var d=wt(WW,function(P){return GW(f,h,P,e,a)}),A=s.getAxis("x").scale,p=s.getAxis("y").scale,g=A.getExtent(),m=p.getExtent(),v=[A.parse(f.get("x0",h)),A.parse(f.get("x1",h))],y=[p.parse(f.get("y0",h)),p.parse(f.get("y1",h))];Ll(v),Ll(y);var b=!(g[0]>v[1]||g[1]<v[0]||m[0]>y[1]||m[1]<y[0]),_=!b;f.setItemLayout(h,{points:d,allClipped:_});var T=f.getItemModel(h),I=T.getModel("itemStyle").getItemStyle(),N=T.get("z2"),F=Kw(l,"color");I.fill||(I.fill=F,Ht(I.fill)&&(I.fill=Tb(I.fill,.4))),I.stroke||(I.stroke=F),f.setItemVisual(h,"style",I),f.setItemVisual(h,"z2",Zt(N,0))}),f.diff(x4(c).data).add(function(h){var d=f.getItemLayout(h),A=f.getItemVisual(h,"z2");if(!d.allClipped){var p=new Hs({z2:Zt(A,0),shape:{points:d.points}});f.setItemGraphicEl(h,p),c.group.add(p)}}).update(function(h,d){var A=x4(c).data.getItemGraphicEl(d),p=f.getItemLayout(h),g=f.getItemVisual(h,"z2");p.allClipped?A&&c.group.remove(A):(A?ln(A,{z2:Zt(g,0),shape:{points:p.points}},n,h):A=new Hs({shape:{points:p.points}}),f.setItemGraphicEl(h,A),c.group.add(A))}).remove(function(h){var d=x4(c).data.getItemGraphicEl(h);c.group.remove(d)}).execute(),f.eachItemGraphicEl(function(h,d){var A=f.getItemModel(d),p=f.getItemVisual(d,"style");h.useStyle(f.getItemVisual(d,"style")),Ja(h,Ma(A),{labelFetcher:n,labelDataIndex:d,defaultText:f.getName(d)||"",inheritColor:Ht(p.fill)?Tb(p.fill,1):Je.color.neutral99}),Ia(h,A),di(h,null,null,A.get(["emphasis","disabled"])),pr(h).dataModel=n}),x4(c).data=f,c.group.silent=n.get("silent")||e.get("silent")},t.type="markArea",t}(XP);function eNe(r,t,e){var n,i,a=["x0","y0","x1","y1"];if(r){var s=wt(r&&r.dimensions,function(u){var c=t.getData(),f=c.getDimensionInfo(c.mapDimension(u))||{};return pt(pt({},f),{name:u,ordinalMeta:null})});i=wt(a,function(u,c){return{name:u,type:s[c%2].type}}),n=new lo(i,e)}else i=[{name:"value",type:"float"}],n=new lo(i,e);var o=wt(e.get("data"),Nr(Yke,t,r,e));r&&(o=dn(o,Nr(Zke,r)));var l=r?function(u,c,f,h){var d=u.coord[Math.floor(h/2)][h%2];return RA(d,i[h])}:function(u,c,f,h){return RA(u.value,i[h])};return n.initData(o,null,l),n.hasItemOption=!0,n}function tNe(r){r.registerComponentModel(Xke),r.registerComponentView(Jke),r.registerPreprocessor(function(t){qP(t.series,"markArea")&&(t.markArea=t.markArea||{})})}var rNe=function(r,t){if(t==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},jI=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,n){r.prototype.mergeOption.call(this,e,n),this._updateSelector(e)},t.prototype._updateSelector=function(e){var n=e.selector,i=this.ecModel;n===!0&&(n=e.selector=["all","inverse"]),xt(n)&&se(n,function(a,s){Ht(a)&&(a={type:a}),n[s]=Dr(a,rNe(i,a.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){for(var n=!1,i=0;i<e.length;i++){var a=e[i].get("name");if(this.isSelected(a)){this.select(a),n=!0;break}}!n&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var n=[],i=[];e.eachRawSeries(function(l){var u=l.name;i.push(u);var c;if(l.legendVisualProvider){var f=l.legendVisualProvider,h=f.getAllNames();e.isSeriesFiltered(l)||(i=i.concat(h)),h.length?n=n.concat(h):c=!0}else c=!0;c&&DD(l)&&n.push(l.name)}),this._availableNames=i;var a=this.get("data")||n,s=Xt(),o=wt(a,function(l){return(Ht(l)||an(l))&&(l={name:l}),s.get(l.name)?null:(s.set(l.name,!0),new qr(l,this,this.ecModel))},this);this._data=dn(o,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var n=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;se(a,function(s){n[s.get("name")]=!1})}n[e]=!0},t.prototype.unSelect=function(e){this.get("selectedMode")!=="single"&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var n=this.option.selected;n.hasOwnProperty(e)||(n[e]=!0),this[n[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,n=this.option.selected;se(e,function(i){n[i.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var e=this._data,n=this.option.selected;se(e,function(i){var a=i.get("name",!0);n.hasOwnProperty(a)||(n[a]=!0),n[a]=!n[a]})},t.prototype.isSelected=function(e){var n=this.option.selected;return!(n.hasOwnProperty(e)&&!n[e])&&Lr(this._availableNames,e)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",bottom:Je.size.m,align:"auto",backgroundColor:Je.color.transparent,borderColor:Je.color.border,borderRadius:0,borderWidth:0,padding:5,itemGap:8,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:Je.color.disabled,inactiveBorderColor:Je.color.disabled,inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:Je.color.disabled,inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:Je.color.secondary},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:Je.color.tertiary,borderWidth:1,borderColor:Je.color.border},emphasis:{selectorLabel:{show:!0,color:Je.color.quaternary}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1},triggerEvent:!1},t}($r),km=Nr,UI=se,b4=ir,uoe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return t.prototype.init=function(){this.group.add(this._contentGroup=new b4),this.group.add(this._selectorGroup=new b4),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,n,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!e.get("show",!0)){var s=e.get("align"),o=e.get("orient");(!s||s==="auto")&&(s=e.get("left")==="right"&&o==="vertical"?"right":"left");var l=e.get("selector",!0),u=e.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=o==="horizontal"?"end":"start"),this.renderInner(s,e,n,i,l,o,u);var c=La(e,i).refContainer,f=e.getBoxLayoutParams(),h=e.get("padding"),d=li(f,c,h),A=this.layoutInner(e,s,d,a,l,u),p=li(sr({width:A.width,height:A.height},f),c,h);this.group.x=p.x-A.x,this.group.y=p.y-A.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Yse(A,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,n,i,a,s,o,l){var u=this.getContentGroup(),c=Xt(),f=n.get("selectedMode"),h=n.get("triggerEvent"),d=[];i.eachRawSeries(function(A){!A.get("legendHoverLink")&&d.push(A.id)}),UI(n.getData(),function(A,p){var g=this,m=A.get("name");if(!this.newlineDisabled&&(m===""||m===`
`)){var v=new b4;v.newline=!0,u.add(v);return}var y=i.getSeriesByName(m)[0];if(!c.get(m))if(y){var b=y.getData(),_=b.getVisual("legendLineStyle")||{},T=b.getVisual("legendIcon"),I=b.getVisual("style"),N=this._createItem(y,m,p,A,n,e,_,I,T,f,a);N.on("click",km($W,m,null,a,d)).on("mouseover",km(HI,y.name,null,a,d)).on("mouseout",km(QI,y.name,null,a,d)),i.ssr&&N.eachChild(function(F){var P=pr(F);P.seriesIndex=y.seriesIndex,P.dataIndex=p,P.ssrType="legend"}),h&&N.eachChild(function(F){g.packEventData(F,n,y,p,m)}),c.set(m,!0)}else i.eachRawSeries(function(F){var P=this;if(!c.get(m)&&F.legendVisualProvider){var D=F.legendVisualProvider;if(!D.containName(m))return;var R=D.indexOfName(m),E=D.getItemVisual(R,"style"),L=D.getItemVisual(R,"legendIcon"),k=oo(E.fill);k&&k[3]===0&&(k[3]=.2,E=pt(pt({},E),{fill:Su(k,"rgba")}));var w=this._createItem(F,m,p,A,n,e,{},E,L,f,a);w.on("click",km($W,null,m,a,d)).on("mouseover",km(HI,null,m,a,d)).on("mouseout",km(QI,null,m,a,d)),i.ssr&&w.eachChild(function(C){var S=pr(C);S.seriesIndex=F.seriesIndex,S.dataIndex=p,S.ssrType="legend"}),h&&w.eachChild(function(C){P.packEventData(C,n,F,p,m)}),c.set(m,!0)}},this)},this),s&&this._createSelector(s,n,a,o,l)},t.prototype.packEventData=function(e,n,i,a,s){var o={componentType:"legend",componentIndex:n.componentIndex,dataIndex:a,value:s,seriesIndex:i.seriesIndex};pr(e).eventData=o},t.prototype._createSelector=function(e,n,i,a,s){var o=this.getSelectorGroup();UI(e,function(u){var c=u.type,f=new nn({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});o.add(f);var h=n.getModel("selectorLabel"),d=n.getModel(["emphasis","selectorLabel"]);Ja(f,{normal:h,emphasis:d},{defaultText:u.title}),LA(f)})},t.prototype._createItem=function(e,n,i,a,s,o,l,u,c,f,h){var d=e.visualDrawType,A=s.get("itemWidth"),p=s.get("itemHeight"),g=s.isSelected(n),m=a.get("symbolRotate"),v=a.get("symbolKeepAspect"),y=a.get("icon");c=y||c||"roundRect";var b=nNe(c,a,l,u,d,g,h),_=new b4,T=a.getModel("textStyle");if(rr(e.getLegendIcon)&&(!y||y==="inherit"))_.add(e.getLegendIcon({itemWidth:A,itemHeight:p,icon:c,iconRotate:m,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:v}));else{var I=y==="inherit"&&e.getData().getVisual("symbol")?m==="inherit"?e.getData().getVisual("symbolRotate"):m:0;_.add(iNe({itemWidth:A,itemHeight:p,icon:c,iconRotate:I,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:v}))}var N=o==="left"?A+5:-5,F=o,P=s.get("formatter"),D=n;Ht(P)&&P?D=P.replace("{name}",n??""):rr(P)&&(D=P(n));var R=g?T.getTextColor():a.get("inactiveColor");_.add(new nn({style:jn(T,{text:D,x:N,y:p/2,fill:R,align:F,verticalAlign:"middle"},{inheritColor:R})}));var E=new zr({shape:_.getBoundingRect(),style:{fill:"transparent"}}),L=a.getModel("tooltip");return L.get("show")&&nd({el:E,componentModel:s,itemName:n,itemTooltipOption:L.option}),_.add(E),_.eachChild(function(k){k.silent=!0}),E.silent=!f,this.getContentGroup().add(_),LA(_),_.__legendDataIndex=i,_},t.prototype.layoutInner=function(e,n,i,a,s,o){var l=this.getContentGroup(),u=this.getSelectorGroup();ig(e.get("orient"),l,e.get("itemGap"),i.width,i.height);var c=l.getBoundingRect(),f=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),s){ig("horizontal",u,e.get("selectorItemGap",!0));var h=u.getBoundingRect(),d=[-h.x,-h.y],A=e.get("selectorButtonGap",!0),p=e.getOrient().index,g=p===0?"width":"height",m=p===0?"height":"width",v=p===0?"y":"x";o==="end"?d[p]+=c[g]+A:f[p]+=h[g]+A,d[1-p]+=c[m]/2-h[m]/2,u.x=d[0],u.y=d[1],l.x=f[0],l.y=f[1];var y={x:0,y:0};return y[g]=c[g]+A+h[g],y[m]=Math.max(c[m],h[m]),y[v]=Math.min(0,h[v]+d[1-p]),y}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(Hn);function nNe(r,t,e,n,i,a,s){function o(g,m){g.lineWidth==="auto"&&(g.lineWidth=m.lineWidth>0?2:0),UI(g,function(v,y){g[y]==="inherit"&&(g[y]=m[y])})}var l=t.getModel("itemStyle"),u=l.getItemStyle(),c=r.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");u.decal=!f||f==="inherit"?n.decal:I1(f,s),u.fill==="inherit"&&(u.fill=n[i]),u.stroke==="inherit"&&(u.stroke=n[c]),u.opacity==="inherit"&&(u.opacity=(i==="fill"?n:e).opacity),o(u,n);var h=t.getModel("lineStyle"),d=h.getLineStyle();if(o(d,e),u.fill==="auto"&&(u.fill=n.fill),u.stroke==="auto"&&(u.stroke=n.fill),d.stroke==="auto"&&(d.stroke=n.fill),!a){var A=t.get("inactiveBorderWidth"),p=u[c];u.lineWidth=A==="auto"?n.lineWidth>0&&p?2:0:u.lineWidth,u.fill=t.get("inactiveColor"),u.stroke=t.get("inactiveBorderColor"),d.stroke=h.get("inactiveColor"),d.lineWidth=h.get("inactiveWidth")}return{itemStyle:u,lineStyle:d}}function iNe(r){var t=r.icon||"roundRect",e=ia(t,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return e.setStyle(r.itemStyle),e.rotation=(r.iconRotate||0)*Math.PI/180,e.setOrigin([r.itemWidth/2,r.itemHeight/2]),t.indexOf("empty")>-1&&(e.style.stroke=e.style.fill,e.style.fill=Je.color.neutral00,e.style.lineWidth=2),e}function $W(r,t,e,n){QI(r,t,e,n),e.dispatchAction({type:"legendToggleSelect",name:r??t}),HI(r,t,e,n)}function coe(r){for(var t=r.getZr().storage.getDisplayList(),e,n=0,i=t.length;n<i&&!(e=t[n].states.emphasis);)n++;return e&&e.hoverLayer}function HI(r,t,e,n){coe(e)||e.dispatchAction({type:"highlight",seriesName:r,name:t,excludeSeriesId:n})}function QI(r,t,e,n){coe(e)||e.dispatchAction({type:"downplay",seriesName:r,name:t,excludeSeriesId:n})}function aNe(r){var t=r.findComponents({mainType:"legend"});t&&t.length&&r.filterSeries(function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0})}function Ex(r,t,e){var n=r==="allSelect"||r==="inverseSelect",i={},a=[];e.eachComponent({mainType:"legend",query:t},function(o){n?o[r]():o[r](t.name),KW(o,i),a.push(o.componentIndex)});var s={};return e.eachComponent("legend",function(o){se(i,function(l,u){o[l?"select":"unSelect"](u)}),KW(o,s)}),n?{selected:s,legendIndex:a}:{name:t.name,selected:s}}function KW(r,t){var e=t||{};return se(r.getData(),function(n){var i=n.get("name");if(!(i===`
`||i==="")){var a=r.isSelected(i);Kt(e,i)?e[i]=e[i]&&a:e[i]=a}}),e}function sNe(r){r.registerAction("legendToggleSelect","legendselectchanged",Nr(Ex,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",Nr(Ex,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",Nr(Ex,"inverseSelect")),r.registerAction("legendSelect","legendselected",Nr(Ex,"select")),r.registerAction("legendUnSelect","legendunselected",Nr(Ex,"unSelect"))}function foe(r){r.registerComponentModel(jI),r.registerComponentView(uoe),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,aNe),r.registerSubTypeDefaulter("legend",function(){return"plain"}),sNe(r)}var oNe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,n,i){var a=Hg(e);r.prototype.init.call(this,e,n,i),qW(this,e,a)},t.prototype.mergeOption=function(e,n){r.prototype.mergeOption.call(this,e,n),qW(this,this.option,e)},t.type="legend.scroll",t.defaultOption=d0(jI.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:Je.color.accent50,pageIconInactiveColor:Je.color.accent10,pageIconSize:15,pageTextStyle:{color:Je.color.tertiary},animationDurationUpdate:800}),t}(jI);function qW(r,t,e){var n=r.getOrient(),i=[1,1];i[n.index]=0,kf(t,e,{type:"box",ignoreSize:!!i})}var XW=ir,dk=["width","height"],Ak=["x","y"],lNe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return t.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new XW),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new XW)},t.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,n,i,a,s,o,l){var u=this;r.prototype.renderInner.call(this,e,n,i,a,s,o,l);var c=this._controllerGroup,f=n.get("pageIconSize",!0),h=xt(f)?f:[f,f];A("pagePrev",0);var d=n.getModel("pageTextStyle");c.add(new nn({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),A("pageNext",1);function A(p,g){var m=p+"DataIndex",v=ny(n.get("pageIcons",!0)[n.getOrient().name][g],{onclick:Qt(u._pageGo,u,m,n,a)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});v.name=p,c.add(v)}},t.prototype.layoutInner=function(e,n,i,a,s,o){var l=this.getSelectorGroup(),u=e.getOrient().index,c=dk[u],f=Ak[u],h=dk[1-u],d=Ak[1-u];s&&ig("horizontal",l,e.get("selectorItemGap",!0));var A=e.get("selectorButtonGap",!0),p=l.getBoundingRect(),g=[-p.x,-p.y],m=nr(i);s&&(m[c]=i[c]-p[c]-A);var v=this._layoutContentAndController(e,a,m,u,c,h,d,f);if(s){if(o==="end")g[u]+=v[c]+A;else{var y=p[c]+A;g[u]-=y,v[f]-=y}v[c]+=p[c]+A,g[1-u]+=v[d]+v[h]/2-p[h]/2,v[h]=Math.max(v[h],p[h]),v[d]=Math.min(v[d],p[d]+g[1-u]),l.x=g[0],l.y=g[1],l.markRedraw()}return v},t.prototype._layoutContentAndController=function(e,n,i,a,s,o,l,u){var c=this.getContentGroup(),f=this._containerGroup,h=this._controllerGroup;ig(e.get("orient"),c,e.get("itemGap"),a?i.width:null,a?null:i.height),ig("horizontal",h,e.get("pageButtonItemGap",!0));var d=c.getBoundingRect(),A=h.getBoundingRect(),p=this._showController=d[s]>i[s],g=[-d.x,-d.y];n||(g[a]=c[u]);var m=[0,0],v=[-A.x,-A.y],y=Zt(e.get("pageButtonGap",!0),e.get("itemGap",!0));if(p){var b=e.get("pageButtonPosition",!0);b==="end"?v[a]+=i[s]-A[s]:m[a]+=A[s]+y}v[1-a]+=d[o]/2-A[o]/2,c.setPosition(g),f.setPosition(m),h.setPosition(v);var _={x:0,y:0};if(_[s]=p?i[s]:d[s],_[o]=Math.max(d[o],A[o]),_[l]=Math.min(0,A[l]+v[1-a]),f.__rectSize=i[s],p){var T={x:0,y:0};T[s]=Math.max(i[s]-A[s]-y,0),T[o]=_[o],f.setClipPath(new zr({shape:T})),f.__rectSize=T[s]}else h.eachChild(function(N){N.attr({invisible:!0,silent:!0})});var I=this._getPageInfo(e);return I.pageIndex!=null&&ln(c,{x:I.contentPosition[0],y:I.contentPosition[1]},p?e:null),this._updatePageInfoView(e,I),_},t.prototype._pageGo=function(e,n,i){var a=this._getPageInfo(n)[e];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:n.id})},t.prototype._updatePageInfoView=function(e,n){var i=this._controllerGroup;se(["pagePrev","pageNext"],function(c){var f=c+"DataIndex",h=n[f]!=null,d=i.childOfName(c);d&&(d.setStyle("fill",h?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),d.cursor=h?"pointer":"default")});var a=i.childOfName("pageText"),s=e.get("pageFormatter"),o=n.pageIndex,l=o!=null?o+1:0,u=n.pageCount;a&&s&&a.setStyle("text",Ht(s)?s.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):s({current:l,total:u}))},t.prototype._getPageInfo=function(e){var n=e.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,s=e.getOrient().index,o=dk[s],l=Ak[s],u=this._findTargetItemIndex(n),c=i.children(),f=c[u],h=c.length,d=h?1:0,A={contentPosition:[i.x,i.y],pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return A;var p=b(f);A.contentPosition[s]=-p.s;for(var g=u+1,m=p,v=p,y=null;g<=h;++g)y=b(c[g]),(!y&&v.e>m.s+a||y&&!_(y,m.s))&&(v.i>m.i?m=v:m=y,m&&(A.pageNextDataIndex==null&&(A.pageNextDataIndex=m.i),++A.pageCount)),v=y;for(var g=u-1,m=p,v=p,y=null;g>=-1;--g)y=b(c[g]),(!y||!_(v,y.s))&&m.i<v.i&&(v=m,A.pagePrevDataIndex==null&&(A.pagePrevDataIndex=m.i),++A.pageCount,++A.pageIndex),m=y;return A;function b(T){if(T){var I=T.getBoundingRect(),N=I[l]+T[l];return{s:N,e:N+I[o],i:T.__legendDataIndex}}}function _(T,I){return T.e>=I&&T.s<=I+a}},t.prototype._findTargetItemIndex=function(e){if(!this._showController)return 0;var n,i=this.getContentGroup(),a;return i.eachChild(function(s,o){var l=s.__legendDataIndex;a==null&&l!=null&&(a=o),l===e&&(n=o)}),n??a},t.type="legend.scroll",t}(uoe);function uNe(r){r.registerAction("legendScroll","legendscroll",function(t,e){var n=t.scrollDataIndex;n!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(n)})})}function cNe(r){Or(foe),r.registerComponentModel(oNe),r.registerComponentView(lNe),uNe(r)}function fNe(r){Or(foe),Or(cNe)}var hNe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.inside",t.defaultOption=d0(Zb.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(Zb),YP=Kr();function dNe(r,t,e){YP(r).coordSysRecordMap.each(function(n){var i=n.dataZoomInfoMap.get(t.uid);i&&(i.getRange=e)})}function ANe(r,t){for(var e=YP(r).coordSysRecordMap,n=e.keys(),i=0;i<n.length;i++){var a=n[i],s=e.get(a),o=s.dataZoomInfoMap;if(o){var l=t.uid,u=o.get(l);u&&(o.removeKey(l),o.keys().length||hoe(e,s))}}}function hoe(r,t){if(t){r.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function pNe(r,t){var e={model:t,containsPoint:Nr(mNe,t),dispatchAction:Nr(gNe,r),dataZoomInfoMap:null,controller:null},n=e.controller=new Gg(r.getZr());return se(["pan","zoom","scrollMove"],function(i){n.on(i,function(a){var s=[];e.dataZoomInfoMap.each(function(o){if(a.isAvailableBehavior(o.model.option)){var l=(o.getRange||{})[i],u=l&&l(o.dzReferCoordSysInfo,e.model.mainType,e.controller,a);!o.model.get("disabled",!0)&&u&&s.push({dataZoomId:o.model.id,start:u[0],end:u[1]})}}),s.length&&e.dispatchAction(s)})}),e}function gNe(r,t){r.isDisposed()||r.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function mNe(r,t,e,n){return r.coordinateSystem.containPoint([e,n])}function vNe(r,t,e){var n,i="type_",a={type_true:2,type_move:1,type_false:0,type_undefined:-1},s=!0;return r.each(function(o){var l=o.model,u=l.get("disabled",!0)?!1:l.get("zoomLock",!0)?"move":!0;a[i+u]>a[i+n]&&(n=u),s=s&&l.get("preventDefaultMouseMove",!0)}),{controlType:n,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!s,api:e,zInfo:{component:t.model},triggerInfo:{roamTrigger:null,isInSelf:t.containsPoint}}}}function yNe(r){r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,function(t,e){var n=YP(e),i=n.coordSysRecordMap||(n.coordSysRecordMap=Xt());i.each(function(a){a.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var s=Kse(a);se(s.infoList,function(o){var l=o.model.uid,u=i.get(l)||i.set(l,pNe(e,o.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=Xt());c.set(a.uid,{dzReferCoordSysInfo:o,model:a,getRange:null})})}),i.each(function(a){var s=a.controller,o,l=a.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(o=l.get(u))}if(!o){hoe(i,a);return}var c=vNe(l,a,e);s.enable(c.controlType,c.opt),uy(a,"dispatchAction",o.model.get("throttle",!0),"fixRate")})})}var xNe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return t.prototype.render=function(e,n,i){if(r.prototype.render.apply(this,arguments),e.noTarget()){this._clear();return}this.range=e.getPercentRange(),dNe(i,e,{pan:Qt(pk.pan,this),zoom:Qt(pk.zoom,this),scrollMove:Qt(pk.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){ANe(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(zP),pk={zoom:function(r,t,e,n){var i=this.range,a=i.slice(),s=r.axisModels[0];if(s){var o=gk[t](null,[n.originX,n.originY],s,e,r),l=(o.signal>0?o.pixelStart+o.pixelLength-o.pixel:o.pixel-o.pixelStart)/o.pixelLength*(a[1]-a[0])+a[0],u=Math.max(1/n.scale,0);a[0]=(a[0]-l)*u+l,a[1]=(a[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(ZA(0,a,[0,100],0,c.minSpan,c.maxSpan),this.range=a,i[0]!==a[0]||i[1]!==a[1])return a}},pan:YW(function(r,t,e,n,i,a){var s=gk[n]([a.oldX,a.oldY],[a.newX,a.newY],t,i,e);return s.signal*(r[1]-r[0])*s.pixel/s.pixelLength}),scrollMove:YW(function(r,t,e,n,i,a){var s=gk[n]([0,0],[a.scrollDelta,a.scrollDelta],t,i,e);return s.signal*(r[1]-r[0])*a.scrollDelta})};function YW(r){return function(t,e,n,i){var a=this.range,s=a.slice(),o=t.axisModels[0];if(o){var l=r(s,o,t,e,n,i);if(ZA(l,s,[0,100],"all"),this.range=s,a[0]!==s[0]||a[1]!==s[1])return s}}}var gk={grid:function(r,t,e,n,i){var a=e.axis,s={},o=i.model.coordinateSystem.getRect();return r=r||[0,0],a.dim==="x"?(s.pixel=t[0]-r[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=t[1]-r[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s},polar:function(r,t,e,n,i){var a=e.axis,s={},o=i.model.coordinateSystem,l=o.getRadiusAxis().getExtent(),u=o.getAngleAxis().getExtent();return r=r?o.pointToCoord(r):[0,0],t=o.pointToCoord(t),e.mainType==="radiusAxis"?(s.pixel=t[0]-r[0],s.pixelLength=l[1]-l[0],s.pixelStart=l[0],s.signal=a.inverse?1:-1):(s.pixel=t[1]-r[1],s.pixelLength=u[1]-u[0],s.pixelStart=u[0],s.signal=a.inverse?-1:1),s},singleAxis:function(r,t,e,n,i){var a=e.axis,s=i.model.coordinateSystem.getRect(),o={};return r=r||[0,0],a.orient==="horizontal"?(o.pixel=t[0]-r[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=t[1]-r[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o}};function doe(r){VP(r),r.registerComponentModel(hNe),r.registerComponentView(xNe),yNe(r)}var bNe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=d0(Zb.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:Je.color.accent10,borderRadius:0,backgroundColor:Je.color.transparent,dataBackground:{lineStyle:{color:Je.color.accent30,width:.5},areaStyle:{color:Je.color.accent20,opacity:.2}},selectedDataBackground:{lineStyle:{color:Je.color.accent40,width:.5},areaStyle:{color:Je.color.accent20,opacity:.3}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:Je.color.neutral00,borderColor:Je.color.accent20},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:Je.color.accent40,opacity:.5},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:Je.color.tertiary},brushSelect:!0,brushStyle:{color:Je.color.accent30,opacity:.3},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:Je.color.accent40},moveHandleStyle:{opacity:.8}},defaultLocationEdgeGap:15}),t}(Zb),kx=zr,wNe=1,mk=30,_Ne=7,Nx="horizontal",ZW="vertical",SNe=5,CNe=["line","bar","candlestick","scatter"],BNe={easing:"cubicOut",duration:100,delay:0},TNe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return t.prototype.init=function(e,n){this.api=n,this._onBrush=Qt(this._onBrush,this),this._onBrushEnd=Qt(this._onBrushEnd,this)},t.prototype.render=function(e,n,i,a){if(r.prototype.render.apply(this,arguments),uy(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),e.get("show")===!1){this.group.removeAll();return}if(e.noTarget()){this._clear(),this.group.removeAll();return}(!a||a.type!=="dataZoom"||a.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){Rb(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new ir;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(n),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,n=this.api,i=e.get("brushSelect"),a=i?_Ne:0,s=La(e,n).refContainer,o=this._findCoordRect(),l=e.get("defaultLocationEdgeGap",!0)||0,u=this._orient===Nx?{right:s.width-o.x-o.width,top:s.height-mk-l-a,width:o.width,height:mk}:{right:l,top:o.y,width:mk,height:o.height},c=Hg(e.option);se(["right","top","width","height"],function(h){c[h]==="ph"&&(c[h]=u[h])});var f=li(c,s);this._location={x:f.x,y:f.y},this._size=[f.width,f.height],this._orient===ZW&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,n=this._location,i=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),s=a&&a.get("inverse"),o=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(i===Nx&&!s?{scaleY:l?1:-1,scaleX:1}:i===Nx&&s?{scaleY:l?1:-1,scaleX:-1}:i===ZW&&!s?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=e.getBoundingRect([o]);e.x=n.x-u.x,e.y=n.y-u.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,n=this._size,i=this._displayables.sliderGroup,a=e.get("brushSelect");i.add(new kx({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var s=new kx({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:Qt(this._onClickPanel,this)}),o=this.api.getZr();a?(s.on("mousedown",this._onBrushStart,this),s.cursor="crosshair",o.on("mousemove",this._onBrush),o.on("mouseup",this._onBrushEnd)):(o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)),i.add(s)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!e)return;var n=this._size,i=this._shadowSize||[],a=e.series,s=a.getRawData(),o=a.getShadowDim&&a.getShadowDim(),l=o&&s.getDimensionInfo(o)?a.getShadowDim():e.otherDim;if(l==null)return;var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(s!==this._shadowData||l!==this._shadowDim||n[0]!==i[0]||n[1]!==i[1]){var f=s.getDataExtent(e.thisDim),h=s.getDataExtent(l),d=(h[1]-h[0])*.3;h=[h[0]-d,h[1]+d];var A=[0,n[1]],p=[0,n[0]],g=[[n[0],0],[0,0]],m=[],v=p[1]/Math.max(1,s.count()-1),y=n[0]/(f[1]-f[0]),b=e.thisAxis.type==="time",_=-v,T=Math.round(s.count()/n[0]),I;s.each([e.thisDim,l],function(R,E,L){if(T>0&&L%T){b||(_+=v);return}_=b?(+R-f[0])*y:_+v;var k=E==null||isNaN(E)||E==="",w=k?0:gn(E,h,A,!0);k&&!I&&L?(g.push([g[g.length-1][0],0]),m.push([m[m.length-1][0],0])):!k&&I&&(g.push([_,0]),m.push([_,0])),k||(g.push([_,w]),m.push([_,w])),I=k}),u=this._shadowPolygonPts=g,c=this._shadowPolylinePts=m}this._shadowData=s,this._shadowDim=l,this._shadowSize=[n[0],n[1]];var N=this.dataZoomModel;function F(R){var E=N.getModel(R?"selectedDataBackground":"dataBackground"),L=new ir,k=new Hs({shape:{points:u},segmentIgnoreThreshold:1,style:E.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),w=new gs({shape:{points:c},segmentIgnoreThreshold:1,style:E.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return L.add(k),L.add(w),L}for(var P=0;P<3;P++){var D=F(P===1);this._displayables.sliderGroup.add(D),this._displayables.dataShadowSegs.push(D)}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,n=e.get("showDataShadow");if(n!==!1){var i,a=this.ecModel;return e.eachTargetAxis(function(s,o){var l=e.getAxisProxy(s,o).getTargetSeriesModels();se(l,function(u){if(!i&&!(n!==!0&&Lr(CNe,u.get("type"))<0)){var c=a.getComponent(pA(s),o).axis,f=ENe(s),h,d=u.coordinateSystem;f!=null&&d.getOtherAxis&&(h=d.getOtherAxis(c).inverse),f=u.getData().mapDimension(f);var A=u.getData().mapDimension(s);i={thisAxis:c,series:u,thisDim:A,otherDim:f,otherAxisInverse:h}}},this)},this),i}},t.prototype._renderHandle=function(){var e=this.group,n=this._displayables,i=n.handles=[null,null],a=n.handleLabels=[null,null],s=this._displayables.sliderGroup,o=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,f=l.get("brushSelect"),h=n.filler=new kx({silent:f,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});s.add(h),s.add(new kx({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:wNe,fill:Je.color.transparent}})),se([0,1],function(y){var b=l.get("handleIcon");!t6[b]&&b.indexOf("path://")<0&&b.indexOf("image://")<0&&(b="path://"+b);var _=ia(b,-1,0,2,2,null,!0);_.attr({cursor:kNe(this._orient),draggable:!0,drift:Qt(this._onDragMove,this,y),ondragend:Qt(this._onDragEnd,this),onmouseover:Qt(this._showDataInfo,this,!0),onmouseout:Qt(this._showDataInfo,this,!1),z2:5});var T=_.getBoundingRect(),I=l.get("handleSize");this._handleHeight=Ut(I,this._size[1]),this._handleWidth=T.width/T.height*this._handleHeight,_.setStyle(l.getModel("handleStyle").getItemStyle()),_.style.strokeNoScale=!0,_.rectHover=!0,_.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),LA(_);var N=l.get("handleColor");N!=null&&(_.style.fill=N),s.add(i[y]=_);var F=l.getModel("textStyle"),P=l.get("handleLabel")||{},D=P.show||!1;e.add(a[y]=new nn({silent:!0,invisible:!D,style:jn(F,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:F.getTextColor(),font:F.getFont()}),z2:10}))},this);var d=h;if(f){var A=Ut(l.get("moveHandleSize"),o[1]),p=n.moveHandle=new zr({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:A}}),g=A*.8,m=n.moveHandleIcon=ia(l.get("moveHandleIcon"),-g/2,-g/2,g,g,Je.color.neutral00,!0);m.silent=!0,m.y=o[1]+A/2-.5,p.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var v=Math.min(o[1]/2,Math.max(A,10));d=n.moveZone=new zr({invisible:!0,shape:{y:o[1]-v,height:A+v}}),d.on("mouseover",function(){u.enterEmphasis(p)}).on("mouseout",function(){u.leaveEmphasis(p)}),s.add(p),s.add(m),s.add(d)}d.attr({draggable:!0,cursor:"default",drift:Qt(this._onDragMove,this,"all"),ondragstart:Qt(this._showDataInfo,this,!0),ondragend:Qt(this._onDragEnd,this),onmouseover:Qt(this._showDataInfo,this,!0),onmouseout:Qt(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[gn(e[0],[0,100],n,!0),gn(e[1],[0,100],n,!0)]},t.prototype._updateInterval=function(e,n){var i=this.dataZoomModel,a=this._handleEnds,s=this._getViewExtent(),o=i.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];ZA(n,a,s,i.get("zoomLock")?"all":e,o.minSpan!=null?gn(o.minSpan,l,s,!0):null,o.maxSpan!=null?gn(o.maxSpan,l,s,!0):null);var u=this._range,c=this._range=Ll([gn(a[0],s,l,!0),gn(a[1],s,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},t.prototype._updateView=function(e){var n=this._displayables,i=this._handleEnds,a=Ll(i.slice()),s=this._size;se([0,1],function(d){var A=n.handles[d],p=this._handleHeight;A.attr({scaleX:p/2,scaleY:p/2,x:i[d]+(d?-1:1),y:s[1]/2-p/2})},this),n.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:s[1]});var o={x:a[0],width:a[1]-a[0]};n.moveHandle&&(n.moveHandle.setShape(o),n.moveZone.setShape(o),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",o.x+o.width/2));for(var l=n.dataShadowSegs,u=[0,a[0],a[1],s[0]],c=0;c<l.length;c++){var f=l[c],h=f.getClipPath();h||(h=new zr,f.setClipPath(h)),h.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:s[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var n=this.dataZoomModel,i=this._displayables,a=i.handleLabels,s=this._orient,o=["",""];if(n.get("showDetail")){var l=n.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,f=e?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();o=[this._formatLabel(f[0],u),this._formatLabel(f[1],u)]}}var h=Ll(this._handleEnds.slice());d.call(this,0),d.call(this,1);function d(A){var p=DA(i.handles[A].parent,this.group),g=a8(A===0?"right":"left",p),m=this._handleWidth/2+SNe,v=pc([h[A]+(A===0?-m:m),this._size[1]/2],p);a[A].setStyle({x:v[0],y:v[1],verticalAlign:s===Nx?"middle":g,align:s===Nx?g:"center",text:o[A]})}},t.prototype._formatLabel=function(e,n){var i=this.dataZoomModel,a=i.get("labelFormatter"),s=i.get("labelPrecision");(s==null||s==="auto")&&(s=n.getPixelPrecision());var o=e==null||isNaN(e)?"":n.type==="category"||n.type==="time"?n.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(s,20));return rr(a)?a(e,o):Ht(a)?a.replace("{value}",o):o},t.prototype._showDataInfo=function(e){var n=this.dataZoomModel.get("handleLabel")||{},i=n.show||!1,a=this.dataZoomModel.getModel(["emphasis","handleLabel"]),s=a.get("show")||!1,o=e||this._dragging?s:i,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!o),u[1].attr("invisible",!o),l.moveHandle&&this.api[o?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},t.prototype._onDragMove=function(e,n,i,a){this._dragging=!0,Qh(a.event);var s=this._displayables.sliderGroup.getLocalTransform(),o=pc([n,i],s,!0),l=this._updateInterval(e,o[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var n=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(i[0]<0||i[0]>n[0]||i[1]<0||i[1]>n[1])){var a=this._handleEnds,s=(a[0]+a[1])/2,o=this._updateInterval("all",i[0]-s);this._updateView(),o&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var n=e.offsetX,i=e.offsetY;this._brushStart=new cr(n,i),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,!!n){n.attr("ignore",!0);var i=n.shape,a=+new Date;if(!(a-this._brushStartTime<200&&Math.abs(i.width)<5)){var s=this._getViewExtent(),o=[0,100],l=this._handleEnds=[i.x,i.x+i.width],u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();ZA(0,l,s,0,u.minSpan!=null?gn(u.minSpan,o,s,!0):null,u.maxSpan!=null?gn(u.maxSpan,o,s,!0):null),this._range=Ll([gn(l[0],s,o,!0),gn(l[1],s,o,!0)]),this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(Qh(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,n){var i=this._displayables,a=this.dataZoomModel,s=i.brushRect;s||(s=i.brushRect=new kx({silent:!0,style:a.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(s)),s.attr("ignore",!1);var o=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(e,n),c=l.transformCoordToLocal(o.x,o.y),f=this._size;u[0]=Math.max(Math.min(f[0],u[0]),0),s.setShape({x:c[0],y:0,width:u[0]-c[0],height:f[1]})},t.prototype._dispatchZoomAction=function(e){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?BNe:null,start:n[0],end:n[1]})},t.prototype._findCoordRect=function(){var e,n=Kse(this.dataZoomModel).infoList;if(!e&&n.length){var i=n[0].model.coordinateSystem;e=i.getRect&&i.getRect()}if(!e){var a=this.api.getWidth(),s=this.api.getHeight();e={x:a*.2,y:s*.2,width:a*.6,height:s*.6}}return e},t.type="dataZoom.slider",t}(zP);function ENe(r){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[r]}function kNe(r){return r==="vertical"?"ns-resize":"ew-resize"}function Aoe(r){r.registerComponentModel(bNe),r.registerComponentView(TNe),VP(r)}function NNe(r){Or(doe),Or(Aoe)}var poe={get:function(r,t,e){var n=nr((FNe[r]||{})[t]);return e&&xt(n)?n[n.length-1]:n}},FNe={color:{active:["#006edd","#e0ffff"],inactive:[Je.color.transparent]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},JW=Za.mapVisual,INe=Za.eachVisual,MNe=xt,e$=se,LNe=Ll,DNe=gn,P6=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i)},t.prototype.optionUpdated=function(e,n){var i=this.option;!n&&ioe(i,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var n=this.stateList;e=Qt(e,this),this.controllerVisuals=PI(this.option.controller,n,e),this.targetVisuals=PI(this.option.target,n,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesId,n=this.option.seriesIndex;n==null&&e==null&&(n="all");var i=Z1(this.ecModel,"series",{index:n,id:e},{useDefault:!1,enableAll:!0,enableNone:!1}).models;return wt(i,function(a){return a.componentIndex})},t.prototype.eachTargetSeries=function(e,n){se(this.getTargetSeriesIndices(),function(i){var a=this.ecModel.getSeriesByIndex(i);a&&e.call(n,a)},this)},t.prototype.isTargetSeries=function(e){var n=!1;return this.eachTargetSeries(function(i){i===e&&(n=!0)}),n},t.prototype.formatValueText=function(e,n,i){var a=this.option,s=a.precision,o=this.dataBound,l=a.formatter,u;i=i||["<",">"],xt(e)&&(e=e.slice(),u=!0);var c=n?e:u?[f(e[0]),f(e[1])]:f(e);if(Ht(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(rr(l))return u?l(e[0],e[1]):l(e);if(u)return e[0]===o[0]?i[0]+" "+c[1]:e[1]===o[1]?i[1]+" "+c[0]:c[0]+" - "+c[1];return c;function f(h){return h===o[0]?"min":h===o[1]?"max":(+h).toFixed(Math.min(s,20))}},t.prototype.resetExtent=function(){var e=this.option,n=LNe([e.min,e.max]);this._dataExtent=n},t.prototype.getDataDimensionIndex=function(e){var n=this.option.dimension;if(n!=null)return e.getDimensionIndex(n);for(var i=e.dimensions,a=i.length-1;a>=0;a--){var s=i[a],o=e.getDimensionInfo(s);if(!o.isCalculationCoord)return o.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,n=this.option,i={inRange:n.inRange,outOfRange:n.outOfRange},a=n.target||(n.target={}),s=n.controller||(n.controller={});Dr(a,i),Dr(s,i);var o=this.isCategory();l.call(this,a),l.call(this,s),u.call(this,a,"inRange","outOfRange"),c.call(this,s);function l(f){MNe(n.color)&&!f.inRange&&(f.inRange={color:n.color.slice().reverse()}),f.inRange=f.inRange||{color:e.get("gradientColor")}}function u(f,h,d){var A=f[h],p=f[d];A&&!p&&(p=f[d]={},e$(A,function(g,m){if(Za.isValidType(m)){var v=poe.get(m,"inactive",o);v!=null&&(p[m]=v,m==="color"&&!p.hasOwnProperty("opacity")&&!p.hasOwnProperty("colorAlpha")&&(p.opacity=[0,0]))}}))}function c(f){var h=(f.inRange||{}).symbol||(f.outOfRange||{}).symbol,d=(f.inRange||{}).symbolSize||(f.outOfRange||{}).symbolSize,A=this.get("inactiveColor"),p=this.getItemSymbol(),g=p||"roundRect";e$(this.stateList,function(m){var v=this.itemSize,y=f[m];y||(y=f[m]={color:o?A:[A]}),y.symbol==null&&(y.symbol=h&&nr(h)||(o?g:[g])),y.symbolSize==null&&(y.symbolSize=d&&nr(d)||(o?v[0]:[v[0],v[0]])),y.symbol=JW(y.symbol,function(T){return T==="none"?g:T});var b=y.symbolSize;if(b!=null){var _=-1/0;INe(b,function(T){T>_&&(_=T)}),y.symbolSize=JW(b,function(T){return DNe(T,[0,_],[0,v[0]],!0)})}},this)}},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:Je.color.transparent,borderColor:Je.color.borderTint,contentColor:Je.color.theme[0],inactiveColor:Je.color.disabled,borderWidth:0,padding:Je.size.m,textGap:10,precision:0,textStyle:{color:Je.color.secondary}},t}($r),t$=[20,140],PNe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(e,n){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){r.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(e[0]==null||isNaN(e[0]))&&(e[0]=t$[0]),(e[1]==null||isNaN(e[1]))&&(e[1]=t$[1])},t.prototype._resetRange=function(){var e=this.getExtent(),n=this.option.range;!n||n.auto?(e.auto=1,this.option.range=e):xt(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],e[0]),n[1]=Math.min(n[1],e[1]))},t.prototype.completeVisualOption=function(){r.prototype.completeVisualOption.apply(this,arguments),se(this.stateList,function(e){var n=this.option.controller[e].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),n=Ll((this.get("range")||[]).slice());return n[0]>e[1]&&(n[0]=e[1]),n[1]>e[1]&&(n[1]=e[1]),n[0]<e[0]&&(n[0]=e[0]),n[1]<e[0]&&(n[1]=e[0]),n},t.prototype.getValueState=function(e){var n=this.option.range,i=this.getExtent(),a=Zt(this.option.unboundedRange,!0);return(a&&n[0]<=i[0]||n[0]<=e)&&(a&&n[1]>=i[1]||e<=n[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var n=[];return this.eachTargetSeries(function(i){var a=[],s=i.getData();s.each(this.getDataDimensionIndex(s),function(o,l){e[0]<=o&&o<=e[1]&&a.push(l)},this),n.push({seriesId:i.id,dataIndex:a})},this),n},t.prototype.getVisualMeta=function(e){var n=r$(this,"outOfRange",this.getExtent()),i=r$(this,"inRange",this.option.range.slice()),a=[];function s(d,A){a.push({value:d,color:e(d,A)})}for(var o=0,l=0,u=i.length,c=n.length;l<c&&(!i.length||n[l]<=i[0]);l++)n[l]<i[o]&&s(n[l],"outOfRange");for(var f=1;o<u;o++,f=0)f&&a.length&&s(i[o],"outOfRange"),s(i[o],"inRange");for(var f=1;l<c;l++)(!i.length||i[i.length-1]<n[l])&&(f&&(a.length&&s(a[a.length-1].value,"outOfRange"),f=0),s(n[l],"outOfRange"));var h=a.length;return{stops:a,outerColors:[h?a[0].color:"transparent",h?a[h-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=d0(P6.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:Je.color.neutral00,borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:Je.color.neutral00,borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:Je.color.shadow}}),t}(P6);function r$(r,t,e){if(e[0]===e[1])return e.slice();for(var n=200,i=(e[1]-e[0])/n,a=e[0],s=[],o=0;o<=n&&a<e[1];o++)s.push(a),a+=i;return s.push(e[1]),s}var goe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return t.prototype.init=function(e,n){this.ecModel=e,this.api=n},t.prototype.render=function(e,n,i,a){if(this.visualMapModel=e,e.get("show")===!1){this.group.removeAll();return}this.doRender(e,n,i,a)},t.prototype.renderBackground=function(e){var n=this.visualMapModel,i=sy(n.get("padding")||0),a=e.getBoundingRect();e.add(new zr({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,n,i){i=i||{};var a=i.forceState,s=this.visualMapModel,o={};if(n==="color"){var l=s.get("contentColor");o.color=l}function u(d){return o[d]}function c(d,A){o[d]=A}var f=s.controllerVisuals[a||s.getValueState(e)],h=Za.prepareVisualTypes(f);return se(h,function(d){var A=f[d];i.convertOpacityToAlpha&&d==="opacity"&&(d="colorAlpha",A=f.__alphaForOpacity),Za.dependsOn(d,n)&&A&&A.applyVisual(e,u,c)}),o[n]},t.prototype.positionGroup=function(e){var n=this.visualMapModel,i=this.api,a=La(n,i).refContainer;l8(e,n.getBoxLayoutParams(),a)},t.prototype.doRender=function(e,n,i,a){},t.type="visualMap",t}(Hn),n$=[["left","right","width"],["top","bottom","height"]];function moe(r,t,e){var n=r.option,i=n.align;if(i!=null&&i!=="auto")return i;for(var a={width:t.getWidth(),height:t.getHeight()},s=n.orient==="horizontal"?1:0,o=n$[s],l=[0,null,10],u={},c=0;c<3;c++)u[n$[1-s][c]]=l[c],u[o[c]]=c===2?e[0]:n[o[c]];var f=[["x","width",3],["y","height",0]][s],h=li(u,a,n.padding);return o[(h.margin[f[2]]||0)+h[f[0]]+h[f[1]]*.5<a[f[1]]*.5?0:1]}function K3(r,t){return se(r||[],function(e){e.dataIndex!=null&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),r}var $c=gn,RNe=se,i$=Math.min,vk=Math.max,ONe=12,jNe=6,UNe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return t.prototype.init=function(e,n){r.prototype.init.call(this,e,n),this._hoverLinkFromSeriesMouseOver=Qt(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=Qt(this._hideIndicator,this)},t.prototype.doRender=function(e,n,i,a){(!a||a.type!=="selectDataRange"||a.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,n=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(n);var i=e.get("text");this._renderEndsText(n,i,0),this._renderEndsText(n,i,1),this._updateView(!0),this.renderBackground(n),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(n)},t.prototype._renderEndsText=function(e,n,i){if(n){var a=n[1-i];a=a!=null?a+"":"";var s=this.visualMapModel,o=s.get("textGap"),l=s.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,i===0?-o:l[1]+o],u),f=this._applyTransform(i===0?"bottom":"top",u),h=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new nn({style:jn(d,{x:c[0],y:c[1],verticalAlign:d.get("verticalAlign")||(h==="horizontal"?"middle":f),align:d.get("align")||(h==="horizontal"?f:"center"),text:a})}))}},t.prototype._renderBar=function(e){var n=this.visualMapModel,i=this._shapes,a=n.itemSize,s=this._orient,o=this._useHandle,l=moe(n,this.api,a),u=i.mainGroup=this._createBarGroup(l),c=new ir;u.add(c),c.add(i.outOfRange=a$()),c.add(i.inRange=a$(null,o?o$(this._orient):null,Qt(this._dragHandle,this,"all",!1),Qt(this._dragHandle,this,"all",!0))),c.setClipPath(new zr({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var f=n.textStyleModel.getTextRect(""),h=vk(f.width,f.height);o&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(n,u,0,a,h,s),this._createHandle(n,u,1,a,h,s)),this._createIndicator(n,u,a,h,s),e.add(u)},t.prototype._createHandle=function(e,n,i,a,s,o){var l=Qt(this._dragHandle,this,i,!1),u=Qt(this._dragHandle,this,i,!0),c=xc(e.get("handleSize"),a[0]),f=ia(e.get("handleIcon"),-c/2,-c/2,c,c,null,!0),h=o$(this._orient);f.attr({cursor:h,draggable:!0,drift:l,ondragend:u,onmousemove:function(m){Qh(m.event)}}),f.x=a[0]/2,f.useStyle(e.getModel("handleStyle").getItemStyle()),f.setStyle({strokeNoScale:!0,strokeFirst:!0}),f.style.lineWidth*=2,f.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),Ip(f,!0),n.add(f);var d=this.visualMapModel.textStyleModel,A=new nn({cursor:h,draggable:!0,drift:l,onmousemove:function(m){Qh(m.event)},ondragend:u,style:jn(d,{x:0,y:0,text:""})});A.ensureState("blur").style={opacity:.1},A.stateTransition={duration:200},this.group.add(A);var p=[c,0],g=this._shapes;g.handleThumbs[i]=f,g.handleLabelPoints[i]=p,g.handleLabels[i]=A},t.prototype._createIndicator=function(e,n,i,a,s){var o=xc(e.get("indicatorSize"),i[0]),l=ia(e.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var u=e.getModel("indicatorStyle").getItemStyle();if(l instanceof es){var c=l.style;l.useStyle(pt({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);n.add(l);var f=this.visualMapModel.textStyleModel,h=new nn({silent:!0,invisible:!0,style:jn(f,{x:0,y:0,text:""})});this.group.add(h);var d=[(s==="horizontal"?a/2:jNe)+i[0]/2,0],A=this._shapes;A.indicator=l,A.indicatorLabel=h,A.indicatorLabelPoint=d,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,n,i,a){if(this._useHandle){if(this._dragging=!n,!n){var s=this._applyTransform([i,a],this._shapes.mainGroup,!0);this._updateInterval(e,s[1]),this._hideIndicator(),this._updateView()}n===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),n?!this._hovering&&this._clearHoverLinkToSeries():s$(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,n=this._dataInterval=e.getSelected(),i=e.getExtent(),a=[0,e.itemSize[1]];this._handleEnds=[$c(n[0],i,a,!0),$c(n[1],i,a,!0)]},t.prototype._updateInterval=function(e,n){n=n||0;var i=this.visualMapModel,a=this._handleEnds,s=[0,i.itemSize[1]];ZA(n,a,s,e,0);var o=i.getExtent();this._dataInterval=[$c(a[0],s,o,!0),$c(a[1],s,o,!0)]},t.prototype._updateView=function(e){var n=this.visualMapModel,i=n.getExtent(),a=this._shapes,s=[0,n.itemSize[1]],o=e?s:this._handleEnds,l=this._createBarVisual(this._dataInterval,i,o,"inRange"),u=this._createBarVisual(i,i,s,"outOfRange");a.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),a.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(o,l)},t.prototype._createBarVisual=function(e,n,i,a){var s={forceState:a,convertOpacityToAlpha:!0},o=this._makeColorGradient(e,s),l=[this.getControllerVisual(e[0],"symbolSize",s),this.getControllerVisual(e[1],"symbolSize",s)],u=this._createBarPoints(i,l);return{barColor:new jg(0,0,0,1,o),barPoints:u,handlesColor:[o[0].color,o[o.length-1].color]}},t.prototype._makeColorGradient=function(e,n){var i=100,a=[],s=(e[1]-e[0])/i;a.push({color:this.getControllerVisual(e[0],"color",n),offset:0});for(var o=1;o<i;o++){var l=e[0]+s*o;if(l>e[1])break;a.push({color:this.getControllerVisual(l,"color",n),offset:o/i})}return a.push({color:this.getControllerVisual(e[1],"color",n),offset:1}),a},t.prototype._createBarPoints=function(e,n){var i=this.visualMapModel.itemSize;return[[i[0]-n[0],e[0]],[i[0],e[0]],[i[0],e[1]],[i[0]-n[1],e[1]]]},t.prototype._createBarGroup=function(e){var n=this._orient,i=this.visualMapModel.get("inverse");return new ir(n==="horizontal"&&!i?{scaleX:e==="bottom"?1:-1,rotation:Math.PI/2}:n==="horizontal"&&i?{scaleX:e==="bottom"?-1:1,rotation:-Math.PI/2}:n==="vertical"&&!i?{scaleX:e==="left"?1:-1,scaleY:-1}:{scaleX:e==="left"?1:-1})},t.prototype._updateHandle=function(e,n){if(this._useHandle){var i=this._shapes,a=this.visualMapModel,s=i.handleThumbs,o=i.handleLabels,l=a.itemSize,u=a.getExtent(),c=this._applyTransform("left",i.mainGroup);RNe([0,1],function(f){var h=s[f];h.setStyle("fill",n.handlesColor[f]),h.y=e[f];var d=$c(e[f],[0,l[1]],u,!0),A=this.getControllerVisual(d,"symbolSize");h.scaleX=h.scaleY=A/l[0],h.x=l[0]-A/2;var p=pc(i.handleLabelPoints[f],DA(h,this.group));if(this._orient==="horizontal"){var g=c==="left"||c==="top"?(l[0]-A)/2:(l[0]-A)/-2;p[1]+=g}o[f].setStyle({x:p[0],y:p[1],text:a.formatValueText(this._dataInterval[f]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,n,i,a){var s=this.visualMapModel,o=s.getExtent(),l=s.itemSize,u=[0,l[1]],c=this._shapes,f=c.indicator;if(f){f.attr("invisible",!1);var h={convertOpacityToAlpha:!0},d=this.getControllerVisual(e,"color",h),A=this.getControllerVisual(e,"symbolSize"),p=$c(e,o,u,!0),g=l[0]-A/2,m={x:f.x,y:f.y};f.y=p,f.x=g;var v=pc(c.indicatorLabelPoint,DA(f,this.group)),y=c.indicatorLabel;y.attr("invisible",!1);var b=this._applyTransform("left",c.mainGroup),_=this._orient,T=_==="horizontal";y.setStyle({text:(i||"")+s.formatValueText(n),verticalAlign:T?b:"middle",align:T?"center":b});var I={x:g,y:p,style:{fill:d}},N={style:{x:v[0],y:v[1]}};if(s.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var F={duration:100,easing:"cubicInOut",additive:!0};f.x=m.x,f.y=m.y,f.animateTo(I,F),y.animateTo(N,F)}else f.attr(I),y.attr(N);this._firstShowIndicator=!1;var P=this._shapes.handleLabels;if(P)for(var D=0;D<P.length;D++)this.api.enterBlur(P[D])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(n){if(e._hovering=!0,!e._dragging){var i=e.visualMapModel.itemSize,a=e._applyTransform([n.offsetX,n.offsetY],e._shapes.mainGroup,!0,!0);a[1]=i$(vk(0,a[1]),i[1]),e._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,n){var i=this.visualMapModel,a=i.itemSize;if(i.option.hoverLink){var s=[0,a[1]],o=i.getExtent();e=i$(vk(s[0],e),s[1]);var l=HNe(i,o,s),u=[e-l,e+l],c=$c(e,s,o,!0),f=[$c(u[0],s,o,!0),$c(u[1],s,o,!0)];u[0]<s[0]&&(f[0]=-1/0),u[1]>s[1]&&(f[1]=1/0),n&&(f[0]===-1/0?this._showIndicator(c,f[1],"< ",l):f[1]===1/0?this._showIndicator(c,f[0],"> ",l):this._showIndicator(c,c," ",l));var h=this._hoverLinkDataIndices,d=[];(n||s$(i))&&(d=this._hoverLinkDataIndices=i.findTargetDataIndices(f));var A=xme(h,d);this._dispatchHighDown("downplay",K3(A[0],i)),this._dispatchHighDown("highlight",K3(A[1],i))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var n;if(Lp(e.target,function(l){var u=pr(l);if(u.dataIndex!=null)return n=u,!0},!0),!!n){var i=this.ecModel.getSeriesByIndex(n.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(i)){var s=i.getData(n.dataType),o=s.getStore().get(a.getDataDimensionIndex(s),n.dataIndex);isNaN(o)||this._showIndicator(o,o)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var n=this._shapes.handleLabels;if(n)for(var i=0;i<n.length;i++)this.api.leaveBlur(n[i])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",K3(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,n,i,a){var s=DA(n,a?null:this.group);return xt(e)?pc(e,s,i):a8(e,s,i)},t.prototype._dispatchHighDown=function(e,n){n&&n.length&&this.api.dispatchAction({type:e,batch:n})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(goe);function a$(r,t,e,n){return new Hs({shape:{points:r},draggable:!!e,cursor:t,drift:e,onmousemove:function(i){Qh(i.event)},ondragend:n})}function HNe(r,t,e){var n=ONe/2,i=r.get("hoverLinkDataSize");return i&&(n=$c(i,t,e,!0)/2),n}function s$(r){var t=r.get("hoverLinkOnHandle");return!!(t??r.get("realtime"))}function o$(r){return r==="vertical"?"ns-resize":"ew-resize"}var QNe={type:"selectDataRange",event:"dataRangeSelected",update:"update"},zNe=function(r,t){t.eachComponent({mainType:"visualMap",query:r},function(e){e.setSelected(r.selected)})},VNe=[{createOnAllSeries:!0,reset:function(r,t){var e=[];return t.eachComponent("visualMap",function(n){var i=r.pipelineContext;!n.isTargetSeries(r)||i&&i.large||e.push(fke(n.stateList,n.targetVisuals,Qt(n.getValueState,n),n.getDataDimensionIndex(r.getData())))}),e}},{createOnAllSeries:!0,reset:function(r,t){var e=r.getData(),n=[];t.eachComponent("visualMap",function(i){if(i.isTargetSeries(r)){var a=i.getVisualMeta(Qt(GNe,null,r,i))||{stops:[],outerColors:[]},s=i.getDataDimensionIndex(e);s>=0&&(a.dimension=s,n.push(a))}}),r.getData().setVisual("visualMeta",n)}}];function GNe(r,t,e,n){for(var i=t.targetVisuals[n],a=Za.prepareVisualTypes(i),s={color:Kw(r.getData(),"color")},o=0,l=a.length;o<l;o++){var u=a[o],c=i[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(e,f,h)}return s.color;function f(d){return s[d]}function h(d,A){s[d]=A}}var l$=se;function WNe(r){var t=r&&r.visualMap;xt(t)||(t=t?[t]:[]),l$(t,function(e){if(e){Nm(e,"splitList")&&!Nm(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var n=e.pieces;n&&xt(n)&&l$(n,function(i){or(i)&&(Nm(i,"start")&&!Nm(i,"min")&&(i.min=i.start),Nm(i,"end")&&!Nm(i,"max")&&(i.max=i.end))})}})}function Nm(r,t){return r&&r.hasOwnProperty&&r.hasOwnProperty(t)}var u$=!1;function voe(r){u$||(u$=!0,r.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),r.registerAction(QNe,zNe),se(VNe,function(t){r.registerVisual(r.PRIORITY.VISUAL.COMPONENT,t)}),r.registerPreprocessor(WNe))}function yoe(r){r.registerComponentModel(PNe),r.registerComponentView(UNe),voe(r)}var $Ne=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._pieceList=[],e}return t.prototype.optionUpdated=function(e,n){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],KNe[this._mode].call(this,this._pieceList),this._resetSelected(e,n);var a=this.option.categories;this.resetVisual(function(s,o){i==="categories"?(s.mappingMethod="category",s.categories=nr(a)):(s.dataExtent=this.getExtent(),s.mappingMethod="piecewise",s.pieceList=wt(this._pieceList,function(l){return l=nr(l),o!=="inRange"&&(l.visual=null),l}))})},t.prototype.completeVisualOption=function(){var e=this.option,n={},i=Za.listVisualTypes(),a=this.isCategory();se(e.pieces,function(o){se(i,function(l){o.hasOwnProperty(l)&&(n[l]=1)})}),se(n,function(o,l){var u=!1;se(this.stateList,function(c){u=u||s(e,c,l)||s(e.target,c,l)},this),!u&&se(this.stateList,function(c){(e[c]||(e[c]={}))[l]=poe.get(l,c==="inRange"?"active":"inactive",a)})},this);function s(o,l,u){return o&&o[l]&&o[l].hasOwnProperty(u)}r.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,n){var i=this.option,a=this._pieceList,s=(n?i:e).selected||{};if(i.selected=s,se(a,function(l,u){var c=this.getSelectedMapKey(l);s.hasOwnProperty(c)||(s[c]=!0)},this),i.selectedMode==="single"){var o=!1;se(a,function(l,u){var c=this.getSelectedMapKey(l);s[c]&&(o?s[c]=!1:o=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return this._mode==="categories"?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=nr(e)},t.prototype.getValueState=function(e){var n=Za.findPieceIndex(e,this._pieceList);return n!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[n])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var n=[],i=this._pieceList;return this.eachTargetSeries(function(a){var s=[],o=a.getData();o.each(this.getDataDimensionIndex(o),function(l,u){var c=Za.findPieceIndex(l,i);c===e&&s.push(u)},this),n.push({seriesId:a.id,dataIndex:s})},this),n},t.prototype.getRepresentValue=function(e){var n;if(this.isCategory())n=e.value;else if(e.value!=null)n=e.value;else{var i=e.interval||[];n=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return n},t.prototype.getVisualMeta=function(e){if(this.isCategory())return;var n=[],i=["",""],a=this;function s(c,f){var h=a.getRepresentValue({interval:c});f||(f=a.getValueState(h));var d=e(h,f);c[0]===-1/0?i[0]=d:c[1]===1/0?i[1]=d:n.push({value:c[0],color:d},{value:c[1],color:d})}var o=this._pieceList.slice();if(!o.length)o.push({interval:[-1/0,1/0]});else{var l=o[0].interval[0];l!==-1/0&&o.unshift({interval:[-1/0,l]}),l=o[o.length-1].interval[1],l!==1/0&&o.push({interval:[l,1/0]})}var u=-1/0;return se(o,function(c){var f=c.interval;f&&(f[0]>u&&s([u,f[0]],"outOfRange"),s(f.slice()),u=f[1])},this),{stops:n,outerColors:i}},t.type="visualMap.piecewise",t.defaultOption=d0(P6.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(P6),KNe={splitNumber:function(r){var t=this.option,e=Math.min(t.precision,20),n=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;for(var a=(n[1]-n[0])/i;+a.toFixed(e)!==a&&e<5;)e++;t.precision=e,a=+a.toFixed(e),t.minOpen&&r.push({interval:[-1/0,n[0]],close:[0,0]});for(var s=0,o=n[0];s<i;o+=a,s++){var l=s===i-1?n[1]:o+a;r.push({interval:[o,l],close:[1,1]})}t.maxOpen&&r.push({interval:[n[1],1/0],close:[0,0]}),oF(r),se(r,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(r){var t=this.option;se(t.categories,function(e){r.push({text:this.formatValueText(e,!0),value:e})},this),c$(t,r)},pieces:function(r){var t=this.option;se(t.pieces,function(e,n){or(e)||(e={value:e});var i={text:"",index:n};if(e.label!=null&&(i.text=e.label),e.hasOwnProperty("value")){var a=i.value=e.value;i.interval=[a,a],i.close=[1,1]}else{for(var s=i.interval=[],o=i.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],f=0;f<2;f++){for(var h=[["gte","gt","min"],["lte","lt","max"]][f],d=0;d<3&&s[f]==null;d++)s[f]=e[h[d]],o[f]=l[d],c[f]=d===2;s[f]==null&&(s[f]=u[f])}c[0]&&s[1]===1/0&&(o[0]=0),c[1]&&s[0]===-1/0&&(o[1]=0),s[0]===s[1]&&o[0]&&o[1]&&(i.value=s[0])}i.visual=Za.retrieveVisuals(e),r.push(i)},this),c$(t,r),oF(r),se(r,function(e){var n=e.close,i=[["<",""][n[1]],[">",""][n[0]]];e.text=e.text||this.formatValueText(e.value!=null?e.value:e.interval,!1,i)},this)}};function c$(r,t){var e=r.inverse;(r.orient==="vertical"?!e:e)&&t.reverse()}var qNe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.doRender=function(){var e=this.group;e.removeAll();var n=this.visualMapModel,i=n.get("textGap"),a=n.textStyleModel,s=this._getItemAlign(),o=n.itemSize,l=this._getViewData(),u=l.endsText,c=hs(n.get("showLabel",!0),!u),f=!n.get("selectedMode");u&&this._renderEndsText(e,u[0],o,c,s),se(l.viewPieceList,function(h){var d=h.piece,A=new ir;A.onclick=Qt(this._onItemClick,this,d),this._enableHoverLink(A,h.indexInModelPieceList);var p=n.getRepresentValue(d);if(this._createItemSymbol(A,p,[0,0,o[0],o[1]],f),c){var g=this.visualMapModel.getValueState(p),m=a.get("align")||s;A.add(new nn({style:jn(a,{x:m==="right"?-i:o[0]+i,y:o[1]/2,text:d.text,verticalAlign:a.get("verticalAlign")||"middle",align:m,opacity:Zt(a.get("opacity"),g==="outOfRange"?.5:1)}),silent:f}))}e.add(A)},this),u&&this._renderEndsText(e,u[1],o,c,s),ig(n.get("orient"),e,n.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,n){var i=this;e.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(s){var o=i.visualMapModel;o.option.hoverLink&&i.api.dispatchAction({type:s,batch:K3(o.findTargetDataIndices(n),o)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,n=e.option;if(n.orient==="vertical")return moe(e,this.api,e.itemSize);var i=n.align;return(!i||i==="auto")&&(i="left"),i},t.prototype._renderEndsText=function(e,n,i,a,s){if(n){var o=new ir,l=this.visualMapModel.textStyleModel;o.add(new nn({style:jn(l,{x:a?s==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:a?s:"center",text:n})})),e.add(o)}},t.prototype._getViewData=function(){var e=this.visualMapModel,n=wt(e.getPieceList(),function(o,l){return{piece:o,indexInModelPieceList:l}}),i=e.get("text"),a=e.get("orient"),s=e.get("inverse");return(a==="horizontal"?s:!s)?n.reverse():i&&(i=i.slice().reverse()),{viewPieceList:n,endsText:i}},t.prototype._createItemSymbol=function(e,n,i,a){var s=ia(this.getControllerVisual(n,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(n,"color"));s.silent=a,e.add(s)},t.prototype._onItemClick=function(e){var n=this.visualMapModel,i=n.option,a=i.selectedMode;if(a){var s=nr(i.selected),o=n.getSelectedMapKey(e);a==="single"||a===!0?(s[o]=!0,se(s,function(l,u){s[u]=u===o})):s[o]=!s[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:s})}},t.type="visualMap.piecewise",t}(goe);function xoe(r){r.registerComponentModel($Ne),r.registerComponentView(qNe),voe(r)}function XNe(r){Or(yoe),Or(xoe)}var YNe=function(){function r(t){this._thumbnailModel=t}return r.prototype.reset=function(t){this._renderVersion=t.getMainProcessVersion()},r.prototype.renderContent=function(t){var e=t.api.getViewOfComponentModel(this._thumbnailModel);e&&(t.group.silent=!0,e.renderContent({group:t.group,targetTrans:t.targetTrans,z2Range:Gte(t.group),roamType:t.roamType,viewportRect:t.viewportRect,renderVersion:this._renderVersion}))},r.prototype.updateWindow=function(t,e){var n=e.getViewOfComponentModel(this._thumbnailModel);n&&n.updateWindow({targetTrans:t,renderVersion:this._renderVersion})},r}(),ZNe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return t.prototype.optionUpdated=function(e,n){this._updateBridge()},t.prototype._updateBridge=function(){var e=this._birdge=this._birdge||new YNe(this);if(this._target=null,this.ecModel.eachSeries(function(i){DV(i,null)}),this.shouldShow()){var n=this.getTarget();DV(n.baseMapProvider,e)}},t.prototype.shouldShow=function(){return this.getShallow("show",!0)},t.prototype.getBridge=function(){return this._birdge},t.prototype.getTarget=function(){if(this._target)return this._target;var e=this.getReferringComponents("series",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];return e?e.subType!=="graph"&&(e=null):e=this.ecModel.queryComponents({mainType:"series",subType:"graph"})[0],this._target={baseMapProvider:e},this._target},t.type="thumbnail",t.layoutMode="box",t.dependencies=["series","geo"],t.defaultOption={show:!0,right:1,bottom:1,height:"25%",width:"25%",itemStyle:{borderColor:Je.color.border,borderWidth:2},windowStyle:{borderWidth:1,color:Je.color.neutral30,borderColor:Je.color.neutral40,opacity:.3},z:10},t}($r),JNe=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){if(this._api=i,this._model=e,this._coordSys||(this._coordSys=new Wg),!this._isEnabled()){this._clear();return}this._renderVersion=i.getMainProcessVersion();var a=this.group;a.removeAll();var s=e.getModel("itemStyle"),o=s.getItemStyle();o.fill==null&&(o.fill=n.get("backgroundColor")||Je.color.neutral00);var l=La(e,i).refContainer,u=li(fre(e,!0),l),c=o.lineWidth||0,f=this._contentRect=_g(u.clone(),c/2,!0,!0),h=new ir;a.add(h),h.setClipPath(new zr({shape:f.plain()}));var d=this._targetGroup=new ir;h.add(d);var A=u.plain();A.r=s.getShallow("borderRadius",!0),a.add(this._bgRect=new zr({style:o,shape:A,silent:!1,cursor:"grab"}));var p=e.getModel("windowStyle"),g=p.getShallow("borderRadius",!0);h.add(this._windowRect=new zr({shape:{x:0,y:0,width:0,height:0,r:g},style:p.getItemStyle(),silent:!1,cursor:"grab"})),this._dealRenderContent(),this._dealUpdateWindow(),h$(e,this)},t.prototype.renderContent=function(e){this._bridgeRendered=e,this._isEnabled()&&(this._dealRenderContent(),this._dealUpdateWindow(),h$(this._model,this))},t.prototype._dealRenderContent=function(){var e=this._bridgeRendered;if(!(!e||e.renderVersion!==this._renderVersion)){var n=this._targetGroup,i=this._coordSys,a=this._contentRect;if(n.removeAll(),!!e){var s=e.group,o=s.getBoundingRect();n.add(s),this._bgRect.z2=e.z2Range.min-10,i.setBoundingRect(o.x,o.y,o.width,o.height);var l=li({left:"center",top:"center",aspect:o.width/o.height},a);i.setViewRect(l.x,l.y,l.width,l.height),s.attr(i.getTransformInfo().raw),this._windowRect.z2=e.z2Range.max+10,this._resetRoamController(e.roamType)}}},t.prototype.updateWindow=function(e){var n=this._bridgeRendered;n&&n.renderVersion===e.renderVersion&&(n.targetTrans=e.targetTrans),this._isEnabled()&&this._dealUpdateWindow()},t.prototype._dealUpdateWindow=function(){var e=this._bridgeRendered;if(!(!e||e.renderVersion!==this._renderVersion)){var n=ku([],e.targetTrans),i=dc([],this._coordSys.transform,n);this._transThisToTarget=ku([],i);var a=e.viewportRect;a?a=a.clone():a=new fr(0,0,this._api.getWidth(),this._api.getHeight()),a.applyTransform(i);var s=this._windowRect,o=s.shape.r;s.setShape(sr({r:o},a))}},t.prototype._resetRoamController=function(e){var n=this,i=this._api,a=this._roamController;if(a||(a=this._roamController=new Gg(i.getZr())),!e||!this._isEnabled()){a.disable();return}a.enable(e,{api:i,zInfo:{component:this._model},triggerInfo:{roamTrigger:null,isInSelf:function(s,o,l){return n._contentRect.contain(o,l)}}}),a.off("pan").off("zoom").on("pan",Qt(this._onPan,this)).on("zoom",Qt(this._onZoom,this))},t.prototype._onPan=function(e){var n=this._transThisToTarget;if(!(!this._isEnabled()||!n)){var i=Oi([],[e.oldX,e.oldY],n),a=Oi([],[e.oldX-e.dx,e.oldY-e.dy],n);this._api.dispatchAction(f$(this._model.getTarget().baseMapProvider,{dx:a[0]-i[0],dy:a[1]-i[1]}))}},t.prototype._onZoom=function(e){var n=this._transThisToTarget;if(!(!this._isEnabled()||!n)){var i=Oi([],[e.originX,e.originY],n);this._api.dispatchAction(f$(this._model.getTarget().baseMapProvider,{zoom:1/e.scale,originX:i[0],originY:i[1]}))}},t.prototype._isEnabled=function(){var e=this._model;if(!e||!e.shouldShow())return!1;var n=e.getTarget().baseMapProvider;return!!n},t.prototype._clear=function(){this.group.removeAll(),this._bridgeRendered=null,this._roamController&&this._roamController.disable()},t.prototype.remove=function(){this._clear()},t.prototype.dispose=function(){this._clear()},t.type="thumbnail",t}(Hn);function f$(r,t){var e=r.mainType==="series"?r.subType+"Roam":r.mainType+"Roam",n={type:e};return n[r.mainType+"Id"]=r.id,pt(n,t),n}function h$(r,t){var e=Sg(r);s8(t.group,e.z,e.zlevel)}function e7e(r){r.registerComponentModel(ZNe),r.registerComponentView(JNe)}var t7e={label:{enabled:!0},decal:{show:!1}},d$=Kr(),r7e={};function n7e(r,t){var e=r.getModel("aria");if(!e.get("enabled"))return;var n=nr(t7e);Dr(n.label,r.getLocaleModel().get("aria"),!1),Dr(e.option,n,!1),i(),a();function i(){var u=e.getModel("decal"),c=u.get("show");if(c){var f=Xt();r.eachSeries(function(h){if(!h.isColorBySeries()){var d=f.get(h.type);d||(d={},f.set(h.type,d)),d$(h).scope=d}}),r.eachRawSeries(function(h){if(r.isSeriesFiltered(h))return;if(rr(h.enableAriaDecal)){h.enableAriaDecal();return}var d=h.getData();if(h.isColorBySeries()){var v=EF(h.ecModel,h.name,r7e,r.getSeriesCount()),y=d.getVisual("decal");d.setVisual("decal",b(y,v))}else{var A=h.getRawData(),p={},g=d$(h).scope;d.each(function(_){var T=d.getRawIndex(_);p[T]=_});var m=A.count();A.each(function(_){var T=p[_],I=A.getName(_)||_+"",N=EF(h.ecModel,I,g,m),F=d.getItemVisual(T,"decal");d.setItemVisual(T,"decal",b(F,N))})}function b(_,T){var I=_?pt(pt({},T),_):T;return I.dirty=!0,I}})}}function a(){var u=t.getZr().dom;if(u){var c=r.getLocaleModel().get("aria"),f=e.getModel("label");if(f.option=sr(f.option,c),!!f.get("enabled")){if(u.setAttribute("role","img"),f.get("description")){u.setAttribute("aria-label",f.get("description"));return}var h=r.getSeriesCount(),d=f.get(["data","maxCount"])||10,A=f.get(["series","maxCount"])||10,p=Math.min(h,A),g;if(!(h<1)){var m=o();if(m){var v=f.get(["general","withTitle"]);g=s(v,{title:m})}else g=f.get(["general","withoutTitle"]);var y=[],b=h>1?f.get(["series","multiple","prefix"]):f.get(["series","single","prefix"]);g+=s(b,{seriesCount:h}),r.eachSeries(function(N,F){if(F<p){var P=void 0,D=N.get("name"),R=D?"withName":"withoutName";P=h>1?f.get(["series","multiple",R]):f.get(["series","single",R]),P=s(P,{seriesId:N.seriesIndex,seriesName:N.get("name"),seriesType:l(N.subType)});var E=N.getData();if(E.count()>d){var L=f.get(["data","partialData"]);P+=s(L,{displayCnt:d})}else P+=f.get(["data","allData"]);for(var k=f.get(["data","separator","middle"]),w=f.get(["data","separator","end"]),C=f.get(["data","excludeDimensionId"]),S=[],B=0;B<E.count();B++)if(B<d){var O=E.getName(B),V=C?dn(E.getValues(B),function(U,Q){return Lr(C,Q)===-1}):E.getValues(B),M=f.get(["data",O?"withName":"withoutName"]);S.push(s(M,{name:O,value:V.join(k)}))}P+=S.join(k)+w,y.push(P)}});var _=f.getModel(["series","multiple","separator"]),T=_.get("middle"),I=_.get("end");g+=y.join(T)+I,u.setAttribute("aria-label",g)}}}}function s(u,c){if(!Ht(u))return u;var f=u;return se(c,function(h,d){f=f.replace(new RegExp("\\{\\s*"+d+"\\s*\\}","g"),h)}),f}function o(){var u=r.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var c=r.getLocaleModel().get(["series","typeNames"]);return c[u]||c.chart}}function i7e(r){if(!(!r||!r.aria)){var t=r.aria;t.show!=null&&(t.enabled=t.show),t.label=t.label||{},se(["description","general","series","data"],function(e){t[e]!=null&&(t.label[e]=t[e])})}}function a7e(r){r.registerPreprocessor(i7e),r.registerVisual(r.PRIORITY.VISUAL.ARIA,n7e)}var A$={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},s7e=function(){function r(t){var e=this._condVal=Ht(t)?new RegExp(t):pee(t)?t:null;if(e==null){var n="";mn(n)}}return r.prototype.evaluate=function(t){var e=typeof t;return Ht(e)?this._condVal.test(t):an(e)?this._condVal.test(t+""):!1},r}(),o7e=function(){function r(){}return r.prototype.evaluate=function(){return this.value},r}(),l7e=function(){function r(){}return r.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},r}(),u7e=function(){function r(){}return r.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},r}(),c7e=function(){function r(){}return r.prototype.evaluate=function(){return!this.child.evaluate()},r}(),f7e=function(){function r(){}return r.prototype.evaluate=function(){for(var t=!!this.valueParser,e=this.getValue,n=e(this.valueGetterParam),i=t?this.valueParser(n):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(t?i:n))return!1;return!0},r}();function ZP(r,t){if(r===!0||r===!1){var e=new o7e;return e.value=r,e}var n="";return boe(r)||mn(n),r.and?p$("and",r,t):r.or?p$("or",r,t):r.not?h7e(r,t):d7e(r,t)}function p$(r,t,e){var n=t[r],i="";xt(n)||mn(i),n.length||mn(i);var a=r==="and"?new l7e:new u7e;return a.children=wt(n,function(s){return ZP(s,e)}),a.children.length||mn(i),a}function h7e(r,t){var e=r.not,n="";boe(e)||mn(n);var i=new c7e;return i.child=ZP(e,t),i.child||mn(n),i}function d7e(r,t){for(var e="",n=t.prepareGetValue(r),i=[],a=en(r),s=r.parser,o=s?Mre(s):null,l=0;l<a.length;l++){var u=a[l];if(!(u==="parser"||t.valueGetterAttrMap.get(u))){var c=Kt(A$,u)?A$[u]:u,f=r[u],h=o?o(f):f,d=Mye(c,h)||c==="reg"&&new s7e(h);d||mn(e),i.push(d)}}i.length||mn(e);var A=new f7e;return A.valueGetterParam=n,A.valueParser=o,A.getValue=t.getValue,A.subCondList=i,A}function boe(r){return or(r)&&!Os(r)}var A7e=function(){function r(t,e){this._cond=ZP(t,e)}return r.prototype.evaluate=function(){return this._cond.evaluate()},r}();function p7e(r,t){return new A7e(r,t)}var g7e={type:"echarts:filter",transform:function(r){for(var t=r.upstream,e,n=p7e(r.config,{valueGetterAttrMap:Xt({dimension:!0}),prepareGetValue:function(o){var l="",u=o.dimension;Kt(o,"dimension")||mn(l);var c=t.getDimensionInfo(u);return c||mn(l),{dimIdx:c.index}},getValue:function(o){return t.retrieveValueFromItem(e,o.dimIdx)}}),i=[],a=0,s=t.count();a<s;a++)e=t.getRawDataItem(a),n.evaluate()&&i.push(e);return{data:i}}},m7e={type:"echarts:sort",transform:function(r){var t=r.upstream,e=r.config,n="",i=Un(e);i.length||mn(n);var a=[];se(i,function(c){var f=c.dimension,h=c.order,d=c.parser,A=c.incomparable;if(f==null&&mn(n),h!=="asc"&&h!=="desc"&&mn(n),A&&A!=="min"&&A!=="max"){var p="";mn(p)}if(h!=="asc"&&h!=="desc"){var g="";mn(g)}var m=t.getDimensionInfo(f);m||mn(n);var v=d?Mre(d):null;d&&!v&&mn(n),a.push({dimIdx:m.index,parser:v,comparator:new Dre(h,A)})});var s=t.sourceFormat;s!==ms&&s!==$l&&mn(n);for(var o=[],l=0,u=t.count();l<u;l++)o.push(t.getRawDataItem(l));return o.sort(function(c,f){for(var h=0;h<a.length;h++){var d=a[h],A=t.retrieveValueFromItem(c,d.dimIdx),p=t.retrieveValueFromItem(f,d.dimIdx);d.parser&&(A=d.parser(A),p=d.parser(p));var g=d.comparator.evaluate(A,p);if(g!==0)return g}return 0}),{data:o}}};function v7e(r){r.registerTransform(g7e),r.registerTransform(m7e)}var y7e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="dataset",e}return t.prototype.init=function(e,n,i){r.prototype.init.call(this,e,n,i),this._sourceManager=new jre(this),$H(this)},t.prototype.mergeOption=function(e,n){r.prototype.mergeOption.call(this,e,n),$H(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:gc},t}($r),x7e=function(r){Ge(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="dataset",e}return t.type="dataset",t}(Hn);function b7e(r){r.registerComponentModel(y7e),r.registerComponentView(x7e)}var zc=Ef.CMD;function Nv(r,t){return Math.abs(r-t)<1e-5}function zI(r){var t=r.data,e=r.len(),n=[],i,a=0,s=0,o=0,l=0;function u(E,L){i&&i.length>2&&n.push(i),i=[E,L]}function c(E,L,k,w){Nv(E,k)&&Nv(L,w)||i.push(E,L,k,w,k,w)}function f(E,L,k,w,C,S){var B=Math.abs(L-E),O=Math.tan(B/4)*4/3,V=L<E?-1:1,M=Math.cos(E),U=Math.sin(E),Q=Math.cos(L),W=Math.sin(L),j=M*C+k,X=U*S+w,z=Q*C+k,H=W*S+w,K=C*O*V,Z=S*O*V;i.push(j-K*U,X+Z*M,z+K*W,H-Z*Q,z,H)}for(var h,d,A,p,g=0;g<e;){var m=t[g++],v=g===1;switch(v&&(a=t[g],s=t[g+1],o=a,l=s,(m===zc.L||m===zc.C||m===zc.Q)&&(i=[o,l])),m){case zc.M:a=o=t[g++],s=l=t[g++],u(o,l);break;case zc.L:h=t[g++],d=t[g++],c(a,s,h,d),a=h,s=d;break;case zc.C:i.push(t[g++],t[g++],t[g++],t[g++],a=t[g++],s=t[g++]);break;case zc.Q:h=t[g++],d=t[g++],A=t[g++],p=t[g++],i.push(a+2/3*(h-a),s+2/3*(d-s),A+2/3*(h-A),p+2/3*(d-p),A,p),a=A,s=p;break;case zc.A:var y=t[g++],b=t[g++],_=t[g++],T=t[g++],I=t[g++],N=t[g++]+I;g+=1;var F=!t[g++];h=Math.cos(I)*_+y,d=Math.sin(I)*T+b,v?(o=h,l=d,u(o,l)):c(a,s,h,d),a=Math.cos(N)*_+y,s=Math.sin(N)*T+b;for(var P=(F?-1:1)*Math.PI/2,D=I;F?D>N:D<N;D+=P){var R=F?Math.max(D+P,N):Math.min(D+P,N);f(D,R,y,b,_,T)}break;case zc.R:o=a=t[g++],l=s=t[g++],h=o+t[g++],d=l+t[g++],u(h,l),c(h,l,h,d),c(h,d,o,d),c(o,d,o,l),c(o,l,h,l);break;case zc.Z:i&&c(a,s,o,l),a=o,s=l;break}}return i&&i.length>2&&n.push(i),n}function VI(r,t,e,n,i,a,s,o,l,u){if(Nv(r,e)&&Nv(t,n)&&Nv(i,s)&&Nv(a,o)){l.push(s,o);return}var c=2/u,f=c*c,h=s-r,d=o-t,A=Math.sqrt(h*h+d*d);h/=A,d/=A;var p=e-r,g=n-t,m=i-s,v=a-o,y=p*p+g*g,b=m*m+v*v;if(y<f&&b<f){l.push(s,o);return}var _=h*p+d*g,T=-h*m-d*v,I=y-_*_,N=b-T*T;if(I<f&&_>=0&&N<f&&T>=0){l.push(s,o);return}var F=[],P=[];qA(r,e,i,s,.5,F),qA(t,n,a,o,.5,P),VI(F[0],P[0],F[1],P[1],F[2],P[2],F[3],P[3],l,u),VI(F[4],P[4],F[5],P[5],F[6],P[6],F[7],P[7],l,u)}function w7e(r,t){var e=zI(r),n=[];t=t||1;for(var i=0;i<e.length;i++){var a=e[i],s=[],o=a[0],l=a[1];s.push(o,l);for(var u=2;u<a.length;){var c=a[u++],f=a[u++],h=a[u++],d=a[u++],A=a[u++],p=a[u++];VI(o,l,c,f,h,d,A,p,s,t),o=A,l=p}n.push(s)}return n}function woe(r,t,e){var n=r[t],i=r[1-t],a=Math.abs(n/i),s=Math.ceil(Math.sqrt(a*e)),o=Math.floor(e/s);o===0&&(o=1,s=e);for(var l=[],u=0;u<s;u++)l.push(o);var c=s*o,f=e-c;if(f>0)for(var u=0;u<f;u++)l[u%s]+=1;return l}function g$(r,t,e){for(var n=r.r0,i=r.r,a=r.startAngle,s=r.endAngle,o=Math.abs(s-a),l=o*i,u=i-n,c=l>Math.abs(u),f=woe([l,u],c?0:1,t),h=(c?o:u)/f.length,d=0;d<f.length;d++)for(var A=(c?u:o)/f[d],p=0;p<f[d];p++){var g={};c?(g.startAngle=a+h*d,g.endAngle=a+h*(d+1),g.r0=n+A*p,g.r=n+A*(p+1)):(g.startAngle=a+A*p,g.endAngle=a+A*(p+1),g.r0=n+h*d,g.r=n+h*(d+1)),g.clockwise=r.clockwise,g.cx=r.cx,g.cy=r.cy,e.push(g)}}function _7e(r,t,e){for(var n=r.width,i=r.height,a=n>i,s=woe([n,i],a?0:1,t),o=a?"width":"height",l=a?"height":"width",u=a?"x":"y",c=a?"y":"x",f=r[o]/s.length,h=0;h<s.length;h++)for(var d=r[l]/s[h],A=0;A<s[h];A++){var p={};p[u]=h*f,p[c]=A*d,p[o]=f,p[l]=d,p.x+=r.x,p.y+=r.y,e.push(p)}}function m$(r,t,e,n){return r*n-e*t}function S7e(r,t,e,n,i,a,s,o){var l=e-r,u=n-t,c=s-i,f=o-a,h=m$(c,f,l,u);if(Math.abs(h)<1e-6)return null;var d=r-i,A=t-a,p=m$(d,A,c,f)/h;return p<0||p>1?null:new cr(p*l+r,p*u+t)}function C7e(r,t,e){var n=new cr;cr.sub(n,e,t),n.normalize();var i=new cr;cr.sub(i,r,t);var a=i.dot(n);return a}function Fm(r,t){var e=r[r.length-1];e&&e[0]===t[0]&&e[1]===t[1]||r.push(t)}function B7e(r,t,e){for(var n=r.length,i=[],a=0;a<n;a++){var s=r[a],o=r[(a+1)%n],l=S7e(s[0],s[1],o[0],o[1],t.x,t.y,e.x,e.y);l&&i.push({projPt:C7e(l,t,e),pt:l,idx:a})}if(i.length<2)return[{points:r},{points:r}];i.sort(function(g,m){return g.projPt-m.projPt});var u=i[0],c=i[i.length-1];if(c.idx<u.idx){var f=u;u=c,c=f}for(var h=[u.pt.x,u.pt.y],d=[c.pt.x,c.pt.y],A=[h],p=[d],a=u.idx+1;a<=c.idx;a++)Fm(A,r[a].slice());Fm(A,d),Fm(A,h);for(var a=c.idx+1;a<=u.idx+n;a++)Fm(p,r[a%n].slice());return Fm(p,h),Fm(p,d),[{points:A},{points:p}]}function v$(r){var t=r.points,e=[],n=[];e8(t,e,n);var i=new fr(e[0],e[1],n[0]-e[0],n[1]-e[1]),a=i.width,s=i.height,o=i.x,l=i.y,u=new cr,c=new cr;return a>s?(u.x=c.x=o+a/2,u.y=l,c.y=l+s):(u.y=c.y=l+s/2,u.x=o,c.x=o+a),B7e(t,u,c)}function R6(r,t,e,n){if(e===1)n.push(t);else{var i=Math.floor(e/2),a=r(t);R6(r,a[0],i,n),R6(r,a[1],e-i,n)}return n}function T7e(r,t){for(var e=[],n=0;n<t;n++)e.push(WD(r));return e}function E7e(r,t){t.setStyle(r.style),t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel}function k7e(r){for(var t=[],e=0;e<r.length;)t.push([r[e++],r[e++]]);return t}function N7e(r,t){var e=[],n=r.shape,i;switch(r.type){case"rect":_7e(n,t,e),i=zr;break;case"sector":g$(n,t,e),i=Us;break;case"circle":g$({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},t,e),i=Us;break;default:var a=r.getComputedTransform(),s=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,o=wt(w7e(r.getUpdatedPathProxy(),s),function(m){return k7e(m)}),l=o.length;if(l===0)R6(v$,{points:o[0]},t,e);else if(l===t)for(var u=0;u<l;u++)e.push({points:o[u]});else{var c=0,f=wt(o,function(m){var v=[],y=[];e8(m,v,y);var b=(y[1]-v[1])*(y[0]-v[0]);return c+=b,{poly:m,area:b}});f.sort(function(m,v){return v.area-m.area});for(var h=t,u=0;u<l;u++){var d=f[u];if(h<=0)break;var A=u===l-1?h:Math.ceil(d.area/c*t);A<0||(R6(v$,{points:d.poly},A,e),h-=A)}}i=Hs;break}if(!i)return T7e(r,t);for(var p=[],u=0;u<e.length;u++){var g=new i;g.setShape(e[u]),E7e(r,g),p.push(g)}return p}function F7e(r,t){var e=r.length,n=t.length;if(e===n)return[r,t];for(var i=[],a=[],s=e<n?r:t,o=Math.min(e,n),l=Math.abs(n-e)/6,u=(o-2)/6,c=Math.ceil(l/u)+1,f=[s[0],s[1]],h=l,d=2;d<o;){var A=s[d-2],p=s[d-1],g=s[d++],m=s[d++],v=s[d++],y=s[d++],b=s[d++],_=s[d++];if(h<=0){f.push(g,m,v,y,b,_);continue}for(var T=Math.min(h,c-1)+1,I=1;I<=T;I++){var N=I/T;qA(A,g,v,b,N,i),qA(p,m,y,_,N,a),A=i[3],p=a[3],f.push(i[1],a[1],i[2],a[2],A,p),g=i[5],m=a[5],v=i[6],y=a[6]}h-=T-1}return s===r?[f,t]:[r,f]}function y$(r,t){for(var e=r.length,n=r[e-2],i=r[e-1],a=[],s=0;s<t.length;)a[s++]=n,a[s++]=i;return a}function I7e(r,t){for(var e,n,i,a=[],s=[],o=0;o<Math.max(r.length,t.length);o++){var l=r[o],u=t[o],c=void 0,f=void 0;l?u?(e=F7e(l,u),c=e[0],f=e[1],n=c,i=f):(f=y$(i||l,l),c=l):(c=y$(n||u,u),f=u),a.push(c),s.push(f)}return[a,s]}function x$(r){for(var t=0,e=0,n=0,i=r.length,a=0,s=i-2;a<i;s=a,a+=2){var o=r[s],l=r[s+1],u=r[a],c=r[a+1],f=o*c-u*l;t+=f,e+=(o+u)*f,n+=(l+c)*f}return t===0?[r[0]||0,r[1]||0]:[e/t/3,n/t/3,t]}function M7e(r,t,e,n){for(var i=(r.length-2)/6,a=1/0,s=0,o=r.length,l=o-2,u=0;u<i;u++){for(var c=u*6,f=0,h=0;h<o;h+=2){var d=h===0?c:(c+h-2)%l+2,A=r[d]-e[0],p=r[d+1]-e[1],g=t[h]-n[0],m=t[h+1]-n[1],v=g-A,y=m-p;f+=v*v+y*y}f<a&&(a=f,s=u)}return s}function L7e(r){for(var t=[],e=r.length,n=0;n<e;n+=2)t[n]=r[e-n-2],t[n+1]=r[e-n-1];return t}function D7e(r,t,e,n){for(var i=[],a,s=0;s<r.length;s++){var o=r[s],l=t[s],u=x$(o),c=x$(l);a==null&&(a=u[2]<0!=c[2]<0);var f=[],h=[],d=0,A=1/0,p=[],g=o.length;a&&(o=L7e(o));for(var m=M7e(o,l,u,c)*6,v=g-2,y=0;y<v;y+=2){var b=(m+y)%v+2;f[y+2]=o[b]-u[0],f[y+3]=o[b+1]-u[1]}f[0]=o[m]-u[0],f[1]=o[m+1]-u[1];for(var _=n/e,T=-n/2;T<=n/2;T+=_){for(var I=Math.sin(T),N=Math.cos(T),F=0,y=0;y<o.length;y+=2){var P=f[y],D=f[y+1],R=l[y]-c[0],E=l[y+1]-c[1],L=R*N-E*I,k=R*I+E*N;p[y]=L,p[y+1]=k;var w=L-P,C=k-D;F+=w*w+C*C}if(F<A){A=F,d=T;for(var S=0;S<p.length;S++)h[S]=p[S]}}i.push({from:f,to:h,fromCp:u,toCp:c,rotation:-d})}return i}function O6(r){return r.__isCombineMorphing}var _oe="__mOriginal_";function j6(r,t,e){var n=_oe+t,i=r[n]||r[t];r[n]||(r[n]=r[t]);var a=e.replace,s=e.after,o=e.before;r[t]=function(){var l=arguments,u;return o&&o.apply(this,l),a?u=a.apply(this,l):u=i.apply(this,l),s&&s.apply(this,l),u}}function j2(r,t){var e=_oe+t;r[e]&&(r[t]=r[e],r[e]=null)}function b$(r,t){for(var e=0;e<r.length;e++)for(var n=r[e],i=0;i<n.length;){var a=n[i],s=n[i+1];n[i++]=t[0]*a+t[2]*s+t[4],n[i++]=t[1]*a+t[3]*s+t[5]}}function Soe(r,t){var e=r.getUpdatedPathProxy(),n=t.getUpdatedPathProxy(),i=I7e(zI(e),zI(n)),a=i[0],s=i[1],o=r.getComputedTransform(),l=t.getComputedTransform();function u(){this.transform=null}o&&b$(a,o),l&&b$(s,l),j6(t,"updateTransform",{replace:u}),t.transform=null;var c=D7e(a,s,10,Math.PI),f=[];j6(t,"buildPath",{replace:function(h){for(var d=t.__morphT,A=1-d,p=[],g=0;g<c.length;g++){var m=c[g],v=m.from,y=m.to,b=m.rotation*d,_=m.fromCp,T=m.toCp,I=Math.sin(b),N=Math.cos(b);T2(p,_,T,d);for(var F=0;F<v.length;F+=2){var P=v[F],D=v[F+1],R=y[F],E=y[F+1],L=P*A+R*d,k=D*A+E*d;f[F]=L*N-k*I+p[0],f[F+1]=L*I+k*N+p[1]}var w=f[0],C=f[1];h.moveTo(w,C);for(var F=2;F<v.length;){var R=f[F++],E=f[F++],S=f[F++],B=f[F++],O=f[F++],V=f[F++];w===R&&C===E&&S===O&&B===V?h.lineTo(O,V):h.bezierCurveTo(R,E,S,B,O,V),w=O,C=V}}}})}function JP(r,t,e){if(!r||!t)return t;var n=e.done,i=e.during;Soe(r,t),t.__morphT=0;function a(){j2(t,"buildPath"),j2(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},sr({during:function(s){t.dirtyShape(),i&&i(s)},done:function(){a(),n&&n()}},e)),t}function P7e(r,t,e,n,i,a){var s=16;r=i===e?0:Math.round(32767*(r-e)/(i-e)),t=a===n?0:Math.round(32767*(t-n)/(a-n));for(var o=0,l,u=(1<<s)/2;u>0;u/=2){var c=0,f=0;(r&u)>0&&(c=1),(t&u)>0&&(f=1),o+=u*u*(3*c^f),f===0&&(c===1&&(r=u-1-r,t=u-1-t),l=r,r=t,t=l)}return o}function U6(r){var t=1/0,e=1/0,n=-1/0,i=-1/0,a=wt(r,function(o){var l=o.getBoundingRect(),u=o.getComputedTransform(),c=l.x+l.width/2+(u?u[4]:0),f=l.y+l.height/2+(u?u[5]:0);return t=Math.min(c,t),e=Math.min(f,e),n=Math.max(c,n),i=Math.max(f,i),[c,f]}),s=wt(a,function(o,l){return{cp:o,z:P7e(o[0],o[1],t,e,n,i),path:r[l]}});return s.sort(function(o,l){return o.z-l.z}).map(function(o){return o.path})}function Coe(r){return N7e(r.path,r.count)}function GI(){return{fromIndividuals:[],toIndividuals:[],count:0}}function R7e(r,t,e){var n=[];function i(_){for(var T=0;T<_.length;T++){var I=_[T];O6(I)?i(I.childrenRef()):I instanceof Xr&&n.push(I)}}i(r);var a=n.length;if(!a)return GI();var s=e.dividePath||Coe,o=s({path:t,count:a});if(o.length!==a)return console.error("Invalid morphing: unmatched splitted path"),GI();n=U6(n),o=U6(o);for(var l=e.done,u=e.during,c=e.individualDelay,f=new _h,h=0;h<a;h++){var d=n[h],A=o[h];A.parent=t,A.copyTransform(f),c||Soe(d,A)}t.__isCombineMorphing=!0,t.childrenRef=function(){return o};function p(_){for(var T=0;T<o.length;T++)o[T].addSelfToZr(_)}j6(t,"addSelfToZr",{after:function(_){p(_)}}),j6(t,"removeSelfFromZr",{after:function(_){for(var T=0;T<o.length;T++)o[T].removeSelfFromZr(_)}});function g(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,j2(t,"addSelfToZr"),j2(t,"removeSelfFromZr")}var m=o.length;if(c)for(var v=m,y=function(){v--,v===0&&(g(),l&&l())},h=0;h<m;h++){var b=c?sr({delay:(e.delay||0)+c(h,m,n[h],o[h]),done:y},e):e;JP(n[h],o[h],b)}else t.__morphT=0,t.animateTo({__morphT:1},sr({during:function(_){for(var T=0;T<m;T++){var I=o[T];I.__morphT=t.__morphT,I.dirtyShape()}u&&u(_)},done:function(){g();for(var _=0;_<r.length;_++)j2(r[_],"updateTransform");l&&l()}},e));return t.__zr&&p(t.__zr),{fromIndividuals:n,toIndividuals:o,count:m}}function O7e(r,t,e){var n=t.length,i=[],a=e.dividePath||Coe;function s(d){for(var A=0;A<d.length;A++){var p=d[A];O6(p)?s(p.childrenRef()):p instanceof Xr&&i.push(p)}}if(O6(r)){s(r.childrenRef());var o=i.length;if(o<n)for(var l=0,u=o;u<n;u++)i.push(WD(i[l++%o]));i.length=n}else{i=a({path:r,count:n});for(var c=r.getComputedTransform(),u=0;u<i.length;u++)i[u].setLocalTransform(c);if(i.length!==n)return console.error("Invalid morphing: unmatched splitted path"),GI()}i=U6(i),t=U6(t);for(var f=e.individualDelay,u=0;u<n;u++){var h=f?sr({delay:(e.delay||0)+f(u,n,i[u],t[u])},e):e;JP(i[u],t[u],h)}return{fromIndividuals:i,toIndividuals:t,count:t.length}}function w$(r){return xt(r[0])}function _$(r,t){for(var e=[],n=r.length,i=0;i<n;i++)e.push({one:r[i],many:[]});for(var i=0;i<t.length;i++){var a=t[i].length,s=void 0;for(s=0;s<a;s++)e[s%n].many.push(t[i][s])}for(var o=0,i=n-1;i>=0;i--)if(!e[i].many.length){var l=e[o].many;if(l.length<=1)if(o)o=0;else return e;var a=l.length,u=Math.ceil(a/2);e[i].many=l.slice(u,a),e[o].many=l.slice(0,u),o++}return e}var j7e={clone:function(r){for(var t=[],e=1-Math.pow(1-r.path.style.opacity,1/r.count),n=0;n<r.count;n++){var i=WD(r.path);i.setStyle("opacity",e),t.push(i)}return t},split:null};function yk(r,t,e,n,i,a){if(!r.length||!t.length)return;var s=ry("update",n,i);if(!(s&&s.duration>0))return;var o=n.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},s),u,c;w$(r)&&(u=r,c=t),w$(t)&&(u=t,c=r);function f(m,v,y,b,_){var T=m.many,I=m.one;if(T.length===1&&!_){var N=v?T[0]:I,F=v?I:T[0];if(O6(N))f({many:[N],one:F},!0,y,b,!0);else{var P=o?sr({delay:o(y,b)},l):l;JP(N,F,P),a(N,F,N,F,P)}}else for(var D=sr({dividePath:j7e[e],individualDelay:o&&function(C,S,B,O){return o(C+y,b)}},l),R=v?R7e(T,I,D):O7e(I,T,D),E=R.fromIndividuals,L=R.toIndividuals,k=E.length,w=0;w<k;w++){var P=o?sr({delay:o(w,k)},l):l;a(E[w],L[w],v?T[w]:m.one,v?m.one:T[w],P)}}for(var h=u?u===r:r.length>t.length,d=u?_$(c,u):_$(h?t:r,[h?r:t]),A=0,p=0;p<d.length;p++)A+=d[p].many.length;for(var g=0,p=0;p<d.length;p++)f(d[p],h,g,A),g+=d[p].many.length}function pp(r){if(!r)return[];if(xt(r)){for(var t=[],e=0;e<r.length;e++)t.push(pp(r[e]));return t}var n=[];return r.traverse(function(i){i instanceof Xr&&!i.disableMorphing&&!i.invisible&&!i.ignore&&n.push(i)}),n}var Boe=1e4,U7e=0,S$=1,C$=2,H7e=Kr();function Q7e(r,t){for(var e=r.dimensions,n=0;n<e.length;n++){var i=r.getDimensionInfo(e[n]);if(i&&i.otherDims[t]===0)return e[n]}}function z7e(r,t,e){var n=r.getDimensionInfo(e),i=n&&n.ordinalMeta;if(n){var a=r.get(n.name,t);return i&&i.categories[a]||a+""}}function B$(r,t,e,n){var i=n?"itemChildGroupId":"itemGroupId",a=Q7e(r,i);if(a){var s=z7e(r,t,a);return s}var o=r.getRawDataItem(t),l=n?"childGroupId":"groupId";if(o&&o[l])return o[l]+"";if(!n)return e||r.getId(t)}function T$(r){var t=[];return se(r,function(e){var n=e.data,i=e.dataGroupId;if(!(n.count()>Boe))for(var a=n.getIndices(),s=0;s<a.length;s++)t.push({data:n,groupId:B$(n,s,i,!1),childGroupId:B$(n,s,i,!0),divide:e.divide,dataIndex:s})}),t}function xk(r,t,e){r.traverse(function(n){n instanceof Xr&&ni(n,{style:{opacity:0}},t,{dataIndex:e,isFrom:!0})})}function bk(r){if(r.parent){var t=r.getComputedTransform();r.setLocalTransform(t),r.parent.remove(r)}}function Im(r){r.stopAnimation(),r.isGroup&&r.traverse(function(t){t.stopAnimation()})}function V7e(r,t,e){var n=ry("update",e,t);n&&r.traverse(function(i){if(i instanceof Nu){var a=o1e(i);a&&i.animateFrom({style:a},n)}})}function G7e(r,t){var e=r.length;if(e!==t.length)return!1;for(var n=0;n<e;n++){var i=r[n],a=t[n];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function Toe(r,t,e){var n=T$(r),i=T$(t);function a(y,b,_,T,I){(_||y)&&b.animateFrom({style:_&&_!==y?pt(pt({},_.style),y.style):y.style},I)}var s=!1,o=U7e,l=Xt(),u=Xt();n.forEach(function(y){y.groupId&&l.set(y.groupId,!0),y.childGroupId&&u.set(y.childGroupId,!0)});for(var c=0;c<i.length;c++){var f=i[c].groupId;if(u.get(f)){o=S$;break}var h=i[c].childGroupId;if(h&&l.get(h)){o=C$;break}}function d(y,b){return function(_){var T=_.data,I=_.dataIndex;return b?T.getId(I):y?o===S$?_.childGroupId:_.groupId:o===C$?_.childGroupId:_.groupId}}var A=G7e(n,i),p={};if(!A)for(var c=0;c<i.length;c++){var g=i[c],m=g.data.getItemGraphicEl(g.dataIndex);m&&(p[m.id]=!0)}function v(y,b){var _=n[b],T=i[y],I=T.data.hostModel,N=_.data.getItemGraphicEl(_.dataIndex),F=T.data.getItemGraphicEl(T.dataIndex);if(N===F){F&&V7e(F,T.dataIndex,I);return}N&&p[N.id]||F&&(Im(F),N?(Im(N),bk(N),s=!0,yk(pp(N),pp(F),T.divide,I,y,a)):xk(F,I,y))}new Gh(n,i,d(!0,A),d(!1,A),null,"multiple").update(v).updateManyToOne(function(y,b){var _=i[y],T=_.data,I=T.hostModel,N=T.getItemGraphicEl(_.dataIndex),F=dn(wt(b,function(P){return n[P].data.getItemGraphicEl(n[P].dataIndex)}),function(P){return P&&P!==N&&!p[P.id]});N&&(Im(N),F.length?(se(F,function(P){Im(P),bk(P)}),s=!0,yk(pp(F),pp(N),_.divide,I,y,a)):xk(N,I,_.dataIndex))}).updateOneToMany(function(y,b){var _=n[b],T=_.data.getItemGraphicEl(_.dataIndex);if(!(T&&p[T.id])){var I=dn(wt(y,function(F){return i[F].data.getItemGraphicEl(i[F].dataIndex)}),function(F){return F&&F!==T}),N=i[y[0]].data.hostModel;I.length&&(se(I,function(F){return Im(F)}),T?(Im(T),bk(T),s=!0,yk(pp(T),pp(I),_.divide,N,y[0],a)):se(I,function(F){return xk(F,N,y[0])}))}}).updateManyToMany(function(y,b){new Gh(b,y,function(_){return n[_].data.getId(n[_].dataIndex)},function(_){return i[_].data.getId(i[_].dataIndex)}).update(function(_,T){v(y[_],b[T])}).execute()}).execute(),s&&se(t,function(y){var b=y.data,_=b.hostModel,T=_&&e.getViewOfSeriesModel(_),I=ry("update",_,0);T&&_.isAnimationEnabled()&&I&&I.duration>0&&T.group.traverse(function(N){N instanceof Xr&&!N.animators.length&&N.animateFrom({style:{opacity:0}},I)})})}function E$(r){var t=r.getModel("universalTransition").get("seriesKey");return t||r.id}function k$(r){return xt(r)?r.sort().join(","):r}function Wd(r){if(r.hostModel)return r.hostModel.getModel("universalTransition").get("divideShape")}function W7e(r,t){var e=Xt(),n=Xt(),i=Xt();return se(r.oldSeries,function(a,s){var o=r.oldDataGroupIds[s],l=r.oldData[s],u=E$(a),c=k$(u);n.set(c,{dataGroupId:o,data:l}),xt(u)&&se(u,function(f){i.set(f,{key:c,dataGroupId:o,data:l})})}),se(t.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var s=a.get("dataGroupId"),o=a.getData(),l=E$(a),u=k$(l),c=n.get(u);if(c)e.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:Wd(c.data),data:c.data}],newSeries:[{dataGroupId:s,divide:Wd(o),data:o}]});else if(xt(l)){var f=[];se(l,function(A){var p=n.get(A);p.data&&f.push({dataGroupId:p.dataGroupId,divide:Wd(p.data),data:p.data})}),f.length&&e.set(u,{oldSeries:f,newSeries:[{dataGroupId:s,data:o,divide:Wd(o)}]})}else{var h=i.get(l);if(h){var d=e.get(h.key);d||(d={oldSeries:[{dataGroupId:h.dataGroupId,data:h.data,divide:Wd(h.data)}],newSeries:[]},e.set(h.key,d)),d.newSeries.push({dataGroupId:s,data:o,divide:Wd(o)})}}}}),e}function N$(r,t){for(var e=0;e<r.length;e++){var n=t.seriesIndex!=null&&t.seriesIndex===r[e].seriesIndex||t.seriesId!=null&&t.seriesId===r[e].id;if(n)return e}}function $7e(r,t,e,n){var i=[],a=[];se(Un(r.from),function(s){var o=N$(t.oldSeries,s);o>=0&&i.push({dataGroupId:t.oldDataGroupIds[o],data:t.oldData[o],divide:Wd(t.oldData[o]),groupIdDim:s.dimension})}),se(Un(r.to),function(s){var o=N$(e.updatedSeries,s);if(o>=0){var l=e.updatedSeries[o].getData();a.push({dataGroupId:t.oldDataGroupIds[o],data:l,divide:Wd(l),groupIdDim:s.dimension})}}),i.length>0&&a.length>0&&Toe(i,a,n)}function K7e(r){r.registerUpdateLifecycle("series:beforeupdate",function(t,e,n){se(Un(n.seriesTransition),function(i){se(Un(i.to),function(a){for(var s=n.updatedSeries,o=0;o<s.length;o++)(a.seriesIndex!=null&&a.seriesIndex===s[o].seriesIndex||a.seriesId!=null&&a.seriesId===s[o].id)&&(s[o][H3]=!0)})})}),r.registerUpdateLifecycle("series:transition",function(t,e,n){var i=H7e(e);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var a=n.seriesTransition;if(a)se(Un(a),function(d){$7e(d,i,n,e)});else{var s=W7e(i,n);se(s.keys(),function(d){var A=s.get(d);Toe(A.oldSeries,A.newSeries,e)})}se(n.updatedSeries,function(d){d[H3]&&(d[H3]=!1)})}for(var o=t.getSeries(),l=i.oldSeries=[],u=i.oldDataGroupIds=[],c=i.oldData=[],f=0;f<o.length;f++){var h=o[f].getData();h.count()<Boe&&(l.push(o[f]),u.push(o[f].get("dataGroupId")),c.push(h))}})}var q7e=function(){function r(){this.breaks=[],this._elapsedExtent=[1/0,-1/0]}return r.prototype.setBreaks=function(t){this.breaks=t.breaks},r.prototype.update=function(t){Y7e(this,t);var e=this._elapsedExtent;e[0]=this.elapse(t[0]),e[1]=this.elapse(t[1])},r.prototype.hasBreaks=function(){return!!this.breaks.length},r.prototype.calcNiceTickMultiple=function(t,e){for(var n=0;n<this.breaks.length;n++){var i=this.breaks[n];if(i.vmin<t&&t<i.vmax){var a=e(t,i.vmax);return a}}return 0},r.prototype.getExtentSpan=function(){return this._elapsedExtent[1]-this._elapsedExtent[0]},r.prototype.normalize=function(t){var e=this._elapsedExtent[1]-this._elapsedExtent[0];return e===0?.5:(this.elapse(t)-this._elapsedExtent[0])/e},r.prototype.scale=function(t){return this.unelapse(t*(this._elapsedExtent[1]-this._elapsedExtent[0])+this._elapsedExtent[0])},r.prototype.elapse=function(t){for(var e=F$,n=I$,i=!0,a=0;a<this.breaks.length;a++){var s=this.breaks[a];if(t<=s.vmax){t>s.vmin?e+=s.vmin-n+(t-s.vmin)/(s.vmax-s.vmin)*s.gapReal:e+=t-n,n=s.vmax,i=!1;break}e+=s.vmin-n+s.gapReal,n=s.vmax}return i&&(e+=t-n),e},r.prototype.unelapse=function(t){for(var e=F$,n=I$,i=!0,a=0,s=0;s<this.breaks.length;s++){var o=this.breaks[s],l=e+o.vmin-n,u=l+o.gapReal;if(t<=u){t>l?a=o.vmin+(t-l)/(u-l)*(o.vmax-o.vmin):a=n+t-e,n=o.vmax,i=!1;break}e=u,n=o.vmax}return i&&(a=n+t-e),a},r}();function X7e(){return new q7e}var F$=0,I$=0;function Y7e(r,t){var e=0,n={tpAbs:{span:0,val:0},tpPrct:{span:0,val:0}},i=function(){return{has:!1,span:NaN,inExtFrac:NaN,val:NaN}},a={S:{tpAbs:i(),tpPrct:i()},E:{tpAbs:i(),tpPrct:i()}};se(r.breaks,function(o){var l=o.gapParsed;l.type==="tpPrct"&&(e+=l.val);var u=eR(o,t);if(u){var c=u.vmin!==o.vmin,f=u.vmax!==o.vmax,h=u.vmax-u.vmin;if(!(c&&f))if(c||f){var d=c?"S":"E";a[d][l.type].has=!0,a[d][l.type].span=h,a[d][l.type].inExtFrac=h/(o.vmax-o.vmin),a[d][l.type].val=l.val}else n[l.type].span+=h,n[l.type].val+=l.val}});var s=e*(0+(t[1]-t[0])+(n.tpAbs.val-n.tpAbs.span)+(a.S.tpAbs.has?(a.S.tpAbs.val-a.S.tpAbs.span)*a.S.tpAbs.inExtFrac:0)+(a.E.tpAbs.has?(a.E.tpAbs.val-a.E.tpAbs.span)*a.E.tpAbs.inExtFrac:0)-n.tpPrct.span-(a.S.tpPrct.has?a.S.tpPrct.span*a.S.tpPrct.inExtFrac:0)-(a.E.tpPrct.has?a.E.tpPrct.span*a.E.tpPrct.inExtFrac:0))/(1-n.tpPrct.val-(a.S.tpPrct.has?a.S.tpPrct.val*a.S.tpPrct.inExtFrac:0)-(a.E.tpPrct.has?a.E.tpPrct.val*a.E.tpPrct.inExtFrac:0));se(r.breaks,function(o){var l=o.gapParsed;l.type==="tpPrct"&&(o.gapReal=e!==0?Math.max(s,0)*l.val/e:0),l.type==="tpAbs"&&(o.gapReal=l.val),o.gapReal==null&&(o.gapReal=0)})}function Z7e(r,t,e,n,i,a){r!=="no"&&se(e,function(s){var o=eR(s,a);if(o)for(var l=t.length-1;l>=0;l--){var u=t[l],c=n(u),f=i*3/4;c>o.vmin-f&&c<o.vmax+f&&(r!=="preserve_extent_bound"||c!==a[0]&&c!==a[1])&&t.splice(l,1)}})}function J7e(r,t,e,n){se(t,function(i){var a=eR(i,e);a&&(r.push({value:a.vmin,break:{type:"vmin",parsedBreak:a},time:n?n(a):void 0}),r.push({value:a.vmax,break:{type:"vmax",parsedBreak:a},time:n?n(a):void 0}))}),t.length&&r.sort(function(i,a){return i.value-a.value})}function eR(r,t){var e=Math.max(r.vmin,t[0]),n=Math.min(r.vmax,t[1]);return e<n||e===n&&e>t[0]&&e<t[1]?{vmin:e,vmax:n,breakOption:r.breakOption,gapParsed:r.gapParsed,gapReal:r.gapReal}:null}function WI(r,t,e){var n=[];if(!r)return{breaks:n};function i(s,o){return s>=0&&s<1-1e-5}se(r,function(s){if(!(!s||s.start==null||s.end==null)&&!s.isExpanded){var o={breakOption:nr(s),vmin:t(s.start),vmax:t(s.end),gapParsed:{type:"tpAbs",val:0},gapReal:null};if(s.gap!=null){var l=!1;if(Ht(s.gap)){var u=Ml(s.gap);if(u.match(/%$/)){var c=parseFloat(u)/100;i(c)||(c=0),o.gapParsed.type="tpPrct",o.gapParsed.val=c,l=!0}}if(!l){var f=t(s.gap);(!isFinite(f)||f<0)&&(f=0),o.gapParsed.type="tpAbs",o.gapParsed.val=f}}if(o.vmin===o.vmax&&(o.gapParsed.type="tpAbs",o.gapParsed.val=0),e&&e.noNegative&&se(["vmin","vmax"],function(d){o[d]<0&&(o[d]=0)}),o.vmin>o.vmax){var h=o.vmax;o.vmax=o.vmin,o.vmin=h}n.push(o)}}),n.sort(function(s,o){return s.vmin-o.vmin});var a=-1/0;return se(n,function(s,o){a>s.vmin&&(n[o]=null),a=s.vmax}),{breaks:n.filter(function(s){return!!s})}}function tR(r,t){return $I(t)===$I(r)}function $I(r){return r.start+"_\0_"+r.end}function eFe(r,t,e){var n=[];se(r,function(a,s){var o=t(a);o&&o.type==="vmin"&&n.push([s])}),se(r,function(a,s){var o=t(a);if(o&&o.type==="vmax"){var l=c0(n,function(u){return tR(t(r[u[0]]).parsedBreak.breakOption,o.parsedBreak.breakOption)});l&&l.push(s)}});var i=[];return se(n,function(a){a.length===2&&i.push(e?a:[r[a[0]],r[a[1]]])}),i}function tFe(r,t,e,n){var i,a;if(r.break){var s=r.break.parsedBreak,o=c0(e,function(f){return tR(f.breakOption,r.break.parsedBreak.breakOption)}),l=n(Math.pow(t,s.vmin),o.vmin),u=n(Math.pow(t,s.vmax),o.vmax),c={type:s.gapParsed.type,val:s.gapParsed.type==="tpAbs"?ta(Math.pow(t,s.vmin+s.gapParsed.val))-l:s.gapParsed.val};i={type:r.break.type,parsedBreak:{breakOption:s.breakOption,vmin:l,vmax:u,gapParsed:c,gapReal:s.gapReal}},a=o[r.break.type]}return{brkRoundingCriterion:a,vBreak:i}}function rFe(r,t,e){var n={noNegative:!0},i=WI(r,e,n),a=WI(r,e,n),s=Math.log(t);return a.breaks=wt(a.breaks,function(o){var l=Math.log(o.vmin)/s,u=Math.log(o.vmax)/s,c={type:o.gapParsed.type,val:o.gapParsed.type==="tpAbs"?Math.log(o.vmin+o.gapParsed.val)/s-l:o.gapParsed.val};return{vmin:l,vmax:u,gapParsed:c,gapReal:o.gapReal,breakOption:o.breakOption}}),{parsedOriginal:i,parsedLogged:a}}var nFe={vmin:"start",vmax:"end"};function iFe(r,t){return t&&(r=r||{},r.break={type:nFe[t.type],start:t.parsedBreak.vmin,end:t.parsedBreak.vmax}),r}function aFe(){T1e({createScaleBreakContext:X7e,pruneTicksByBreak:Z7e,addBreaksToTicks:J7e,parseAxisBreakOption:WI,identifyAxisBreak:tR,serializeAxisBreakIdentifier:$I,retrieveAxisBreakPairs:eFe,getTicksLogTransformBreak:tFe,logarithmicParseBreaksFromOption:rFe,makeAxisLabelFormatterParamBreak:iFe})}var M$=Kr();function sFe(r,t){var e=c0(r,function(n){return ma().identifyAxisBreak(n.parsedBreak.breakOption,t.breakOption)});return e||r.push(e={zigzagRandomList:[],parsedBreak:t,shouldRemove:!1}),e}function oFe(r){se(r,function(t){return t.shouldRemove=!0})}function lFe(r){for(var t=r.length-1;t>=0;t--)r[t].shouldRemove&&r.splice(t,1)}function uFe(r,t,e,n,i){var a=e.axis;if(a.scale.isBlank()||!ma())return;var s=ma().retrieveAxisBreakPairs(a.scale.getTicks({breakTicks:"only_break"}),function(F){return F.break},!1);if(!s.length)return;var o=e.getModel("breakArea"),l=o.get("zigzagAmplitude"),u=o.get("zigzagMinSpan"),c=o.get("zigzagMaxSpan");u=Math.max(2,u||0),c=Math.max(u,c||0);var f=o.get("expandOnClick"),h=o.get("zigzagZ"),d=o.getModel("itemStyle"),A=d.getItemStyle(),p=A.stroke,g=A.lineWidth,m=A.lineDash,v=A.fill,y=new ir({ignoreModelZ:!0}),b=a.isHorizontal(),_=M$(t).visualList||(M$(t).visualList=[]);oFe(_);for(var T=function(F){var P=s[F][0].break.parsedBreak,D=[];D[0]=a.toGlobalCoord(a.dataToCoord(P.vmin,!0)),D[1]=a.toGlobalCoord(a.dataToCoord(P.vmax,!0)),D[1]<D[0]&&D.reverse();var R=sFe(_,P);R.shouldRemove=!1;var E=new ir;N(R.zigzagRandomList,E,D[0],D[1],b,P),f&&E.on("click",function(){var L={type:m8,breaks:[{start:P.breakOption.start,end:P.breakOption.end}]};L[a.dim+"AxisIndex"]=e.componentIndex,i.dispatchAction(L)}),E.silent=!f,y.add(E)},I=0;I<s.length;I++)T(I);r.add(y),lFe(_);function N(F,P,D,R,E,L){var k={stroke:p,lineWidth:g,lineDash:m,fill:"none"},w=E?0:1,C=1-w,S=n[Sr[C]]+n[va[C]];function B(ee){var ne=[],te=[];ne[w]=te[w]=ee,ne[C]=n[Sr[C]],te[C]=S;var le={x1:ne[0],y1:ne[1],x2:te[0],y2:te[1]};return r8(le,le,{lineWidth:1}),ne[0]=le.x1,ne[1]=le.y1,ne[w]}D=B(D),R=B(R);for(var O=[],V=[],M=!0,U=n[Sr[C]],Q=0;;Q++){var W=U===n[Sr[C]],j=U>=S;j&&(U=S);var X=[],z=[];X[w]=D,z[w]=R,!W&&!j&&(X[w]+=M?-l:l,z[w]-=M?l:-l),X[C]=U,z[C]=U,O.push(X),V.push(z);var H=void 0;if(Q<F.length?H=F[Q]:(H=Math.random(),F.push(H)),U+=H*(c-u)+u,M=!M,j)break}var K=ma().serializeAxisBreakIdentifier(L.breakOption);if(P.add(new gs({anid:"break_a_"+K,shape:{points:O},style:k,z:h})),L.gapReal!==0){P.add(new gs({anid:"break_b_"+K,shape:{points:V},style:k,z:h}));var Z=V.slice();Z.reverse();var ie=O.concat(Z);P.add(new Hs({anid:"break_c_"+K,shape:{points:ie},style:{fill:v,opacity:A.opacity},z:h}))}}}function cFe(r,t,e,n){var i=r.axis,a=e.transform;js(n.style);var s=i.getExtent();i.inverse&&(s=s.slice(),s.reverse());var o=ma().retrieveAxisBreakPairs(i.scale.getTicks({breakTicks:"only_break"}),function(g){return g.break},!1),l=wt(o,function(g){var m=g[0].break.parsedBreak,v=[i.dataToCoord(m.vmin,!0),i.dataToCoord(m.vmax,!0)];return v[0]>v[1]&&v.reverse(),{coordPair:v,brkId:ma().serializeAxisBreakIdentifier(m.breakOption)}});l.sort(function(g,m){return g.coordPair[0]-m.coordPair[0]});for(var u=s[0],c=null,f=0;f<l.length;f++){var h=l[f],d=Math.max(h.coordPair[0],s[0]),A=Math.min(h.coordPair[1],s[1]);u<=d&&p(u,d,c,h),u=A,c=h}u<=s[1]&&p(u,s[1],c,null);function p(g,m,v,y){function b(D,R){a&&(Oi(D,D,a),Oi(R,R,a))}function _(D,R){var E={x1:D[0],y1:D[1],x2:R[0],y2:R[1]};r8(E,E,n.style),D[0]=E.x1,D[1]=E.y1,R[0]=E.x2,R[1]=E.y2}var T=[g,0],I=[m,0],N=[g,5],F=[m,5];b(T,N),_(T,N),b(I,F),_(I,F),_(T,I);var P=new ra(pt({shape:{x1:T[0],y1:T[1],x2:I[0],y2:I[1]}},n));t.add(P),P.anid="breakLine_"+(v?v.brkId:"\0")+"_\0_"+(y?y.brkId:"\0")}}function fFe(r,t,e){if(c0(e,function(v){return!v}))return;var n=new cr;if(!p8(e[0],e[1],n,{direction:-(r?t+Math.PI:t),touchThreshold:0,bidirectional:!1}))return;var i=Ya();td(i,i,-t);var a=wt(e,function(v){return v.transform?dc(Ya(),i,v.transform):i});function s(v){var y=e[0].localRect,b=new cr(y[va[v]]*a[0][0],y[va[v]]*a[0][1]);return Math.abs(b.y)<1e-5}var o=.5;if(s(0)||s(1)){var l=wt(e,function(v,y){var b=v.localRect.clone();return b.applyTransform(a[y]),b}),u=new cr;u.copy(e[0].label).add(e[1].label).scale(.5),u.transform(i);var c=n.clone().transform(i),f=l[0].x+l[1].x+(c.x>=0?l[0].width:l[1].width),h=(f+c.x)/2-u.x,d=Math.min(h,h-c.x),A=Math.max(h,h-c.x),p=A<0?A:d>0?d:0;o=(h-p)/c.x}var g=new cr,m=new cr;cr.scale(g,n,-o),cr.scale(m,n,1-o),KF(e[0],g),KF(e[1],m)}function hFe(r,t){var e={breaks:[]};return se(t.breaks,function(n){if(n){var i=c0(r.get("breaks",!0),function(o){return ma().identifyAxisBreak(o,n)});if(i){var a=t.type,s={isExpanded:!!i.isExpanded};i.isExpanded=a===m8?!0:a===Kie?!1:a===qie?!i.isExpanded:i.isExpanded,e.breaks.push({start:i.start,end:i.end,isExpanded:!!i.isExpanded,old:s})}}}),e}function dFe(){l5e({adjustBreakLabelPair:fFe,buildAxisBreakLine:cFe,rectCoordBuildBreakAxis:uFe,updateModelAxisBreak:hFe})}function AFe(r){A5e(r),aFe(),dFe()}function pFe(){D5e(gFe)}function gFe(r,t){se(r,function(e){if(!e.model.get(["axisLabel","inside"])){var n=mFe(e);if(n){var i=e.isHorizontal()?"height":"width",a=e.model.get(["axisLabel","margin"]);t[i]-=n[i]+a,e.position==="top"?t.y+=n.height+a:e.position==="left"&&(t.x+=n.width+a)}}})}function mFe(r){var t=r.model,e=r.scale;if(!t.get(["axisLabel","show"])||e.isBlank())return;var n,i,a=e.getExtent();e instanceof M1?i=e.count():(n=e.getTicks(),i=n.length);var s=r.getLabelModel(),o=hy(r),l,u=1;i>40&&(u=Math.ceil(i/40));for(var c=0;c<i;c+=u){var f=n?n[c]:{value:a[0]+c},h=o(f,c),d=s.getTextRect(h),A=p(d,s.get("rotate")||0);l?l.union(A):l=A}return l;function p(g,m){var v=m*Math.PI/180,y=g.width,b=g.height,_=y*Math.abs(Math.cos(v))+Math.abs(b*Math.sin(v)),T=y*Math.abs(Math.sin(v))+Math.abs(b*Math.cos(v)),I=new fr(g.x,g.y,_,T);return I}}Or([s_e]);Or([t_e]);Or([B_e,H_e,Y_e,e4e,f4e,e3e,T3e,cSe,FSe,OSe,VSe,ZSe,G6e,pCe,BCe,QCe,WCe,r8e,u8e,x8e,B8e,P8e,xBe]);Or(jBe);Or(cTe);Or(bae);Or(wTe);Or(ose);Or(BTe);Or(WTe);Or(tEe);Or(HEe);Or(ske);Or(t_);Or(wke);Or(Cke);Or(Dke);Or(zke);Or(qke);Or(tNe);Or(fNe);Or(NNe);Or(doe);Or(Aoe);Or(XNe);Or(yoe);Or(xoe);Or(e7e);Or(a7e);Or(v7e);Or(b7e);Or(K7e);Or(bwe);Or(AFe);Or(pFe);Or(t4e);const vFe=Object.freeze(Object.defineProperty({__proto__:null,Axis:Du,ChartView:Nn,ComponentModel:$r,ComponentView:Hn,List:lo,Model:qr,PRIORITY:gne,SeriesModel:Ln,color:yge,connect:S2e,dataTool:I2e,dependencies:s2e,disConnect:C2e,disconnect:Sne,dispose:B2e,env:Zr,extendChartView:swe,extendComponentModel:nwe,extendComponentView:iwe,extendSeriesModel:awe,format:Qbe,getCoordinateSystemDimensions:E2e,getInstanceByDom:N9,getInstanceById:T2e,getMap:F2e,graphic:Hbe,helper:Mbe,init:_2e,innerDrawElementOnCanvas:B9,matrix:Kpe,number:jbe,parseGeoJSON:WF,parseGeoJson:WF,registerAction:Bc,registerCoordinateSystem:Tne,registerCustomSeries:k2e,registerLayout:Ene,registerLoading:D9,registerLocale:n9,registerMap:kne,registerPostInit:Cne,registerPostUpdate:Bne,registerPreprocessor:I9,registerProcessor:M9,registerTheme:F9,registerTransform:Nne,registerUpdateLifecycle:A8,registerVisual:A0,setCanvasCreator:N2e,setPlatformAPI:fee,throttle:h8,time:Ube,use:Or,util:zbe,vector:Mpe,version:a2e,zrUtil:Bpe,zrender:tme},Symbol.toStringTag,{value:"Module"}));var lg={},jA={},Eoe={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=1,e=function(){return"".concat(t++)};r.default=e})(Eoe);var B8={},T8={},rR={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,a=null;return function(){for(var s=this,o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];clearTimeout(a),a=setTimeout(function(){n.apply(s,l)},i)}};r.default=t})(rR);var wf={};Object.defineProperty(wf,"__esModule",{value:!0});wf.SizeSensorId=wf.SensorTabIndex=wf.SensorClassName=void 0;var yFe="size-sensor-id";wf.SizeSensorId=yFe;var xFe="size-sensor-object";wf.SensorClassName=xFe;var bFe="-1";wf.SensorTabIndex=bFe;Object.defineProperty(T8,"__esModule",{value:!0});T8.createSensor=void 0;var wFe=_Fe(rR),wk=wf;function _Fe(r){return r&&r.__esModule?r:{default:r}}var SFe=function(t,e){var n=void 0,i=[],a=function(){getComputedStyle(t).position==="static"&&(t.style.position="relative");var f=document.createElement("object");return f.onload=function(){f.contentDocument.defaultView.addEventListener("resize",s),s()},f.style.display="block",f.style.position="absolute",f.style.top="0",f.style.left="0",f.style.height="100%",f.style.width="100%",f.style.overflow="hidden",f.style.pointerEvents="none",f.style.zIndex="-1",f.style.opacity="0",f.setAttribute("class",wk.SensorClassName),f.setAttribute("tabindex",wk.SensorTabIndex),f.type="text/html",t.appendChild(f),f.data="about:blank",f},s=(0,wFe.default)(function(){i.forEach(function(c){c(t)})}),o=function(f){n||(n=a()),i.indexOf(f)===-1&&i.push(f)},l=function(){n&&n.parentNode&&(n.contentDocument&&n.contentDocument.defaultView.removeEventListener("resize",s),n.parentNode.removeChild(n),t.removeAttribute(wk.SizeSensorId),n=void 0,i=[],e&&e())},u=function(f){var h=i.indexOf(f);h!==-1&&i.splice(h,1),i.length===0&&n&&l()};return{element:t,bind:o,destroy:l,unbind:u}};T8.createSensor=SFe;var E8={};Object.defineProperty(E8,"__esModule",{value:!0});E8.createSensor=void 0;var CFe=wf,BFe=TFe(rR);function TFe(r){return r&&r.__esModule?r:{default:r}}var EFe=function(t,e){var n=void 0,i=[],a=(0,BFe.default)(function(){i.forEach(function(c){c(t)})}),s=function(){var f=new ResizeObserver(a);return f.observe(t),a(),f},o=function(f){n||(n=s()),i.indexOf(f)===-1&&i.push(f)},l=function(){n.disconnect(),i=[],n=void 0,t.removeAttribute(CFe.SizeSensorId),e&&e()},u=function(f){var h=i.indexOf(f);h!==-1&&i.splice(h,1),i.length===0&&n&&l()};return{element:t,bind:o,destroy:l,unbind:u}};E8.createSensor=EFe;Object.defineProperty(B8,"__esModule",{value:!0});B8.createSensor=void 0;var kFe=T8,NFe=E8,FFe=typeof ResizeObserver<"u"?NFe.createSensor:kFe.createSensor;B8.createSensor=FFe;Object.defineProperty(jA,"__esModule",{value:!0});jA.removeSensor=jA.getSensor=jA.Sensors=void 0;var IFe=LFe(Eoe),MFe=B8,KI=wf;function LFe(r){return r&&r.__esModule?r:{default:r}}var $v={};jA.Sensors=$v;function koe(r){r&&$v[r]&&delete $v[r]}var DFe=function(t){var e=t.getAttribute(KI.SizeSensorId);if(e&&$v[e])return $v[e];var n=(0,IFe.default)();t.setAttribute(KI.SizeSensorId,n);var i=(0,MFe.createSensor)(t,function(){return koe(n)});return $v[n]=i,i};jA.getSensor=DFe;var PFe=function(t){var e=t.element.getAttribute(KI.SizeSensorId);t.destroy(),koe(e)};jA.removeSensor=PFe;Object.defineProperty(lg,"__esModule",{value:!0});lg.ver=Foe=lg.clear=Noe=lg.bind=void 0;var qI=jA,RFe=function(t,e){var n=(0,qI.getSensor)(t);return n.bind(e),function(){n.unbind(e)}},Noe=lg.bind=RFe,OFe=function(t){var e=(0,qI.getSensor)(t);(0,qI.removeSensor)(e)},Foe=lg.clear=OFe,jFe="1.0.2";lg.ver=jFe;function L$(r,t){var e={};return t.forEach(function(n){e[n]=r[n]}),e}function _k(r){return typeof r=="function"}function D$(r){return typeof r=="string"}var UFe=function r(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,i,a;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(!r(t[i],e[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,a[i]))return!1;for(i=n;i--!==0;){var s=a[i];if(!r(t[s],e[s]))return!1}return!0}return t!==t&&e!==e};const Mm=yL(UFe);var HFe=function(r){Ge(t,r);function t(e){var n=r.call(this,e)||this;return n.echarts=e.echarts,n.ele=null,n.isInitialResize=!0,n}return t.prototype.componentDidMount=function(){this.renderNewEcharts()},t.prototype.componentDidUpdate=function(e){var n=this.props.shouldSetOption;if(!(_k(n)&&!n(e,this.props))){if(!Mm(e.theme,this.props.theme)||!Mm(e.opts,this.props.opts)){this.dispose(),this.renderNewEcharts();return}var i=this.getEchartsInstance();Mm(e.onEvents,this.props.onEvents)||(this.offEvents(i,e.onEvents),this.bindEvents(i,this.props.onEvents));var a=["option","notMerge","replaceMerge","lazyUpdate","showLoading","loadingOption"];Mm(L$(this.props,a),L$(e,a))||this.updateEChartsOption(),(!Mm(e.style,this.props.style)||!Mm(e.className,this.props.className))&&this.resize()}},t.prototype.componentWillUnmount=function(){this.dispose()},t.prototype.initEchartsInstance=function(){return rU(this,void 0,void 0,function(){var e=this;return nU(this,function(n){return[2,new Promise(function(i){e.echarts.init(e.ele,e.props.theme,e.props.opts);var a=e.getEchartsInstance();a.on("finished",function(){var s=e.ele.clientWidth,o=e.ele.clientHeight;e.echarts.dispose(e.ele);var l=S2({width:s,height:o},e.props.opts);i(e.echarts.init(e.ele,e.props.theme,l))})})]})})},t.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)},t.prototype.dispose=function(){if(this.ele){try{Foe(this.ele)}catch(e){console.warn(e)}this.echarts.dispose(this.ele)}},t.prototype.renderNewEcharts=function(){return rU(this,void 0,void 0,function(){var e,n,i,a,s,o,l=this;return nU(this,function(u){switch(u.label){case 0:return e=this.props,n=e.onEvents,i=e.onChartReady,a=e.autoResize,s=a===void 0?!0:a,[4,this.initEchartsInstance()];case 1:return u.sent(),o=this.updateEChartsOption(),this.bindEvents(o,n||{}),_k(i)&&i(o),this.ele&&s&&Noe(this.ele,function(){l.resize()}),[2]}})})},t.prototype.bindEvents=function(e,n){function i(s,o){D$(s)&&_k(o)&&e.on(s,function(l){o(l,e)})}for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&i(a,n[a])},t.prototype.offEvents=function(e,n){if(n)for(var i in n)D$(i)&&e.off(i,n[i])},t.prototype.updateEChartsOption=function(){var e=this.props,n=e.option,i=e.notMerge,a=i===void 0?!1:i,s=e.replaceMerge,o=s===void 0?null:s,l=e.lazyUpdate,u=l===void 0?!1:l,c=e.showLoading,f=e.loadingOption,h=f===void 0?null:f,d=this.getEchartsInstance();return d.setOption(n,{notMerge:a,replaceMerge:o,lazyUpdate:u}),c?d.showLoading(h):d.hideLoading(),d},t.prototype.resize=function(){var e=this.getEchartsInstance();if(!this.isInitialResize)try{e.resize({width:"auto",height:"auto"})}catch(n){console.warn(n)}this.isInitialResize=!1},t.prototype.render=function(){var e=this,n=this.props,i=n.style,a=n.className,s=a===void 0?"":a;n.echarts,n.option,n.theme,n.notMerge,n.replaceMerge,n.lazyUpdate,n.showLoading,n.loadingOption,n.opts,n.onChartReady,n.onEvents,n.shouldSetOption,n.autoResize;var o=lpe(n,["style","className","echarts","option","theme","notMerge","replaceMerge","lazyUpdate","showLoading","loadingOption","opts","onChartReady","onEvents","shouldSetOption","autoResize"]),l=S2({height:300},i);return QN.createElement("div",S2({ref:function(u){e.ele=u},style:l,className:"echarts-for-react ".concat(s)},o))},t}(Ce.PureComponent),QFe=function(r){Ge(t,r);function t(e){var n=r.call(this,e)||this;return n.echarts=vFe,n}return t}(HFe);const zFe="modulepreload",VFe=function(r){return"/"+r},P$={},UA=function(t,e,n){let i=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(e.map(l=>{if(l=VFe(l),l in P$)return;P$[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":zFe,u||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,d)=>{f.addEventListener("load",h),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},GFe=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>UA(async()=>{const{default:n}=await Promise.resolve().then(()=>my);return{default:n}},void 0).then(({default:n})=>n(...e)):t=fetch,(...e)=>t(...e)};class nR extends Error{constructor(t,e="FunctionsError",n){super(t),this.name=e,this.context=n}}class WFe extends nR{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class R$ extends nR{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class O$ extends nR{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var XI;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(XI||(XI={}));var $Fe=function(r,t,e,n){function i(a){return a instanceof e?a:new e(function(s){s(a)})}return new(e||(e=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(r,t||[])).next())})};class KFe{constructor(t,{headers:e={},customFetch:n,region:i=XI.Any}={}){this.url=t,this.headers=e,this.region=i,this.fetch=GFe(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var n;return $Fe(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=e;let o={},{region:l}=e;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(o["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(o["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(o["Content-Type"]="application/json",c=JSON.stringify(s)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:c}).catch(p=>{throw new WFe(p)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new R$(f);if(!f.ok)throw new O$(f);let d=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),A;return d==="application/json"?A=yield f.json():d==="application/octet-stream"?A=yield f.blob():d==="text/event-stream"?A=f:d==="multipart/form-data"?A=yield f.formData():A=yield f.text(),{data:A,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof O$||i instanceof R$?i.context:void 0}}})}}var qo={},iR={},k8={},r_={},N8={},F8={},qFe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},H1=qFe();const XFe=H1.fetch,Ioe=H1.fetch.bind(H1),Moe=H1.Headers,YFe=H1.Request,ZFe=H1.Response,my=Object.freeze(Object.defineProperty({__proto__:null,Headers:Moe,Request:YFe,Response:ZFe,default:Ioe,fetch:XFe},Symbol.toStringTag,{value:"Module"})),JFe=mde(my);var I8={};Object.defineProperty(I8,"__esModule",{value:!0});let eIe=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};I8.default=eIe;var Loe=Hr&&Hr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(F8,"__esModule",{value:!0});const tIe=Loe(JFe),rIe=Loe(I8);let nIe=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=tIe.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,o,l,u;let c=null,f=null,h=null,d=a.status,A=a.statusText;if(a.ok){if(this.method!=="HEAD"){const v=await a.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?f=v:f=JSON.parse(v))}const g=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),m=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&m&&m.length>1&&(h=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,d=406,A="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const g=await a.text();try{c=JSON.parse(g),Array.isArray(c)&&a.status===404&&(f=[],c=null,d=200,A="OK")}catch{a.status===404&&g===""?(d=204,A="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,d=200,A="OK"),c&&this.shouldThrowOnError)throw new rIe.default(c)}return{error:c,data:f,count:h,status:d,statusText:A}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,o,l;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}};F8.default=nIe;var iIe=Hr&&Hr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(N8,"__esModule",{value:!0});const aIe=iIe(F8);let sIe=class extends aIe.default{select(t){let e=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var o;const l=[t?"analyze":null,e?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};N8.default=sIe;var oIe=Hr&&Hr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(r_,"__esModule",{value:!0});const lIe=oIe(N8);let uIe=class extends lIe.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}};r_.default=uIe;var cIe=Hr&&Hr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(k8,"__esModule",{value:!0});const Fx=cIe(r_);let fIe=class{constructor(t,{headers:e={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=i}select(t,{head:e=!1,count:n}={}){const i=e?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),n&&this.headers.append("Prefer",`count=${n}`),new Fx.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var i;const a="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Fx.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){var s;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Fx.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var n;const i="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Fx.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Fx.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}};k8.default=fIe;var Doe=Hr&&Hr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(iR,"__esModule",{value:!0});const hIe=Doe(k8),dIe=Doe(r_);let AIe=class Poe{constructor(t,{headers:e={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(e),this.schemaName=n,this.fetch=i}from(t){const e=new URL(`${this.url}/${t}`);return new hIe.default(e,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Poe(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:n=!1,get:i=!1,count:a}={}){var s;let o;const l=new URL(`${this.url}/rpc/${t}`);let u;n||i?(o=n?"HEAD":"GET",Object.entries(e).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(o="POST",u=e);const c=new Headers(this.headers);return a&&c.set("Prefer",`count=${a}`),new dIe.default({method:o,url:l,headers:c,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};iR.default=AIe;var vy=Hr&&Hr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(qo,"__esModule",{value:!0});qo.PostgrestError=qo.PostgrestBuilder=qo.PostgrestTransformBuilder=qo.PostgrestFilterBuilder=qo.PostgrestQueryBuilder=qo.PostgrestClient=void 0;const Roe=vy(iR);qo.PostgrestClient=Roe.default;const Ooe=vy(k8);qo.PostgrestQueryBuilder=Ooe.default;const joe=vy(r_);qo.PostgrestFilterBuilder=joe.default;const Uoe=vy(N8);qo.PostgrestTransformBuilder=Uoe.default;const Hoe=vy(F8);qo.PostgrestBuilder=Hoe.default;const Qoe=vy(I8);qo.PostgrestError=Qoe.default;var pIe=qo.default={PostgrestClient:Roe.default,PostgrestQueryBuilder:Ooe.default,PostgrestFilterBuilder:joe.default,PostgrestTransformBuilder:Uoe.default,PostgrestBuilder:Hoe.default,PostgrestError:Qoe.default};const{PostgrestClient:gIe,PostgrestQueryBuilder:xJe,PostgrestFilterBuilder:bJe,PostgrestTransformBuilder:wJe,PostgrestBuilder:_Je,PostgrestError:SJe}=pIe;class mIe{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const e=process.versions;if(e&&e.node){const n=e.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let e=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(e+=`

Suggested solution: ${t.workaround}`),new Error(e)}static createWebSocket(t,e){const n=this.getWebSocketConstructor();return new n(t,e)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const vIe="2.15.5",yIe=`realtime-js/${vIe}`,xIe="1.0.0",YI=1e4,bIe=1e3,wIe=100;var U2;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(U2||(U2={}));var Ha;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Ha||(Ha={}));var nc;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(nc||(nc={}));var ZI;(function(r){r.websocket="websocket"})(ZI||(ZI={}));var wp;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(wp||(wp={}));class _Ie{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const e=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,e,n)}_decodeBroadcast(t,e,n){const i=e.getUint8(1),a=e.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+i));s=s+i;const l=n.decode(t.slice(s,s+a));s=s+a;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class zoe{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mi;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(mi||(mi={}));const j$=(r,t,e={})=>{var n;const i=(n=e.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,s)=>(a[s]=SIe(s,r,t,i),a),{})},SIe=(r,t,e,n)=>{const i=t.find(o=>o.name===r),a=i==null?void 0:i.type,s=e[r];return a&&!n.includes(a)?Voe(a,s):JI(s)},Voe=(r,t)=>{if(r.charAt(0)==="_"){const e=r.slice(1,r.length);return EIe(t,e)}switch(r){case mi.bool:return CIe(t);case mi.float4:case mi.float8:case mi.int2:case mi.int4:case mi.int8:case mi.numeric:case mi.oid:return BIe(t);case mi.json:case mi.jsonb:return TIe(t);case mi.timestamp:return kIe(t);case mi.abstime:case mi.date:case mi.daterange:case mi.int4range:case mi.int8range:case mi.money:case mi.reltime:case mi.text:case mi.time:case mi.timestamptz:case mi.timetz:case mi.tsrange:case mi.tstzrange:return JI(t);default:return JI(t)}},JI=r=>r,CIe=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},BIe=r=>{if(typeof r=="string"){const t=parseFloat(r);if(!Number.isNaN(t))return t}return r},TIe=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(t){return console.log(`JSON parse error: ${t}`),r}return r},EIe=(r,t)=>{if(typeof r!="string")return r;const e=r.length-1,n=r[e];if(r[0]==="{"&&n==="}"){let a;const s=r.slice(1,e);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>Voe(t,o))}return r},kIe=r=>typeof r=="string"?r.replace(" ","T"):r,Goe=r=>{let t=r;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Sk{constructor(t,e,n={},i=YI){this.channel=t,this.event=e,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var n;return this._hasReceived(t)&&e((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var U$;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(U$||(U$={}));class H2{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(e==null?void 0:e.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=H2.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=H2.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=H2.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,n,i){const a=this.cloneDeep(t),s=this.transformState(e),o={},l={};return this.map(a,(u,c)=>{s[u]||(l[u]=c)}),this.map(s,(u,c)=>{const f=a[u];if(f){const h=c.map(g=>g.presence_ref),d=f.map(g=>g.presence_ref),A=c.filter(g=>d.indexOf(g.presence_ref)<0),p=f.filter(g=>h.indexOf(g.presence_ref)<0);A.length>0&&(o[u]=A),p.length>0&&(l[u]=p)}else o[u]=c}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(t,e,n,i){const{joins:a,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var u;const c=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),c.length>0){const f=t[o].map(d=>d.presence_ref),h=c.filter(d=>f.indexOf(d.presence_ref)<0);t[o].unshift(...h)}n(o,c,l)}),this.map(s,(o,l)=>{let u=t[o];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),t[o]=u,i(o,u,l),u.length===0&&delete t[o]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(n=>e(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,n)=>{const i=t[n];return"metas"in i?e[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):e[n]=i,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var H$;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(H$||(H$={}));var Q2;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Q2||(Q2={}));var fh;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(fh||(fh={}));class aR{constructor(t,e={config:{}},n){this.topic=t,this.params=e,this.socket=n,this.bindings={},this.state=Ha.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new Sk(this,nc.join,this.params,this.timeout),this.rejoinTimer=new zoe(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ha.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ha.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ha.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ha.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ha.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nc.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new H2(this),this.broadcastEndpointURL=Goe(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ha.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Q2.PRESENCE]&&this.bindings[Q2.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(d=>t==null?void 0:t(fh.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(fh.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",async({postgres_changes:d})=>{var A;if(this.socket.setAuth(),d===void 0){t==null||t(fh.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(A=p==null?void 0:p.length)!==null&&A!==void 0?A:0,m=[];for(let v=0;v<g;v++){const y=p[v],{filter:{event:b,schema:_,table:T,filter:I}}=y,N=d&&d[v];if(N&&N.event===b&&N.schema===_&&N.table===T&&N.filter===I)m.push(Object.assign(Object.assign({},y),{id:N.id}));else{this.unsubscribe(),this.state=Ha.errored,t==null||t(fh.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(fh.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ha.errored,t==null||t(fh.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(fh.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,n){return this.state===Ha.joined&&t===Q2.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,e,n)}async send(t,e={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=e.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const u=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ha.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nc.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Sk(this,nc.leave,{},t),n.receive("ok",()=>{e(),i("ok")}).receive("timeout",()=>{e(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ha.closed,this.bindings={}}async _fetchWithTimeout(t,e,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(a),s}_push(t,e,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Sk(this,t,e,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>wIe){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(t,e,n){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,n){var i,a;const s=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:c}=nc;if(n&&[o,l,u,c].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,e,n);if(e&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(d=>{var A,p,g;return((A=d.filter)===null||A===void 0?void 0:A.event)==="*"||((g=(p=d.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===s}).map(d=>d.callback(h,n)):(a=this.bindings[s])===null||a===void 0||a.filter(d=>{var A,p,g,m,v,y;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in d){const b=d.id,_=(A=d.filter)===null||A===void 0?void 0:A.event;return b&&((p=e.ids)===null||p===void 0?void 0:p.includes(b))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((g=e.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const b=(v=(m=d==null?void 0:d.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return b==="*"||b===((y=e==null?void 0:e.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===s}).map(d=>{if(typeof h=="object"&&"ids"in h){const A=h.data,{schema:p,table:g,commit_timestamp:m,type:v,errors:y}=A;h=Object.assign(Object.assign({},{schema:p,table:g,commit_timestamp:m,eventType:v,new:{},old:{},errors:y}),this._getPayloadRecords(A))}d.callback(h,n)})}_isClosed(){return this.state===Ha.closed}_isJoined(){return this.state===Ha.joined}_isJoining(){return this.state===Ha.joining}_isLeaving(){return this.state===Ha.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,n){const i=t.toLocaleLowerCase(),a={type:i,filter:e,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,e){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&aR.isEqual(i.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(nc.close,{},t)}_onError(t){this._on(nc.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ha.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=j$(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=j$(t.columns,t.old_record)),e}}const Ck=()=>{},w4={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},NIe=[1e3,2e3,5e3,1e4],FIe=1e4,IIe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class MIe{constructor(t,e){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=YI,this.transport=null,this.heartbeatIntervalMs=w4.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ck,this.ref=0,this.reconnectTimer=null,this.logger=Ck,this.conn=null,this.sendBuffer=[],this.serializer=new _Ie,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...s)=>UA(async()=>{const{default:o}=await Promise.resolve().then(()=>my);return{default:o}},void 0).then(({default:o})=>o(...s)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...s)=>a(...s)},!(!((n=e==null?void 0:e.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${t}/${ZI.websocket}`,this.httpEndpoint=Goe(t),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e==null?void 0:e.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mIe.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const e=t.message;throw e.includes("Node.js")?new Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:xIe}))}disconnect(t,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,e??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const e=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){const t=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,e,n){this.logger(t,e,n)}connectionState(){switch(this.conn&&this.conn.readyState){case U2.connecting:return wp.Connecting;case U2.open:return wp.Open;case U2.closing:return wp.Closing;default:return wp.Closed}}isConnected(){return this.connectionState()===wp.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,e={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new aR(`realtime:${t}`,e,this);return this.channels.push(a),a}}push(t){const{topic:e,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${e} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(bIe,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout()},w4.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,e=>{if(e.topic==="phoenix"&&e.event==="phx_reply")try{this.heartbeatCallback(e.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=e,o=s?`(${s})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(t){var e;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((e=this.reconnectTimer)===null||e===void 0||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var e;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(nc.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${t}${n}${i}`}_workerObjectUrl(t){let e;if(t)e=t;else{const n=new Blob([IIe],{type:"application/javascript"});e=URL.createObjectURL(n)}return e}_setConnectionState(t,e=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=e)}async _performAuth(t=null){let e;t?e=t:this.accessToken?e=await this.accessToken():e=this.accessTokenValue,this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(n=>{const i={access_token:e,version:yIe};e&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(nc.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(e=>{this.log("error",`error setting auth in ${t}`,e)})}_triggerStateCallbacks(t,e){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(e)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new zoe(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},w4.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var e,n,i,a,s,o,l,u,c;if(this.transport=(e=t==null?void 0:t.transport)!==null&&e!==void 0?e:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:YI,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:w4.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Ck,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:f=>NIe[f-1]||FIe,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(c=t==null?void 0:t.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class sR extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function za(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class LIe extends sR{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class eM extends sR{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}var DIe=function(r,t,e,n){function i(a){return a instanceof e?a:new e(function(s){s(a)})}return new(e||(e=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(r,t||[])).next())})};const Woe=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>UA(async()=>{const{default:n}=await Promise.resolve().then(()=>my);return{default:n}},void 0).then(({default:n})=>n(...e)):t=fetch,(...e)=>t(...e)},PIe=()=>DIe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield UA(()=>Promise.resolve().then(()=>my),void 0)).Response:Response}),tM=r=>{if(Array.isArray(r))return r.map(e=>tM(e));if(typeof r=="function"||r!==Object(r))return r;const t={};return Object.entries(r).forEach(([e,n])=>{const i=e.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=tM(n)}),t},RIe=r=>{if(typeof r!="object"||r===null)return!1;const t=Object.getPrototypeOf(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var $g=function(r,t,e,n){function i(a){return a instanceof e?a:new e(function(s){s(a)})}return new(e||(e=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(r,t||[])).next())})};const Bk=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),OIe=(r,t,e)=>$g(void 0,void 0,void 0,function*(){const n=yield PIe();r instanceof n&&!(e!=null&&e.noResolveJson)?r.json().then(i=>{const a=r.status||500,s=(i==null?void 0:i.statusCode)||a+"";t(new LIe(Bk(i),a,s))}).catch(i=>{t(new eM(Bk(i),i))}):t(new eM(Bk(r),r))}),jIe=(r,t,e,n)=>{const i={method:r,headers:(t==null?void 0:t.headers)||{}};return r==="GET"||!n?i:(RIe(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),e))};function n_(r,t,e,n,i,a){return $g(this,void 0,void 0,function*(){return new Promise((s,o)=>{r(e,jIe(t,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>OIe(l,o,n))})})}function H6(r,t,e,n){return $g(this,void 0,void 0,function*(){return n_(r,"GET",t,e,n)})}function Zc(r,t,e,n,i){return $g(this,void 0,void 0,function*(){return n_(r,"POST",t,n,i,e)})}function rM(r,t,e,n,i){return $g(this,void 0,void 0,function*(){return n_(r,"PUT",t,n,i,e)})}function UIe(r,t,e,n){return $g(this,void 0,void 0,function*(){return n_(r,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),n)})}function $oe(r,t,e,n,i){return $g(this,void 0,void 0,function*(){return n_(r,"DELETE",t,n,i,e)})}var vo=function(r,t,e,n){function i(a){return a instanceof e?a:new e(function(s){s(a)})}return new(e||(e=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(r,t||[])).next())})};const HIe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Q$={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class QIe{constructor(t,e={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Woe(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,e,n,i){return vo(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},Q$),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(e),c=this._getFinalPath(u),f=yield(t=="PUT"?rM:Zc)(this.fetch,`${this.url}/object/${c}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(za(a))return{data:null,error:a};throw a}})}upload(t,e,n){return vo(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,n)})}uploadToSignedUrl(t,e,n,i){return vo(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",e);try{let l;const u=Object.assign({upsert:Q$.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield rM(this.fetch,o.toString(),l,{headers:c});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(za(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,e){return vo(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const a=yield Zc(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new sR("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(za(n))return{data:null,error:n};throw n}})}update(t,e,n){return vo(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,n)})}move(t,e,n){return vo(this,void 0,void 0,function*(){try{return{data:yield Zc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(za(i))return{data:null,error:i};throw i}})}copy(t,e,n){return vo(this,void 0,void 0,function*(){try{return{data:{path:(yield Zc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(za(i))return{data:null,error:i};throw i}})}createSignedUrl(t,e,n){return vo(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Zc(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(za(i))return{data:null,error:i};throw i}})}createSignedUrls(t,e,n){return vo(this,void 0,void 0,function*(){try{const i=yield Zc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(za(i))return{data:null,error:i};throw i}})}download(t,e){return vo(this,void 0,void 0,function*(){const i=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=a?`?${a}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield H6(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(za(o))return{data:null,error:o};throw o}})}info(t){return vo(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{const n=yield H6(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:tM(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(za(n))return{data:null,error:n};throw n}})}exists(t){return vo(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{return yield UIe(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(za(n)&&n instanceof eM){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,e){const n=this._getFinalPath(t),i=[],a=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&i.push(a);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return vo(this,void 0,void 0,function*(){try{return{data:yield $oe(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(za(e))return{data:null,error:e};throw e}})}list(t,e,n){return vo(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},HIe),e),{prefix:t||""});return{data:yield Zc(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(za(i))return{data:null,error:i};throw i}})}listV2(t,e){return vo(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Zc(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},e),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(za(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}const zIe="2.12.1",VIe={"X-Client-Info":`storage-js/${zIe}`};var Lm=function(r,t,e,n){function i(a){return a instanceof e?a:new e(function(s){s(a)})}return new(e||(e=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(r,t||[])).next())})};class GIe{constructor(t,e={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},VIe),e),this.fetch=Woe(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Lm(this,void 0,void 0,function*(){try{return{data:yield H6(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(za(t))return{data:null,error:t};throw t}})}getBucket(t){return Lm(this,void 0,void 0,function*(){try{return{data:yield H6(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(za(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return Lm(this,void 0,void 0,function*(){try{return{data:yield Zc(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(za(n))return{data:null,error:n};throw n}})}updateBucket(t,e){return Lm(this,void 0,void 0,function*(){try{return{data:yield rM(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(za(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Lm(this,void 0,void 0,function*(){try{return{data:yield Zc(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(za(e))return{data:null,error:e};throw e}})}deleteBucket(t){return Lm(this,void 0,void 0,function*(){try{return{data:yield $oe(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(za(e))return{data:null,error:e};throw e}})}}class WIe extends GIe{constructor(t,e={},n,i){super(t,e,n,i)}from(t){return new QIe(this.url,this.headers,t,this.fetch)}}const $Ie="2.57.4";let n2="";typeof Deno<"u"?n2="deno":typeof document<"u"?n2="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n2="react-native":n2="node";const KIe={"X-Client-Info":`supabase-js-${n2}/${$Ie}`},qIe={headers:KIe},XIe={schema:"public"},YIe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ZIe={};var JIe=function(r,t,e,n){function i(a){return a instanceof e?a:new e(function(s){s(a)})}return new(e||(e=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(r,t||[])).next())})};const eMe=r=>{let t;return r?t=r:typeof fetch>"u"?t=Ioe:t=fetch,(...e)=>t(...e)},tMe=()=>typeof Headers>"u"?Moe:Headers,rMe=(r,t,e)=>{const n=eMe(e),i=tMe();return(a,s)=>JIe(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:r;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",r),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},s),{headers:u}))})};var nMe=function(r,t,e,n){function i(a){return a instanceof e?a:new e(function(s){s(a)})}return new(e||(e=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(r,t||[])).next())})};function iMe(r){return r.endsWith("/")?r:r+"/"}function aMe(r,t){var e,n;const{db:i,auth:a,realtime:s,global:o}=r,{db:l,auth:u,realtime:c,global:f}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},c),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(e=f==null?void 0:f.headers)!==null&&e!==void 0?e:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>nMe(this,void 0,void 0,function*(){return""})};return r.accessToken?h.accessToken=r.accessToken:delete h.accessToken,h}function sMe(r){const t=r==null?void 0:r.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(iMe(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Koe="2.71.1",nv=30*1e3,nM=3,Tk=nM*nv,oMe="http://localhost:9999",lMe="supabase.auth.token",uMe={"X-Client-Info":`gotrue-js/${Koe}`},iM="X-Supabase-Api-Version",qoe={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cMe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,fMe=10*60*1e3;class oR extends Error{constructor(t,e,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=n}}function on(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class hMe extends oR{constructor(t,e,n){super(t,e,n),this.name="AuthApiError",this.status=e,this.code=n}}function dMe(r){return on(r)&&r.name==="AuthApiError"}class Xoe extends oR{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class g0 extends oR{constructor(t,e,n,i){super(t,n,i),this.name=e,this.status=n}}class Od extends g0{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function AMe(r){return on(r)&&r.name==="AuthSessionMissingError"}class _4 extends g0{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class S4 extends g0{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class C4 extends g0{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pMe(r){return on(r)&&r.name==="AuthImplicitGrantRedirectError"}class z$ extends g0{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class aM extends g0{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}}function Ek(r){return on(r)&&r.name==="AuthRetryableFetchError"}class V$ extends g0{constructor(t,e,n){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=n}}class sM extends g0{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Q6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),G$=` 	
\r=`.split(""),gMe=(()=>{const r=new Array(128);for(let t=0;t<r.length;t+=1)r[t]=-1;for(let t=0;t<G$.length;t+=1)r[G$[t].charCodeAt(0)]=-2;for(let t=0;t<Q6.length;t+=1)r[Q6[t].charCodeAt(0)]=t;return r})();function W$(r,t,e){if(r!==null)for(t.queue=t.queue<<8|r,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;e(Q6[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;e(Q6[n]),t.queuedBits-=6}}function Yoe(r,t,e){const n=gMe[r];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function $$(r){const t=[],e=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{yMe(s,n,e)};for(let s=0;s<r.length;s+=1)Yoe(r.charCodeAt(s),i,a);return t.join("")}function mMe(r,t){if(r<=127){t(r);return}else if(r<=2047){t(192|r>>6),t(128|r&63);return}else if(r<=65535){t(224|r>>12),t(128|r>>6&63),t(128|r&63);return}else if(r<=1114111){t(240|r>>18),t(128|r>>12&63),t(128|r>>6&63),t(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function vMe(r,t){for(let e=0;e<r.length;e+=1){let n=r.charCodeAt(e);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(r.charCodeAt(e+1)-56320&65535|i)+65536,e+=1}mMe(n,t)}}function yMe(r,t,e){if(t.utf8seq===0){if(r<=127){e(r);return}for(let n=1;n<6;n+=1)if(!(r>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=r&31;else if(t.utf8seq===3)t.codepoint=r&15;else if(t.utf8seq===4)t.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|r&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function xMe(r){const t=[],e={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<r.length;i+=1)Yoe(r.charCodeAt(i),e,n);return new Uint8Array(t)}function bMe(r){const t=[];return vMe(r,e=>t.push(e)),new Uint8Array(t)}function wMe(r){const t=[],e={queue:0,queuedBits:0},n=i=>{t.push(i)};return r.forEach(i=>W$(i,e,n)),W$(null,e,n),t.join("")}function _Me(r){return Math.round(Date.now()/1e3)+r}function SMe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const t=Math.random()*16|0;return(r=="x"?t:t&3|8).toString(16)})}const Ku=()=>typeof window<"u"&&typeof document<"u",ap={tested:!1,writable:!1},Zoe=()=>{if(!Ku())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ap.tested)return ap.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),ap.tested=!0,ap.writable=!0}catch{ap.tested=!0,ap.writable=!1}return ap.writable};function CMe(r){const t={},e=new URL(r);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return e.searchParams.forEach((n,i)=>{t[i]=n}),t}const Joe=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>UA(async()=>{const{default:n}=await Promise.resolve().then(()=>my);return{default:n}},void 0).then(({default:n})=>n(...e)):t=fetch,(...e)=>t(...e)},BMe=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",iv=async(r,t,e)=>{await r.setItem(t,JSON.stringify(e))},sp=async(r,t)=>{const e=await r.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}},Fd=async(r,t)=>{await r.removeItem(t)};class M8{constructor(){this.promise=new M8.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}}M8.promiseConstructor=Promise;function kk(r){const t=r.split(".");if(t.length!==3)throw new sM("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!cMe.test(t[n]))throw new sM("JWT not in base64url format");return{header:JSON.parse($$(t[0])),payload:JSON.parse($$(t[1])),signature:xMe(t[2]),raw:{header:t[0],payload:t[1]}}}async function TMe(r){return await new Promise(t=>{setTimeout(()=>t(null),r)})}function EMe(r,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await r(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function kMe(r){return("0"+r.toString(16)).substr(-2)}function NMe(){const t=new Uint32Array(56);if(typeof crypto>"u"){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=e.length;let i="";for(let a=0;a<56;a++)i+=e.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,kMe).join("")}async function FMe(r){const e=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",e),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function IMe(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const e=await FMe(r);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dm(r,t,e=!1){const n=NMe();let i=n;e&&(i+="/PASSWORD_RECOVERY"),await iv(r,`${t}-code-verifier`,i);const a=await IMe(n);return[a,n===a?"plain":"s256"]}const MMe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function LMe(r){const t=r.headers.get(iM);if(!t||!t.match(MMe))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function DMe(r){if(!r)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(r<=t)throw new Error("JWT has expired")}function PMe(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const RMe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pm(r){if(!RMe.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Nk(){const r={};return new Proxy(r,{get:(t,e)=>{if(e==="__isUserNotAvailableProxy")return!0;if(typeof e=="symbol"){const n=e.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function K$(r){return JSON.parse(JSON.stringify(r))}var OMe=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};const gp=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),jMe=[502,503,504];async function q$(r){var t;if(!BMe(r))throw new aM(gp(r),0);if(jMe.includes(r.status))throw new aM(gp(r),r.status);let e;try{e=await r.json()}catch(a){throw new Xoe(gp(a),a)}let n;const i=LMe(r);if(i&&i.getTime()>=qoe["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?n=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(n=e.error_code),n){if(n==="weak_password")throw new V$(gp(e),r.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Od}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new V$(gp(e),r.status,e.weak_password.reasons);throw new hMe(gp(e),r.status||500,n)}const UMe=(r,t,e,n)=>{const i={method:r,headers:(t==null?void 0:t.headers)||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),e))};async function vn(r,t,e,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[iM]||(a[iM]=qoe["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await HMe(r,t,e+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function HMe(r,t,e,n,i,a){const s=UMe(t,n,i,a);let o;try{o=await r(e,Object.assign({},s))}catch(l){throw console.error(l),new aM(gp(l),0)}if(o.ok||await q$(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await q$(l)}}function ah(r){var t;let e=null;GMe(r)&&(e=Object.assign({},r),r.expires_at||(e.expires_at=_Me(r.expires_in)));const n=(t=r.user)!==null&&t!==void 0?t:r;return{data:{session:e,user:n},error:null}}function X$(r){const t=ah(r);return!t.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((e,n)=>e&&typeof n=="string",!0)&&(t.data.weak_password=r.weak_password),t}function Xd(r){var t;return{data:{user:(t=r.user)!==null&&t!==void 0?t:r},error:null}}function QMe(r){return{data:r,error:null}}function zMe(r){const{action_link:t,email_otp:e,hashed_token:n,redirect_to:i,verification_type:a}=r,s=OMe(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:e,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function VMe(r){return r}function GMe(r){return r.access_token&&r.refresh_token&&r.expires_in}const Fk=["global","local","others"];var WMe=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};class $Me{constructor({url:t="",headers:e={},fetch:n}){this.url=t,this.headers=e,this.fetch=Joe(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,e=Fk[0]){if(Fk.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fk.join(", ")}`);try{return await vn(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(on(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,e={}){try{return await vn(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Xd})}catch(n){if(on(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:e}=t,n=WMe(t,["options"]),i=Object.assign(Object.assign({},n),e);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await vn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:zMe,redirectTo:e==null?void 0:e.redirectTo})}catch(e){if(on(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await vn(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xd})}catch(e){if(on(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,n,i,a,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await vn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(e=t==null?void 0:t.page)===null||e===void 0?void 0:e.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:VMe});if(c.error)throw c.error;const f=await c.json(),h=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,d=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(A=>{const p=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(A.split(";")[1].split("=")[1]);u[`${g}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(on(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Pm(t);try{return await vn(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xd})}catch(e){if(on(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){Pm(t);try{return await vn(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:Xd})}catch(n){if(on(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,e=!1){Pm(t);try{return await vn(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:Xd})}catch(n){if(on(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Pm(t.userId);try{const{data:e,error:n}=await vn(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:n}}catch(e){if(on(e))return{data:null,error:e};throw e}}async _deleteFactor(t){Pm(t.userId),Pm(t.id);try{return{data:await vn(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(on(e))return{data:null,error:e};throw e}}}function Y$(r={}){return{getItem:t=>r[t]||null,setItem:(t,e)=>{r[t]=e},removeItem:t=>{delete r[t]}}}function KMe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Rm={debug:!!(globalThis&&Zoe()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ele extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class qMe extends ele{}async function XMe(r,t,e){Rm.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Rm.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Rm.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,i.name);try{return await e()}finally{Rm.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,i.name)}}else{if(t===0)throw Rm.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new qMe(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Rm.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await e()}}))}KMe();const YMe={url:oMe,storageKey:lMe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uMe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Z$(r,t,e){return await e()}const Om={};class tw{constructor(t){var e,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tw.nextInstanceID,tw.nextInstanceID+=1,this.instanceID>0&&Ku()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},YMe),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new $Me({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Joe(i.fetch),this.lock=i.lock||Z$,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ku()&&(!((e=globalThis==null?void 0:globalThis.navigator)===null||e===void 0)&&e.locks)?this.lock=XMe:this.lock=Z$,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Zoe()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Y$(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Y$(this.memoryStorage)),Ku()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,e;return(e=(t=Om[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&e!==void 0?e:{keys:[]}}set jwks(t){Om[this.storageKey]=Object.assign(Object.assign({},Om[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,e;return(e=(t=Om[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&e!==void 0?e:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Om[this.storageKey]=Object.assign(Object.assign({},Om[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Koe}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const e=CMe(window.location.href);let n="none";if(this._isImplicitGrantCallback(e)?n="implicit":await this._isPKCECallback(e)&&(n="pkce"),Ku()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(e,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),pMe(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return on(e)?{error:e}:{error:new Xoe("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var e,n,i;try{const a=await vn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(e=t==null?void 0:t.options)===null||e===void 0?void 0:e.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:ah}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(on(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var e,n,i;try{let a;if("email"in t){const{email:c,password:f,options:h}=t;let d=null,A=null;this.flowType==="pkce"&&([d,A]=await Dm(this.storage,this.storageKey)),a=await vn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(e=h==null?void 0:h.data)!==null&&e!==void 0?e:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:d,code_challenge_method:A},xform:ah})}else if("phone"in t){const{phone:c,password:f,options:h}=t;a=await vn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ah})}else throw new S4("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(on(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let e;if("email"in t){const{email:a,password:s,options:o}=t;e=await vn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:X$})}else if("phone"in t){const{phone:a,password:s,options:o}=t;e=await vn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:X$})}else throw new S4("You must provide either an email or phone number and a password");const{data:n,error:i}=e;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new _4}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(e){if(on(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(t){var e,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(e=t.options)===null||e===void 0?void 0:e.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:e}=t;if(e==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${e}"`)}async signInWithSolana(t){var e,n,i,a,s,o,l,u,c,f,h,d;let A,p;if("message"in t)A=t.message,p=t.signature;else{const{chain:g,wallet:m,statement:v,options:y}=t;let b;if(Ku())if(typeof m=="object")b=m;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))b=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=m}const _=new URL((e=y==null?void 0:y.url)!==null&&e!==void 0?e:window.location.href);if("signIn"in b&&b.signIn){const T=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),v?{statement:v}:null));let I;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")I=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)I=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)A=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),p=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${_.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(c=y==null?void 0:y.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const T=await b.signMessage(new TextEncoder().encode(A),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=T}}try{const{data:g,error:m}=await vn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:wMe(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:ah});if(m)throw m;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new _4}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:m})}catch(g){if(on(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(t){const e=await sp(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(e??"").split("/");try{const{data:a,error:s}=await vn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ah});if(await Fd(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new _4}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(on(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:e,provider:n,token:i,access_token:a,nonce:s}=t,o=await vn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:e==null?void 0:e.captchaToken}},xform:ah}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new _4}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(e){if(on(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(t){var e,n,i,a,s;try{if("email"in t){const{email:o,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Dm(this.storage,this.storageKey));const{error:f}=await vn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(e=l==null?void 0:l.data)!==null&&e!==void 0?e:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:c}=await vn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new S4("You must provide either an email or phone number.")}catch(o){if(on(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var e,n;try{let i,a;"options"in t&&(i=(e=t.options)===null||e===void 0?void 0:e.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await vn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:ah});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(on(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var e,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await Dm(this.storage,this.storageKey)),await vn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(e=t.options)===null||e===void 0?void 0:e.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:QMe})}catch(a){if(on(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:e},error:n}=t;if(n)throw n;if(!e)throw new Od;const{error:i}=await vn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(on(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const e=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await vn(this.fetch,"POST",e,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:o}=await vn(this.fetch,"POST",e,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new S4("You must provide either an email or phone number and a type")}catch(e){if(on(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(t,e){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await e()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=e();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const e=await this.__loadSession();return await t(e)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const e=await sp(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),e!==null&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Tk:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await sp(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Nk()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await vn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xd}):await this._useSession(async e=>{var n,i,a;const{data:s,error:o}=e;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Od}:await vn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Xd})})}catch(e){if(on(e))return AMe(e)&&(await this._removeSession(),await Fd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:e};throw e}}async updateUser(t,e={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,e))}async _updateUser(t,e={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Od;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Dm(this.storage,this.storageKey));const{data:u,error:c}=await vn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:e==null?void 0:e.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Xd});if(c)throw c;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(on(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Od;const e=Date.now()/1e3;let n=e,i=!0,a=null;const{payload:s}=kk(t.access_token);if(s.exp&&(n=s.exp,i=n<=e),i){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-e,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(e){if(on(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async e=>{var n;if(!t){const{data:s,error:o}=e;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Od;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(on(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(t,e){try{if(!Ku())throw new C4("No browser detected.");if(t.error||t.error_description||t.error_code)throw new C4(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(e){case"implicit":if(this.flowType==="pkce")throw new z$("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new C4("Not a valid implicit grant flow url.");break;default:}if(e==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new z$("No code detected.");const{data:v,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:u}=t;if(!a||!o||!s||!u)throw new C4("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(o);let h=c+f;l&&(h=parseInt(l));const d=h-c;d*1e3<=nv&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${f}s`);const A=h-f;c-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,h,c):c-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,h,c);const{data:p,error:g}=await this._getUser(a);if(g)throw g;const m={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(n){if(on(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const e=await sp(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&e)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async e=>{var n;const{data:i,error:a}=e;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(dMe(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Fd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const e=SMe(),n={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(e)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async e=>{var n,i;try{const{data:{session:a},error:s}=e;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,e={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Dm(this.storage,this.storageKey,!0));try{return await vn(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(a){if(on(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:e,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=e.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(e){if(on(e))return{data:null,error:e};throw e}}async linkIdentity(t){var e;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,u,c;const{data:f,error:h}=a;if(h)throw h;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await vn(this.fetch,"GET",d,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Ku()&&!(!((e=t.options)===null||e===void 0)&&e.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(on(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async e=>{var n,i;const{data:a,error:s}=e;if(s)throw s;return await vn(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(e){if(on(e))return{data:null,error:e};throw e}}async _refreshAccessToken(t){const e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{const n=Date.now();return await EMe(async i=>(i>0&&await TMe(200*Math.pow(2,i-1)),this._debug(e,"refreshing attempt",i),await vn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ah})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Ek(a)&&Date.now()+s-n<nv})}catch(n){if(this._debug(e,"error",n),on(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(e,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,e){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",n),Ku()&&!e.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await sp(this.storage,this.storageKey);if(i&&this.userStorage){let s=await sp(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await iv(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Nk()}else if(i&&!i.user&&!i.user){const s=await sp(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Fd(this.storage,this.storageKey+"-user"),await iv(this.storage,this.storageKey,i)):i.user=Nk()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Tk;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Tk}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Ek(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var e,n;if(!t)throw new Od;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new M8;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Od;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),on(a)){const s={session:null,error:a};return Ek(a)||await this._removeSession(),(e=this.refreshingDeferred)===null||e===void 0||e.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,e,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",e,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:e});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,e)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const e=Object.assign({},t),n=e.user&&e.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&e.user&&await iv(this.userStorage,this.storageKey+"-user",{user:e.user});const i=Object.assign({},e);delete i.user;const a=K$(i);await iv(this.storage,this.storageKey,a)}else{const i=K$(e);await iv(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Fd(this.storage,this.storageKey),await Fd(this.storage,this.storageKey+"-code-verifier"),await Fd(this.storage,this.storageKey+"-user"),this.userStorage&&await Fd(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ku()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),nv);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/nv);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${nv}ms, refresh threshold is ${nM} ticks`),i<=nM&&await this._callRefreshToken(n.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ele)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ku()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,e,n){const i=[`provider=${encodeURIComponent(e)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Dm(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async e=>{var n;const{data:i,error:a}=e;return a?{data:null,error:a}:await vn(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(e){if(on(e))return{data:null,error:e};throw e}}async _enroll(t){try{return await this._useSession(async e=>{var n,i;const{data:a,error:s}=e;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await vn(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(e){if(on(e))return{data:null,error:e};throw e}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var n;const{data:i,error:a}=e;if(a)return{data:null,error:a};const{data:s,error:o}=await vn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(e){if(on(e))return{data:null,error:e};throw e}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var n;const{data:i,error:a}=e;return a?{data:null,error:a}:await vn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(e){if(on(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(t){const{data:e,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})}async _listFactors(){const{data:{user:t},error:e}=await this.getUser();if(e)return{data:null,error:e};const n=(t==null?void 0:t.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var e,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=kk(i.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(e=i.user.factors)===null||e===void 0?void 0:e.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,e={keys:[]}){let n=e.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+fMe>i)return n;const{data:a,error:s}=await vn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,e={}){try{let n=t;if(!n){const{data:d,error:A}=await this.getSession();if(A||!d.session)return{data:null,error:A};n=d.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=kk(n);e!=null&&e.allowExpired||DMe(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,e!=null&&e.keys?{keys:e.keys}:e==null?void 0:e.jwks);if(!u){const{error:d}=await this.getUser(n);if(d)throw d;return{data:{claims:a,header:i,signature:s},error:null}}const c=PMe(i.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,s,bMe(`${o}.${l}`)))throw new sM("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(on(n))return{data:null,error:n};throw n}}}tw.nextInstanceID=0;const ZMe=tw;class JMe extends ZMe{constructor(t){super(t)}}var eLe=function(r,t,e,n){function i(a){return a instanceof e?a:new e(function(s){s(a)})}return new(e||(e=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(r,t||[])).next())})};class tLe{constructor(t,e,n){var i,a,s;this.supabaseUrl=t,this.supabaseKey=e;const o=sMe(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:XIe,realtime:ZIe,auth:Object.assign(Object.assign({},YIe),{storageKey:l}),global:qIe},c=aMe(n??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=c.auth)!==null&&s!==void 0?s:{},this.headers,c.global.fetch),this.fetch=rMe(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new gIe(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new WIe(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new KFe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return eLe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(e=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:o,lock:l,debug:u},c,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new JMe({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:l,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(d=>d.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new MIe(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,n)=>{this._handleTokenChanged(e,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tle=(r,t,e)=>new tLe(r,t,e);function rLe(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const t=r.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}rLe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nLe="https://euouewrasvuwdapcxdcs.supabase.co",iLe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV1b3Vld3Jhc3Z1d2RhcGN4ZGNzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyNjEwNzIsImV4cCI6MjA3NzgzNzA3Mn0.sBMYDCQouZD98kB1TlkmE0nqJycvZ4wj_uY3kSqkR-w",Ct=tle(nLe,iLe),yy=()=>{const[r,t]=Ce.useState([]),[e,n]=Ce.useState({total_orders:0,total_revenue:0,pending_orders:0,completed_orders:0,locked_orders:0,unlocked_orders:0,average_order_value:0}),[i,a]=Ce.useState(!0),[s,o]=Ce.useState(null),l=async m=>{try{const{data:v}=await Ct.from("order_products").select("subtotal").eq("order_id",m),y=v!=null&&v.length?v.reduce((F,P)=>F+parseFloat(P.subtotal||"0"),0):0,{data:b}=await Ct.from("orders").select("shipping_cost").eq("id",m).single();if(!b)return;const _=parseFloat(b.shipping_cost||"0"),T=y+_,I=T*.15,N=T+I;await Ct.from("orders").update({subtotal_before_tax:y,tax_amount:I,total_price:N}).eq("id",m)}catch(v){console.error("    :",v)}},u=Ce.useCallback(async()=>{try{a(!0),o(null);const{data:m,error:v}=await Ct.from("orders").select(`
          *,
          order_products (
            id,
            order_id,
            product_name,
            quantity,
            unit_price,
            cost_price,
            subtotal,
            cost_subtotal,
            created_at,
            updated_at,
            supplier_id,
            supplier_name
          )
        `).order("order_date",{ascending:!1});if(v)throw v;const y=(m||[]).map(_=>({..._,products:(_.order_products||[]).map(T=>({id:T.id,order_id:T.order_id,name:T.product_name,quantity:T.quantity,unit_price:typeof T.unit_price=="string"?parseFloat(T.unit_price):T.unit_price,cost_price:typeof T.cost_price=="string"?parseFloat(T.cost_price||"0"):T.cost_price||0,subtotal:typeof T.subtotal=="string"?parseFloat(T.subtotal):T.subtotal,cost_subtotal:typeof T.cost_subtotal=="string"?parseFloat(T.cost_subtotal||"0"):T.cost_subtotal||0,created_at:T.created_at,updated_at:T.updated_at,supplier_id:T.supplier_id,supplier_name:T.supplier_name}))}));t(y);const b={total_orders:y.length,total_revenue:y.reduce((_,T)=>_+(T.total_price||0),0),pending_orders:y.filter(_=>_.status===" ").length,completed_orders:y.filter(_=>_.status==="").length,locked_orders:y.filter(_=>_.is_locked).length,unlocked_orders:y.filter(_=>!_.is_locked&&_.status!=="").length,average_order_value:0};b.average_order_value=b.total_orders>0?b.total_revenue/b.total_orders:0,n(b)}catch(m){console.error("Error fetching orders:",m),o(m.message)}finally{a(!1)}},[]),c=async(m,v)=>{try{const{data:y}=await Ct.from("orders").select("is_locked").eq("id",m).single();if(y!=null&&y.is_locked)throw new Error("    ");const{error:b}=await Ct.from("orders").update({status:v}).eq("id",m);if(b)throw b;return await u(),!0}catch(y){return o(y instanceof Error?y.message:"   "),!1}},f=async m=>{try{const{data:v}=await Ct.from("order_products").select("id").eq("order_id",m);if(!v||v.length===0)throw new Error("       ");await l(m);const{error:y}=await Ct.from("orders").update({is_locked:!0,status:"",locked_at:new Date().toISOString()}).eq("id",m);if(y)throw y;return await u(),!0}catch(v){return o(v instanceof Error?v.message:"   "),!1}},h=async(m,v)=>{var y;try{const{data:b,error:_}=await Ct.from("order_products").select("quantity, order_id, order!is_locked").eq("id",m).single();if(_)throw _;if((y=b.order)!=null&&y.is_locked)throw new Error("      ");const T=b.quantity*v,{error:I}=await Ct.from("order_products").update({cost_price:v,cost_subtotal:T}).eq("id",m);if(I)throw I;return await l(b.order_id),await u(),!0}catch(b){return o(b instanceof Error?b.message:"  76  "),!1}},d=async(m,v)=>{var y;try{const{data:b}=await Ct.from("order_products").select("order!is_locked").eq("id",m).single();if((y=b==null?void 0:b.order)!=null&&y.is_locked)throw new Error("      ");const _={};if(v.supplier_id!==void 0&&(_.supplier_id=v.supplier_id),v.supplier_name!==void 0&&(_.supplier_name=v.supplier_name),Object.keys(_).length===0)return!0;const{error:T}=await Ct.from("order_products").update(_).eq("id",m);if(T)throw T;return await u(),!0}catch(b){return o(b instanceof Error?b.message:"   "),!1}},A=async(m,v)=>{try{const y=`ORD-${Date.now().toString().slice(-8)}`,{data:b,error:_}=await Ct.from("orders").insert({...m,order_number:y,order_date:new Date().toISOString(),is_locked:!1,subtotal_before_tax:0,tax_amount:0,total_price:0}).select().single();if(_)throw _;if(v.length>0){const T=v.map(N=>({order_id:b.id,product_name:N.name,quantity:N.quantity,unit_price:N.unit_price,cost_price:N.cost_price||0,supplier_id:N.supplier_id||null,supplier_name:N.supplier_name||null})),{error:I}=await Ct.from("order_products").insert(T);if(I)throw I}return await l(b.id),await u(),b}catch(y){throw o(`   : ${y.message}`),y}},p=async(m,v)=>{try{const{data:y}=await Ct.from("orders").select("is_locked").eq("id",m).single();if(y!=null&&y.is_locked)throw new Error("      ");const{data:b,error:_}=await Ct.from("order_products").insert({order_id:m,product_name:v.name,quantity:v.quantity,unit_price:v.unit_price,cost_price:v.cost_price||0,supplier_id:v.supplier_id||null,supplier_name:v.supplier_name||null}).select().single();if(_)throw _;return await l(m),await u(),b}catch(y){throw o(`   : ${y.message}`),y}},g=async m=>{try{await Ct.from("order_products").delete().eq("order_id",m);const{error:v}=await Ct.from("orders").delete().eq("id",m);if(v)throw v;return await u(),!0}catch(v){return o(v instanceof Error?v.message:"   "),!1}};return Ce.useEffect(()=>{u();const m=Ct.channel("orders-changes").on("postgres_changes",{event:"*",schema:"public",table:"orders"},()=>u()).on("postgres_changes",{event:"*",schema:"public",table:"order_products"},()=>u()).subscribe();return()=>{Ct.removeChannel(m)}},[u]),{orders:r,stats:e,loading:i,error:s,refetch:u,updateOrderStatus:c,lockOrder:f,updateOrderTotals:l,updateProductCost:h,updateProduct:d,createManualOrder:A,addProductToOrder:p,deleteOrder:g}};var i_=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},aLe={setTimeout:(r,t)=>setTimeout(r,t),clearTimeout:r=>clearTimeout(r),setInterval:(r,t)=>setInterval(r,t),clearInterval:r=>clearInterval(r)},Jd,vL,DY,sLe=(DY=class{constructor(){Gr(this,Jd,aLe);Gr(this,vL,!1)}setTimeoutProvider(r){Ar(this,Jd,r)}setTimeout(r,t){return Xe(this,Jd).setTimeout(r,t)}clearTimeout(r){Xe(this,Jd).clearTimeout(r)}setInterval(r,t){return Xe(this,Jd).setInterval(r,t)}clearInterval(r){Xe(this,Jd).clearInterval(r)}},Jd=new WeakMap,vL=new WeakMap,DY),Rp=new sLe;function oLe(r){setTimeout(r,0)}var kg=typeof window>"u"||"Deno"in globalThis;function Vo(){}function lLe(r,t){return typeof r=="function"?r(t):r}function oM(r){return typeof r=="number"&&r>=0&&r!==1/0}function rle(r,t){return Math.max(r+(t||0)-Date.now(),0)}function HA(r,t){return typeof r=="function"?r(t):r}function hu(r,t){return typeof r=="function"?r(t):r}function J$(r,t){const{type:e="all",exact:n,fetchStatus:i,predicate:a,queryKey:s,stale:o}=r;if(s){if(n){if(t.queryHash!==lR(s,t.options))return!1}else if(!nw(t.queryKey,s))return!1}if(e!=="all"){const l=t.isActive();if(e==="active"&&!l||e==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||a&&!a(t))}function eK(r,t){const{exact:e,status:n,predicate:i,mutationKey:a}=r;if(a){if(!t.options.mutationKey)return!1;if(e){if(rw(t.options.mutationKey)!==rw(a))return!1}else if(!nw(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function lR(r,t){return((t==null?void 0:t.queryKeyHashFn)||rw)(r)}function rw(r){return JSON.stringify(r,(t,e)=>uM(e)?Object.keys(e).sort().reduce((n,i)=>(n[i]=e[i],n),{}):e)}function nw(r,t){return r===t?!0:typeof r!=typeof t?!1:r&&t&&typeof r=="object"&&typeof t=="object"?Object.keys(t).every(e=>nw(r[e],t[e])):!1}var uLe=Object.prototype.hasOwnProperty;function nle(r,t){if(r===t)return r;const e=tK(r)&&tK(t);if(!e&&!(uM(r)&&uM(t)))return t;const i=(e?r:Object.keys(r)).length,a=e?t:Object.keys(t),s=a.length,o=e?new Array(s):{};let l=0;for(let u=0;u<s;u++){const c=e?u:a[u],f=r[c],h=t[c];if(f===h){o[c]=f,(e?u<i:uLe.call(r,c))&&l++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){o[c]=h;continue}const d=nle(f,h);o[c]=d,d===f&&l++}return i===s&&l===i?r:o}function lM(r,t){if(!t||Object.keys(r).length!==Object.keys(t).length)return!1;for(const e in r)if(r[e]!==t[e])return!1;return!0}function tK(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function uM(r){if(!rK(r))return!1;const t=r.constructor;if(t===void 0)return!0;const e=t.prototype;return!(!rK(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function rK(r){return Object.prototype.toString.call(r)==="[object Object]"}function cLe(r){return new Promise(t=>{Rp.setTimeout(t,r)})}function cM(r,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(r,t):e.structuralSharing!==!1?nle(r,t):t}function fLe(r,t,e=0){const n=[...r,t];return e&&n.length>e?n.slice(1):n}function hLe(r,t,e=0){const n=[t,...r];return e&&n.length>e?n.slice(0,-1):n}var uR=Symbol();function ile(r,t){return!r.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!r.queryFn||r.queryFn===uR?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}function dLe(r,t){return typeof r=="function"?r(...t):!!r}var Qp,eA,a1,PY,ALe=(PY=class extends i_{constructor(){super();Gr(this,Qp);Gr(this,eA);Gr(this,a1);Ar(this,a1,t=>{if(!kg&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){Xe(this,eA)||this.setEventListener(Xe(this,a1))}onUnsubscribe(){var t;this.hasListeners()||((t=Xe(this,eA))==null||t.call(this),Ar(this,eA,void 0))}setEventListener(t){var e;Ar(this,a1,t),(e=Xe(this,eA))==null||e.call(this),Ar(this,eA,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Xe(this,Qp)!==t&&(Ar(this,Qp,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof Xe(this,Qp)=="boolean"?Xe(this,Qp):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Qp=new WeakMap,eA=new WeakMap,a1=new WeakMap,PY),cR=new ALe;function fM(){let r,t;const e=new Promise((i,a)=>{r=i,t=a});e.status="pending",e.catch(()=>{});function n(i){Object.assign(e,i),delete e.resolve,delete e.reject}return e.resolve=i=>{n({status:"fulfilled",value:i}),r(i)},e.reject=i=>{n({status:"rejected",reason:i}),t(i)},e}var pLe=oLe;function gLe(){let r=[],t=0,e=o=>{o()},n=o=>{o()},i=pLe;const a=o=>{t?r.push(o):i(()=>{e(o)})},s=()=>{const o=r;r=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{e(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||s()}return l},batchCalls:o=>(...l)=>{a(()=>{o(...l)})},schedule:a,setNotifyFunction:o=>{e=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var ks=gLe(),s1,tA,o1,RY,mLe=(RY=class extends i_{constructor(){super();Gr(this,s1,!0);Gr(this,tA);Gr(this,o1);Ar(this,o1,t=>{if(!kg&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}})}onSubscribe(){Xe(this,tA)||this.setEventListener(Xe(this,o1))}onUnsubscribe(){var t;this.hasListeners()||((t=Xe(this,tA))==null||t.call(this),Ar(this,tA,void 0))}setEventListener(t){var e;Ar(this,o1,t),(e=Xe(this,tA))==null||e.call(this),Ar(this,tA,t(this.setOnline.bind(this)))}setOnline(t){Xe(this,s1)!==t&&(Ar(this,s1,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Xe(this,s1)}},s1=new WeakMap,tA=new WeakMap,o1=new WeakMap,RY),z6=new mLe;function vLe(r){return Math.min(1e3*2**r,3e4)}function ale(r){return(r??"online")==="online"?z6.isOnline():!0}var hM=class extends Error{constructor(r){super("CancelledError"),this.revert=r==null?void 0:r.revert,this.silent=r==null?void 0:r.silent}};function sle(r){let t=!1,e=0,n;const i=fM(),a=()=>i.status!=="pending",s=p=>{var g;if(!a()){const m=new hM(p);h(m),(g=r.onCancel)==null||g.call(r,m)}},o=()=>{t=!0},l=()=>{t=!1},u=()=>cR.isFocused()&&(r.networkMode==="always"||z6.isOnline())&&r.canRun(),c=()=>ale(r.networkMode)&&r.canRun(),f=p=>{a()||(n==null||n(),i.resolve(p))},h=p=>{a()||(n==null||n(),i.reject(p))},d=()=>new Promise(p=>{var g;n=m=>{(a()||u())&&p(m)},(g=r.onPause)==null||g.call(r)}).then(()=>{var p;n=void 0,a()||(p=r.onContinue)==null||p.call(r)}),A=()=>{if(a())return;let p;const g=e===0?r.initialPromise:void 0;try{p=g??r.fn()}catch(m){p=Promise.reject(m)}Promise.resolve(p).then(f).catch(m=>{var T;if(a())return;const v=r.retry??(kg?0:3),y=r.retryDelay??vLe,b=typeof y=="function"?y(e,m):y,_=v===!0||typeof v=="number"&&e<v||typeof v=="function"&&v(e,m);if(t||!_){h(m);return}e++,(T=r.onFail)==null||T.call(r,e,m),cLe(b).then(()=>u()?void 0:d()).then(()=>{t?h(m):A()})})};return{promise:i,status:()=>i.status,cancel:s,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:l,canStart:c,start:()=>(c()?A():d().then(A),i)}}var zp,OY,ole=(OY=class{constructor(){Gr(this,zp)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),oM(this.gcTime)&&Ar(this,zp,Rp.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(kg?1/0:5*60*1e3))}clearGcTimeout(){Xe(this,zp)&&(Rp.clearTimeout(Xe(this,zp)),Ar(this,zp,void 0))}},zp=new WeakMap,OY),Vp,l1,lu,Gp,ss,Cw,Wp,ec,sh,jY,yLe=(jY=class extends ole{constructor(t){super();Gr(this,ec);Gr(this,Vp);Gr(this,l1);Gr(this,lu);Gr(this,Gp);Gr(this,ss);Gr(this,Cw);Gr(this,Wp);Ar(this,Wp,!1),Ar(this,Cw,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ar(this,Gp,t.client),Ar(this,lu,Xe(this,Gp).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ar(this,Vp,iK(this.options)),this.state=t.state??Xe(this,Vp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Xe(this,ss))==null?void 0:t.promise}setOptions(t){if(this.options={...Xe(this,Cw),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=iK(this.options);e.data!==void 0&&(this.setState(nK(e.data,e.dataUpdatedAt)),Ar(this,Vp,e))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Xe(this,lu).remove(this)}setData(t,e){const n=cM(this.state.data,t,this.options);return Tn(this,ec,sh).call(this,{data:n,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),n}setState(t,e){Tn(this,ec,sh).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var n,i;const e=(n=Xe(this,ss))==null?void 0:n.promise;return(i=Xe(this,ss))==null||i.cancel(t),e?e.then(Vo).catch(Vo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Xe(this,Vp))}isActive(){return this.observers.some(t=>hu(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===uR||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>HA(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!rle(this.state.dataUpdatedAt,t)}onFocus(){var e;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(e=Xe(this,ss))==null||e.continue()}onOnline(){var e;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(e=Xe(this,ss))==null||e.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Xe(this,lu).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(Xe(this,ss)&&(Xe(this,Wp)?Xe(this,ss).cancel({revert:!0}):Xe(this,ss).cancelRetry()),this.scheduleGc()),Xe(this,lu).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Tn(this,ec,sh).call(this,{type:"invalidate"})}async fetch(t,e){var l,u,c,f,h,d,A,p,g,m,v,y;if(this.state.fetchStatus!=="idle"&&((l=Xe(this,ss))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(e!=null&&e.cancelRefetch))this.cancel({silent:!0});else if(Xe(this,ss))return Xe(this,ss).continueRetry(),Xe(this,ss).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(_=>_.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,i=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(Ar(this,Wp,!0),n.signal)})},a=()=>{const b=ile(this.options,e),T=(()=>{const I={client:Xe(this,Gp),queryKey:this.queryKey,meta:this.meta};return i(I),I})();return Ar(this,Wp,!1),this.options.persister?this.options.persister(b,T,this):b(T)},o=(()=>{const b={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:Xe(this,Gp),state:this.state,fetchFn:a};return i(b),b})();(u=this.options.behavior)==null||u.onFetch(o,this),Ar(this,l1,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Tn(this,ec,sh).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta}),Ar(this,ss,sle({initialPromise:e==null?void 0:e.initialPromise,fn:o.fetchFn,onCancel:b=>{b instanceof hM&&b.revert&&this.setState({...Xe(this,l1),fetchStatus:"idle"}),n.abort()},onFail:(b,_)=>{Tn(this,ec,sh).call(this,{type:"failed",failureCount:b,error:_})},onPause:()=>{Tn(this,ec,sh).call(this,{type:"pause"})},onContinue:()=>{Tn(this,ec,sh).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const b=await Xe(this,ss).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(d=(h=Xe(this,lu).config).onSuccess)==null||d.call(h,b,this),(p=(A=Xe(this,lu).config).onSettled)==null||p.call(A,b,this.state.error,this),b}catch(b){if(b instanceof hM){if(b.silent)return Xe(this,ss).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw Tn(this,ec,sh).call(this,{type:"error",error:b}),(m=(g=Xe(this,lu).config).onError)==null||m.call(g,b,this),(y=(v=Xe(this,lu).config).onSettled)==null||y.call(v,this.state.data,b,this),b}finally{this.scheduleGc()}}},Vp=new WeakMap,l1=new WeakMap,lu=new WeakMap,Gp=new WeakMap,ss=new WeakMap,Cw=new WeakMap,Wp=new WeakMap,ec=new WeakSet,sh=function(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...lle(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,...nK(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ar(this,l1,t.manual?i:void 0),i;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),ks.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Xe(this,lu).notify({query:this,type:"updated",action:t})})},jY);function lle(r,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ale(t.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function nK(r,t){return{data:r,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function iK(r){const t=typeof r.initialData=="function"?r.initialData():r.initialData,e=t!==void 0,n=e?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var zo,En,Bw,yo,$p,u1,ph,rA,Tw,c1,f1,Kp,qp,nA,h1,$n,i2,dM,AM,pM,gM,mM,vM,yM,ule,UY,xLe=(UY=class extends i_{constructor(t,e){super();Gr(this,$n);Gr(this,zo);Gr(this,En);Gr(this,Bw);Gr(this,yo);Gr(this,$p);Gr(this,u1);Gr(this,ph);Gr(this,rA);Gr(this,Tw);Gr(this,c1);Gr(this,f1);Gr(this,Kp);Gr(this,qp);Gr(this,nA);Gr(this,h1,new Set);this.options=e,Ar(this,zo,t),Ar(this,rA,null),Ar(this,ph,fM()),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Xe(this,En).addObserver(this),aK(Xe(this,En),this.options)?Tn(this,$n,i2).call(this):this.updateResult(),Tn(this,$n,gM).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return xM(Xe(this,En),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return xM(Xe(this,En),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Tn(this,$n,mM).call(this),Tn(this,$n,vM).call(this),Xe(this,En).removeObserver(this)}setOptions(t){const e=this.options,n=Xe(this,En);if(this.options=Xe(this,zo).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof hu(this.options.enabled,Xe(this,En))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Tn(this,$n,yM).call(this),Xe(this,En).setOptions(this.options),e._defaulted&&!lM(this.options,e)&&Xe(this,zo).getQueryCache().notify({type:"observerOptionsUpdated",query:Xe(this,En),observer:this});const i=this.hasListeners();i&&sK(Xe(this,En),n,this.options,e)&&Tn(this,$n,i2).call(this),this.updateResult(),i&&(Xe(this,En)!==n||hu(this.options.enabled,Xe(this,En))!==hu(e.enabled,Xe(this,En))||HA(this.options.staleTime,Xe(this,En))!==HA(e.staleTime,Xe(this,En)))&&Tn(this,$n,dM).call(this);const a=Tn(this,$n,AM).call(this);i&&(Xe(this,En)!==n||hu(this.options.enabled,Xe(this,En))!==hu(e.enabled,Xe(this,En))||a!==Xe(this,nA))&&Tn(this,$n,pM).call(this,a)}getOptimisticResult(t){const e=Xe(this,zo).getQueryCache().build(Xe(this,zo),t),n=this.createResult(e,t);return wLe(this,n)&&(Ar(this,yo,n),Ar(this,u1,this.options),Ar(this,$p,Xe(this,En).state)),n}getCurrentResult(){return Xe(this,yo)}trackResult(t,e){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),e==null||e(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Xe(this,ph).status==="pending"&&Xe(this,ph).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(t){Xe(this,h1).add(t)}getCurrentQuery(){return Xe(this,En)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=Xe(this,zo).defaultQueryOptions(t),n=Xe(this,zo).getQueryCache().build(Xe(this,zo),e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return Tn(this,$n,i2).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Xe(this,yo)))}createResult(t,e){var F;const n=Xe(this,En),i=this.options,a=Xe(this,yo),s=Xe(this,$p),o=Xe(this,u1),u=t!==n?t.state:Xe(this,Bw),{state:c}=t;let f={...c},h=!1,d;if(e._optimisticResults){const P=this.hasListeners(),D=!P&&aK(t,e),R=P&&sK(t,n,e,i);(D||R)&&(f={...f,...lle(c.data,t.options)}),e._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:A,errorUpdatedAt:p,status:g}=f;d=f.data;let m=!1;if(e.placeholderData!==void 0&&d===void 0&&g==="pending"){let P;a!=null&&a.isPlaceholderData&&e.placeholderData===(o==null?void 0:o.placeholderData)?(P=a.data,m=!0):P=typeof e.placeholderData=="function"?e.placeholderData((F=Xe(this,f1))==null?void 0:F.state.data,Xe(this,f1)):e.placeholderData,P!==void 0&&(g="success",d=cM(a==null?void 0:a.data,P,e),h=!0)}if(e.select&&d!==void 0&&!m)if(a&&d===(s==null?void 0:s.data)&&e.select===Xe(this,Tw))d=Xe(this,c1);else try{Ar(this,Tw,e.select),d=e.select(d),d=cM(a==null?void 0:a.data,d,e),Ar(this,c1,d),Ar(this,rA,null)}catch(P){Ar(this,rA,P)}Xe(this,rA)&&(A=Xe(this,rA),d=Xe(this,c1),p=Date.now(),g="error");const v=f.fetchStatus==="fetching",y=g==="pending",b=g==="error",_=y&&v,T=d!==void 0,N={status:g,fetchStatus:f.fetchStatus,isPending:y,isSuccess:g==="success",isError:b,isInitialLoading:_,isLoading:_,data:d,dataUpdatedAt:f.dataUpdatedAt,error:A,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!y,isLoadingError:b&&!T,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&T,isStale:fR(t,e),refetch:this.refetch,promise:Xe(this,ph),isEnabled:hu(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=E=>{N.status==="error"?E.reject(N.error):N.data!==void 0&&E.resolve(N.data)},D=()=>{const E=Ar(this,ph,N.promise=fM());P(E)},R=Xe(this,ph);switch(R.status){case"pending":t.queryHash===n.queryHash&&P(R);break;case"fulfilled":(N.status==="error"||N.data!==R.value)&&D();break;case"rejected":(N.status!=="error"||N.error!==R.reason)&&D();break}}return N}updateResult(){const t=Xe(this,yo),e=this.createResult(Xe(this,En),this.options);if(Ar(this,$p,Xe(this,En).state),Ar(this,u1,this.options),Xe(this,$p).data!==void 0&&Ar(this,f1,Xe(this,En)),lM(e,t))return;Ar(this,yo,e);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!Xe(this,h1).size)return!0;const s=new Set(a??Xe(this,h1));return this.options.throwOnError&&s.add("error"),Object.keys(Xe(this,yo)).some(o=>{const l=o;return Xe(this,yo)[l]!==t[l]&&s.has(l)})};Tn(this,$n,ule).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Tn(this,$n,gM).call(this)}},zo=new WeakMap,En=new WeakMap,Bw=new WeakMap,yo=new WeakMap,$p=new WeakMap,u1=new WeakMap,ph=new WeakMap,rA=new WeakMap,Tw=new WeakMap,c1=new WeakMap,f1=new WeakMap,Kp=new WeakMap,qp=new WeakMap,nA=new WeakMap,h1=new WeakMap,$n=new WeakSet,i2=function(t){Tn(this,$n,yM).call(this);let e=Xe(this,En).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(Vo)),e},dM=function(){Tn(this,$n,mM).call(this);const t=HA(this.options.staleTime,Xe(this,En));if(kg||Xe(this,yo).isStale||!oM(t))return;const n=rle(Xe(this,yo).dataUpdatedAt,t)+1;Ar(this,Kp,Rp.setTimeout(()=>{Xe(this,yo).isStale||this.updateResult()},n))},AM=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Xe(this,En)):this.options.refetchInterval)??!1},pM=function(t){Tn(this,$n,vM).call(this),Ar(this,nA,t),!(kg||hu(this.options.enabled,Xe(this,En))===!1||!oM(Xe(this,nA))||Xe(this,nA)===0)&&Ar(this,qp,Rp.setInterval(()=>{(this.options.refetchIntervalInBackground||cR.isFocused())&&Tn(this,$n,i2).call(this)},Xe(this,nA)))},gM=function(){Tn(this,$n,dM).call(this),Tn(this,$n,pM).call(this,Tn(this,$n,AM).call(this))},mM=function(){Xe(this,Kp)&&(Rp.clearTimeout(Xe(this,Kp)),Ar(this,Kp,void 0))},vM=function(){Xe(this,qp)&&(Rp.clearInterval(Xe(this,qp)),Ar(this,qp,void 0))},yM=function(){const t=Xe(this,zo).getQueryCache().build(Xe(this,zo),this.options);if(t===Xe(this,En))return;const e=Xe(this,En);Ar(this,En,t),Ar(this,Bw,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},ule=function(t){ks.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(Xe(this,yo))}),Xe(this,zo).getQueryCache().notify({query:Xe(this,En),type:"observerResultsUpdated"})})},UY);function bLe(r,t){return hu(t.enabled,r)!==!1&&r.state.data===void 0&&!(r.state.status==="error"&&t.retryOnMount===!1)}function aK(r,t){return bLe(r,t)||r.state.data!==void 0&&xM(r,t,t.refetchOnMount)}function xM(r,t,e){if(hu(t.enabled,r)!==!1&&HA(t.staleTime,r)!=="static"){const n=typeof e=="function"?e(r):e;return n==="always"||n!==!1&&fR(r,t)}return!1}function sK(r,t,e,n){return(r!==t||hu(n.enabled,r)===!1)&&(!e.suspense||r.state.status!=="error")&&fR(r,e)}function fR(r,t){return hu(t.enabled,r)!==!1&&r.isStaleByTime(HA(t.staleTime,r))}function wLe(r,t){return!lM(r.getCurrentResult(),t)}function oK(r){return{onFetch:(t,e)=>{var c,f,h,d,A;const n=t.options,i=(h=(f=(c=t.fetchOptions)==null?void 0:c.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((d=t.state.data)==null?void 0:d.pages)||[],s=((A=t.state.data)==null?void 0:A.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let p=!1;const g=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},m=ile(t.options,t.fetchOptions),v=async(y,b,_)=>{if(p)return Promise.reject();if(b==null&&y.pages.length)return Promise.resolve(y);const I=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:b,direction:_?"backward":"forward",meta:t.options.meta};return g(D),D})(),N=await m(I),{maxPages:F}=t.options,P=_?hLe:fLe;return{pages:P(y.pages,N,F),pageParams:P(y.pageParams,b,F)}};if(i&&a.length){const y=i==="backward",b=y?_Le:lK,_={pages:a,pageParams:s},T=b(n,_);o=await v(_,T,y)}else{const y=r??a.length;do{const b=l===0?s[0]??n.initialPageParam:lK(n,o);if(l>0&&b==null)break;o=await v(o,b),l++}while(l<y)}return o};t.options.persister?t.fetchFn=()=>{var p,g;return(g=(p=t.options).persister)==null?void 0:g.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e)}:t.fetchFn=u}}}function lK(r,{pages:t,pageParams:e}){const n=t.length-1;return t.length>0?r.getNextPageParam(t[n],t,e[n],e):void 0}function _Le(r,{pages:t,pageParams:e}){var n;return t.length>0?(n=r.getPreviousPageParam)==null?void 0:n.call(r,t[0],t,e[0],e):void 0}var Ew,ef,xo,Xp,tf,jd,HY,SLe=(HY=class extends ole{constructor(t){super();Gr(this,tf);Gr(this,Ew);Gr(this,ef);Gr(this,xo);Gr(this,Xp);Ar(this,Ew,t.client),this.mutationId=t.mutationId,Ar(this,xo,t.mutationCache),Ar(this,ef,[]),this.state=t.state||CLe(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Xe(this,ef).includes(t)||(Xe(this,ef).push(t),this.clearGcTimeout(),Xe(this,xo).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ar(this,ef,Xe(this,ef).filter(e=>e!==t)),this.scheduleGc(),Xe(this,xo).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Xe(this,ef).length||(this.state.status==="pending"?this.scheduleGc():Xe(this,xo).remove(this))}continue(){var t;return((t=Xe(this,Xp))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,l,u,c,f,h,d,A,p,g,m,v,y,b,_,T,I,N,F;const e=()=>{Tn(this,tf,jd).call(this,{type:"continue"})},n={client:Xe(this,Ew),meta:this.options.meta,mutationKey:this.options.mutationKey};Ar(this,Xp,sle({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(P,D)=>{Tn(this,tf,jd).call(this,{type:"failed",failureCount:P,error:D})},onPause:()=>{Tn(this,tf,jd).call(this,{type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Xe(this,xo).canRun(this)}));const i=this.state.status==="pending",a=!Xe(this,Xp).canStart();try{if(i)e();else{Tn(this,tf,jd).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(s=Xe(this,xo).config).onMutate)==null?void 0:o.call(s,t,this,n));const D=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,n));D!==this.state.context&&Tn(this,tf,jd).call(this,{type:"pending",context:D,variables:t,isPaused:a})}const P=await Xe(this,Xp).start();return await((f=(c=Xe(this,xo).config).onSuccess)==null?void 0:f.call(c,P,t,this.state.context,this,n)),await((d=(h=this.options).onSuccess)==null?void 0:d.call(h,P,t,this.state.context,n)),await((p=(A=Xe(this,xo).config).onSettled)==null?void 0:p.call(A,P,null,this.state.variables,this.state.context,this,n)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,P,null,t,this.state.context,n)),Tn(this,tf,jd).call(this,{type:"success",data:P}),P}catch(P){try{throw await((y=(v=Xe(this,xo).config).onError)==null?void 0:y.call(v,P,t,this.state.context,this,n)),await((_=(b=this.options).onError)==null?void 0:_.call(b,P,t,this.state.context,n)),await((I=(T=Xe(this,xo).config).onSettled)==null?void 0:I.call(T,void 0,P,this.state.variables,this.state.context,this,n)),await((F=(N=this.options).onSettled)==null?void 0:F.call(N,void 0,P,t,this.state.context,n)),P}finally{Tn(this,tf,jd).call(this,{type:"error",error:P})}}finally{Xe(this,xo).runNext(this)}}},Ew=new WeakMap,ef=new WeakMap,xo=new WeakMap,Xp=new WeakMap,tf=new WeakSet,jd=function(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),ks.batch(()=>{Xe(this,ef).forEach(n=>{n.onMutationUpdate(t)}),Xe(this,xo).notify({mutation:this,type:"updated",action:t})})},HY);function CLe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gh,tc,kw,QY,BLe=(QY=class extends i_{constructor(t={}){super();Gr(this,gh);Gr(this,tc);Gr(this,kw);this.config=t,Ar(this,gh,new Set),Ar(this,tc,new Map),Ar(this,kw,0)}build(t,e,n){const i=new SLe({client:t,mutationCache:this,mutationId:++z_(this,kw)._,options:t.defaultMutationOptions(e),state:n});return this.add(i),i}add(t){Xe(this,gh).add(t);const e=B4(t);if(typeof e=="string"){const n=Xe(this,tc).get(e);n?n.push(t):Xe(this,tc).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Xe(this,gh).delete(t)){const e=B4(t);if(typeof e=="string"){const n=Xe(this,tc).get(e);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&Xe(this,tc).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=B4(t);if(typeof e=="string"){const n=Xe(this,tc).get(e),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const e=B4(t);if(typeof e=="string"){const i=(n=Xe(this,tc).get(e))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ks.batch(()=>{Xe(this,gh).forEach(t=>{this.notify({type:"removed",mutation:t})}),Xe(this,gh).clear(),Xe(this,tc).clear()})}getAll(){return Array.from(Xe(this,gh))}find(t){const e={exact:!0,...t};return this.getAll().find(n=>eK(e,n))}findAll(t={}){return this.getAll().filter(e=>eK(t,e))}notify(t){ks.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return ks.batch(()=>Promise.all(t.map(e=>e.continue().catch(Vo))))}},gh=new WeakMap,tc=new WeakMap,kw=new WeakMap,QY);function B4(r){var t;return(t=r.options.scope)==null?void 0:t.id}var rf,zY,TLe=(zY=class extends i_{constructor(t={}){super();Gr(this,rf);this.config=t,Ar(this,rf,new Map)}build(t,e,n){const i=e.queryKey,a=e.queryHash??lR(i,e);let s=this.get(a);return s||(s=new yLe({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){Xe(this,rf).has(t.queryHash)||(Xe(this,rf).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=Xe(this,rf).get(t.queryHash);e&&(t.destroy(),e===t&&Xe(this,rf).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ks.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Xe(this,rf).get(t)}getAll(){return[...Xe(this,rf).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>J$(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>J$(t,n)):e}notify(t){ks.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){ks.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ks.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},rf=new WeakMap,zY),Wi,iA,aA,d1,A1,sA,p1,g1,VY,ELe=(VY=class{constructor(r={}){Gr(this,Wi);Gr(this,iA);Gr(this,aA);Gr(this,d1);Gr(this,A1);Gr(this,sA);Gr(this,p1);Gr(this,g1);Ar(this,Wi,r.queryCache||new TLe),Ar(this,iA,r.mutationCache||new BLe),Ar(this,aA,r.defaultOptions||{}),Ar(this,d1,new Map),Ar(this,A1,new Map),Ar(this,sA,0)}mount(){z_(this,sA)._++,Xe(this,sA)===1&&(Ar(this,p1,cR.subscribe(async r=>{r&&(await this.resumePausedMutations(),Xe(this,Wi).onFocus())})),Ar(this,g1,z6.subscribe(async r=>{r&&(await this.resumePausedMutations(),Xe(this,Wi).onOnline())})))}unmount(){var r,t;z_(this,sA)._--,Xe(this,sA)===0&&((r=Xe(this,p1))==null||r.call(this),Ar(this,p1,void 0),(t=Xe(this,g1))==null||t.call(this),Ar(this,g1,void 0))}isFetching(r){return Xe(this,Wi).findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return Xe(this,iA).findAll({...r,status:"pending"}).length}getQueryData(r){var e;const t=this.defaultQueryOptions({queryKey:r});return(e=Xe(this,Wi).get(t.queryHash))==null?void 0:e.state.data}ensureQueryData(r){const t=this.defaultQueryOptions(r),e=Xe(this,Wi).build(this,t),n=e.state.data;return n===void 0?this.fetchQuery(r):(r.revalidateIfStale&&e.isStaleByTime(HA(t.staleTime,e))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(r){return Xe(this,Wi).findAll(r).map(({queryKey:t,state:e})=>{const n=e.data;return[t,n]})}setQueryData(r,t,e){const n=this.defaultQueryOptions({queryKey:r}),i=Xe(this,Wi).get(n.queryHash),a=i==null?void 0:i.state.data,s=lLe(t,a);if(s!==void 0)return Xe(this,Wi).build(this,n).setData(s,{...e,manual:!0})}setQueriesData(r,t,e){return ks.batch(()=>Xe(this,Wi).findAll(r).map(({queryKey:n})=>[n,this.setQueryData(n,t,e)]))}getQueryState(r){var e;const t=this.defaultQueryOptions({queryKey:r});return(e=Xe(this,Wi).get(t.queryHash))==null?void 0:e.state}removeQueries(r){const t=Xe(this,Wi);ks.batch(()=>{t.findAll(r).forEach(e=>{t.remove(e)})})}resetQueries(r,t){const e=Xe(this,Wi);return ks.batch(()=>(e.findAll(r).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...r},t)))}cancelQueries(r,t={}){const e={revert:!0,...t},n=ks.batch(()=>Xe(this,Wi).findAll(r).map(i=>i.cancel(e)));return Promise.all(n).then(Vo).catch(Vo)}invalidateQueries(r,t={}){return ks.batch(()=>(Xe(this,Wi).findAll(r).forEach(e=>{e.invalidate()}),(r==null?void 0:r.refetchType)==="none"?Promise.resolve():this.refetchQueries({...r,type:(r==null?void 0:r.refetchType)??(r==null?void 0:r.type)??"active"},t)))}refetchQueries(r,t={}){const e={...t,cancelRefetch:t.cancelRefetch??!0},n=ks.batch(()=>Xe(this,Wi).findAll(r).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,e);return e.throwOnError||(a=a.catch(Vo)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Vo)}fetchQuery(r){const t=this.defaultQueryOptions(r);t.retry===void 0&&(t.retry=!1);const e=Xe(this,Wi).build(this,t);return e.isStaleByTime(HA(t.staleTime,e))?e.fetch(t):Promise.resolve(e.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(Vo).catch(Vo)}fetchInfiniteQuery(r){return r.behavior=oK(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(Vo).catch(Vo)}ensureInfiniteQueryData(r){return r.behavior=oK(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return z6.isOnline()?Xe(this,iA).resumePausedMutations():Promise.resolve()}getQueryCache(){return Xe(this,Wi)}getMutationCache(){return Xe(this,iA)}getDefaultOptions(){return Xe(this,aA)}setDefaultOptions(r){Ar(this,aA,r)}setQueryDefaults(r,t){Xe(this,d1).set(rw(r),{queryKey:r,defaultOptions:t})}getQueryDefaults(r){const t=[...Xe(this,d1).values()],e={};return t.forEach(n=>{nw(r,n.queryKey)&&Object.assign(e,n.defaultOptions)}),e}setMutationDefaults(r,t){Xe(this,A1).set(rw(r),{mutationKey:r,defaultOptions:t})}getMutationDefaults(r){const t=[...Xe(this,A1).values()],e={};return t.forEach(n=>{nw(r,n.mutationKey)&&Object.assign(e,n.defaultOptions)}),e}defaultQueryOptions(r){if(r._defaulted)return r;const t={...Xe(this,aA).queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return t.queryHash||(t.queryHash=lR(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===uR&&(t.enabled=!1),t}defaultMutationOptions(r){return r!=null&&r._defaulted?r:{...Xe(this,aA).mutations,...(r==null?void 0:r.mutationKey)&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){Xe(this,Wi).clear(),Xe(this,iA).clear()}},Wi=new WeakMap,iA=new WeakMap,aA=new WeakMap,d1=new WeakMap,A1=new WeakMap,sA=new WeakMap,p1=new WeakMap,g1=new WeakMap,VY),cle=Ce.createContext(void 0),kLe=r=>{const t=Ce.useContext(cle);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},NLe=({client:r,children:t})=>(Ce.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),x.jsx(cle.Provider,{value:r,children:t})),fle=Ce.createContext(!1),FLe=()=>Ce.useContext(fle);fle.Provider;function ILe(){let r=!1;return{clearReset:()=>{r=!1},reset:()=>{r=!0},isReset:()=>r}}var MLe=Ce.createContext(ILe()),LLe=()=>Ce.useContext(MLe),DLe=(r,t)=>{(r.suspense||r.throwOnError||r.experimental_prefetchInRender)&&(t.isReset()||(r.retryOnMount=!1))},PLe=r=>{Ce.useEffect(()=>{r.clearReset()},[r])},RLe=({result:r,errorResetBoundary:t,throwOnError:e,query:n,suspense:i})=>r.isError&&!t.isReset()&&!r.isFetching&&n&&(i&&r.data===void 0||dLe(e,[r.error,n])),OLe=r=>{if(r.suspense){const e=i=>i==="static"?i:Math.max(i??1e3,1e3),n=r.staleTime;r.staleTime=typeof n=="function"?(...i)=>e(n(...i)):e(n),typeof r.gcTime=="number"&&(r.gcTime=Math.max(r.gcTime,1e3))}},jLe=(r,t)=>r.isLoading&&r.isFetching&&!t,ULe=(r,t)=>(r==null?void 0:r.suspense)&&t.isPending,uK=(r,t,e)=>t.fetchOptimistic(r).catch(()=>{e.clearReset()});function HLe(r,t,e){var f,h,d,A,p;const n=FLe(),i=LLe(),a=kLe(),s=a.defaultQueryOptions(r);(h=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,s),s._optimisticResults=n?"isRestoring":"optimistic",OLe(s),DLe(s,i),PLe(i);const o=!a.getQueryCache().get(s.queryHash),[l]=Ce.useState(()=>new t(a,s)),u=l.getOptimisticResult(s),c=!n&&r.subscribed!==!1;if(Ce.useSyncExternalStore(Ce.useCallback(g=>{const m=c?l.subscribe(ks.batchCalls(g)):Vo;return l.updateResult(),m},[l,c]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),Ce.useEffect(()=>{l.setOptions(s)},[s,l]),ULe(s,u))throw uK(s,l,i);if(RLe({result:u,errorResetBoundary:i,throwOnError:s.throwOnError,query:a.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;if((A=(d=a.getDefaultOptions().queries)==null?void 0:d._experimental_afterQuery)==null||A.call(d,s,u),s.experimental_prefetchInRender&&!kg&&jLe(u,n)){const g=o?uK(s,l,i):(p=a.getQueryCache().get(s.queryHash))==null?void 0:p.promise;g==null||g.catch(Vo).finally(()=>{l.updateResult()})}return s.notifyOnChangeProps?u:l.trackResult(u)}function cK(r,t){return HLe(r,xLe)}const fK=tle("https://euouewrasvuwdapcxdcs.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV1b3Vld3Jhc3Z1d2RhcGN4ZGNzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyNjEwNzIsImV4cCI6MjA3NzgzNzA3Mn0.sBMYDCQouZD98kB1TlkmE0nqJycvZ4wj_uY3kSqkR-w"),hK=.15,QLe=new ELe({defaultOptions:{queries:{retry:1,staleTime:5*60*1e3,refetchOnWindowFocus:!1}}}),zLe=()=>{const{orders:r,stats:t,loading:e,error:n}=yy(),{data:i=[],isLoading:a}=cK({queryKey:["payment_methods"],queryFn:async()=>{const{data:D,error:R}=await fK.from("payment_methods").select("id, code, name, percentage_fee, fixed_fee").eq("is_active",!0);if(R)throw R;return D||[]}}),{data:s=[],isLoading:o}=cK({queryKey:["expenses","last30days"],queryFn:async()=>{const D=new Date;D.setDate(D.getDate()-30);const{data:R,error:E}=await fK.from("expenses").select("amount").gte("date",D.toISOString().split("T")[0]);if(E)throw E;return R||[]}}),l=Ce.useMemo(()=>s.reduce((D,R)=>D+Number(R.amount||0),0),[s]),u=(D,R)=>{if(!D||!R)return 0;const E=i.find(w=>w.code===D);if(!E)return 0;const k=R*(E.percentage_fee/100)+(E.fixed_fee||0);return Number(k.toFixed(2))},c=D=>{var C;const R=D.total_price||0,E=((C=D.products)==null?void 0:C.reduce((S,B)=>S+(B.cost_subtotal||0),0))||0,L=(D.shipping_cost||0)*(1+hK),k=u(D.payment_method,R);return{netProfit:R-k-L-E,paymentFee:k,shippingWithTax:L,productCostInclTax:E}},f=Ce.useMemo(()=>r.filter(D=>D.is_locked===!0),[r]),h=Ce.useMemo(()=>f.reduce((D,R)=>D+(R.total_price||0),0),[f]);Ce.useMemo(()=>f.reduce((D,R)=>D+c(R).netProfit,0),[f]);const d=Ce.useMemo(()=>f.reduce((D,R)=>D+c(R).paymentFee,0),[f]),A=Ce.useMemo(()=>r.filter(D=>!D.is_locked&&D.status!=="").length,[r]),p=Ce.useMemo(()=>r.filter(D=>D.is_locked).length,[r]),g=Ce.useMemo(()=>r.filter(D=>D.status==="").length,[r]),m=Ce.useMemo(()=>f.reduce((D,R)=>D+c(R).shippingWithTax,0),[f]),v=Ce.useMemo(()=>f.reduce((D,R)=>D+c(R).productCostInclTax,0),[f]),y=h-d-m-v-l,b=Ce.useMemo(()=>{const D=new Date;return Array.from({length:7},(R,E)=>{const L=new Date(D);return L.setDate(D.getDate()-(6-E)),L})},[]),_=Ce.useMemo(()=>b.map(D=>f.filter(E=>new Date(E.order_date).toDateString()===D.toDateString()).reduce((E,L)=>E+c(L).netProfit,0)),[f,b]),T=Ce.useMemo(()=>b.map(D=>D.toLocaleDateString("EN-US",{day:"numeric",month:"short"})),[b]),I=Ce.useMemo(()=>({title:{text:"   ( 7 )"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:T},yAxis:{name:"  (.)"},series:[{type:"line",data:_,smooth:!0,lineStyle:{color:"#91cc75",width:3},itemStyle:{color:"#91cc75"},areaStyle:{color:"rgba(145, 204, 117, 0.2)"}}],grid:{left:"10%",right:"10%",bottom:"15%"}}),[T,_]),N=Ce.useMemo(()=>{const D={};return f.forEach(R=>{const E=R.shipping_company||" ",L=(R.shipping_cost||0)*(1+hK);D[E]=(D[E]||0)+L}),Object.entries(D).sort(([,R],[,E])=>E-R).map(([R,E])=>({company:R,total:Number(E.toFixed(2))}))},[f]),F=D=>`SAR ${D.toLocaleString("EN-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`;return e||a||o?x.jsx("div",{className:"p-4 min-h-screen bg-[#fcfcfc]",children:x.jsxs("div",{className:"animate-pulse space-y-6",children:[x.jsx("div",{className:"h-6 bg-gray-200 rounded-xl w-1/4"}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[...Array(3)].map((D,R)=>x.jsxs("div",{className:"bg-white rounded-xl p-6 border",children:[x.jsx("div",{className:"h-10 bg-gray-200 rounded-lg mb-4"}),x.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})]},R))})]})}):n?x.jsxs("div",{className:"p-8 text-center text-red-600",children:[" : ",n]}):x.jsxs("div",{className:"p-4 min-h-screen bg-[#fcfcfc] space-y-6",dir:"rtl",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[x.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-2 md:p-3 rounded-xl",children:x.jsx(Zi,{className:"h-6 w-6 md:h-8 md:w-8 text-white"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-xl md:text-3xl font-bold text-gray-900",children:"  "}),x.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"    "})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 md:gap-6",children:[x.jsx("div",{className:"bg-white rounded-xl md:rounded-2xl p-4 md:p-6 border shadow-md hover:shadow-xl transition-all border-r-4 border-r-blue-500",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:" "}),x.jsx("p",{className:"text-2xl md:text-3xl font-bold text-gray-900 mt-2",children:A})]}),x.jsx("div",{className:"p-3 bg-blue-50 rounded-full",children:x.jsx(Li,{className:"h-6 w-6 text-blue-600"})})]})}),x.jsx("div",{className:"bg-white rounded-xl md:rounded-2xl p-4 md:p-6 border shadow-md hover:shadow-xl transition-all border-r-4 border-r-green-500",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:" "}),x.jsx("p",{className:"text-2xl md:text-3xl font-bold text-gray-900 mt-2",children:p})]}),x.jsx("div",{className:"p-3 bg-green-50 rounded-full",children:x.jsx(Is,{className:"h-6 w-6 text-green-600"})})]})}),x.jsx("div",{className:"bg-white rounded-xl md:rounded-2xl p-4 md:p-6 border shadow-md hover:shadow-xl transition-all border-r-4 border-r-red-500",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:" "}),x.jsx("p",{className:"text-2xl md:text-3xl font-bold text-gray-900 mt-2",children:g})]}),x.jsx("div",{className:"p-3 bg-red-50 rounded-full",children:x.jsx(Li,{className:"h-6 w-6 text-red-600"})})]})})]}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:[{title:" ",value:F(h),color:"green"},{title:"  (  )",value:F(y),color:y>=0?"blue":"red"},{title:"  ",value:f.length>0?F(h/f.length):"SAR 0.00",color:"purple"}].map((D,R)=>x.jsxs("div",{className:"bg-white rounded-xl md:rounded-2xl p-4 md:p-6 border shadow-md hover:shadow-xl transition-all",children:[x.jsx("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:x.jsxs("div",{className:`p-2 md:p-3 rounded-lg bg-${D.color}-50 border border-${D.color}-200`,children:[R===0&&x.jsx(Zi,{className:`h-5 w-5 md:h-6 md:w-6 text-${D.color}-600`}),R===1&&x.jsx(Is,{className:`h-5 w-5 md:h-6 md:w-6 text-${D.color}-600`}),R===2&&x.jsx(Li,{className:`h-5 w-5 md:h-6 md:w-6 text-${D.color}-600`})]})}),x.jsx("h3",{className:"text-lg md:text-2xl font-bold text-gray-900",children:D.value}),x.jsx("p",{className:"text-gray-600 text-xs md:text-sm mt-1",children:D.title})]},R))}),x.jsxs("div",{className:"bg-white rounded-xl md:rounded-2xl p-4 md:p-6 border shadow-lg",children:[x.jsx("h3",{className:"text-lg md:text-xl font-bold mb-4 md:mb-6",children:"  "}),x.jsxs("div",{className:"space-y-2 md:space-y-3 text-xs md:text-sm",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:" "}),x.jsx("strong",{className:"text-sm md:text-base",children:F(h)})]}),x.jsxs("div",{className:"flex justify-between text-red-600",children:[x.jsx("span",{children:"  "}),x.jsxs("strong",{className:"text-sm md:text-base",children:["-",F(d)]})]}),x.jsxs("div",{className:"flex justify-between text-red-600",children:[x.jsx("span",{children:"  ( )"}),x.jsxs("strong",{className:"text-sm md:text-base",children:["-",F(m)]})]}),x.jsxs("div",{className:"flex justify-between text-red-600",children:[x.jsx("span",{children:" "}),x.jsxs("strong",{className:"text-sm md:text-base",children:["-",F(v)]})]}),x.jsxs("div",{className:"flex justify-between text-red-600",children:[x.jsx("span",{children:"  ( 30 )"}),x.jsxs("strong",{className:"text-sm md:text-base",children:["-",F(l)]})]}),x.jsxs("div",{className:"border-t pt-3 md:pt-4 flex justify-between text-base md:text-lg font-bold",children:[x.jsx("span",{children:"  "}),x.jsx("span",{className:y>=0?"text-green-600":"text-red-600",children:F(y)})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl md:rounded-2xl p-4 md:p-6 border shadow-lg",children:[x.jsx("h3",{className:"text-lg md:text-xl font-bold mb-4",children:"   ( 7 )"}),x.jsx("div",{className:"-mx-2 md:mx-0",children:x.jsx(QFe,{option:I,style:{height:"280px"},className:"md:!h-[350px]"})})]}),x.jsxs("div",{className:"bg-white rounded-xl md:rounded-2xl p-4 md:p-6 border shadow-lg",children:[x.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-4 md:mb-6",children:[x.jsx(sc,{className:"h-5 w-5 md:h-7 md:w-7 text-orange-600"}),x.jsx("h3",{className:"text-base md:text-xl font-bold",children:"   "})]}),x.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:x.jsxs("table",{className:"w-full text-xs md:text-sm",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-3 md:px-6 py-2 md:py-3 text-right font-bold",children:" "}),x.jsx("th",{className:"px-3 md:px-6 py-2 md:py-3 text-right font-bold",children:" "})]})}),x.jsx("tbody",{children:N.map(({company:D,total:R})=>x.jsxs("tr",{className:"hover:bg-gray-50 border-b",children:[x.jsx("td",{className:"px-3 md:px-6 py-3 md:py-4",children:D}),x.jsx("td",{className:"px-3 md:px-6 py-3 md:py-4 font-semibold",children:F(R)})]},D))})]})})]})]})},VLe=()=>x.jsx(NLe,{client:QLe,children:x.jsx(zLe,{})}),hR=()=>{const[r,t]=Ce.useState([]),[e,n]=Ce.useState([]),[i,a]=Ce.useState(!0),s=async()=>{a(!0);try{const[h,d]=await Promise.all([Ct.from("entities").select("id, name, type, contact_info, created_at").eq("type",""),Ct.from("receivables").select(`
            id,
            entity_id,
            description,
            total_amount,
            remaining_amount,
            due_date,
            created_at,
            payments (
              id,
              receivable_id,
              amount,
              payment_date,
              receipt_number,
              notes,
              created_at
            )
          `)]);if(h.error)throw h.error;if(d.error)throw d.error;const A=(d.data||[]).map(p=>({...p,total_amount:parseFloat(p.total_amount)||0,remaining_amount:parseFloat(p.remaining_amount)||0,status:parseFloat(p.remaining_amount)>0?"":" ",payments:(p.payments||[]).map(g=>({...g,amount:parseFloat(g.amount)||0}))}));t(h.data||[]),n(A)}catch(h){console.error("  :",h),alert("    : "+h.message)}finally{a(!1)}};return Ce.useEffect(()=>{s()},[]),{entities:r,receivables:e,loading:i,addEntity:async h=>{var g,m,v;const d=h.contact_info||{},{data:A,error:p}=await Ct.from("entities").insert([{name:h.name.trim(),type:h.type,contact_info:{address:((g=d.address)==null?void 0:g.trim())||null,phone:((m=d.phone)==null?void 0:m.trim())||null,email:((v=d.email)==null?void 0:v.trim())||null}}]).select().single();if(p)throw console.error("   :",p),p;return t(y=>[...y,A]),A},updateEntity:async(h,d)=>{var b,_,T,I;const A=r.find(N=>N.id===h);if(!A)throw new Error("  ");const p=A.contact_info||{},g=d.contact_info||{},m={address:g.address!==void 0?((b=g.address)==null?void 0:b.trim())||null:p.address||null,phone:g.phone!==void 0?((_=g.phone)==null?void 0:_.trim())||null:p.phone||null,email:g.email!==void 0?((T=g.email)==null?void 0:T.trim())||null:p.email||null},{data:v,error:y}=await Ct.from("entities").update({name:(I=d.name)==null?void 0:I.trim(),contact_info:m}).eq("id",h).select().single();if(y)throw console.error("   :",y),y;return t(N=>N.map(F=>F.id===h?{...F,...v}:F)),v},deleteEntity:async h=>{try{const{error:d}=await Ct.from("receivables").delete().eq("entity_id",h);if(d)throw d;const{error:A}=await Ct.from("entities").delete().eq("id",h);if(A)throw A;t(p=>p.filter(g=>g.id!==h)),n(p=>p.filter(g=>g.entity_id!==h))}catch(d){throw console.error("  :",d),d}},addPayment:async h=>{const{data:d,error:A}=await Ct.from("payments").insert([h]).select().single();if(A)throw A;const{data:p,error:g}=await Ct.from("receivables").select("remaining_amount").eq("id",h.receivable_id).single();if(g)throw g;const m=(parseFloat(p.remaining_amount)||0)-h.amount,{data:v,error:y}=await Ct.from("receivables").update({remaining_amount:m>0?m:0}).eq("id",h.receivable_id).select().single();if(y)throw y;n(b=>b.map(_=>_.id===h.receivable_id?{..._,...v,remaining_amount:m>0?m:0,status:m>0?"":" ",payments:[..._.payments||[],d]}:_))},addReceivable:async h=>{var g;const{data:d,error:A}=await Ct.from("receivables").insert([{entity_id:h.entity_id,description:h.description,total_amount:h.total_amount,remaining_amount:h.total_amount,due_date:h.due_date,notes:((g=h.notes)==null?void 0:g.trim())||null}]).select(`
        id,
        entity_id,
        description,
        total_amount,
        remaining_amount,
        due_date,
        created_at,
        payments (
          id,
          receivable_id,
          amount,
          payment_date,
          receipt_number,
          notes,
          created_at
        )
      `).single();if(A)throw console.error("   :",A),A;const p={...d,total_amount:parseFloat(d.total_amount)||0,remaining_amount:parseFloat(d.remaining_amount)||0,status:parseFloat(d.remaining_amount)>0?"":" ",payments:(d.payments||[]).map(m=>({...m,amount:parseFloat(m.amount)||0}))};return n(m=>[...m,p]),p},refresh:s}};let GLe={data:""},WLe=r=>{if(typeof window=="object"){let t=(r?r.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(r||document.head).appendChild(t),t.firstChild}return r||GLe},$Le=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,KLe=/\/\*[^]*?\*\/|  +/g,dK=/\n+/g,Yd=(r,t)=>{let e="",n="",i="";for(let a in r){let s=r[a];a[0]=="@"?a[1]=="i"?e=a+" "+s+";":n+=a[1]=="f"?Yd(s,a):a+"{"+Yd(s,a[1]=="k"?"":t)+"}":typeof s=="object"?n+=Yd(s,t?t.replace(/([^,])+/g,o=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Yd.p?Yd.p(a,s):a+":"+s+";")}return e+(t&&i?t+"{"+i+"}":i)+n},eh={},hle=r=>{if(typeof r=="object"){let t="";for(let e in r)t+=e+hle(r[e]);return t}return r},qLe=(r,t,e,n,i)=>{let a=hle(r),s=eh[a]||(eh[a]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(a));if(!eh[s]){let l=a!==r?r:(u=>{let c,f,h=[{}];for(;c=$Le.exec(u.replace(KLe,""));)c[4]?h.shift():c[3]?(f=c[3].replace(dK," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][c[1]]=c[2].replace(dK," ").trim();return h[0]})(r);eh[s]=Yd(i?{["@keyframes "+s]:l}:l,e?"":"."+s)}let o=e&&eh.g?eh.g:null;return e&&(eh.g=eh[s]),((l,u,c,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(eh[s],t,n,o),s},XLe=(r,t,e)=>r.reduce((n,i,a)=>{let s=t[a];if(s&&s.call){let o=s(e),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;s=l?"."+l:o&&typeof o=="object"?o.props?"":Yd(o,""):o===!1?"":o}return n+i+(s??"")},"");function L8(r){let t=this||{},e=r.call?r(t.p):r;return qLe(e.unshift?e.raw?XLe(e,[].slice.call(arguments,1),t.p):e.reduce((n,i)=>Object.assign(n,i&&i.call?i(t.p):i),{}):e,WLe(t.target),t.g,t.o,t.k)}let dle,bM,wM;L8.bind({g:1});let qh=L8.bind({k:1});function YLe(r,t,e,n){Yd.p=t,dle=r,bM=e,wM=n}function m0(r,t){let e=this||{};return function(){let n=arguments;function i(a,s){let o=Object.assign({},a),l=o.className||i.className;e.p=Object.assign({theme:bM&&bM()},o),e.o=/ *go\d+/.test(l),o.className=L8.apply(e,n)+(l?" "+l:"");let u=r;return r[0]&&(u=o.as||r,delete o.as),wM&&u[0]&&wM(o),dle(u,o)}return i}}var ZLe=r=>typeof r=="function",V6=(r,t)=>ZLe(r)?r(t):r,JLe=(()=>{let r=0;return()=>(++r).toString()})(),Ale=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");r=!t||t.matches}return r}})(),eDe=20,dR="default",ple=(r,t)=>{let{toastLimit:e}=r.settings;switch(t.type){case 0:return{...r,toasts:[t.toast,...r.toasts].slice(0,e)};case 1:return{...r,toasts:r.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:n}=t;return ple(r,{type:r.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=t;return{...r,toasts:r.toasts.map(s=>s.id===i||i===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return t.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...r,pausedAt:t.time};case 6:let a=t.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},q3=[],gle={toasts:[],pausedAt:void 0,settings:{toastLimit:eDe}},Af={},mle=(r,t=dR)=>{Af[t]=ple(Af[t]||gle,r),q3.forEach(([e,n])=>{e===t&&n(Af[t])})},vle=r=>Object.keys(Af).forEach(t=>mle(r,t)),tDe=r=>Object.keys(Af).find(t=>Af[t].toasts.some(e=>e.id===r)),D8=(r=dR)=>t=>{mle(t,r)},rDe={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},nDe=(r={},t=dR)=>{let[e,n]=Ce.useState(Af[t]||gle),i=Ce.useRef(Af[t]);Ce.useEffect(()=>(i.current!==Af[t]&&n(Af[t]),q3.push([t,n]),()=>{let s=q3.findIndex(([o])=>o===t);s>-1&&q3.splice(s,1)}),[t]);let a=e.toasts.map(s=>{var o,l,u;return{...r,...r[s.type],...s,removeDelay:s.removeDelay||((o=r[s.type])==null?void 0:o.removeDelay)||(r==null?void 0:r.removeDelay),duration:s.duration||((l=r[s.type])==null?void 0:l.duration)||(r==null?void 0:r.duration)||rDe[s.type],style:{...r.style,...(u=r[s.type])==null?void 0:u.style,...s.style}}});return{...e,toasts:a}},iDe=(r,t="blank",e)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...e,id:(e==null?void 0:e.id)||JLe()}),a_=r=>(t,e)=>{let n=iDe(t,r,e);return D8(n.toasterId||tDe(n.id))({type:2,toast:n}),n.id},$a=(r,t)=>a_("blank")(r,t);$a.error=a_("error");$a.success=a_("success");$a.loading=a_("loading");$a.custom=a_("custom");$a.dismiss=(r,t)=>{let e={type:3,toastId:r};t?D8(t)(e):vle(e)};$a.dismissAll=r=>$a.dismiss(void 0,r);$a.remove=(r,t)=>{let e={type:4,toastId:r};t?D8(t)(e):vle(e)};$a.removeAll=r=>$a.remove(void 0,r);$a.promise=(r,t,e)=>{let n=$a.loading(t.loading,{...e,...e==null?void 0:e.loading});return typeof r=="function"&&(r=r()),r.then(i=>{let a=t.success?V6(t.success,i):void 0;return a?$a.success(a,{id:n,...e,...e==null?void 0:e.success}):$a.dismiss(n),i}).catch(i=>{let a=t.error?V6(t.error,i):void 0;a?$a.error(a,{id:n,...e,...e==null?void 0:e.error}):$a.dismiss(n)}),r};var aDe=1e3,sDe=(r,t="default")=>{let{toasts:e,pausedAt:n}=nDe(r,t),i=Ce.useRef(new Map).current,a=Ce.useCallback((f,h=aDe)=>{if(i.has(f))return;let d=setTimeout(()=>{i.delete(f),s({type:4,toastId:f})},h);i.set(f,d)},[]);Ce.useEffect(()=>{if(n)return;let f=Date.now(),h=e.map(d=>{if(d.duration===1/0)return;let A=(d.duration||0)+d.pauseDuration-(f-d.createdAt);if(A<0){d.visible&&$a.dismiss(d.id);return}return setTimeout(()=>$a.dismiss(d.id,t),A)});return()=>{h.forEach(d=>d&&clearTimeout(d))}},[e,n,t]);let s=Ce.useCallback(D8(t),[t]),o=Ce.useCallback(()=>{s({type:5,time:Date.now()})},[s]),l=Ce.useCallback((f,h)=>{s({type:1,toast:{id:f,height:h}})},[s]),u=Ce.useCallback(()=>{n&&s({type:6,time:Date.now()})},[n,s]),c=Ce.useCallback((f,h)=>{let{reverseOrder:d=!1,gutter:A=8,defaultPosition:p}=h||{},g=e.filter(y=>(y.position||p)===(f.position||p)&&y.height),m=g.findIndex(y=>y.id===f.id),v=g.filter((y,b)=>b<m&&y.visible).length;return g.filter(y=>y.visible).slice(...d?[v+1]:[0,v]).reduce((y,b)=>y+(b.height||0)+A,0)},[e]);return Ce.useEffect(()=>{e.forEach(f=>{if(f.dismissed)a(f.id,f.removeDelay);else{let h=i.get(f.id);h&&(clearTimeout(h),i.delete(f.id))}})},[e,a]),{toasts:e,handlers:{updateHeight:l,startPause:o,endPause:u,calculateOffset:c}}},oDe=qh`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,lDe=qh`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,uDe=qh`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,cDe=m0("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oDe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${lDe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${uDe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,fDe=qh`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,hDe=m0("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${fDe} 1s linear infinite;
`,dDe=qh`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ADe=qh`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,pDe=m0("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${dDe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ADe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,gDe=m0("div")`
  position: absolute;
`,mDe=m0("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,vDe=qh`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,yDe=m0("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${vDe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,xDe=({toast:r})=>{let{icon:t,type:e,iconTheme:n}=r;return t!==void 0?typeof t=="string"?Ce.createElement(yDe,null,t):t:e==="blank"?null:Ce.createElement(mDe,null,Ce.createElement(hDe,{...n}),e!=="loading"&&Ce.createElement(gDe,null,e==="error"?Ce.createElement(cDe,{...n}):Ce.createElement(pDe,{...n})))},bDe=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,wDe=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,_De="0%{opacity:0;} 100%{opacity:1;}",SDe="0%{opacity:1;} 100%{opacity:0;}",CDe=m0("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,BDe=m0("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,TDe=(r,t)=>{let e=r.includes("top")?1:-1,[n,i]=Ale()?[_De,SDe]:[bDe(e),wDe(e)];return{animation:t?`${qh(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${qh(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},EDe=Ce.memo(({toast:r,position:t,style:e,children:n})=>{let i=r.height?TDe(r.position||t||"top-center",r.visible):{opacity:0},a=Ce.createElement(xDe,{toast:r}),s=Ce.createElement(BDe,{...r.ariaProps},V6(r.message,r));return Ce.createElement(CDe,{className:r.className,style:{...i,...e,...r.style}},typeof n=="function"?n({icon:a,message:s}):Ce.createElement(Ce.Fragment,null,a,s))});YLe(Ce.createElement);var kDe=({id:r,className:t,style:e,onHeightUpdate:n,children:i})=>{let a=Ce.useCallback(s=>{if(s){let o=()=>{let l=s.getBoundingClientRect().height;n(r,l)};o(),new MutationObserver(o).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[r,n]);return Ce.createElement("div",{ref:a,className:t,style:e},i)},NDe=(r,t)=>{let e=r.includes("top"),n=e?{top:0}:{bottom:0},i=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ale()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(e?1:-1)}px)`,...n,...i}},FDe=L8`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,T4=16,iw=({reverseOrder:r,position:t="top-center",toastOptions:e,gutter:n,children:i,toasterId:a,containerStyle:s,containerClassName:o})=>{let{toasts:l,handlers:u}=sDe(e,a);return Ce.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:T4,left:T4,right:T4,bottom:T4,pointerEvents:"none",...s},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(c=>{let f=c.position||t,h=u.calculateOffset(c,{reverseOrder:r,gutter:n,defaultPosition:t}),d=NDe(f,h);return Ce.createElement(kDe,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?FDe:"",style:d},c.type==="custom"?V6(c.message,c):i?i(c):Ce.createElement(EDe,{toast:c,position:f}))}))},Er=$a;function E4(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var yle={exports:{}};/*! ExcelJS 19-10-2023 */(function(r,t){(function(e){r.exports=e()})(function(){return function e(n,i,a){function s(u,c){if(!i[u]){if(!n[u]){var f=typeof E4=="function"&&E4;if(!c&&f)return f(u,!0);if(o)return o(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var d=i[u]={exports:{}};n[u][0].call(d.exports,function(A){return s(n[u][1][A]||A)},d,d.exports,e,n,i,a)}return i[u].exports}for(var o=typeof E4=="function"&&E4,l=0;l<a.length;l++)s(a[l]);return s}({1:[function(e,n,i){const a=e("fs"),s=e("fast-csv"),o=e("dayjs/plugin/customParseFormat"),l=e("dayjs/plugin/utc"),u=e("dayjs").extend(o).extend(l),c=e("../utils/stream-buf"),{fs:{exists:f}}=e("../utils/utils"),h={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(d){this.workbook=d,this.worksheet=null}async readFile(d,A){if(A=A||{},!await f(d))throw new Error("File not found: "+d);const p=a.createReadStream(d),g=await this.read(p,A);return p.close(),g}read(d,A){return A=A||{},new Promise((p,g)=>{const m=this.workbook.addWorksheet(A.sheetName),v=A.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],y=A.map||function(_){if(_==="")return null;const T=Number(_);if(!Number.isNaN(T)&&T!==1/0)return T;const I=v.reduce((F,P)=>{if(F)return F;const D=u(_,P,!0);return D.isValid()?D:null},null);if(I)return new Date(I.valueOf());const N=h[_];return N!==void 0?N:_},b=s.parse(A.parserOptions).on("data",_=>{m.addRow(_.map(y))}).on("end",()=>{b.emit("worksheet",m)});b.on("worksheet",p).on("error",g),d.pipe(b)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(d,A){return new Promise((p,g)=>{A=A||{};const m=this.workbook.getWorksheet(A.sheetName||A.sheetId),v=s.format(A.formatterOptions);d.on("finish",()=>{p()}),v.on("error",g),v.pipe(d);const{dateFormat:y,dateUTC:b}=A,_=A.map||(N=>{if(N){if(N.text||N.hyperlink)return N.hyperlink||N.text||"";if(N.formula||N.result)return N.result||"";if(N instanceof Date)return y?b?u.utc(N).format(y):u(N).format(y):b?u.utc(N).format():u(N).format();if(N.error)return N.error;if(typeof N=="object")return JSON.stringify(N)}return N}),T=A.includeEmptyRows===void 0||A.includeEmptyRows;let I=1;m&&m.eachRow((N,F)=>{if(T)for(;I++<F-1;)v.write([]);const{values:P}=N;P.shift(),v.write(P.map(_)),I=F}),v.end()})}writeFile(d,A){const p={encoding:(A=A||{}).encoding||"utf8"},g=a.createWriteStream(d,p);return this.write(g,A)}async writeBuffer(d){const A=new c;return await this.write(A,d),A.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,n,i){const a=e("../utils/col-cache");class s{constructor(l,u){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=l,u)if(typeof u=="string"){const f=a.decodeAddress(u);this.nativeCol=f.col+c,this.nativeColOff=0,this.nativeRow=f.row+c,this.nativeRowOff=0}else u.nativeCol!==void 0?(this.nativeCol=u.nativeCol||0,this.nativeColOff=u.nativeColOff||0,this.nativeRow=u.nativeRow||0,this.nativeRowOff=u.nativeRowOff||0):u.col!==void 0?(this.col=u.col+c,this.row=u.row+c):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(l){return l instanceof s||l==null?l:new s(l)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(l){this.nativeCol=Math.floor(l),this.nativeColOff=Math.floor((l-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(l){this.nativeRow=Math.floor(l),this.nativeRowOff=Math.floor((l-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(l){this.nativeCol=l.nativeCol,this.nativeColOff=l.nativeColOff,this.nativeRow=l.nativeRow,this.nativeRowOff=l.nativeRowOff}}n.exports=s},{"../utils/col-cache":19}],3:[function(e,n,i){const a=e("../utils/col-cache"),s=e("../utils/under-dash"),o=e("./enums"),{slideFormula:l}=e("../utils/shared-formula"),u=e("./note");class c{constructor(d,A,p){if(!d||!A)throw new Error("A Cell needs a Row");this._row=d,this._column=A,a.validateAddress(p),this._address=p,this._value=f.create(c.Types.Null,this),this.style=this._mergeStyle(d.style,A.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(d){this.style.numFmt=d}get font(){return this.style.font}set font(d){this.style.font=d}get alignment(){return this.style.alignment}set alignment(d){this.style.alignment=d}get border(){return this.style.border}set border(d){this.style.border=d}get fill(){return this.style.fill}set fill(d){this.style.fill=d}get protection(){return this.style.protection}set protection(d){this.style.protection=d}_mergeStyle(d,A,p){const g=d&&d.numFmt||A&&A.numFmt;g&&(p.numFmt=g);const m=d&&d.font||A&&A.font;m&&(p.font=m);const v=d&&d.alignment||A&&A.alignment;v&&(p.alignment=v);const y=d&&d.border||A&&A.border;y&&(p.border=y);const b=d&&d.fill||A&&A.fill;b&&(p.fill=b);const _=d&&d.protection||A&&A.protection;return _&&(p.protection=_),p}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===c.Types.Merge}merge(d,A){this._value.release(),this._value=f.create(c.Types.Merge,this,d),A||(this.style=d.style)}unmerge(){this.type===c.Types.Merge&&(this._value.release(),this._value=f.create(c.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(d){return this._value.type===c.Types.Merge&&this._value.isMergedTo(d)}get master(){return this.type===c.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===c.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(d){this.type!==c.Types.Merge?(this._value.release(),this._value=f.create(f.getType(d),this,d)):this._value.master.value=d}get note(){return this._comment&&this._comment.note}set note(d){this._comment=new u(d)}get text(){return this._value.toString()}get html(){return s.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(d){this.type===c.Types.String&&(this._value=f.create(c.Types.Hyperlink,this,{text:this._value.value,hyperlink:d}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:d}=this._row;return{sheetName:d.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(d){this.names=[d]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(d){const{definedNames:A}=this.workbook;A.removeAllNames(this.fullAddress),d.forEach(p=>{A.addEx(this.fullAddress,p)})}addName(d){this.workbook.definedNames.addEx(this.fullAddress,d)}removeName(d){this.workbook.definedNames.removeEx(this.fullAddress,d)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(d){this._dataValidations.add(this.address,d)}get model(){const{model:d}=this._value;return d.style=this.style,this._comment&&(d.comment=this._comment.model),d}set model(d){if(this._value.release(),this._value=f.create(d.type,this),this._value.model=d,d.comment)switch(d.comment.type){case"note":this._comment=u.fromModel(d.comment)}d.style?this.style=d.style:this.style={}}}c.Types=o.ValueType;const f={getType:h=>h==null?c.Types.Null:h instanceof String||typeof h=="string"?c.Types.String:typeof h=="number"?c.Types.Number:typeof h=="boolean"?c.Types.Boolean:h instanceof Date?c.Types.Date:h.text&&h.hyperlink?c.Types.Hyperlink:h.formula||h.sharedFormula?c.Types.Formula:h.richText?c.Types.RichText:h.sharedString?c.Types.SharedString:h.error?c.Types.Error:c.Types.JSON,types:[{t:c.Types.Null,f:class{constructor(h){this.model={address:h.address,type:c.Types.Null}}get value(){return null}set value(h){}get type(){return c.Types.Null}get effectiveType(){return c.Types.Null}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){}toString(){return""}}},{t:c.Types.Number,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.Number,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.Number}get effectiveType(){return c.Types.Number}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.String,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.String,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:c.Types.Date,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.Date,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.Date}get effectiveType(){return c.Types.Date}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Hyperlink,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.Hyperlink,text:d?d.text:void 0,hyperlink:d?d.hyperlink:void 0},d&&d.tooltip&&(this.model.tooltip=d.tooltip)}get value(){const h={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(h.tooltip=this.model.tooltip),h}set value(h){this.model={text:h.text,hyperlink:h.hyperlink},h.tooltip&&(this.model.tooltip=h.tooltip)}get text(){return this.model.text}set text(h){this.model.text=h}get hyperlink(){return this.model.hyperlink}set hyperlink(h){this.model.hyperlink=h}get type(){return c.Types.Hyperlink}get effectiveType(){return c.Types.Hyperlink}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:c.Types.Formula,f:class{constructor(h,d){this.cell=h,this.model={address:h.address,type:c.Types.Formula,shareType:d?d.shareType:void 0,ref:d?d.ref:void 0,formula:d?d.formula:void 0,sharedFormula:d?d.sharedFormula:void 0,result:d?d.result:void 0}}_copyModel(h){const d={},A=p=>{const g=h[p];g&&(d[p]=g)};return A("formula"),A("result"),A("ref"),A("shareType"),A("sharedFormula"),d}get value(){return this._copyModel(this.model)}set value(h){this.model=this._copyModel(h)}validate(h){switch(f.getType(h)){case c.Types.Null:case c.Types.String:case c.Types.Number:case c.Types.Date:break;case c.Types.Hyperlink:case c.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(h){this.model.formula=h}get formulaType(){return this.model.formula?o.FormulaType.Master:this.model.sharedFormula?o.FormulaType.Shared:o.FormulaType.None}get result(){return this.model.result}set result(h){this.model.result=h}get type(){return c.Types.Formula}get effectiveType(){const h=this.model.result;return h==null?o.ValueType.Null:h instanceof String||typeof h=="string"?o.ValueType.String:typeof h=="number"?o.ValueType.Number:h instanceof Date?o.ValueType.Date:h.text&&h.hyperlink?o.ValueType.Hyperlink:h.formula?o.ValueType.Formula:o.ValueType.Null}get address(){return this.model.address}set address(h){this.model.address=h}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:h}=this.cell,d=h.findCell(this.model.sharedFormula);this._translatedFormula=d&&l(d.formula,d.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:c.Types.Merge,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.Merge,master:d?d.address:void 0},this._master=d,d&&d.addMergeRef()}get value(){return this._master.value}set value(h){h instanceof c?(this._master&&this._master.releaseMergeRef(),h.addMergeRef(),this._master=h):this._master.value=h}isMergedTo(h){return h===this._master}get master(){return this._master}get type(){return c.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:c.Types.JSON,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.String,value:JSON.stringify(d),rawValue:d}}get value(){return this.model.rawValue}set value(h){this.model.rawValue=h,this.model.value=JSON.stringify(h)}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:c.Types.SharedString,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.SharedString,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.SharedString}get effectiveType(){return c.Types.SharedString}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.RichText,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.String,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}toString(){return this.model.value.richText.map(h=>h.text).join("")}get type(){return c.Types.RichText}get effectiveType(){return c.Types.RichText}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:c.Types.Boolean,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.Boolean,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.Boolean}get effectiveType(){return c.Types.Boolean}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Error,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.Error,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.Error}get effectiveType(){return c.Types.Error}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((h,d)=>(h[d.t]=d.f,h),[]),create(h,d,A){const p=this.types[h];if(!p)throw new Error("Could not create Value of type "+h);return new p(d,A)}};n.exports=c},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,n,i){const a=e("../utils/under-dash"),s=e("./enums"),o=e("../utils/col-cache");class l{constructor(c,f,h){this._worksheet=c,this._number=f,h!==!1&&(this.defn=h)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return o.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(c){c?(this.key=c.key,this.width=c.width!==void 0?c.width:9,this.outlineLevel=c.outlineLevel,c.style?this.style=c.style:this.style={},this.header=c.header,this._hidden=!!c.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(c){c!==void 0?(this._header=c,this.headers.forEach((f,h)=>{this._worksheet.getCell(h+1,this.number).value=f})):this._header=void 0}get key(){return this._key}set key(c){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=c,c&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(c){this._hidden=c}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(c){this._outlineLevel=c}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(c){return this.width===c.width&&this.hidden===c.hidden&&this.outlineLevel===c.outlineLevel&&a.isEqual(this.style,c.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const c=this.style;return!c||!(c.font||c.numFmt||c.alignment||c.border||c.fill||c.protection)}get headerCount(){return this.headers.length}eachCell(c,f){const h=this.number;f||(f=c,c=null),this._worksheet.eachRow(c,(d,A)=>{f(d.getCell(h),A)})}get values(){const c=[];return this.eachCell((f,h)=>{f&&f.type!==s.ValueType.Null&&(c[h]=f.value)}),c}set values(c){if(!c)return;const f=this.number;let h=0;c.hasOwnProperty("0")&&(h=1),c.forEach((d,A)=>{this._worksheet.getCell(A+h,f).value=d})}_applyStyle(c,f){return this.style[c]=f,this.eachCell(h=>{h[c]=f}),f}get numFmt(){return this.style.numFmt}set numFmt(c){this._applyStyle("numFmt",c)}get font(){return this.style.font}set font(c){this._applyStyle("font",c)}get alignment(){return this.style.alignment}set alignment(c){this._applyStyle("alignment",c)}get protection(){return this.style.protection}set protection(c){this._applyStyle("protection",c)}get border(){return this.style.border}set border(c){this._applyStyle("border",c)}get fill(){return this.style.fill}set fill(c){this._applyStyle("fill",c)}static toModel(c){const f=[];let h=null;return c&&c.forEach((d,A)=>{d.isDefault?h&&(h=null):h&&d.equivalentTo(h)?h.max=A+1:(h={min:A+1,max:A+1,width:d.width!==void 0?d.width:9,style:d.style,isCustomWidth:d.isCustomWidth,hidden:d.hidden,outlineLevel:d.outlineLevel,collapsed:d.collapsed},f.push(h))}),f.length?f:void 0}static fromModel(c,f){const h=[];let d=1,A=0;for(f=(f=f||[]).sort(function(p,g){return p.min-g.min});A<f.length;){const p=f[A++];for(;d<p.min;)h.push(new l(c,d++));for(;d<=p.max;)h.push(new l(c,d++,p))}return h.length?h:null}}n.exports=l},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,n,i){n.exports=class{constructor(a){this.model=a||{}}add(a,s){return this.model[a]=s}find(a){return this.model[a]}remove(a){this.model[a]=void 0}}},{}],6:[function(e,n,i){const a=e("../utils/under-dash"),s=e("../utils/col-cache"),o=e("../utils/cell-matrix"),l=e("./range"),u=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(c){return this.matrixMap[c]||(this.matrixMap[c]=new o)}add(c,f){const h=s.decodeEx(c);this.addEx(h,f)}addEx(c,f){const h=this.getMatrix(f);if(c.top)for(let d=c.left;d<=c.right;d++)for(let A=c.top;A<=c.bottom;A++){const p={sheetName:c.sheetName,address:s.n2l(d)+A,row:A,col:d};h.addCellEx(p)}else h.addCellEx(c)}remove(c,f){const h=s.decodeEx(c);this.removeEx(h,f)}removeEx(c,f){this.getMatrix(f).removeCellEx(c)}removeAllNames(c){a.each(this.matrixMap,f=>{f.removeCellEx(c)})}forEach(c){a.each(this.matrixMap,(f,h)=>{f.forEach(d=>{c(h,d)})})}getNames(c){return this.getNamesEx(s.decodeEx(c))}getNamesEx(c){return a.map(this.matrixMap,(f,h)=>f.findCellEx(c)&&h).filter(Boolean)}_explore(c,f){f.mark=!1;const{sheetName:h}=f,d=new l(f.row,f.col,f.row,f.col,h);let A,p;function g(v,y){const b=c.findCellAt(h,v,f.col);return!(!b||!b.mark)&&(d[y]=v,b.mark=!1,!0)}for(p=f.row-1;g(p,"top");p--);for(p=f.row+1;g(p,"bottom");p++);function m(v,y){const b=[];for(p=d.top;p<=d.bottom;p++){const _=c.findCellAt(h,p,v);if(!_||!_.mark)return!1;b.push(_)}d[y]=v;for(let _=0;_<b.length;_++)b[_].mark=!1;return!0}for(A=f.col-1;m(A,"left");A--);for(A=f.col+1;m(A,"right");A++);return d}getRanges(c,f){return(f=f||this.matrixMap[c])?(f.forEach(h=>{h.mark=!0}),{name:c,ranges:f.map(h=>h.mark&&this._explore(f,h)).filter(Boolean).map(h=>h.$shortRange)}):{name:c,ranges:[]}}normaliseMatrix(c,f){c.forEachInSheet(f,(h,d,A)=>{h&&(h.row===d&&h.col===A||(h.row=d,h.col=A,h.address=s.n2l(A)+d))})}spliceRows(c,f,h,d){a.each(this.matrixMap,A=>{A.spliceRows(c,f,h,d),this.normaliseMatrix(A,c)})}spliceColumns(c,f,h,d){a.each(this.matrixMap,A=>{A.spliceColumns(c,f,h,d),this.normaliseMatrix(A,c)})}get model(){return a.map(this.matrixMap,(c,f)=>this.getRanges(f,c)).filter(c=>c.ranges.length)}set model(c){const f=this.matrixMap={};c.forEach(h=>{const d=f[h.name]=new o;h.ranges.forEach(A=>{u.test(A.split("!").pop()||"")&&d.addCell(A)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,n,i){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,n,i){const a=e("../utils/col-cache"),s=e("./anchor");n.exports=class{constructor(o,l){this.worksheet=o,this.model=l}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(o){let{type:l,imageId:u,range:c,hyperlinks:f}=o;if(this.type=l,this.imageId=u,l==="image")if(typeof c=="string"){const h=a.decode(c);this.range={tl:new s(this.worksheet,{col:h.left,row:h.top},-1),br:new s(this.worksheet,{col:h.right,row:h.bottom},0),editAs:"oneCell"}}else this.range={tl:new s(this.worksheet,c.tl,0),br:c.br&&new s(this.worksheet,c.br,0),ext:c.ext,editAs:c.editAs,hyperlinks:f||c.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,n,i){const a=e("../utils/under-dash");class s{constructor(l){this.note=l}get model(){let l=null;switch(typeof this.note){case"string":l={type:"note",note:{texts:[{text:this.note}]}};break;default:l={type:"note",note:this.note}}return a.deepMerge({},s.DEFAULT_CONFIGS,l)}set model(l){const{note:u}=l,{texts:c}=u;c.length===1&&Object.keys(c[0]).length===1?this.note=c[0].text:this.note=u}static fromModel(l){const u=new s;return u.model=l,u}}s.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=s},{"../utils/under-dash":26}],10:[function(e,n,i){const a=e("../utils/col-cache");class s{constructor(){this.decode(arguments)}setTLBR(l,u,c,f,h){if(arguments.length<4){const d=a.decodeAddress(l),A=a.decodeAddress(u);this.model={top:Math.min(d.row,A.row),left:Math.min(d.col,A.col),bottom:Math.max(d.row,A.row),right:Math.max(d.col,A.col),sheetName:c},this.setTLBR(d.row,d.col,A.row,A.col,h)}else this.model={top:Math.min(l,c),left:Math.min(u,f),bottom:Math.max(l,c),right:Math.max(u,f),sheetName:h}}decode(l){switch(l.length){case 5:this.setTLBR(l[0],l[1],l[2],l[3],l[4]);break;case 4:this.setTLBR(l[0],l[1],l[2],l[3]);break;case 3:this.setTLBR(l[0],l[1],l[2]);break;case 2:this.setTLBR(l[0],l[1]);break;case 1:{const u=l[0];if(u instanceof s)this.model={top:u.model.top,left:u.model.left,bottom:u.model.bottom,right:u.model.right,sheetName:u.sheetName};else if(u instanceof Array)this.decode(u);else if(u.top&&u.left&&u.bottom&&u.right)this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName};else{const c=a.decodeEx(u);c.top?this.model={top:c.top,left:c.left,bottom:c.bottom,right:c.right,sheetName:c.sheetName}:this.model={top:c.row,left:c.col,bottom:c.row,right:c.col,sheetName:c.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+l.length)}}get top(){return this.model.top||1}set top(l){this.model.top=l}get left(){return this.model.left||1}set left(l){this.model.left=l}get bottom(){return this.model.bottom||1}set bottom(l){this.model.bottom=l}get right(){return this.model.right||1}set right(l){this.model.right=l}get sheetName(){return this.model.sheetName}set sheetName(l){this.model.sheetName=l}get _serialisedSheetName(){const{sheetName:l}=this.model;return l?/^[a-zA-Z0-9]*$/.test(l)?l+"!":`'${l}'!`:""}expand(l,u,c,f){(!this.model.top||l<this.top)&&(this.top=l),(!this.model.left||u<this.left)&&(this.left=u),(!this.model.bottom||c>this.bottom)&&(this.bottom=c),(!this.model.right||f>this.right)&&(this.right=f)}expandRow(l){if(l){const{dimensions:u,number:c}=l;u&&this.expand(c,u.min,c,u.max)}}expandToAddress(l){const u=a.decodeEx(l);this.expand(u.row,u.col,u.row,u.col)}get tl(){return a.n2l(this.left)+this.top}get $t$l(){return`$${a.n2l(this.left)}$${this.top}`}get br(){return a.n2l(this.right)+this.bottom}get $b$r(){return`$${a.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&!(l.bottom<this.top)&&!(l.top>this.bottom)&&!(l.right<this.left)&&!(l.left>this.right)}contains(l){const u=a.decodeEx(l);return this.containsEx(u)}containsEx(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&l.row>=this.top&&l.row<=this.bottom&&l.col>=this.left&&l.col<=this.right}forEachAddress(l){for(let u=this.left;u<=this.right;u++)for(let c=this.top;c<=this.bottom;c++)l(a.encodeAddress(c,u),c,u)}}n.exports=s},{"../utils/col-cache":19}],11:[function(e,n,i){const a=e("../utils/under-dash"),s=e("./enums"),o=e("../utils/col-cache"),l=e("./cell");n.exports=class{constructor(u,c){this._worksheet=u,this._number=c,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(u){return this._cells[u-1]}getCellEx(u){let c=this._cells[u.col-1];if(!c){const f=this._worksheet.getColumn(u.col);c=new l(this,f,u.address),this._cells[u.col-1]=c}return c}getCell(u){if(typeof u=="string"){const c=this._worksheet.getColumnKey(u);u=c?c.number:o.l2n(u)}return this._cells[u-1]||this.getCellEx({address:o.encodeAddress(this._number,u),row:this._number,col:u})}splice(u,c){const f=u+c;for(var h=arguments.length,d=new Array(h>2?h-2:0),A=2;A<h;A++)d[A-2]=arguments[A];const p=d.length-c,g=this._cells.length;let m,v,y;if(p<0)for(m=u+d.length;m<=g;m++)y=this._cells[m-1],v=this._cells[m-p-1],v?(y=this.getCell(m),y.value=v.value,y.style=v.style,y._comment=v._comment):y&&(y.value=null,y.style={},y._comment=void 0);else if(p>0)for(m=g;m>=f;m--)v=this._cells[m-1],v?(y=this.getCell(m+p),y.value=v.value,y.style=v.style,y._comment=v._comment):this._cells[m+p-1]=void 0;for(m=0;m<d.length;m++)y=this.getCell(u+m),y.value=d[m],y.style={},y._comment=void 0}eachCell(u,c){if(c||(c=u,u=null),u&&u.includeEmpty){const f=this._cells.length;for(let h=1;h<=f;h++)c(this.getCell(h),h)}else this._cells.forEach((f,h)=>{f&&f.type!==s.ValueType.Null&&c(f,h+1)})}addPageBreak(u,c){const f=this._worksheet,h=Math.max(0,u-1)||0,d=Math.max(0,c-1)||16838,A={id:this._number,max:d,man:1};h&&(A.min=h),f.rowBreaks.push(A)}get values(){const u=[];return this._cells.forEach(c=>{c&&c.type!==s.ValueType.Null&&(u[c.col]=c.value)}),u}set values(u){if(this._cells=[],u)if(u instanceof Array){let c=0;u.hasOwnProperty("0")&&(c=1),u.forEach((f,h)=>{f!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,h+c),row:this._number,col:h+c}).value=f)})}else this._worksheet.eachColumnKey((c,f)=>{u[f]!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,c.number),row:this._number,col:c.number}).value=u[f])})}get hasValues(){return a.some(this._cells,u=>u&&u.type!==s.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let u=0;return this.eachCell(()=>{u++}),u}get dimensions(){let u=0,c=0;return this._cells.forEach(f=>{f&&f.type!==s.ValueType.Null&&((!u||u>f.col)&&(u=f.col),c<f.col&&(c=f.col))}),u>0?{min:u,max:c}:null}_applyStyle(u,c){return this.style[u]=c,this._cells.forEach(f=>{f&&(f[u]=c)}),c}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const u=[];let c=0,f=0;return this._cells.forEach(h=>{if(h){const d=h.model;d&&((!c||c>h.col)&&(c=h.col),f<h.col&&(f=h.col),u.push(d))}}),this.height||u.length?{cells:u,number:this.number,min:c,max:f,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(u){if(u.number!==this._number)throw new Error("Invalid row number in model");let c;this._cells=[],u.cells.forEach(f=>{switch(f.type){case l.Types.Merge:break;default:{let h;if(f.address)h=o.decodeAddress(f.address);else if(c){const{row:d}=c,A=c.col+1;h={row:d,col:A,address:o.encodeAddress(d,A),$col$row:`$${o.n2l(A)}$${d}`}}c=h,this.getCellEx(h).model=f;break}}}),u.height?this.height=u.height:delete this.height,this.hidden=u.hidden,this.outlineLevel=u.outlineLevel||0,this.style=u.style&&JSON.parse(JSON.stringify(u.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,n,i){const a=e("../utils/col-cache");class s{constructor(l,u,c){this.table=l,this.column=u,this.index=c}_set(l,u){this.table.cacheState(),this.column[l]=u}get name(){return this.column.name}set name(l){this._set("name",l)}get filterButton(){return this.column.filterButton}set filterButton(l){this.column.filterButton=l}get style(){return this.column.style}set style(l){this.column.style=l}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(l){this._set("totalsRowLabel",l)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(l){this._set("totalsRowFunction",l)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(l){this._set("totalsRowResult",l)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(l){this._set("totalsRowFormula",l)}}n.exports=class{constructor(o,l){this.worksheet=o,l&&(this.table=l,this.validate(),this.store())}getFormula(o){switch(o.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${o.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${o.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${o.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${o.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${o.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${o.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${o.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${o.name}])`;case"custom":return o.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+o.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:o}=this,l=(p,g,m)=>{p[g]===void 0&&(p[g]=m)};l(o,"headerRow",!0),l(o,"totalsRow",!1),l(o,"style",{}),l(o.style,"theme","TableStyleMedium2"),l(o.style,"showFirstColumn",!1),l(o.style,"showLastColumn",!1),l(o.style,"showRowStripes",!1),l(o.style,"showColumnStripes",!1);const u=(p,g)=>{if(!p)throw new Error(g)};u(o.ref,"Table must have ref"),u(o.columns,"Table must have column definitions"),u(o.rows,"Table must have row definitions"),o.tl=a.decodeAddress(o.ref);const{row:c,col:f}=o.tl;u(c>0,"Table must be on valid row"),u(f>0,"Table must be on valid col");const{width:h,filterHeight:d,tableHeight:A}=this;o.autoFilterRef=a.encode(c,f,c+d-1,f+h-1),o.tableRef=a.encode(c,f,c+A-1,f+h-1),o.columns.forEach((p,g)=>{u(p.name,`Column ${g} must have a name`),g===0?l(p,"totalsRowLabel","Total"):(l(p,"totalsRowFunction","none"),p.totalsRowFormula=this.getFormula(p))})}store(){const o=(d,A)=>{A&&Object.keys(A).forEach(p=>{d[p]=A[p]})},{worksheet:l,table:u}=this,{row:c,col:f}=u.tl;let h=0;if(u.headerRow){const d=l.getRow(c+h++);u.columns.forEach((A,p)=>{const{style:g,name:m}=A,v=d.getCell(f+p);v.value=m,o(v,g)})}if(u.rows.forEach(d=>{const A=l.getRow(c+h++);d.forEach((p,g)=>{const m=A.getCell(f+g);m.value=p,o(m,u.columns[g].style)})}),u.totalsRow){const d=l.getRow(c+h++);u.columns.forEach((A,p)=>{const g=d.getCell(f+p);if(p===0)g.value=A.totalsRowLabel;else{const m=this.getFormula(A);g.value=m?{formula:A.totalsRowFormula,result:A.totalsRowResult}:null}o(g,A.style)})}}load(o){const{table:l}=this,{row:u,col:c}=l.tl;let f=0;if(l.headerRow){const h=o.getRow(u+f++);l.columns.forEach((d,A)=>{h.getCell(c+A).value=d.name})}if(l.rows.forEach(h=>{const d=o.getRow(u+f++);h.forEach((A,p)=>{d.getCell(c+p).value=A})}),l.totalsRow){const h=o.getRow(u+f++);l.columns.forEach((d,A)=>{const p=h.getCell(c+A);A===0?p.value=d.totalsRowLabel:this.getFormula(d)&&(p.value={formula:d.totalsRowFormula,result:d.totalsRowResult})})}}get model(){return this.table}set model(o){this.table=o}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const o=a.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let l=0;l<this._cache.tableHeight;l++){const u=this.worksheet.getRow(o.row+l);for(let c=0;c<this._cache.width;c++)u.getCell(o.col+c).value=null}else{for(let l=this.tableHeight;l<this._cache.tableHeight;l++){const u=this.worksheet.getRow(o.row+l);for(let c=0;c<this._cache.width;c++)u.getCell(o.col+c).value=null}for(let l=0;l<this.tableHeight;l++){const u=this.worksheet.getRow(o.row+l);for(let c=this.width;c<this._cache.width;c++)u.getCell(o.col+c).value=null}}this.store()}addRow(o,l){this.cacheState(),l===void 0?this.table.rows.push(o):this.table.rows.splice(l,0,o)}removeRows(o){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(o,l)}getColumn(o){const l=this.table.columns[o];return new s(this,l,o)}addColumn(o,l,u){this.cacheState(),u===void 0?(this.table.columns.push(o),this.table.rows.forEach((c,f)=>{c.push(l[f])})):(this.table.columns.splice(u,0,o),this.table.rows.forEach((c,f)=>{c.splice(u,0,l[f])}))}removeColumns(o){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(o,l),this.table.rows.forEach(u=>{u.splice(o,l)})}_assign(o,l,u){this.cacheState(),o[l]=u}get ref(){return this.table.ref}set ref(o){this._assign(this.table,"ref",o)}get name(){return this.table.name}set name(o){this.table.name=o}get displayName(){return this.table.displyName||this.table.name}set displayNamename(o){this.table.displayName=o}get headerRow(){return this.table.headerRow}set headerRow(o){this._assign(this.table,"headerRow",o)}get totalsRow(){return this.table.totalsRow}set totalsRow(o){this._assign(this.table,"totalsRow",o)}get theme(){return this.table.style.name}set theme(o){this.table.style.name=o}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(o){this.table.style.showFirstColumn=o}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(o){this.table.style.showLastColumn=o}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(o){this.table.style.showRowStripes=o}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(o){this.table.style.showColumnStripes=o}}},{"../utils/col-cache":19}],13:[function(e,n,i){const a=e("./worksheet"),s=e("./defined-names"),o=e("../xlsx/xlsx"),l=e("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new s}get xlsx(){return this._xlsx||(this._xlsx=new o(this)),this._xlsx}get csv(){return this._csv||(this._csv=new l(this)),this._csv}get nextId(){for(let u=1;u<this._worksheets.length;u++)if(!this._worksheets[u])return u;return this._worksheets.length||1}addWorksheet(u,c){const f=this.nextId;c&&(typeof c=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),c={properties:{tabColor:{argb:c}}}):(c.argb||c.theme||c.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),c={properties:{tabColor:c}}));const h=this._worksheets.reduce((p,g)=>(g&&g.orderNo)>p?g.orderNo:p,0),d=Object.assign({},c,{id:f,name:u,orderNo:h+1,workbook:this}),A=new a(d);return this._worksheets[f]=A,A}removeWorksheetEx(u){delete this._worksheets[u.id]}removeWorksheet(u){const c=this.getWorksheet(u);c&&c.destroy()}getWorksheet(u){return u===void 0?this._worksheets.find(Boolean):typeof u=="number"?this._worksheets[u]:typeof u=="string"?this._worksheets.find(c=>c&&c.name===u):void 0}get worksheets(){return this._worksheets.slice(1).sort((u,c)=>u.orderNo-c.orderNo).filter(Boolean)}eachSheet(u){this.worksheets.forEach(c=>{u(c,c.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(u){const c=this.media.length;return this.media.push(Object.assign({},u,{type:"image"})),c}getImage(u){return this.media[u]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(u=>u.model),sheets:this.worksheets.map(u=>u.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(u){this.creator=u.creator,this.lastModifiedBy=u.lastModifiedBy,this.lastPrinted=u.lastPrinted,this.created=u.created,this.modified=u.modified,this.company=u.company,this.manager=u.manager,this.title=u.title,this.subject=u.subject,this.keywords=u.keywords,this.category=u.category,this.description=u.description,this.language=u.language,this.revision=u.revision,this.contentStatus=u.contentStatus,this.properties=u.properties,this.calcProperties=u.calcProperties,this._worksheets=[],u.worksheets.forEach(c=>{const{id:f,name:h,state:d}=c,A=u.sheets&&u.sheets.findIndex(p=>p.id===f);(this._worksheets[f]=new a({id:f,name:h,orderNo:A,state:d,workbook:this})).model=c}),this._definedNames.model=u.definedNames,this.views=u.views,this._themes=u.themes,this.media=u.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,n,i){const a=e("../utils/under-dash"),s=e("../utils/col-cache"),o=e("./range"),l=e("./row"),u=e("./column"),c=e("./enums"),f=e("./image"),h=e("./table"),d=e("./data-validations"),A=e("../utils/encryptor"),{copyStyle:p}=e("../utils/copy-style");n.exports=class{constructor(g){g=g||{},this._workbook=g.workbook,this.id=g.id,this.orderNo=g.orderNo,this.name=g.name,this.state=g.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},g.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!g.pageSetup||!g.pageSetup.fitToWidth&&!g.pageSetup.fitToHeight||g.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},g.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},g.headerFooter),this.dataValidations=new d,this.views=g.views||[],this.autoFilter=g.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(g){if(g===void 0&&(g="sheet"+this.id),this._name!==g){if(typeof g!="string")throw new Error("The name has to be a string.");if(g==="")throw new Error("The name can't be empty.");if(g==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(g))throw new Error(`Worksheet name ${g} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(g))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+g);if(g&&g.length>31&&(console.warn(`Worksheet name ${g} exceeds 31 chars. This will be truncated`),g=g.substring(0,31)),this._workbook._worksheets.find(m=>m&&m.name.toLowerCase()===g.toLowerCase()))throw new Error("Worksheet name already exists: "+g);this._name=g}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const g=new o;return this._rows.forEach(m=>{if(m){const v=m.dimensions;v&&g.expand(m.number,v.min,m.number,v.max)}}),g}get columns(){return this._columns}set columns(g){this._headerRowCount=g.reduce((y,b)=>{const _=(b.header?1:b.headers&&b.headers.length)||0;return Math.max(y,_)},0);let m=1;const v=this._columns=[];g.forEach(y=>{const b=new u(this,m++,!1);v.push(b),b.defn=y})}getColumnKey(g){return this._keys[g]}setColumnKey(g,m){this._keys[g]=m}deleteColumnKey(g){delete this._keys[g]}eachColumnKey(g){a.each(this._keys,g)}getColumn(g){if(typeof g=="string"){const m=this._keys[g];if(m)return m;g=s.l2n(g)}if(this._columns||(this._columns=[]),g>this._columns.length){let m=this._columns.length+1;for(;m<=g;)this._columns.push(new u(this,m++))}return this._columns[g-1]}spliceColumns(g,m){const v=this._rows.length;for(var y=arguments.length,b=new Array(y>2?y-2:0),_=2;_<y;_++)b[_-2]=arguments[_];if(b.length>0)for(let F=0;F<v;F++){const P=[g,m];b.forEach(R=>{P.push(R[F]||null)});const D=this.getRow(F+1);D.splice.apply(D,P)}else this._rows.forEach(F=>{F&&F.splice(g,m)});const T=b.length-m,I=g+m,N=this._columns.length;if(T<0)for(let F=g+b.length;F<=N;F++)this.getColumn(F).defn=this.getColumn(F-T).defn;else if(T>0)for(let F=N;F>=I;F--)this.getColumn(F+T).defn=this.getColumn(F).defn;for(let F=g;F<g+b.length;F++)this.getColumn(F).defn=null;this.workbook.definedNames.spliceColumns(this.name,g,m,b.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let g=0;return this.eachRow(m=>{g=Math.max(g,m.cellCount)}),g}get actualColumnCount(){const g=[];let m=0;return this.eachRow(v=>{v.eachCell(y=>{let{col:b}=y;g[b]||(g[b]=!0,m++)})}),m}_commitRow(){}get _lastRowNumber(){const g=this._rows;let m=g.length;for(;m>0&&g[m-1]===void 0;)m--;return m}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(g){return this._rows[g-1]}findRows(g,m){return this._rows.slice(g-1,g-1+m)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let g=0;return this.eachRow(()=>{g++}),g}getRow(g){let m=this._rows[g-1];return m||(m=this._rows[g-1]=new l(this,g)),m}getRows(g,m){if(m<1)return;const v=[];for(let y=g;y<g+m;y++)v.push(this.getRow(y));return v}addRow(g){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const v=this._nextRow,y=this.getRow(v);return y.values=g,this._setStyleOption(v,m[0]==="i"?m:"n"),y}addRows(g){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const v=[];return g.forEach(y=>{v.push(this.addRow(y,m))}),v}insertRow(g,m){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(g,0,m),this._setStyleOption(g,v),this.getRow(g)}insertRows(g,m){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(g,0,...m),v!=="n")for(let y=0;y<m.length;y++)v[0]==="o"&&this.findRow(m.length+g+y)!==void 0?this._copyStyle(m.length+g+y,g+y,v[1]==="+"):v[0]==="i"&&this.findRow(g-1)!==void 0&&this._copyStyle(g-1,g+y,v[1]==="+");return this.getRows(g,m.length)}_setStyleOption(g){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";m[0]==="o"&&this.findRow(g+1)!==void 0?this._copyStyle(g+1,g,m[1]==="+"):m[0]==="i"&&this.findRow(g-1)!==void 0&&this._copyStyle(g-1,g,m[1]==="+")}_copyStyle(g,m){let v=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const y=this.getRow(g),b=this.getRow(m);b.style=p(y.style),y.eachCell({includeEmpty:v},(_,T)=>{b.getCell(T).style=p(_.style)}),b.height=y.height}duplicateRow(g,m){let v=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const y=this._rows[g-1],b=new Array(m).fill(y.values);this.spliceRows(g+1,v?0:m,...b);for(let _=0;_<m;_++){const T=this._rows[g+_];T.style=y.style,T.height=y.height,y.eachCell({includeEmpty:!0},(I,N)=>{T.getCell(N).style=I.style})}}spliceRows(g,m){const v=g+m;for(var y=arguments.length,b=new Array(y>2?y-2:0),_=2;_<y;_++)b[_-2]=arguments[_];const T=b.length,I=T-m,N=this._rows.length;let F,P;if(I<0)for(g===N&&(this._rows[N-1]=void 0),F=v;F<=N;F++)if(P=this._rows[F-1],P){const D=this.getRow(F+I);D.values=P.values,D.style=P.style,D.height=P.height,P.eachCell({includeEmpty:!0},(R,E)=>{D.getCell(E).style=R.style}),this._rows[F-1]=void 0}else this._rows[F+I-1]=void 0;else if(I>0)for(F=N;F>=v;F--)if(P=this._rows[F-1],P){const D=this.getRow(F+I);D.values=P.values,D.style=P.style,D.height=P.height,P.eachCell({includeEmpty:!0},(R,E)=>{if(D.getCell(E).style=R.style,R._value.constructor.name==="MergeValue"){const L=this.getRow(R._row._number+T).getCell(E),k=R._value._master,w=this.getRow(k._row._number+T).getCell(k._column._number);L.merge(w)}})}else this._rows[F+I-1]=void 0;for(F=0;F<T;F++){const D=this.getRow(g+F);D.style={},D.values=b[F]}this.workbook.definedNames.spliceRows(this.name,g,m,T)}eachRow(g,m){if(m||(m=g,g=void 0),g&&g.includeEmpty){const v=this._rows.length;for(let y=1;y<=v;y++)m(this.getRow(y),y)}else this._rows.forEach(v=>{v&&v.hasValues&&m(v,v.number)})}getSheetValues(){const g=[];return this._rows.forEach(m=>{m&&(g[m.number]=m.values)}),g}findCell(g,m){const v=s.getAddress(g,m),y=this._rows[v.row-1];return y?y.findCell(v.col):void 0}getCell(g,m){const v=s.getAddress(g,m);return this.getRow(v.row).getCellEx(v)}mergeCells(){for(var g=arguments.length,m=new Array(g),v=0;v<g;v++)m[v]=arguments[v];const y=new o(m);this._mergeCellsInternal(y)}mergeCellsWithoutStyle(){for(var g=arguments.length,m=new Array(g),v=0;v<g;v++)m[v]=arguments[v];const y=new o(m);this._mergeCellsInternal(y,!0)}_mergeCellsInternal(g,m){a.each(this._merges,y=>{if(y.intersects(g))throw new Error("Cannot merge already merged cells")});const v=this.getCell(g.top,g.left);for(let y=g.top;y<=g.bottom;y++)for(let b=g.left;b<=g.right;b++)(y>g.top||b>g.left)&&this.getCell(y,b).merge(v,m);this._merges[v.address]=g}_unMergeMaster(g){const m=this._merges[g.address];if(m){for(let v=m.top;v<=m.bottom;v++)for(let y=m.left;y<=m.right;y++)this.getCell(v,y).unmerge();delete this._merges[g.address]}}get hasMerges(){return a.some(this._merges,Boolean)}unMergeCells(){for(var g=arguments.length,m=new Array(g),v=0;v<g;v++)m[v]=arguments[v];const y=new o(m);for(let b=y.top;b<=y.bottom;b++)for(let _=y.left;_<=y.right;_++){const T=this.findCell(b,_);T&&(T.type===c.ValueType.Merge?this._unMergeMaster(T.master):this._merges[T.address]&&this._unMergeMaster(T))}}fillFormula(g,m,v){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const b=s.decode(g),{top:_,left:T,bottom:I,right:N}=b,F=N-T+1,P=s.encodeAddress(_,T),D=y==="shared";let R;R=typeof v=="function"?v:Array.isArray(v)?Array.isArray(v[0])?(L,k)=>v[L-_][k-T]:(L,k)=>v[(L-_)*F+(k-T)]:()=>{};let E=!0;for(let L=_;L<=I;L++)for(let k=T;k<=N;k++)E?(this.getCell(L,k).value={shareType:y,formula:m,ref:g,result:R(L,k)},E=!1):this.getCell(L,k).value=D?{sharedFormula:P,result:R(L,k)}:R(L,k)}addImage(g,m){const v={type:"image",imageId:g,range:m};this._media.push(new f(this,v))}getImages(){return this._media.filter(g=>g.type==="image")}addBackgroundImage(g){const m={type:"background",imageId:g};this._media.push(new f(this,m))}getBackgroundImageId(){const g=this._media.find(m=>m.type==="background");return g&&g.imageId}protect(g,m){return new Promise(v=>{this.sheetProtection={sheet:!0},m&&"spinCount"in m&&(m.spinCount=Number.isFinite(m.spinCount)?Math.round(Math.max(0,m.spinCount)):1e5),g&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=A.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=m&&"spinCount"in m?m.spinCount:1e5,this.sheetProtection.hashValue=A.convertPasswordToHash(g,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),m&&(this.sheetProtection=Object.assign(this.sheetProtection,m),!g&&"spinCount"in m&&delete this.sheetProtection.spinCount),v()})}unprotect(){this.sheetProtection=null}addTable(g){const m=new h(this,g);return this.tables[g.name]=m,m}getTable(g){return this.tables[g]}removeTable(g){delete this.tables[g]}getTables(){return Object.values(this.tables)}addConditionalFormatting(g){this.conditionalFormattings.push(g)}removeConditionalFormatting(g){typeof g=="number"?this.conditionalFormattings.splice(g,1):this.conditionalFormattings=g instanceof Function?this.conditionalFormattings.filter(g):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(g){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=g}get model(){const g={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(y=>y.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(y=>y.model),conditionalFormattings:this.conditionalFormattings};g.cols=u.toModel(this.columns);const m=g.rows=[],v=g.dimensions=new o;return this._rows.forEach(y=>{const b=y&&y.model;b&&(v.expand(b.number,b.min,b.number,b.max),m.push(b))}),g.merges=[],a.each(this._merges,y=>{g.merges.push(y.range)}),g}_parseRows(g){this._rows=[],g.rows.forEach(m=>{const v=new l(this,m.number);this._rows[v.number-1]=v,v.model=m})}_parseMergeCells(g){a.each(g.mergeCells,m=>{this.mergeCellsWithoutStyle(m)})}set model(g){this.name=g.name,this._columns=u.fromModel(this,g.cols),this._parseRows(g),this._parseMergeCells(g),this.dataValidations=new d(g.dataValidations),this.properties=g.properties,this.pageSetup=g.pageSetup,this.headerFooter=g.headerFooter,this.views=g.views,this.autoFilter=g.autoFilter,this._media=g.media.map(m=>new f(this,m)),this.sheetProtection=g.sheetProtection,this.tables=g.tables.reduce((m,v)=>{const y=new h;return y.model=v,m[v.name]=y,m},{}),this.conditionalFormattings=g.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,n,i){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const a={Workbook:e("./doc/workbook")},s=e("./doc/enums");Object.keys(s).forEach(o=>{a[o]=s[o]}),n.exports=a},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,n,i){const a=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");i.bufferToString=function(s){return typeof s=="string"?s:a?a.decode(s):s.toString()}},{}],17:[function(e,n,i){const a=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:s}=e("buffer");i.stringToBuffer=function(o){return typeof o!="string"?o:a?s.from(a.encode(o).buffer):s.from(o)}},{buffer:220}],18:[function(e,n,i){const a=e("./under-dash"),s=e("./col-cache");n.exports=class{constructor(o){this.template=o,this.sheets={}}addCell(o){this.addCellEx(s.decodeEx(o))}getCell(o){return this.findCellEx(s.decodeEx(o),!0)}findCell(o){return this.findCellEx(s.decodeEx(o),!1)}findCellAt(o,l,u){const c=this.sheets[o],f=c&&c[l];return f&&f[u]}addCellEx(o){if(o.top)for(let l=o.top;l<=o.bottom;l++)for(let u=o.left;u<=o.right;u++)this.getCellAt(o.sheetName,l,u);else this.findCellEx(o,!0)}getCellEx(o){return this.findCellEx(o,!0)}findCellEx(o,l){const u=this.findSheet(o,l),c=this.findSheetRow(u,o,l);return this.findRowCell(c,o,l)}getCellAt(o,l,u){const c=this.sheets[o]||(this.sheets[o]=[]),f=c[l]||(c[l]=[]);return f[u]||(f[u]={sheetName:o,address:s.n2l(u)+l,row:l,col:u})}removeCellEx(o){const l=this.findSheet(o);if(!l)return;const u=this.findSheetRow(l,o);u&&delete u[o.col]}forEachInSheet(o,l){const u=this.sheets[o];u&&u.forEach((c,f)=>{c&&c.forEach((h,d)=>{h&&l(h,f,d)})})}forEach(o){a.each(this.sheets,(l,u)=>{this.forEachInSheet(u,o)})}map(o){const l=[];return this.forEach(u=>{l.push(o(u))}),l}findSheet(o,l){const u=o.sheetName;return this.sheets[u]?this.sheets[u]:l?this.sheets[u]=[]:void 0}findSheetRow(o,l,u){const{row:c}=l;return o&&o[c]?o[c]:u?o[c]=[]:void 0}findRowCell(o,l,u){const{col:c}=l;return o&&o[c]?o[c]:u?o[c]=this.template?Object.assign(l,JSON.parse(JSON.stringify(this.template))):l:void 0}spliceRows(o,l,u,c){const f=this.sheets[o];if(f){const h=[];for(let d=0;d<c;d++)h.push([]);f.splice(l,u,...h)}}spliceColumns(o,l,u,c){const f=this.sheets[o];if(f){const h=[];for(let d=0;d<c;d++)h.push(null);a.each(f,d=>{d.splice(l,u,...h)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,n,i){const a=/^[A-Z]+\d+$/,s={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:o=>o<=26?1:o<=676?2:3,_fill(o){let l,u,c,f,h,d=1;if(o>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&o>=1){for(;d<=26;)l=this._dictionary[d-1],this._n2l[d]=l,this._l2n[l]=d,d++;this._l2nFill=1}if(this._l2nFill<2&&o>=2){for(d=27;d<=702;)u=d-27,c=u%26,f=Math.floor(u/26),l=this._dictionary[f]+this._dictionary[c],this._n2l[d]=l,this._l2n[l]=d,d++;this._l2nFill=2}if(this._l2nFill<3&&o>=3){for(d=703;d<=16384;)u=d-703,c=u%26,f=Math.floor(u/26)%26,h=Math.floor(u/676),l=this._dictionary[h]+this._dictionary[f]+this._dictionary[c],this._n2l[d]=l,this._l2n[l]=d,d++;this._l2nFill=3}},l2n(o){if(this._l2n[o]||this._fill(o.length),!this._l2n[o])throw new Error("Out of bounds. Invalid column letter: "+o);return this._l2n[o]},n2l(o){if(o<1||o>16384)throw new Error(o+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[o]||this._fill(this._level(o)),this._n2l[o]},_hash:{},validateAddress(o){if(!a.test(o))throw new Error("Invalid Address: "+o);return!0},decodeAddress(o){const l=o.length<5&&this._hash[o];if(l)return l;let u=!1,c="",f=0,h=!1,d="",A=0;for(let g,m=0;m<o.length;m++)if(g=o.charCodeAt(m),!h&&g>=65&&g<=90)u=!0,c+=o[m],f=26*f+g-64;else if(g>=48&&g<=57)h=!0,d+=o[m],A=10*A+g-48;else if(h&&u&&g!==36)break;if(u){if(f>16384)throw new Error("Out of bounds. Invalid column letter: "+c)}else f=void 0;h||(A=void 0);const p={address:o=c+d,col:f,row:A,$col$row:`$${c}$${d}`};return f<=100&&A<=100&&(this._hash[o]=p,this._hash[p.$col$row]=p),p},getAddress(o,l){if(l){const u=this.n2l(l)+o;return this.decodeAddress(u)}return this.decodeAddress(o)},decode(o){const l=o.split(":");if(l.length===2){const u=this.decodeAddress(l[0]),c=this.decodeAddress(l[1]),f={top:Math.min(u.row,c.row),left:Math.min(u.col,c.col),bottom:Math.max(u.row,c.row),right:Math.max(u.col,c.col)};return f.tl=this.n2l(f.left)+f.top,f.br=this.n2l(f.right)+f.bottom,f.dimensions=`${f.tl}:${f.br}`,f}return this.decodeAddress(o)},decodeEx(o){const l=o.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),u=l[1]||l[2],c=l[3],f=c.split(":");if(f.length>1){let d=this.decodeAddress(f[0]),A=this.decodeAddress(f[1]);const p=Math.min(d.row,A.row),g=Math.min(d.col,A.col),m=Math.max(d.row,A.row),v=Math.max(d.col,A.col);return d=this.n2l(g)+p,A=this.n2l(v)+m,{top:p,left:g,bottom:m,right:v,sheetName:u,tl:{address:d,col:g,row:p,$col$row:`$${this.n2l(g)}$${p}`,sheetName:u},br:{address:A,col:v,row:m,$col$row:`$${this.n2l(v)}$${m}`,sheetName:u},dimensions:`${d}:${A}`}}if(c.startsWith("#"))return u?{sheetName:u,error:c}:{error:c};const h=this.decodeAddress(c);return u?{sheetName:u,...h}:h},encodeAddress:(o,l)=>s.n2l(l)+o,encode(){switch(arguments.length){case 2:return s.encodeAddress(arguments[0],arguments[1]);case 4:return`${s.encodeAddress(arguments[0],arguments[1])}:${s.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(o,l){const[u,c,,f,h]=o,[d,A]=l;return d>=u&&d<=f&&A>=c&&A<=h}};n.exports=s},{}],20:[function(e,n,i){const a=(o,l)=>({...o,...l.reduce((u,c)=>(o[c]&&(u[c]={...o[c]}),u),{})}),s=function(o,l,u){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];o[u]&&(l[u]=a(o[u],c))};i.copyStyle=o=>{if(!o)return o;if(l=o,Object.keys(l).length===0)return{};var l;const u={...o};return s(o,u,"font",["color"]),s(o,u,"alignment"),s(o,u,"protection"),o.border&&(s(o,u,"border"),s(o.border,u.border,"top",["color"]),s(o.border,u.border,"left",["color"]),s(o.border,u.border,"bottom",["color"]),s(o.border,u.border,"right",["color"]),s(o.border,u.border,"diagonal",["color"])),o.fill&&(s(o,u,"fill",["fgColor","bgColor","center"]),o.fill.stops&&(u.fill.stops=o.fill.stops.map(c=>a(c,["color"])))),u}},{}],21:[function(e,n,i){(function(a){(function(){const s=e("crypto"),o={hash(l){const u=s.createHash(l);for(var c=arguments.length,f=new Array(c>1?c-1:0),h=1;h<c;h++)f[h-1]=arguments[h];return u.update(a.concat(f)),u.digest()},convertPasswordToHash(l,u,c,f){if(u=u.toLowerCase(),s.getHashes().indexOf(u)<0)throw new Error(`Hash algorithm '${u}' not supported!`);const h=a.from(l,"utf16le");let d=this.hash(u,a.from(c,"base64"),h);for(let A=0;A<f;A++){const p=a.alloc(4);p.writeUInt32LE(A,0),d=this.hash(u,d,p)}return d.toString("base64")},randomBytes:l=>s.randomBytes(l)};n.exports=o}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,n,i){const{SaxesParser:a}=e("saxes"),{PassThrough:s}=e("readable-stream"),{bufferToString:o}=e("./browser-buffer-decode");n.exports=async function*(l){l.pipe&&!l[Symbol.asyncIterator]&&(l=l.pipe(new s));const u=new a;let c;u.on("error",h=>{c=h});let f=[];u.on("opentag",h=>f.push({eventType:"opentag",value:h})),u.on("text",h=>f.push({eventType:"text",value:h})),u.on("closetag",h=>f.push({eventType:"closetag",value:h}));for await(const h of l){if(u.write(o(h)),c)throw c;yield f,f=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,n,i){const a=e("./col-cache"),s=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,o=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(l,u,c){const f=a.decode(u),h=a.decode(c);return l.replace(s,(d,A,p,g,m)=>{if(m)return d;const v=o.exec(g);if(v){const y=v[1],b=v[2].toUpperCase(),_=v[3],T=v[4];if(b.length>3||b.length===3&&b>"XFD")return d;let I=a.l2n(b),N=parseInt(T,10);return y||(I+=h.col-f.col),_||(N+=h.row-f.row),(A||"")+(y||"")+a.n2l(I)+(_||"")+N}return d})}}},{"./col-cache":19}],24:[function(e,n,i){(function(a,s){(function(){const o=e("readable-stream"),l=e("./utils"),u=e("./string-buf");class c{constructor(g,m){this._data=g,this._encoding=m}get length(){return this.toBuffer().length}copy(g,m,v,y){return this.toBuffer().copy(g,m,v,y)}toBuffer(){return this._buffer||(this._buffer=s.from(this._data,this._encoding)),this._buffer}}class f{constructor(g){this._data=g}get length(){return this._data.length}copy(g,m,v,y){return this._data._buf.copy(g,m,v,y)}toBuffer(){return this._data.toBuffer()}}class h{constructor(g){this._data=g}get length(){return this._data.length}copy(g,m,v,y){this._data.copy(g,m,v,y)}toBuffer(){return this._data}}class d{constructor(g){this.size=g,this.buffer=s.alloc(g),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const g=s.alloc(this.iWrite-this.iRead);return this.buffer.copy(g,0,this.iRead,this.iWrite),g}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(g){let m;return g===0?null:g===void 0||g>=this.length?(m=this.toBuffer(),this.iRead=this.iWrite,m):(m=s.alloc(g),this.buffer.copy(m,0,this.iRead,g),this.iRead+=g,m)}write(g,m,v){const y=Math.min(v,this.size-this.iWrite);return g.copy(this.buffer,this.iWrite,m,m+y),this.iWrite+=y,y}}const A=function(p){p=p||{},this.bufSize=p.bufSize||1048576,this.buffers=[],this.batch=p.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};l.inherits(A,o.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return s.concat(this.buffers.map(p=>p.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const g=this.buffers[this.buffers.length-1];if(!g.full)return g}const p=new d(this.bufSize);return this.buffers.push(p),p},async _pipe(p){await Promise.all(this.pipes.map(function(g){return new Promise(m=>{g.write(p.toBuffer(),()=>{m()})})}))},_writeToBuffers(p){let g=0;const m=p.length;for(;g<m;)g+=this._getWritableBuffer().write(p,g,m-g)},async write(p,g,m){let v;if(g instanceof Function&&(m=g,g="utf8"),m=m||l.nop,p instanceof u)v=new f(p);else if(p instanceof s)v=new h(p);else{if(!(typeof p=="string"||p instanceof String||p instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");v=new c(p,g)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(v);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(v),a.nextTick(m)):(await this._pipe(v),m());else this.paused||this.emit("data",v.toBuffer()),this._writeToBuffers(v),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(p,g,m){const v=y=>{y?m(y):(this._flush(),this.pipes.forEach(b=>{b.end()}),this.emit("finish"))};p?this.write(p,g,v):v()},read(p){let g;if(p){for(g=[];p&&this.buffers.length&&!this.buffers[0].eod;){const m=this.buffers[0],v=m.read(p);p-=v.length,g.push(v),m.eod&&m.full&&this.buffers.shift()}return s.concat(g)}return g=this.buffers.map(m=>m.toBuffer()).filter(Boolean),this.buffers=[],s.concat(g)},setEncoding(p){this.encoding=p},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(p){this.pipes.push(p),!this.paused&&this.buffers.length&&this.end()},unpipe(p){this.pipes=this.pipes.filter(g=>g!==p)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=A}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,n,i){(function(a){(function(){n.exports=class{constructor(s){this._buf=a.alloc(s&&s.size||16384),this._encoding=s&&s.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=a.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(s){s=s||0,this._buffer=void 0,this._inPos=s}_grow(s){let o=2*this._buf.length;for(;o<s;)o*=2;const l=a.alloc(o);this._buf.copy(l,0),this._buf=l}addText(s){this._buffer=void 0;let o=this._inPos+this._buf.write(s,this._inPos,this._encoding);for(;o>=this._buf.length-4;)this._grow(this._inPos+s.length),o=this._inPos+this._buf.write(s,this._inPos,this._encoding);this._inPos=o}addStringBuf(s){s.length&&(this._buffer=void 0,this.length+s.length>this.capacity&&this._grow(this.length+s.length),s._buf.copy(this._buf,this._inPos,0,s.length),this._inPos+=s.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,n,i){const{toString:a}=Object.prototype,s=/["&<>]/,o={each:function(l,u){l&&(Array.isArray(l)?l.forEach(u):Object.keys(l).forEach(c=>{u(l[c],c)}))},some:function(l,u){return!!l&&(Array.isArray(l)?l.some(u):Object.keys(l).some(c=>u(l[c],c)))},every:function(l,u){return!l||(Array.isArray(l)?l.every(u):Object.keys(l).every(c=>u(l[c],c)))},map:function(l,u){return l?Array.isArray(l)?l.map(u):Object.keys(l).map(c=>u(l[c],c)):[]},keyBy:(l,u)=>l.reduce((c,f)=>(c[f[u]]=f,c),{}),isEqual:function(l,u){const c=typeof l,f=typeof u,h=Array.isArray(l),d=Array.isArray(u);let A;if(c!==f)return!1;switch(typeof l){case"object":if(h||d)return!(!h||!d)&&l.length===u.length&&l.every((p,g)=>{const m=u[g];return o.isEqual(p,m)});if(l===null||u===null)return l===u;if(A=Object.keys(l),Object.keys(u).length!==A.length)return!1;for(const p of A)if(!u.hasOwnProperty(p))return!1;return o.every(l,(p,g)=>{const m=u[g];return o.isEqual(p,m)});default:return l===u}},escapeHtml(l){const u=s.exec(l);if(!u)return l;let c="",f="",h=0,d=u.index;for(;d<l.length;d++){switch(l.charAt(d)){case'"':f="&quot;";break;case"&":f="&amp;";break;case"'":f="&apos;";break;case"<":f="&lt;";break;case">":f="&gt;";break;default:continue}h!==d&&(c+=l.substring(h,d)),h=d+1,c+=f}return h!==d?c+l.substring(h,d):c},strcmp:(l,u)=>l<u?-1:l>u?1:0,isUndefined:l=>a.call(l)==="[object Undefined]",isObject:l=>a.call(l)==="[object Object]",deepMerge(){const l=arguments[0]||{},{length:u}=arguments;let c,f,h;function d(A,p){c=l[p],h=Array.isArray(A),o.isObject(A)||h?(h?(h=!1,f=c&&Array.isArray(c)?c:[]):f=c&&o.isObject(c)?c:{},l[p]=o.deepMerge(f,A)):o.isUndefined(A)||(l[p]=A)}for(let A=0;A<u;A++)o.each(arguments[A],d);return l}};n.exports=o},{}],27:[function(e,n,i){(function(a,s){(function(){const o=e("fs"),l=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,u={nop(){},promiseImmediate:c=>new Promise(f=>{a.setImmediate?s(()=>{f(c)}):setTimeout(()=>{f(c)},1)}),inherits:function(c,f,h,d){c.super_=f,d||(d=h,h=null),h&&Object.keys(h).forEach(p=>{Object.defineProperty(c,p,Object.getOwnPropertyDescriptor(h,p))});const A={constructor:{value:c,enumerable:!1,writable:!1,configurable:!0}};d&&Object.keys(d).forEach(p=>{A[p]=Object.getOwnPropertyDescriptor(d,p)}),c.prototype=Object.create(f.prototype,A)},dateToExcel:(c,f)=>25569+c.getTime()/864e5-(f?1462:0),excelToDate(c,f){const h=Math.round(24*(c-25569+(f?1462:0))*3600*1e3);return new Date(h)},parsePath(c){const f=c.lastIndexOf("/");return{path:c.substring(0,f),name:c.substring(f+1)}},getRelsPath(c){const f=u.parsePath(c);return`${f.path}/_rels/${f.name}.rels`},xmlEncode(c){const f=l.exec(c);if(!f)return c;let h="",d="",A=0,p=f.index;for(;p<c.length;p++){const g=c.charCodeAt(p);switch(g){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&apos;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;case 127:d="";break;default:if(g<=31&&(g<=8||g>=11&&g!==13)){d="";break}continue}A!==p&&(h+=c.substring(A,p)),A=p+1,d&&(h+=d)}return A!==p?h+c.substring(A,p):h},xmlDecode:c=>c.replace(/&([a-z]*);/g,f=>{switch(f){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return f}}),validInt(c){const f=parseInt(c,10);return Number.isNaN(f)?0:f},isDateFmt(c){return c?(c=(c=c.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:c=>new Promise(f=>{o.access(c,o.constants.F_OK,h=>{f(!h)})})},toIsoDateString:c=>c.toIsoString().subsstr(0,10),parseBoolean:c=>c===!0||c==="true"||c===1||c==="1"};n.exports=u}).call(this)}).call(this,typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,n,i){const a=e("./under-dash"),s=e("./utils");function o(c,f,h){c.push(` ${f}="${s.xmlEncode(h.toString())}"`)}function l(c,f){if(f){const h=[];a.each(f,(d,A)=>{d!==void 0&&o(h,A,d)}),c.push(h.join(""))}}class u{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(f){const h=this._xml;h.push("<?xml"),l(h,f),h.push(`?>
`)}openNode(f,h){const d=this.tos,A=this._xml;d&&this.open&&A.push(">"),this._stack.push(f),A.push("<"),A.push(f),l(A,h),this.leaf=!0,this.open=!0}addAttribute(f,h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");h!==void 0&&o(this._xml,f,h)}addAttributes(f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");l(this._xml,f)}writeText(f){const h=this._xml;this.open&&(h.push(">"),this.open=!1),this.leaf=!1,h.push(s.xmlEncode(f.toString()))}writeXml(f){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(f)}closeNode(){const f=this._stack.pop(),h=this._xml;this.leaf?h.push("/>"):(h.push("</"),h.push(f),h.push(">")),this.open=!1,this.leaf=!1}leafNode(f,h,d){this.openNode(f,h),d!==void 0&&this.writeText(d),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const f=this._rollbacks.pop();this._xml.length>f.xml&&this._xml.splice(f.xml,this._xml.length-f.xml),this._stack.length>f.stack&&this._stack.splice(f.stack,this._stack.length-f.stack),this.leaf=f.leaf,this.open=f.open}get xml(){return this.closeAll(),this._xml.join("")}}u.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=u},{"./under-dash":26,"./utils":27}],29:[function(e,n,i){(function(a){(function(){const s=e("events"),o=e("jszip"),l=e("./stream-buf"),{stringToBuffer:u}=e("./browser-buffer-encode");class c extends s.EventEmitter{constructor(h){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},h),this.zip=new o,this.stream=new l}append(h,d){d.hasOwnProperty("base64")&&d.base64?this.zip.file(d.name,h,{base64:!0}):(a.browser&&typeof h=="string"&&(h=u(h)),this.zip.file(d.name,h))}async finalize(){const h=await this.zip.generateAsync(this.options);this.stream.end(h),this.emit("finish")}read(h){return this.stream.read(h)}setEncoding(h){return this.stream.setEncoding(h)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(h,d){return this.stream.pipe(h,d)}unpipe(h){return this.stream.unpipe(h)}unshift(h){return this.stream.unshift(h)}wrap(h){return this.stream.wrap(h)}}n.exports={ZipWriter:c}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,n,i){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,n,i){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,n,i){const a=e("../../utils/parse-sax"),s=e("../../utils/xml-stream");class o{prepare(){}render(){}parseOpen(u){}parseText(u){}parseClose(u){}reconcile(u,c){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(u=>{u instanceof o?u.reset():u.xform&&u.xform.reset()})}mergeModel(u){this.model=Object.assign(this.model||{},u)}async parse(u){for await(const c of u)for(const{eventType:f,value:h}of c)if(f==="opentag")this.parseOpen(h);else if(f==="text")this.parseText(h);else if(f==="closetag"&&!this.parseClose(h.name))return this.model;return this.model}async parseStream(u){return this.parse(a(u))}get xml(){return this.toXml(this.model)}toXml(u){const c=new s;return this.render(c,u),c.xml}static toAttribute(u,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(u===void 0){if(f)return c}else if(f||u!==c)return u.toString()}static toStringAttribute(u,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(u,c,f)}static toStringValue(u,c){return u===void 0?c:u}static toBoolAttribute(u,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(u===void 0){if(f)return c}else if(f||u!==c)return u?"1":"0"}static toBoolValue(u,c){return u===void 0?c:u==="1"}static toIntAttribute(u,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(u,c,f)}static toIntValue(u,c){return u===void 0?c:parseInt(u,10)}static toFloatAttribute(u,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(u,c,f)}static toFloatValue(u,c){return u===void 0?c:parseFloat(u)}}n.exports=o},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,n,i){const a=e("../base-xform"),s=e("../../../utils/col-cache");function o(u){try{return s.decodeEx(u),!0}catch{return!1}}function l(u){const c=[];let f=!1,h="";return u.split(",").forEach(d=>{if(!d)return;const A=(d.match(/'/g)||[]).length;if(!A)return void(f?h+=d+",":o(d)&&c.push(d));const p=A%2==0;!f&&p&&o(d)?c.push(d):f&&!p?(f=!1,o(h+d)&&c.push(h+d),h=""):(f=!0,h+=d+",")}),c}n.exports=class extends a{render(u,c){u.openNode("definedName",{name:c.name,localSheetId:c.localSheetId}),u.writeText(c.ranges.join(",")),u.closeNode()}parseOpen(u){switch(u.name){case"definedName":return this._parsedName=u.attributes.name,this._parsedLocalSheetId=u.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(u){this._parsedText.push(u)}parseClose(){return this.model={name:this._parsedName,ranges:l(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,n,i){const a=e("../../../utils/utils"),s=e("../base-xform");n.exports=class extends s{render(o,l){o.leafNode("sheet",{sheetId:l.id,name:l.name,state:l.state,"r:id":l.rId})}parseOpen(o){return o.name==="sheet"&&(this.model={name:a.xmlDecode(o.attributes.name),id:parseInt(o.attributes.sheetId,10),state:o.attributes.state,rId:o.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{render(s,o){s.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:o.fullCalcOnLoad?1:void 0})}parseOpen(s){return s.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{render(s,o){s.leafNode("workbookPr",{date1904:o.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(s){return s.name==="workbookPr"&&(this.model={date1904:s.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{render(s,o){const l={xWindow:o.x||0,yWindow:o.y||0,windowWidth:o.width||12e3,windowHeight:o.height||24e3,firstSheet:o.firstSheet,activeTab:o.activeTab};o.visibility&&o.visibility!=="visible"&&(l.visibility=o.visibility),s.leafNode("workbookView",l)}parseOpen(s){if(s.name==="workbookView"){const o=this.model={},l=function(c,f,h){const d=f!==void 0?o[c]=f:h;d!==void 0&&(o[c]=d)},u=function(c,f,h){const d=f!==void 0?o[c]=parseInt(f,10):h;d!==void 0&&(o[c]=d)};return u("x",s.attributes.xWindow,0),u("y",s.attributes.yWindow,0),u("width",s.attributes.windowWidth,25e3),u("height",s.attributes.windowHeight,1e4),l("visibility",s.attributes.visibility,"visible"),u("activeTab",s.attributes.activeTab,void 0),u("firstSheet",s.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,n,i){const a=e("../../../utils/under-dash"),s=e("../../../utils/col-cache"),o=e("../../../utils/xml-stream"),l=e("../base-xform"),u=e("../static-xform"),c=e("../list-xform"),f=e("./defined-name-xform"),h=e("./sheet-xform"),d=e("./workbook-view-xform"),A=e("./workbook-properties-xform"),p=e("./workbook-calc-properties-xform");class g extends l{constructor(){super(),this.map={fileVersion:g.STATIC_XFORMS.fileVersion,workbookPr:new A,bookViews:new c({tag:"bookViews",count:!1,childXform:new d}),sheets:new c({tag:"sheets",count:!1,childXform:new h}),definedNames:new c({tag:"definedNames",count:!1,childXform:new f}),calcPr:new p}}prepare(v){v.sheets=v.worksheets;const y=[];let b=0;v.sheets.forEach(_=>{if(_.pageSetup&&_.pageSetup.printArea&&_.pageSetup.printArea.split("&&").forEach(T=>{const I=T.split(":"),N={name:"_xlnm.Print_Area",ranges:[`'${_.name}'!$${I[0]}:$${I[1]}`],localSheetId:b};y.push(N)}),_.pageSetup&&(_.pageSetup.printTitlesRow||_.pageSetup.printTitlesColumn)){const T=[];if(_.pageSetup.printTitlesColumn){const N=_.pageSetup.printTitlesColumn.split(":");T.push(`'${_.name}'!$${N[0]}:$${N[1]}`)}if(_.pageSetup.printTitlesRow){const N=_.pageSetup.printTitlesRow.split(":");T.push(`'${_.name}'!$${N[0]}:$${N[1]}`)}const I={name:"_xlnm.Print_Titles",ranges:T,localSheetId:b};y.push(I)}b++}),y.length&&(v.definedNames=v.definedNames.concat(y)),(v.media||[]).forEach((_,T)=>{_.name=_.type+(T+1)})}render(v,y){v.openXml(o.StdDocAttributes),v.openNode("workbook",g.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(v),this.map.workbookPr.render(v,y.properties),this.map.bookViews.render(v,y.views),this.map.sheets.render(v,y.sheets),this.map.definedNames.render(v,y.definedNames),this.map.calcPr.render(v,y.calcProperties),v.closeNode()}parseOpen(v){if(this.parser)return this.parser.parseOpen(v),!0;switch(v.name){case"workbook":return!0;default:return this.parser=this.map[v.name],this.parser&&this.parser.parseOpen(v),!0}}parseText(v){this.parser&&this.parser.parseText(v)}parseClose(v){if(this.parser)return this.parser.parseClose(v)||(this.parser=void 0),!0;switch(v){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(v){const y=(v.workbookRels||[]).reduce((N,F)=>(N[F.Id]=F,N),{}),b=[];let _,T=0;(v.sheets||[]).forEach(N=>{const F=y[N.rId];F&&(_=v.worksheetHash["xl/"+F.Target.replace(/^(\s|\/xl\/)+/,"")],_&&(_.name=N.name,_.id=N.id,_.state=N.state,b[T++]=_))});const I=[];a.each(v.definedNames,N=>{if(N.name==="_xlnm.Print_Area"){if(_=b[N.localSheetId],_){_.pageSetup||(_.pageSetup={});const F=s.decodeEx(N.ranges[0]);_.pageSetup.printArea=_.pageSetup.printArea?`${_.pageSetup.printArea}&&${F.dimensions}`:F.dimensions}}else if(N.name==="_xlnm.Print_Titles"){if(_=b[N.localSheetId],_){_.pageSetup||(_.pageSetup={});const F=N.ranges.join(","),P=/\$/g,D=/\$\d+:\$\d+/,R=F.match(D);if(R&&R.length){const k=R[0];_.pageSetup.printTitlesRow=k.replace(P,"")}const E=/\$[A-Z]+:\$[A-Z]+/,L=F.match(E);if(L&&L.length){const k=L[0];_.pageSetup.printTitlesColumn=k.replace(P,"")}}}else I.push(N)}),v.definedNames=I,v.media.forEach((N,F)=>{N.index=F})}}g.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},g.STATIC_XFORMS={fileVersion:new u({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=g},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,n,i){const a=e("../strings/rich-text-xform"),s=e("../../../utils/utils"),o=e("../base-xform"),l=n.exports=function(u){this.model=u};s.inherits(l,o,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new a),this._richTextXform},render(u,c){c=c||this.model,u.openNode("comment",{ref:c.ref,authorId:0}),u.openNode("text"),c&&c.note&&c.note.texts&&c.note.texts.forEach(f=>{this.richTextXform.render(u,f)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"comment":return this.model={type:"note",note:{texts:[]},...u.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,n,i){const a=e("../../../utils/xml-stream"),s=e("../../../utils/utils"),o=e("../base-xform"),l=e("./comment-xform"),u=n.exports=function(){this.map={comment:new l}};s.inherits(u,o,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(c,f){f=f||this.model,c.openXml(a.StdDocAttributes),c.openNode("comments",u.COMMENTS_ATTRIBUTES),c.openNode("authors"),c.leafNode("author",null,"Author"),c.closeNode(),c.openNode("commentList"),f.comments.forEach(h=>{this.map.comment.render(c,h)}),c.closeNode(),c.closeNode()},parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(c),!0;default:return!1}},parseText(c){this.parser&&this.parser.parseText(c)},parseClose(c){switch(c){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,n,i){const a=e("../../base-xform");n.exports=class extends a{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,o,l){(o===l[2]||this.tag==="x:SizeWithCells"&&o===l[1])&&s.leafNode(this.tag)}parseOpen(s){switch(s.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,n,i){const a=e("../../base-xform");n.exports=class extends a{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,o){s.leafNode(this.tag,null,o)}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"x:Anchor"}getAnchorRect(s){const o=Math.floor(s.left),l=Math.floor(68*(s.left-o)),u=Math.floor(s.top),c=Math.floor(18*(s.top-u)),f=Math.floor(s.right),h=Math.floor(68*(s.right-f)),d=Math.floor(s.bottom);return[o,l,u,c,f,h,d,Math.floor(18*(s.bottom-d))]}getDefaultRect(s){const o=s.col,l=Math.max(s.row-2,0);return[o,6,l,14,o+2,2,l+4,16]}render(s,o){const l=o.anchor?this.getAnchorRect(o.anchor):this.getDefaultRect(o.refAddress);s.leafNode("x:Anchor",null,l.join(", "))}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,n,i){const a=e("../base-xform"),s=e("./vml-anchor-xform"),o=e("./style/vml-protection-xform"),l=e("./style/vml-position-xform"),u=["twoCells","oneCells","absolute"];n.exports=class extends a{constructor(){super(),this.map={"x:Anchor":new s,"x:Locked":new o({tag:"x:Locked"}),"x:LockText":new o({tag:"x:LockText"}),"x:SizeWithCells":new l({tag:"x:SizeWithCells"}),"x:MoveWithCells":new l({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(c,f){const{protection:h,editAs:d}=f.note;c.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(c,d,u),this.map["x:SizeWithCells"].render(c,d,u),this.map["x:Anchor"].render(c,f),this.map["x:Locked"].render(c,h.locked),c.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(c,h.lockText),c.leafNode("x:Row",null,f.refAddress.row-1),c.leafNode("x:Column",null,f.refAddress.col-1),c.closeNode()}parseOpen(c){switch(c.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const c=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),f=Object.keys(c).length;this.model.editAs=u[f],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,n,i){const a=e("../../../utils/xml-stream"),s=e("../base-xform"),o=e("./vml-shape-xform");class l extends s{constructor(){super(),this.map={"v:shape":new o}}get tag(){return"xml"}render(c,f){c.openXml(a.StdDocAttributes),c.openNode(this.tag,l.DRAWING_ATTRIBUTES),c.openNode("o:shapelayout",{"v:ext":"edit"}),c.leafNode("o:idmap",{"v:ext":"edit",data:1}),c.closeNode(),c.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),c.leafNode("v:stroke",{joinstyle:"miter"}),c.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),c.closeNode(),f.comments.forEach((h,d)=>{this.map["v:shape"].render(c,h,d)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}reconcile(c,f){c.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,f):this.map["xdr:oneCellAnchor"].reconcile(h,f)})}}l.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,n,i){const a=e("../base-xform"),s=e("./vml-textbox-xform"),o=e("./vml-client-data-xform");class l extends a{constructor(){super(),this.map={"v:textbox":new s,"x:ClientData":new o}}get tag(){return"v:shape"}render(c,f,h){c.openNode("v:shape",l.V_SHAPE_ATTRIBUTES(f,h)),c.leafNode("v:fill",{color2:"infoBackground [80]"}),c.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),c.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(c,f),this.map["x:ClientData"].render(c,f),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={margins:{insetmode:c.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}l.V_SHAPE_ATTRIBUTES=(u,c)=>({id:"_x0000_s"+(1025+c),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":u.note.margins&&u.note.margins.insetmode}),n.exports=l},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"v:textbox"}conversionUnit(s,o,l){return`${parseFloat(s)*o.toFixed(2)}${l}`}reverseConversionUnit(s){return(s||"").split(",").map(o=>Number(parseFloat(this.conversionUnit(parseFloat(o),.1,"")).toFixed(2)))}render(s,o){const l={style:"mso-direction-alt:auto"};if(o&&o.note){let{inset:u}=o.note&&o.note.margins;Array.isArray(u)&&(u=u.map(c=>this.conversionUnit(c,10,"mm")).join(",")),u&&(l.inset=u)}s.openNode("v:textbox",l),s.leafNode("div",{style:"text-align:left"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:return this.model={inset:this.reverseConversionUnit(s.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,n,i){const a=e("./base-xform");n.exports=class extends a{createNewModel(s){return{}}parseOpen(s){return this.parser=this.parser||this.map[s.name],this.parser?(this.parser.parseOpen(s),!0):s.name===this.tag&&(this.model=this.createNewModel(s),!0)}parseText(s){this.parser&&this.parser.parseText(s)}onParserClose(s,o){this.model[s]=o.model}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.onParserClose(s,this.parser),this.parser=void 0),!0):s!==this.tag}}},{"./base-xform":32}],49:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{render(s,o){s.openNode("HeadingPairs"),s.openNode("vt:vector",{size:2,baseType:"variant"}),s.openNode("vt:variant"),s.leafNode("vt:lpstr",void 0,"Worksheets"),s.closeNode(),s.openNode("vt:variant"),s.leafNode("vt:i4",void 0,o.length),s.closeNode(),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="HeadingPairs"}parseText(){}parseClose(s){return s!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{render(s,o){s.openNode("TitlesOfParts"),s.openNode("vt:vector",{size:o.length,baseType:"lpstr"}),o.forEach(l=>{s.leafNode("vt:lpstr",void 0,l.name)}),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="TitlesOfParts"}parseText(){}parseClose(s){return s!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,n,i){const a=e("../../../utils/xml-stream"),s=e("../base-xform"),o=e("../simple/string-xform"),l=e("./app-heading-pairs-xform"),u=e("./app-titles-of-parts-xform");class c extends s{constructor(){super(),this.map={Company:new o({tag:"Company"}),Manager:new o({tag:"Manager"}),HeadingPairs:new l,TitleOfParts:new u}}render(h,d){h.openXml(a.StdDocAttributes),h.openNode("Properties",c.PROPERTY_ATTRIBUTES),h.leafNode("Application",void 0,"Microsoft Excel"),h.leafNode("DocSecurity",void 0,"0"),h.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(h,d.worksheets),this.map.TitleOfParts.render(h,d.worksheets),this.map.Company.render(h,d.company||""),this.map.Manager.render(h,d.manager),h.leafNode("LinksUpToDate",void 0,"false"),h.leafNode("SharedDoc",void 0,"false"),h.leafNode("HyperlinksChanged",void 0,"false"),h.leafNode("AppVersion",void 0,"16.0300"),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"Properties":return!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}c.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3,6}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,n,i){const a=e("../../../utils/xml-stream"),s=e("../base-xform");class o extends s{render(u,c){u.openXml(a.StdDocAttributes),u.openNode("Types",o.PROPERTY_ATTRIBUTES);const f={};(c.media||[]).forEach(h=>{if(h.type==="image"){const d=h.extension;f[d]||(f[d]=!0,u.leafNode("Default",{Extension:d,ContentType:"image/"+d}))}}),u.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),u.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),u.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),c.worksheets.forEach(h=>{const d=`/xl/worksheets/sheet${h.id}.xml`;u.leafNode("Override",{PartName:d,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),u.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),u.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),c.sharedStrings&&c.sharedStrings.count&&u.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),c.tables&&c.tables.forEach(h=>{u.leafNode("Override",{PartName:"/xl/tables/"+h.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),c.drawings&&c.drawings.forEach(h=>{u.leafNode("Override",{PartName:`/xl/drawings/${h.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),c.commentRefs&&(u.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),c.commentRefs.forEach(h=>{let{commentName:d}=h;u.leafNode("Override",{PartName:`/xl/${d}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),u.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),u.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),u.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}o.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,n,i){const a=e("../../../utils/xml-stream"),s=e("../base-xform"),o=e("../simple/date-xform"),l=e("../simple/string-xform"),u=e("../simple/integer-xform");class c extends s{constructor(){super(),this.map={"dc:creator":new l({tag:"dc:creator"}),"dc:title":new l({tag:"dc:title"}),"dc:subject":new l({tag:"dc:subject"}),"dc:description":new l({tag:"dc:description"}),"dc:identifier":new l({tag:"dc:identifier"}),"dc:language":new l({tag:"dc:language"}),"cp:keywords":new l({tag:"cp:keywords"}),"cp:category":new l({tag:"cp:category"}),"cp:lastModifiedBy":new l({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new o({tag:"cp:lastPrinted",format:c.DateFormat}),"cp:revision":new u({tag:"cp:revision"}),"cp:version":new l({tag:"cp:version"}),"cp:contentStatus":new l({tag:"cp:contentStatus"}),"cp:contentType":new l({tag:"cp:contentType"}),"dcterms:created":new o({tag:"dcterms:created",attrs:c.DateAttrs,format:c.DateFormat}),"dcterms:modified":new o({tag:"dcterms:modified",attrs:c.DateAttrs,format:c.DateFormat})}}render(h,d){h.openXml(a.StdDocAttributes),h.openNode("cp:coreProperties",c.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(h,d.creator),this.map["dc:title"].render(h,d.title),this.map["dc:subject"].render(h,d.subject),this.map["dc:description"].render(h,d.description),this.map["dc:identifier"].render(h,d.identifier),this.map["dc:language"].render(h,d.language),this.map["cp:keywords"].render(h,d.keywords),this.map["cp:category"].render(h,d.category),this.map["cp:lastModifiedBy"].render(h,d.lastModifiedBy),this.map["cp:lastPrinted"].render(h,d.lastPrinted),this.map["cp:revision"].render(h,d.revision),this.map["cp:version"].render(h,d.version),this.map["cp:contentStatus"].render(h,d.contentStatus),this.map["cp:contentType"].render(h,d.contentType),this.map["dcterms:created"].render(h,d.created),this.map["dcterms:modified"].render(h,d.modified),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[h.name],this.parser)return this.parser.parseOpen(h),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(h))}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+h)}}}c.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{render(s,o){s.leafNode("Relationship",o)}parseOpen(s){switch(s.name){case"Relationship":return this.model=s.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,n,i){const a=e("../../../utils/xml-stream"),s=e("../base-xform"),o=e("./relationship-xform");class l extends s{constructor(){super(),this.map={Relationship:new o}}render(c,f){f=f||this._values,c.openXml(a.StdDocAttributes),c.openNode("Relationships",l.RELATIONSHIPS_ATTRIBUTES),f.forEach(h=>{this.map.Relationship.render(c,h)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[c.name],this.parser)return this.parser.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(c){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}l.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset(),this.model={range:{editAs:s.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(s){this.parser&&this.parser.parseText(s)}reconcilePicture(s,o){if(s&&s.rId){const l=o.rels[s.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(l){const u=l[1],c=o.mediaIndex[u];return o.media[c]}}}}},{"../base-xform":32}],57:[function(e,n,i){const a=e("../base-xform"),s=e("./blip-xform");n.exports=class extends a{constructor(){super(),this.map={"a:blip":new s}}get tag(){return"xdr:blipFill"}render(o,l){o.openNode(this.tag),this.map["a:blip"].render(o,l),o.openNode("a:stretch"),o.leafNode("a:fillRect"),o.closeNode(),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"a:blip"}render(s,o){s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":o.rId,cstate:"print"})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"xdr:cNvPicPr"}render(s){s.openNode(this.tag),s.leafNode("a:picLocks",{noChangeAspect:"1"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,n,i){const a=e("../base-xform"),s=e("./hlink-click-xform"),o=e("./ext-lst-xform");n.exports=class extends a{constructor(){super(),this.map={"a:hlinkClick":new s,"a:extLst":new o}}get tag(){return"xdr:cNvPr"}render(l,u){l.openNode(this.tag,{id:u.index,name:"Picture "+u.index}),this.map["a:hlinkClick"].render(l,u),this.map["a:extLst"].render(l,u),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,n,i){const a=e("../base-xform"),s=e("../simple/integer-xform");n.exports=class extends a{constructor(o){super(),this.tag=o.tag,this.map={"xdr:col":new s({tag:"xdr:col",zero:!0}),"xdr:colOff":new s({tag:"xdr:colOff",zero:!0}),"xdr:row":new s({tag:"xdr:row",zero:!0}),"xdr:rowOff":new s({tag:"xdr:rowOff",zero:!0})}}render(o,l){o.openNode(this.tag),this.map["xdr:col"].render(o,l.nativeCol),this.map["xdr:colOff"].render(o,l.nativeColOff),this.map["xdr:row"].render(o,l.nativeRow),this.map["xdr:rowOff"].render(o,l.nativeRowOff),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,n,i){const a=e("../../../utils/col-cache"),s=e("../../../utils/xml-stream"),o=e("../base-xform"),l=e("./two-cell-anchor-xform"),u=e("./one-cell-anchor-xform");class c extends o{constructor(){super(),this.map={"xdr:twoCellAnchor":new l,"xdr:oneCellAnchor":new u}}prepare(h){h.anchors.forEach((d,A)=>{d.anchorType=function(p){return(typeof p.range=="string"?a.decode(p.range):p.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(d),this.map[d.anchorType].prepare(d,{index:A})})}get tag(){return"xdr:wsDr"}render(h,d){h.openXml(s.StdDocAttributes),h.openNode(this.tag,c.DRAWING_ATTRIBUTES),d.anchors.forEach(A=>{this.map[A.anchorType].render(h,A)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(h){case this.tag:return!1;default:return!0}}reconcile(h,d){h.anchors.forEach(A=>{A.br?this.map["xdr:twoCellAnchor"].reconcile(A,d):this.map["xdr:oneCellAnchor"].reconcile(A,d)})}}c.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=c},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"a:extLst"}render(s){s.openNode(this.tag),s.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),s.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),s.closeNode(),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.map={}}render(s,o){s.openNode(this.tag);const l=Math.floor(9525*o.width),u=Math.floor(9525*o.height);s.addAttribute("cx",l),s.addAttribute("cy",u),s.closeNode()}parseOpen(s){return s.name===this.tag&&(this.model={width:parseInt(s.attributes.cx||"0",10)/9525,height:parseInt(s.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"a:hlinkClick"}render(s,o){o.hyperlinks&&o.hyperlinks.rId&&s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":o.hyperlinks.rId,tooltip:o.hyperlinks.tooltip})}parseOpen(s){switch(s.name){case this.tag:return this.model={hyperlinks:{rId:s.attributes["r:id"],tooltip:s.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,n,i){const a=e("../base-xform"),s=e("./c-nv-pr-xform"),o=e("./c-nv-pic-pr-xform");n.exports=class extends a{constructor(){super(),this.map={"xdr:cNvPr":new s,"xdr:cNvPicPr":new o}}get tag(){return"xdr:nvPicPr"}render(l,u){l.openNode(this.tag),this.map["xdr:cNvPr"].render(l,u),this.map["xdr:cNvPicPr"].render(l,u),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,n,i){const a=e("./base-cell-anchor-xform"),s=e("../static-xform"),o=e("./cell-position-xform"),l=e("./ext-xform"),u=e("./pic-xform");n.exports=class extends a{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:ext":new l({tag:"xdr:ext"}),"xdr:pic":new u,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(c,f){this.map["xdr:pic"].prepare(c.picture,f)}render(c,f){c.openNode(this.tag,{editAs:f.range.editAs||"oneCell"}),this.map["xdr:from"].render(c,f.range.tl),this.map["xdr:ext"].render(c,f.range.ext),this.map["xdr:pic"].render(c,f.picture),this.map["xdr:clientData"].render(c,{}),c.closeNode()}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(c,f){c.medium=this.reconcilePicture(c.picture,f)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,n,i){const a=e("../base-xform"),s=e("../static-xform"),o=e("./blip-fill-xform"),l=e("./nv-pic-pr-xform"),u=e("./sp-pr");n.exports=class extends a{constructor(){super(),this.map={"xdr:nvPicPr":new l,"xdr:blipFill":new o,"xdr:spPr":new s(u)}}get tag(){return"xdr:pic"}prepare(c,f){c.index=f.index+1}render(c,f){c.openNode(this.tag),this.map["xdr:nvPicPr"].render(c,f),this.map["xdr:blipFill"].render(c,f),this.map["xdr:spPr"].render(c,f),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,n,i){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,n,i){const a=e("./base-cell-anchor-xform"),s=e("../static-xform"),o=e("./cell-position-xform"),l=e("./pic-xform");n.exports=class extends a{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:to":new o({tag:"xdr:to"}),"xdr:pic":new l,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(u,c){this.map["xdr:pic"].prepare(u.picture,c)}render(u,c){u.openNode(this.tag,{editAs:c.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,c.range.tl),this.map["xdr:to"].render(u,c.range.br),this.map["xdr:pic"].render(u,c.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,c){u.medium=this.reconcilePicture(u.picture,c)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,n,i){const a=e("./base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.always=!!s.always,this.count=s.count,this.empty=s.empty,this.$count=s.$count||"count",this.$=s.$,this.childXform=s.childXform,this.maxItems=s.maxItems}prepare(s,o){const{childXform:l}=this;s&&s.forEach((u,c)=>{o.index=c,l.prepare(u,o)})}render(s,o){if(this.always||o&&o.length){s.openNode(this.tag,this.$),this.count&&s.addAttribute(this.$count,o&&o.length||0);const{childXform:l}=this;(o||[]).forEach((u,c)=>{l.render(s,u,c)}),s.closeNode()}else this.empty&&s.leafNode(this.tag)}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(s)&&(this.parser=this.childXform,!0)}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(s,o){if(s){const{childXform:l}=this;s.forEach(u=>{l.reconcile(u,o)})}}}},{"./base-xform":32}],72:[function(e,n,i){const a=e("../../../utils/col-cache"),s=e("../base-xform");n.exports=class extends s{get tag(){return"autoFilter"}render(o,l){if(l)if(typeof l=="string")o.leafNode("autoFilter",{ref:l});else{const u=function(h){return typeof h=="string"?h:a.getAddress(h.row,h.column).address},c=u(l.from),f=u(l.to);c&&f&&o.leafNode("autoFilter",{ref:`${c}:${f}`})}}parseOpen(o){o.name==="autoFilter"&&(this.model=o.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,n,i){const a=e("../../../utils/utils"),s=e("../base-xform"),o=e("../../../doc/range"),l=e("../../../doc/enums"),u=e("../strings/rich-text-xform");function c(f){if(f==null)return l.ValueType.Null;if(f instanceof String||typeof f=="string")return l.ValueType.String;if(typeof f=="number")return l.ValueType.Number;if(typeof f=="boolean")return l.ValueType.Boolean;if(f instanceof Date)return l.ValueType.Date;if(f.text&&f.hyperlink)return l.ValueType.Hyperlink;if(f.formula)return l.ValueType.Formula;if(f.error)return l.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends s{constructor(){super(),this.richTextXForm=new u}get tag(){return"c"}prepare(f,h){const d=h.styles.addStyleModel(f.style||{},function(A){switch(A.type){case l.ValueType.Formula:return c(A.result);default:return A.type}}(f));switch(d&&(f.styleId=d),f.comment&&h.comments.push({...f.comment,ref:f.address}),f.type){case l.ValueType.String:case l.ValueType.RichText:h.sharedStrings&&(f.ssId=h.sharedStrings.add(f.value));break;case l.ValueType.Date:h.date1904&&(f.date1904=!0);break;case l.ValueType.Hyperlink:h.sharedStrings&&f.text!==void 0&&f.text!==null&&(f.ssId=h.sharedStrings.add(f.text)),h.hyperlinks.push({address:f.address,target:f.hyperlink,tooltip:f.tooltip});break;case l.ValueType.Merge:h.merges.add(f);break;case l.ValueType.Formula:if(h.date1904&&(f.date1904=!0),f.shareType==="shared"&&(f.si=h.siFormulae++),f.formula)h.formulae[f.address]=f;else if(f.sharedFormula){const A=h.formulae[f.sharedFormula];if(!A)throw new Error("Shared Formula master must exist above and or left of clone for cell "+f.address);A.si===void 0?(A.shareType="shared",A.si=h.siFormulae++,A.range=new o(A.address,f.address)):A.range&&A.range.expandToAddress(f.address),f.si=A.si}}}renderFormula(f,h){let d=null;switch(h.shareType){case"shared":d={t:"shared",ref:h.ref||h.range.range,si:h.si};break;case"array":d={t:"array",ref:h.ref};break;default:h.si!==void 0&&(d={t:"shared",si:h.si})}switch(c(h.result)){case l.ValueType.Null:f.leafNode("f",d,h.formula);break;case l.ValueType.String:f.addAttribute("t","str"),f.leafNode("f",d,h.formula),f.leafNode("v",null,h.result);break;case l.ValueType.Number:f.leafNode("f",d,h.formula),f.leafNode("v",null,h.result);break;case l.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("f",d,h.formula),f.leafNode("v",null,h.result?1:0);break;case l.ValueType.Error:f.addAttribute("t","e"),f.leafNode("f",d,h.formula),f.leafNode("v",null,h.result.error);break;case l.ValueType.Date:f.leafNode("f",d,h.formula),f.leafNode("v",null,a.dateToExcel(h.result,h.date1904));break;default:throw new Error("I could not understand type of value")}}render(f,h){if(h.type!==l.ValueType.Null||h.styleId){switch(f.openNode("c"),f.addAttribute("r",h.address),h.styleId&&f.addAttribute("s",h.styleId),h.type){case l.ValueType.Null:break;case l.ValueType.Number:f.leafNode("v",null,h.value);break;case l.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("v",null,h.value?"1":"0");break;case l.ValueType.Error:f.addAttribute("t","e"),f.leafNode("v",null,h.value.error);break;case l.ValueType.String:case l.ValueType.RichText:h.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,h.ssId)):h.value&&h.value.richText?(f.addAttribute("t","inlineStr"),f.openNode("is"),h.value.richText.forEach(d=>{this.richTextXForm.render(f,d)}),f.closeNode("is")):(f.addAttribute("t","str"),f.leafNode("v",null,h.value));break;case l.ValueType.Date:f.leafNode("v",null,a.dateToExcel(h.value,h.date1904));break;case l.ValueType.Hyperlink:h.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,h.ssId)):(f.addAttribute("t","str"),f.leafNode("v",null,h.text));break;case l.ValueType.Formula:this.renderFormula(f,h);break;case l.ValueType.Merge:}f.closeNode()}}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"c":return this.model={address:f.attributes.r},this.t=f.attributes.t,f.attributes.s&&(this.model.styleId=parseInt(f.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=f.attributes.si,this.model.shareType=f.attributes.t,this.model.ref=f.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){if(this.parser)this.parser.parseText(f);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+f:f;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+f:f:this.model.value=this.model.value?this.model.value+f:f}}parseClose(f){switch(f){case"c":{const{model:h}=this;if(h.formula||h.shareType)h.type=l.ValueType.Formula,h.value&&(this.t==="str"?h.result=a.xmlDecode(h.value):this.t==="b"?h.result=parseInt(h.value,10)!==0:this.t==="e"?h.result={error:h.value}:h.result=parseFloat(h.value),h.value=void 0);else if(h.value!==void 0)switch(this.t){case"s":h.type=l.ValueType.String,h.value=parseInt(h.value,10);break;case"str":h.type=l.ValueType.String,h.value=a.xmlDecode(h.value);break;case"inlineStr":h.type=l.ValueType.String;break;case"b":h.type=l.ValueType.Boolean,h.value=parseInt(h.value,10)!==0;break;case"e":h.type=l.ValueType.Error,h.value={error:h.value};break;default:h.type=l.ValueType.Number,h.value=parseFloat(h.value)}else h.styleId?h.type=l.ValueType.Null:h.type=l.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(f),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(f),!0)}}reconcile(f,h){const d=f.styleId&&h.styles&&h.styles.getStyleModel(f.styleId);switch(d&&(f.style=d),f.styleId!==void 0&&(f.styleId=void 0),f.type){case l.ValueType.String:typeof f.value=="number"&&h.sharedStrings&&(f.value=h.sharedStrings.getString(f.value)),f.value.richText&&(f.type=l.ValueType.RichText);break;case l.ValueType.Number:d&&a.isDateFmt(d.numFmt)&&(f.type=l.ValueType.Date,f.value=a.excelToDate(f.value,h.date1904));break;case l.ValueType.Formula:f.result!==void 0&&d&&a.isDateFmt(d.numFmt)&&(f.result=a.excelToDate(f.result,h.date1904)),f.shareType==="shared"&&(f.ref?h.formulae[f.si]=f.address:(f.sharedFormula=h.formulae[f.si],delete f.shareType),delete f.si)}const A=h.hyperlinkMap[f.address];A&&(f.type===l.ValueType.Formula?(f.text=f.result,f.result=void 0):(f.text=f.value,f.value=void 0),f.type=l.ValueType.Hyperlink,f.hyperlink=A);const p=h.commentsMap&&h.commentsMap[f.address];p&&(f.comment=p)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,n,i){const a=e("../../base-xform");n.exports=class extends a{get tag(){return"x14:cfIcon"}render(s,o){s.leafNode(this.tag,{iconSet:o.iconSet,iconId:o.iconId})}parseOpen(s){let{attributes:o}=s;this.model={iconSet:o.iconSet,iconId:a.toIntValue(o.iconId)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],75:[function(e,n,i){const{v4:a}=e("uuid"),s=e("../../base-xform"),o=e("../../composite-xform"),l=e("./databar-ext-xform"),u=e("./icon-set-ext-xform"),c={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class f extends o{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new l,"x14:iconSet":this.iconSetXform=new u}}get tag(){return"x14:cfRule"}static isExt(d){return d.type==="dataBar"?l.isExt(d):!(d.type!=="iconSet"||!d.custom&&!c[d.iconSet])}prepare(d){f.isExt(d)&&(d.x14Id=`{${a()}}`.toUpperCase())}render(d,A){if(f.isExt(A))switch(A.type){case"dataBar":this.renderDataBar(d,A);break;case"iconSet":this.renderIconSet(d,A)}}renderDataBar(d,A){d.openNode(this.tag,{type:"dataBar",id:A.x14Id}),this.databarXform.render(d,A),d.closeNode()}renderIconSet(d,A){d.openNode(this.tag,{type:"iconSet",priority:A.priority,id:A.x14Id||`{${a()}}`}),this.iconSetXform.render(d,A),d.closeNode()}createNewModel(d){let{attributes:A}=d;return{type:A.type,x14Id:A.id,priority:s.toIntValue(A.priority)}}onParserClose(d,A){Object.assign(this.model,A.model)}}n.exports=f},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,n,i){const a=e("../../composite-xform"),s=e("./f-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"xm:f":this.fExtXform=new s}}get tag(){return"x14:cfvo"}render(o,l){o.openNode(this.tag,{type:l.type}),l.value!==void 0&&this.fExtXform.render(o,l.value),o.closeNode()}createNewModel(o){return{type:o.attributes.type}}onParserClose(o,l){switch(o){case"xm:f":this.model.value=l.model?parseFloat(l.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,n,i){const a=e("../../composite-xform"),s=e("./sqref-ext-xform"),o=e("./cf-rule-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"xm:sqref":this.sqRef=new s,"x14:cfRule":this.cfRule=new o}}get tag(){return"x14:conditionalFormatting"}prepare(l,u){l.rules.forEach(c=>{this.cfRule.prepare(c,u)})}render(l,u){u.rules.some(o.isExt)&&(l.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),u.rules.filter(o.isExt).forEach(c=>this.cfRule.render(l,c)),this.sqRef.render(l,u.ref),l.closeNode())}createNewModel(){return{rules:[]}}onParserClose(l,u){switch(l){case"xm:sqref":this.model.ref=u.model;break;case"x14:cfRule":this.model.rules.push(u.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,n,i){const a=e("../../composite-xform"),s=e("./cf-rule-ext-xform"),o=e("./conditional-formatting-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new o}}get tag(){return"x14:conditionalFormattings"}hasContent(l){return l.hasExtContent===void 0&&(l.hasExtContent=l.some(u=>u.rules.some(s.isExt))),l.hasExtContent}prepare(l,u){l.forEach(c=>{this.cfXform.prepare(c,u)})}render(l,u){this.hasContent(u)&&(l.openNode(this.tag),u.forEach(c=>this.cfXform.render(l,c)),l.closeNode())}createNewModel(){return[]}onParserClose(l,u){this.model.push(u.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,n,i){const a=e("../../base-xform"),s=e("../../composite-xform"),o=e("../../style/color-xform"),l=e("./cfvo-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:borderColor":this.borderColorXform=new o("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new o("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new o("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new o("x14:axisColor")}}static isExt(u){return!u.gradient}get tag(){return"x14:dataBar"}render(u,c){u.openNode(this.tag,{minLength:a.toIntAttribute(c.minLength,0,!0),maxLength:a.toIntAttribute(c.maxLength,100,!0),border:a.toBoolAttribute(c.border,!1),gradient:a.toBoolAttribute(c.gradient,!0),negativeBarColorSameAsPositive:a.toBoolAttribute(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:a.toBoolAttribute(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:a.toAttribute(c.axisPosition,"auto"),direction:a.toAttribute(c.direction,"leftToRight")}),c.cfvo.forEach(f=>{this.cfvoXform.render(u,f)}),this.borderColorXform.render(u,c.borderColor),this.negativeBorderColorXform.render(u,c.negativeBorderColor),this.negativeFillColorXform.render(u,c.negativeFillColor),this.axisColorXform.render(u,c.axisColor),u.closeNode()}createNewModel(u){let{attributes:c}=u;return{cfvo:[],minLength:a.toIntValue(c.minLength,0),maxLength:a.toIntValue(c.maxLength,100),border:a.toBoolValue(c.border,!1),gradient:a.toBoolValue(c.gradient,!0),negativeBarColorSameAsPositive:a.toBoolValue(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:a.toBoolValue(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:a.toStringValue(c.axisPosition,"auto"),direction:a.toStringValue(c.direction,"leftToRight")}}onParserClose(u,c){const[,f]=u.split(":");switch(f){case"cfvo":this.model.cfvo.push(c.model);break;default:this.model[f]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,n,i){const a=e("../../base-xform");n.exports=class extends a{get tag(){return"xm:f"}render(s,o){s.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],81:[function(e,n,i){const a=e("../../base-xform"),s=e("../../composite-xform"),o=e("./cfvo-ext-xform"),l=e("./cf-icon-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new o,"x14:cfIcon":this.cfIconXform=new l}}get tag(){return"x14:iconSet"}render(u,c){u.openNode(this.tag,{iconSet:a.toStringAttribute(c.iconSet),reverse:a.toBoolAttribute(c.reverse,!1),showValue:a.toBoolAttribute(c.showValue,!0),custom:a.toBoolAttribute(c.icons,!1)}),c.cfvo.forEach(f=>{this.cfvoXform.render(u,f)}),c.icons&&c.icons.forEach((f,h)=>{f.iconId=h,this.cfIconXform.render(u,f)}),u.closeNode()}createNewModel(u){let{attributes:c}=u;return{cfvo:[],iconSet:a.toStringValue(c.iconSet,"3TrafficLights"),reverse:a.toBoolValue(c.reverse,!1),showValue:a.toBoolValue(c.showValue,!0)}}onParserClose(u,c){const[,f]=u.split(":");switch(f){case"cfvo":this.model.cfvo.push(c.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(c.model);break;default:this.model[f]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,n,i){const a=e("../../base-xform");n.exports=class extends a{get tag(){return"xm:sqref"}render(s,o){s.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],83:[function(e,n,i){const a=e("../../base-xform"),s=e("../../composite-xform"),o=e("../../../../doc/range"),l=e("./databar-xform"),u=e("./ext-lst-ref-xform"),c=e("./formula-xform"),f=e("./color-scale-xform"),h=e("./icon-set-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},A=g=>{const{type:m,operator:v}=g;switch(m){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:m};default:return{type:m,operator:v}}};class p extends s{constructor(){super(),this.map={dataBar:this.databarXform=new l,extLst:this.extLstRefXform=new u,formula:this.formulaXform=new c,colorScale:this.colorScaleXform=new f,iconSet:this.iconSetXform=new h}}get tag(){return"cfRule"}static isPrimitive(m){return m.type!=="iconSet"||!m.custom&&!d[m.iconSet]}render(m,v){switch(v.type){case"expression":this.renderExpression(m,v);break;case"cellIs":this.renderCellIs(m,v);break;case"top10":this.renderTop10(m,v);break;case"aboveAverage":this.renderAboveAverage(m,v);break;case"dataBar":this.renderDataBar(m,v);break;case"colorScale":this.renderColorScale(m,v);break;case"iconSet":this.renderIconSet(m,v);break;case"containsText":this.renderText(m,v);break;case"timePeriod":this.renderTimePeriod(m,v)}}renderExpression(m,v){m.openNode(this.tag,{type:"expression",dxfId:v.dxfId,priority:v.priority}),this.formulaXform.render(m,v.formulae[0]),m.closeNode()}renderCellIs(m,v){m.openNode(this.tag,{type:"cellIs",dxfId:v.dxfId,priority:v.priority,operator:v.operator}),v.formulae.forEach(y=>{this.formulaXform.render(m,y)}),m.closeNode()}renderTop10(m,v){m.leafNode(this.tag,{type:"top10",dxfId:v.dxfId,priority:v.priority,percent:a.toBoolAttribute(v.percent,!1),bottom:a.toBoolAttribute(v.bottom,!1),rank:a.toIntValue(v.rank,10,!0)})}renderAboveAverage(m,v){m.leafNode(this.tag,{type:"aboveAverage",dxfId:v.dxfId,priority:v.priority,aboveAverage:a.toBoolAttribute(v.aboveAverage,!0)})}renderDataBar(m,v){m.openNode(this.tag,{type:"dataBar",priority:v.priority}),this.databarXform.render(m,v),this.extLstRefXform.render(m,v),m.closeNode()}renderColorScale(m,v){m.openNode(this.tag,{type:"colorScale",priority:v.priority}),this.colorScaleXform.render(m,v),m.closeNode()}renderIconSet(m,v){p.isPrimitive(v)&&(m.openNode(this.tag,{type:"iconSet",priority:v.priority}),this.iconSetXform.render(m,v),m.closeNode())}renderText(m,v){m.openNode(this.tag,{type:v.operator,dxfId:v.dxfId,priority:v.priority,operator:a.toStringAttribute(v.operator,"containsText")});const y=(b=>{if(b.formulae&&b.formulae[0])return b.formulae[0];const _=new o(b.ref),{tl:T}=_;switch(b.operator){case"containsText":return`NOT(ISERROR(SEARCH("${b.text}",${T})))`;case"containsBlanks":return`LEN(TRIM(${T}))=0`;case"notContainsBlanks":return`LEN(TRIM(${T}))>0`;case"containsErrors":return`ISERROR(${T})`;case"notContainsErrors":return`NOT(ISERROR(${T}))`;default:return}})(v);y&&this.formulaXform.render(m,y),m.closeNode()}renderTimePeriod(m,v){m.openNode(this.tag,{type:"timePeriod",dxfId:v.dxfId,priority:v.priority,timePeriod:v.timePeriod});const y=(b=>{if(b.formulae&&b.formulae[0])return b.formulae[0];const _=new o(b.ref),{tl:T}=_;switch(b.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${T},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${T},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${T},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${T},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${T},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${T},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${T},1)=TODAY()-1`;case"today":return`FLOOR(${T},1)=TODAY()`;case"tomorrow":return`FLOOR(${T},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${T},1)<=6,FLOOR(${T},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${T})=MONTH(EDATE(TODAY(),0-1)),YEAR(${T})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${T})=MONTH(TODAY()),YEAR(${T})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${T})=MONTH(EDATE(TODAY(),0+1)),YEAR(${T})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(v);y&&this.formulaXform.render(m,y),m.closeNode()}createNewModel(m){let{attributes:v}=m;return{...A(v),dxfId:a.toIntValue(v.dxfId),priority:a.toIntValue(v.priority),timePeriod:v.timePeriod,percent:a.toBoolValue(v.percent),bottom:a.toBoolValue(v.bottom),rank:a.toIntValue(v.rank),aboveAverage:a.toBoolValue(v.aboveAverage)}}onParserClose(m,v){switch(m){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,v.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(v.model)}}}n.exports=p},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,n,i){const a=e("../../base-xform");n.exports=class extends a{get tag(){return"cfvo"}render(s,o){s.leafNode(this.tag,{type:o.type,val:o.value})}parseOpen(s){this.model={type:s.attributes.type,value:a.toFloatValue(s.attributes.val)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],85:[function(e,n,i){const a=e("../../composite-xform"),s=e("../../style/color-xform"),o=e("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new s}}get tag(){return"colorScale"}render(l,u){l.openNode(this.tag),u.cfvo.forEach(c=>{this.cfvoXform.render(l,c)}),u.color.forEach(c=>{this.colorXform.render(l,c)}),l.closeNode()}createNewModel(l){return{cfvo:[],color:[]}}onParserClose(l,u){this.model[l].push(u.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,n,i){const a=e("../../composite-xform"),s=e("./cf-rule-xform");n.exports=class extends a{constructor(){super(),this.map={cfRule:new s}}get tag(){return"conditionalFormatting"}render(o,l){l.rules.some(s.isPrimitive)&&(o.openNode(this.tag,{sqref:l.ref}),l.rules.forEach(u=>{s.isPrimitive(u)&&(u.ref=l.ref,this.map.cfRule.render(o,u))}),o.closeNode())}createNewModel(o){let{attributes:l}=o;return{ref:l.sqref,rules:[]}}onParserClose(o,l){this.model.rules.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,n,i){const a=e("../../base-xform"),s=e("./conditional-formatting-xform");n.exports=class extends a{constructor(){super(),this.cfXform=new s}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(o,l){let u=o.reduce((c,f)=>Math.max(c,...f.rules.map(h=>h.priority||0)),1);o.forEach(c=>{c.rules.forEach(f=>{f.priority||(f.priority=u++),f.style&&(f.dxfId=l.styles.addDxfStyle(f.style))})})}render(o,l){l.forEach(u=>{this.cfXform.render(o,u)})}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(o),!0;default:return!1}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return!!this.parser&&(!!this.parser.parseClose(o)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(o,l){o.forEach(u=>{u.rules.forEach(c=>{c.dxfId!==void 0&&(c.style=l.styles.getDxfStyle(c.dxfId),delete c.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,n,i){const a=e("../../composite-xform"),s=e("../../style/color-xform"),o=e("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new s}}get tag(){return"dataBar"}render(l,u){l.openNode(this.tag),u.cfvo.forEach(c=>{this.cfvoXform.render(l,c)}),this.colorXform.render(l,u.color),l.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(l,u){switch(l){case"cfvo":this.model.cfvo.push(u.model);break;case"color":this.model.color=u.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,n,i){const a=e("../../base-xform"),s=e("../../composite-xform");class o extends a{get tag(){return"x14:id"}render(c,f){c.leafNode(this.tag,null,f)}parseOpen(){this.model=""}parseText(c){this.model+=c}parseClose(c){return c!==this.tag}}class l extends s{constructor(){super(),this.map={"x14:id":this.idXform=new o}}get tag(){return"ext"}render(c,f){c.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(c,f.x14Id),c.closeNode()}createNewModel(){return{}}onParserClose(c,f){this.model.x14Id=f.model}}n.exports=class extends s{constructor(){super(),this.map={ext:new l}}get tag(){return"extLst"}render(u,c){u.openNode(this.tag),this.map.ext.render(u,c),u.closeNode()}createNewModel(){return{}}onParserClose(u,c){Object.assign(this.model,c.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,n,i){const a=e("../../base-xform");n.exports=class extends a{get tag(){return"formula"}render(s,o){s.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],91:[function(e,n,i){const a=e("../../base-xform"),s=e("../../composite-xform"),o=e("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new o}}get tag(){return"iconSet"}render(l,u){l.openNode(this.tag,{iconSet:a.toStringAttribute(u.iconSet,"3TrafficLights"),reverse:a.toBoolAttribute(u.reverse,!1),showValue:a.toBoolAttribute(u.showValue,!0)}),u.cfvo.forEach(c=>{this.cfvoXform.render(l,c)}),l.closeNode()}createNewModel(l){let{attributes:u}=l;return{iconSet:a.toStringValue(u.iconSet,"3TrafficLights"),reverse:a.toBoolValue(u.reverse),showValue:a.toBoolValue(u.showValue),cfvo:[]}}onParserClose(l,u){this.model[l].push(u.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,n,i){const a=e("../../../utils/utils"),s=e("../base-xform");n.exports=class extends s{get tag(){return"col"}prepare(o,l){const u=l.styles.addStyleModel(o.style||{});u&&(o.styleId=u)}render(o,l){o.openNode("col"),o.addAttribute("min",l.min),o.addAttribute("max",l.max),l.width&&o.addAttribute("width",l.width),l.styleId&&o.addAttribute("style",l.styleId),l.hidden&&o.addAttribute("hidden","1"),l.bestFit&&o.addAttribute("bestFit","1"),l.outlineLevel&&o.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&o.addAttribute("collapsed","1"),o.addAttribute("customWidth","1"),o.closeNode()}parseOpen(o){if(o.name==="col"){const l=this.model={min:parseInt(o.attributes.min||"0",10),max:parseInt(o.attributes.max||"0",10),width:o.attributes.width===void 0?void 0:parseFloat(o.attributes.width||"0")};return o.attributes.style&&(l.styleId=parseInt(o.attributes.style,10)),a.parseBoolean(o.attributes.hidden)&&(l.hidden=!0),a.parseBoolean(o.attributes.bestFit)&&(l.bestFit=!0),o.attributes.outlineLevel&&(l.outlineLevel=parseInt(o.attributes.outlineLevel,10)),a.parseBoolean(o.attributes.collapsed)&&(l.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(o,l){o.styleId&&(o.style=l.styles.getStyleModel(o.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,n,i){const a=e("../../../utils/under-dash"),s=e("../../../utils/utils"),o=e("../../../utils/col-cache"),l=e("../base-xform"),u=e("../../../doc/range");function c(h,d,A,p){const g=d[A];g!==void 0?h[A]=g:p!==void 0&&(h[A]=p)}function f(h,d,A,p){const g=d[A];g!==void 0&&(h[A]=s.parseBoolean(g))}n.exports=class extends l{get tag(){return"dataValidations"}render(h,d){const A=function(p){const g=a.map(p,(y,b)=>({address:b,dataValidation:y,marked:!1})).sort((y,b)=>a.strcmp(y.address,b.address)),m=a.keyBy(g,"address"),v=(y,b,_)=>{for(let T=0;T<b;T++){const I=o.encodeAddress(y.row+T,_);if(!p[I]||!a.isEqual(p[y.address],p[I]))return!1}return!0};return g.map(y=>{if(!y.marked){const b=o.decodeEx(y.address);if(b.dimensions)return m[b.dimensions].marked=!0,{...y.dataValidation,sqref:y.address};let _=1,T=o.encodeAddress(b.row+_,b.col);for(;p[T]&&a.isEqual(y.dataValidation,p[T]);)_++,T=o.encodeAddress(b.row+_,b.col);let I=1;for(;v(b,_,b.col+I);)I++;for(let N=0;N<_;N++)for(let F=0;F<I;F++)T=o.encodeAddress(b.row+N,b.col+F),m[T].marked=!0;if(_>1||I>1){const N=b.row+(_-1),F=b.col+(I-1);return{...y.dataValidation,sqref:`${y.address}:${o.encodeAddress(N,F)}`}}return{...y.dataValidation,sqref:y.address}}return null}).filter(Boolean)}(d);A.length&&(h.openNode("dataValidations",{count:A.length}),A.forEach(p=>{h.openNode("dataValidation"),p.type!=="any"&&(h.addAttribute("type",p.type),p.operator&&p.type!=="list"&&p.operator!=="between"&&h.addAttribute("operator",p.operator),p.allowBlank&&h.addAttribute("allowBlank","1")),p.showInputMessage&&h.addAttribute("showInputMessage","1"),p.promptTitle&&h.addAttribute("promptTitle",p.promptTitle),p.prompt&&h.addAttribute("prompt",p.prompt),p.showErrorMessage&&h.addAttribute("showErrorMessage","1"),p.errorStyle&&h.addAttribute("errorStyle",p.errorStyle),p.errorTitle&&h.addAttribute("errorTitle",p.errorTitle),p.error&&h.addAttribute("error",p.error),h.addAttribute("sqref",p.sqref),(p.formulae||[]).forEach((g,m)=>{h.openNode("formula"+(m+1)),p.type==="date"?h.writeText(s.dateToExcel(new Date(g))):h.writeText(g),h.closeNode()}),h.closeNode()}),h.closeNode())}parseOpen(h){switch(h.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=h.attributes.sqref;const d={type:h.attributes.type||"any",formulae:[]};switch(h.attributes.type&&f(d,h.attributes,"allowBlank"),f(d,h.attributes,"showInputMessage"),f(d,h.attributes,"showErrorMessage"),d.type){case"any":case"list":case"custom":break;default:c(d,h.attributes,"operator","between")}return c(d,h.attributes,"promptTitle"),c(d,h.attributes,"prompt"),c(d,h.attributes,"errorStyle"),c(d,h.attributes,"errorTitle"),c(d,h.attributes,"error"),this._dataValidation=d,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(h){this._formula&&this._formula.push(h)}parseClose(h){switch(h){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(d=>{d.includes(":")?new u(d).forEachAddress(A=>{this.model[A]=this._dataValidation}):this.model[d]=this._dataValidation}),!0;case"formula1":case"formula2":{let d=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":d=parseInt(d,10);break;case"decimal":d=parseFloat(d);break;case"date":d=s.excelToDate(parseFloat(d))}return this._dataValidation.formulae.push(d),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"dimension"}render(s,o){o&&s.leafNode("dimension",{ref:o})}parseOpen(s){return s.name==="dimension"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"drawing"}render(s,o){o&&s.leafNode(this.tag,{"r:id":o.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,n,i){const a=e("../composite-xform"),s=e("./cf-ext/conditional-formattings-ext-xform");class o extends a{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new s}}get tag(){return"ext"}hasContent(u){return this.conditionalFormattings.hasContent(u.conditionalFormattings)}prepare(u,c){this.conditionalFormattings.prepare(u.conditionalFormattings,c)}render(u,c){u.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(u,c.conditionalFormattings),u.closeNode()}createNewModel(){return{}}onParserClose(u,c){this.model[u]=c.model}}n.exports=class extends a{constructor(){super(),this.map={ext:this.ext=new o}}get tag(){return"extLst"}prepare(l,u){this.ext.prepare(l,u)}hasContent(l){return this.ext.hasContent(l)}render(l,u){this.hasContent(u)&&(l.openNode("extLst"),this.ext.render(l,u),l.closeNode())}createNewModel(){return{}}onParserClose(l,u){Object.assign(this.model,u.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"headerFooter"}render(s,o){if(o){s.addRollback();let l=!1;s.openNode("headerFooter"),o.differentFirst&&(s.addAttribute("differentFirst","1"),l=!0),o.differentOddEven&&(s.addAttribute("differentOddEven","1"),l=!0),o.oddHeader&&typeof o.oddHeader=="string"&&(s.leafNode("oddHeader",null,o.oddHeader),l=!0),o.oddFooter&&typeof o.oddFooter=="string"&&(s.leafNode("oddFooter",null,o.oddFooter),l=!0),o.evenHeader&&typeof o.evenHeader=="string"&&(s.leafNode("evenHeader",null,o.evenHeader),l=!0),o.evenFooter&&typeof o.evenFooter=="string"&&(s.leafNode("evenFooter",null,o.evenFooter),l=!0),o.firstHeader&&typeof o.firstHeader=="string"&&(s.leafNode("firstHeader",null,o.firstHeader),l=!0),o.firstFooter&&typeof o.firstFooter=="string"&&(s.leafNode("firstFooter",null,o.firstFooter),l=!0),l?(s.closeNode(),s.commit()):s.rollback()}}parseOpen(s){switch(s.name){case"headerFooter":return this.model={},s.attributes.differentFirst&&(this.model.differentFirst=parseInt(s.attributes.differentFirst,0)===1),s.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(s.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(s){switch(this.currentNode){case"oddHeader":this.model.oddHeader=s;break;case"oddFooter":this.model.oddFooter=s;break;case"evenHeader":this.model.evenHeader=s;break;case"evenFooter":this.model.evenFooter=s;break;case"firstHeader":this.model.firstHeader=s;break;case"firstFooter":this.model.firstFooter=s}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"hyperlink"}render(s,o){this.isInternalLink(o)?s.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip,location:o.target}):s.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip})}parseOpen(s){return s.name==="hyperlink"&&(this.model={address:s.attributes.ref,rId:s.attributes["r:id"],tooltip:s.attributes.tooltip},s.attributes.location&&(this.model.target=s.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(s){return s.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(s.target)}}},{"../base-xform":32}],99:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"mergeCell"}render(s,o){s.leafNode("mergeCell",{ref:o})}parseOpen(s){return s.name==="mergeCell"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,n,i){const a=e("../../../utils/under-dash"),s=e("../../../doc/range"),o=e("../../../utils/col-cache"),l=e("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(u){if(this.merges[u.master])this.merges[u.master].expandToAddress(u.address);else{const c=`${u.master}:${u.address}`;this.merges[u.master]=new s(c)}}get mergeCells(){return a.map(this.merges,u=>u.range)}reconcile(u,c){a.each(u,f=>{const h=o.decode(f);for(let d=h.top;d<=h.bottom;d++){const A=c[d-1];for(let p=h.left;p<=h.right;p++){const g=A.cells[p-1];g?g.type===l.ValueType.Merge&&(g.master=h.tl):A.cells[p]={type:l.ValueType.Null,address:o.encodeAddress(d,p)}}}})}getMasterAddress(u){const c=this.hash[u];return c&&c.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,n,i){const a=e("../base-xform"),s=o=>o!==void 0;n.exports=class extends a{get tag(){return"outlinePr"}render(o,l){return!(!l||!s(l.summaryBelow)&&!s(l.summaryRight))&&(o.leafNode(this.tag,{summaryBelow:s(l.summaryBelow)?Number(l.summaryBelow):void 0,summaryRight:s(l.summaryRight)?Number(l.summaryRight):void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={summaryBelow:s(o.attributes.summaryBelow)?!!Number(o.attributes.summaryBelow):void 0,summaryRight:s(o.attributes.summaryRight)?!!Number(o.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"brk"}render(s,o){s.leafNode("brk",o)}parseOpen(s){return s.name==="brk"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,n,i){const a=e("../../../utils/under-dash"),s=e("../base-xform");n.exports=class extends s{get tag(){return"pageMargins"}render(o,l){if(l){const u={left:l.left,right:l.right,top:l.top,bottom:l.bottom,header:l.header,footer:l.footer};a.some(u,c=>c!==void 0)&&o.leafNode(this.tag,u)}}parseOpen(o){switch(o.name){case this.tag:return this.model={left:parseFloat(o.attributes.left||.7),right:parseFloat(o.attributes.right||.7),top:parseFloat(o.attributes.top||.75),bottom:parseFloat(o.attributes.bottom||.75),header:parseFloat(o.attributes.header||.3),footer:parseFloat(o.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"pageSetUpPr"}render(s,o){return!(!o||!o.fitToPage)&&(s.leafNode(this.tag,{fitToPage:o.fitToPage?"1":void 0}),!0)}parseOpen(s){return s.name===this.tag&&(this.model={fitToPage:s.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,n,i){const a=e("../../../utils/under-dash"),s=e("../base-xform");function o(f){return f?"1":void 0}function l(f){switch(f){case"overThenDown":return f;default:return}}function u(f){switch(f){case"atEnd":case"asDisplyed":return f;default:return}}function c(f){switch(f){case"dash":case"blank":case"NA":return f;default:return}}n.exports=class extends s{get tag(){return"pageSetup"}render(f,h){if(h){const d={paperSize:h.paperSize,orientation:h.orientation,horizontalDpi:h.horizontalDpi,verticalDpi:h.verticalDpi,pageOrder:l(h.pageOrder),blackAndWhite:o(h.blackAndWhite),draft:o(h.draft),cellComments:u(h.cellComments),errors:c(h.errors),scale:h.scale,fitToWidth:h.fitToWidth,fitToHeight:h.fitToHeight,firstPageNumber:h.firstPageNumber,useFirstPageNumber:o(h.firstPageNumber),usePrinterDefaults:o(h.usePrinterDefaults),copies:h.copies};a.some(d,A=>A!==void 0)&&f.leafNode(this.tag,d)}}parseOpen(f){switch(f.name){case this.tag:return this.model={paperSize:(h=f.attributes.paperSize,h!==void 0?parseInt(h,10):void 0),orientation:f.attributes.orientation||"portrait",horizontalDpi:parseInt(f.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(f.attributes.verticalDpi||"4294967295",10),pageOrder:f.attributes.pageOrder||"downThenOver",blackAndWhite:f.attributes.blackAndWhite==="1",draft:f.attributes.draft==="1",cellComments:f.attributes.cellComments||"None",errors:f.attributes.errors||"displayed",scale:parseInt(f.attributes.scale||"100",10),fitToWidth:parseInt(f.attributes.fitToWidth||"1",10),fitToHeight:parseInt(f.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(f.attributes.firstPageNumber||"1",10),useFirstPageNumber:f.attributes.useFirstPageNumber==="1",usePrinterDefaults:f.attributes.usePrinterDefaults==="1",copies:parseInt(f.attributes.copies||"1",10)},!0;default:return!1}var h}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"picture"}render(s,o){o&&s.leafNode(this.tag,{"r:id":o.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,n,i){const a=e("../../../utils/under-dash"),s=e("../base-xform");function o(l){return l?"1":void 0}n.exports=class extends s{get tag(){return"printOptions"}render(l,u){if(u){const c={headings:o(u.showRowColHeaders),gridLines:o(u.showGridLines),horizontalCentered:o(u.horizontalCentered),verticalCentered:o(u.verticalCentered)};a.some(c,f=>f!==void 0)&&l.leafNode(this.tag,c)}}parseOpen(l){switch(l.name){case this.tag:return this.model={showRowColHeaders:l.attributes.headings==="1",showGridLines:l.attributes.gridLines==="1",horizontalCentered:l.attributes.horizontalCentered==="1",verticalCentered:l.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,n,i){const a=e("./page-breaks-xform"),s=e("../list-xform");n.exports=class extends s{constructor(){super({tag:"rowBreaks",count:!0,childXform:new a})}render(o,l){if(l&&l.length){o.openNode(this.tag,this.$),this.count&&(o.addAttribute(this.$count,l.length),o.addAttribute("manualBreakCount",l.length));const{childXform:u}=this;l.forEach(c=>{u.render(o,c)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,n,i){const a=e("../base-xform"),s=e("../../../utils/utils"),o=e("./cell-xform");n.exports=class extends a{constructor(l){super(),this.maxItems=l&&l.maxItems,this.map={c:new o}}get tag(){return"row"}prepare(l,u){const c=u.styles.addStyleModel(l.style);c&&(l.styleId=c);const f=this.map.c;l.cells.forEach(h=>{f.prepare(h,u)})}render(l,u,c){l.openNode("row"),l.addAttribute("r",u.number),u.height&&(l.addAttribute("ht",u.height),l.addAttribute("customHeight","1")),u.hidden&&l.addAttribute("hidden","1"),u.min>0&&u.max>0&&u.min<=u.max&&l.addAttribute("spans",`${u.min}:${u.max}`),u.styleId&&(l.addAttribute("s",u.styleId),l.addAttribute("customFormat","1")),l.addAttribute("x14ac:dyDescent","0.25"),u.outlineLevel&&l.addAttribute("outlineLevel",u.outlineLevel),u.collapsed&&l.addAttribute("collapsed","1");const f=this.map.c;u.cells.forEach(h=>{f.render(l,h,c)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;if(l.name==="row"){this.numRowsSeen+=1;const u=l.attributes.spans?l.attributes.spans.split(":").map(f=>parseInt(f,10)):[void 0,void 0],c=this.model={number:parseInt(l.attributes.r,10),min:u[0],max:u[1],cells:[]};return l.attributes.s&&(c.styleId=parseInt(l.attributes.s,10)),s.parseBoolean(l.attributes.hidden)&&(c.hidden=!0),s.parseBoolean(l.attributes.bestFit)&&(c.bestFit=!0),l.attributes.ht&&(c.height=parseFloat(l.attributes.ht)),l.attributes.outlineLevel&&(c.outlineLevel=parseInt(l.attributes.outlineLevel,10)),s.parseBoolean(l.attributes.collapsed)&&(c.collapsed=!0),!0}return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(l,u){l.style=l.styleId?u.styles.getStyleModel(l.styleId):{},l.styleId!==void 0&&(l.styleId=void 0);const c=this.map.c;l.cells.forEach(f=>{c.reconcile(f,u)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,n,i){const a=e("../../../utils/under-dash"),s=e("../base-xform");n.exports=class extends s{get tag(){return"sheetFormatPr"}render(o,l){if(l){const u={defaultRowHeight:l.defaultRowHeight,outlineLevelRow:l.outlineLevelRow,outlineLevelCol:l.outlineLevelCol,"x14ac:dyDescent":l.dyDescent};l.defaultColWidth&&(u.defaultColWidth=l.defaultColWidth),l.defaultRowHeight&&l.defaultRowHeight===15||(u.customHeight="1"),a.some(u,c=>c!==void 0)&&o.leafNode("sheetFormatPr",u)}}parseOpen(o){return o.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(o.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(o.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(o.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(o.attributes.outlineLevelCol||"0",10)},o.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(o.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,n,i){const a=e("../base-xform"),s=e("../style/color-xform"),o=e("./page-setup-properties-xform"),l=e("./outline-properties-xform");n.exports=class extends a{constructor(){super(),this.map={tabColor:new s("tabColor"),pageSetUpPr:new o,outlinePr:new l}}get tag(){return"sheetPr"}render(u,c){if(c){u.addRollback(),u.openNode("sheetPr");let f=!1;f=this.map.tabColor.render(u,c.tabColor)||f,f=this.map.pageSetUpPr.render(u,c.pageSetup)||f,f=this.map.outlinePr.render(u,c.outlineProperties)||f,f?(u.closeNode(),u.commit()):u.rollback()}}parseOpen(u){return this.parser?(this.parser.parseOpen(u),!0):u.name===this.tag?(this.reset(),!0):!!this.map[u.name]&&(this.parser=this.map[u.name],this.parser.parseOpen(u),!0)}parseText(u){return!!this.parser&&(this.parser.parseText(u),!0)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,n,i){const a=e("../../../utils/under-dash"),s=e("../base-xform");function o(u,c){return u?c:void 0}function l(u,c){return u===c||void 0}n.exports=class extends s{get tag(){return"sheetProtection"}render(u,c){if(c){const f={sheet:o(c.sheet,"1"),selectLockedCells:c.selectLockedCells===!1?"1":void 0,selectUnlockedCells:c.selectUnlockedCells===!1?"1":void 0,formatCells:o(c.formatCells,"0"),formatColumns:o(c.formatColumns,"0"),formatRows:o(c.formatRows,"0"),insertColumns:o(c.insertColumns,"0"),insertRows:o(c.insertRows,"0"),insertHyperlinks:o(c.insertHyperlinks,"0"),deleteColumns:o(c.deleteColumns,"0"),deleteRows:o(c.deleteRows,"0"),sort:o(c.sort,"0"),autoFilter:o(c.autoFilter,"0"),pivotTables:o(c.pivotTables,"0")};c.sheet&&(f.algorithmName=c.algorithmName,f.hashValue=c.hashValue,f.saltValue=c.saltValue,f.spinCount=c.spinCount,f.objects=o(c.objects===!1,"1"),f.scenarios=o(c.scenarios===!1,"1")),a.some(f,h=>h!==void 0)&&u.leafNode(this.tag,f)}}parseOpen(u){switch(u.name){case this.tag:return this.model={sheet:l(u.attributes.sheet,"1"),objects:u.attributes.objects!=="1"&&void 0,scenarios:u.attributes.scenarios!=="1"&&void 0,selectLockedCells:u.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:u.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:l(u.attributes.formatCells,"0"),formatColumns:l(u.attributes.formatColumns,"0"),formatRows:l(u.attributes.formatRows,"0"),insertColumns:l(u.attributes.insertColumns,"0"),insertRows:l(u.attributes.insertRows,"0"),insertHyperlinks:l(u.attributes.insertHyperlinks,"0"),deleteColumns:l(u.attributes.deleteColumns,"0"),deleteRows:l(u.attributes.deleteRows,"0"),sort:l(u.attributes.sort,"0"),autoFilter:l(u.attributes.autoFilter,"0"),pivotTables:l(u.attributes.pivotTables,"0")},u.attributes.algorithmName&&(this.model.algorithmName=u.attributes.algorithmName,this.model.hashValue=u.attributes.hashValue,this.model.saltValue=u.attributes.saltValue,this.model.spinCount=parseInt(u.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,n,i){const a=e("../../../utils/col-cache"),s=e("../base-xform"),o={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends s{get tag(){return"sheetView"}prepare(l){switch(l.state){case"frozen":case"split":break;default:l.state="normal"}}render(l,u){l.openNode("sheetView",{workbookViewId:u.workbookViewId||0});const c=function(p,g,m){m&&l.addAttribute(p,g)};let f,h,d,A;switch(c("rightToLeft","1",u.rightToLeft===!0),c("tabSelected","1",u.tabSelected),c("showRuler","0",u.showRuler===!1),c("showRowColHeaders","0",u.showRowColHeaders===!1),c("showGridLines","0",u.showGridLines===!1),c("zoomScale",u.zoomScale,u.zoomScale),c("zoomScaleNormal",u.zoomScaleNormal,u.zoomScaleNormal),c("view",u.style,u.style),u.state){case"frozen":h=u.xSplit||0,d=u.ySplit||0,f=u.topLeftCell||a.getAddress(d+1,h+1).address,A=(u.xSplit&&u.ySplit?"bottomRight":u.xSplit&&"topRight")||"bottomLeft",l.leafNode("pane",{xSplit:u.xSplit||void 0,ySplit:u.ySplit||void 0,topLeftCell:f,activePane:A,state:"frozen"}),l.leafNode("selection",{pane:A,activeCell:u.activeCell,sqref:u.activeCell});break;case"split":u.activePane==="topLeft"&&(u.activePane=void 0),l.leafNode("pane",{xSplit:u.xSplit||void 0,ySplit:u.ySplit||void 0,topLeftCell:u.topLeftCell,activePane:u.activePane}),l.leafNode("selection",{pane:u.activePane,activeCell:u.activeCell,sqref:u.activeCell});break;case"normal":u.activeCell&&l.leafNode("selection",{activeCell:u.activeCell,sqref:u.activeCell})}l.closeNode()}parseOpen(l){switch(l.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(l.attributes.workbookViewId,10),rightToLeft:l.attributes.rightToLeft==="1",tabSelected:l.attributes.tabSelected==="1",showRuler:l.attributes.showRuler!=="0",showRowColHeaders:l.attributes.showRowColHeaders!=="0",showGridLines:l.attributes.showGridLines!=="0",zoomScale:parseInt(l.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(l.attributes.zoomScaleNormal||"100",10),style:l.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(l.attributes.xSplit||"0",10),ySplit:parseInt(l.attributes.ySplit||"0",10),topLeftCell:l.attributes.topLeftCell,activePane:l.attributes.activePane||"topLeft",state:l.attributes.state},!0;case"selection":{const u=l.attributes.pane||"topLeft";return this.selections[u]={pane:u,activeCell:l.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(l){let u,c;switch(l){case"sheetView":return this.sheetView&&this.pane?(u=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:o[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(u.activePane=this.pane.activePane),c=this.selections[this.pane.activePane],c&&c.activeCell&&(u.activeCell=c.activeCell),this.sheetView.style&&(u.style=this.sheetView.style)):(u=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},c=this.selections.topLeft,c&&c.activeCell&&(u.activeCell=c.activeCell),this.sheetView.style&&(u.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"tablePart"}render(s,o){o&&s.leafNode(this.tag,{"r:id":o.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,n,i){const a=e("../../../utils/under-dash"),s=e("../../../utils/col-cache"),o=e("../../../utils/xml-stream"),l=e("../../rel-type"),u=e("./merges"),c=e("../base-xform"),f=e("../list-xform"),h=e("./row-xform"),d=e("./col-xform"),A=e("./dimension-xform"),p=e("./hyperlink-xform"),g=e("./merge-cell-xform"),m=e("./data-validations-xform"),v=e("./sheet-properties-xform"),y=e("./sheet-format-properties-xform"),b=e("./sheet-view-xform"),_=e("./sheet-protection-xform"),T=e("./page-margins-xform"),I=e("./page-setup-xform"),N=e("./print-options-xform"),F=e("./auto-filter-xform"),P=e("./picture-xform"),D=e("./drawing-xform"),R=e("./table-part-xform"),E=e("./row-breaks-xform"),L=e("./header-footer-xform"),k=e("./cf/conditional-formattings-xform"),w=e("./ext-lst-xform"),C=(B,O)=>{if(!O||!O.length)return B;if(!B||!B.length)return O;const V={},M={};return B.forEach(U=>{V[U.ref]=U,U.rules.forEach(Q=>{const{x14Id:W}=Q;W&&(M[W]=Q)})}),O.forEach(U=>{U.rules.forEach(Q=>{const W=M[Q.x14Id];W?((j,X)=>{Object.keys(X).forEach(z=>{const H=j[z],K=X[z];H===void 0&&K!==void 0&&(j[z]=K)})})(W,Q):V[U.ref]?V[U.ref].rules.push(Q):B.push({ref:U.ref,rules:[Q]})})}),B};class S extends c{constructor(O){super();const{maxRows:V,maxCols:M,ignoreNodes:U}=O||{};this.ignoreNodes=U||[],this.map={sheetPr:new v,dimension:new A,sheetViews:new f({tag:"sheetViews",count:!1,childXform:new b}),sheetFormatPr:new y,cols:new f({tag:"cols",count:!1,childXform:new d}),sheetData:new f({tag:"sheetData",count:!1,empty:!0,childXform:new h({maxItems:M}),maxItems:V}),autoFilter:new F,mergeCells:new f({tag:"mergeCells",count:!0,childXform:new g}),rowBreaks:new E,hyperlinks:new f({tag:"hyperlinks",count:!1,childXform:new p}),pageMargins:new T,dataValidations:new m,pageSetup:new I,headerFooter:new L,printOptions:new N,picture:new P,drawing:new D,sheetProtection:new _,tableParts:new f({tag:"tableParts",count:!0,childXform:new R}),conditionalFormatting:new k,extLst:new w}}prepare(O,V){V.merges=new u,O.hyperlinks=V.hyperlinks=[],O.comments=V.comments=[],V.formulae={},V.siFormulae=0,this.map.cols.prepare(O.cols,V),this.map.sheetData.prepare(O.rows,V),this.map.conditionalFormatting.prepare(O.conditionalFormattings,V),O.mergeCells=V.merges.mergeCells;const M=O.rels=[];function U(j){return"rId"+(j.length+1)}if(O.hyperlinks.forEach(j=>{const X=U(M);j.rId=X,M.push({Id:X,Type:l.Hyperlink,Target:j.target,TargetMode:"External"})}),O.comments.length>0){const j={Id:U(M),Type:l.Comments,Target:`../comments${O.id}.xml`};M.push(j);const X={Id:U(M),Type:l.VmlDrawing,Target:`../drawings/vmlDrawing${O.id}.vml`};M.push(X),O.comments.forEach(z=>{z.refAddress=s.decodeAddress(z.ref)}),V.commentRefs.push({commentName:"comments"+O.id,vmlDrawing:"vmlDrawing"+O.id})}const Q=[];let W;O.media.forEach(j=>{if(j.type==="background"){const X=U(M);W=V.media[j.imageId],M.push({Id:X,Type:l.Image,Target:`../media/${W.name}.${W.extension}`}),O.background={rId:X},O.image=V.media[j.imageId]}else if(j.type==="image"){let{drawing:X}=O;W=V.media[j.imageId],X||(X=O.drawing={rId:U(M),name:"drawing"+ ++V.drawingsCount,anchors:[],rels:[]},V.drawings.push(X),M.push({Id:X.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${X.name}.xml`}));let z=this.preImageId===j.imageId?Q[j.imageId]:Q[X.rels.length];z||(z=U(X.rels),Q[X.rels.length]=z,X.rels.push({Id:z,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${W.name}.${W.extension}`}));const H={picture:{rId:z},range:j.range};if(j.hyperlinks&&j.hyperlinks.hyperlink){const K=U(X.rels);Q[X.rels.length]=K,H.picture.hyperlinks={tooltip:j.hyperlinks.tooltip,rId:K},X.rels.push({Id:K,Type:l.Hyperlink,Target:j.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=j.imageId,X.anchors.push(H)}}),O.tables.forEach(j=>{const X=U(M);j.rId=X,M.push({Id:X,Type:l.Table,Target:"../tables/"+j.target}),j.columns.forEach(z=>{const{style:H}=z;H&&(z.dxfId=V.styles.addDxfStyle(H))})}),this.map.extLst.prepare(O,V)}render(O,V){O.openXml(o.StdDocAttributes),O.openNode("worksheet",S.WORKSHEET_ATTRIBUTES);const M=V.properties?{defaultRowHeight:V.properties.defaultRowHeight,dyDescent:V.properties.dyDescent,outlineLevelCol:V.properties.outlineLevelCol,outlineLevelRow:V.properties.outlineLevelRow}:void 0;V.properties&&V.properties.defaultColWidth&&(M.defaultColWidth=V.properties.defaultColWidth);const U={outlineProperties:V.properties&&V.properties.outlineProperties,tabColor:V.properties&&V.properties.tabColor,pageSetup:V.pageSetup&&V.pageSetup.fitToPage?{fitToPage:V.pageSetup.fitToPage}:void 0},Q=V.pageSetup&&V.pageSetup.margins,W={showRowColHeaders:V.pageSetup&&V.pageSetup.showRowColHeaders,showGridLines:V.pageSetup&&V.pageSetup.showGridLines,horizontalCentered:V.pageSetup&&V.pageSetup.horizontalCentered,verticalCentered:V.pageSetup&&V.pageSetup.verticalCentered},j=V.sheetProtection;this.map.sheetPr.render(O,U),this.map.dimension.render(O,V.dimensions),this.map.sheetViews.render(O,V.views),this.map.sheetFormatPr.render(O,M),this.map.cols.render(O,V.cols),this.map.sheetData.render(O,V.rows),this.map.sheetProtection.render(O,j),this.map.autoFilter.render(O,V.autoFilter),this.map.mergeCells.render(O,V.mergeCells),this.map.conditionalFormatting.render(O,V.conditionalFormattings),this.map.dataValidations.render(O,V.dataValidations),this.map.hyperlinks.render(O,V.hyperlinks),this.map.printOptions.render(O,W),this.map.pageMargins.render(O,Q),this.map.pageSetup.render(O,V.pageSetup),this.map.headerFooter.render(O,V.headerFooter),this.map.rowBreaks.render(O,V.rowBreaks),this.map.drawing.render(O,V.drawing),this.map.picture.render(O,V.background),this.map.tableParts.render(O,V.tables),this.map.extLst.render(O,V),V.rels&&V.rels.forEach(X=>{X.Type===l.VmlDrawing&&O.leafNode("legacyDrawing",{"r:id":X.Id})}),O.closeNode()}parseOpen(O){return this.parser?(this.parser.parseOpen(O),!0):O.name==="worksheet"?(a.each(this.map,V=>{V.reset()}),!0):(this.map[O.name]&&!this.ignoreNodes.includes(O.name)&&(this.parser=this.map[O.name],this.parser.parseOpen(O)),!0)}parseText(O){this.parser&&this.parser.parseText(O)}parseClose(O){if(this.parser)return this.parser.parseClose(O)||(this.parser=void 0),!0;switch(O){case"worksheet":{const V=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(V.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(V.outlineProperties=this.map.sheetPr.model.outlineProperties);const M={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},U=Object.assign(M,this.map.pageSetup.model,this.map.printOptions.model),Q=C(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:V,views:this.map.sheetViews.model,pageSetup:U,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:Q},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(O,V){const M=(O.relationships||[]).reduce((Q,W)=>{if(Q[W.Id]=W,W.Type===l.Comments&&(O.comments=V.comments[W.Target].comments),W.Type===l.VmlDrawing&&O.comments&&O.comments.length){const j=V.vmlDrawings[W.Target].comments;O.comments.forEach((X,z)=>{X.note=Object.assign({},X.note,j[z])})}return Q},{});if(V.commentsMap=(O.comments||[]).reduce((Q,W)=>(W.ref&&(Q[W.ref]=W),Q),{}),V.hyperlinkMap=(O.hyperlinks||[]).reduce((Q,W)=>(W.rId&&(Q[W.address]=M[W.rId].Target),Q),{}),V.formulae={},O.rows=O.rows&&O.rows.filter(Boolean)||[],O.rows.forEach(Q=>{Q.cells=Q.cells&&Q.cells.filter(Boolean)||[]}),this.map.cols.reconcile(O.cols,V),this.map.sheetData.reconcile(O.rows,V),this.map.conditionalFormatting.reconcile(O.conditionalFormattings,V),O.media=[],O.drawing){const Q=M[O.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(Q){const W=Q[1];V.drawings[W].anchors.forEach(j=>{if(j.medium){const X={type:"image",imageId:j.medium.index,range:j.range,hyperlinks:j.picture.hyperlinks};O.media.push(X)}})}}const U=O.background&&M[O.background.rId];if(U){const Q=U.Target.split("/media/")[1],W=V.mediaIndex&&V.mediaIndex[Q];W!==void 0&&O.media.push({type:"background",imageId:W})}O.tables=(O.tables||[]).map(Q=>{const W=M[Q.rId];return V.tables[W.Target]}),delete O.relationships,delete O.hyperlinks,delete O.comments}}S.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=S},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr}render(s,o){o&&(s.openNode(this.tag),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this._format=s.format||function(o){try{return Number.isNaN(o.getTime())?"":o.toISOString()}catch{return""}},this._parse=s.parse||function(o){return new Date(o)}}render(s,o){o&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,this._format(o)):s.writeText(this._format(o)),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=this._parse(s.attributes[this.attr]):this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this.zero=s.zero}render(s,o){(o||this.zero)&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,o):s.writeText(o),s.closeNode())}parseOpen(s){return s.name===this.tag&&(this.attr?this.model=parseInt(s.attributes[this.attr],10):this.text=[],!0)}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs}render(s,o){o!==void 0&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,o):s.writeText(o),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=s.attributes[this.attr]:this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,n,i){const a=e("./base-xform"),s=e("../../utils/xml-stream");n.exports=class extends a{constructor(o){super(),this._model=o}render(o){if(!this._xml){const l=new s;(function u(c,f){c.openNode(f.tag,f.$),f.c&&f.c.forEach(h=>{u(c,h)}),f.t&&c.writeText(f.t),c.closeNode()})(l,this._model),this._xml=l.xml}o.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(o){switch(o){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,n,i){const a=e("./text-xform"),s=e("./rich-text-xform"),o=e("../base-xform");n.exports=class extends o{constructor(){super(),this.map={r:new s,t:new a}}get tag(){return"rPh"}render(l,u){if(l.openNode(this.tag,{sb:u.sb||0,eb:u.eb||0}),u&&u.hasOwnProperty("richText")&&u.richText){const{r:c}=this.map;u.richText.forEach(f=>{c.render(l,f)})}else u&&this.map.t.render(l,u.text);l.closeNode()}parseOpen(l){const{name:u}=l;return this.parser?(this.parser.parseOpen(l),!0):u===this.tag?(this.model={sb:parseInt(l.attributes.sb,10),eb:parseInt(l.attributes.eb,10)},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,n,i){const a=e("./text-xform"),s=e("../style/font-xform"),o=e("../base-xform");class l extends o{constructor(c){super(),this.model=c}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new a)}get fontXform(){return this._fontXform||(this._fontXform=new s(l.FONT_OPTIONS))}render(c,f){f=f||this.model,c.openNode("r"),f.font&&this.fontXform.render(c,f.font),this.textXform.render(c,f.text),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(c),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){switch(c){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}}l.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=l},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,n,i){const a=e("./text-xform"),s=e("./rich-text-xform"),o=e("./phonetic-text-xform"),l=e("../base-xform");n.exports=class extends l{constructor(u){super(),this.model=u,this.map={r:new s,t:new a,rPh:new o}}get tag(){return"si"}render(u,c){u.openNode(this.tag),c&&c.hasOwnProperty("richText")&&c.richText?c.richText.length?c.richText.forEach(f=>{this.map.r.render(u,f)}):this.map.t.render(u,""):c!=null&&this.map.t.render(u,c),u.closeNode()}parseOpen(u){const{name:c}=u;return this.parser?(this.parser.parseOpen(u),!0):c===this.tag?(this.model={},!0):(this.parser=this.map[c],!!this.parser&&(this.parser.parseOpen(u),!0))}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){switch(u){case"r":{let c=this.model.richText;c||(c=this.model.richText=[]),c.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,n,i){const a=e("../../../utils/xml-stream"),s=e("../base-xform"),o=e("./shared-string-xform");n.exports=class extends s{constructor(l){super(),this.model=l||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new o)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(l){return this.model.values[l]}add(l){return l.richText?this.addRichText(l):this.addText(l)}addText(l){let u=this.hash[l];return u===void 0&&(u=this.hash[l]=this.model.values.length,this.model.values.push(l)),this.model.count++,u}addRichText(l){const u=this.sharedStringXform.toXml(l);let c=this.rich[u];return c===void 0&&(c=this.rich[u]=this.model.values.length,this.model.values.push(l)),this.model.count++,c}render(l,u){u=u||this._values,l.openXml(a.StdDocAttributes),l.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:u.count,uniqueCount:u.values.length});const c=this.sharedStringXform;u.values.forEach(f=>{c.render(l,f)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(l),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(l){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"t"}render(s,o){s.openNode("t"),/^\s|\n|\s$/.test(o)&&s.addAttribute("xml:space","preserve"),s.writeText(o),s.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(s,o)=>String.fromCharCode(parseInt(o,16)))}parseOpen(s){switch(s.name){case"t":return this._text=[],!0;default:return!1}}parseText(s){this._text.push(s)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,n,i){const a=e("../../../doc/enums"),s=e("../../../utils/utils"),o=e("../base-xform"),l={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((c,f)=>(c[f]=!0,c),{}),horizontal(c){return this.horizontalValues[c]?c:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((c,f)=>(c[f]=!0,c),{}),vertical(c){return c==="middle"?"center":this.verticalValues[c]?c:void 0},wrapText:c=>!!c||void 0,shrinkToFit:c=>!!c||void 0,textRotation(c){switch(c){case"vertical":return c;default:return(c=s.validInt(c))>=-90&&c<=90?c:void 0}},indent:c=>(c=s.validInt(c),Math.max(0,c)),readingOrder(c){switch(c){case"ltr":return a.ReadingOrder.LeftToRight;case"rtl":return a.ReadingOrder.RightToLeft;default:return}}},u={toXml(c){if(c=l.textRotation(c)){if(c==="vertical")return 255;const f=Math.round(c);if(f>=0&&f<=90)return f;if(f<0&&f>=-90)return 90-f}},toModel(c){const f=s.validInt(c);if(f!==void 0){if(f===255)return"vertical";if(f>=0&&f<=90)return f;if(f>90&&f<=180)return 90-f}}};n.exports=class extends o{get tag(){return"alignment"}render(c,f){c.addRollback(),c.openNode("alignment");let h=!1;function d(A,p){p&&(c.addAttribute(A,p),h=!0)}d("horizontal",l.horizontal(f.horizontal)),d("vertical",l.vertical(f.vertical)),d("wrapText",!!l.wrapText(f.wrapText)&&"1"),d("shrinkToFit",!!l.shrinkToFit(f.shrinkToFit)&&"1"),d("indent",l.indent(f.indent)),d("textRotation",u.toXml(f.textRotation)),d("readingOrder",l.readingOrder(f.readingOrder)),c.closeNode(),h?c.commit():c.rollback()}parseOpen(c){const f={};let h=!1;function d(A,p,g){A&&(f[p]=g,h=!0)}d(c.attributes.horizontal,"horizontal",c.attributes.horizontal),d(c.attributes.vertical,"vertical",c.attributes.vertical==="center"?"middle":c.attributes.vertical),d(c.attributes.wrapText,"wrapText",s.parseBoolean(c.attributes.wrapText)),d(c.attributes.shrinkToFit,"shrinkToFit",s.parseBoolean(c.attributes.shrinkToFit)),d(c.attributes.indent,"indent",parseInt(c.attributes.indent,10)),d(c.attributes.textRotation,"textRotation",u.toModel(c.attributes.textRotation)),d(c.attributes.readingOrder,"readingOrder",c.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=h?f:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,n,i){const a=e("../base-xform"),s=e("../../../utils/utils"),o=e("./color-xform");class l extends a{constructor(c){super(),this.name=c,this.map={color:new o}}get tag(){return this.name}render(c,f,h){const d=f&&f.color||h||this.defaultColor;c.openNode(this.name),f&&f.style&&(c.addAttribute("style",f.style),d&&this.map.color.render(c,d)),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.name:{const{style:f}=c.attributes;return this.model=f?{style:f}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):(c===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(c){return l.validStyleValues[c]}}l.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((u,c)=>(u[c]=!0,u),{}),n.exports=class extends a{constructor(){super(),this.map={top:new l("top"),left:new l("left"),bottom:new l("bottom"),right:new l("right"),diagonal:new l("diagonal")}}render(u,c){const{color:f}=c;function h(d,A){d&&!d.color&&c.color&&(d={...d,color:c.color}),A.render(u,d,f)}u.openNode("border"),c.diagonal&&c.diagonal.style&&(c.diagonal.up&&u.addAttribute("diagonalUp","1"),c.diagonal.down&&u.addAttribute("diagonalDown","1")),h(c.left,this.map.left),h(c.right,this.map.right),h(c.top,this.map.top),h(c.bottom,this.map.bottom),h(c.diagonal,this.map.diagonal),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"border":return this.reset(),this.diagonalUp=s.parseBoolean(u.attributes.diagonalUp),this.diagonalDown=s.parseBoolean(u.attributes.diagonalDown),!0;default:return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;if(u==="border"){const c=this.model={},f=function(h,d,A){d&&(A&&Object.assign(d,A),c[h]=d)};f("left",this.map.left.model),f("right",this.map.right.model),f("top",this.map.top.model),f("bottom",this.map.bottom.model),f("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{constructor(s){super(),this.name=s||"color"}get tag(){return this.name}render(s,o){return!!o&&(s.openNode(this.name),o.argb?s.addAttribute("rgb",o.argb):o.theme!==void 0?(s.addAttribute("theme",o.theme),o.tint!==void 0&&s.addAttribute("tint",o.tint)):o.indexed!==void 0?s.addAttribute("indexed",o.indexed):s.addAttribute("auto","1"),s.closeNode(),!0)}parseOpen(s){return s.name===this.name&&(s.attributes.rgb?this.model={argb:s.attributes.rgb}:s.attributes.theme?(this.model={theme:parseInt(s.attributes.theme,10)},s.attributes.tint&&(this.model.tint=parseFloat(s.attributes.tint))):s.attributes.indexed?this.model={indexed:parseInt(s.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,n,i){const a=e("../base-xform"),s=e("./alignment-xform"),o=e("./border-xform"),l=e("./fill-xform"),u=e("./font-xform"),c=e("./numfmt-xform"),f=e("./protection-xform");n.exports=class extends a{constructor(){super(),this.map={alignment:new s,border:new o,fill:new l,font:new u,numFmt:new c,protection:new f}}get tag(){return"dxf"}render(h,d){if(h.openNode(this.tag),d.font&&this.map.font.render(h,d.font),d.numFmt&&d.numFmtId){const A={id:d.numFmtId,formatCode:d.numFmt};this.map.numFmt.render(h,A)}d.fill&&this.map.fill.render(h,d.fill),d.alignment&&this.map.alignment.render(h,d.alignment),d.border&&this.map.border.render(h,d.border),d.protection&&this.map.protection.render(h,d.protection),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h),!0}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,n,i){const a=e("../base-xform"),s=e("./color-xform");class o extends a{constructor(){super(),this.map={color:new s}}get tag(){return"stop"}render(h,d){h.openNode("stop"),h.addAttribute("position",d.position),this.map.color.render(h,d.color),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"stop":return this.model={position:parseFloat(h.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(h),!0;default:return!1}}parseText(){}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class l extends a{constructor(){super(),this.map={fgColor:new s("fgColor"),bgColor:new s("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(h,d){h.openNode("patternFill"),h.addAttribute("patternType",d.pattern),d.fgColor&&this.map.fgColor.render(h,d.fgColor),d.bgColor&&this.map.bgColor.render(h,d.bgColor),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"patternFill":return this.model={type:"pattern",pattern:h.attributes.patternType},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.parser.model&&(this.model[h]=this.parser.model),this.parser=void 0),!0)}}class u extends a{constructor(){super(),this.map={stop:new o}}get name(){return"gradient"}get tag(){return"gradientFill"}render(h,d){switch(h.openNode("gradientFill"),d.gradient){case"angle":h.addAttribute("degree",d.degree);break;case"path":h.addAttribute("type","path"),d.center.left&&(h.addAttribute("left",d.center.left),d.center.right===void 0&&h.addAttribute("right",d.center.left)),d.center.right&&h.addAttribute("right",d.center.right),d.center.top&&(h.addAttribute("top",d.center.top),d.center.bottom===void 0&&h.addAttribute("bottom",d.center.top)),d.center.bottom&&h.addAttribute("bottom",d.center.bottom)}const A=this.map.stop;d.stops.forEach(p=>{A.render(h,p)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"gradientFill":{const d=this.model={stops:[]};return h.attributes.degree?(d.gradient="angle",d.degree=parseInt(h.attributes.degree,10)):h.attributes.type==="path"&&(d.gradient="path",d.center={left:h.attributes.left?parseFloat(h.attributes.left):0,top:h.attributes.top?parseFloat(h.attributes.top):0},h.attributes.right!==h.attributes.left&&(d.center.right=h.attributes.right?parseFloat(h.attributes.right):0),h.attributes.bottom!==h.attributes.top&&(d.center.bottom=h.attributes.bottom?parseFloat(h.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class c extends a{constructor(){super(),this.map={patternFill:new l,gradientFill:new u}}get tag(){return"fill"}render(h,d){switch(h.addRollback(),h.openNode("fill"),d.type){case"pattern":this.map.patternFill.render(h,d);break;case"gradient":this.map.gradientFill.render(h,d);break;default:return void h.rollback()}h.closeNode(),h.commit()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"fill":return this.model={},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(h){return c.validPatternValues[h]}}c.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((f,h)=>(f[h]=!0,f),{}),c.StopXform=o,c.PatternFillXform=l,c.GradientFillXform=u,n.exports=c},{"../base-xform":32,"./color-xform":128}],131:[function(e,n,i){const a=e("./color-xform"),s=e("../simple/boolean-xform"),o=e("../simple/integer-xform"),l=e("../simple/string-xform"),u=e("./underline-xform"),c=e("../../../utils/under-dash"),f=e("../base-xform");class h extends f{constructor(A){super(),this.options=A||h.OPTIONS,this.map={b:{prop:"bold",xform:new s({tag:"b",attr:"val"})},i:{prop:"italic",xform:new s({tag:"i",attr:"val"})},u:{prop:"underline",xform:new u},charset:{prop:"charset",xform:new o({tag:"charset",attr:"val"})},color:{prop:"color",xform:new a},condense:{prop:"condense",xform:new s({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new s({tag:"extend",attr:"val"})},family:{prop:"family",xform:new o({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new s({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new l({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new l({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new s({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new s({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new o({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new l({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(A,p){const{map:g}=this;A.openNode(this.options.tagName),c.each(this.map,(m,v)=>{g[v].xform.render(A,p[m.prop])}),A.closeNode()}parseOpen(A){if(this.parser)return this.parser.parseOpen(A),!0;if(this.map[A.name])return this.parser=this.map[A.name].xform,this.parser.parseOpen(A);switch(A.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(A){this.parser&&this.parser.parseText(A)}parseClose(A){if(this.parser&&!this.parser.parseClose(A)){const p=this.map[A];return this.parser.model&&(this.model[p.prop]=this.parser.model),this.parser=void 0,!0}switch(A){case this.options.tagName:return!1;default:return!0}}}h.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=h},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,n,i){const a=e("../../../utils/under-dash"),s=e("../../defaultnumformats"),o=e("../base-xform"),l=function(){const c={};return a.each(s,(f,h)=>{f.f&&(c[f.f]=parseInt(h,10))}),c}();class u extends o{constructor(f,h){super(),this.id=f,this.formatCode=h}get tag(){return"numFmt"}render(f,h){f.leafNode("numFmt",{numFmtId:h.id,formatCode:h.formatCode})}parseOpen(f){switch(f.name){case"numFmt":return this.model={id:parseInt(f.attributes.numFmtId,10),formatCode:f.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}u.getDefaultFmtId=function(c){return l[c]},u.getDefaultFmtCode=function(c){return s[c]&&s[c].f},n.exports=u},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,n,i){const a=e("../base-xform"),s={boolean:(o,l)=>o===void 0?l:o};n.exports=class extends a{get tag(){return"protection"}render(o,l){o.addRollback(),o.openNode("protection");let u=!1;function c(f,h){h!==void 0&&(o.addAttribute(f,h),u=!0)}c("locked",s.boolean(l.locked,!0)?void 0:"0"),c("hidden",s.boolean(l.hidden,!1)?"1":void 0),o.closeNode(),u?o.commit():o.rollback()}parseOpen(o){const l={locked:o.attributes.locked!=="0",hidden:o.attributes.hidden==="1"},u=!l.locked||l.hidden;this.model=u?l:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,n,i){const a=e("../base-xform"),s=e("./alignment-xform"),o=e("./protection-xform");n.exports=class extends a{constructor(l){super(),this.xfId=!(!l||!l.xfId),this.map={alignment:new s,protection:new o}}get tag(){return"xf"}render(l,u){l.openNode("xf",{numFmtId:u.numFmtId||0,fontId:u.fontId||0,fillId:u.fillId||0,borderId:u.borderId||0}),this.xfId&&l.addAttribute("xfId",u.xfId||0),u.numFmtId&&l.addAttribute("applyNumberFormat","1"),u.fontId&&l.addAttribute("applyFont","1"),u.fillId&&l.addAttribute("applyFill","1"),u.borderId&&l.addAttribute("applyBorder","1"),u.alignment&&l.addAttribute("applyAlignment","1"),u.protection&&l.addAttribute("applyProtection","1"),u.alignment&&this.map.alignment.render(l,u.alignment),u.protection&&this.map.protection.render(l,u.protection),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"xf":return this.model={numFmtId:parseInt(l.attributes.numFmtId,10),fontId:parseInt(l.attributes.fontId,10),fillId:parseInt(l.attributes.fillId,10),borderId:parseInt(l.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(l.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(l),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):l!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,n,i){const a=e("../../../doc/enums"),s=e("../../../utils/xml-stream"),o=e("../base-xform"),l=e("../static-xform"),u=e("../list-xform"),c=e("./font-xform"),f=e("./fill-xform"),h=e("./border-xform"),d=e("./numfmt-xform"),A=e("./style-xform"),p=e("./dxf-xform");class g extends o{constructor(v){super(),this.map={numFmts:new u({tag:"numFmts",count:!0,childXform:new d}),fonts:new u({tag:"fonts",count:!0,childXform:new c,$:{"x14ac:knownFonts":1}}),fills:new u({tag:"fills",count:!0,childXform:new f}),borders:new u({tag:"borders",count:!0,childXform:new h}),cellStyleXfs:new u({tag:"cellStyleXfs",count:!0,childXform:new A}),cellXfs:new u({tag:"cellXfs",count:!0,childXform:new A({xfId:!0})}),dxfs:new u({tag:"dxfs",always:!0,count:!0,childXform:new p}),numFmt:new d,font:new c,fill:new f,border:new h,style:new A({xfId:!0}),cellStyles:g.STATIC_XFORMS.cellStyles,tableStyles:g.STATIC_XFORMS.tableStyles,extLst:g.STATIC_XFORMS.extLst},v&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(v,y){y=y||this.model,v.openXml(s.StdDocAttributes),v.openNode("styleSheet",g.STYLESHEET_ATTRIBUTES),this.index?(y.numFmts&&y.numFmts.length&&(v.openNode("numFmts",{count:y.numFmts.length}),y.numFmts.forEach(b=>{v.writeXml(b)}),v.closeNode()),y.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),v.openNode("fonts",{count:y.fonts.length,"x14ac:knownFonts":1}),y.fonts.forEach(b=>{v.writeXml(b)}),v.closeNode(),v.openNode("fills",{count:y.fills.length}),y.fills.forEach(b=>{v.writeXml(b)}),v.closeNode(),v.openNode("borders",{count:y.borders.length}),y.borders.forEach(b=>{v.writeXml(b)}),v.closeNode(),this.map.cellStyleXfs.render(v,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),v.openNode("cellXfs",{count:y.styles.length}),y.styles.forEach(b=>{v.writeXml(b)}),v.closeNode()):(this.map.numFmts.render(v,y.numFmts),this.map.fonts.render(v,y.fonts),this.map.fills.render(v,y.fills),this.map.borders.render(v,y.borders),this.map.cellStyleXfs.render(v,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(v,y.styles)),g.STATIC_XFORMS.cellStyles.render(v),this.map.dxfs.render(v,y.dxfs),g.STATIC_XFORMS.tableStyles.render(v),g.STATIC_XFORMS.extLst.render(v),v.closeNode()}parseOpen(v){if(this.parser)return this.parser.parseOpen(v),!0;switch(v.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[v.name],this.parser&&this.parser.parseOpen(v),!0}}parseText(v){this.parser&&this.parser.parseText(v)}parseClose(v){if(this.parser)return this.parser.parseClose(v)||(this.parser=void 0),!0;switch(v){case"styleSheet":{this.model={};const y=(b,_)=>{_.model&&_.model.length&&(this.model[b]=_.model)};if(y("numFmts",this.map.numFmts),y("fonts",this.map.fonts),y("fills",this.map.fills),y("borders",this.map.borders),y("styles",this.map.cellXfs),y("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const b=this.index.numFmt;this.model.numFmts.forEach(_=>{b[_.id]=_.formatCode})}return!1}default:return!0}}addStyleModel(v,y){if(!v)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(v))return this.weakMap.get(v);const b={};if(y=y||a.ValueType.Number,v.numFmt)b.numFmtId=this._addNumFmtStr(v.numFmt);else switch(y){case a.ValueType.Number:b.numFmtId=this._addNumFmtStr("General");break;case a.ValueType.Date:b.numFmtId=this._addNumFmtStr("mm-dd-yy")}v.font&&(b.fontId=this._addFont(v.font)),v.border&&(b.borderId=this._addBorder(v.border)),v.fill&&(b.fillId=this._addFill(v.fill)),v.alignment&&(b.alignment=v.alignment),v.protection&&(b.protection=v.protection);const _=this._addStyle(b);return this.weakMap&&this.weakMap.set(v,_),_}getStyleModel(v){const y=this.model.styles[v];if(!y)return null;let b=this.index.model[v];if(b)return b;if(b=this.index.model[v]={},y.numFmtId){const T=this.index.numFmt[y.numFmtId]||d.getDefaultFmtCode(y.numFmtId);T&&(b.numFmt=T)}function _(T,I,N){if(N||N===0){const F=I[N];F&&(b[T]=F)}}return _("font",this.model.fonts,y.fontId),_("border",this.model.borders,y.borderId),_("fill",this.model.fills,y.fillId),y.alignment&&(b.alignment=y.alignment),y.protection&&(b.protection=y.protection),b}addDxfStyle(v){return v.numFmt&&(v.numFmtId=this._addNumFmtStr(v.numFmt)),this.model.dxfs.push(v),this.model.dxfs.length-1}getDxfStyle(v){return this.model.dxfs[v]}_addStyle(v){const y=this.map.style.toXml(v);let b=this.index.style[y];return b===void 0&&(b=this.index.style[y]=this.model.styles.length,this.model.styles.push(y)),b}_addNumFmtStr(v){let y=d.getDefaultFmtId(v);if(y!==void 0||(y=this.index.numFmt[v],y!==void 0))return y;y=this.index.numFmt[v]=164+this.model.numFmts.length;const b=this.map.numFmt.toXml({id:y,formatCode:v});return this.model.numFmts.push(b),y}_addFont(v){const y=this.map.font.toXml(v);let b=this.index.font[y];return b===void 0&&(b=this.index.font[y]=this.model.fonts.length,this.model.fonts.push(y)),b}_addBorder(v){const y=this.map.border.toXml(v);let b=this.index.border[y];return b===void 0&&(b=this.index.border[y]=this.model.borders.length,this.model.borders.push(y)),b}_addFill(v){const y=this.map.fill.toXml(v);let b=this.index.fill[y];return b===void 0&&(b=this.index.fill[y]=this.model.fills.length,this.model.fills.push(y)),b}}g.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},g.STATIC_XFORMS={cellStyles:new l({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new l({tag:"dxfs",$:{count:0}}),tableStyles:new l({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new l({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},g.Mock=class extends g{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(m){return m.autodrain(),Promise.resolve()}addStyleModel(m,v){switch(v){case a.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const m={numFmtId:d.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(m)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=g},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,n,i){const a=e("../base-xform");class s extends a{constructor(l){super(),this.model=l}get tag(){return"u"}render(l,u){if((u=u||this.model)===!0)l.leafNode("u");else{const c=s.Attributes[u];c&&l.leafNode("u",c)}}parseOpen(l){l.name==="u"&&(this.model=l.attributes.val||!0)}parseText(){}parseClose(){return!1}}s.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=s},{"../base-xform":32}],137:[function(e,n,i){const a=e("../base-xform"),s=e("./filter-column-xform");n.exports=class extends a{constructor(){super(),this.map={filterColumn:new s}}get tag(){return"autoFilter"}prepare(o){o.columns.forEach((l,u)=>{this.map.filterColumn.prepare(l,{index:u})})}render(o,l){return o.openNode(this.tag,{ref:l.autoFilterRef}),l.columns.forEach(u=>{this.map.filterColumn.render(o,u)}),o.closeNode(),!0}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model={autoFilterRef:o.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(o){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+o)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"customFilter"}render(s,o){s.leafNode(this.tag,{val:o.val,operator:o.operator})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val,operator:s.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,n,i){const a=e("../base-xform"),s=e("../list-xform"),o=e("./custom-filter-xform"),l=e("./filter-xform");n.exports=class extends a{constructor(){super(),this.map={customFilters:new s({tag:"customFilters",count:!1,empty:!0,childXform:new o}),filters:new s({tag:"filters",count:!1,empty:!0,childXform:new l})}}get tag(){return"filterColumn"}prepare(u,c){u.colId=c.index.toString()}render(u,c){return c.customFilters?(u.openNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),this.map.customFilters.render(u,c.customFilters),u.closeNode(),!0):(u.leafNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),!0)}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;const{attributes:c}=u;switch(u.name){case this.tag:return this.model={filterButton:c.hiddenButton==="0"},!0;default:if(this.parser=this.map[u.name],this.parser)return this.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"filter"}render(s,o){s.leafNode(this.tag,{val:o.val})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"tableColumn"}prepare(s,o){s.id=o.index+1}render(s,o){return s.leafNode(this.tag,{id:o.id.toString(),name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:o}=s;return this.model={name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"tableStyleInfo"}render(s,o){return s.leafNode(this.tag,{name:o.theme?o.theme:void 0,showFirstColumn:o.showFirstColumn?"1":"0",showLastColumn:o.showLastColumn?"1":"0",showRowStripes:o.showRowStripes?"1":"0",showColumnStripes:o.showColumnStripes?"1":"0"}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:o}=s;return this.model={theme:o.name?o.name:null,showFirstColumn:o.showFirstColumn==="1",showLastColumn:o.showLastColumn==="1",showRowStripes:o.showRowStripes==="1",showColumnStripes:o.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,n,i){const a=e("../../../utils/xml-stream"),s=e("../base-xform"),o=e("../list-xform"),l=e("./auto-filter-xform"),u=e("./table-column-xform"),c=e("./table-style-info-xform");class f extends s{constructor(){super(),this.map={autoFilter:new l,tableColumns:new o({tag:"tableColumns",count:!0,empty:!0,childXform:new u}),tableStyleInfo:new c}}prepare(d,A){this.map.autoFilter.prepare(d),this.map.tableColumns.prepare(d.columns,A)}get tag(){return"table"}render(d,A){d.openXml(a.StdDocAttributes),d.openNode(this.tag,{...f.TABLE_ATTRIBUTES,id:A.id,name:A.name,displayName:A.displayName||A.name,ref:A.tableRef,totalsRowCount:A.totalsRow?"1":void 0,totalsRowShown:A.totalsRow?void 0:"1",headerRowCount:A.headerRow?"1":"0"}),this.map.autoFilter.render(d,A),this.map.tableColumns.render(d,A.columns),this.map.tableStyleInfo.render(d,A.style),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;const{name:A,attributes:p}=d;switch(A){case this.tag:this.reset(),this.model={name:p.name,displayName:p.displayName||p.name,tableRef:p.ref,totalsRow:p.totalsRowCount==="1",headerRow:p.headerRowCount==="1"};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((A,p)=>{this.model.columns[p].filterButton=A.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(d,A){d.columns.forEach(p=>{p.dxfId!==void 0&&(p.style=A.styles.getDxfStyle(p.dxfId))})}}f.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=f},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,n,i){(function(a,s){(function(){const o=e("fs"),l=e("jszip"),{PassThrough:u}=e("readable-stream"),c=e("../utils/zip-stream"),f=e("../utils/stream-buf"),h=e("../utils/utils"),d=e("../utils/xml-stream"),{bufferToString:A}=e("../utils/browser-buffer-decode"),p=e("./xform/style/styles-xform"),g=e("./xform/core/core-xform"),m=e("./xform/strings/shared-strings-xform"),v=e("./xform/core/relationships-xform"),y=e("./xform/core/content-types-xform"),b=e("./xform/core/app-xform"),_=e("./xform/book/workbook-xform"),T=e("./xform/sheet/worksheet-xform"),I=e("./xform/drawing/drawing-xform"),N=e("./xform/table/table-xform"),F=e("./xform/comment/comments-xform"),P=e("./xform/comment/vml-notes-xform"),D=e("./xml/theme1");class R{constructor(L){this.workbook=L}async readFile(L,k){if(!await h.fs.exists(L))throw new Error("File not found: "+L);const w=o.createReadStream(L);try{const C=await this.read(w,k);return w.close(),C}catch(C){throw w.close(),C}}parseRels(L){return new v().parseStream(L)}parseWorkbook(L){return new _().parseStream(L)}parseSharedStrings(L){return new m().parseStream(L)}reconcile(L,k){const w=new _,C=new T(k),S=new I,B=new N;w.reconcile(L);const O={media:L.media,mediaIndex:L.mediaIndex};Object.keys(L.drawings).forEach(U=>{const Q=L.drawings[U],W=L.drawingRels[U];W&&(O.rels=W.reduce((j,X)=>(j[X.Id]=X,j),{}),(Q.anchors||[]).forEach(j=>{const X=j.picture&&j.picture.hyperlinks;X&&O.rels[X.rId]&&(X.hyperlink=O.rels[X.rId].Target,delete X.rId)}),S.reconcile(Q,O))});const V={styles:L.styles};Object.values(L.tables).forEach(U=>{B.reconcile(U,V)});const M={styles:L.styles,sharedStrings:L.sharedStrings,media:L.media,mediaIndex:L.mediaIndex,date1904:L.properties&&L.properties.date1904,drawings:L.drawings,comments:L.comments,tables:L.tables,vmlDrawings:L.vmlDrawings};L.worksheets.forEach(U=>{U.relationships=L.worksheetRels[U.sheetNo],C.reconcile(U,M)}),delete L.worksheetHash,delete L.worksheetRels,delete L.globalRels,delete L.sharedStrings,delete L.workbookRels,delete L.sheetDefs,delete L.styles,delete L.mediaIndex,delete L.drawings,delete L.drawingRels,delete L.vmlDrawings}async _processWorksheetEntry(L,k,w,C,S){const B=new T(C),O=await B.parseStream(L);O.sheetNo=w,k.worksheetHash[S]=O,k.worksheets.push(O)}async _processCommentEntry(L,k,w){const C=new F,S=await C.parseStream(L);k.comments[`../${w}.xml`]=S}async _processTableEntry(L,k,w){const C=new N,S=await C.parseStream(L);k.tables[`../tables/${w}.xml`]=S}async _processWorksheetRelsEntry(L,k,w){const C=new v,S=await C.parseStream(L);k.worksheetRels[w]=S}async _processMediaEntry(L,k,w){const C=w.lastIndexOf(".");if(C>=1){const S=w.substr(C+1),B=w.substr(0,C);await new Promise((O,V)=>{const M=new f;M.on("finish",()=>{k.mediaIndex[w]=k.media.length,k.mediaIndex[B]=k.media.length;const U={type:"image",name:B,extension:S,buffer:M.toBuffer()};k.media.push(U),O()}),L.on("error",U=>{V(U)}),L.pipe(M)})}}async _processDrawingEntry(L,k,w){const C=new I,S=await C.parseStream(L);k.drawings[w]=S}async _processDrawingRelsEntry(L,k,w){const C=new v,S=await C.parseStream(L);k.drawingRels[w]=S}async _processVmlDrawingEntry(L,k,w){const C=new P,S=await C.parseStream(L);k.vmlDrawings[`../drawings/${w}.vml`]=S}async _processThemeEntry(L,k,w){await new Promise((C,S)=>{const B=new f;L.on("error",S),B.on("error",S),B.on("finish",()=>{k.themes[w]=B.read().toString(),C()}),L.pipe(B)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(L,k){!L[Symbol.asyncIterator]&&L.pipe&&(L=L.pipe(new u));const w=[];for await(const C of L)w.push(C);return this.load(s.concat(w),k)}async load(L,k){let w;w=k&&k.base64?s.from(L.toString(),"base64"):L;const C={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},S=await l.loadAsync(w);for(const B of Object.values(S.files))if(!B.dir){let O,V=B.name;if(V[0]==="/"&&(V=V.substr(1)),V.match(/xl\/media\//)||V.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))O=new u,O.write(await B.async("nodebuffer"));else{let M;O=new u({writableObjectMode:!0,readableObjectMode:!0}),M=a.browser?A(await B.async("nodebuffer")):await B.async("string");const U=16384;for(let Q=0;Q<M.length;Q+=U)O.write(M.substring(Q,Q+U))}switch(O.end(),V){case"_rels/.rels":C.globalRels=await this.parseRels(O);break;case"xl/workbook.xml":{const M=await this.parseWorkbook(O);C.sheets=M.sheets,C.definedNames=M.definedNames,C.views=M.views,C.properties=M.properties,C.calcProperties=M.calcProperties;break}case"xl/_rels/workbook.xml.rels":C.workbookRels=await this.parseRels(O);break;case"xl/sharedStrings.xml":C.sharedStrings=new m,await C.sharedStrings.parseStream(O);break;case"xl/styles.xml":C.styles=new p,await C.styles.parseStream(O);break;case"docProps/app.xml":{const M=new b,U=await M.parseStream(O);C.company=U.company,C.manager=U.manager;break}case"docProps/core.xml":{const M=new g,U=await M.parseStream(O);Object.assign(C,U);break}default:{let M=V.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(M){await this._processWorksheetEntry(O,C,M[1],k,V);break}if(M=V.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),M){await this._processWorksheetRelsEntry(O,C,M[1]);break}if(M=V.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),M){await this._processThemeEntry(O,C,M[1]);break}if(M=V.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),M){await this._processMediaEntry(O,C,M[1]);break}if(M=V.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),M){await this._processDrawingEntry(O,C,M[1]);break}if(M=V.match(/xl\/(comments\d+)[.]xml/),M){await this._processCommentEntry(O,C,M[1]);break}if(M=V.match(/xl\/tables\/(table\d+)[.]xml/),M){await this._processTableEntry(O,C,M[1]);break}if(M=V.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),M){await this._processDrawingRelsEntry(O,C,M[1]);break}if(M=V.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),M){await this._processVmlDrawingEntry(O,C,M[1]);break}}}}return this.reconcile(C,k),this.workbook.model=C,this.workbook}async addMedia(L,k){await Promise.all(k.media.map(async w=>{if(w.type==="image"){const C=`xl/media/${w.name}.${w.extension}`;if(w.filename){const S=await function(B,O){return new Promise((V,M)=>{o.readFile(B,O,(U,Q)=>{U?M(U):V(Q)})})}(w.filename);return L.append(S,{name:C})}if(w.buffer)return L.append(w.buffer,{name:C});if(w.base64){const S=w.base64,B=S.substring(S.indexOf(",")+1);return L.append(B,{name:C,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(L,k){const w=new I,C=new v;k.worksheets.forEach(S=>{const{drawing:B}=S;if(B){w.prepare(B,{});let O=w.toXml(B);L.append(O,{name:`xl/drawings/${B.name}.xml`}),O=C.toXml(B.rels),L.append(O,{name:`xl/drawings/_rels/${B.name}.xml.rels`})}})}addTables(L,k){const w=new N;k.worksheets.forEach(C=>{const{tables:S}=C;S.forEach(B=>{w.prepare(B,{});const O=w.toXml(B);L.append(O,{name:"xl/tables/"+B.target})})})}async addContentTypes(L,k){const w=new y().toXml(k);L.append(w,{name:"[Content_Types].xml"})}async addApp(L,k){const w=new b().toXml(k);L.append(w,{name:"docProps/app.xml"})}async addCore(L,k){const w=new g;L.append(w.toXml(k),{name:"docProps/core.xml"})}async addThemes(L,k){const w=k.themes||{theme1:D};Object.keys(w).forEach(C=>{const S=w[C],B=`xl/theme/${C}.xml`;L.append(S,{name:B})})}async addOfficeRels(L){const k=new v().toXml([{Id:"rId1",Type:R.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:R.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:R.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);L.append(k,{name:"_rels/.rels"})}async addWorkbookRels(L,k){let w=1;const C=[{Id:"rId"+w++,Type:R.RelType.Styles,Target:"styles.xml"},{Id:"rId"+w++,Type:R.RelType.Theme,Target:"theme/theme1.xml"}];k.sharedStrings.count&&C.push({Id:"rId"+w++,Type:R.RelType.SharedStrings,Target:"sharedStrings.xml"}),k.worksheets.forEach(B=>{B.rId="rId"+w++,C.push({Id:B.rId,Type:R.RelType.Worksheet,Target:`worksheets/sheet${B.id}.xml`})});const S=new v().toXml(C);L.append(S,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(L,k){k.sharedStrings&&k.sharedStrings.count&&L.append(k.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(L,k){const{xml:w}=k.styles;w&&L.append(w,{name:"xl/styles.xml"})}async addWorkbook(L,k){const w=new _;L.append(w.toXml(k),{name:"xl/workbook.xml"})}async addWorksheets(L,k){const w=new T,C=new v,S=new F,B=new P;k.worksheets.forEach(O=>{let V=new d;w.render(V,O),L.append(V.xml,{name:`xl/worksheets/sheet${O.id}.xml`}),O.rels&&O.rels.length&&(V=new d,C.render(V,O.rels),L.append(V.xml,{name:`xl/worksheets/_rels/sheet${O.id}.xml.rels`})),O.comments.length>0&&(V=new d,S.render(V,O),L.append(V.xml,{name:`xl/comments${O.id}.xml`}),V=new d,B.render(V,O),L.append(V.xml,{name:`xl/drawings/vmlDrawing${O.id}.vml`}))})}_finalize(L){return new Promise((k,w)=>{L.on("finish",()=>{k(this)}),L.on("error",w),L.finalize()})}prepareModel(L,k){L.creator=L.creator||"ExcelJS",L.lastModifiedBy=L.lastModifiedBy||"ExcelJS",L.created=L.created||new Date,L.modified=L.modified||new Date,L.useSharedStrings=k.useSharedStrings===void 0||k.useSharedStrings,L.useStyles=k.useStyles===void 0||k.useStyles,L.sharedStrings=new m,L.styles=L.useStyles?new p(!0):new p.Mock;const w=new _,C=new T;w.prepare(L);const S={sharedStrings:L.sharedStrings,styles:L.styles,date1904:L.properties.date1904,drawingsCount:0,media:L.media};S.drawings=L.drawings=[],S.commentRefs=L.commentRefs=[];let B=0;L.tables=[],L.worksheets.forEach(O=>{O.tables.forEach(V=>{B++,V.target=`table${B}.xml`,V.id=B,L.tables.push(V)}),C.prepare(O,S)})}async write(L,k){k=k||{};const{model:w}=this.workbook,C=new c.ZipWriter(k.zip);return C.pipe(L),this.prepareModel(w,k),await this.addContentTypes(C,w),await this.addOfficeRels(C,w),await this.addWorkbookRels(C,w),await this.addWorksheets(C,w),await this.addSharedStrings(C,w),await this.addDrawings(C,w),await this.addTables(C,w),await Promise.all([this.addThemes(C,w),this.addStyles(C,w)]),await this.addMedia(C,w),await Promise.all([this.addApp(C,w),this.addCore(C,w)]),await this.addWorkbook(C,w),this._finalize(C)}writeFile(L,k){const w=o.createWriteStream(L);return new Promise((C,S)=>{w.on("finish",()=>{C()}),w.on("error",B=>{S(B)}),this.write(w,k).then(()=>{w.end()}).catch(B=>{S(B)})})}async writeBuffer(L){const k=new f;return await this.write(k,L),k.read()}}R.RelType=e("./rel-type"),n.exports=R}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,n,i){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,n,i){(function(a){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvFormatterStream=void 0;const s=e("stream"),o=e("./formatter");class l extends s.Transform{constructor(c){super({writableObjectMode:c.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=c,this.rowFormatter=new o.RowFormatter(c),this.hasWrittenBOM=!c.writeBOM}transform(c){return this.rowFormatter.rowTransform=c,this}_transform(c,f,h){let d=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(c,(A,p)=>A?(d=!0,h(A)):(p&&p.forEach(g=>{this.push(a.from(g,"utf8"))}),d=!0,h()))}catch(A){if(d)throw A;h(A)}}_flush(c){this.rowFormatter.finish((f,h)=>f?c(f):(h&&h.forEach(d=>{this.push(a.from(d,"utf8"))}),c()))}}i.CsvFormatterStream=l}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FormatterOptions=void 0,i.FormatterOptions=class{constructor(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var s;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,a||{}),(a==null?void 0:a.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(a==null?void 0:a.quote)===!0?this.quote='"':(a==null?void 0:a.quote)===!1&&(this.quote=""),typeof(a==null?void 0:a.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((s=a.writeHeaders)===null||s===void 0||s),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,n,i){var a=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=void 0;const s=a(e("lodash.isboolean")),o=a(e("lodash.isnil")),l=a(e("lodash.escaperegexp"));i.FieldFormatter=class{constructor(u){this._headers=null,this.formatterOptions=u,u.headers!==null&&(this.headers=u.headers),this.REPLACE_REGEXP=new RegExp(u.quote,"g");const c=`[${u.delimiter}${l.default(u.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(c)}set headers(u){this._headers=u}shouldQuote(u,c){const f=c?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return s.default(f)?f:Array.isArray(f)?f[u]:this._headers!==null&&f[this._headers[u]]}format(u,c,f){const h=(""+(o.default(u)?"":u)).replace(/\0/g,""),{formatterOptions:d}=this;return d.quote!==""&&h.indexOf(d.quote)!==-1?this.quoteField(h.replace(this.REPLACE_REGEXP,d.escapedQuote)):h.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(c,f)?this.quoteField(h):h}quoteField(u){const{quote:c}=this.formatterOptions;return`${c}${u}${c}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,n,i){var a=function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowFormatter=void 0;const s=a(e("lodash.isfunction")),o=a(e("lodash.isequal")),l=e("./FieldFormatter"),u=e("../types");class c{constructor(h){this.rowCount=0,this.formatterOptions=h,this.fieldFormatter=new l.FieldFormatter(h),this.headers=h.headers,this.shouldWriteHeaders=h.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),h.transform&&(this.rowTransform=h.transform)}static isRowHashArray(h){return!!Array.isArray(h)&&Array.isArray(h[0])&&h[0].length===2}static isRowArray(h){return Array.isArray(h)&&!this.isRowHashArray(h)}static gatherHeaders(h){return c.isRowHashArray(h)?h.map(d=>d[0]):Array.isArray(h)?h:Object.keys(h)}static createTransform(h){return u.isSyncTransform(h)?(d,A)=>{let p=null;try{p=h(d)}catch(g){return A(g)}return A(null,p)}:(d,A)=>{h(d,A)}}set rowTransform(h){if(!s.default(h))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(h)}format(h,d){this.callTransformer(h,(A,p)=>{if(A)return d(A);if(!h)return d(null);const g=[];if(p){const{shouldFormatColumns:m,headers:v}=this.checkHeaders(p);if(this.shouldWriteHeaders&&v&&!this.hasWrittenHeaders&&(g.push(this.formatColumns(v,!0)),this.hasWrittenHeaders=!0),m){const y=this.gatherColumns(p);g.push(this.formatColumns(y,!1))}}return d(null,g)})}finish(h){const d=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return h(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));d.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&d.push(this.formatterOptions.rowDelimiter),h(null,d)}checkHeaders(h){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const d=c.gatherHeaders(h);return this.headers=d,this.fieldFormatter.headers=d,this.shouldWriteHeaders?{shouldFormatColumns:!o.default(d,h),headers:d}:{shouldFormatColumns:!0,headers:null}}gatherColumns(h){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(h)?c.isRowHashArray(h)?this.headers.map((d,A)=>{const p=h[A];return p?p[1]:""}):c.isRowArray(h)&&!this.shouldWriteHeaders?h:this.headers.map((d,A)=>h[A]):this.headers.map(d=>h[d])}callTransformer(h,d){return this._rowTransform?this._rowTransform(h,d):d(null,h)}formatColumns(h,d){const A=h.map((g,m)=>this.fieldFormatter.format(g,m,d)).join(this.formatterOptions.delimiter),{rowCount:p}=this;return this.rowCount+=1,p?[this.formatterOptions.rowDelimiter,A].join(""):A}}i.RowFormatter=c},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=i.RowFormatter=void 0;var a=e("./RowFormatter");Object.defineProperty(i,"RowFormatter",{enumerable:!0,get:function(){return a.RowFormatter}});var s=e("./FieldFormatter");Object.defineProperty(i,"FieldFormatter",{enumerable:!0,get:function(){return s.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,n,i){(function(a){(function(){var s=Object.create?function(m,v,y,b){b===void 0&&(b=y),Object.defineProperty(m,b,{enumerable:!0,get:function(){return v[y]}})}:function(m,v,y,b){b===void 0&&(b=y),m[b]=v[y]},o=Object.create?function(m,v){Object.defineProperty(m,"default",{enumerable:!0,value:v})}:function(m,v){m.default=v},l=function(m){if(m&&m.__esModule)return m;var v={};if(m!=null)for(var y in m)y!=="default"&&Object.prototype.hasOwnProperty.call(m,y)&&s(v,m,y);return o(v,m),v},u=function(m,v){for(var y in m)y==="default"||Object.prototype.hasOwnProperty.call(v,y)||s(v,m,y)};Object.defineProperty(i,"__esModule",{value:!0}),i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=i.FormatterOptions=i.CsvFormatterStream=void 0;const c=e("util"),f=e("stream"),h=l(e("fs")),d=e("./FormatterOptions"),A=e("./CsvFormatterStream");u(e("./types"),i);var p=e("./CsvFormatterStream");Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return p.CsvFormatterStream}});var g=e("./FormatterOptions");Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return g.FormatterOptions}}),i.format=m=>new A.CsvFormatterStream(new d.FormatterOptions(m)),i.write=(m,v)=>{const y=i.format(v),b=c.promisify((_,T)=>{y.write(_,void 0,T)});return m.reduce((_,T)=>_.then(()=>b(T)),Promise.resolve()).then(()=>y.end()).catch(_=>{y.emit("error",_)}),y},i.writeToStream=(m,v,y)=>i.write(v,y).pipe(m),i.writeToBuffer=function(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const y=[],b=new f.Writable({write(_,T,I){y.push(_),I()}});return new Promise((_,T)=>{b.on("error",T).on("finish",()=>_(a.concat(y))),i.write(m,v).pipe(b)})},i.writeToString=(m,v)=>i.writeToBuffer(m,v).then(y=>y.toString()),i.writeToPath=(m,v,y)=>{const b=h.createWriteStream(m,{encoding:"utf8"});return i.write(v,y).pipe(b)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncTransform=void 0,i.isSyncTransform=a=>a.length===1},{}],153:[function(e,n,i){(function(a){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=void 0;const s=e("string_decoder"),o=e("stream"),l=e("./transforms"),u=e("./parser");class c extends o.Transform{constructor(h){super({objectMode:h.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=h,this.parser=new u.Parser(h),this.headerTransformer=new l.HeaderTransformer(h),this.decoder=new s.StringDecoder(h.encoding),this.rowTransformerValidator=new l.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(h){return this.rowTransformerValidator.rowTransform=h,this}validate(h){return this.rowTransformerValidator.rowValidator=h,this}emit(h){if(h==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var d=arguments.length,A=new Array(d>1?d-1:0),p=1;p<d;p++)A[p-1]=arguments[p];return super.emit(h,...A)}_transform(h,d,A){if(this.hasHitRowLimit)return A();const p=c.wrapDoneCallback(A);try{const{lines:g}=this,m=g+this.decoder.write(h),v=this.parse(m,!0);return this.processRows(v,p)}catch(g){return p(g)}}_flush(h){const d=c.wrapDoneCallback(h);if(this.hasHitRowLimit)return d();try{const A=this.lines+this.decoder.end(),p=this.parse(A,!1);return this.processRows(p,d)}catch(A){return d(A)}}parse(h,d){if(!h)return[];const{line:A,rows:p}=this.parser.parse(h,d);return this.lines=A,p}processRows(h,d){const A=h.length,p=g=>{const m=b=>b?d(b):g%100!=0?p(g+1):void a(()=>p(g+1));if(this.checkAndEmitHeaders(),g>=A||this.hasHitRowLimit)return d();if(this.parsedLineCount+=1,this.shouldSkipLine)return m();const v=h[g];this.rowCount+=1,this.parsedRowCount+=1;const y=this.rowCount;return this.transformRow(v,(b,_)=>{if(b)return this.rowCount-=1,m(b);if(!_)return m(new Error("expected transform result"));if(_.isValid){if(_.row)return this.pushRow(_.row,m)}else this.emit("data-invalid",_.row,y,_.reason);return m()})};p(0)}transformRow(h,d){try{this.headerTransformer.transform(h,(A,p)=>A?d(A):p?p.isValid?p.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(p.row,d):this.skipRow(d):(this.rowCount-=1,this.parsedRowCount-=1,d(null,{row:null,isValid:!0})):this.shouldEmitRows?d(null,{isValid:!1,row:h}):this.skipRow(d):d(new Error("Expected result from header transform")))}catch(A){d(A)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(h){return this.rowCount-=1,h(null,{row:null,isValid:!0})}pushRow(h,d){try{this.parserOptions.objectMode?this.push(h):this.push(JSON.stringify(h)),d()}catch(A){d(A)}}static wrapDoneCallback(h){let d=!1;return function(A){if(A){if(d)throw A;return d=!0,void h(A)}for(var p=arguments.length,g=new Array(p>1?p-1:0),m=1;m<p;m++)g[m-1]=arguments[m];h(...g)}}}i.CsvParserStream=c}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,n,i){var a=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(i,"__esModule",{value:!0}),i.ParserOptions=void 0;const s=a(e("lodash.escaperegexp")),o=a(e("lodash.isnil"));i.ParserOptions=class{constructor(l){var u;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,l||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=s.default(this.delimiter),this.escapeChar=(u=this.escape)!==null&&u!==void 0?u:this.quote,this.supportsComments=!o.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,n,i){var a=Object.create?function(p,g,m,v){v===void 0&&(v=m),Object.defineProperty(p,v,{enumerable:!0,get:function(){return g[m]}})}:function(p,g,m,v){v===void 0&&(v=m),p[v]=g[m]},s=Object.create?function(p,g){Object.defineProperty(p,"default",{enumerable:!0,value:g})}:function(p,g){p.default=g},o=function(p){if(p&&p.__esModule)return p;var g={};if(p!=null)for(var m in p)m!=="default"&&Object.prototype.hasOwnProperty.call(p,m)&&a(g,p,m);return s(g,p),g},l=function(p,g){for(var m in p)m==="default"||Object.prototype.hasOwnProperty.call(g,m)||a(g,p,m)};Object.defineProperty(i,"__esModule",{value:!0}),i.parseString=i.parseFile=i.parseStream=i.parse=i.ParserOptions=i.CsvParserStream=void 0;const u=o(e("fs")),c=e("stream"),f=e("./ParserOptions"),h=e("./CsvParserStream");l(e("./types"),i);var d=e("./CsvParserStream");Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return d.CsvParserStream}});var A=e("./ParserOptions");Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return A.ParserOptions}}),i.parse=p=>new h.CsvParserStream(new f.ParserOptions(p)),i.parseStream=(p,g)=>p.pipe(new h.CsvParserStream(new f.ParserOptions(g))),i.parseFile=function(p){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return u.createReadStream(p).pipe(new h.CsvParserStream(new f.ParserOptions(g)))},i.parseString=(p,g)=>{const m=new c.Readable;return m.push(p),m.push(null),m.pipe(new h.CsvParserStream(new f.ParserOptions(g)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Parser=void 0;const a=e("./Scanner"),s=e("./RowParser"),o=e("./Token");class l{constructor(c){this.parserOptions=c,this.rowParser=new s.RowParser(this.parserOptions)}static removeBOM(c){return c&&c.charCodeAt(0)===65279?c.slice(1):c}parse(c,f){const h=new a.Scanner({line:l.removeBOM(c),parserOptions:this.parserOptions,hasMoreData:f});return this.parserOptions.supportsComments?this.parseWithComments(h):this.parseWithoutComments(h)}parseWithoutComments(c){const f=[];let h=!0;for(;h;)h=this.parseRow(c,f);return{line:c.line,rows:f}}parseWithComments(c){const{parserOptions:f}=this,h=[];for(let d=c.nextCharacterToken;d!==null;d=c.nextCharacterToken)if(o.Token.isTokenComment(d,f)){if(c.advancePastLine()===null)return{line:c.lineFromCursor,rows:h};if(!c.hasMoreCharacters)return{line:c.lineFromCursor,rows:h};c.truncateToCursor()}else if(!this.parseRow(c,h))break;return{line:c.line,rows:h}}parseRow(c,f){if(!c.nextNonSpaceToken)return!1;const h=this.rowParser.parse(c);return h!==null&&(this.parserOptions.ignoreEmpty&&s.RowParser.isEmptyRow(h)||f.push(h),!0)}}i.Parser=l},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.RowParser=void 0;const a=e("./column"),s=e("./Token");i.RowParser=class{constructor(o){this.parserOptions=o,this.columnParser=new a.ColumnParser(o)}static isEmptyRow(o){return o.join("").replace(/\s+/g,"")===""}parse(o){const{parserOptions:l}=this,{hasMoreData:u}=o,c=o,f=[];let h=this.getStartToken(c,f);for(;h;){if(s.Token.isTokenRowDelimiter(h))return c.advancePastToken(h),!c.hasMoreCharacters&&s.Token.isTokenCarriageReturn(h,l)&&u?null:(c.truncateToCursor(),f);if(!this.shouldSkipColumnParse(c,h,f)){const d=this.columnParser.parse(c);if(d===null)return null;f.push(d)}h=c.nextNonSpaceToken}return u?null:(c.truncateToCursor(),f)}getStartToken(o,l){const u=o.nextNonSpaceToken;return u!==null&&s.Token.isTokenDelimiter(u,this.parserOptions)?(l.push(""),o.nextNonSpaceToken):u}shouldSkipColumnParse(o,l,u){const{parserOptions:c}=this;if(s.Token.isTokenDelimiter(l,c)){o.advancePastToken(l);const f=o.nextCharacterToken;if(!o.hasMoreCharacters||f!==null&&s.Token.isTokenRowDelimiter(f)||f!==null&&s.Token.isTokenDelimiter(f,c))return u.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Scanner=void 0;const a=e("./Token"),s=/((?:\r\n)|\n|\r)/;i.Scanner=class{constructor(o){this.cursor=0,this.line=o.line,this.lineLength=this.line.length,this.parserOptions=o.parserOptions,this.hasMoreData=o.hasMoreData,this.cursor=o.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:o}=this,l=this.parserOptions.NEXT_TOKEN_REGEXP;if(o.search(l)===-1)return null;const u=l.exec(o);if(u==null)return null;const c=u[1],f=this.cursor+(u.index||0);return new a.Token({token:c,startCursor:f,endCursor:f+c.length-1})}get nextCharacterToken(){const{cursor:o,lineLength:l}=this;return l<=o?null:new a.Token({token:this.line[o],startCursor:o,endCursor:o})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const o=s.exec(this.lineFromCursor);return o?(this.cursor+=(o.index||0)+o[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(o){return this.cursor=o,this}advanceToToken(o){return this.cursor=o.startCursor,this}advancePastToken(o){return this.cursor=o.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Token=void 0,i.Token=class{constructor(a){this.token=a.token,this.startCursor=a.startCursor,this.endCursor=a.endCursor}static isTokenRowDelimiter(a){const s=a.token;return s==="\r"||s===`
`||s===`\r
`}static isTokenCarriageReturn(a,s){return a.token===s.carriageReturn}static isTokenComment(a,s){return s.supportsComments&&!!a&&a.token===s.comment}static isTokenEscapeCharacter(a,s){return a.token===s.escapeChar}static isTokenQuote(a,s){return a.token===s.quote}static isTokenDelimiter(a,s){return a.token===s.delimiter}}},{}],160:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=void 0,i.ColumnFormatter=class{constructor(a){a.trim?this.format=s=>s.trim():a.ltrim?this.format=s=>s.trimLeft():a.rtrim?this.format=s=>s.trimRight():this.format=s=>s}}},{}],161:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnParser=void 0;const a=e("./NonQuotedColumnParser"),s=e("./QuotedColumnParser"),o=e("../Token");i.ColumnParser=class{constructor(l){this.parserOptions=l,this.quotedColumnParser=new s.QuotedColumnParser(l),this.nonQuotedColumnParser=new a.NonQuotedColumnParser(l)}parse(l){const{nextNonSpaceToken:u}=l;return u!==null&&o.Token.isTokenQuote(u,this.parserOptions)?(l.advanceToToken(u),this.quotedColumnParser.parse(l)):this.nonQuotedColumnParser.parse(l)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.NonQuotedColumnParser=void 0;const a=e("./ColumnFormatter"),s=e("../Token");i.NonQuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new a.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;const{parserOptions:l}=this,u=[];let c=o.nextCharacterToken;for(;c&&!s.Token.isTokenDelimiter(c,l)&&!s.Token.isTokenRowDelimiter(c);c=o.nextCharacterToken)u.push(c.token),o.advancePastToken(c);return this.columnFormatter.format(u.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=void 0;const a=e("./ColumnFormatter"),s=e("../Token");i.QuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new a.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;const l=o.cursor,{foundClosingQuote:u,col:c}=this.gatherDataBetweenQuotes(o);if(!u){if(o.advanceTo(l),!o.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${o.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(o),c}gatherDataBetweenQuotes(o){const{parserOptions:l}=this;let u=!1,c=!1;const f=[];let h=o.nextCharacterToken;for(;!c&&h!==null;h=o.nextCharacterToken){const d=s.Token.isTokenQuote(h,l);if(!u&&d)u=!0;else if(u)if(s.Token.isTokenEscapeCharacter(h,l)){o.advancePastToken(h);const A=o.nextCharacterToken;A!==null&&(s.Token.isTokenQuote(A,l)||s.Token.isTokenEscapeCharacter(A,l))?(f.push(A.token),h=A):d?c=!0:f.push(h.token)}else d?c=!0:f.push(h.token);o.advancePastToken(h)}return{col:this.columnFormatter.format(f.join("")),foundClosingQuote:c}}checkForMalformedColumn(o){const{parserOptions:l}=this,{nextNonSpaceToken:u}=o;if(u){const c=s.Token.isTokenDelimiter(u,l),f=s.Token.isTokenRowDelimiter(u);if(!c&&!f){const h=o.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${l.escapedDelimiter}' OR new line got: '${u.token}'. at '${h}`)}o.advanceToToken(u)}else o.hasMoreData||o.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=void 0;var a=e("./ColumnParser");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}});var s=e("./NonQuotedColumnParser");Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return s.NonQuotedColumnParser}});var o=e("./QuotedColumnParser");Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}});var l=e("./ColumnFormatter");Object.defineProperty(i,"ColumnFormatter",{enumerable:!0,get:function(){return l.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=i.Token=i.Scanner=i.RowParser=i.Parser=void 0;var a=e("./Parser");Object.defineProperty(i,"Parser",{enumerable:!0,get:function(){return a.Parser}});var s=e("./RowParser");Object.defineProperty(i,"RowParser",{enumerable:!0,get:function(){return s.RowParser}});var o=e("./Scanner");Object.defineProperty(i,"Scanner",{enumerable:!0,get:function(){return o.Scanner}});var l=e("./Token");Object.defineProperty(i,"Token",{enumerable:!0,get:function(){return l.Token}});var u=e("./column");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return u.ColumnParser}}),Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return u.NonQuotedColumnParser}}),Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return u.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,n,i){var a=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=void 0;const s=a(e("lodash.isundefined")),o=a(e("lodash.isfunction")),l=a(e("lodash.uniq")),u=a(e("lodash.groupby"));i.HeaderTransformer=class{constructor(c){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=c,c.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(c.headers)?this.setHeaders(c.headers):o.default(c.headers)&&(this.headersTransform=c.headers)}transform(c,f){return this.shouldMapRow(c)?f(null,this.processRow(c)):f(null,{row:null,isValid:!0})}shouldMapRow(c){const{parserOptions:f}=this;if(!this.headersTransform&&f.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(c)){if(this.headersTransform)this.setHeaders(this.headersTransform(c));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(c)}return!1}return!0}processRow(c){if(!this.headers)return{row:c,isValid:!0};const{parserOptions:f}=this;if(!f.discardUnmappedColumns&&c.length>this.headersLength){if(!f.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${c.length}`);return{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}}return f.strictColumnHandling&&c.length<this.headersLength?{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}:{row:this.mapHeaders(c),isValid:!0}}mapHeaders(c){const f={},{headers:h,headersLength:d}=this;for(let A=0;A<d;A+=1){const p=h[A];if(!s.default(p)){const g=c[A];s.default(g)?f[p]="":f[p]=g}}return f}setHeaders(c){var f;const h=c.filter(d=>!!d);if(l.default(h).length!==h.length){const d=u.default(h),A=Object.keys(d).filter(p=>d[p].length>1);throw new Error("Duplicate headers found "+JSON.stringify(A))}this.headers=c,this.receivedHeaders=!0,this.headersLength=((f=this.headers)===null||f===void 0?void 0:f.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,n,i){var a=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowTransformerValidator=void 0;const s=a(e("lodash.isfunction")),o=e("../types");class l{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(c){return o.isSyncTransform(c)?(f,h)=>{let d=null;try{d=c(f)}catch(A){return h(A)}return h(null,d)}:c}static createValidator(c){return o.isSyncValidate(c)?(f,h)=>{h(null,{row:f,isValid:c(f)})}:(f,h)=>{c(f,(d,A,p)=>d?h(d):h(null,A?{row:f,isValid:A,reason:p}:{row:f,isValid:!1,reason:p}))}}set rowTransform(c){if(!s.default(c))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(c)}set rowValidator(c){if(!s.default(c))throw new TypeError("The validate should be a function");this._rowValidator=l.createValidator(c)}transformAndValidate(c,f){return this.callTransformer(c,(h,d)=>h?f(h):d?this.callValidator(d,(A,p)=>A?f(A):p&&!p.isValid?f(null,{row:d,isValid:!1,reason:p.reason}):f(null,{row:d,isValid:!0})):f(null,{row:null,isValid:!0}))}callTransformer(c,f){return this._rowTransform?this._rowTransform(c,f):f(null,c)}callValidator(c,f){return this._rowValidator?this._rowValidator(c,f):f(null,{row:c,isValid:!0})}}i.RowTransformerValidator=l},{"../types":169,"lodash.isfunction":446}],168:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=i.RowTransformerValidator=void 0;var a=e("./RowTransformerValidator");Object.defineProperty(i,"RowTransformerValidator",{enumerable:!0,get:function(){return a.RowTransformerValidator}});var s=e("./HeaderTransformer");Object.defineProperty(i,"HeaderTransformer",{enumerable:!0,get:function(){return s.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncValidate=i.isSyncTransform=void 0,i.isSyncTransform=a=>a.length===1,i.isSyncValidate=a=>a.length===1},{}],170:[function(e,n,i){const a=i;a.bignum=e("bn.js"),a.define=e("./asn1/api").define,a.base=e("./asn1/base"),a.constants=e("./asn1/constants"),a.decoders=e("./asn1/decoders"),a.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,n,i){const a=e("./encoders"),s=e("./decoders"),o=e("inherits");function l(u,c){this.name=u,this.body=c,this.decoders={},this.encoders={}}i.define=function(u,c){return new l(u,c)},l.prototype._createNamed=function(u){const c=this.name;function f(h){this._initNamed(h,c)}return o(f,u),f.prototype._initNamed=function(h,d){u.call(this,h,d)},new f(this)},l.prototype._getDecoder=function(u){return u=u||"der",this.decoders.hasOwnProperty(u)||(this.decoders[u]=this._createNamed(s[u])),this.decoders[u]},l.prototype.decode=function(u,c,f){return this._getDecoder(c).decode(u,f)},l.prototype._getEncoder=function(u){return u=u||"der",this.encoders.hasOwnProperty(u)||(this.encoders[u]=this._createNamed(a[u])),this.encoders[u]},l.prototype.encode=function(u,c,f){return this._getEncoder(c).encode(u,f)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,n,i){const a=e("inherits"),s=e("../base/reporter").Reporter,o=e("safer-buffer").Buffer;function l(c,f){s.call(this,f),o.isBuffer(c)?(this.base=c,this.offset=0,this.length=c.length):this.error("Input not Buffer")}function u(c,f){if(Array.isArray(c))this.length=0,this.value=c.map(function(h){return u.isEncoderBuffer(h)||(h=new u(h,f)),this.length+=h.length,h},this);else if(typeof c=="number"){if(!(0<=c&&c<=255))return f.error("non-byte EncoderBuffer value");this.value=c,this.length=1}else if(typeof c=="string")this.value=c,this.length=o.byteLength(c);else{if(!o.isBuffer(c))return f.error("Unsupported type: "+typeof c);this.value=c,this.length=c.length}}a(l,s),i.DecoderBuffer=l,l.isDecoderBuffer=function(c){return c instanceof l?!0:typeof c=="object"&&o.isBuffer(c.base)&&c.constructor.name==="DecoderBuffer"&&typeof c.offset=="number"&&typeof c.length=="number"&&typeof c.save=="function"&&typeof c.restore=="function"&&typeof c.isEmpty=="function"&&typeof c.readUInt8=="function"&&typeof c.skip=="function"&&typeof c.raw=="function"},l.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},l.prototype.restore=function(c){const f=new l(this.base);return f.offset=c.offset,f.length=this.offset,this.offset=c.offset,s.prototype.restore.call(this,c.reporter),f},l.prototype.isEmpty=function(){return this.offset===this.length},l.prototype.readUInt8=function(c){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(c||"DecoderBuffer overrun")},l.prototype.skip=function(c,f){if(!(this.offset+c<=this.length))return this.error(f||"DecoderBuffer overrun");const h=new l(this.base);return h._reporterState=this._reporterState,h.offset=this.offset,h.length=this.offset+c,this.offset+=c,h},l.prototype.raw=function(c){return this.base.slice(c?c.offset:this.offset,this.length)},i.EncoderBuffer=u,u.isEncoderBuffer=function(c){return c instanceof u?!0:typeof c=="object"&&c.constructor.name==="EncoderBuffer"&&typeof c.length=="number"&&typeof c.join=="function"},u.prototype.join=function(c,f){return c||(c=o.alloc(this.length)),f||(f=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(h){h.join(c,f),f+=h.length}):(typeof this.value=="number"?c[f]=this.value:typeof this.value=="string"?c.write(this.value,f):o.isBuffer(this.value)&&this.value.copy(c,f),f+=this.length)),c}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,n,i){const a=i;a.Reporter=e("./reporter").Reporter,a.DecoderBuffer=e("./buffer").DecoderBuffer,a.EncoderBuffer=e("./buffer").EncoderBuffer,a.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,n,i){const a=e("../base/reporter").Reporter,s=e("../base/buffer").EncoderBuffer,o=e("../base/buffer").DecoderBuffer,l=e("minimalistic-assert"),u=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(u);function f(d,A,p){const g={};this._baseState=g,g.name=p,g.enc=d,g.parent=A||null,g.children=null,g.tag=null,g.args=null,g.reverseArgs=null,g.choice=null,g.optional=!1,g.any=!1,g.obj=!1,g.use=null,g.useDecoder=null,g.key=null,g.default=null,g.explicit=null,g.implicit=null,g.contains=null,g.parent||(g.children=[],this._wrap())}n.exports=f;const h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];f.prototype.clone=function(){const d=this._baseState,A={};h.forEach(function(g){A[g]=d[g]});const p=new this.constructor(A.parent);return p._baseState=A,p},f.prototype._wrap=function(){const d=this._baseState;c.forEach(function(A){this[A]=function(){const p=new this.constructor(this);return d.children.push(p),p[A].apply(p,arguments)}},this)},f.prototype._init=function(d){const A=this._baseState;l(A.parent===null),d.call(this),A.children=A.children.filter(function(p){return p._baseState.parent===this},this),l.equal(A.children.length,1,"Root node can have only one child")},f.prototype._useArgs=function(d){const A=this._baseState,p=d.filter(function(g){return g instanceof this.constructor},this);d=d.filter(function(g){return!(g instanceof this.constructor)},this),p.length!==0&&(l(A.children===null),A.children=p,p.forEach(function(g){g._baseState.parent=this},this)),d.length!==0&&(l(A.args===null),A.args=d,A.reverseArgs=d.map(function(g){if(typeof g!="object"||g.constructor!==Object)return g;const m={};return Object.keys(g).forEach(function(v){v==(0|v)&&(v|=0);const y=g[v];m[y]=v}),m}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(d){f.prototype[d]=function(){const A=this._baseState;throw new Error(d+" not implemented for encoding: "+A.enc)}}),u.forEach(function(d){f.prototype[d]=function(){const A=this._baseState,p=Array.prototype.slice.call(arguments);return l(A.tag===null),A.tag=d,this._useArgs(p),this}}),f.prototype.use=function(d){l(d);const A=this._baseState;return l(A.use===null),A.use=d,this},f.prototype.optional=function(){return this._baseState.optional=!0,this},f.prototype.def=function(d){const A=this._baseState;return l(A.default===null),A.default=d,A.optional=!0,this},f.prototype.explicit=function(d){const A=this._baseState;return l(A.explicit===null&&A.implicit===null),A.explicit=d,this},f.prototype.implicit=function(d){const A=this._baseState;return l(A.explicit===null&&A.implicit===null),A.implicit=d,this},f.prototype.obj=function(){const d=this._baseState,A=Array.prototype.slice.call(arguments);return d.obj=!0,A.length!==0&&this._useArgs(A),this},f.prototype.key=function(d){const A=this._baseState;return l(A.key===null),A.key=d,this},f.prototype.any=function(){return this._baseState.any=!0,this},f.prototype.choice=function(d){const A=this._baseState;return l(A.choice===null),A.choice=d,this._useArgs(Object.keys(d).map(function(p){return d[p]})),this},f.prototype.contains=function(d){const A=this._baseState;return l(A.use===null),A.contains=d,this},f.prototype._decode=function(d,A){const p=this._baseState;if(p.parent===null)return d.wrapResult(p.children[0]._decode(d,A));let g,m=p.default,v=!0,y=null;if(p.key!==null&&(y=d.enterKey(p.key)),p.optional){let b=null;if(p.explicit!==null?b=p.explicit:p.implicit!==null?b=p.implicit:p.tag!==null&&(b=p.tag),b!==null||p.any){if(v=this._peekTag(d,b,p.any),d.isError(v))return v}else{const _=d.save();try{p.choice===null?this._decodeGeneric(p.tag,d,A):this._decodeChoice(d,A),v=!0}catch{v=!1}d.restore(_)}}if(p.obj&&v&&(g=d.enterObject()),v){if(p.explicit!==null){const _=this._decodeTag(d,p.explicit);if(d.isError(_))return _;d=_}const b=d.offset;if(p.use===null&&p.choice===null){let _;p.any&&(_=d.save());const T=this._decodeTag(d,p.implicit!==null?p.implicit:p.tag,p.any);if(d.isError(T))return T;p.any?m=d.raw(_):d=T}if(A&&A.track&&p.tag!==null&&A.track(d.path(),b,d.length,"tagged"),A&&A.track&&p.tag!==null&&A.track(d.path(),d.offset,d.length,"content"),p.any||(m=p.choice===null?this._decodeGeneric(p.tag,d,A):this._decodeChoice(d,A)),d.isError(m))return m;if(p.any||p.choice!==null||p.children===null||p.children.forEach(function(_){_._decode(d,A)}),p.contains&&(p.tag==="octstr"||p.tag==="bitstr")){const _=new o(m);m=this._getUse(p.contains,d._reporterState.obj)._decode(_,A)}}return p.obj&&v&&(m=d.leaveObject(g)),p.key===null||m===null&&v!==!0?y!==null&&d.exitKey(y):d.leaveKey(y,p.key,m),m},f.prototype._decodeGeneric=function(d,A,p){const g=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(A,d,g.args[0],p):/str$/.test(d)?this._decodeStr(A,d,p):d==="objid"&&g.args?this._decodeObjid(A,g.args[0],g.args[1],p):d==="objid"?this._decodeObjid(A,null,null,p):d==="gentime"||d==="utctime"?this._decodeTime(A,d,p):d==="null_"?this._decodeNull(A,p):d==="bool"?this._decodeBool(A,p):d==="objDesc"?this._decodeStr(A,d,p):d==="int"||d==="enum"?this._decodeInt(A,g.args&&g.args[0],p):g.use!==null?this._getUse(g.use,A._reporterState.obj)._decode(A,p):A.error("unknown tag: "+d)},f.prototype._getUse=function(d,A){const p=this._baseState;return p.useDecoder=this._use(d,A),l(p.useDecoder._baseState.parent===null),p.useDecoder=p.useDecoder._baseState.children[0],p.implicit!==p.useDecoder._baseState.implicit&&(p.useDecoder=p.useDecoder.clone(),p.useDecoder._baseState.implicit=p.implicit),p.useDecoder},f.prototype._decodeChoice=function(d,A){const p=this._baseState;let g=null,m=!1;return Object.keys(p.choice).some(function(v){const y=d.save(),b=p.choice[v];try{const _=b._decode(d,A);if(d.isError(_))return!1;g={type:v,value:_},m=!0}catch{return d.restore(y),!1}return!0},this),m?g:d.error("Choice not matched")},f.prototype._createEncoderBuffer=function(d){return new s(d,this.reporter)},f.prototype._encode=function(d,A,p){const g=this._baseState;if(g.default!==null&&g.default===d)return;const m=this._encodeValue(d,A,p);return m===void 0||this._skipDefault(m,A,p)?void 0:m},f.prototype._encodeValue=function(d,A,p){const g=this._baseState;if(g.parent===null)return g.children[0]._encode(d,A||new a);let m=null;if(this.reporter=A,g.optional&&d===void 0){if(g.default===null)return;d=g.default}let v=null,y=!1;if(g.any)m=this._createEncoderBuffer(d);else if(g.choice)m=this._encodeChoice(d,A);else if(g.contains)v=this._getUse(g.contains,p)._encode(d,A),y=!0;else if(g.children)v=g.children.map(function(b){if(b._baseState.tag==="null_")return b._encode(null,A,d);if(b._baseState.key===null)return A.error("Child should have a key");const _=A.enterKey(b._baseState.key);if(typeof d!="object")return A.error("Child expected, but input is not object");const T=b._encode(d[b._baseState.key],A,d);return A.leaveKey(_),T},this).filter(function(b){return b}),v=this._createEncoderBuffer(v);else if(g.tag==="seqof"||g.tag==="setof"){if(!g.args||g.args.length!==1)return A.error("Too many args for : "+g.tag);if(!Array.isArray(d))return A.error("seqof/setof, but data is not Array");const b=this.clone();b._baseState.implicit=null,v=this._createEncoderBuffer(d.map(function(_){const T=this._baseState;return this._getUse(T.args[0],d)._encode(_,A)},b))}else g.use!==null?m=this._getUse(g.use,p)._encode(d,A):(v=this._encodePrimitive(g.tag,d),y=!0);if(!g.any&&g.choice===null){const b=g.implicit!==null?g.implicit:g.tag,_=g.implicit===null?"universal":"context";b===null?g.use===null&&A.error("Tag could be omitted only for .use()"):g.use===null&&(m=this._encodeComposite(b,y,_,v))}return g.explicit!==null&&(m=this._encodeComposite(g.explicit,!1,"context",m)),m},f.prototype._encodeChoice=function(d,A){const p=this._baseState,g=p.choice[d.type];return g||l(!1,d.type+" not found in "+JSON.stringify(Object.keys(p.choice))),g._encode(d.value,A)},f.prototype._encodePrimitive=function(d,A){const p=this._baseState;if(/str$/.test(d))return this._encodeStr(A,d);if(d==="objid"&&p.args)return this._encodeObjid(A,p.reverseArgs[0],p.args[1]);if(d==="objid")return this._encodeObjid(A,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(A,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(A,p.args&&p.reverseArgs[0]);if(d==="bool")return this._encodeBool(A);if(d==="objDesc")return this._encodeStr(A,d);throw new Error("Unsupported tag: "+d)},f.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},f.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(d)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,n,i){const a=e("inherits");function s(l){this._reporterState={obj:null,path:[],options:l||{},errors:[]}}function o(l,u){this.path=l,this.rethrow(u)}i.Reporter=s,s.prototype.isError=function(l){return l instanceof o},s.prototype.save=function(){const l=this._reporterState;return{obj:l.obj,pathLen:l.path.length}},s.prototype.restore=function(l){const u=this._reporterState;u.obj=l.obj,u.path=u.path.slice(0,l.pathLen)},s.prototype.enterKey=function(l){return this._reporterState.path.push(l)},s.prototype.exitKey=function(l){const u=this._reporterState;u.path=u.path.slice(0,l-1)},s.prototype.leaveKey=function(l,u,c){const f=this._reporterState;this.exitKey(l),f.obj!==null&&(f.obj[u]=c)},s.prototype.path=function(){return this._reporterState.path.join("/")},s.prototype.enterObject=function(){const l=this._reporterState,u=l.obj;return l.obj={},u},s.prototype.leaveObject=function(l){const u=this._reporterState,c=u.obj;return u.obj=l,c},s.prototype.error=function(l){let u;const c=this._reporterState,f=l instanceof o;if(u=f?l:new o(c.path.map(function(h){return"["+JSON.stringify(h)+"]"}).join(""),l.message||l,l.stack),!c.options.partial)throw u;return f||c.errors.push(u),u},s.prototype.wrapResult=function(l){const u=this._reporterState;return u.options.partial?{result:this.isError(l)?null:l,errors:u.errors}:l},a(o,Error),o.prototype.rethrow=function(l){if(this.message=l+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(u){this.stack=u.stack}return this}},{inherits:440}],176:[function(e,n,i){function a(s){const o={};return Object.keys(s).forEach(function(l){(0|l)==l&&(l|=0);const u=s[l];o[u]=l}),o}i.tagClass={0:"universal",1:"application",2:"context",3:"private"},i.tagClassByName=a(i.tagClass),i.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},i.tagByName=a(i.tag)},{}],177:[function(e,n,i){const a=i;a._reverse=function(s){const o={};return Object.keys(s).forEach(function(l){(0|l)==l&&(l|=0);const u=s[l];o[u]=l}),o},a.der=e("./der")},{"./der":176}],178:[function(e,n,i){const a=e("inherits"),s=e("bn.js"),o=e("../base/buffer").DecoderBuffer,l=e("../base/node"),u=e("../constants/der");function c(A){this.enc="der",this.name=A.name,this.entity=A,this.tree=new f,this.tree._init(A.body)}function f(A){l.call(this,"der",A)}function h(A,p){let g=A.readUInt8(p);if(A.isError(g))return g;const m=u.tagClass[g>>6],v=(32&g)==0;if((31&g)==31){let y=g;for(g=0;(128&y)==128;){if(y=A.readUInt8(p),A.isError(y))return y;g<<=7,g|=127&y}}else g&=31;return{cls:m,primitive:v,tag:g,tagStr:u.tag[g]}}function d(A,p,g){let m=A.readUInt8(g);if(A.isError(m))return m;if(!p&&m===128)return null;if(!(128&m))return m;const v=127&m;if(v>4)return A.error("length octect is too long");m=0;for(let y=0;y<v;y++){m<<=8;const b=A.readUInt8(g);if(A.isError(b))return b;m|=b}return m}n.exports=c,c.prototype.decode=function(A,p){return o.isDecoderBuffer(A)||(A=new o(A,p)),this.tree._decode(A,p)},a(f,l),f.prototype._peekTag=function(A,p,g){if(A.isEmpty())return!1;const m=A.save(),v=h(A,'Failed to peek tag: "'+p+'"');return A.isError(v)?v:(A.restore(m),v.tag===p||v.tagStr===p||v.tagStr+"of"===p||g)},f.prototype._decodeTag=function(A,p,g){const m=h(A,'Failed to decode tag of "'+p+'"');if(A.isError(m))return m;let v=d(A,m.primitive,'Failed to get length of "'+p+'"');if(A.isError(v))return v;if(!g&&m.tag!==p&&m.tagStr!==p&&m.tagStr+"of"!==p)return A.error('Failed to match tag: "'+p+'"');if(m.primitive||v!==null)return A.skip(v,'Failed to match body of: "'+p+'"');const y=A.save(),b=this._skipUntilEnd(A,'Failed to skip indefinite length body: "'+this.tag+'"');return A.isError(b)?b:(v=A.offset-y.offset,A.restore(y),A.skip(v,'Failed to match body of: "'+p+'"'))},f.prototype._skipUntilEnd=function(A,p){for(;;){const g=h(A,p);if(A.isError(g))return g;const m=d(A,g.primitive,p);if(A.isError(m))return m;let v;if(v=g.primitive||m!==null?A.skip(m):this._skipUntilEnd(A,p),A.isError(v))return v;if(g.tagStr==="end")break}},f.prototype._decodeList=function(A,p,g,m){const v=[];for(;!A.isEmpty();){const y=this._peekTag(A,"end");if(A.isError(y))return y;const b=g.decode(A,"der",m);if(A.isError(b)&&y)break;v.push(b)}return v},f.prototype._decodeStr=function(A,p){if(p==="bitstr"){const g=A.readUInt8();return A.isError(g)?g:{unused:g,data:A.raw()}}if(p==="bmpstr"){const g=A.raw();if(g.length%2==1)return A.error("Decoding of string type: bmpstr length mismatch");let m="";for(let v=0;v<g.length/2;v++)m+=String.fromCharCode(g.readUInt16BE(2*v));return m}if(p==="numstr"){const g=A.raw().toString("ascii");return this._isNumstr(g)?g:A.error("Decoding of string type: numstr unsupported characters")}if(p==="octstr"||p==="objDesc")return A.raw();if(p==="printstr"){const g=A.raw().toString("ascii");return this._isPrintstr(g)?g:A.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(p)?A.raw().toString():A.error("Decoding of string type: "+p+" unsupported")},f.prototype._decodeObjid=function(A,p,g){let m;const v=[];let y=0,b=0;for(;!A.isEmpty();)b=A.readUInt8(),y<<=7,y|=127&b,!(128&b)&&(v.push(y),y=0);128&b&&v.push(y);const _=v[0]/40|0,T=v[0]%40;if(m=g?v:[_,T].concat(v.slice(1)),p){let I=p[m.join(" ")];I===void 0&&(I=p[m.join(".")]),I!==void 0&&(m=I)}return m},f.prototype._decodeTime=function(A,p){const g=A.raw().toString();let m,v,y,b,_,T;if(p==="gentime")m=0|g.slice(0,4),v=0|g.slice(4,6),y=0|g.slice(6,8),b=0|g.slice(8,10),_=0|g.slice(10,12),T=0|g.slice(12,14);else{if(p!=="utctime")return A.error("Decoding "+p+" time is not supported yet");m=0|g.slice(0,2),v=0|g.slice(2,4),y=0|g.slice(4,6),b=0|g.slice(6,8),_=0|g.slice(8,10),T=0|g.slice(10,12),m=m<70?2e3+m:1900+m}return Date.UTC(m,v-1,y,b,_,T,0)},f.prototype._decodeNull=function(){return null},f.prototype._decodeBool=function(A){const p=A.readUInt8();return A.isError(p)?p:p!==0},f.prototype._decodeInt=function(A,p){const g=A.raw();let m=new s(g);return p&&(m=p[m.toString(10)]||m),m},f.prototype._use=function(A,p){return typeof A=="function"&&(A=A(p)),A._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,n,i){const a=i;a.der=e("./der"),a.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,n,i){const a=e("inherits"),s=e("safer-buffer").Buffer,o=e("./der");function l(u){o.call(this,u),this.enc="pem"}a(l,o),n.exports=l,l.prototype.decode=function(u,c){const f=u.toString().split(/[\r\n]+/g),h=c.label.toUpperCase(),d=/^-----(BEGIN|END) ([^-]+)-----$/;let A=-1,p=-1;for(let v=0;v<f.length;v++){const y=f[v].match(d);if(y!==null&&y[2]===h){if(A!==-1){if(y[1]!=="END")break;p=v;break}if(y[1]!=="BEGIN")break;A=v}}if(A===-1||p===-1)throw new Error("PEM section not found for: "+h);const g=f.slice(A+1,p).join("");g.replace(/[^a-z0-9+/=]+/gi,"");const m=s.from(g,"base64");return o.prototype.decode.call(this,m,c)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,n,i){const a=e("inherits"),s=e("safer-buffer").Buffer,o=e("../base/node"),l=e("../constants/der");function u(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new c,this.tree._init(h.body)}function c(h){o.call(this,"der",h)}function f(h){return h<10?"0"+h:h}n.exports=u,u.prototype.encode=function(h,d){return this.tree._encode(h,d).join()},a(c,o),c.prototype._encodeComposite=function(h,d,A,p){const g=function(y,b,_,T){let I;if(y==="seqof"?y="seq":y==="setof"&&(y="set"),l.tagByName.hasOwnProperty(y))I=l.tagByName[y];else{if(typeof y!="number"||(0|y)!==y)return T.error("Unknown tag: "+y);I=y}return I>=31?T.error("Multi-octet tag encoding unsupported"):(b||(I|=32),I|=l.tagClassByName[_||"universal"]<<6,I)}(h,d,A,this.reporter);if(p.length<128){const y=s.alloc(2);return y[0]=g,y[1]=p.length,this._createEncoderBuffer([y,p])}let m=1;for(let y=p.length;y>=256;y>>=8)m++;const v=s.alloc(2+m);v[0]=g,v[1]=128|m;for(let y=1+m,b=p.length;b>0;y--,b>>=8)v[y]=255&b;return this._createEncoderBuffer([v,p])},c.prototype._encodeStr=function(h,d){if(d==="bitstr")return this._createEncoderBuffer([0|h.unused,h.data]);if(d==="bmpstr"){const A=s.alloc(2*h.length);for(let p=0;p<h.length;p++)A.writeUInt16BE(h.charCodeAt(p),2*p);return this._createEncoderBuffer(A)}return d==="numstr"?this._isNumstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: numstr supports only digits and space"):d==="printstr"?this._isPrintstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(d)||d==="objDesc"?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: "+d+" unsupported")},c.prototype._encodeObjid=function(h,d,A){if(typeof h=="string"){if(!d)return this.reporter.error("string objid given, but no values map found");if(!d.hasOwnProperty(h))return this.reporter.error("objid not found in values map");h=d[h].split(/[\s.]+/g);for(let v=0;v<h.length;v++)h[v]|=0}else if(Array.isArray(h)){h=h.slice();for(let v=0;v<h.length;v++)h[v]|=0}if(!Array.isArray(h))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(h));if(!A){if(h[1]>=40)return this.reporter.error("Second objid identifier OOB");h.splice(0,2,40*h[0]+h[1])}let p=0;for(let v=0;v<h.length;v++){let y=h[v];for(p++;y>=128;y>>=7)p++}const g=s.alloc(p);let m=g.length-1;for(let v=h.length-1;v>=0;v--){let y=h[v];for(g[m--]=127&y;(y>>=7)>0;)g[m--]=128|127&y}return this._createEncoderBuffer(g)},c.prototype._encodeTime=function(h,d){let A;const p=new Date(h);return d==="gentime"?A=[f(p.getUTCFullYear()),f(p.getUTCMonth()+1),f(p.getUTCDate()),f(p.getUTCHours()),f(p.getUTCMinutes()),f(p.getUTCSeconds()),"Z"].join(""):d==="utctime"?A=[f(p.getUTCFullYear()%100),f(p.getUTCMonth()+1),f(p.getUTCDate()),f(p.getUTCHours()),f(p.getUTCMinutes()),f(p.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+d+" time is not supported yet"),this._encodeStr(A,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(h,d){if(typeof h=="string"){if(!d)return this.reporter.error("String int or enum given, but no values map");if(!d.hasOwnProperty(h))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(h));h=d[h]}if(typeof h!="number"&&!s.isBuffer(h)){const g=h.toArray();!h.sign&&128&g[0]&&g.unshift(0),h=s.from(g)}if(s.isBuffer(h)){let g=h.length;h.length===0&&g++;const m=s.alloc(g);return h.copy(m),h.length===0&&(m[0]=0),this._createEncoderBuffer(m)}if(h<128)return this._createEncoderBuffer(h);if(h<256)return this._createEncoderBuffer([0,h]);let A=1;for(let g=h;g>=256;g>>=8)A++;const p=new Array(A);for(let g=p.length-1;g>=0;g--)p[g]=255&h,h>>=8;return 128&p[0]&&p.unshift(0),this._createEncoderBuffer(s.from(p))},c.prototype._encodeBool=function(h){return this._createEncoderBuffer(h?255:0)},c.prototype._use=function(h,d){return typeof h=="function"&&(h=h(d)),h._getEncoder("der").tree},c.prototype._skipDefault=function(h,d,A){const p=this._baseState;let g;if(p.default===null)return!1;const m=h.join();if(p.defaultBuffer===void 0&&(p.defaultBuffer=this._encodeValue(p.default,d,A).join()),m.length!==p.defaultBuffer.length)return!1;for(g=0;g<m.length;g++)if(m[g]!==p.defaultBuffer[g])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,n,i){const a=i;a.der=e("./der"),a.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,n,i){const a=e("inherits"),s=e("./der");function o(l){s.call(this,l),this.enc="pem"}a(o,s),n.exports=o,o.prototype.encode=function(l,u){const c=s.prototype.encode.call(this,l).toString("base64"),f=["-----BEGIN "+u.label+"-----"];for(let h=0;h<c.length;h+=64)f.push(c.slice(h,h+64));return f.push("-----END "+u.label+"-----"),f.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,n,i){(function(a,s){function o(E,L){if(!E)throw new Error(L||"Assertion failed")}function l(E,L){E.super_=L;var k=function(){};k.prototype=L.prototype,E.prototype=new k,E.prototype.constructor=E}function u(E,L,k){if(u.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&(L!=="le"&&L!=="be"||(k=L,L=10),this._init(E||0,L||10,k||"be"))}var c;typeof a=="object"?a.exports=u:(void 0).BN=u,u.BN=u,u.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function f(E,L){var k=E.charCodeAt(L);return k>=65&&k<=70?k-55:k>=97&&k<=102?k-87:k-48&15}function h(E,L,k){var w=f(E,k);return k-1>=L&&(w|=f(E,k-1)<<4),w}function d(E,L,k,w){for(var C=0,S=Math.min(E.length,k),B=L;B<S;B++){var O=E.charCodeAt(B)-48;C*=w,C+=O>=49?O-49+10:O>=17?O-17+10:O}return C}u.isBN=function(E){return E instanceof u||E!==null&&typeof E=="object"&&E.constructor.wordSize===u.wordSize&&Array.isArray(E.words)},u.max=function(E,L){return E.cmp(L)>0?E:L},u.min=function(E,L){return E.cmp(L)<0?E:L},u.prototype._init=function(E,L,k){if(typeof E=="number")return this._initNumber(E,L,k);if(typeof E=="object")return this._initArray(E,L,k);L==="hex"&&(L=16),o(L===(0|L)&&L>=2&&L<=36);var w=0;(E=E.toString().replace(/\s+/g,""))[0]==="-"&&(w++,this.negative=1),w<E.length&&(L===16?this._parseHex(E,w,k):(this._parseBase(E,L,w),k==="le"&&this._initArray(this.toArray(),L,k)))},u.prototype._initNumber=function(E,L,k){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[67108863&E],this.length=1):E<4503599627370496?(this.words=[67108863&E,E/67108864&67108863],this.length=2):(o(E<9007199254740992),this.words=[67108863&E,E/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),L,k)},u.prototype._initArray=function(E,L,k){if(o(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var C,S,B=0;if(k==="be")for(w=E.length-1,C=0;w>=0;w-=3)S=E[w]|E[w-1]<<8|E[w-2]<<16,this.words[C]|=S<<B&67108863,this.words[C+1]=S>>>26-B&67108863,(B+=24)>=26&&(B-=26,C++);else if(k==="le")for(w=0,C=0;w<E.length;w+=3)S=E[w]|E[w+1]<<8|E[w+2]<<16,this.words[C]|=S<<B&67108863,this.words[C+1]=S>>>26-B&67108863,(B+=24)>=26&&(B-=26,C++);return this.strip()},u.prototype._parseHex=function(E,L,k){this.length=Math.ceil((E.length-L)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var C,S=0,B=0;if(k==="be")for(w=E.length-1;w>=L;w-=2)C=h(E,L,w)<<S,this.words[B]|=67108863&C,S>=18?(S-=18,B+=1,this.words[B]|=C>>>26):S+=8;else for(w=(E.length-L)%2==0?L+1:L;w<E.length;w+=2)C=h(E,L,w)<<S,this.words[B]|=67108863&C,S>=18?(S-=18,B+=1,this.words[B]|=C>>>26):S+=8;this.strip()},u.prototype._parseBase=function(E,L,k){this.words=[0],this.length=1;for(var w=0,C=1;C<=67108863;C*=L)w++;w--,C=C/L|0;for(var S=E.length-k,B=S%w,O=Math.min(S,S-B)+k,V=0,M=k;M<O;M+=w)V=d(E,M,M+w,L),this.imuln(C),this.words[0]+V<67108864?this.words[0]+=V:this._iaddn(V);if(B!==0){var U=1;for(V=d(E,M,E.length,L),M=0;M<B;M++)U*=L;this.imuln(U),this.words[0]+V<67108864?this.words[0]+=V:this._iaddn(V)}this.strip()},u.prototype.copy=function(E){E.words=new Array(this.length);for(var L=0;L<this.length;L++)E.words[L]=this.words[L];E.length=this.length,E.negative=this.negative,E.red=this.red},u.prototype.clone=function(){var E=new u(null);return this.copy(E),E},u.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(E,L,k){k.negative=L.negative^E.negative;var w=E.length+L.length|0;k.length=w,w=w-1|0;var C=0|E.words[0],S=0|L.words[0],B=C*S,O=67108863&B,V=B/67108864|0;k.words[0]=O;for(var M=1;M<w;M++){for(var U=V>>>26,Q=67108863&V,W=Math.min(M,L.length-1),j=Math.max(0,M-E.length+1);j<=W;j++){var X=M-j|0;U+=(B=(C=0|E.words[X])*(S=0|L.words[j])+Q)/67108864|0,Q=67108863&B}k.words[M]=0|Q,V=0|U}return V!==0?k.words[M]=0|V:k.length--,k.strip()}u.prototype.toString=function(E,L){var k;if(L=0|L||1,(E=E||10)===16||E==="hex"){k="";for(var w=0,C=0,S=0;S<this.length;S++){var B=this.words[S],O=(16777215&(B<<w|C)).toString(16);k=(C=B>>>24-w&16777215)!==0||S!==this.length-1?A[6-O.length]+O+k:O+k,(w+=2)>=26&&(w-=26,S--)}for(C!==0&&(k=C.toString(16)+k);k.length%L!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(E===(0|E)&&E>=2&&E<=36){var V=p[E],M=g[E];k="";var U=this.clone();for(U.negative=0;!U.isZero();){var Q=U.modn(M).toString(E);k=(U=U.idivn(M)).isZero()?Q+k:A[V-Q.length]+Q+k}for(this.isZero()&&(k="0"+k);k.length%L!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}o(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=67108864*this.words[1]:this.length===3&&this.words[2]===1?E+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(E,L){return o(c!==void 0),this.toArrayLike(c,E,L)},u.prototype.toArray=function(E,L){return this.toArrayLike(Array,E,L)},u.prototype.toArrayLike=function(E,L,k){var w=this.byteLength(),C=k||Math.max(1,w);o(w<=C,"byte array longer than desired length"),o(C>0,"Requested array length <= 0"),this.strip();var S,B,O=L==="le",V=new E(C),M=this.clone();if(O){for(B=0;!M.isZero();B++)S=M.andln(255),M.iushrn(8),V[B]=S;for(;B<C;B++)V[B]=0}else{for(B=0;B<C-w;B++)V[B]=0;for(B=0;!M.isZero();B++)S=M.andln(255),M.iushrn(8),V[C-B-1]=S}return V},Math.clz32?u.prototype._countBits=function(E){return 32-Math.clz32(E)}:u.prototype._countBits=function(E){var L=E,k=0;return L>=4096&&(k+=13,L>>>=13),L>=64&&(k+=7,L>>>=7),L>=8&&(k+=4,L>>>=4),L>=2&&(k+=2,L>>>=2),k+L},u.prototype._zeroBits=function(E){if(E===0)return 26;var L=E,k=0;return!(8191&L)&&(k+=13,L>>>=13),!(127&L)&&(k+=7,L>>>=7),!(15&L)&&(k+=4,L>>>=4),!(3&L)&&(k+=2,L>>>=2),!(1&L)&&k++,k},u.prototype.bitLength=function(){var E=this.words[this.length-1],L=this._countBits(E);return 26*(this.length-1)+L},u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,L=0;L<this.length;L++){var k=this._zeroBits(this.words[L]);if(E+=k,k!==26)break}return E},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},u.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var L=0;L<E.length;L++)this.words[L]=this.words[L]|E.words[L];return this.strip()},u.prototype.ior=function(E){return o((this.negative|E.negative)==0),this.iuor(E)},u.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},u.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},u.prototype.iuand=function(E){var L;L=this.length>E.length?E:this;for(var k=0;k<L.length;k++)this.words[k]=this.words[k]&E.words[k];return this.length=L.length,this.strip()},u.prototype.iand=function(E){return o((this.negative|E.negative)==0),this.iuand(E)},u.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},u.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},u.prototype.iuxor=function(E){var L,k;this.length>E.length?(L=this,k=E):(L=E,k=this);for(var w=0;w<k.length;w++)this.words[w]=L.words[w]^k.words[w];if(this!==L)for(;w<L.length;w++)this.words[w]=L.words[w];return this.length=L.length,this.strip()},u.prototype.ixor=function(E){return o((this.negative|E.negative)==0),this.iuxor(E)},u.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},u.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},u.prototype.inotn=function(E){o(typeof E=="number"&&E>=0);var L=0|Math.ceil(E/26),k=E%26;this._expand(L),k>0&&L--;for(var w=0;w<L;w++)this.words[w]=67108863&~this.words[w];return k>0&&(this.words[w]=~this.words[w]&67108863>>26-k),this.strip()},u.prototype.notn=function(E){return this.clone().inotn(E)},u.prototype.setn=function(E,L){o(typeof E=="number"&&E>=0);var k=E/26|0,w=E%26;return this._expand(k+1),this.words[k]=L?this.words[k]|1<<w:this.words[k]&~(1<<w),this.strip()},u.prototype.iadd=function(E){var L,k,w;if(this.negative!==0&&E.negative===0)return this.negative=0,L=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,L=this.isub(E),E.negative=1,L._normSign();this.length>E.length?(k=this,w=E):(k=E,w=this);for(var C=0,S=0;S<w.length;S++)L=(0|k.words[S])+(0|w.words[S])+C,this.words[S]=67108863&L,C=L>>>26;for(;C!==0&&S<k.length;S++)L=(0|k.words[S])+C,this.words[S]=67108863&L,C=L>>>26;if(this.length=k.length,C!==0)this.words[this.length]=C,this.length++;else if(k!==this)for(;S<k.length;S++)this.words[S]=k.words[S];return this},u.prototype.add=function(E){var L;return E.negative!==0&&this.negative===0?(E.negative=0,L=this.sub(E),E.negative^=1,L):E.negative===0&&this.negative!==0?(this.negative=0,L=E.sub(this),this.negative=1,L):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},u.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var L=this.iadd(E);return E.negative=1,L._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var k,w,C=this.cmp(E);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;C>0?(k=this,w=E):(k=E,w=this);for(var S=0,B=0;B<w.length;B++)S=(L=(0|k.words[B])-(0|w.words[B])+S)>>26,this.words[B]=67108863&L;for(;S!==0&&B<k.length;B++)S=(L=(0|k.words[B])+S)>>26,this.words[B]=67108863&L;if(S===0&&B<k.length&&k!==this)for(;B<k.length;B++)this.words[B]=k.words[B];return this.length=Math.max(this.length,B),k!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(E){return this.clone().isub(E)};var v=function(E,L,k){var w,C,S,B=E.words,O=L.words,V=k.words,M=0,U=0|B[0],Q=8191&U,W=U>>>13,j=0|B[1],X=8191&j,z=j>>>13,H=0|B[2],K=8191&H,Z=H>>>13,ie=0|B[3],ee=8191&ie,ne=ie>>>13,te=0|B[4],le=8191&te,re=te>>>13,de=0|B[5],ue=8191&de,Fe=de>>>13,Se=0|B[6],De=8191&Se,ge=Se>>>13,Be=0|B[7],Pe=8191&Be,st=Be>>>13,gt=0|B[8],we=8191&gt,Oe=gt>>>13,at=0|B[9],Ve=8191&at,Qe=at>>>13,Ke=0|O[0],Ue=8191&Ke,We=Ke>>>13,yt=0|O[1],Ne=8191&yt,et=yt>>>13,ft=0|O[2],lt=8191&ft,St=ft>>>13,ut=0|O[3],vt=8191&ut,Lt=ut>>>13,zt=0|O[4],_t=8191&zt,ar=zt>>>13,Tr=0|O[5],It=8191&Tr,Ir=Tr>>>13,_r=0|O[6],tr=8191&_r,je=_r>>>13,Ye=0|O[7],ht=8191&Ye,oe=Ye>>>13,ye=0|O[8],he=8191&ye,me=ye>>>13,xe=0|O[9],be=8191&xe,He=xe>>>13;k.negative=E.negative^L.negative,k.length=19;var Ze=(M+(w=Math.imul(Q,Ue))|0)+((8191&(C=(C=Math.imul(Q,We))+Math.imul(W,Ue)|0))<<13)|0;M=((S=Math.imul(W,We))+(C>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,w=Math.imul(X,Ue),C=(C=Math.imul(X,We))+Math.imul(z,Ue)|0,S=Math.imul(z,We);var $e=(M+(w=w+Math.imul(Q,Ne)|0)|0)+((8191&(C=(C=C+Math.imul(Q,et)|0)+Math.imul(W,Ne)|0))<<13)|0;M=((S=S+Math.imul(W,et)|0)+(C>>>13)|0)+($e>>>26)|0,$e&=67108863,w=Math.imul(K,Ue),C=(C=Math.imul(K,We))+Math.imul(Z,Ue)|0,S=Math.imul(Z,We),w=w+Math.imul(X,Ne)|0,C=(C=C+Math.imul(X,et)|0)+Math.imul(z,Ne)|0,S=S+Math.imul(z,et)|0;var nt=(M+(w=w+Math.imul(Q,lt)|0)|0)+((8191&(C=(C=C+Math.imul(Q,St)|0)+Math.imul(W,lt)|0))<<13)|0;M=((S=S+Math.imul(W,St)|0)+(C>>>13)|0)+(nt>>>26)|0,nt&=67108863,w=Math.imul(ee,Ue),C=(C=Math.imul(ee,We))+Math.imul(ne,Ue)|0,S=Math.imul(ne,We),w=w+Math.imul(K,Ne)|0,C=(C=C+Math.imul(K,et)|0)+Math.imul(Z,Ne)|0,S=S+Math.imul(Z,et)|0,w=w+Math.imul(X,lt)|0,C=(C=C+Math.imul(X,St)|0)+Math.imul(z,lt)|0,S=S+Math.imul(z,St)|0;var Ee=(M+(w=w+Math.imul(Q,vt)|0)|0)+((8191&(C=(C=C+Math.imul(Q,Lt)|0)+Math.imul(W,vt)|0))<<13)|0;M=((S=S+Math.imul(W,Lt)|0)+(C>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,w=Math.imul(le,Ue),C=(C=Math.imul(le,We))+Math.imul(re,Ue)|0,S=Math.imul(re,We),w=w+Math.imul(ee,Ne)|0,C=(C=C+Math.imul(ee,et)|0)+Math.imul(ne,Ne)|0,S=S+Math.imul(ne,et)|0,w=w+Math.imul(K,lt)|0,C=(C=C+Math.imul(K,St)|0)+Math.imul(Z,lt)|0,S=S+Math.imul(Z,St)|0,w=w+Math.imul(X,vt)|0,C=(C=C+Math.imul(X,Lt)|0)+Math.imul(z,vt)|0,S=S+Math.imul(z,Lt)|0;var rt=(M+(w=w+Math.imul(Q,_t)|0)|0)+((8191&(C=(C=C+Math.imul(Q,ar)|0)+Math.imul(W,_t)|0))<<13)|0;M=((S=S+Math.imul(W,ar)|0)+(C>>>13)|0)+(rt>>>26)|0,rt&=67108863,w=Math.imul(ue,Ue),C=(C=Math.imul(ue,We))+Math.imul(Fe,Ue)|0,S=Math.imul(Fe,We),w=w+Math.imul(le,Ne)|0,C=(C=C+Math.imul(le,et)|0)+Math.imul(re,Ne)|0,S=S+Math.imul(re,et)|0,w=w+Math.imul(ee,lt)|0,C=(C=C+Math.imul(ee,St)|0)+Math.imul(ne,lt)|0,S=S+Math.imul(ne,St)|0,w=w+Math.imul(K,vt)|0,C=(C=C+Math.imul(K,Lt)|0)+Math.imul(Z,vt)|0,S=S+Math.imul(Z,Lt)|0,w=w+Math.imul(X,_t)|0,C=(C=C+Math.imul(X,ar)|0)+Math.imul(z,_t)|0,S=S+Math.imul(z,ar)|0;var Bt=(M+(w=w+Math.imul(Q,It)|0)|0)+((8191&(C=(C=C+Math.imul(Q,Ir)|0)+Math.imul(W,It)|0))<<13)|0;M=((S=S+Math.imul(W,Ir)|0)+(C>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,w=Math.imul(De,Ue),C=(C=Math.imul(De,We))+Math.imul(ge,Ue)|0,S=Math.imul(ge,We),w=w+Math.imul(ue,Ne)|0,C=(C=C+Math.imul(ue,et)|0)+Math.imul(Fe,Ne)|0,S=S+Math.imul(Fe,et)|0,w=w+Math.imul(le,lt)|0,C=(C=C+Math.imul(le,St)|0)+Math.imul(re,lt)|0,S=S+Math.imul(re,St)|0,w=w+Math.imul(ee,vt)|0,C=(C=C+Math.imul(ee,Lt)|0)+Math.imul(ne,vt)|0,S=S+Math.imul(ne,Lt)|0,w=w+Math.imul(K,_t)|0,C=(C=C+Math.imul(K,ar)|0)+Math.imul(Z,_t)|0,S=S+Math.imul(Z,ar)|0,w=w+Math.imul(X,It)|0,C=(C=C+Math.imul(X,Ir)|0)+Math.imul(z,It)|0,S=S+Math.imul(z,Ir)|0;var jt=(M+(w=w+Math.imul(Q,tr)|0)|0)+((8191&(C=(C=C+Math.imul(Q,je)|0)+Math.imul(W,tr)|0))<<13)|0;M=((S=S+Math.imul(W,je)|0)+(C>>>13)|0)+(jt>>>26)|0,jt&=67108863,w=Math.imul(Pe,Ue),C=(C=Math.imul(Pe,We))+Math.imul(st,Ue)|0,S=Math.imul(st,We),w=w+Math.imul(De,Ne)|0,C=(C=C+Math.imul(De,et)|0)+Math.imul(ge,Ne)|0,S=S+Math.imul(ge,et)|0,w=w+Math.imul(ue,lt)|0,C=(C=C+Math.imul(ue,St)|0)+Math.imul(Fe,lt)|0,S=S+Math.imul(Fe,St)|0,w=w+Math.imul(le,vt)|0,C=(C=C+Math.imul(le,Lt)|0)+Math.imul(re,vt)|0,S=S+Math.imul(re,Lt)|0,w=w+Math.imul(ee,_t)|0,C=(C=C+Math.imul(ee,ar)|0)+Math.imul(ne,_t)|0,S=S+Math.imul(ne,ar)|0,w=w+Math.imul(K,It)|0,C=(C=C+Math.imul(K,Ir)|0)+Math.imul(Z,It)|0,S=S+Math.imul(Z,Ir)|0,w=w+Math.imul(X,tr)|0,C=(C=C+Math.imul(X,je)|0)+Math.imul(z,tr)|0,S=S+Math.imul(z,je)|0;var Ae=(M+(w=w+Math.imul(Q,ht)|0)|0)+((8191&(C=(C=C+Math.imul(Q,oe)|0)+Math.imul(W,ht)|0))<<13)|0;M=((S=S+Math.imul(W,oe)|0)+(C>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,w=Math.imul(we,Ue),C=(C=Math.imul(we,We))+Math.imul(Oe,Ue)|0,S=Math.imul(Oe,We),w=w+Math.imul(Pe,Ne)|0,C=(C=C+Math.imul(Pe,et)|0)+Math.imul(st,Ne)|0,S=S+Math.imul(st,et)|0,w=w+Math.imul(De,lt)|0,C=(C=C+Math.imul(De,St)|0)+Math.imul(ge,lt)|0,S=S+Math.imul(ge,St)|0,w=w+Math.imul(ue,vt)|0,C=(C=C+Math.imul(ue,Lt)|0)+Math.imul(Fe,vt)|0,S=S+Math.imul(Fe,Lt)|0,w=w+Math.imul(le,_t)|0,C=(C=C+Math.imul(le,ar)|0)+Math.imul(re,_t)|0,S=S+Math.imul(re,ar)|0,w=w+Math.imul(ee,It)|0,C=(C=C+Math.imul(ee,Ir)|0)+Math.imul(ne,It)|0,S=S+Math.imul(ne,Ir)|0,w=w+Math.imul(K,tr)|0,C=(C=C+Math.imul(K,je)|0)+Math.imul(Z,tr)|0,S=S+Math.imul(Z,je)|0,w=w+Math.imul(X,ht)|0,C=(C=C+Math.imul(X,oe)|0)+Math.imul(z,ht)|0,S=S+Math.imul(z,oe)|0;var Re=(M+(w=w+Math.imul(Q,he)|0)|0)+((8191&(C=(C=C+Math.imul(Q,me)|0)+Math.imul(W,he)|0))<<13)|0;M=((S=S+Math.imul(W,me)|0)+(C>>>13)|0)+(Re>>>26)|0,Re&=67108863,w=Math.imul(Ve,Ue),C=(C=Math.imul(Ve,We))+Math.imul(Qe,Ue)|0,S=Math.imul(Qe,We),w=w+Math.imul(we,Ne)|0,C=(C=C+Math.imul(we,et)|0)+Math.imul(Oe,Ne)|0,S=S+Math.imul(Oe,et)|0,w=w+Math.imul(Pe,lt)|0,C=(C=C+Math.imul(Pe,St)|0)+Math.imul(st,lt)|0,S=S+Math.imul(st,St)|0,w=w+Math.imul(De,vt)|0,C=(C=C+Math.imul(De,Lt)|0)+Math.imul(ge,vt)|0,S=S+Math.imul(ge,Lt)|0,w=w+Math.imul(ue,_t)|0,C=(C=C+Math.imul(ue,ar)|0)+Math.imul(Fe,_t)|0,S=S+Math.imul(Fe,ar)|0,w=w+Math.imul(le,It)|0,C=(C=C+Math.imul(le,Ir)|0)+Math.imul(re,It)|0,S=S+Math.imul(re,Ir)|0,w=w+Math.imul(ee,tr)|0,C=(C=C+Math.imul(ee,je)|0)+Math.imul(ne,tr)|0,S=S+Math.imul(ne,je)|0,w=w+Math.imul(K,ht)|0,C=(C=C+Math.imul(K,oe)|0)+Math.imul(Z,ht)|0,S=S+Math.imul(Z,oe)|0,w=w+Math.imul(X,he)|0,C=(C=C+Math.imul(X,me)|0)+Math.imul(z,he)|0,S=S+Math.imul(z,me)|0;var it=(M+(w=w+Math.imul(Q,be)|0)|0)+((8191&(C=(C=C+Math.imul(Q,He)|0)+Math.imul(W,be)|0))<<13)|0;M=((S=S+Math.imul(W,He)|0)+(C>>>13)|0)+(it>>>26)|0,it&=67108863,w=Math.imul(Ve,Ne),C=(C=Math.imul(Ve,et))+Math.imul(Qe,Ne)|0,S=Math.imul(Qe,et),w=w+Math.imul(we,lt)|0,C=(C=C+Math.imul(we,St)|0)+Math.imul(Oe,lt)|0,S=S+Math.imul(Oe,St)|0,w=w+Math.imul(Pe,vt)|0,C=(C=C+Math.imul(Pe,Lt)|0)+Math.imul(st,vt)|0,S=S+Math.imul(st,Lt)|0,w=w+Math.imul(De,_t)|0,C=(C=C+Math.imul(De,ar)|0)+Math.imul(ge,_t)|0,S=S+Math.imul(ge,ar)|0,w=w+Math.imul(ue,It)|0,C=(C=C+Math.imul(ue,Ir)|0)+Math.imul(Fe,It)|0,S=S+Math.imul(Fe,Ir)|0,w=w+Math.imul(le,tr)|0,C=(C=C+Math.imul(le,je)|0)+Math.imul(re,tr)|0,S=S+Math.imul(re,je)|0,w=w+Math.imul(ee,ht)|0,C=(C=C+Math.imul(ee,oe)|0)+Math.imul(ne,ht)|0,S=S+Math.imul(ne,oe)|0,w=w+Math.imul(K,he)|0,C=(C=C+Math.imul(K,me)|0)+Math.imul(Z,he)|0,S=S+Math.imul(Z,me)|0;var bt=(M+(w=w+Math.imul(X,be)|0)|0)+((8191&(C=(C=C+Math.imul(X,He)|0)+Math.imul(z,be)|0))<<13)|0;M=((S=S+Math.imul(z,He)|0)+(C>>>13)|0)+(bt>>>26)|0,bt&=67108863,w=Math.imul(Ve,lt),C=(C=Math.imul(Ve,St))+Math.imul(Qe,lt)|0,S=Math.imul(Qe,St),w=w+Math.imul(we,vt)|0,C=(C=C+Math.imul(we,Lt)|0)+Math.imul(Oe,vt)|0,S=S+Math.imul(Oe,Lt)|0,w=w+Math.imul(Pe,_t)|0,C=(C=C+Math.imul(Pe,ar)|0)+Math.imul(st,_t)|0,S=S+Math.imul(st,ar)|0,w=w+Math.imul(De,It)|0,C=(C=C+Math.imul(De,Ir)|0)+Math.imul(ge,It)|0,S=S+Math.imul(ge,Ir)|0,w=w+Math.imul(ue,tr)|0,C=(C=C+Math.imul(ue,je)|0)+Math.imul(Fe,tr)|0,S=S+Math.imul(Fe,je)|0,w=w+Math.imul(le,ht)|0,C=(C=C+Math.imul(le,oe)|0)+Math.imul(re,ht)|0,S=S+Math.imul(re,oe)|0,w=w+Math.imul(ee,he)|0,C=(C=C+Math.imul(ee,me)|0)+Math.imul(ne,he)|0,S=S+Math.imul(ne,me)|0;var Pt=(M+(w=w+Math.imul(K,be)|0)|0)+((8191&(C=(C=C+Math.imul(K,He)|0)+Math.imul(Z,be)|0))<<13)|0;M=((S=S+Math.imul(Z,He)|0)+(C>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,w=Math.imul(Ve,vt),C=(C=Math.imul(Ve,Lt))+Math.imul(Qe,vt)|0,S=Math.imul(Qe,Lt),w=w+Math.imul(we,_t)|0,C=(C=C+Math.imul(we,ar)|0)+Math.imul(Oe,_t)|0,S=S+Math.imul(Oe,ar)|0,w=w+Math.imul(Pe,It)|0,C=(C=C+Math.imul(Pe,Ir)|0)+Math.imul(st,It)|0,S=S+Math.imul(st,Ir)|0,w=w+Math.imul(De,tr)|0,C=(C=C+Math.imul(De,je)|0)+Math.imul(ge,tr)|0,S=S+Math.imul(ge,je)|0,w=w+Math.imul(ue,ht)|0,C=(C=C+Math.imul(ue,oe)|0)+Math.imul(Fe,ht)|0,S=S+Math.imul(Fe,oe)|0,w=w+Math.imul(le,he)|0,C=(C=C+Math.imul(le,me)|0)+Math.imul(re,he)|0,S=S+Math.imul(re,me)|0;var Mt=(M+(w=w+Math.imul(ee,be)|0)|0)+((8191&(C=(C=C+Math.imul(ee,He)|0)+Math.imul(ne,be)|0))<<13)|0;M=((S=S+Math.imul(ne,He)|0)+(C>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,w=Math.imul(Ve,_t),C=(C=Math.imul(Ve,ar))+Math.imul(Qe,_t)|0,S=Math.imul(Qe,ar),w=w+Math.imul(we,It)|0,C=(C=C+Math.imul(we,Ir)|0)+Math.imul(Oe,It)|0,S=S+Math.imul(Oe,Ir)|0,w=w+Math.imul(Pe,tr)|0,C=(C=C+Math.imul(Pe,je)|0)+Math.imul(st,tr)|0,S=S+Math.imul(st,je)|0,w=w+Math.imul(De,ht)|0,C=(C=C+Math.imul(De,oe)|0)+Math.imul(ge,ht)|0,S=S+Math.imul(ge,oe)|0,w=w+Math.imul(ue,he)|0,C=(C=C+Math.imul(ue,me)|0)+Math.imul(Fe,he)|0,S=S+Math.imul(Fe,me)|0;var Gt=(M+(w=w+Math.imul(le,be)|0)|0)+((8191&(C=(C=C+Math.imul(le,He)|0)+Math.imul(re,be)|0))<<13)|0;M=((S=S+Math.imul(re,He)|0)+(C>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,w=Math.imul(Ve,It),C=(C=Math.imul(Ve,Ir))+Math.imul(Qe,It)|0,S=Math.imul(Qe,Ir),w=w+Math.imul(we,tr)|0,C=(C=C+Math.imul(we,je)|0)+Math.imul(Oe,tr)|0,S=S+Math.imul(Oe,je)|0,w=w+Math.imul(Pe,ht)|0,C=(C=C+Math.imul(Pe,oe)|0)+Math.imul(st,ht)|0,S=S+Math.imul(st,oe)|0,w=w+Math.imul(De,he)|0,C=(C=C+Math.imul(De,me)|0)+Math.imul(ge,he)|0,S=S+Math.imul(ge,me)|0;var jr=(M+(w=w+Math.imul(ue,be)|0)|0)+((8191&(C=(C=C+Math.imul(ue,He)|0)+Math.imul(Fe,be)|0))<<13)|0;M=((S=S+Math.imul(Fe,He)|0)+(C>>>13)|0)+(jr>>>26)|0,jr&=67108863,w=Math.imul(Ve,tr),C=(C=Math.imul(Ve,je))+Math.imul(Qe,tr)|0,S=Math.imul(Qe,je),w=w+Math.imul(we,ht)|0,C=(C=C+Math.imul(we,oe)|0)+Math.imul(Oe,ht)|0,S=S+Math.imul(Oe,oe)|0,w=w+Math.imul(Pe,he)|0,C=(C=C+Math.imul(Pe,me)|0)+Math.imul(st,he)|0,S=S+Math.imul(st,me)|0;var Pr=(M+(w=w+Math.imul(De,be)|0)|0)+((8191&(C=(C=C+Math.imul(De,He)|0)+Math.imul(ge,be)|0))<<13)|0;M=((S=S+Math.imul(ge,He)|0)+(C>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,w=Math.imul(Ve,ht),C=(C=Math.imul(Ve,oe))+Math.imul(Qe,ht)|0,S=Math.imul(Qe,oe),w=w+Math.imul(we,he)|0,C=(C=C+Math.imul(we,me)|0)+Math.imul(Oe,he)|0,S=S+Math.imul(Oe,me)|0;var Rr=(M+(w=w+Math.imul(Pe,be)|0)|0)+((8191&(C=(C=C+Math.imul(Pe,He)|0)+Math.imul(st,be)|0))<<13)|0;M=((S=S+Math.imul(st,He)|0)+(C>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,w=Math.imul(Ve,he),C=(C=Math.imul(Ve,me))+Math.imul(Qe,he)|0,S=Math.imul(Qe,me);var vr=(M+(w=w+Math.imul(we,be)|0)|0)+((8191&(C=(C=C+Math.imul(we,He)|0)+Math.imul(Oe,be)|0))<<13)|0;M=((S=S+Math.imul(Oe,He)|0)+(C>>>13)|0)+(vr>>>26)|0,vr&=67108863;var Wr=(M+(w=Math.imul(Ve,be))|0)+((8191&(C=(C=Math.imul(Ve,He))+Math.imul(Qe,be)|0))<<13)|0;return M=((S=Math.imul(Qe,He))+(C>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,V[0]=Ze,V[1]=$e,V[2]=nt,V[3]=Ee,V[4]=rt,V[5]=Bt,V[6]=jt,V[7]=Ae,V[8]=Re,V[9]=it,V[10]=bt,V[11]=Pt,V[12]=Mt,V[13]=Gt,V[14]=jr,V[15]=Pr,V[16]=Rr,V[17]=vr,V[18]=Wr,M!==0&&(V[19]=M,k.length++),k};function y(E,L,k){return new b().mulp(E,L,k)}function b(E,L){this.x=E,this.y=L}Math.imul||(v=m),u.prototype.mulTo=function(E,L){var k=this.length+E.length;return this.length===10&&E.length===10?v(this,E,L):k<63?m(this,E,L):k<1024?function(w,C,S){S.negative=C.negative^w.negative,S.length=w.length+C.length;for(var B=0,O=0,V=0;V<S.length-1;V++){var M=O;O=0;for(var U=67108863&B,Q=Math.min(V,C.length-1),W=Math.max(0,V-w.length+1);W<=Q;W++){var j=V-W,X=(0|w.words[j])*(0|C.words[W]),z=67108863&X;U=67108863&(z=z+U|0),O+=(M=(M=M+(X/67108864|0)|0)+(z>>>26)|0)>>>26,M&=67108863}S.words[V]=U,B=M,M=O}return B!==0?S.words[V]=B:S.length--,S.strip()}(this,E,L):y(this,E,L)},b.prototype.makeRBT=function(E){for(var L=new Array(E),k=u.prototype._countBits(E)-1,w=0;w<E;w++)L[w]=this.revBin(w,k,E);return L},b.prototype.revBin=function(E,L,k){if(E===0||E===k-1)return E;for(var w=0,C=0;C<L;C++)w|=(1&E)<<L-C-1,E>>=1;return w},b.prototype.permute=function(E,L,k,w,C,S){for(var B=0;B<S;B++)w[B]=L[E[B]],C[B]=k[E[B]]},b.prototype.transform=function(E,L,k,w,C,S){this.permute(S,E,L,k,w,C);for(var B=1;B<C;B<<=1)for(var O=B<<1,V=Math.cos(2*Math.PI/O),M=Math.sin(2*Math.PI/O),U=0;U<C;U+=O)for(var Q=V,W=M,j=0;j<B;j++){var X=k[U+j],z=w[U+j],H=k[U+j+B],K=w[U+j+B],Z=Q*H-W*K;K=Q*K+W*H,H=Z,k[U+j]=X+H,w[U+j]=z+K,k[U+j+B]=X-H,w[U+j+B]=z-K,j!==O&&(Z=V*Q-M*W,W=V*W+M*Q,Q=Z)}},b.prototype.guessLen13b=function(E,L){var k=1|Math.max(L,E),w=1&k,C=0;for(k=k/2|0;k;k>>>=1)C++;return 1<<C+1+w},b.prototype.conjugate=function(E,L,k){if(!(k<=1))for(var w=0;w<k/2;w++){var C=E[w];E[w]=E[k-w-1],E[k-w-1]=C,C=L[w],L[w]=-L[k-w-1],L[k-w-1]=-C}},b.prototype.normalize13b=function(E,L){for(var k=0,w=0;w<L/2;w++){var C=8192*Math.round(E[2*w+1]/L)+Math.round(E[2*w]/L)+k;E[w]=67108863&C,k=C<67108864?0:C/67108864|0}return E},b.prototype.convert13b=function(E,L,k,w){for(var C=0,S=0;S<L;S++)C+=0|E[S],k[2*S]=8191&C,C>>>=13,k[2*S+1]=8191&C,C>>>=13;for(S=2*L;S<w;++S)k[S]=0;o(C===0),o((-8192&C)==0)},b.prototype.stub=function(E){for(var L=new Array(E),k=0;k<E;k++)L[k]=0;return L},b.prototype.mulp=function(E,L,k){var w=2*this.guessLen13b(E.length,L.length),C=this.makeRBT(w),S=this.stub(w),B=new Array(w),O=new Array(w),V=new Array(w),M=new Array(w),U=new Array(w),Q=new Array(w),W=k.words;W.length=w,this.convert13b(E.words,E.length,B,w),this.convert13b(L.words,L.length,M,w),this.transform(B,S,O,V,w,C),this.transform(M,S,U,Q,w,C);for(var j=0;j<w;j++){var X=O[j]*U[j]-V[j]*Q[j];V[j]=O[j]*Q[j]+V[j]*U[j],O[j]=X}return this.conjugate(O,V,w),this.transform(O,V,W,S,w,C),this.conjugate(W,S,w),this.normalize13b(W,w),k.negative=E.negative^L.negative,k.length=E.length+L.length,k.strip()},u.prototype.mul=function(E){var L=new u(null);return L.words=new Array(this.length+E.length),this.mulTo(E,L)},u.prototype.mulf=function(E){var L=new u(null);return L.words=new Array(this.length+E.length),y(this,E,L)},u.prototype.imul=function(E){return this.clone().mulTo(E,this)},u.prototype.imuln=function(E){o(typeof E=="number"),o(E<67108864);for(var L=0,k=0;k<this.length;k++){var w=(0|this.words[k])*E,C=(67108863&w)+(67108863&L);L>>=26,L+=w/67108864|0,L+=C>>>26,this.words[k]=67108863&C}return L!==0&&(this.words[k]=L,this.length++),this},u.prototype.muln=function(E){return this.clone().imuln(E)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(E){var L=function(S){for(var B=new Array(S.bitLength()),O=0;O<B.length;O++){var V=O/26|0,M=O%26;B[O]=(S.words[V]&1<<M)>>>M}return B}(E);if(L.length===0)return new u(1);for(var k=this,w=0;w<L.length&&L[w]===0;w++,k=k.sqr());if(++w<L.length)for(var C=k.sqr();w<L.length;w++,C=C.sqr())L[w]!==0&&(k=k.mul(C));return k},u.prototype.iushln=function(E){o(typeof E=="number"&&E>=0);var L,k=E%26,w=(E-k)/26,C=67108863>>>26-k<<26-k;if(k!==0){var S=0;for(L=0;L<this.length;L++){var B=this.words[L]&C,O=(0|this.words[L])-B<<k;this.words[L]=O|S,S=B>>>26-k}S&&(this.words[L]=S,this.length++)}if(w!==0){for(L=this.length-1;L>=0;L--)this.words[L+w]=this.words[L];for(L=0;L<w;L++)this.words[L]=0;this.length+=w}return this.strip()},u.prototype.ishln=function(E){return o(this.negative===0),this.iushln(E)},u.prototype.iushrn=function(E,L,k){var w;o(typeof E=="number"&&E>=0),w=L?(L-L%26)/26:0;var C=E%26,S=Math.min((E-C)/26,this.length),B=67108863^67108863>>>C<<C,O=k;if(w-=S,w=Math.max(0,w),O){for(var V=0;V<S;V++)O.words[V]=this.words[V];O.length=S}if(S!==0)if(this.length>S)for(this.length-=S,V=0;V<this.length;V++)this.words[V]=this.words[V+S];else this.words[0]=0,this.length=1;var M=0;for(V=this.length-1;V>=0&&(M!==0||V>=w);V--){var U=0|this.words[V];this.words[V]=M<<26-C|U>>>C,M=U&B}return O&&M!==0&&(O.words[O.length++]=M),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(E,L,k){return o(this.negative===0),this.iushrn(E,L,k)},u.prototype.shln=function(E){return this.clone().ishln(E)},u.prototype.ushln=function(E){return this.clone().iushln(E)},u.prototype.shrn=function(E){return this.clone().ishrn(E)},u.prototype.ushrn=function(E){return this.clone().iushrn(E)},u.prototype.testn=function(E){o(typeof E=="number"&&E>=0);var L=E%26,k=(E-L)/26,w=1<<L;return!(this.length<=k)&&!!(this.words[k]&w)},u.prototype.imaskn=function(E){o(typeof E=="number"&&E>=0);var L=E%26,k=(E-L)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(L!==0&&k++,this.length=Math.min(k,this.length),L!==0){var w=67108863^67108863>>>L<<L;this.words[this.length-1]&=w}return this.strip()},u.prototype.maskn=function(E){return this.clone().imaskn(E)},u.prototype.iaddn=function(E){return o(typeof E=="number"),o(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(0|this.words[0])<E?(this.words[0]=E-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},u.prototype._iaddn=function(E){this.words[0]+=E;for(var L=0;L<this.length&&this.words[L]>=67108864;L++)this.words[L]-=67108864,L===this.length-1?this.words[L+1]=1:this.words[L+1]++;return this.length=Math.max(this.length,L+1),this},u.prototype.isubn=function(E){if(o(typeof E=="number"),o(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var L=0;L<this.length&&this.words[L]<0;L++)this.words[L]+=67108864,this.words[L+1]-=1;return this.strip()},u.prototype.addn=function(E){return this.clone().iaddn(E)},u.prototype.subn=function(E){return this.clone().isubn(E)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(E,L,k){var w,C,S=E.length+k;this._expand(S);var B=0;for(w=0;w<E.length;w++){C=(0|this.words[w+k])+B;var O=(0|E.words[w])*L;B=((C-=67108863&O)>>26)-(O/67108864|0),this.words[w+k]=67108863&C}for(;w<this.length-k;w++)B=(C=(0|this.words[w+k])+B)>>26,this.words[w+k]=67108863&C;if(B===0)return this.strip();for(o(B===-1),B=0,w=0;w<this.length;w++)B=(C=-(0|this.words[w])+B)>>26,this.words[w]=67108863&C;return this.negative=1,this.strip()},u.prototype._wordDiv=function(E,L){var k=(this.length,E.length),w=this.clone(),C=E,S=0|C.words[C.length-1];(k=26-this._countBits(S))!==0&&(C=C.ushln(k),w.iushln(k),S=0|C.words[C.length-1]);var B,O=w.length-C.length;if(L!=="mod"){(B=new u(null)).length=O+1,B.words=new Array(B.length);for(var V=0;V<B.length;V++)B.words[V]=0}var M=w.clone()._ishlnsubmul(C,1,O);M.negative===0&&(w=M,B&&(B.words[O]=1));for(var U=O-1;U>=0;U--){var Q=67108864*(0|w.words[C.length+U])+(0|w.words[C.length+U-1]);for(Q=Math.min(Q/S|0,67108863),w._ishlnsubmul(C,Q,U);w.negative!==0;)Q--,w.negative=0,w._ishlnsubmul(C,1,U),w.isZero()||(w.negative^=1);B&&(B.words[U]=Q)}return B&&B.strip(),w.strip(),L!=="div"&&k!==0&&w.iushrn(k),{div:B||null,mod:w}},u.prototype.divmod=function(E,L,k){return o(!E.isZero()),this.isZero()?{div:new u(0),mod:new u(0)}:this.negative!==0&&E.negative===0?(S=this.neg().divmod(E,L),L!=="mod"&&(w=S.div.neg()),L!=="div"&&(C=S.mod.neg(),k&&C.negative!==0&&C.iadd(E)),{div:w,mod:C}):this.negative===0&&E.negative!==0?(S=this.divmod(E.neg(),L),L!=="mod"&&(w=S.div.neg()),{div:w,mod:S.mod}):this.negative&E.negative?(S=this.neg().divmod(E.neg(),L),L!=="div"&&(C=S.mod.neg(),k&&C.negative!==0&&C.isub(E)),{div:S.div,mod:C}):E.length>this.length||this.cmp(E)<0?{div:new u(0),mod:this}:E.length===1?L==="div"?{div:this.divn(E.words[0]),mod:null}:L==="mod"?{div:null,mod:new u(this.modn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new u(this.modn(E.words[0]))}:this._wordDiv(E,L);var w,C,S},u.prototype.div=function(E){return this.divmod(E,"div",!1).div},u.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},u.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},u.prototype.divRound=function(E){var L=this.divmod(E);if(L.mod.isZero())return L.div;var k=L.div.negative!==0?L.mod.isub(E):L.mod,w=E.ushrn(1),C=E.andln(1),S=k.cmp(w);return S<0||C===1&&S===0?L.div:L.div.negative!==0?L.div.isubn(1):L.div.iaddn(1)},u.prototype.modn=function(E){o(E<=67108863);for(var L=(1<<26)%E,k=0,w=this.length-1;w>=0;w--)k=(L*k+(0|this.words[w]))%E;return k},u.prototype.idivn=function(E){o(E<=67108863);for(var L=0,k=this.length-1;k>=0;k--){var w=(0|this.words[k])+67108864*L;this.words[k]=w/E|0,L=w%E}return this.strip()},u.prototype.divn=function(E){return this.clone().idivn(E)},u.prototype.egcd=function(E){o(E.negative===0),o(!E.isZero());var L=this,k=E.clone();L=L.negative!==0?L.umod(E):L.clone();for(var w=new u(1),C=new u(0),S=new u(0),B=new u(1),O=0;L.isEven()&&k.isEven();)L.iushrn(1),k.iushrn(1),++O;for(var V=k.clone(),M=L.clone();!L.isZero();){for(var U=0,Q=1;!(L.words[0]&Q)&&U<26;++U,Q<<=1);if(U>0)for(L.iushrn(U);U-- >0;)(w.isOdd()||C.isOdd())&&(w.iadd(V),C.isub(M)),w.iushrn(1),C.iushrn(1);for(var W=0,j=1;!(k.words[0]&j)&&W<26;++W,j<<=1);if(W>0)for(k.iushrn(W);W-- >0;)(S.isOdd()||B.isOdd())&&(S.iadd(V),B.isub(M)),S.iushrn(1),B.iushrn(1);L.cmp(k)>=0?(L.isub(k),w.isub(S),C.isub(B)):(k.isub(L),S.isub(w),B.isub(C))}return{a:S,b:B,gcd:k.iushln(O)}},u.prototype._invmp=function(E){o(E.negative===0),o(!E.isZero());var L=this,k=E.clone();L=L.negative!==0?L.umod(E):L.clone();for(var w,C=new u(1),S=new u(0),B=k.clone();L.cmpn(1)>0&&k.cmpn(1)>0;){for(var O=0,V=1;!(L.words[0]&V)&&O<26;++O,V<<=1);if(O>0)for(L.iushrn(O);O-- >0;)C.isOdd()&&C.iadd(B),C.iushrn(1);for(var M=0,U=1;!(k.words[0]&U)&&M<26;++M,U<<=1);if(M>0)for(k.iushrn(M);M-- >0;)S.isOdd()&&S.iadd(B),S.iushrn(1);L.cmp(k)>=0?(L.isub(k),C.isub(S)):(k.isub(L),S.isub(C))}return(w=L.cmpn(1)===0?C:S).cmpn(0)<0&&w.iadd(E),w},u.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var L=this.clone(),k=E.clone();L.negative=0,k.negative=0;for(var w=0;L.isEven()&&k.isEven();w++)L.iushrn(1),k.iushrn(1);for(;;){for(;L.isEven();)L.iushrn(1);for(;k.isEven();)k.iushrn(1);var C=L.cmp(k);if(C<0){var S=L;L=k,k=S}else if(C===0||k.cmpn(1)===0)break;L.isub(k)}return k.iushln(w)},u.prototype.invm=function(E){return this.egcd(E).a.umod(E)},u.prototype.isEven=function(){return(1&this.words[0])==0},u.prototype.isOdd=function(){return(1&this.words[0])==1},u.prototype.andln=function(E){return this.words[0]&E},u.prototype.bincn=function(E){o(typeof E=="number");var L=E%26,k=(E-L)/26,w=1<<L;if(this.length<=k)return this._expand(k+1),this.words[k]|=w,this;for(var C=w,S=k;C!==0&&S<this.length;S++){var B=0|this.words[S];C=(B+=C)>>>26,B&=67108863,this.words[S]=B}return C!==0&&(this.words[S]=C,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(E){var L,k=E<0;if(this.negative!==0&&!k)return-1;if(this.negative===0&&k)return 1;if(this.strip(),this.length>1)L=1;else{k&&(E=-E),o(E<=67108863,"Number is too big");var w=0|this.words[0];L=w===E?0:w<E?-1:1}return this.negative!==0?0|-L:L},u.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var L=this.ucmp(E);return this.negative!==0?0|-L:L},u.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var L=0,k=this.length-1;k>=0;k--){var w=0|this.words[k],C=0|E.words[k];if(w!==C){w<C?L=-1:w>C&&(L=1);break}}return L},u.prototype.gtn=function(E){return this.cmpn(E)===1},u.prototype.gt=function(E){return this.cmp(E)===1},u.prototype.gten=function(E){return this.cmpn(E)>=0},u.prototype.gte=function(E){return this.cmp(E)>=0},u.prototype.ltn=function(E){return this.cmpn(E)===-1},u.prototype.lt=function(E){return this.cmp(E)===-1},u.prototype.lten=function(E){return this.cmpn(E)<=0},u.prototype.lte=function(E){return this.cmp(E)<=0},u.prototype.eqn=function(E){return this.cmpn(E)===0},u.prototype.eq=function(E){return this.cmp(E)===0},u.red=function(E){return new D(E)},u.prototype.toRed=function(E){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},u.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(E){return this.red=E,this},u.prototype.forceRed=function(E){return o(!this.red,"Already a number in reduction context"),this._forceRed(E)},u.prototype.redAdd=function(E){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},u.prototype.redIAdd=function(E){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},u.prototype.redSub=function(E){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},u.prototype.redISub=function(E){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},u.prototype.redShl=function(E){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},u.prototype.redMul=function(E){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},u.prototype.redIMul=function(E){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},u.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(E){return o(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var _={k256:null,p224:null,p192:null,p25519:null};function T(E,L){this.name=E,this.p=new u(L,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function I(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function N(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function F(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function D(E){if(typeof E=="string"){var L=u._prime(E);this.m=L.p,this.prime=L}else o(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}function R(E){D.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T.prototype._tmp=function(){var E=new u(null);return E.words=new Array(Math.ceil(this.n/13)),E},T.prototype.ireduce=function(E){var L,k=E;do this.split(k,this.tmp),L=(k=(k=this.imulK(k)).iadd(this.tmp)).bitLength();while(L>this.n);var w=L<this.n?-1:k.ucmp(this.p);return w===0?(k.words[0]=0,k.length=1):w>0?k.isub(this.p):k.strip!==void 0?k.strip():k._strip(),k},T.prototype.split=function(E,L){E.iushrn(this.n,0,L)},T.prototype.imulK=function(E){return E.imul(this.k)},l(I,T),I.prototype.split=function(E,L){for(var k=Math.min(E.length,9),w=0;w<k;w++)L.words[w]=E.words[w];if(L.length=k,E.length<=9)return E.words[0]=0,void(E.length=1);var C=E.words[9];for(L.words[L.length++]=4194303&C,w=10;w<E.length;w++){var S=0|E.words[w];E.words[w-10]=(4194303&S)<<4|C>>>22,C=S}C>>>=22,E.words[w-10]=C,C===0&&E.length>10?E.length-=10:E.length-=9},I.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var L=0,k=0;k<E.length;k++){var w=0|E.words[k];L+=977*w,E.words[k]=67108863&L,L=64*w+(L/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E},l(N,T),l(F,T),l(P,T),P.prototype.imulK=function(E){for(var L=0,k=0;k<E.length;k++){var w=19*(0|E.words[k])+L,C=67108863&w;w>>>=26,E.words[k]=C,L=w}return L!==0&&(E.words[E.length++]=L),E},u._prime=function(E){if(_[E])return _[E];var L;if(E==="k256")L=new I;else if(E==="p224")L=new N;else if(E==="p192")L=new F;else{if(E!=="p25519")throw new Error("Unknown prime "+E);L=new P}return _[E]=L,L},D.prototype._verify1=function(E){o(E.negative===0,"red works only with positives"),o(E.red,"red works only with red numbers")},D.prototype._verify2=function(E,L){o((E.negative|L.negative)==0,"red works only with positives"),o(E.red&&E.red===L.red,"red works only with red numbers")},D.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):E.umod(this.m)._forceRed(this)},D.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},D.prototype.add=function(E,L){this._verify2(E,L);var k=E.add(L);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},D.prototype.iadd=function(E,L){this._verify2(E,L);var k=E.iadd(L);return k.cmp(this.m)>=0&&k.isub(this.m),k},D.prototype.sub=function(E,L){this._verify2(E,L);var k=E.sub(L);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},D.prototype.isub=function(E,L){this._verify2(E,L);var k=E.isub(L);return k.cmpn(0)<0&&k.iadd(this.m),k},D.prototype.shl=function(E,L){return this._verify1(E),this.imod(E.ushln(L))},D.prototype.imul=function(E,L){return this._verify2(E,L),this.imod(E.imul(L))},D.prototype.mul=function(E,L){return this._verify2(E,L),this.imod(E.mul(L))},D.prototype.isqr=function(E){return this.imul(E,E.clone())},D.prototype.sqr=function(E){return this.mul(E,E)},D.prototype.sqrt=function(E){if(E.isZero())return E.clone();var L=this.m.andln(3);if(o(L%2==1),L===3){var k=this.m.add(new u(1)).iushrn(2);return this.pow(E,k)}for(var w=this.m.subn(1),C=0;!w.isZero()&&w.andln(1)===0;)C++,w.iushrn(1);o(!w.isZero());var S=new u(1).toRed(this),B=S.redNeg(),O=this.m.subn(1).iushrn(1),V=this.m.bitLength();for(V=new u(2*V*V).toRed(this);this.pow(V,O).cmp(B)!==0;)V.redIAdd(B);for(var M=this.pow(V,w),U=this.pow(E,w.addn(1).iushrn(1)),Q=this.pow(E,w),W=C;Q.cmp(S)!==0;){for(var j=Q,X=0;j.cmp(S)!==0;X++)j=j.redSqr();o(X<W);var z=this.pow(M,new u(1).iushln(W-X-1));U=U.redMul(z),M=z.redSqr(),Q=Q.redMul(M),W=X}return U},D.prototype.invm=function(E){var L=E._invmp(this.m);return L.negative!==0?(L.negative=0,this.imod(L).redNeg()):this.imod(L)},D.prototype.pow=function(E,L){if(L.isZero())return new u(1).toRed(this);if(L.cmpn(1)===0)return E.clone();var k=new Array(16);k[0]=new u(1).toRed(this),k[1]=E;for(var w=2;w<k.length;w++)k[w]=this.mul(k[w-1],E);var C=k[0],S=0,B=0,O=L.bitLength()%26;for(O===0&&(O=26),w=L.length-1;w>=0;w--){for(var V=L.words[w],M=O-1;M>=0;M--){var U=V>>M&1;C!==k[0]&&(C=this.sqr(C)),U!==0||S!==0?(S<<=1,S|=U,(++B===4||w===0&&M===0)&&(C=this.mul(C,k[S]),B=0,S=0)):B=0}O=26}return C},D.prototype.convertTo=function(E){var L=E.umod(this.m);return L===E?L.clone():L},D.prototype.convertFrom=function(E){var L=E.clone();return L.red=null,L},u.mont=function(E){return new R(E)},l(R,D),R.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},R.prototype.convertFrom=function(E){var L=this.imod(E.mul(this.rinv));return L.red=null,L},R.prototype.imul=function(E,L){if(E.isZero()||L.isZero())return E.words[0]=0,E.length=1,E;var k=E.imul(L),w=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=k.isub(w).iushrn(this.shift),S=C;return C.cmp(this.m)>=0?S=C.isub(this.m):C.cmpn(0)<0&&(S=C.iadd(this.m)),S._forceRed(this)},R.prototype.mul=function(E,L){if(E.isZero()||L.isZero())return new u(0)._forceRed(this);var k=E.mul(L),w=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=k.isub(w).iushrn(this.shift),S=C;return C.cmp(this.m)>=0?S=C.isub(this.m):C.cmpn(0)<0&&(S=C.iadd(this.m)),S._forceRed(this)},R.prototype.invm=function(E){return this.imod(E._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(e,n,i){i.byteLength=function(d){var A=f(d),p=A[0],g=A[1];return 3*(p+g)/4-g},i.toByteArray=function(d){var A,p,g=f(d),m=g[0],v=g[1],y=new o(function(T,I,N){return 3*(I+N)/4-N}(0,m,v)),b=0,_=v>0?m-4:m;for(p=0;p<_;p+=4)A=s[d.charCodeAt(p)]<<18|s[d.charCodeAt(p+1)]<<12|s[d.charCodeAt(p+2)]<<6|s[d.charCodeAt(p+3)],y[b++]=A>>16&255,y[b++]=A>>8&255,y[b++]=255&A;return v===2&&(A=s[d.charCodeAt(p)]<<2|s[d.charCodeAt(p+1)]>>4,y[b++]=255&A),v===1&&(A=s[d.charCodeAt(p)]<<10|s[d.charCodeAt(p+1)]<<4|s[d.charCodeAt(p+2)]>>2,y[b++]=A>>8&255,y[b++]=255&A),y},i.fromByteArray=function(d){for(var A,p=d.length,g=p%3,m=[],v=0,y=p-g;v<y;v+=16383)m.push(h(d,v,v+16383>y?y:v+16383));return g===1?(A=d[p-1],m.push(a[A>>2]+a[A<<4&63]+"==")):g===2&&(A=(d[p-2]<<8)+d[p-1],m.push(a[A>>10]+a[A>>4&63]+a[A<<2&63]+"=")),m.join("")};for(var a=[],s=[],o=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,c=l.length;u<c;++u)a[u]=l[u],s[l.charCodeAt(u)]=u;function f(d){var A=d.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=d.indexOf("=");return p===-1&&(p=A),[p,p===A?0:4-p%4]}function h(d,A,p){for(var g,m,v=[],y=A;y<p;y+=3)g=(d[y]<<16&16711680)+(d[y+1]<<8&65280)+(255&d[y+2]),v.push(a[(m=g)>>18&63]+a[m>>12&63]+a[m>>6&63]+a[63&m]);return v.join("")}s[45]=62,s[95]=63},{}],186:[function(e,n,i){(function(a,s){function o(k,w){if(!k)throw new Error(w||"Assertion failed")}function l(k,w){k.super_=w;var C=function(){};C.prototype=w.prototype,k.prototype=new C,k.prototype.constructor=k}function u(k,w,C){if(u.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,k!==null&&(w!=="le"&&w!=="be"||(C=w,w=10),this._init(k||0,w||10,C||"be"))}var c;typeof a=="object"?a.exports=u:(void 0).BN=u,u.BN=u,u.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function f(k,w){var C=k.charCodeAt(w);return C>=48&&C<=57?C-48:C>=65&&C<=70?C-55:C>=97&&C<=102?C-87:void o(!1,"Invalid character in "+k)}function h(k,w,C){var S=f(k,C);return C-1>=w&&(S|=f(k,C-1)<<4),S}function d(k,w,C,S){for(var B=0,O=0,V=Math.min(k.length,C),M=w;M<V;M++){var U=k.charCodeAt(M)-48;B*=S,O=U>=49?U-49+10:U>=17?U-17+10:U,o(U>=0&&O<S,"Invalid character"),B+=O}return B}function A(k,w){k.words=w.words,k.length=w.length,k.negative=w.negative,k.red=w.red}if(u.isBN=function(k){return k instanceof u||k!==null&&typeof k=="object"&&k.constructor.wordSize===u.wordSize&&Array.isArray(k.words)},u.max=function(k,w){return k.cmp(w)>0?k:w},u.min=function(k,w){return k.cmp(w)<0?k:w},u.prototype._init=function(k,w,C){if(typeof k=="number")return this._initNumber(k,w,C);if(typeof k=="object")return this._initArray(k,w,C);w==="hex"&&(w=16),o(w===(0|w)&&w>=2&&w<=36);var S=0;(k=k.toString().replace(/\s+/g,""))[0]==="-"&&(S++,this.negative=1),S<k.length&&(w===16?this._parseHex(k,S,C):(this._parseBase(k,w,S),C==="le"&&this._initArray(this.toArray(),w,C)))},u.prototype._initNumber=function(k,w,C){k<0&&(this.negative=1,k=-k),k<67108864?(this.words=[67108863&k],this.length=1):k<4503599627370496?(this.words=[67108863&k,k/67108864&67108863],this.length=2):(o(k<9007199254740992),this.words=[67108863&k,k/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),w,C)},u.prototype._initArray=function(k,w,C){if(o(typeof k.length=="number"),k.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(k.length/3),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var B,O,V=0;if(C==="be")for(S=k.length-1,B=0;S>=0;S-=3)O=k[S]|k[S-1]<<8|k[S-2]<<16,this.words[B]|=O<<V&67108863,this.words[B+1]=O>>>26-V&67108863,(V+=24)>=26&&(V-=26,B++);else if(C==="le")for(S=0,B=0;S<k.length;S+=3)O=k[S]|k[S+1]<<8|k[S+2]<<16,this.words[B]|=O<<V&67108863,this.words[B+1]=O>>>26-V&67108863,(V+=24)>=26&&(V-=26,B++);return this._strip()},u.prototype._parseHex=function(k,w,C){this.length=Math.ceil((k.length-w)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var B,O=0,V=0;if(C==="be")for(S=k.length-1;S>=w;S-=2)B=h(k,w,S)<<O,this.words[V]|=67108863&B,O>=18?(O-=18,V+=1,this.words[V]|=B>>>26):O+=8;else for(S=(k.length-w)%2==0?w+1:w;S<k.length;S+=2)B=h(k,w,S)<<O,this.words[V]|=67108863&B,O>=18?(O-=18,V+=1,this.words[V]|=B>>>26):O+=8;this._strip()},u.prototype._parseBase=function(k,w,C){this.words=[0],this.length=1;for(var S=0,B=1;B<=67108863;B*=w)S++;S--,B=B/w|0;for(var O=k.length-C,V=O%S,M=Math.min(O,O-V)+C,U=0,Q=C;Q<M;Q+=S)U=d(k,Q,Q+S,w),this.imuln(B),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U);if(V!==0){var W=1;for(U=d(k,Q,k.length,w),Q=0;Q<V;Q++)W*=w;this.imuln(W),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U)}this._strip()},u.prototype.copy=function(k){k.words=new Array(this.length);for(var w=0;w<this.length;w++)k.words[w]=this.words[w];k.length=this.length,k.negative=this.negative,k.red=this.red},u.prototype._move=function(k){A(k,this)},u.prototype.clone=function(){var k=new u(null);return this.copy(k),k},u.prototype._expand=function(k){for(;this.length<k;)this.words[this.length++]=0;return this},u.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{u.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{u.prototype.inspect=p}else u.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(k,w){var C;if(w=0|w||1,(k=k||10)===16||k==="hex"){C="";for(var S=0,B=0,O=0;O<this.length;O++){var V=this.words[O],M=(16777215&(V<<S|B)).toString(16);B=V>>>24-S&16777215,(S+=2)>=26&&(S-=26,O--),C=B!==0||O!==this.length-1?g[6-M.length]+M+C:M+C}for(B!==0&&(C=B.toString(16)+C);C.length%w!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(k===(0|k)&&k>=2&&k<=36){var U=m[k],Q=v[k];C="";var W=this.clone();for(W.negative=0;!W.isZero();){var j=W.modrn(Q).toString(k);C=(W=W.idivn(Q)).isZero()?j+C:g[U-j.length]+j+C}for(this.isZero()&&(C="0"+C);C.length%w!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}o(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var k=this.words[0];return this.length===2?k+=67108864*this.words[1]:this.length===3&&this.words[2]===1?k+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-k:k},u.prototype.toJSON=function(){return this.toString(16,2)},c&&(u.prototype.toBuffer=function(k,w){return this.toArrayLike(c,k,w)}),u.prototype.toArray=function(k,w){return this.toArrayLike(Array,k,w)};function y(k,w,C){C.negative=w.negative^k.negative;var S=k.length+w.length|0;C.length=S,S=S-1|0;var B=0|k.words[0],O=0|w.words[0],V=B*O,M=67108863&V,U=V/67108864|0;C.words[0]=M;for(var Q=1;Q<S;Q++){for(var W=U>>>26,j=67108863&U,X=Math.min(Q,w.length-1),z=Math.max(0,Q-k.length+1);z<=X;z++){var H=Q-z|0;W+=(V=(B=0|k.words[H])*(O=0|w.words[z])+j)/67108864|0,j=67108863&V}C.words[Q]=0|j,U=0|W}return U!==0?C.words[Q]=0|U:C.length--,C._strip()}u.prototype.toArrayLike=function(k,w,C){this._strip();var S=this.byteLength(),B=C||Math.max(1,S);o(S<=B,"byte array longer than desired length"),o(B>0,"Requested array length <= 0");var O=function(V,M){return V.allocUnsafe?V.allocUnsafe(M):new V(M)}(k,B);return this["_toArrayLike"+(w==="le"?"LE":"BE")](O,S),O},u.prototype._toArrayLikeLE=function(k,w){for(var C=0,S=0,B=0,O=0;B<this.length;B++){var V=this.words[B]<<O|S;k[C++]=255&V,C<k.length&&(k[C++]=V>>8&255),C<k.length&&(k[C++]=V>>16&255),O===6?(C<k.length&&(k[C++]=V>>24&255),S=0,O=0):(S=V>>>24,O+=2)}if(C<k.length)for(k[C++]=S;C<k.length;)k[C++]=0},u.prototype._toArrayLikeBE=function(k,w){for(var C=k.length-1,S=0,B=0,O=0;B<this.length;B++){var V=this.words[B]<<O|S;k[C--]=255&V,C>=0&&(k[C--]=V>>8&255),C>=0&&(k[C--]=V>>16&255),O===6?(C>=0&&(k[C--]=V>>24&255),S=0,O=0):(S=V>>>24,O+=2)}if(C>=0)for(k[C--]=S;C>=0;)k[C--]=0},Math.clz32?u.prototype._countBits=function(k){return 32-Math.clz32(k)}:u.prototype._countBits=function(k){var w=k,C=0;return w>=4096&&(C+=13,w>>>=13),w>=64&&(C+=7,w>>>=7),w>=8&&(C+=4,w>>>=4),w>=2&&(C+=2,w>>>=2),C+w},u.prototype._zeroBits=function(k){if(k===0)return 26;var w=k,C=0;return!(8191&w)&&(C+=13,w>>>=13),!(127&w)&&(C+=7,w>>>=7),!(15&w)&&(C+=4,w>>>=4),!(3&w)&&(C+=2,w>>>=2),!(1&w)&&C++,C},u.prototype.bitLength=function(){var k=this.words[this.length-1],w=this._countBits(k);return 26*(this.length-1)+w},u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var k=0,w=0;w<this.length;w++){var C=this._zeroBits(this.words[w]);if(k+=C,C!==26)break}return k},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(k){return this.negative!==0?this.abs().inotn(k).iaddn(1):this.clone()},u.prototype.fromTwos=function(k){return this.testn(k-1)?this.notn(k).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(k){for(;this.length<k.length;)this.words[this.length++]=0;for(var w=0;w<k.length;w++)this.words[w]=this.words[w]|k.words[w];return this._strip()},u.prototype.ior=function(k){return o((this.negative|k.negative)==0),this.iuor(k)},u.prototype.or=function(k){return this.length>k.length?this.clone().ior(k):k.clone().ior(this)},u.prototype.uor=function(k){return this.length>k.length?this.clone().iuor(k):k.clone().iuor(this)},u.prototype.iuand=function(k){var w;w=this.length>k.length?k:this;for(var C=0;C<w.length;C++)this.words[C]=this.words[C]&k.words[C];return this.length=w.length,this._strip()},u.prototype.iand=function(k){return o((this.negative|k.negative)==0),this.iuand(k)},u.prototype.and=function(k){return this.length>k.length?this.clone().iand(k):k.clone().iand(this)},u.prototype.uand=function(k){return this.length>k.length?this.clone().iuand(k):k.clone().iuand(this)},u.prototype.iuxor=function(k){var w,C;this.length>k.length?(w=this,C=k):(w=k,C=this);for(var S=0;S<C.length;S++)this.words[S]=w.words[S]^C.words[S];if(this!==w)for(;S<w.length;S++)this.words[S]=w.words[S];return this.length=w.length,this._strip()},u.prototype.ixor=function(k){return o((this.negative|k.negative)==0),this.iuxor(k)},u.prototype.xor=function(k){return this.length>k.length?this.clone().ixor(k):k.clone().ixor(this)},u.prototype.uxor=function(k){return this.length>k.length?this.clone().iuxor(k):k.clone().iuxor(this)},u.prototype.inotn=function(k){o(typeof k=="number"&&k>=0);var w=0|Math.ceil(k/26),C=k%26;this._expand(w),C>0&&w--;for(var S=0;S<w;S++)this.words[S]=67108863&~this.words[S];return C>0&&(this.words[S]=~this.words[S]&67108863>>26-C),this._strip()},u.prototype.notn=function(k){return this.clone().inotn(k)},u.prototype.setn=function(k,w){o(typeof k=="number"&&k>=0);var C=k/26|0,S=k%26;return this._expand(C+1),this.words[C]=w?this.words[C]|1<<S:this.words[C]&~(1<<S),this._strip()},u.prototype.iadd=function(k){var w,C,S;if(this.negative!==0&&k.negative===0)return this.negative=0,w=this.isub(k),this.negative^=1,this._normSign();if(this.negative===0&&k.negative!==0)return k.negative=0,w=this.isub(k),k.negative=1,w._normSign();this.length>k.length?(C=this,S=k):(C=k,S=this);for(var B=0,O=0;O<S.length;O++)w=(0|C.words[O])+(0|S.words[O])+B,this.words[O]=67108863&w,B=w>>>26;for(;B!==0&&O<C.length;O++)w=(0|C.words[O])+B,this.words[O]=67108863&w,B=w>>>26;if(this.length=C.length,B!==0)this.words[this.length]=B,this.length++;else if(C!==this)for(;O<C.length;O++)this.words[O]=C.words[O];return this},u.prototype.add=function(k){var w;return k.negative!==0&&this.negative===0?(k.negative=0,w=this.sub(k),k.negative^=1,w):k.negative===0&&this.negative!==0?(this.negative=0,w=k.sub(this),this.negative=1,w):this.length>k.length?this.clone().iadd(k):k.clone().iadd(this)},u.prototype.isub=function(k){if(k.negative!==0){k.negative=0;var w=this.iadd(k);return k.negative=1,w._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(k),this.negative=1,this._normSign();var C,S,B=this.cmp(k);if(B===0)return this.negative=0,this.length=1,this.words[0]=0,this;B>0?(C=this,S=k):(C=k,S=this);for(var O=0,V=0;V<S.length;V++)O=(w=(0|C.words[V])-(0|S.words[V])+O)>>26,this.words[V]=67108863&w;for(;O!==0&&V<C.length;V++)O=(w=(0|C.words[V])+O)>>26,this.words[V]=67108863&w;if(O===0&&V<C.length&&C!==this)for(;V<C.length;V++)this.words[V]=C.words[V];return this.length=Math.max(this.length,V),C!==this&&(this.negative=1),this._strip()},u.prototype.sub=function(k){return this.clone().isub(k)};var b=function(k,w,C){var S,B,O,V=k.words,M=w.words,U=C.words,Q=0,W=0|V[0],j=8191&W,X=W>>>13,z=0|V[1],H=8191&z,K=z>>>13,Z=0|V[2],ie=8191&Z,ee=Z>>>13,ne=0|V[3],te=8191&ne,le=ne>>>13,re=0|V[4],de=8191&re,ue=re>>>13,Fe=0|V[5],Se=8191&Fe,De=Fe>>>13,ge=0|V[6],Be=8191&ge,Pe=ge>>>13,st=0|V[7],gt=8191&st,we=st>>>13,Oe=0|V[8],at=8191&Oe,Ve=Oe>>>13,Qe=0|V[9],Ke=8191&Qe,Ue=Qe>>>13,We=0|M[0],yt=8191&We,Ne=We>>>13,et=0|M[1],ft=8191&et,lt=et>>>13,St=0|M[2],ut=8191&St,vt=St>>>13,Lt=0|M[3],zt=8191&Lt,_t=Lt>>>13,ar=0|M[4],Tr=8191&ar,It=ar>>>13,Ir=0|M[5],_r=8191&Ir,tr=Ir>>>13,je=0|M[6],Ye=8191&je,ht=je>>>13,oe=0|M[7],ye=8191&oe,he=oe>>>13,me=0|M[8],xe=8191&me,be=me>>>13,He=0|M[9],Ze=8191&He,$e=He>>>13;C.negative=k.negative^w.negative,C.length=19;var nt=(Q+(S=Math.imul(j,yt))|0)+((8191&(B=(B=Math.imul(j,Ne))+Math.imul(X,yt)|0))<<13)|0;Q=((O=Math.imul(X,Ne))+(B>>>13)|0)+(nt>>>26)|0,nt&=67108863,S=Math.imul(H,yt),B=(B=Math.imul(H,Ne))+Math.imul(K,yt)|0,O=Math.imul(K,Ne);var Ee=(Q+(S=S+Math.imul(j,ft)|0)|0)+((8191&(B=(B=B+Math.imul(j,lt)|0)+Math.imul(X,ft)|0))<<13)|0;Q=((O=O+Math.imul(X,lt)|0)+(B>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,S=Math.imul(ie,yt),B=(B=Math.imul(ie,Ne))+Math.imul(ee,yt)|0,O=Math.imul(ee,Ne),S=S+Math.imul(H,ft)|0,B=(B=B+Math.imul(H,lt)|0)+Math.imul(K,ft)|0,O=O+Math.imul(K,lt)|0;var rt=(Q+(S=S+Math.imul(j,ut)|0)|0)+((8191&(B=(B=B+Math.imul(j,vt)|0)+Math.imul(X,ut)|0))<<13)|0;Q=((O=O+Math.imul(X,vt)|0)+(B>>>13)|0)+(rt>>>26)|0,rt&=67108863,S=Math.imul(te,yt),B=(B=Math.imul(te,Ne))+Math.imul(le,yt)|0,O=Math.imul(le,Ne),S=S+Math.imul(ie,ft)|0,B=(B=B+Math.imul(ie,lt)|0)+Math.imul(ee,ft)|0,O=O+Math.imul(ee,lt)|0,S=S+Math.imul(H,ut)|0,B=(B=B+Math.imul(H,vt)|0)+Math.imul(K,ut)|0,O=O+Math.imul(K,vt)|0;var Bt=(Q+(S=S+Math.imul(j,zt)|0)|0)+((8191&(B=(B=B+Math.imul(j,_t)|0)+Math.imul(X,zt)|0))<<13)|0;Q=((O=O+Math.imul(X,_t)|0)+(B>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,S=Math.imul(de,yt),B=(B=Math.imul(de,Ne))+Math.imul(ue,yt)|0,O=Math.imul(ue,Ne),S=S+Math.imul(te,ft)|0,B=(B=B+Math.imul(te,lt)|0)+Math.imul(le,ft)|0,O=O+Math.imul(le,lt)|0,S=S+Math.imul(ie,ut)|0,B=(B=B+Math.imul(ie,vt)|0)+Math.imul(ee,ut)|0,O=O+Math.imul(ee,vt)|0,S=S+Math.imul(H,zt)|0,B=(B=B+Math.imul(H,_t)|0)+Math.imul(K,zt)|0,O=O+Math.imul(K,_t)|0;var jt=(Q+(S=S+Math.imul(j,Tr)|0)|0)+((8191&(B=(B=B+Math.imul(j,It)|0)+Math.imul(X,Tr)|0))<<13)|0;Q=((O=O+Math.imul(X,It)|0)+(B>>>13)|0)+(jt>>>26)|0,jt&=67108863,S=Math.imul(Se,yt),B=(B=Math.imul(Se,Ne))+Math.imul(De,yt)|0,O=Math.imul(De,Ne),S=S+Math.imul(de,ft)|0,B=(B=B+Math.imul(de,lt)|0)+Math.imul(ue,ft)|0,O=O+Math.imul(ue,lt)|0,S=S+Math.imul(te,ut)|0,B=(B=B+Math.imul(te,vt)|0)+Math.imul(le,ut)|0,O=O+Math.imul(le,vt)|0,S=S+Math.imul(ie,zt)|0,B=(B=B+Math.imul(ie,_t)|0)+Math.imul(ee,zt)|0,O=O+Math.imul(ee,_t)|0,S=S+Math.imul(H,Tr)|0,B=(B=B+Math.imul(H,It)|0)+Math.imul(K,Tr)|0,O=O+Math.imul(K,It)|0;var Ae=(Q+(S=S+Math.imul(j,_r)|0)|0)+((8191&(B=(B=B+Math.imul(j,tr)|0)+Math.imul(X,_r)|0))<<13)|0;Q=((O=O+Math.imul(X,tr)|0)+(B>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,S=Math.imul(Be,yt),B=(B=Math.imul(Be,Ne))+Math.imul(Pe,yt)|0,O=Math.imul(Pe,Ne),S=S+Math.imul(Se,ft)|0,B=(B=B+Math.imul(Se,lt)|0)+Math.imul(De,ft)|0,O=O+Math.imul(De,lt)|0,S=S+Math.imul(de,ut)|0,B=(B=B+Math.imul(de,vt)|0)+Math.imul(ue,ut)|0,O=O+Math.imul(ue,vt)|0,S=S+Math.imul(te,zt)|0,B=(B=B+Math.imul(te,_t)|0)+Math.imul(le,zt)|0,O=O+Math.imul(le,_t)|0,S=S+Math.imul(ie,Tr)|0,B=(B=B+Math.imul(ie,It)|0)+Math.imul(ee,Tr)|0,O=O+Math.imul(ee,It)|0,S=S+Math.imul(H,_r)|0,B=(B=B+Math.imul(H,tr)|0)+Math.imul(K,_r)|0,O=O+Math.imul(K,tr)|0;var Re=(Q+(S=S+Math.imul(j,Ye)|0)|0)+((8191&(B=(B=B+Math.imul(j,ht)|0)+Math.imul(X,Ye)|0))<<13)|0;Q=((O=O+Math.imul(X,ht)|0)+(B>>>13)|0)+(Re>>>26)|0,Re&=67108863,S=Math.imul(gt,yt),B=(B=Math.imul(gt,Ne))+Math.imul(we,yt)|0,O=Math.imul(we,Ne),S=S+Math.imul(Be,ft)|0,B=(B=B+Math.imul(Be,lt)|0)+Math.imul(Pe,ft)|0,O=O+Math.imul(Pe,lt)|0,S=S+Math.imul(Se,ut)|0,B=(B=B+Math.imul(Se,vt)|0)+Math.imul(De,ut)|0,O=O+Math.imul(De,vt)|0,S=S+Math.imul(de,zt)|0,B=(B=B+Math.imul(de,_t)|0)+Math.imul(ue,zt)|0,O=O+Math.imul(ue,_t)|0,S=S+Math.imul(te,Tr)|0,B=(B=B+Math.imul(te,It)|0)+Math.imul(le,Tr)|0,O=O+Math.imul(le,It)|0,S=S+Math.imul(ie,_r)|0,B=(B=B+Math.imul(ie,tr)|0)+Math.imul(ee,_r)|0,O=O+Math.imul(ee,tr)|0,S=S+Math.imul(H,Ye)|0,B=(B=B+Math.imul(H,ht)|0)+Math.imul(K,Ye)|0,O=O+Math.imul(K,ht)|0;var it=(Q+(S=S+Math.imul(j,ye)|0)|0)+((8191&(B=(B=B+Math.imul(j,he)|0)+Math.imul(X,ye)|0))<<13)|0;Q=((O=O+Math.imul(X,he)|0)+(B>>>13)|0)+(it>>>26)|0,it&=67108863,S=Math.imul(at,yt),B=(B=Math.imul(at,Ne))+Math.imul(Ve,yt)|0,O=Math.imul(Ve,Ne),S=S+Math.imul(gt,ft)|0,B=(B=B+Math.imul(gt,lt)|0)+Math.imul(we,ft)|0,O=O+Math.imul(we,lt)|0,S=S+Math.imul(Be,ut)|0,B=(B=B+Math.imul(Be,vt)|0)+Math.imul(Pe,ut)|0,O=O+Math.imul(Pe,vt)|0,S=S+Math.imul(Se,zt)|0,B=(B=B+Math.imul(Se,_t)|0)+Math.imul(De,zt)|0,O=O+Math.imul(De,_t)|0,S=S+Math.imul(de,Tr)|0,B=(B=B+Math.imul(de,It)|0)+Math.imul(ue,Tr)|0,O=O+Math.imul(ue,It)|0,S=S+Math.imul(te,_r)|0,B=(B=B+Math.imul(te,tr)|0)+Math.imul(le,_r)|0,O=O+Math.imul(le,tr)|0,S=S+Math.imul(ie,Ye)|0,B=(B=B+Math.imul(ie,ht)|0)+Math.imul(ee,Ye)|0,O=O+Math.imul(ee,ht)|0,S=S+Math.imul(H,ye)|0,B=(B=B+Math.imul(H,he)|0)+Math.imul(K,ye)|0,O=O+Math.imul(K,he)|0;var bt=(Q+(S=S+Math.imul(j,xe)|0)|0)+((8191&(B=(B=B+Math.imul(j,be)|0)+Math.imul(X,xe)|0))<<13)|0;Q=((O=O+Math.imul(X,be)|0)+(B>>>13)|0)+(bt>>>26)|0,bt&=67108863,S=Math.imul(Ke,yt),B=(B=Math.imul(Ke,Ne))+Math.imul(Ue,yt)|0,O=Math.imul(Ue,Ne),S=S+Math.imul(at,ft)|0,B=(B=B+Math.imul(at,lt)|0)+Math.imul(Ve,ft)|0,O=O+Math.imul(Ve,lt)|0,S=S+Math.imul(gt,ut)|0,B=(B=B+Math.imul(gt,vt)|0)+Math.imul(we,ut)|0,O=O+Math.imul(we,vt)|0,S=S+Math.imul(Be,zt)|0,B=(B=B+Math.imul(Be,_t)|0)+Math.imul(Pe,zt)|0,O=O+Math.imul(Pe,_t)|0,S=S+Math.imul(Se,Tr)|0,B=(B=B+Math.imul(Se,It)|0)+Math.imul(De,Tr)|0,O=O+Math.imul(De,It)|0,S=S+Math.imul(de,_r)|0,B=(B=B+Math.imul(de,tr)|0)+Math.imul(ue,_r)|0,O=O+Math.imul(ue,tr)|0,S=S+Math.imul(te,Ye)|0,B=(B=B+Math.imul(te,ht)|0)+Math.imul(le,Ye)|0,O=O+Math.imul(le,ht)|0,S=S+Math.imul(ie,ye)|0,B=(B=B+Math.imul(ie,he)|0)+Math.imul(ee,ye)|0,O=O+Math.imul(ee,he)|0,S=S+Math.imul(H,xe)|0,B=(B=B+Math.imul(H,be)|0)+Math.imul(K,xe)|0,O=O+Math.imul(K,be)|0;var Pt=(Q+(S=S+Math.imul(j,Ze)|0)|0)+((8191&(B=(B=B+Math.imul(j,$e)|0)+Math.imul(X,Ze)|0))<<13)|0;Q=((O=O+Math.imul(X,$e)|0)+(B>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,S=Math.imul(Ke,ft),B=(B=Math.imul(Ke,lt))+Math.imul(Ue,ft)|0,O=Math.imul(Ue,lt),S=S+Math.imul(at,ut)|0,B=(B=B+Math.imul(at,vt)|0)+Math.imul(Ve,ut)|0,O=O+Math.imul(Ve,vt)|0,S=S+Math.imul(gt,zt)|0,B=(B=B+Math.imul(gt,_t)|0)+Math.imul(we,zt)|0,O=O+Math.imul(we,_t)|0,S=S+Math.imul(Be,Tr)|0,B=(B=B+Math.imul(Be,It)|0)+Math.imul(Pe,Tr)|0,O=O+Math.imul(Pe,It)|0,S=S+Math.imul(Se,_r)|0,B=(B=B+Math.imul(Se,tr)|0)+Math.imul(De,_r)|0,O=O+Math.imul(De,tr)|0,S=S+Math.imul(de,Ye)|0,B=(B=B+Math.imul(de,ht)|0)+Math.imul(ue,Ye)|0,O=O+Math.imul(ue,ht)|0,S=S+Math.imul(te,ye)|0,B=(B=B+Math.imul(te,he)|0)+Math.imul(le,ye)|0,O=O+Math.imul(le,he)|0,S=S+Math.imul(ie,xe)|0,B=(B=B+Math.imul(ie,be)|0)+Math.imul(ee,xe)|0,O=O+Math.imul(ee,be)|0;var Mt=(Q+(S=S+Math.imul(H,Ze)|0)|0)+((8191&(B=(B=B+Math.imul(H,$e)|0)+Math.imul(K,Ze)|0))<<13)|0;Q=((O=O+Math.imul(K,$e)|0)+(B>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,S=Math.imul(Ke,ut),B=(B=Math.imul(Ke,vt))+Math.imul(Ue,ut)|0,O=Math.imul(Ue,vt),S=S+Math.imul(at,zt)|0,B=(B=B+Math.imul(at,_t)|0)+Math.imul(Ve,zt)|0,O=O+Math.imul(Ve,_t)|0,S=S+Math.imul(gt,Tr)|0,B=(B=B+Math.imul(gt,It)|0)+Math.imul(we,Tr)|0,O=O+Math.imul(we,It)|0,S=S+Math.imul(Be,_r)|0,B=(B=B+Math.imul(Be,tr)|0)+Math.imul(Pe,_r)|0,O=O+Math.imul(Pe,tr)|0,S=S+Math.imul(Se,Ye)|0,B=(B=B+Math.imul(Se,ht)|0)+Math.imul(De,Ye)|0,O=O+Math.imul(De,ht)|0,S=S+Math.imul(de,ye)|0,B=(B=B+Math.imul(de,he)|0)+Math.imul(ue,ye)|0,O=O+Math.imul(ue,he)|0,S=S+Math.imul(te,xe)|0,B=(B=B+Math.imul(te,be)|0)+Math.imul(le,xe)|0,O=O+Math.imul(le,be)|0;var Gt=(Q+(S=S+Math.imul(ie,Ze)|0)|0)+((8191&(B=(B=B+Math.imul(ie,$e)|0)+Math.imul(ee,Ze)|0))<<13)|0;Q=((O=O+Math.imul(ee,$e)|0)+(B>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,S=Math.imul(Ke,zt),B=(B=Math.imul(Ke,_t))+Math.imul(Ue,zt)|0,O=Math.imul(Ue,_t),S=S+Math.imul(at,Tr)|0,B=(B=B+Math.imul(at,It)|0)+Math.imul(Ve,Tr)|0,O=O+Math.imul(Ve,It)|0,S=S+Math.imul(gt,_r)|0,B=(B=B+Math.imul(gt,tr)|0)+Math.imul(we,_r)|0,O=O+Math.imul(we,tr)|0,S=S+Math.imul(Be,Ye)|0,B=(B=B+Math.imul(Be,ht)|0)+Math.imul(Pe,Ye)|0,O=O+Math.imul(Pe,ht)|0,S=S+Math.imul(Se,ye)|0,B=(B=B+Math.imul(Se,he)|0)+Math.imul(De,ye)|0,O=O+Math.imul(De,he)|0,S=S+Math.imul(de,xe)|0,B=(B=B+Math.imul(de,be)|0)+Math.imul(ue,xe)|0,O=O+Math.imul(ue,be)|0;var jr=(Q+(S=S+Math.imul(te,Ze)|0)|0)+((8191&(B=(B=B+Math.imul(te,$e)|0)+Math.imul(le,Ze)|0))<<13)|0;Q=((O=O+Math.imul(le,$e)|0)+(B>>>13)|0)+(jr>>>26)|0,jr&=67108863,S=Math.imul(Ke,Tr),B=(B=Math.imul(Ke,It))+Math.imul(Ue,Tr)|0,O=Math.imul(Ue,It),S=S+Math.imul(at,_r)|0,B=(B=B+Math.imul(at,tr)|0)+Math.imul(Ve,_r)|0,O=O+Math.imul(Ve,tr)|0,S=S+Math.imul(gt,Ye)|0,B=(B=B+Math.imul(gt,ht)|0)+Math.imul(we,Ye)|0,O=O+Math.imul(we,ht)|0,S=S+Math.imul(Be,ye)|0,B=(B=B+Math.imul(Be,he)|0)+Math.imul(Pe,ye)|0,O=O+Math.imul(Pe,he)|0,S=S+Math.imul(Se,xe)|0,B=(B=B+Math.imul(Se,be)|0)+Math.imul(De,xe)|0,O=O+Math.imul(De,be)|0;var Pr=(Q+(S=S+Math.imul(de,Ze)|0)|0)+((8191&(B=(B=B+Math.imul(de,$e)|0)+Math.imul(ue,Ze)|0))<<13)|0;Q=((O=O+Math.imul(ue,$e)|0)+(B>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,S=Math.imul(Ke,_r),B=(B=Math.imul(Ke,tr))+Math.imul(Ue,_r)|0,O=Math.imul(Ue,tr),S=S+Math.imul(at,Ye)|0,B=(B=B+Math.imul(at,ht)|0)+Math.imul(Ve,Ye)|0,O=O+Math.imul(Ve,ht)|0,S=S+Math.imul(gt,ye)|0,B=(B=B+Math.imul(gt,he)|0)+Math.imul(we,ye)|0,O=O+Math.imul(we,he)|0,S=S+Math.imul(Be,xe)|0,B=(B=B+Math.imul(Be,be)|0)+Math.imul(Pe,xe)|0,O=O+Math.imul(Pe,be)|0;var Rr=(Q+(S=S+Math.imul(Se,Ze)|0)|0)+((8191&(B=(B=B+Math.imul(Se,$e)|0)+Math.imul(De,Ze)|0))<<13)|0;Q=((O=O+Math.imul(De,$e)|0)+(B>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,S=Math.imul(Ke,Ye),B=(B=Math.imul(Ke,ht))+Math.imul(Ue,Ye)|0,O=Math.imul(Ue,ht),S=S+Math.imul(at,ye)|0,B=(B=B+Math.imul(at,he)|0)+Math.imul(Ve,ye)|0,O=O+Math.imul(Ve,he)|0,S=S+Math.imul(gt,xe)|0,B=(B=B+Math.imul(gt,be)|0)+Math.imul(we,xe)|0,O=O+Math.imul(we,be)|0;var vr=(Q+(S=S+Math.imul(Be,Ze)|0)|0)+((8191&(B=(B=B+Math.imul(Be,$e)|0)+Math.imul(Pe,Ze)|0))<<13)|0;Q=((O=O+Math.imul(Pe,$e)|0)+(B>>>13)|0)+(vr>>>26)|0,vr&=67108863,S=Math.imul(Ke,ye),B=(B=Math.imul(Ke,he))+Math.imul(Ue,ye)|0,O=Math.imul(Ue,he),S=S+Math.imul(at,xe)|0,B=(B=B+Math.imul(at,be)|0)+Math.imul(Ve,xe)|0,O=O+Math.imul(Ve,be)|0;var Wr=(Q+(S=S+Math.imul(gt,Ze)|0)|0)+((8191&(B=(B=B+Math.imul(gt,$e)|0)+Math.imul(we,Ze)|0))<<13)|0;Q=((O=O+Math.imul(we,$e)|0)+(B>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,S=Math.imul(Ke,xe),B=(B=Math.imul(Ke,be))+Math.imul(Ue,xe)|0,O=Math.imul(Ue,be);var xn=(Q+(S=S+Math.imul(at,Ze)|0)|0)+((8191&(B=(B=B+Math.imul(at,$e)|0)+Math.imul(Ve,Ze)|0))<<13)|0;Q=((O=O+Math.imul(Ve,$e)|0)+(B>>>13)|0)+(xn>>>26)|0,xn&=67108863;var Qr=(Q+(S=Math.imul(Ke,Ze))|0)+((8191&(B=(B=Math.imul(Ke,$e))+Math.imul(Ue,Ze)|0))<<13)|0;return Q=((O=Math.imul(Ue,$e))+(B>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,U[0]=nt,U[1]=Ee,U[2]=rt,U[3]=Bt,U[4]=jt,U[5]=Ae,U[6]=Re,U[7]=it,U[8]=bt,U[9]=Pt,U[10]=Mt,U[11]=Gt,U[12]=jr,U[13]=Pr,U[14]=Rr,U[15]=vr,U[16]=Wr,U[17]=xn,U[18]=Qr,Q!==0&&(U[19]=Q,C.length++),C};function _(k,w,C){C.negative=w.negative^k.negative,C.length=k.length+w.length;for(var S=0,B=0,O=0;O<C.length-1;O++){var V=B;B=0;for(var M=67108863&S,U=Math.min(O,w.length-1),Q=Math.max(0,O-k.length+1);Q<=U;Q++){var W=O-Q,j=(0|k.words[W])*(0|w.words[Q]),X=67108863&j;M=67108863&(X=X+M|0),B+=(V=(V=V+(j/67108864|0)|0)+(X>>>26)|0)>>>26,V&=67108863}C.words[O]=M,S=V,V=B}return S!==0?C.words[O]=S:C.length--,C._strip()}function T(k,w,C){return _(k,w,C)}Math.imul||(b=y),u.prototype.mulTo=function(k,w){var C=this.length+k.length;return this.length===10&&k.length===10?b(this,k,w):C<63?y(this,k,w):C<1024?_(this,k,w):T(this,k,w)},u.prototype.mul=function(k){var w=new u(null);return w.words=new Array(this.length+k.length),this.mulTo(k,w)},u.prototype.mulf=function(k){var w=new u(null);return w.words=new Array(this.length+k.length),T(this,k,w)},u.prototype.imul=function(k){return this.clone().mulTo(k,this)},u.prototype.imuln=function(k){var w=k<0;w&&(k=-k),o(typeof k=="number"),o(k<67108864);for(var C=0,S=0;S<this.length;S++){var B=(0|this.words[S])*k,O=(67108863&B)+(67108863&C);C>>=26,C+=B/67108864|0,C+=O>>>26,this.words[S]=67108863&O}return C!==0&&(this.words[S]=C,this.length++),w?this.ineg():this},u.prototype.muln=function(k){return this.clone().imuln(k)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(k){var w=function(O){for(var V=new Array(O.bitLength()),M=0;M<V.length;M++){var U=M/26|0,Q=M%26;V[M]=O.words[U]>>>Q&1}return V}(k);if(w.length===0)return new u(1);for(var C=this,S=0;S<w.length&&w[S]===0;S++,C=C.sqr());if(++S<w.length)for(var B=C.sqr();S<w.length;S++,B=B.sqr())w[S]!==0&&(C=C.mul(B));return C},u.prototype.iushln=function(k){o(typeof k=="number"&&k>=0);var w,C=k%26,S=(k-C)/26,B=67108863>>>26-C<<26-C;if(C!==0){var O=0;for(w=0;w<this.length;w++){var V=this.words[w]&B,M=(0|this.words[w])-V<<C;this.words[w]=M|O,O=V>>>26-C}O&&(this.words[w]=O,this.length++)}if(S!==0){for(w=this.length-1;w>=0;w--)this.words[w+S]=this.words[w];for(w=0;w<S;w++)this.words[w]=0;this.length+=S}return this._strip()},u.prototype.ishln=function(k){return o(this.negative===0),this.iushln(k)},u.prototype.iushrn=function(k,w,C){var S;o(typeof k=="number"&&k>=0),S=w?(w-w%26)/26:0;var B=k%26,O=Math.min((k-B)/26,this.length),V=67108863^67108863>>>B<<B,M=C;if(S-=O,S=Math.max(0,S),M){for(var U=0;U<O;U++)M.words[U]=this.words[U];M.length=O}if(O!==0)if(this.length>O)for(this.length-=O,U=0;U<this.length;U++)this.words[U]=this.words[U+O];else this.words[0]=0,this.length=1;var Q=0;for(U=this.length-1;U>=0&&(Q!==0||U>=S);U--){var W=0|this.words[U];this.words[U]=Q<<26-B|W>>>B,Q=W&V}return M&&Q!==0&&(M.words[M.length++]=Q),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},u.prototype.ishrn=function(k,w,C){return o(this.negative===0),this.iushrn(k,w,C)},u.prototype.shln=function(k){return this.clone().ishln(k)},u.prototype.ushln=function(k){return this.clone().iushln(k)},u.prototype.shrn=function(k){return this.clone().ishrn(k)},u.prototype.ushrn=function(k){return this.clone().iushrn(k)},u.prototype.testn=function(k){o(typeof k=="number"&&k>=0);var w=k%26,C=(k-w)/26,S=1<<w;return!(this.length<=C)&&!!(this.words[C]&S)},u.prototype.imaskn=function(k){o(typeof k=="number"&&k>=0);var w=k%26,C=(k-w)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(w!==0&&C++,this.length=Math.min(C,this.length),w!==0){var S=67108863^67108863>>>w<<w;this.words[this.length-1]&=S}return this._strip()},u.prototype.maskn=function(k){return this.clone().imaskn(k)},u.prototype.iaddn=function(k){return o(typeof k=="number"),o(k<67108864),k<0?this.isubn(-k):this.negative!==0?this.length===1&&(0|this.words[0])<=k?(this.words[0]=k-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(k),this.negative=1,this):this._iaddn(k)},u.prototype._iaddn=function(k){this.words[0]+=k;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},u.prototype.isubn=function(k){if(o(typeof k=="number"),o(k<67108864),k<0)return this.iaddn(-k);if(this.negative!==0)return this.negative=0,this.iaddn(k),this.negative=1,this;if(this.words[0]-=k,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},u.prototype.addn=function(k){return this.clone().iaddn(k)},u.prototype.subn=function(k){return this.clone().isubn(k)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(k,w,C){var S,B,O=k.length+C;this._expand(O);var V=0;for(S=0;S<k.length;S++){B=(0|this.words[S+C])+V;var M=(0|k.words[S])*w;V=((B-=67108863&M)>>26)-(M/67108864|0),this.words[S+C]=67108863&B}for(;S<this.length-C;S++)V=(B=(0|this.words[S+C])+V)>>26,this.words[S+C]=67108863&B;if(V===0)return this._strip();for(o(V===-1),V=0,S=0;S<this.length;S++)V=(B=-(0|this.words[S])+V)>>26,this.words[S]=67108863&B;return this.negative=1,this._strip()},u.prototype._wordDiv=function(k,w){var C=(this.length,k.length),S=this.clone(),B=k,O=0|B.words[B.length-1];(C=26-this._countBits(O))!==0&&(B=B.ushln(C),S.iushln(C),O=0|B.words[B.length-1]);var V,M=S.length-B.length;if(w!=="mod"){(V=new u(null)).length=M+1,V.words=new Array(V.length);for(var U=0;U<V.length;U++)V.words[U]=0}var Q=S.clone()._ishlnsubmul(B,1,M);Q.negative===0&&(S=Q,V&&(V.words[M]=1));for(var W=M-1;W>=0;W--){var j=67108864*(0|S.words[B.length+W])+(0|S.words[B.length+W-1]);for(j=Math.min(j/O|0,67108863),S._ishlnsubmul(B,j,W);S.negative!==0;)j--,S.negative=0,S._ishlnsubmul(B,1,W),S.isZero()||(S.negative^=1);V&&(V.words[W]=j)}return V&&V._strip(),S._strip(),w!=="div"&&C!==0&&S.iushrn(C),{div:V||null,mod:S}},u.prototype.divmod=function(k,w,C){return o(!k.isZero()),this.isZero()?{div:new u(0),mod:new u(0)}:this.negative!==0&&k.negative===0?(O=this.neg().divmod(k,w),w!=="mod"&&(S=O.div.neg()),w!=="div"&&(B=O.mod.neg(),C&&B.negative!==0&&B.iadd(k)),{div:S,mod:B}):this.negative===0&&k.negative!==0?(O=this.divmod(k.neg(),w),w!=="mod"&&(S=O.div.neg()),{div:S,mod:O.mod}):this.negative&k.negative?(O=this.neg().divmod(k.neg(),w),w!=="div"&&(B=O.mod.neg(),C&&B.negative!==0&&B.isub(k)),{div:O.div,mod:B}):k.length>this.length||this.cmp(k)<0?{div:new u(0),mod:this}:k.length===1?w==="div"?{div:this.divn(k.words[0]),mod:null}:w==="mod"?{div:null,mod:new u(this.modrn(k.words[0]))}:{div:this.divn(k.words[0]),mod:new u(this.modrn(k.words[0]))}:this._wordDiv(k,w);var S,B,O},u.prototype.div=function(k){return this.divmod(k,"div",!1).div},u.prototype.mod=function(k){return this.divmod(k,"mod",!1).mod},u.prototype.umod=function(k){return this.divmod(k,"mod",!0).mod},u.prototype.divRound=function(k){var w=this.divmod(k);if(w.mod.isZero())return w.div;var C=w.div.negative!==0?w.mod.isub(k):w.mod,S=k.ushrn(1),B=k.andln(1),O=C.cmp(S);return O<0||B===1&&O===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},u.prototype.modrn=function(k){var w=k<0;w&&(k=-k),o(k<=67108863);for(var C=(1<<26)%k,S=0,B=this.length-1;B>=0;B--)S=(C*S+(0|this.words[B]))%k;return w?-S:S},u.prototype.modn=function(k){return this.modrn(k)},u.prototype.idivn=function(k){var w=k<0;w&&(k=-k),o(k<=67108863);for(var C=0,S=this.length-1;S>=0;S--){var B=(0|this.words[S])+67108864*C;this.words[S]=B/k|0,C=B%k}return this._strip(),w?this.ineg():this},u.prototype.divn=function(k){return this.clone().idivn(k)},u.prototype.egcd=function(k){o(k.negative===0),o(!k.isZero());var w=this,C=k.clone();w=w.negative!==0?w.umod(k):w.clone();for(var S=new u(1),B=new u(0),O=new u(0),V=new u(1),M=0;w.isEven()&&C.isEven();)w.iushrn(1),C.iushrn(1),++M;for(var U=C.clone(),Q=w.clone();!w.isZero();){for(var W=0,j=1;!(w.words[0]&j)&&W<26;++W,j<<=1);if(W>0)for(w.iushrn(W);W-- >0;)(S.isOdd()||B.isOdd())&&(S.iadd(U),B.isub(Q)),S.iushrn(1),B.iushrn(1);for(var X=0,z=1;!(C.words[0]&z)&&X<26;++X,z<<=1);if(X>0)for(C.iushrn(X);X-- >0;)(O.isOdd()||V.isOdd())&&(O.iadd(U),V.isub(Q)),O.iushrn(1),V.iushrn(1);w.cmp(C)>=0?(w.isub(C),S.isub(O),B.isub(V)):(C.isub(w),O.isub(S),V.isub(B))}return{a:O,b:V,gcd:C.iushln(M)}},u.prototype._invmp=function(k){o(k.negative===0),o(!k.isZero());var w=this,C=k.clone();w=w.negative!==0?w.umod(k):w.clone();for(var S,B=new u(1),O=new u(0),V=C.clone();w.cmpn(1)>0&&C.cmpn(1)>0;){for(var M=0,U=1;!(w.words[0]&U)&&M<26;++M,U<<=1);if(M>0)for(w.iushrn(M);M-- >0;)B.isOdd()&&B.iadd(V),B.iushrn(1);for(var Q=0,W=1;!(C.words[0]&W)&&Q<26;++Q,W<<=1);if(Q>0)for(C.iushrn(Q);Q-- >0;)O.isOdd()&&O.iadd(V),O.iushrn(1);w.cmp(C)>=0?(w.isub(C),B.isub(O)):(C.isub(w),O.isub(B))}return(S=w.cmpn(1)===0?B:O).cmpn(0)<0&&S.iadd(k),S},u.prototype.gcd=function(k){if(this.isZero())return k.abs();if(k.isZero())return this.abs();var w=this.clone(),C=k.clone();w.negative=0,C.negative=0;for(var S=0;w.isEven()&&C.isEven();S++)w.iushrn(1),C.iushrn(1);for(;;){for(;w.isEven();)w.iushrn(1);for(;C.isEven();)C.iushrn(1);var B=w.cmp(C);if(B<0){var O=w;w=C,C=O}else if(B===0||C.cmpn(1)===0)break;w.isub(C)}return C.iushln(S)},u.prototype.invm=function(k){return this.egcd(k).a.umod(k)},u.prototype.isEven=function(){return(1&this.words[0])==0},u.prototype.isOdd=function(){return(1&this.words[0])==1},u.prototype.andln=function(k){return this.words[0]&k},u.prototype.bincn=function(k){o(typeof k=="number");var w=k%26,C=(k-w)/26,S=1<<w;if(this.length<=C)return this._expand(C+1),this.words[C]|=S,this;for(var B=S,O=C;B!==0&&O<this.length;O++){var V=0|this.words[O];B=(V+=B)>>>26,V&=67108863,this.words[O]=V}return B!==0&&(this.words[O]=B,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(k){var w,C=k<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;if(this._strip(),this.length>1)w=1;else{C&&(k=-k),o(k<=67108863,"Number is too big");var S=0|this.words[0];w=S===k?0:S<k?-1:1}return this.negative!==0?0|-w:w},u.prototype.cmp=function(k){if(this.negative!==0&&k.negative===0)return-1;if(this.negative===0&&k.negative!==0)return 1;var w=this.ucmp(k);return this.negative!==0?0|-w:w},u.prototype.ucmp=function(k){if(this.length>k.length)return 1;if(this.length<k.length)return-1;for(var w=0,C=this.length-1;C>=0;C--){var S=0|this.words[C],B=0|k.words[C];if(S!==B){S<B?w=-1:S>B&&(w=1);break}}return w},u.prototype.gtn=function(k){return this.cmpn(k)===1},u.prototype.gt=function(k){return this.cmp(k)===1},u.prototype.gten=function(k){return this.cmpn(k)>=0},u.prototype.gte=function(k){return this.cmp(k)>=0},u.prototype.ltn=function(k){return this.cmpn(k)===-1},u.prototype.lt=function(k){return this.cmp(k)===-1},u.prototype.lten=function(k){return this.cmpn(k)<=0},u.prototype.lte=function(k){return this.cmp(k)<=0},u.prototype.eqn=function(k){return this.cmpn(k)===0},u.prototype.eq=function(k){return this.cmp(k)===0},u.red=function(k){return new E(k)},u.prototype.toRed=function(k){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),k.convertTo(this)._forceRed(k)},u.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(k){return this.red=k,this},u.prototype.forceRed=function(k){return o(!this.red,"Already a number in reduction context"),this._forceRed(k)},u.prototype.redAdd=function(k){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,k)},u.prototype.redIAdd=function(k){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,k)},u.prototype.redSub=function(k){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,k)},u.prototype.redISub=function(k){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,k)},u.prototype.redShl=function(k){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,k)},u.prototype.redMul=function(k){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.mul(this,k)},u.prototype.redIMul=function(k){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.imul(this,k)},u.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(k){return o(this.red&&!k.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,k)};var I={k256:null,p224:null,p192:null,p25519:null};function N(k,w){this.name=k,this.p=new u(w,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function F(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function D(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function R(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(k){if(typeof k=="string"){var w=u._prime(k);this.m=w.p,this.prime=w}else o(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function L(k){E.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}N.prototype._tmp=function(){var k=new u(null);return k.words=new Array(Math.ceil(this.n/13)),k},N.prototype.ireduce=function(k){var w,C=k;do this.split(C,this.tmp),w=(C=(C=this.imulK(C)).iadd(this.tmp)).bitLength();while(w>this.n);var S=w<this.n?-1:C.ucmp(this.p);return S===0?(C.words[0]=0,C.length=1):S>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},N.prototype.split=function(k,w){k.iushrn(this.n,0,w)},N.prototype.imulK=function(k){return k.imul(this.k)},l(F,N),F.prototype.split=function(k,w){for(var C=Math.min(k.length,9),S=0;S<C;S++)w.words[S]=k.words[S];if(w.length=C,k.length<=9)return k.words[0]=0,void(k.length=1);var B=k.words[9];for(w.words[w.length++]=4194303&B,S=10;S<k.length;S++){var O=0|k.words[S];k.words[S-10]=(4194303&O)<<4|B>>>22,B=O}B>>>=22,k.words[S-10]=B,B===0&&k.length>10?k.length-=10:k.length-=9},F.prototype.imulK=function(k){k.words[k.length]=0,k.words[k.length+1]=0,k.length+=2;for(var w=0,C=0;C<k.length;C++){var S=0|k.words[C];w+=977*S,k.words[C]=67108863&w,w=64*S+(w/67108864|0)}return k.words[k.length-1]===0&&(k.length--,k.words[k.length-1]===0&&k.length--),k},l(P,N),l(D,N),l(R,N),R.prototype.imulK=function(k){for(var w=0,C=0;C<k.length;C++){var S=19*(0|k.words[C])+w,B=67108863&S;S>>>=26,k.words[C]=B,w=S}return w!==0&&(k.words[k.length++]=w),k},u._prime=function(k){if(I[k])return I[k];var w;if(k==="k256")w=new F;else if(k==="p224")w=new P;else if(k==="p192")w=new D;else{if(k!=="p25519")throw new Error("Unknown prime "+k);w=new R}return I[k]=w,w},E.prototype._verify1=function(k){o(k.negative===0,"red works only with positives"),o(k.red,"red works only with red numbers")},E.prototype._verify2=function(k,w){o((k.negative|w.negative)==0,"red works only with positives"),o(k.red&&k.red===w.red,"red works only with red numbers")},E.prototype.imod=function(k){return this.prime?this.prime.ireduce(k)._forceRed(this):(A(k,k.umod(this.m)._forceRed(this)),k)},E.prototype.neg=function(k){return k.isZero()?k.clone():this.m.sub(k)._forceRed(this)},E.prototype.add=function(k,w){this._verify2(k,w);var C=k.add(w);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},E.prototype.iadd=function(k,w){this._verify2(k,w);var C=k.iadd(w);return C.cmp(this.m)>=0&&C.isub(this.m),C},E.prototype.sub=function(k,w){this._verify2(k,w);var C=k.sub(w);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},E.prototype.isub=function(k,w){this._verify2(k,w);var C=k.isub(w);return C.cmpn(0)<0&&C.iadd(this.m),C},E.prototype.shl=function(k,w){return this._verify1(k),this.imod(k.ushln(w))},E.prototype.imul=function(k,w){return this._verify2(k,w),this.imod(k.imul(w))},E.prototype.mul=function(k,w){return this._verify2(k,w),this.imod(k.mul(w))},E.prototype.isqr=function(k){return this.imul(k,k.clone())},E.prototype.sqr=function(k){return this.mul(k,k)},E.prototype.sqrt=function(k){if(k.isZero())return k.clone();var w=this.m.andln(3);if(o(w%2==1),w===3){var C=this.m.add(new u(1)).iushrn(2);return this.pow(k,C)}for(var S=this.m.subn(1),B=0;!S.isZero()&&S.andln(1)===0;)B++,S.iushrn(1);o(!S.isZero());var O=new u(1).toRed(this),V=O.redNeg(),M=this.m.subn(1).iushrn(1),U=this.m.bitLength();for(U=new u(2*U*U).toRed(this);this.pow(U,M).cmp(V)!==0;)U.redIAdd(V);for(var Q=this.pow(U,S),W=this.pow(k,S.addn(1).iushrn(1)),j=this.pow(k,S),X=B;j.cmp(O)!==0;){for(var z=j,H=0;z.cmp(O)!==0;H++)z=z.redSqr();o(H<X);var K=this.pow(Q,new u(1).iushln(X-H-1));W=W.redMul(K),Q=K.redSqr(),j=j.redMul(Q),X=H}return W},E.prototype.invm=function(k){var w=k._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},E.prototype.pow=function(k,w){if(w.isZero())return new u(1).toRed(this);if(w.cmpn(1)===0)return k.clone();var C=new Array(16);C[0]=new u(1).toRed(this),C[1]=k;for(var S=2;S<C.length;S++)C[S]=this.mul(C[S-1],k);var B=C[0],O=0,V=0,M=w.bitLength()%26;for(M===0&&(M=26),S=w.length-1;S>=0;S--){for(var U=w.words[S],Q=M-1;Q>=0;Q--){var W=U>>Q&1;B!==C[0]&&(B=this.sqr(B)),W!==0||O!==0?(O<<=1,O|=W,(++V===4||S===0&&Q===0)&&(B=this.mul(B,C[O]),V=0,O=0)):V=0}M=26}return B},E.prototype.convertTo=function(k){var w=k.umod(this.m);return w===k?w.clone():w},E.prototype.convertFrom=function(k){var w=k.clone();return w.red=null,w},u.mont=function(k){return new L(k)},l(L,E),L.prototype.convertTo=function(k){return this.imod(k.ushln(this.shift))},L.prototype.convertFrom=function(k){var w=this.imod(k.mul(this.rinv));return w.red=null,w},L.prototype.imul=function(k,w){if(k.isZero()||w.isZero())return k.words[0]=0,k.length=1,k;var C=k.imul(w),S=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),B=C.isub(S).iushrn(this.shift),O=B;return B.cmp(this.m)>=0?O=B.isub(this.m):B.cmpn(0)<0&&(O=B.iadd(this.m)),O._forceRed(this)},L.prototype.mul=function(k,w){if(k.isZero()||w.isZero())return new u(0)._forceRed(this);var C=k.mul(w),S=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),B=C.isub(S).iushrn(this.shift),O=B;return B.cmp(this.m)>=0?O=B.isub(this.m):B.cmpn(0)<0&&(O=B.iadd(this.m)),O._forceRed(this)},L.prototype.invm=function(k){return this.imod(k._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(e,n,i){var a;function s(l){this.rand=l}if(n.exports=function(l){return a||(a=new s(null)),a.generate(l)},n.exports.Rand=s,s.prototype.generate=function(l){return this._rand(l)},s.prototype._rand=function(l){if(this.rand.getBytes)return this.rand.getBytes(l);for(var u=new Uint8Array(l),c=0;c<u.length;c++)u[c]=this.rand.getByte();return u},typeof self=="object")self.crypto&&self.crypto.getRandomValues?s.prototype._rand=function(l){var u=new Uint8Array(l);return self.crypto.getRandomValues(u),u}:self.msCrypto&&self.msCrypto.getRandomValues?s.prototype._rand=function(l){var u=new Uint8Array(l);return self.msCrypto.getRandomValues(u),u}:typeof window=="object"&&(s.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=e("crypto");if(typeof o.randomBytes!="function")throw new Error("Not supported");s.prototype._rand=function(l){return o.randomBytes(l)}}catch{}},{crypto:188}],188:[function(e,n,i){},{}],189:[function(e,n,i){var a=e("safe-buffer").Buffer;function s(h){a.isBuffer(h)||(h=a.from(h));for(var d=h.length/4|0,A=new Array(d),p=0;p<d;p++)A[p]=h.readUInt32BE(4*p);return A}function o(h){for(;0<h.length;h++)h[0]=0}function l(h,d,A,p,g){for(var m,v,y,b,_=A[0],T=A[1],I=A[2],N=A[3],F=h[0]^d[0],P=h[1]^d[1],D=h[2]^d[2],R=h[3]^d[3],E=4,L=1;L<g;L++)m=_[F>>>24]^T[P>>>16&255]^I[D>>>8&255]^N[255&R]^d[E++],v=_[P>>>24]^T[D>>>16&255]^I[R>>>8&255]^N[255&F]^d[E++],y=_[D>>>24]^T[R>>>16&255]^I[F>>>8&255]^N[255&P]^d[E++],b=_[R>>>24]^T[F>>>16&255]^I[P>>>8&255]^N[255&D]^d[E++],F=m,P=v,D=y,R=b;return m=(p[F>>>24]<<24|p[P>>>16&255]<<16|p[D>>>8&255]<<8|p[255&R])^d[E++],v=(p[P>>>24]<<24|p[D>>>16&255]<<16|p[R>>>8&255]<<8|p[255&F])^d[E++],y=(p[D>>>24]<<24|p[R>>>16&255]<<16|p[F>>>8&255]<<8|p[255&P])^d[E++],b=(p[R>>>24]<<24|p[F>>>16&255]<<16|p[P>>>8&255]<<8|p[255&D])^d[E++],[m>>>=0,v>>>=0,y>>>=0,b>>>=0]}var u=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var h=new Array(256),d=0;d<256;d++)h[d]=d<128?d<<1:d<<1^283;for(var A=[],p=[],g=[[],[],[],[]],m=[[],[],[],[]],v=0,y=0,b=0;b<256;++b){var _=y^y<<1^y<<2^y<<3^y<<4;_=_>>>8^255&_^99,A[v]=_,p[_]=v;var T=h[v],I=h[T],N=h[I],F=257*h[_]^16843008*_;g[0][v]=F<<24|F>>>8,g[1][v]=F<<16|F>>>16,g[2][v]=F<<8|F>>>24,g[3][v]=F,F=16843009*N^65537*I^257*T^16843008*v,m[0][_]=F<<24|F>>>8,m[1][_]=F<<16|F>>>16,m[2][_]=F<<8|F>>>24,m[3][_]=F,v===0?v=y=1:(v=T^h[h[h[N^T]]],y^=h[h[y]])}return{SBOX:A,INV_SBOX:p,SUB_MIX:g,INV_SUB_MIX:m}}();function f(h){this._key=s(h),this._reset()}f.blockSize=16,f.keySize=32,f.prototype.blockSize=f.blockSize,f.prototype.keySize=f.keySize,f.prototype._reset=function(){for(var h=this._key,d=h.length,A=d+6,p=4*(A+1),g=[],m=0;m<d;m++)g[m]=h[m];for(m=d;m<p;m++){var v=g[m-1];m%d==0?(v=v<<8|v>>>24,v=c.SBOX[v>>>24]<<24|c.SBOX[v>>>16&255]<<16|c.SBOX[v>>>8&255]<<8|c.SBOX[255&v],v^=u[m/d|0]<<24):d>6&&m%d==4&&(v=c.SBOX[v>>>24]<<24|c.SBOX[v>>>16&255]<<16|c.SBOX[v>>>8&255]<<8|c.SBOX[255&v]),g[m]=g[m-d]^v}for(var y=[],b=0;b<p;b++){var _=p-b,T=g[_-(b%4?0:4)];y[b]=b<4||_<=4?T:c.INV_SUB_MIX[0][c.SBOX[T>>>24]]^c.INV_SUB_MIX[1][c.SBOX[T>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[T>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&T]]}this._nRounds=A,this._keySchedule=g,this._invKeySchedule=y},f.prototype.encryptBlockRaw=function(h){return l(h=s(h),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},f.prototype.encryptBlock=function(h){var d=this.encryptBlockRaw(h),A=a.allocUnsafe(16);return A.writeUInt32BE(d[0],0),A.writeUInt32BE(d[1],4),A.writeUInt32BE(d[2],8),A.writeUInt32BE(d[3],12),A},f.prototype.decryptBlock=function(h){var d=(h=s(h))[1];h[1]=h[3],h[3]=d;var A=l(h,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),p=a.allocUnsafe(16);return p.writeUInt32BE(A[0],0),p.writeUInt32BE(A[3],4),p.writeUInt32BE(A[2],8),p.writeUInt32BE(A[1],12),p},f.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},n.exports.AES=f},{"safe-buffer":494}],190:[function(e,n,i){var a=e("./aes"),s=e("safe-buffer").Buffer,o=e("cipher-base"),l=e("inherits"),u=e("./ghash"),c=e("buffer-xor"),f=e("./incr32");function h(d,A,p,g){o.call(this);var m=s.alloc(4,0);this._cipher=new a.AES(A);var v=this._cipher.encryptBlock(m);this._ghash=new u(v),p=function(y,b,_){if(b.length===12)return y._finID=s.concat([b,s.from([0,0,0,1])]),s.concat([b,s.from([0,0,0,2])]);var T=new u(_),I=b.length,N=I%16;T.update(b),N&&(N=16-N,T.update(s.alloc(N,0))),T.update(s.alloc(8,0));var F=8*I,P=s.alloc(8);P.writeUIntBE(F,0,8),T.update(P),y._finID=T.state;var D=s.from(y._finID);return f(D),D}(this,p,v),this._prev=s.from(p),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=g,this._alen=0,this._len=0,this._mode=d,this._authTag=null,this._called=!1}l(h,o),h.prototype._update=function(d){if(!this._called&&this._alen){var A=16-this._alen%16;A<16&&(A=s.alloc(A,0),this._ghash.update(A))}this._called=!0;var p=this._mode.encrypt(this,d);return this._decrypt?this._ghash.update(d):this._ghash.update(p),this._len+=d.length,p},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var d=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(A,p){var g=0;A.length!==p.length&&g++;for(var m=Math.min(A.length,p.length),v=0;v<m;++v)g+=A[v]^p[v];return g}(d,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=d,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!s.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(d){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=d},h.prototype.setAAD=function(d){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(d),this._alen+=d.length},n.exports=h},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,n,i){var a=e("./encrypter"),s=e("./decrypter"),o=e("./modes/list.json");i.createCipher=i.Cipher=a.createCipher,i.createCipheriv=i.Cipheriv=a.createCipheriv,i.createDecipher=i.Decipher=s.createDecipher,i.createDecipheriv=i.Decipheriv=s.createDecipheriv,i.listCiphers=i.getCiphers=function(){return Object.keys(o)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,n,i){var a=e("./authCipher"),s=e("safe-buffer").Buffer,o=e("./modes"),l=e("./streamCipher"),u=e("cipher-base"),c=e("./aes"),f=e("evp_bytestokey");function h(p,g,m){u.call(this),this._cache=new d,this._last=void 0,this._cipher=new c.AES(g),this._prev=s.from(m),this._mode=p,this._autopadding=!0}function d(){this.cache=s.allocUnsafe(0)}function A(p,g,m){var v=o[p.toLowerCase()];if(!v)throw new TypeError("invalid suite type");if(typeof m=="string"&&(m=s.from(m)),v.mode!=="GCM"&&m.length!==v.iv)throw new TypeError("invalid iv length "+m.length);if(typeof g=="string"&&(g=s.from(g)),g.length!==v.key/8)throw new TypeError("invalid key length "+g.length);return v.type==="stream"?new l(v.module,g,m,!0):v.type==="auth"?new a(v.module,g,m,!0):new h(v.module,g,m)}e("inherits")(h,u),h.prototype._update=function(p){var g,m;this._cache.add(p);for(var v=[];g=this._cache.get(this._autopadding);)m=this._mode.decrypt(this,g),v.push(m);return s.concat(v)},h.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return function(g){var m=g[15];if(m<1||m>16)throw new Error("unable to decrypt data");for(var v=-1;++v<m;)if(g[v+(16-m)]!==m)throw new Error("unable to decrypt data");if(m!==16)return g.slice(0,16-m)}(this._mode.decrypt(this,p));if(p)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},d.prototype.add=function(p){this.cache=s.concat([this.cache,p])},d.prototype.get=function(p){var g;if(p){if(this.cache.length>16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g}else if(this.cache.length>=16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},i.createDecipher=function(p,g){var m=o[p.toLowerCase()];if(!m)throw new TypeError("invalid suite type");var v=f(g,!1,m.key,m.iv);return A(p,v.key,v.iv)},i.createDecipheriv=A},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,n,i){var a=e("./modes"),s=e("./authCipher"),o=e("safe-buffer").Buffer,l=e("./streamCipher"),u=e("cipher-base"),c=e("./aes"),f=e("evp_bytestokey");function h(g,m,v){u.call(this),this._cache=new A,this._cipher=new c.AES(m),this._prev=o.from(v),this._mode=g,this._autopadding=!0}e("inherits")(h,u),h.prototype._update=function(g){var m,v;this._cache.add(g);for(var y=[];m=this._cache.get();)v=this._mode.encrypt(this,m),y.push(v);return o.concat(y)};var d=o.alloc(16,16);function A(){this.cache=o.allocUnsafe(0)}function p(g,m,v){var y=a[g.toLowerCase()];if(!y)throw new TypeError("invalid suite type");if(typeof m=="string"&&(m=o.from(m)),m.length!==y.key/8)throw new TypeError("invalid key length "+m.length);if(typeof v=="string"&&(v=o.from(v)),y.mode!=="GCM"&&v.length!==y.iv)throw new TypeError("invalid iv length "+v.length);return y.type==="stream"?new l(y.module,m,v):y.type==="auth"?new s(y.module,m,v):new h(y.module,m,v)}h.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return g=this._mode.encrypt(this,g),this._cipher.scrub(),g;if(!g.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},A.prototype.add=function(g){this.cache=o.concat([this.cache,g])},A.prototype.get=function(){if(this.cache.length>15){var g=this.cache.slice(0,16);return this.cache=this.cache.slice(16),g}return null},A.prototype.flush=function(){for(var g=16-this.cache.length,m=o.allocUnsafe(g),v=-1;++v<g;)m.writeUInt8(g,v);return o.concat([this.cache,m])},i.createCipheriv=p,i.createCipher=function(g,m){var v=a[g.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var y=f(m,!1,v.key,v.iv);return p(g,y.key,y.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,n,i){var a=e("safe-buffer").Buffer,s=a.alloc(16,0);function o(u){var c=a.allocUnsafe(16);return c.writeUInt32BE(u[0]>>>0,0),c.writeUInt32BE(u[1]>>>0,4),c.writeUInt32BE(u[2]>>>0,8),c.writeUInt32BE(u[3]>>>0,12),c}function l(u){this.h=u,this.state=a.alloc(16,0),this.cache=a.allocUnsafe(0)}l.prototype.ghash=function(u){for(var c=-1;++c<u.length;)this.state[c]^=u[c];this._multiply()},l.prototype._multiply=function(){for(var u,c,f,h=[(u=this.h).readUInt32BE(0),u.readUInt32BE(4),u.readUInt32BE(8),u.readUInt32BE(12)],d=[0,0,0,0],A=-1;++A<128;){for(this.state[~~(A/8)]&1<<7-A%8&&(d[0]^=h[0],d[1]^=h[1],d[2]^=h[2],d[3]^=h[3]),f=(1&h[3])!=0,c=3;c>0;c--)h[c]=h[c]>>>1|(1&h[c-1])<<31;h[0]=h[0]>>>1,f&&(h[0]=h[0]^225<<24)}this.state=o(d)},l.prototype.update=function(u){var c;for(this.cache=a.concat([this.cache,u]);this.cache.length>=16;)c=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(c)},l.prototype.final=function(u,c){return this.cache.length&&this.ghash(a.concat([this.cache,s],16)),this.ghash(o([0,u,0,c])),this.state},n.exports=l},{"safe-buffer":494}],195:[function(e,n,i){n.exports=function(a){for(var s,o=a.length;o--;){if((s=a.readUInt8(o))!==255){s++,a.writeUInt8(s,o);break}a.writeUInt8(0,o)}}},{}],196:[function(e,n,i){var a=e("buffer-xor");i.encrypt=function(s,o){var l=a(o,s._prev);return s._prev=s._cipher.encryptBlock(l),s._prev},i.decrypt=function(s,o){var l=s._prev;s._prev=o;var u=s._cipher.decryptBlock(o);return a(u,l)}},{"buffer-xor":219}],197:[function(e,n,i){var a=e("safe-buffer").Buffer,s=e("buffer-xor");function o(l,u,c){var f=u.length,h=s(u,l._cache);return l._cache=l._cache.slice(f),l._prev=a.concat([l._prev,c?u:h]),h}i.encrypt=function(l,u,c){for(var f,h=a.allocUnsafe(0);u.length;){if(l._cache.length===0&&(l._cache=l._cipher.encryptBlock(l._prev),l._prev=a.allocUnsafe(0)),!(l._cache.length<=u.length)){h=a.concat([h,o(l,u,c)]);break}f=l._cache.length,h=a.concat([h,o(l,u.slice(0,f),c)]),u=u.slice(f)}return h}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,n,i){var a=e("safe-buffer").Buffer;function s(l,u,c){for(var f,h,d=-1,A=0;++d<8;)f=u&1<<7-d?128:0,A+=(128&(h=l._cipher.encryptBlock(l._prev)[0]^f))>>d%8,l._prev=o(l._prev,c?f:h);return A}function o(l,u){var c=l.length,f=-1,h=a.allocUnsafe(l.length);for(l=a.concat([l,a.from([u])]);++f<c;)h[f]=l[f]<<1|l[f+1]>>7;return h}i.encrypt=function(l,u,c){for(var f=u.length,h=a.allocUnsafe(f),d=-1;++d<f;)h[d]=s(l,u[d],c);return h}},{"safe-buffer":494}],199:[function(e,n,i){var a=e("safe-buffer").Buffer;function s(o,l,u){var c=o._cipher.encryptBlock(o._prev)[0]^l;return o._prev=a.concat([o._prev.slice(1),a.from([u?l:c])]),c}i.encrypt=function(o,l,u){for(var c=l.length,f=a.allocUnsafe(c),h=-1;++h<c;)f[h]=s(o,l[h],u);return f}},{"safe-buffer":494}],200:[function(e,n,i){var a=e("buffer-xor"),s=e("safe-buffer").Buffer,o=e("../incr32");function l(u){var c=u._cipher.encryptBlockRaw(u._prev);return o(u._prev),c}i.encrypt=function(u,c){var f=Math.ceil(c.length/16),h=u._cache.length;u._cache=s.concat([u._cache,s.allocUnsafe(16*f)]);for(var d=0;d<f;d++){var A=l(u),p=h+16*d;u._cache.writeUInt32BE(A[0],p+0),u._cache.writeUInt32BE(A[1],p+4),u._cache.writeUInt32BE(A[2],p+8),u._cache.writeUInt32BE(A[3],p+12)}var g=u._cache.slice(0,c.length);return u._cache=u._cache.slice(c.length),a(c,g)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,n,i){i.encrypt=function(a,s){return a._cipher.encryptBlock(s)},i.decrypt=function(a,s){return a._cipher.decryptBlock(s)}},{}],202:[function(e,n,i){var a={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},s=e("./list.json");for(var o in s)s[o].module=a[s[o].mode];n.exports=s},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,n,i){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,n,i){(function(a){(function(){var s=e("buffer-xor");function o(l){return l._prev=l._cipher.encryptBlock(l._prev),l._prev}i.encrypt=function(l,u){for(;l._cache.length<u.length;)l._cache=a.concat([l._cache,o(l)]);var c=l._cache.slice(0,u.length);return l._cache=l._cache.slice(u.length),s(u,c)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,n,i){var a=e("./aes"),s=e("safe-buffer").Buffer,o=e("cipher-base");function l(u,c,f,h){o.call(this),this._cipher=new a.AES(c),this._prev=s.from(f),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=h,this._mode=u}e("inherits")(l,o),l.prototype._update=function(u){return this._mode.encrypt(this,u,this._decrypt)},l.prototype._final=function(){this._cipher.scrub()},n.exports=l},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,n,i){var a=e("browserify-des"),s=e("browserify-aes/browser"),o=e("browserify-aes/modes"),l=e("browserify-des/modes"),u=e("evp_bytestokey");function c(h,d,A){if(h=h.toLowerCase(),o[h])return s.createCipheriv(h,d,A);if(l[h])return new a({key:d,iv:A,mode:h});throw new TypeError("invalid suite type")}function f(h,d,A){if(h=h.toLowerCase(),o[h])return s.createDecipheriv(h,d,A);if(l[h])return new a({key:d,iv:A,mode:h,decrypt:!0});throw new TypeError("invalid suite type")}i.createCipher=i.Cipher=function(h,d){var A,p;if(h=h.toLowerCase(),o[h])A=o[h].key,p=o[h].iv;else{if(!l[h])throw new TypeError("invalid suite type");A=8*l[h].key,p=l[h].iv}var g=u(d,!1,A,p);return c(h,g.key,g.iv)},i.createCipheriv=i.Cipheriv=c,i.createDecipher=i.Decipher=function(h,d){var A,p;if(h=h.toLowerCase(),o[h])A=o[h].key,p=o[h].iv;else{if(!l[h])throw new TypeError("invalid suite type");A=8*l[h].key,p=l[h].iv}var g=u(d,!1,A,p);return f(h,g.key,g.iv)},i.createDecipheriv=i.Decipheriv=f,i.listCiphers=i.getCiphers=function(){return Object.keys(l).concat(s.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,n,i){var a=e("cipher-base"),s=e("des.js"),o=e("inherits"),l=e("safe-buffer").Buffer,u={"des-ede3-cbc":s.CBC.instantiate(s.EDE),"des-ede3":s.EDE,"des-ede-cbc":s.CBC.instantiate(s.EDE),"des-ede":s.EDE,"des-cbc":s.CBC.instantiate(s.DES),"des-ecb":s.DES};function c(f){a.call(this);var h,d=f.mode.toLowerCase(),A=u[d];h=f.decrypt?"decrypt":"encrypt";var p=f.key;l.isBuffer(p)||(p=l.from(p)),d!=="des-ede"&&d!=="des-ede-cbc"||(p=l.concat([p,p.slice(0,8)]));var g=f.iv;l.isBuffer(g)||(g=l.from(g)),this._des=A.create({key:p,iv:g,type:h})}u.des=u["des-cbc"],u.des3=u["des-ede3-cbc"],n.exports=c,o(c,a),c.prototype._update=function(f){return l.from(this._des.update(f))},c.prototype._final=function(){return l.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,n,i){i["des-ecb"]={key:8,iv:0},i["des-cbc"]=i.des={key:8,iv:8},i["des-ede3-cbc"]=i.des3={key:24,iv:8},i["des-ede3"]={key:24,iv:0},i["des-ede-cbc"]={key:16,iv:8},i["des-ede"]={key:16,iv:0}},{}],209:[function(e,n,i){(function(a){(function(){var s=e("bn.js"),o=e("randombytes");function l(c){var f,h=c.modulus.byteLength();do f=new s(o(h));while(f.cmp(c.modulus)>=0||!f.umod(c.prime1)||!f.umod(c.prime2));return f}function u(c,f){var h=function(I){var N=l(I);return{blinder:N.toRed(s.mont(I.modulus)).redPow(new s(I.publicExponent)).fromRed(),unblinder:N.invm(I.modulus)}}(f),d=f.modulus.byteLength(),A=new s(c).mul(h.blinder).umod(f.modulus),p=A.toRed(s.mont(f.prime1)),g=A.toRed(s.mont(f.prime2)),m=f.coefficient,v=f.prime1,y=f.prime2,b=p.redPow(f.exponent1).fromRed(),_=g.redPow(f.exponent2).fromRed(),T=b.isub(_).imul(m).umod(v).imul(y);return _.iadd(T).imul(h.unblinder).umod(f.modulus).toArrayLike(a,"be",d)}u.getr=l,n.exports=u}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,n,i){n.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,n,i){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,n,i){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,n,i){var a=e("safe-buffer").Buffer,s=e("create-hash"),o=e("readable-stream"),l=e("inherits"),u=e("./sign"),c=e("./verify"),f=e("./algorithms.json");function h(g){o.Writable.call(this);var m=f[g];if(!m)throw new Error("Unknown message digest");this._hashType=m.hash,this._hash=s(m.hash),this._tag=m.id,this._signType=m.sign}function d(g){o.Writable.call(this);var m=f[g];if(!m)throw new Error("Unknown message digest");this._hash=s(m.hash),this._tag=m.id,this._signType=m.sign}function A(g){return new h(g)}function p(g){return new d(g)}Object.keys(f).forEach(function(g){f[g].id=a.from(f[g].id,"hex"),f[g.toLowerCase()]=f[g]}),l(h,o.Writable),h.prototype._write=function(g,m,v){this._hash.update(g),v()},h.prototype.update=function(g,m){return typeof g=="string"&&(g=a.from(g,m)),this._hash.update(g),this},h.prototype.sign=function(g,m){this.end();var v=this._hash.digest(),y=u(v,g,this._hashType,this._signType,this._tag);return m?y.toString(m):y},l(d,o.Writable),d.prototype._write=function(g,m,v){this._hash.update(g),v()},d.prototype.update=function(g,m){return typeof g=="string"&&(g=a.from(g,m)),this._hash.update(g),this},d.prototype.verify=function(g,m,v){typeof m=="string"&&(m=a.from(m,v)),this.end();var y=this._hash.digest();return c(m,y,g,this._signType,this._tag)},n.exports={Sign:A,Verify:p,createSign:A,createVerify:p}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,n,i){var a=e("safe-buffer").Buffer,s=e("create-hmac"),o=e("browserify-rsa"),l=e("elliptic").ec,u=e("bn.js"),c=e("parse-asn1"),f=e("./curves.json");function h(g,m,v,y){if((g=a.from(g.toArray())).length<m.byteLength()){var b=a.alloc(m.byteLength()-g.length);g=a.concat([b,g])}var _=v.length,T=function(F,P){F=(F=d(F,P)).mod(P);var D=a.from(F.toArray());if(D.length<P.byteLength()){var R=a.alloc(P.byteLength()-D.length);D=a.concat([R,D])}return D}(v,m),I=a.alloc(_);I.fill(1);var N=a.alloc(_);return N=s(y,N).update(I).update(a.from([0])).update(g).update(T).digest(),I=s(y,N).update(I).digest(),{k:N=s(y,N).update(I).update(a.from([1])).update(g).update(T).digest(),v:I=s(y,N).update(I).digest()}}function d(g,m){var v=new u(g),y=(g.length<<3)-m.bitLength();return y>0&&v.ishrn(y),v}function A(g,m,v){var y,b;do{for(y=a.alloc(0);8*y.length<g.bitLength();)m.v=s(v,m.k).update(m.v).digest(),y=a.concat([y,m.v]);b=d(y,g),m.k=s(v,m.k).update(m.v).update(a.from([0])).digest(),m.v=s(v,m.k).update(m.v).digest()}while(b.cmp(g)!==-1);return b}function p(g,m,v,y){return g.toRed(u.mont(v)).redPow(m).fromRed().mod(y)}n.exports=function(g,m,v,y,b){var _=c(m);if(_.curve){if(y!=="ecdsa"&&y!=="ecdsa/rsa")throw new Error("wrong private key type");return function(F,P){var D=f[P.curve.join(".")];if(!D)throw new Error("unknown curve "+P.curve.join("."));var R=new l(D).keyFromPrivate(P.privateKey).sign(F);return a.from(R.toDER())}(g,_)}if(_.type==="dsa"){if(y!=="dsa")throw new Error("wrong private key type");return function(F,P,D){for(var R,E=P.params.priv_key,L=P.params.p,k=P.params.q,w=P.params.g,C=new u(0),S=d(F,k).mod(k),B=!1,O=h(E,k,F,D);B===!1;)R=A(k,O,D),C=p(w,R,L,k),(B=R.invm(k).imul(S.add(E.mul(C))).mod(k)).cmpn(0)===0&&(B=!1,C=new u(0));return function(V,M){V=V.toArray(),M=M.toArray(),128&V[0]&&(V=[0].concat(V)),128&M[0]&&(M=[0].concat(M));var U=[48,V.length+M.length+4,2,V.length];return U=U.concat(V,[2,M.length],M),a.from(U)}(C,B)}(g,_,v)}if(y!=="rsa"&&y!=="ecdsa/rsa")throw new Error("wrong private key type");g=a.concat([b,g]);for(var T=_.modulus.byteLength(),I=[0,1];g.length+I.length+1<T;)I.push(255);I.push(0);for(var N=-1;++N<g.length;)I.push(g[N]);return o(I,_)},n.exports.getKey=h,n.exports.makeKey=A},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,n,i){var a=e("safe-buffer").Buffer,s=e("bn.js"),o=e("elliptic").ec,l=e("parse-asn1"),u=e("./curves.json");function c(f,h){if(f.cmpn(0)<=0)throw new Error("invalid sig");if(f.cmp(h)>=h)throw new Error("invalid sig")}n.exports=function(f,h,d,A,p){var g=l(d);if(g.type==="ec"){if(A!=="ecdsa"&&A!=="ecdsa/rsa")throw new Error("wrong public key type");return function(I,N,F){var P=u[F.data.algorithm.curve.join(".")];if(!P)throw new Error("unknown curve "+F.data.algorithm.curve.join("."));var D=new o(P),R=F.data.subjectPrivateKey.data;return D.verify(N,I,R)}(f,h,g)}if(g.type==="dsa"){if(A!=="dsa")throw new Error("wrong public key type");return function(I,N,F){var P=F.data.p,D=F.data.q,R=F.data.g,E=F.data.pub_key,L=l.signature.decode(I,"der"),k=L.s,w=L.r;c(k,D),c(w,D);var C=s.mont(P),S=k.invm(D);return R.toRed(C).redPow(new s(N).mul(S).mod(D)).fromRed().mul(E.toRed(C).redPow(w.mul(S).mod(D)).fromRed()).mod(P).mod(D).cmp(w)===0}(f,h,g)}if(A!=="rsa"&&A!=="ecdsa/rsa")throw new Error("wrong public key type");h=a.concat([p,h]);for(var m=g.modulus.byteLength(),v=[1],y=0;h.length+v.length+2<m;)v.push(255),y++;v.push(0);for(var b=-1;++b<h.length;)v.push(h[b]);v=a.from(v);var _=s.mont(g.modulus);f=(f=new s(f).toRed(_)).redPow(new s(g.publicExponent)),f=a.from(f.fromRed().toArray());var T=y<8?1:0;for(m=Math.min(f.length,v.length),f.length!==v.length&&(T=1),b=-1;++b<m;)T|=f[b]^v[b];return T===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,n,i){},{}],217:[function(e,n,i){var a=e("buffer"),s=a.Buffer;function o(u,c){for(var f in u)c[f]=u[f]}function l(u,c,f){return s(u,c,f)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?n.exports=a:(o(a,i),i.Buffer=l),o(s,l),l.from=function(u,c,f){if(typeof u=="number")throw new TypeError("Argument must not be a number");return s(u,c,f)},l.alloc=function(u,c,f){if(typeof u!="number")throw new TypeError("Argument must be a number");var h=s(u);return c!==void 0?typeof f=="string"?h.fill(c,f):h.fill(c):h.fill(0),h},l.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return s(u)},l.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(u)}},{buffer:220}],218:[function(e,n,i){var a=e("safe-buffer").Buffer,s=a.isEncoding||function(g){switch((g=""+g)&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(g){var m;switch(this.encoding=function(v){var y=function(b){if(!b)return"utf8";for(var _;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(_)return;b=(""+b).toLowerCase(),_=!0}}(v);if(typeof y!="string"&&(a.isEncoding===s||!s(v)))throw new Error("Unknown encoding: "+v);return y||v}(g),this.encoding){case"utf16le":this.text=c,this.end=f,m=4;break;case"utf8":this.fillLast=u,m=4;break;case"base64":this.text=h,this.end=d,m=3;break;default:return this.write=A,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(m)}function l(g){return g<=127?0:g>>5==6?2:g>>4==14?3:g>>3==30?4:g>>6==2?-1:-2}function u(g){var m=this.lastTotal-this.lastNeed,v=function(y,b,_){if((192&b[0])!=128)return y.lastNeed=0,"";if(y.lastNeed>1&&b.length>1){if((192&b[1])!=128)return y.lastNeed=1,"";if(y.lastNeed>2&&b.length>2&&(192&b[2])!=128)return y.lastNeed=2,""}}(this,g);return v!==void 0?v:this.lastNeed<=g.length?(g.copy(this.lastChar,m,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(g.copy(this.lastChar,m,0,g.length),void(this.lastNeed-=g.length))}function c(g,m){if((g.length-m)%2==0){var v=g.toString("utf16le",m);if(v){var y=v.charCodeAt(v.length-1);if(y>=55296&&y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",m,g.length-1)}function f(g){var m=g&&g.length?this.write(g):"";if(this.lastNeed){var v=this.lastTotal-this.lastNeed;return m+this.lastChar.toString("utf16le",0,v)}return m}function h(g,m){var v=(g.length-m)%3;return v===0?g.toString("base64",m):(this.lastNeed=3-v,this.lastTotal=3,v===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",m,g.length-v))}function d(g){var m=g&&g.length?this.write(g):"";return this.lastNeed?m+this.lastChar.toString("base64",0,3-this.lastNeed):m}function A(g){return g.toString(this.encoding)}function p(g){return g&&g.length?this.write(g):""}i.StringDecoder=o,o.prototype.write=function(g){if(g.length===0)return"";var m,v;if(this.lastNeed){if((m=this.fillLast(g))===void 0)return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<g.length?m?m+this.text(g,v):this.text(g,v):m||""},o.prototype.end=function(g){var m=g&&g.length?this.write(g):"";return this.lastNeed?m+"":m},o.prototype.text=function(g,m){var v=function(b,_,T){var I=_.length-1;if(I<T)return 0;var N=l(_[I]);return N>=0?(N>0&&(b.lastNeed=N-1),N):--I<T||N===-2?0:(N=l(_[I]))>=0?(N>0&&(b.lastNeed=N-2),N):--I<T||N===-2?0:(N=l(_[I]))>=0?(N>0&&(N===2?N=0:b.lastNeed=N-3),N):0}(this,g,m);if(!this.lastNeed)return g.toString("utf8",m);this.lastTotal=v;var y=g.length-(v-this.lastNeed);return g.copy(this.lastChar,0,y),g.toString("utf8",m,y)},o.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length}},{"safe-buffer":217}],219:[function(e,n,i){(function(a){(function(){n.exports=function(s,o){for(var l=Math.min(s.length,o.length),u=new a(l),c=0;c<l;++c)u[c]=s[c]^o[c];return u}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,n,i){(function(a){(function(){var s=e("base64-js"),o=e("ieee754");i.Buffer=u,i.SlowBuffer=function(z){return+z!=z&&(z=0),u.alloc(+z)},i.INSPECT_MAX_BYTES=50;function l(z){if(z>2147483647)throw new RangeError('The value "'+z+'" is invalid for option "size"');var H=new Uint8Array(z);return H.__proto__=u.prototype,H}function u(z,H,K){if(typeof z=="number"){if(typeof H=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(z)}return c(z,H,K)}function c(z,H,K){if(typeof z=="string")return function(ee,ne){if(typeof ne=="string"&&ne!==""||(ne="utf8"),!u.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);var te=0|p(ee,ne),le=l(te),re=le.write(ee,ne);return re!==te&&(le=le.slice(0,re)),le}(z,H);if(ArrayBuffer.isView(z))return d(z);if(z==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(j(z,ArrayBuffer)||z&&j(z.buffer,ArrayBuffer))return function(ee,ne,te){if(ne<0||ee.byteLength<ne)throw new RangeError('"offset" is outside of buffer bounds');if(ee.byteLength<ne+(te||0))throw new RangeError('"length" is outside of buffer bounds');var le;return le=ne===void 0&&te===void 0?new Uint8Array(ee):te===void 0?new Uint8Array(ee,ne):new Uint8Array(ee,ne,te),le.__proto__=u.prototype,le}(z,H,K);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Z=z.valueOf&&z.valueOf();if(Z!=null&&Z!==z)return u.from(Z,H,K);var ie=function(ee){if(u.isBuffer(ee)){var ne=0|A(ee.length),te=l(ne);return te.length===0||ee.copy(te,0,0,ne),te}if(ee.length!==void 0)return typeof ee.length!="number"||X(ee.length)?l(0):d(ee);if(ee.type==="Buffer"&&Array.isArray(ee.data))return d(ee.data)}(z);if(ie)return ie;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return u.from(z[Symbol.toPrimitive]("string"),H,K);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}function f(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function h(z){return f(z),l(z<0?0:0|A(z))}function d(z){for(var H=z.length<0?0:0|A(z.length),K=l(H),Z=0;Z<H;Z+=1)K[Z]=255&z[Z];return K}function A(z){if(z>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|z}function p(z,H){if(u.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||j(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);var K=z.length,Z=arguments.length>2&&arguments[2]===!0;if(!Z&&K===0)return 0;for(var ie=!1;;)switch(H){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":return U(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*K;case"hex":return K>>>1;case"base64":return Q(z).length;default:if(ie)return Z?-1:U(z).length;H=(""+H).toLowerCase(),ie=!0}}function g(z,H,K){var Z=!1;if((H===void 0||H<0)&&(H=0),H>this.length||((K===void 0||K>this.length)&&(K=this.length),K<=0)||(K>>>=0)<=(H>>>=0))return"";for(z||(z="utf8");;)switch(z){case"hex":return L(this,H,K);case"utf8":case"utf-8":return D(this,H,K);case"ascii":return R(this,H,K);case"latin1":case"binary":return E(this,H,K);case"base64":return P(this,H,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,H,K);default:if(Z)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),Z=!0}}function m(z,H,K){var Z=z[H];z[H]=z[K],z[K]=Z}function v(z,H,K,Z,ie){if(z.length===0)return-1;if(typeof K=="string"?(Z=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),X(K=+K)&&(K=ie?0:z.length-1),K<0&&(K=z.length+K),K>=z.length){if(ie)return-1;K=z.length-1}else if(K<0){if(!ie)return-1;K=0}if(typeof H=="string"&&(H=u.from(H,Z)),u.isBuffer(H))return H.length===0?-1:y(z,H,K,Z,ie);if(typeof H=="number")return H&=255,typeof Uint8Array.prototype.indexOf=="function"?ie?Uint8Array.prototype.indexOf.call(z,H,K):Uint8Array.prototype.lastIndexOf.call(z,H,K):y(z,[H],K,Z,ie);throw new TypeError("val must be string, number or Buffer")}function y(z,H,K,Z,ie){var ee,ne=1,te=z.length,le=H.length;if(Z!==void 0&&((Z=String(Z).toLowerCase())==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(z.length<2||H.length<2)return-1;ne=2,te/=2,le/=2,K/=2}function re(Se,De){return ne===1?Se[De]:Se.readUInt16BE(De*ne)}if(ie){var de=-1;for(ee=K;ee<te;ee++)if(re(z,ee)===re(H,de===-1?0:ee-de)){if(de===-1&&(de=ee),ee-de+1===le)return de*ne}else de!==-1&&(ee-=ee-de),de=-1}else for(K+le>te&&(K=te-le),ee=K;ee>=0;ee--){for(var ue=!0,Fe=0;Fe<le;Fe++)if(re(z,ee+Fe)!==re(H,Fe)){ue=!1;break}if(ue)return ee}return-1}function b(z,H,K,Z){K=Number(K)||0;var ie=z.length-K;Z?(Z=Number(Z))>ie&&(Z=ie):Z=ie;var ee=H.length;Z>ee/2&&(Z=ee/2);for(var ne=0;ne<Z;++ne){var te=parseInt(H.substr(2*ne,2),16);if(X(te))return ne;z[K+ne]=te}return ne}function _(z,H,K,Z){return W(U(H,z.length-K),z,K,Z)}function T(z,H,K,Z){return W(function(ie){for(var ee=[],ne=0;ne<ie.length;++ne)ee.push(255&ie.charCodeAt(ne));return ee}(H),z,K,Z)}function I(z,H,K,Z){return T(z,H,K,Z)}function N(z,H,K,Z){return W(Q(H),z,K,Z)}function F(z,H,K,Z){return W(function(ie,ee){for(var ne,te,le,re=[],de=0;de<ie.length&&!((ee-=2)<0);++de)ne=ie.charCodeAt(de),te=ne>>8,le=ne%256,re.push(le),re.push(te);return re}(H,z.length-K),z,K,Z)}function P(z,H,K){return H===0&&K===z.length?s.fromByteArray(z):s.fromByteArray(z.slice(H,K))}function D(z,H,K){K=Math.min(z.length,K);for(var Z=[],ie=H;ie<K;){var ee,ne,te,le,re=z[ie],de=null,ue=re>239?4:re>223?3:re>191?2:1;if(ie+ue<=K)switch(ue){case 1:re<128&&(de=re);break;case 2:(192&(ee=z[ie+1]))==128&&(le=(31&re)<<6|63&ee)>127&&(de=le);break;case 3:ee=z[ie+1],ne=z[ie+2],(192&ee)==128&&(192&ne)==128&&(le=(15&re)<<12|(63&ee)<<6|63&ne)>2047&&(le<55296||le>57343)&&(de=le);break;case 4:ee=z[ie+1],ne=z[ie+2],te=z[ie+3],(192&ee)==128&&(192&ne)==128&&(192&te)==128&&(le=(15&re)<<18|(63&ee)<<12|(63&ne)<<6|63&te)>65535&&le<1114112&&(de=le)}de===null?(de=65533,ue=1):de>65535&&(de-=65536,Z.push(de>>>10&1023|55296),de=56320|1023&de),Z.push(de),ie+=ue}return function(Fe){var Se=Fe.length;if(Se<=4096)return String.fromCharCode.apply(String,Fe);for(var De="",ge=0;ge<Se;)De+=String.fromCharCode.apply(String,Fe.slice(ge,ge+=4096));return De}(Z)}i.kMaxLength=2147483647,u.TYPED_ARRAY_SUPPORT=function(){try{var z=new Uint8Array(1);return z.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},z.foo()===42}catch{return!1}}(),u.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),u.poolSize=8192,u.from=function(z,H,K){return c(z,H,K)},u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,u.alloc=function(z,H,K){return function(Z,ie,ee){return f(Z),Z<=0?l(Z):ie!==void 0?typeof ee=="string"?l(Z).fill(ie,ee):l(Z).fill(ie):l(Z)}(z,H,K)},u.allocUnsafe=function(z){return h(z)},u.allocUnsafeSlow=function(z){return h(z)},u.isBuffer=function(z){return z!=null&&z._isBuffer===!0&&z!==u.prototype},u.compare=function(z,H){if(j(z,Uint8Array)&&(z=u.from(z,z.offset,z.byteLength)),j(H,Uint8Array)&&(H=u.from(H,H.offset,H.byteLength)),!u.isBuffer(z)||!u.isBuffer(H))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(z===H)return 0;for(var K=z.length,Z=H.length,ie=0,ee=Math.min(K,Z);ie<ee;++ie)if(z[ie]!==H[ie]){K=z[ie],Z=H[ie];break}return K<Z?-1:Z<K?1:0},u.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(z,H){if(!Array.isArray(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return u.alloc(0);var K;if(H===void 0)for(H=0,K=0;K<z.length;++K)H+=z[K].length;var Z=u.allocUnsafe(H),ie=0;for(K=0;K<z.length;++K){var ee=z[K];if(j(ee,Uint8Array)&&(ee=u.from(ee)),!u.isBuffer(ee))throw new TypeError('"list" argument must be an Array of Buffers');ee.copy(Z,ie),ie+=ee.length}return Z},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var z=this.length;if(z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var H=0;H<z;H+=2)m(this,H,H+1);return this},u.prototype.swap32=function(){var z=this.length;if(z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var H=0;H<z;H+=4)m(this,H,H+3),m(this,H+1,H+2);return this},u.prototype.swap64=function(){var z=this.length;if(z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var H=0;H<z;H+=8)m(this,H,H+7),m(this,H+1,H+6),m(this,H+2,H+5),m(this,H+3,H+4);return this},u.prototype.toString=function(){var z=this.length;return z===0?"":arguments.length===0?D(this,0,z):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(z){if(!u.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z||u.compare(this,z)===0},u.prototype.inspect=function(){var z="",H=i.INSPECT_MAX_BYTES;return z=this.toString("hex",0,H).replace(/(.{2})/g,"$1 ").trim(),this.length>H&&(z+=" ... "),"<Buffer "+z+">"},u.prototype.compare=function(z,H,K,Z,ie){if(j(z,Uint8Array)&&(z=u.from(z,z.offset,z.byteLength)),!u.isBuffer(z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof z);if(H===void 0&&(H=0),K===void 0&&(K=z?z.length:0),Z===void 0&&(Z=0),ie===void 0&&(ie=this.length),H<0||K>z.length||Z<0||ie>this.length)throw new RangeError("out of range index");if(Z>=ie&&H>=K)return 0;if(Z>=ie)return-1;if(H>=K)return 1;if(this===z)return 0;for(var ee=(ie>>>=0)-(Z>>>=0),ne=(K>>>=0)-(H>>>=0),te=Math.min(ee,ne),le=this.slice(Z,ie),re=z.slice(H,K),de=0;de<te;++de)if(le[de]!==re[de]){ee=le[de],ne=re[de];break}return ee<ne?-1:ne<ee?1:0},u.prototype.includes=function(z,H,K){return this.indexOf(z,H,K)!==-1},u.prototype.indexOf=function(z,H,K){return v(this,z,H,K,!0)},u.prototype.lastIndexOf=function(z,H,K){return v(this,z,H,K,!1)},u.prototype.write=function(z,H,K,Z){if(H===void 0)Z="utf8",K=this.length,H=0;else if(K===void 0&&typeof H=="string")Z=H,K=this.length,H=0;else{if(!isFinite(H))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");H>>>=0,isFinite(K)?(K>>>=0,Z===void 0&&(Z="utf8")):(Z=K,K=void 0)}var ie=this.length-H;if((K===void 0||K>ie)&&(K=ie),z.length>0&&(K<0||H<0)||H>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(var ee=!1;;)switch(Z){case"hex":return b(this,z,H,K);case"utf8":case"utf-8":return _(this,z,H,K);case"ascii":return T(this,z,H,K);case"latin1":case"binary":return I(this,z,H,K);case"base64":return N(this,z,H,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,z,H,K);default:if(ee)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),ee=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function R(z,H,K){var Z="";K=Math.min(z.length,K);for(var ie=H;ie<K;++ie)Z+=String.fromCharCode(127&z[ie]);return Z}function E(z,H,K){var Z="";K=Math.min(z.length,K);for(var ie=H;ie<K;++ie)Z+=String.fromCharCode(z[ie]);return Z}function L(z,H,K){var Z=z.length;(!H||H<0)&&(H=0),(!K||K<0||K>Z)&&(K=Z);for(var ie="",ee=H;ee<K;++ee)ie+=M(z[ee]);return ie}function k(z,H,K){for(var Z=z.slice(H,K),ie="",ee=0;ee<Z.length;ee+=2)ie+=String.fromCharCode(Z[ee]+256*Z[ee+1]);return ie}function w(z,H,K){if(z%1!=0||z<0)throw new RangeError("offset is not uint");if(z+H>K)throw new RangeError("Trying to access beyond buffer length")}function C(z,H,K,Z,ie,ee){if(!u.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(H>ie||H<ee)throw new RangeError('"value" argument is out of bounds');if(K+Z>z.length)throw new RangeError("Index out of range")}function S(z,H,K,Z,ie,ee){if(K+Z>z.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function B(z,H,K,Z,ie){return H=+H,K>>>=0,ie||S(z,0,K,4),o.write(z,H,K,Z,23,4),K+4}function O(z,H,K,Z,ie){return H=+H,K>>>=0,ie||S(z,0,K,8),o.write(z,H,K,Z,52,8),K+8}u.prototype.slice=function(z,H){var K=this.length;(z=~~z)<0?(z+=K)<0&&(z=0):z>K&&(z=K),(H=H===void 0?K:~~H)<0?(H+=K)<0&&(H=0):H>K&&(H=K),H<z&&(H=z);var Z=this.subarray(z,H);return Z.__proto__=u.prototype,Z},u.prototype.readUIntLE=function(z,H,K){z>>>=0,H>>>=0,K||w(z,H,this.length);for(var Z=this[z],ie=1,ee=0;++ee<H&&(ie*=256);)Z+=this[z+ee]*ie;return Z},u.prototype.readUIntBE=function(z,H,K){z>>>=0,H>>>=0,K||w(z,H,this.length);for(var Z=this[z+--H],ie=1;H>0&&(ie*=256);)Z+=this[z+--H]*ie;return Z},u.prototype.readUInt8=function(z,H){return z>>>=0,H||w(z,1,this.length),this[z]},u.prototype.readUInt16LE=function(z,H){return z>>>=0,H||w(z,2,this.length),this[z]|this[z+1]<<8},u.prototype.readUInt16BE=function(z,H){return z>>>=0,H||w(z,2,this.length),this[z]<<8|this[z+1]},u.prototype.readUInt32LE=function(z,H){return z>>>=0,H||w(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+16777216*this[z+3]},u.prototype.readUInt32BE=function(z,H){return z>>>=0,H||w(z,4,this.length),16777216*this[z]+(this[z+1]<<16|this[z+2]<<8|this[z+3])},u.prototype.readIntLE=function(z,H,K){z>>>=0,H>>>=0,K||w(z,H,this.length);for(var Z=this[z],ie=1,ee=0;++ee<H&&(ie*=256);)Z+=this[z+ee]*ie;return Z>=(ie*=128)&&(Z-=Math.pow(2,8*H)),Z},u.prototype.readIntBE=function(z,H,K){z>>>=0,H>>>=0,K||w(z,H,this.length);for(var Z=H,ie=1,ee=this[z+--Z];Z>0&&(ie*=256);)ee+=this[z+--Z]*ie;return ee>=(ie*=128)&&(ee-=Math.pow(2,8*H)),ee},u.prototype.readInt8=function(z,H){return z>>>=0,H||w(z,1,this.length),128&this[z]?-1*(255-this[z]+1):this[z]},u.prototype.readInt16LE=function(z,H){z>>>=0,H||w(z,2,this.length);var K=this[z]|this[z+1]<<8;return 32768&K?4294901760|K:K},u.prototype.readInt16BE=function(z,H){z>>>=0,H||w(z,2,this.length);var K=this[z+1]|this[z]<<8;return 32768&K?4294901760|K:K},u.prototype.readInt32LE=function(z,H){return z>>>=0,H||w(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},u.prototype.readInt32BE=function(z,H){return z>>>=0,H||w(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},u.prototype.readFloatLE=function(z,H){return z>>>=0,H||w(z,4,this.length),o.read(this,z,!0,23,4)},u.prototype.readFloatBE=function(z,H){return z>>>=0,H||w(z,4,this.length),o.read(this,z,!1,23,4)},u.prototype.readDoubleLE=function(z,H){return z>>>=0,H||w(z,8,this.length),o.read(this,z,!0,52,8)},u.prototype.readDoubleBE=function(z,H){return z>>>=0,H||w(z,8,this.length),o.read(this,z,!1,52,8)},u.prototype.writeUIntLE=function(z,H,K,Z){z=+z,H>>>=0,K>>>=0,Z||C(this,z,H,K,Math.pow(2,8*K)-1,0);var ie=1,ee=0;for(this[H]=255&z;++ee<K&&(ie*=256);)this[H+ee]=z/ie&255;return H+K},u.prototype.writeUIntBE=function(z,H,K,Z){z=+z,H>>>=0,K>>>=0,Z||C(this,z,H,K,Math.pow(2,8*K)-1,0);var ie=K-1,ee=1;for(this[H+ie]=255&z;--ie>=0&&(ee*=256);)this[H+ie]=z/ee&255;return H+K},u.prototype.writeUInt8=function(z,H,K){return z=+z,H>>>=0,K||C(this,z,H,1,255,0),this[H]=255&z,H+1},u.prototype.writeUInt16LE=function(z,H,K){return z=+z,H>>>=0,K||C(this,z,H,2,65535,0),this[H]=255&z,this[H+1]=z>>>8,H+2},u.prototype.writeUInt16BE=function(z,H,K){return z=+z,H>>>=0,K||C(this,z,H,2,65535,0),this[H]=z>>>8,this[H+1]=255&z,H+2},u.prototype.writeUInt32LE=function(z,H,K){return z=+z,H>>>=0,K||C(this,z,H,4,4294967295,0),this[H+3]=z>>>24,this[H+2]=z>>>16,this[H+1]=z>>>8,this[H]=255&z,H+4},u.prototype.writeUInt32BE=function(z,H,K){return z=+z,H>>>=0,K||C(this,z,H,4,4294967295,0),this[H]=z>>>24,this[H+1]=z>>>16,this[H+2]=z>>>8,this[H+3]=255&z,H+4},u.prototype.writeIntLE=function(z,H,K,Z){if(z=+z,H>>>=0,!Z){var ie=Math.pow(2,8*K-1);C(this,z,H,K,ie-1,-ie)}var ee=0,ne=1,te=0;for(this[H]=255&z;++ee<K&&(ne*=256);)z<0&&te===0&&this[H+ee-1]!==0&&(te=1),this[H+ee]=(z/ne>>0)-te&255;return H+K},u.prototype.writeIntBE=function(z,H,K,Z){if(z=+z,H>>>=0,!Z){var ie=Math.pow(2,8*K-1);C(this,z,H,K,ie-1,-ie)}var ee=K-1,ne=1,te=0;for(this[H+ee]=255&z;--ee>=0&&(ne*=256);)z<0&&te===0&&this[H+ee+1]!==0&&(te=1),this[H+ee]=(z/ne>>0)-te&255;return H+K},u.prototype.writeInt8=function(z,H,K){return z=+z,H>>>=0,K||C(this,z,H,1,127,-128),z<0&&(z=255+z+1),this[H]=255&z,H+1},u.prototype.writeInt16LE=function(z,H,K){return z=+z,H>>>=0,K||C(this,z,H,2,32767,-32768),this[H]=255&z,this[H+1]=z>>>8,H+2},u.prototype.writeInt16BE=function(z,H,K){return z=+z,H>>>=0,K||C(this,z,H,2,32767,-32768),this[H]=z>>>8,this[H+1]=255&z,H+2},u.prototype.writeInt32LE=function(z,H,K){return z=+z,H>>>=0,K||C(this,z,H,4,2147483647,-2147483648),this[H]=255&z,this[H+1]=z>>>8,this[H+2]=z>>>16,this[H+3]=z>>>24,H+4},u.prototype.writeInt32BE=function(z,H,K){return z=+z,H>>>=0,K||C(this,z,H,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),this[H]=z>>>24,this[H+1]=z>>>16,this[H+2]=z>>>8,this[H+3]=255&z,H+4},u.prototype.writeFloatLE=function(z,H,K){return B(this,z,H,!0,K)},u.prototype.writeFloatBE=function(z,H,K){return B(this,z,H,!1,K)},u.prototype.writeDoubleLE=function(z,H,K){return O(this,z,H,!0,K)},u.prototype.writeDoubleBE=function(z,H,K){return O(this,z,H,!1,K)},u.prototype.copy=function(z,H,K,Z){if(!u.isBuffer(z))throw new TypeError("argument should be a Buffer");if(K||(K=0),Z||Z===0||(Z=this.length),H>=z.length&&(H=z.length),H||(H=0),Z>0&&Z<K&&(Z=K),Z===K||z.length===0||this.length===0)return 0;if(H<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),z.length-H<Z-K&&(Z=z.length-H+K);var ie=Z-K;if(this===z&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(H,K,Z);else if(this===z&&K<H&&H<Z)for(var ee=ie-1;ee>=0;--ee)z[ee+H]=this[ee+K];else Uint8Array.prototype.set.call(z,this.subarray(K,Z),H);return ie},u.prototype.fill=function(z,H,K,Z){if(typeof z=="string"){if(typeof H=="string"?(Z=H,H=0,K=this.length):typeof K=="string"&&(Z=K,K=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!u.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(z.length===1){var ie=z.charCodeAt(0);(Z==="utf8"&&ie<128||Z==="latin1")&&(z=ie)}}else typeof z=="number"&&(z&=255);if(H<0||this.length<H||this.length<K)throw new RangeError("Out of range index");if(K<=H)return this;var ee;if(H>>>=0,K=K===void 0?this.length:K>>>0,z||(z=0),typeof z=="number")for(ee=H;ee<K;++ee)this[ee]=z;else{var ne=u.isBuffer(z)?z:u.from(z,Z),te=ne.length;if(te===0)throw new TypeError('The value "'+z+'" is invalid for argument "value"');for(ee=0;ee<K-H;++ee)this[ee+H]=ne[ee%te]}return this};var V=/[^+/0-9A-Za-z-_]/g;function M(z){return z<16?"0"+z.toString(16):z.toString(16)}function U(z,H){var K;H=H||1/0;for(var Z=z.length,ie=null,ee=[],ne=0;ne<Z;++ne){if((K=z.charCodeAt(ne))>55295&&K<57344){if(!ie){if(K>56319){(H-=3)>-1&&ee.push(239,191,189);continue}if(ne+1===Z){(H-=3)>-1&&ee.push(239,191,189);continue}ie=K;continue}if(K<56320){(H-=3)>-1&&ee.push(239,191,189),ie=K;continue}K=65536+(ie-55296<<10|K-56320)}else ie&&(H-=3)>-1&&ee.push(239,191,189);if(ie=null,K<128){if((H-=1)<0)break;ee.push(K)}else if(K<2048){if((H-=2)<0)break;ee.push(K>>6|192,63&K|128)}else if(K<65536){if((H-=3)<0)break;ee.push(K>>12|224,K>>6&63|128,63&K|128)}else{if(!(K<1114112))throw new Error("Invalid code point");if((H-=4)<0)break;ee.push(K>>18|240,K>>12&63|128,K>>6&63|128,63&K|128)}}return ee}function Q(z){return s.toByteArray(function(H){if((H=(H=H.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;H.length%4!=0;)H+="=";return H}(z))}function W(z,H,K,Z){for(var ie=0;ie<Z&&!(ie+K>=H.length||ie>=z.length);++ie)H[ie+K]=z[ie];return ie}function j(z,H){return z instanceof H||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===H.name}function X(z){return z!=z}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,n,i){var a=e("safe-buffer").Buffer,s=e("stream").Transform,o=e("string_decoder").StringDecoder;function l(u){s.call(this),this.hashMode=typeof u=="string",this.hashMode?this[u]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(l,s),l.prototype.update=function(u,c,f){typeof u=="string"&&(u=a.from(u,c));var h=this._update(u);return this.hashMode?this:(f&&(h=this._toString(h,f)),h)},l.prototype.setAutoPadding=function(){},l.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},l.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},l.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},l.prototype._transform=function(u,c,f){var h;try{this.hashMode?this._update(u):this.push(this._update(u))}catch(d){h=d}finally{f(h)}},l.prototype._flush=function(u){var c;try{this.push(this.__final())}catch(f){c=f}u(c)},l.prototype._finalOrDigest=function(u){var c=this.__final()||a.alloc(0);return u&&(c=this._toString(c,u,!0)),c},l.prototype._toString=function(u,c,f){if(this._decoder||(this._decoder=new o(c),this._encoding=c),this._encoding!==c)throw new Error("can't switch encodings");var h=this._decoder.write(u);return f&&(h+=this._decoder.end()),h},n.exports=l},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,n,i){var a=e("../internals/is-callable"),s=e("../internals/try-to-string"),o=TypeError;n.exports=function(l){if(a(l))return l;throw new o(s(l)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,n,i){var a=e("../internals/is-constructor"),s=e("../internals/try-to-string"),o=TypeError;n.exports=function(l){if(a(l))return l;throw new o(s(l)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,n,i){var a=e("../internals/is-callable"),s=String,o=TypeError;n.exports=function(l){if(typeof l=="object"||a(l))return l;throw new o("Can't set "+s(l)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,n,i){var a=e("../internals/well-known-symbol"),s=e("../internals/object-create"),o=e("../internals/object-define-property").f,l=a("unscopables"),u=Array.prototype;u[l]===void 0&&o(u,l,{configurable:!0,value:s(null)}),n.exports=function(c){u[l][c]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,n,i){var a=e("../internals/object-is-prototype-of"),s=TypeError;n.exports=function(o,l){if(a(l,o))return o;throw new s("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,n,i){var a=e("../internals/is-object"),s=String,o=TypeError;n.exports=function(l){if(a(l))return l;throw new o(s(l)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,n,i){var a=e("../internals/to-indexed-object"),s=e("../internals/to-absolute-index"),o=e("../internals/length-of-array-like"),l=function(u){return function(c,f,h){var d,A=a(c),p=o(A),g=s(h,p);if(u&&f!=f){for(;p>g;)if((d=A[g++])!=d)return!0}else for(;p>g;g++)if((u||g in A)&&A[g]===f)return u||g||0;return!u&&-1}};n.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,n,i){var a=e("../internals/function-bind-context"),s=e("../internals/function-uncurry-this"),o=e("../internals/indexed-object"),l=e("../internals/to-object"),u=e("../internals/length-of-array-like"),c=e("../internals/array-species-create"),f=s([].push),h=function(d){var A=d===1,p=d===2,g=d===3,m=d===4,v=d===6,y=d===7,b=d===5||v;return function(_,T,I,N){for(var F,P,D=l(_),R=o(D),E=a(T,I),L=u(R),k=0,w=N||c,C=A?w(_,L):p||y?w(_,0):void 0;L>k;k++)if((b||k in R)&&(P=E(F=R[k],k,D),d))if(A)C[k]=P;else if(P)switch(d){case 3:return!0;case 5:return F;case 6:return k;case 2:f(C,F)}else switch(d){case 4:return!1;case 7:f(C,F)}return v?-1:g||m?m:C}};n.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,n,i){var a=e("../internals/to-absolute-index"),s=e("../internals/length-of-array-like"),o=e("../internals/create-property"),l=Array,u=Math.max;n.exports=function(c,f,h){for(var d=s(c),A=a(f,d),p=a(h===void 0?d:h,d),g=l(u(p-A,0)),m=0;A<p;A++,m++)o(g,m,c[A]);return g.length=m,g}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,n,i){var a=e("../internals/function-uncurry-this");n.exports=a([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,n,i){var a=e("../internals/is-array"),s=e("../internals/is-constructor"),o=e("../internals/is-object"),l=e("../internals/well-known-symbol")("species"),u=Array;n.exports=function(c){var f;return a(c)&&(f=c.constructor,(s(f)&&(f===u||a(f.prototype))||o(f)&&(f=f[l])===null)&&(f=void 0)),f===void 0?u:f}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,n,i){var a=e("../internals/array-species-constructor");n.exports=function(s,o){return new(a(s))(o===0?0:o)}},{"../internals/array-species-constructor":232}],234:[function(e,n,i){var a=e("../internals/well-known-symbol")("iterator"),s=!1;try{var o=0,l={next:function(){return{done:!!o++}},return:function(){s=!0}};l[a]=function(){return this},Array.from(l,function(){throw 2})}catch{}n.exports=function(u,c){try{if(!c&&!s)return!1}catch{return!1}var f=!1;try{var h={};h[a]=function(){return{next:function(){return{done:f=!0}}}},u(h)}catch{}return f}},{"../internals/well-known-symbol":357}],235:[function(e,n,i){var a=e("../internals/function-uncurry-this"),s=a({}.toString),o=a("".slice);n.exports=function(l){return o(s(l),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,n,i){var a=e("../internals/to-string-tag-support"),s=e("../internals/is-callable"),o=e("../internals/classof-raw"),l=e("../internals/well-known-symbol")("toStringTag"),u=Object,c=o(function(){return arguments}())==="Arguments";n.exports=a?o:function(f){var h,d,A;return f===void 0?"Undefined":f===null?"Null":typeof(d=function(p,g){try{return p[g]}catch{}}(h=u(f),l))=="string"?d:c?o(h):(A=o(h))==="Object"&&s(h.callee)?"Arguments":A}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,n,i){var a=e("../internals/has-own-property"),s=e("../internals/own-keys"),o=e("../internals/object-get-own-property-descriptor"),l=e("../internals/object-define-property");n.exports=function(u,c,f){for(var h=s(c),d=l.f,A=o.f,p=0;p<h.length;p++){var g=h[p];a(u,g)||f&&a(f,g)||d(u,g,A(c,g))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,n,i){var a=e("../internals/well-known-symbol")("match");n.exports=function(s){var o=/./;try{"/./"[s](o)}catch{try{return o[a]=!1,"/./"[s](o)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,n,i){var a=e("../internals/fails");n.exports=!a(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},{"../internals/fails":260}],240:[function(e,n,i){n.exports=function(a,s){return{value:a,done:s}}},{}],241:[function(e,n,i){var a=e("../internals/descriptors"),s=e("../internals/object-define-property"),o=e("../internals/create-property-descriptor");n.exports=a?function(l,u,c){return s.f(l,u,o(1,c))}:function(l,u,c){return l[u]=c,l}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,n,i){n.exports=function(a,s){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:s}}},{}],243:[function(e,n,i){var a=e("../internals/to-property-key"),s=e("../internals/object-define-property"),o=e("../internals/create-property-descriptor");n.exports=function(l,u,c){var f=a(u);f in l?s.f(l,f,o(0,c)):l[f]=c}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,n,i){var a=e("../internals/make-built-in"),s=e("../internals/object-define-property");n.exports=function(o,l,u){return u.get&&a(u.get,l,{getter:!0}),u.set&&a(u.set,l,{setter:!0}),s.f(o,l,u)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,n,i){var a=e("../internals/is-callable"),s=e("../internals/object-define-property"),o=e("../internals/make-built-in"),l=e("../internals/define-global-property");n.exports=function(u,c,f,h){h||(h={});var d=h.enumerable,A=h.name!==void 0?h.name:c;if(a(f)&&o(f,A,h),h.global)d?u[c]=f:l(c,f);else{try{h.unsafe?u[c]&&(d=!0):delete u[c]}catch{}d?u[c]=f:s.f(u,c,{value:f,enumerable:!1,configurable:!h.nonConfigurable,writable:!h.nonWritable})}return u}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,n,i){var a=e("../internals/global"),s=Object.defineProperty;n.exports=function(o,l){try{s(a,o,{value:l,configurable:!0,writable:!0})}catch{a[o]=l}return l}},{"../internals/global":274}],247:[function(e,n,i){var a=e("../internals/fails");n.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(e,n,i){var a=typeof document=="object"&&document.all,s=a===void 0&&a!==void 0;n.exports={all:a,IS_HTMLDDA:s}},{}],249:[function(e,n,i){var a=e("../internals/global"),s=e("../internals/is-object"),o=a.document,l=s(o)&&s(o.createElement);n.exports=function(u){return l?o.createElement(u):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,n,i){var a=e("../internals/engine-is-deno"),s=e("../internals/engine-is-node");n.exports=!a&&!s&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,n,i){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,n,i){var a=e("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(a)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,n,i){var a=e("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(a)},{"../internals/engine-user-agent":256}],254:[function(e,n,i){var a=e("../internals/global"),s=e("../internals/classof-raw");n.exports=s(a.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,n,i){var a=e("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(a)},{"../internals/engine-user-agent":256}],256:[function(e,n,i){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,n,i){var a,s,o=e("../internals/global"),l=e("../internals/engine-user-agent"),u=o.process,c=o.Deno,f=u&&u.versions||c&&c.version,h=f&&f.v8;h&&(s=(a=h.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!s&&l&&(!(a=l.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=l.match(/Chrome\/(\d+)/))&&(s=+a[1]),n.exports=s},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,n,i){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,n,i){var a=e("../internals/global"),s=e("../internals/object-get-own-property-descriptor").f,o=e("../internals/create-non-enumerable-property"),l=e("../internals/define-built-in"),u=e("../internals/define-global-property"),c=e("../internals/copy-constructor-properties"),f=e("../internals/is-forced");n.exports=function(h,d){var A,p,g,m,v,y=h.target,b=h.global,_=h.stat;if(A=b?a:_?a[y]||u(y,{}):(a[y]||{}).prototype)for(p in d){if(m=d[p],g=h.dontCallGetSet?(v=s(A,p))&&v.value:A[p],!f(b?p:y+(_?".":"#")+p,h.forced)&&g!==void 0){if(typeof m==typeof g)continue;c(m,g)}(h.sham||g&&g.sham)&&o(m,"sham",!0),l(A,p,m,h)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,n,i){n.exports=function(a){try{return!!a()}catch{return!0}}},{}],261:[function(e,n,i){var a=e("../internals/function-bind-native"),s=Function.prototype,o=s.apply,l=s.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(a?l.bind(o):function(){return l.apply(o,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,n,i){var a=e("../internals/function-uncurry-this-clause"),s=e("../internals/a-callable"),o=e("../internals/function-bind-native"),l=a(a.bind);n.exports=function(u,c){return s(u),c===void 0?u:o?l(u,c):function(){return u.apply(c,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,n,i){var a=e("../internals/fails");n.exports=!a(function(){var s=(function(){}).bind();return typeof s!="function"||s.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(e,n,i){var a=e("../internals/function-bind-native"),s=Function.prototype.call;n.exports=a?s.bind(s):function(){return s.apply(s,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,n,i){var a=e("../internals/descriptors"),s=e("../internals/has-own-property"),o=Function.prototype,l=a&&Object.getOwnPropertyDescriptor,u=s(o,"name"),c=u&&(function(){}).name==="something",f=u&&(!a||a&&l(o,"name").configurable);n.exports={EXISTS:u,PROPER:c,CONFIGURABLE:f}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,n,i){var a=e("../internals/function-uncurry-this"),s=e("../internals/a-callable");n.exports=function(o,l,u){try{return a(s(Object.getOwnPropertyDescriptor(o,l)[u]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,n,i){var a=e("../internals/classof-raw"),s=e("../internals/function-uncurry-this");n.exports=function(o){if(a(o)==="Function")return s(o)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,n,i){var a=e("../internals/function-bind-native"),s=Function.prototype,o=s.call,l=a&&s.bind.bind(o,o);n.exports=a?l:function(u){return function(){return o.apply(u,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,n,i){var a=e("../internals/global"),s=e("../internals/is-callable"),o=function(l){return s(l)?l:void 0};n.exports=function(l,u){return arguments.length<2?o(a[l]):a[l]&&a[l][u]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,n,i){var a=e("../internals/classof"),s=e("../internals/get-method"),o=e("../internals/is-null-or-undefined"),l=e("../internals/iterators"),u=e("../internals/well-known-symbol")("iterator");n.exports=function(c){if(!o(c))return s(c,u)||s(c,"@@iterator")||l[a(c)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,n,i){var a=e("../internals/function-call"),s=e("../internals/a-callable"),o=e("../internals/an-object"),l=e("../internals/try-to-string"),u=e("../internals/get-iterator-method"),c=TypeError;n.exports=function(f,h){var d=arguments.length<2?u(f):h;if(s(d))return o(a(d,f));throw new c(l(f)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,n,i){var a=e("../internals/function-uncurry-this"),s=e("../internals/is-array"),o=e("../internals/is-callable"),l=e("../internals/classof-raw"),u=e("../internals/to-string"),c=a([].push);n.exports=function(f){if(o(f))return f;if(s(f)){for(var h=f.length,d=[],A=0;A<h;A++){var p=f[A];typeof p=="string"?c(d,p):typeof p!="number"&&l(p)!=="Number"&&l(p)!=="String"||c(d,u(p))}var g=d.length,m=!0;return function(v,y){if(m)return m=!1,y;if(s(this))return y;for(var b=0;b<g;b++)if(d[b]===v)return y}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,n,i){var a=e("../internals/a-callable"),s=e("../internals/is-null-or-undefined");n.exports=function(o,l){var u=o[l];return s(u)?void 0:a(u)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,n,i){(function(a){(function(){var s=function(o){return o&&o.Math===Math&&o};n.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof a=="object"&&a)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,n,i){var a=e("../internals/function-uncurry-this"),s=e("../internals/to-object"),o=a({}.hasOwnProperty);n.exports=Object.hasOwn||function(l,u){return o(s(l),u)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,n,i){n.exports={}},{}],277:[function(e,n,i){n.exports=function(a,s){try{arguments.length===1?console.error(a):console.error(a,s)}catch{}}},{}],278:[function(e,n,i){var a=e("../internals/get-built-in");n.exports=a("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,n,i){var a=e("../internals/descriptors"),s=e("../internals/fails"),o=e("../internals/document-create-element");n.exports=!a&&!s(function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,n,i){var a=e("../internals/function-uncurry-this"),s=e("../internals/fails"),o=e("../internals/classof-raw"),l=Object,u=a("".split);n.exports=s(function(){return!l("z").propertyIsEnumerable(0)})?function(c){return o(c)==="String"?u(c,""):l(c)}:l},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,n,i){var a=e("../internals/function-uncurry-this"),s=e("../internals/is-callable"),o=e("../internals/shared-store"),l=a(Function.toString);s(o.inspectSource)||(o.inspectSource=function(u){return l(u)}),n.exports=o.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,n,i){var a,s,o,l=e("../internals/weak-map-basic-detection"),u=e("../internals/global"),c=e("../internals/is-object"),f=e("../internals/create-non-enumerable-property"),h=e("../internals/has-own-property"),d=e("../internals/shared-store"),A=e("../internals/shared-key"),p=e("../internals/hidden-keys"),g=u.TypeError,m=u.WeakMap;if(l||d.state){var v=d.state||(d.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,a=function(b,_){if(v.has(b))throw new g("Object already initialized");return _.facade=b,v.set(b,_),_},s=function(b){return v.get(b)||{}},o=function(b){return v.has(b)}}else{var y=A("state");p[y]=!0,a=function(b,_){if(h(b,y))throw new g("Object already initialized");return _.facade=b,f(b,y,_),_},s=function(b){return h(b,y)?b[y]:{}},o=function(b){return h(b,y)}}n.exports={set:a,get:s,has:o,enforce:function(b){return o(b)?s(b):a(b,{})},getterFor:function(b){return function(_){var T;if(!c(_)||(T=s(_)).type!==b)throw new g("Incompatible receiver, "+b+" required");return T}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,n,i){var a=e("../internals/well-known-symbol"),s=e("../internals/iterators"),o=a("iterator"),l=Array.prototype;n.exports=function(u){return u!==void 0&&(s.Array===u||l[o]===u)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,n,i){var a=e("../internals/classof-raw");n.exports=Array.isArray||function(s){return a(s)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,n,i){var a=e("../internals/document-all"),s=a.all;n.exports=a.IS_HTMLDDA?function(o){return typeof o=="function"||o===s}:function(o){return typeof o=="function"}},{"../internals/document-all":248}],286:[function(e,n,i){var a=e("../internals/function-uncurry-this"),s=e("../internals/fails"),o=e("../internals/is-callable"),l=e("../internals/classof"),u=e("../internals/get-built-in"),c=e("../internals/inspect-source"),f=function(){},h=[],d=u("Reflect","construct"),A=/^\s*(?:class|function)\b/,p=a(A.exec),g=!A.test(f),m=function(y){if(!o(y))return!1;try{return d(f,h,y),!0}catch{return!1}},v=function(y){if(!o(y))return!1;switch(l(y)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!p(A,c(y))}catch{return!0}};v.sham=!0,n.exports=!d||s(function(){var y;return m(m.call)||!m(Object)||!m(function(){y=!0})||y})?v:m},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,n,i){var a=e("../internals/fails"),s=e("../internals/is-callable"),o=/#|\.prototype\./,l=function(d,A){var p=c[u(d)];return p===h||p!==f&&(s(A)?a(A):!!A)},u=l.normalize=function(d){return String(d).replace(o,".").toLowerCase()},c=l.data={},f=l.NATIVE="N",h=l.POLYFILL="P";n.exports=l},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,n,i){n.exports=function(a){return a==null}},{}],289:[function(e,n,i){var a=e("../internals/is-callable"),s=e("../internals/document-all"),o=s.all;n.exports=s.IS_HTMLDDA?function(l){return typeof l=="object"?l!==null:a(l)||l===o}:function(l){return typeof l=="object"?l!==null:a(l)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,n,i){n.exports=!1},{}],291:[function(e,n,i){var a=e("../internals/is-object"),s=e("../internals/classof-raw"),o=e("../internals/well-known-symbol")("match");n.exports=function(l){var u;return a(l)&&((u=l[o])!==void 0?!!u:s(l)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,n,i){var a=e("../internals/get-built-in"),s=e("../internals/is-callable"),o=e("../internals/object-is-prototype-of"),l=e("../internals/use-symbol-as-uid"),u=Object;n.exports=l?function(c){return typeof c=="symbol"}:function(c){var f=a("Symbol");return s(f)&&o(f.prototype,u(c))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,n,i){var a=e("../internals/function-bind-context"),s=e("../internals/function-call"),o=e("../internals/an-object"),l=e("../internals/try-to-string"),u=e("../internals/is-array-iterator-method"),c=e("../internals/length-of-array-like"),f=e("../internals/object-is-prototype-of"),h=e("../internals/get-iterator"),d=e("../internals/get-iterator-method"),A=e("../internals/iterator-close"),p=TypeError,g=function(v,y){this.stopped=v,this.result=y},m=g.prototype;n.exports=function(v,y,b){var _,T,I,N,F,P,D,R=b&&b.that,E=!(!b||!b.AS_ENTRIES),L=!(!b||!b.IS_RECORD),k=!(!b||!b.IS_ITERATOR),w=!(!b||!b.INTERRUPTED),C=a(y,R),S=function(O){return _&&A(_,"normal",O),new g(!0,O)},B=function(O){return E?(o(O),w?C(O[0],O[1],S):C(O[0],O[1])):w?C(O,S):C(O)};if(L)_=v.iterator;else if(k)_=v;else{if(!(T=d(v)))throw new p(l(v)+" is not iterable");if(u(T)){for(I=0,N=c(v);N>I;I++)if((F=B(v[I]))&&f(m,F))return F;return new g(!1)}_=h(v,T)}for(P=L?v.next:_.next;!(D=s(P,_)).done;){try{F=B(D.value)}catch(O){A(_,"throw",O)}if(typeof F=="object"&&F&&f(m,F))return F}return new g(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,n,i){var a=e("../internals/function-call"),s=e("../internals/an-object"),o=e("../internals/get-method");n.exports=function(l,u,c){var f,h;s(l);try{if(!(f=o(l,"return"))){if(u==="throw")throw c;return c}f=a(f,l)}catch(d){h=!0,f=d}if(u==="throw")throw c;if(h)throw f;return s(f),c}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,n,i){var a=e("../internals/iterators-core").IteratorPrototype,s=e("../internals/object-create"),o=e("../internals/create-property-descriptor"),l=e("../internals/set-to-string-tag"),u=e("../internals/iterators"),c=function(){return this};n.exports=function(f,h,d,A){var p=h+" Iterator";return f.prototype=s(a,{next:o(+!A,d)}),l(f,p,!1,!0),u[p]=c,f}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/function-call"),o=e("../internals/is-pure"),l=e("../internals/function-name"),u=e("../internals/is-callable"),c=e("../internals/iterator-create-constructor"),f=e("../internals/object-get-prototype-of"),h=e("../internals/object-set-prototype-of"),d=e("../internals/set-to-string-tag"),A=e("../internals/create-non-enumerable-property"),p=e("../internals/define-built-in"),g=e("../internals/well-known-symbol"),m=e("../internals/iterators"),v=e("../internals/iterators-core"),y=l.PROPER,b=l.CONFIGURABLE,_=v.IteratorPrototype,T=v.BUGGY_SAFARI_ITERATORS,I=g("iterator"),N=function(){return this};n.exports=function(F,P,D,R,E,L,k){c(D,P,R);var w,C,S,B=function(j){if(j===E&&Q)return Q;if(!T&&j&&j in M)return M[j];switch(j){case"keys":case"values":case"entries":return function(){return new D(this,j)}}return function(){return new D(this)}},O=P+" Iterator",V=!1,M=F.prototype,U=M[I]||M["@@iterator"]||E&&M[E],Q=!T&&U||B(E),W=P==="Array"&&M.entries||U;if(W&&(w=f(W.call(new F)))!==Object.prototype&&w.next&&(o||f(w)===_||(h?h(w,_):u(w[I])||p(w,I,N)),d(w,O,!0,!0),o&&(m[O]=N)),y&&E==="values"&&U&&U.name!=="values"&&(!o&&b?A(M,"name","values"):(V=!0,Q=function(){return s(U,this)})),E)if(C={values:B("values"),keys:L?Q:B("keys"),entries:B("entries")},k)for(S in C)(T||V||!(S in M))&&p(M,S,C[S]);else a({target:P,proto:!0,forced:T||V},C);return o&&!k||M[I]===Q||p(M,I,Q,{name:E}),m[P]=Q,C}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,n,i){var a,s,o,l=e("../internals/fails"),u=e("../internals/is-callable"),c=e("../internals/is-object"),f=e("../internals/object-create"),h=e("../internals/object-get-prototype-of"),d=e("../internals/define-built-in"),A=e("../internals/well-known-symbol"),p=e("../internals/is-pure"),g=A("iterator"),m=!1;[].keys&&("next"in(o=[].keys())?(s=h(h(o)))!==Object.prototype&&(a=s):m=!0),!c(a)||l(function(){var v={};return a[g].call(v)!==v})?a={}:p&&(a=f(a)),u(a[g])||d(a,g,function(){return this}),n.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:m}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,n,i){arguments[4][276][0].apply(i,arguments)},{dup:276}],299:[function(e,n,i){var a=e("../internals/to-length");n.exports=function(s){return a(s.length)}},{"../internals/to-length":343}],300:[function(e,n,i){var a=e("../internals/function-uncurry-this"),s=e("../internals/fails"),o=e("../internals/is-callable"),l=e("../internals/has-own-property"),u=e("../internals/descriptors"),c=e("../internals/function-name").CONFIGURABLE,f=e("../internals/inspect-source"),h=e("../internals/internal-state"),d=h.enforce,A=h.get,p=String,g=Object.defineProperty,m=a("".slice),v=a("".replace),y=a([].join),b=u&&!s(function(){return g(function(){},"length",{value:8}).length!==8}),_=String(String).split("String"),T=n.exports=function(I,N,F){m(p(N),0,7)==="Symbol("&&(N="["+v(p(N),/^Symbol\(([^)]*)\)/,"$1")+"]"),F&&F.getter&&(N="get "+N),F&&F.setter&&(N="set "+N),(!l(I,"name")||c&&I.name!==N)&&(u?g(I,"name",{value:N,configurable:!0}):I.name=N),b&&F&&l(F,"arity")&&I.length!==F.arity&&g(I,"length",{value:F.arity});try{F&&l(F,"constructor")&&F.constructor?u&&g(I,"prototype",{writable:!1}):I.prototype&&(I.prototype=void 0)}catch{}var P=d(I);return l(P,"source")||(P.source=y(_,typeof N=="string"?N:"")),I};Function.prototype.toString=T(function(){return o(this)&&A(this).source||f(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,n,i){var a=Math.ceil,s=Math.floor;n.exports=Math.trunc||function(o){var l=+o;return(l>0?s:a)(l)}},{}],302:[function(e,n,i){var a,s,o,l,u,c=e("../internals/global"),f=e("../internals/function-bind-context"),h=e("../internals/object-get-own-property-descriptor").f,d=e("../internals/task").set,A=e("../internals/queue"),p=e("../internals/engine-is-ios"),g=e("../internals/engine-is-ios-pebble"),m=e("../internals/engine-is-webos-webkit"),v=e("../internals/engine-is-node"),y=c.MutationObserver||c.WebKitMutationObserver,b=c.document,_=c.process,T=c.Promise,I=h(c,"queueMicrotask"),N=I&&I.value;if(!N){var F=new A,P=function(){var D,R;for(v&&(D=_.domain)&&D.exit();R=F.get();)try{R()}catch(E){throw F.head&&a(),E}D&&D.enter()};p||v||m||!y||!b?!g&&T&&T.resolve?((l=T.resolve(void 0)).constructor=T,u=f(l.then,l),a=function(){u(P)}):v?a=function(){_.nextTick(P)}:(d=f(d,c),a=function(){d(P)}):(s=!0,o=b.createTextNode(""),new y(P).observe(o,{characterData:!0}),a=function(){o.data=s=!s}),N=function(D){F.head||a(),F.add(D)}}n.exports=N},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,n,i){var a=e("../internals/a-callable"),s=TypeError,o=function(l){var u,c;this.promise=new l(function(f,h){if(u!==void 0||c!==void 0)throw new s("Bad Promise constructor");u=f,c=h}),this.resolve=a(u),this.reject=a(c)};n.exports.f=function(l){return new o(l)}},{"../internals/a-callable":222}],304:[function(e,n,i){var a=e("../internals/is-regexp"),s=TypeError;n.exports=function(o){if(a(o))throw new s("The method doesn't accept regular expressions");return o}},{"../internals/is-regexp":291}],305:[function(e,n,i){var a=e("../internals/descriptors"),s=e("../internals/function-uncurry-this"),o=e("../internals/function-call"),l=e("../internals/fails"),u=e("../internals/object-keys"),c=e("../internals/object-get-own-property-symbols"),f=e("../internals/object-property-is-enumerable"),h=e("../internals/to-object"),d=e("../internals/indexed-object"),A=Object.assign,p=Object.defineProperty,g=s([].concat);n.exports=!A||l(function(){if(a&&A({b:1},A(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var m={},v={},y=Symbol("assign detection");return m[y]=7,"abcdefghijklmnopqrst".split("").forEach(function(b){v[b]=b}),A({},m)[y]!==7||u(A({},v)).join("")!=="abcdefghijklmnopqrst"})?function(m,v){for(var y=h(m),b=arguments.length,_=1,T=c.f,I=f.f;b>_;)for(var N,F=d(arguments[_++]),P=T?g(u(F),T(F)):u(F),D=P.length,R=0;D>R;)N=P[R++],a&&!o(I,F,N)||(y[N]=F[N]);return y}:A},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,n,i){var a,s=e("../internals/an-object"),o=e("../internals/object-define-properties"),l=e("../internals/enum-bug-keys"),u=e("../internals/hidden-keys"),c=e("../internals/html"),f=e("../internals/document-create-element"),h=e("../internals/shared-key"),d=h("IE_PROTO"),A=function(){},p=function(v){return"<script>"+v+"<\/script>"},g=function(v){v.write(p("")),v.close();var y=v.parentWindow.Object;return v=null,y},m=function(){try{a=new ActiveXObject("htmlfile")}catch{}var v,y;m=typeof document<"u"?document.domain&&a?g(a):((y=f("iframe")).style.display="none",c.appendChild(y),y.src="javascript:",(v=y.contentWindow.document).open(),v.write(p("document.F=Object")),v.close(),v.F):g(a);for(var b=l.length;b--;)delete m.prototype[l[b]];return m()};u[d]=!0,n.exports=Object.create||function(v,y){var b;return v!==null?(A.prototype=s(v),b=new A,A.prototype=null,b[d]=v):b=m(),y===void 0?b:o.f(b,y)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,n,i){var a=e("../internals/descriptors"),s=e("../internals/v8-prototype-define-bug"),o=e("../internals/object-define-property"),l=e("../internals/an-object"),u=e("../internals/to-indexed-object"),c=e("../internals/object-keys");i.f=a&&!s?Object.defineProperties:function(f,h){l(f);for(var d,A=u(h),p=c(h),g=p.length,m=0;g>m;)o.f(f,d=p[m++],A[d]);return f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,n,i){var a=e("../internals/descriptors"),s=e("../internals/ie8-dom-define"),o=e("../internals/v8-prototype-define-bug"),l=e("../internals/an-object"),u=e("../internals/to-property-key"),c=TypeError,f=Object.defineProperty,h=Object.getOwnPropertyDescriptor;i.f=a?o?function(d,A,p){if(l(d),A=u(A),l(p),typeof d=="function"&&A==="prototype"&&"value"in p&&"writable"in p&&!p.writable){var g=h(d,A);g&&g.writable&&(d[A]=p.value,p={configurable:"configurable"in p?p.configurable:g.configurable,enumerable:"enumerable"in p?p.enumerable:g.enumerable,writable:!1})}return f(d,A,p)}:f:function(d,A,p){if(l(d),A=u(A),l(p),s)try{return f(d,A,p)}catch{}if("get"in p||"set"in p)throw new c("Accessors not supported");return"value"in p&&(d[A]=p.value),d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,n,i){var a=e("../internals/descriptors"),s=e("../internals/function-call"),o=e("../internals/object-property-is-enumerable"),l=e("../internals/create-property-descriptor"),u=e("../internals/to-indexed-object"),c=e("../internals/to-property-key"),f=e("../internals/has-own-property"),h=e("../internals/ie8-dom-define"),d=Object.getOwnPropertyDescriptor;i.f=a?d:function(A,p){if(A=u(A),p=c(p),h)try{return d(A,p)}catch{}if(f(A,p))return l(!s(o.f,A,p),A[p])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,n,i){var a=e("../internals/classof-raw"),s=e("../internals/to-indexed-object"),o=e("../internals/object-get-own-property-names").f,l=e("../internals/array-slice-simple"),u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(c){return u&&a(c)==="Window"?function(f){try{return o(f)}catch{return l(u)}}(c):o(s(c))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,n,i){var a=e("../internals/object-keys-internal"),s=e("../internals/enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(o){return a(o,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,n,i){i.f=Object.getOwnPropertySymbols},{}],313:[function(e,n,i){var a=e("../internals/has-own-property"),s=e("../internals/is-callable"),o=e("../internals/to-object"),l=e("../internals/shared-key"),u=e("../internals/correct-prototype-getter"),c=l("IE_PROTO"),f=Object,h=f.prototype;n.exports=u?f.getPrototypeOf:function(d){var A=o(d);if(a(A,c))return A[c];var p=A.constructor;return s(p)&&A instanceof p?p.prototype:A instanceof f?h:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,n,i){var a=e("../internals/function-uncurry-this");n.exports=a({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,n,i){var a=e("../internals/function-uncurry-this"),s=e("../internals/has-own-property"),o=e("../internals/to-indexed-object"),l=e("../internals/array-includes").indexOf,u=e("../internals/hidden-keys"),c=a([].push);n.exports=function(f,h){var d,A=o(f),p=0,g=[];for(d in A)!s(u,d)&&s(A,d)&&c(g,d);for(;h.length>p;)s(A,d=h[p++])&&(~l(g,d)||c(g,d));return g}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,n,i){var a=e("../internals/object-keys-internal"),s=e("../internals/enum-bug-keys");n.exports=Object.keys||function(o){return a(o,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,n,i){var a={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,o=s&&!a.call({1:2},1);i.f=o?function(l){var u=s(this,l);return!!u&&u.enumerable}:a},{}],318:[function(e,n,i){var a=e("../internals/function-uncurry-this-accessor"),s=e("../internals/an-object"),o=e("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,u=!1,c={};try{(l=a(Object.prototype,"__proto__","set"))(c,[]),u=c instanceof Array}catch{}return function(f,h){return s(f),o(h),u?l(f,h):f.__proto__=h,f}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,n,i){var a=e("../internals/descriptors"),s=e("../internals/fails"),o=e("../internals/function-uncurry-this"),l=e("../internals/object-get-prototype-of"),u=e("../internals/object-keys"),c=e("../internals/to-indexed-object"),f=o(e("../internals/object-property-is-enumerable").f),h=o([].push),d=a&&s(function(){var p=Object.create(null);return p[2]=2,!f(p,2)}),A=function(p){return function(g){for(var m,v=c(g),y=u(v),b=d&&l(v)===null,_=y.length,T=0,I=[];_>T;)m=y[T++],a&&!(b?m in v:f(v,m))||h(I,p?[m,v[m]]:v[m]);return I}};n.exports={entries:A(!0),values:A(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,n,i){var a=e("../internals/function-call"),s=e("../internals/is-callable"),o=e("../internals/is-object"),l=TypeError;n.exports=function(u,c){var f,h;if(c==="string"&&s(f=u.toString)&&!o(h=a(f,u))||s(f=u.valueOf)&&!o(h=a(f,u))||c!=="string"&&s(f=u.toString)&&!o(h=a(f,u)))return h;throw new l("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,n,i){var a=e("../internals/get-built-in"),s=e("../internals/function-uncurry-this"),o=e("../internals/object-get-own-property-names"),l=e("../internals/object-get-own-property-symbols"),u=e("../internals/an-object"),c=s([].concat);n.exports=a("Reflect","ownKeys")||function(f){var h=o.f(u(f)),d=l.f;return d?c(h,d(f)):h}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,n,i){var a=e("../internals/global");n.exports=a},{"../internals/global":274}],323:[function(e,n,i){n.exports=function(a){try{return{error:!1,value:a()}}catch(s){return{error:!0,value:s}}}},{}],324:[function(e,n,i){var a=e("../internals/global"),s=e("../internals/promise-native-constructor"),o=e("../internals/is-callable"),l=e("../internals/is-forced"),u=e("../internals/inspect-source"),c=e("../internals/well-known-symbol"),f=e("../internals/engine-is-browser"),h=e("../internals/engine-is-deno"),d=e("../internals/is-pure"),A=e("../internals/engine-v8-version"),p=s&&s.prototype,g=c("species"),m=!1,v=o(a.PromiseRejectionEvent),y=l("Promise",function(){var b=u(s),_=b!==String(s);if(!_&&A===66||d&&(!p.catch||!p.finally))return!0;if(!A||A<51||!/native code/.test(b)){var T=new s(function(N){N(1)}),I=function(N){N(function(){},function(){})};if((T.constructor={})[g]=I,!(m=T.then(function(){})instanceof I))return!0}return!_&&(f||h)&&!v});n.exports={CONSTRUCTOR:y,REJECTION_EVENT:v,SUBCLASSING:m}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,n,i){var a=e("../internals/global");n.exports=a.Promise},{"../internals/global":274}],326:[function(e,n,i){var a=e("../internals/an-object"),s=e("../internals/is-object"),o=e("../internals/new-promise-capability");n.exports=function(l,u){if(a(l),s(u)&&u.constructor===l)return u;var c=o.f(l);return(0,c.resolve)(u),c.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,n,i){var a=e("../internals/promise-native-constructor"),s=e("../internals/check-correctness-of-iteration"),o=e("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=o||!s(function(l){a.all(l).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,n,i){var a=function(){this.head=null,this.tail=null};a.prototype={add:function(s){var o={item:s,next:null},l=this.tail;l?l.next=o:this.head=o,this.tail=o},get:function(){var s=this.head;if(s)return(this.head=s.next)===null&&(this.tail=null),s.item}},n.exports=a},{}],329:[function(e,n,i){var a=e("../internals/is-null-or-undefined"),s=TypeError;n.exports=function(o){if(a(o))throw new s("Can't call method on "+o);return o}},{"../internals/is-null-or-undefined":288}],330:[function(e,n,i){var a=e("../internals/get-built-in"),s=e("../internals/define-built-in-accessor"),o=e("../internals/well-known-symbol"),l=e("../internals/descriptors"),u=o("species");n.exports=function(c){var f=a(c);l&&f&&!f[u]&&s(f,u,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,n,i){var a=e("../internals/object-define-property").f,s=e("../internals/has-own-property"),o=e("../internals/well-known-symbol")("toStringTag");n.exports=function(l,u,c){l&&!c&&(l=l.prototype),l&&!s(l,o)&&a(l,o,{configurable:!0,value:u})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,n,i){var a=e("../internals/shared"),s=e("../internals/uid"),o=a("keys");n.exports=function(l){return o[l]||(o[l]=s(l))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,n,i){var a=e("../internals/global"),s=e("../internals/define-global-property"),o=a["__core-js_shared__"]||s("__core-js_shared__",{});n.exports=o},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,n,i){var a=e("../internals/is-pure"),s=e("../internals/shared-store");(n.exports=function(o,l){return s[o]||(s[o]=l!==void 0?l:{})})("versions",[]).push({version:"3.33.0",mode:a?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,n,i){var a=e("../internals/an-object"),s=e("../internals/a-constructor"),o=e("../internals/is-null-or-undefined"),l=e("../internals/well-known-symbol")("species");n.exports=function(u,c){var f,h=a(u).constructor;return h===void 0||o(f=a(h)[l])?c:s(f)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,n,i){var a=e("../internals/engine-v8-version"),s=e("../internals/fails"),o=e("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!s(function(){var l=Symbol("symbol detection");return!o(l)||!(Object(l)instanceof Symbol)||!Symbol.sham&&a&&a<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,n,i){var a=e("../internals/function-call"),s=e("../internals/get-built-in"),o=e("../internals/well-known-symbol"),l=e("../internals/define-built-in");n.exports=function(){var u=s("Symbol"),c=u&&u.prototype,f=c&&c.valueOf,h=o("toPrimitive");c&&!c[h]&&l(c,h,function(d){return a(f,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,n,i){var a=e("../internals/symbol-constructor-detection");n.exports=a&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,n,i){var a,s,o,l,u=e("../internals/global"),c=e("../internals/function-apply"),f=e("../internals/function-bind-context"),h=e("../internals/is-callable"),d=e("../internals/has-own-property"),A=e("../internals/fails"),p=e("../internals/html"),g=e("../internals/array-slice"),m=e("../internals/document-create-element"),v=e("../internals/validate-arguments-length"),y=e("../internals/engine-is-ios"),b=e("../internals/engine-is-node"),_=u.setImmediate,T=u.clearImmediate,I=u.process,N=u.Dispatch,F=u.Function,P=u.MessageChannel,D=u.String,R=0,E={};A(function(){a=u.location});var L=function(S){if(d(E,S)){var B=E[S];delete E[S],B()}},k=function(S){return function(){L(S)}},w=function(S){L(S.data)},C=function(S){u.postMessage(D(S),a.protocol+"//"+a.host)};_&&T||(_=function(S){v(arguments.length,1);var B=h(S)?S:F(S),O=g(arguments,1);return E[++R]=function(){c(B,void 0,O)},s(R),R},T=function(S){delete E[S]},b?s=function(S){I.nextTick(k(S))}:N&&N.now?s=function(S){N.now(k(S))}:P&&!y?(l=(o=new P).port2,o.port1.onmessage=w,s=f(l.postMessage,l)):u.addEventListener&&h(u.postMessage)&&!u.importScripts&&a&&a.protocol!=="file:"&&!A(C)?(s=C,u.addEventListener("message",w,!1)):s="onreadystatechange"in m("script")?function(S){p.appendChild(m("script")).onreadystatechange=function(){p.removeChild(this),L(S)}}:function(S){setTimeout(k(S),0)}),n.exports={set:_,clear:T}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,n,i){var a=e("../internals/to-integer-or-infinity"),s=Math.max,o=Math.min;n.exports=function(l,u){var c=a(l);return c<0?s(c+u,0):o(c,u)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,n,i){var a=e("../internals/indexed-object"),s=e("../internals/require-object-coercible");n.exports=function(o){return a(s(o))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,n,i){var a=e("../internals/math-trunc");n.exports=function(s){var o=+s;return o!=o||o===0?0:a(o)}},{"../internals/math-trunc":301}],343:[function(e,n,i){var a=e("../internals/to-integer-or-infinity"),s=Math.min;n.exports=function(o){return o>0?s(a(o),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,n,i){var a=e("../internals/require-object-coercible"),s=Object;n.exports=function(o){return s(a(o))}},{"../internals/require-object-coercible":329}],345:[function(e,n,i){var a=e("../internals/function-call"),s=e("../internals/is-object"),o=e("../internals/is-symbol"),l=e("../internals/get-method"),u=e("../internals/ordinary-to-primitive"),c=e("../internals/well-known-symbol"),f=TypeError,h=c("toPrimitive");n.exports=function(d,A){if(!s(d)||o(d))return d;var p,g=l(d,h);if(g){if(A===void 0&&(A="default"),p=a(g,d,A),!s(p)||o(p))return p;throw new f("Can't convert object to primitive value")}return A===void 0&&(A="number"),u(d,A)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,n,i){var a=e("../internals/to-primitive"),s=e("../internals/is-symbol");n.exports=function(o){var l=a(o,"string");return s(l)?l:l+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,n,i){var a={};a[e("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(a)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,n,i){var a=e("../internals/classof"),s=String;n.exports=function(o){if(a(o)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return s(o)}},{"../internals/classof":236}],349:[function(e,n,i){var a=String;n.exports=function(s){try{return a(s)}catch{return"Object"}}},{}],350:[function(e,n,i){var a=e("../internals/function-uncurry-this"),s=0,o=Math.random(),l=a(1 .toString);n.exports=function(u){return"Symbol("+(u===void 0?"":u)+")_"+l(++s+o,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,n,i){var a=e("../internals/symbol-constructor-detection");n.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,n,i){var a=e("../internals/descriptors"),s=e("../internals/fails");n.exports=a&&s(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,n,i){var a=TypeError;n.exports=function(s,o){if(s<o)throw new a("Not enough arguments");return s}},{}],354:[function(e,n,i){var a=e("../internals/global"),s=e("../internals/is-callable"),o=a.WeakMap;n.exports=s(o)&&/native code/.test(String(o))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,n,i){var a=e("../internals/path"),s=e("../internals/has-own-property"),o=e("../internals/well-known-symbol-wrapped"),l=e("../internals/object-define-property").f;n.exports=function(u){var c=a.Symbol||(a.Symbol={});s(c,u)||l(c,u,{value:o.f(u)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,n,i){var a=e("../internals/well-known-symbol");i.f=a},{"../internals/well-known-symbol":357}],357:[function(e,n,i){var a=e("../internals/global"),s=e("../internals/shared"),o=e("../internals/has-own-property"),l=e("../internals/uid"),u=e("../internals/symbol-constructor-detection"),c=e("../internals/use-symbol-as-uid"),f=a.Symbol,h=s("wks"),d=c?f.for||f:f&&f.withoutSetter||l;n.exports=function(A){return o(h,A)||(h[A]=u&&o(f,A)?f[A]:d("Symbol."+A)),h[A]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/array-iteration").findIndex,o=e("../internals/add-to-unscopables"),l=!0;"findIndex"in[]&&Array(1).findIndex(function(){l=!1}),a({target:"Array",proto:!0,forced:l},{findIndex:function(u){return s(this,u,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/array-iteration").find,o=e("../internals/add-to-unscopables"),l=!0;"find"in[]&&Array(1).find(function(){l=!1}),a({target:"Array",proto:!0,forced:l},{find:function(u){return s(this,u,arguments.length>1?arguments[1]:void 0)}}),o("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/array-includes").includes,o=e("../internals/fails"),l=e("../internals/add-to-unscopables");a({target:"Array",proto:!0,forced:o(function(){return!Array(1).includes()})},{includes:function(u){return s(this,u,arguments.length>1?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,n,i){var a=e("../internals/to-indexed-object"),s=e("../internals/add-to-unscopables"),o=e("../internals/iterators"),l=e("../internals/internal-state"),u=e("../internals/object-define-property").f,c=e("../internals/iterator-define"),f=e("../internals/create-iter-result-object"),h=e("../internals/is-pure"),d=e("../internals/descriptors"),A=l.set,p=l.getterFor("Array Iterator");n.exports=c(Array,"Array",function(m,v){A(this,{type:"Array Iterator",target:a(m),index:0,kind:v})},function(){var m=p(this),v=m.target,y=m.kind,b=m.index++;if(!v||b>=v.length)return m.target=void 0,f(void 0,!0);switch(y){case"keys":return f(b,!1);case"values":return f(v[b],!1)}return f([b,v[b]],!1)},"values");var g=o.Arguments=o.Array;if(s("keys"),s("values"),s("entries"),!h&&d&&g.name!=="values")try{u(g,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/get-built-in"),o=e("../internals/function-apply"),l=e("../internals/function-call"),u=e("../internals/function-uncurry-this"),c=e("../internals/fails"),f=e("../internals/is-callable"),h=e("../internals/is-symbol"),d=e("../internals/array-slice"),A=e("../internals/get-json-replacer-function"),p=e("../internals/symbol-constructor-detection"),g=String,m=s("JSON","stringify"),v=u(/./.exec),y=u("".charAt),b=u("".charCodeAt),_=u("".replace),T=u(1 .toString),I=/[\uD800-\uDFFF]/g,N=/^[\uD800-\uDBFF]$/,F=/^[\uDC00-\uDFFF]$/,P=!p||c(function(){var L=s("Symbol")("stringify detection");return m([L])!=="[null]"||m({a:L})!=="{}"||m(Object(L))!=="{}"}),D=c(function(){return m("\uDF06\uD834")!=='"\\udf06\\ud834"'||m("\uDEAD")!=='"\\udead"'}),R=function(L,k){var w=d(arguments),C=A(k);if(f(C)||L!==void 0&&!h(L))return w[1]=function(S,B){if(f(C)&&(B=l(C,this,g(S),B)),!h(B))return B},o(m,null,w)},E=function(L,k,w){var C=y(w,k-1),S=y(w,k+1);return v(N,L)&&!v(F,S)||v(F,L)&&!v(N,C)?"\\u"+T(b(L,0),16):L};m&&a({target:"JSON",stat:!0,arity:3,forced:P||D},{stringify:function(L,k,w){var C=d(arguments),S=o(P?R:m,null,C);return D&&typeof S=="string"?_(S,I,E):S}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,n,i){e("../internals/export")({target:"Number",stat:!0},{isNaN:function(a){return a!=a}})},{"../internals/export":259}],364:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/object-assign");a({target:"Object",stat:!0,arity:2,forced:Object.assign!==s},{assign:s})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/symbol-constructor-detection"),o=e("../internals/fails"),l=e("../internals/object-get-own-property-symbols"),u=e("../internals/to-object");a({target:"Object",stat:!0,forced:!s||o(function(){l.f(1)})},{getOwnPropertySymbols:function(c){var f=l.f;return f?f(u(c)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/to-object"),o=e("../internals/object-keys");a({target:"Object",stat:!0,forced:e("../internals/fails")(function(){o(1)})},{keys:function(l){return o(s(l))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/object-to-array").values;a({target:"Object",stat:!0},{values:function(o){return s(o)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/function-call"),o=e("../internals/a-callable"),l=e("../internals/new-promise-capability"),u=e("../internals/perform"),c=e("../internals/iterate");a({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(f){var h=this,d=l.f(h),A=d.resolve,p=d.reject,g=u(function(){var m=o(h.resolve),v=[],y=0,b=1;c(f,function(_){var T=y++,I=!1;b++,s(m,h,_).then(function(N){I||(I=!0,v[T]=N,--b||A(v))},p)}),--b||A(v)});return g.error&&p(g.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/is-pure"),o=e("../internals/promise-constructor-detection").CONSTRUCTOR,l=e("../internals/promise-native-constructor"),u=e("../internals/get-built-in"),c=e("../internals/is-callable"),f=e("../internals/define-built-in"),h=l&&l.prototype;if(a({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(A){return this.then(void 0,A)}}),!s&&c(l)){var d=u("Promise").prototype.catch;h.catch!==d&&f(h,"catch",d,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,n,i){var a,s,o,l=e("../internals/export"),u=e("../internals/is-pure"),c=e("../internals/engine-is-node"),f=e("../internals/global"),h=e("../internals/function-call"),d=e("../internals/define-built-in"),A=e("../internals/object-set-prototype-of"),p=e("../internals/set-to-string-tag"),g=e("../internals/set-species"),m=e("../internals/a-callable"),v=e("../internals/is-callable"),y=e("../internals/is-object"),b=e("../internals/an-instance"),_=e("../internals/species-constructor"),T=e("../internals/task").set,I=e("../internals/microtask"),N=e("../internals/host-report-errors"),F=e("../internals/perform"),P=e("../internals/queue"),D=e("../internals/internal-state"),R=e("../internals/promise-native-constructor"),E=e("../internals/promise-constructor-detection"),L=e("../internals/new-promise-capability"),k=E.CONSTRUCTOR,w=E.REJECTION_EVENT,C=E.SUBCLASSING,S=D.getterFor("Promise"),B=D.set,O=R&&R.prototype,V=R,M=O,U=f.TypeError,Q=f.document,W=f.process,j=L.f,X=j,z=!!(Q&&Q.createEvent&&f.dispatchEvent),H=function(ue){var Fe;return!(!y(ue)||!v(Fe=ue.then))&&Fe},K=function(ue,Fe){var Se,De,ge,Be=Fe.value,Pe=Fe.state===1,st=Pe?ue.ok:ue.fail,gt=ue.resolve,we=ue.reject,Oe=ue.domain;try{st?(Pe||(Fe.rejection===2&&te(Fe),Fe.rejection=1),st===!0?Se=Be:(Oe&&Oe.enter(),Se=st(Be),Oe&&(Oe.exit(),ge=!0)),Se===ue.promise?we(new U("Promise-chain cycle")):(De=H(Se))?h(De,Se,gt,we):gt(Se)):we(Be)}catch(at){Oe&&!ge&&Oe.exit(),we(at)}},Z=function(ue,Fe){ue.notified||(ue.notified=!0,I(function(){for(var Se,De=ue.reactions;Se=De.get();)K(Se,ue);ue.notified=!1,Fe&&!ue.rejection&&ee(ue)}))},ie=function(ue,Fe,Se){var De,ge;z?((De=Q.createEvent("Event")).promise=Fe,De.reason=Se,De.initEvent(ue,!1,!0),f.dispatchEvent(De)):De={promise:Fe,reason:Se},!w&&(ge=f["on"+ue])?ge(De):ue==="unhandledrejection"&&N("Unhandled promise rejection",Se)},ee=function(ue){h(T,f,function(){var Fe,Se=ue.facade,De=ue.value;if(ne(ue)&&(Fe=F(function(){c?W.emit("unhandledRejection",De,Se):ie("unhandledrejection",Se,De)}),ue.rejection=c||ne(ue)?2:1,Fe.error))throw Fe.value})},ne=function(ue){return ue.rejection!==1&&!ue.parent},te=function(ue){h(T,f,function(){var Fe=ue.facade;c?W.emit("rejectionHandled",Fe):ie("rejectionhandled",Fe,ue.value)})},le=function(ue,Fe,Se){return function(De){ue(Fe,De,Se)}},re=function(ue,Fe,Se){ue.done||(ue.done=!0,Se&&(ue=Se),ue.value=Fe,ue.state=2,Z(ue,!0))},de=function(ue,Fe,Se){if(!ue.done){ue.done=!0,Se&&(ue=Se);try{if(ue.facade===Fe)throw new U("Promise can't be resolved itself");var De=H(Fe);De?I(function(){var ge={done:!1};try{h(De,Fe,le(de,ge,ue),le(re,ge,ue))}catch(Be){re(ge,Be,ue)}}):(ue.value=Fe,ue.state=1,Z(ue,!1))}catch(ge){re({done:!1},ge,ue)}}};if(k&&(M=(V=function(ue){b(this,M),m(ue),h(a,this);var Fe=S(this);try{ue(le(de,Fe),le(re,Fe))}catch(Se){re(Fe,Se)}}).prototype,(a=function(ue){B(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new P,rejection:!1,state:0,value:void 0})}).prototype=d(M,"then",function(ue,Fe){var Se=S(this),De=j(_(this,V));return Se.parent=!0,De.ok=!v(ue)||ue,De.fail=v(Fe)&&Fe,De.domain=c?W.domain:void 0,Se.state===0?Se.reactions.add(De):I(function(){K(De,Se)}),De.promise}),s=function(){var ue=new a,Fe=S(ue);this.promise=ue,this.resolve=le(de,Fe),this.reject=le(re,Fe)},L.f=j=function(ue){return ue===V||ue===void 0?new s(ue):X(ue)},!u&&v(R)&&O!==Object.prototype)){o=O.then,C||d(O,"then",function(ue,Fe){var Se=this;return new V(function(De,ge){h(o,Se,De,ge)}).then(ue,Fe)},{unsafe:!0});try{delete O.constructor}catch{}A&&A(O,M)}l({global:!0,constructor:!0,wrap:!0,forced:k},{Promise:V}),p(V,"Promise",!1,!0),g("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/is-pure"),o=e("../internals/promise-native-constructor"),l=e("../internals/fails"),u=e("../internals/get-built-in"),c=e("../internals/is-callable"),f=e("../internals/species-constructor"),h=e("../internals/promise-resolve"),d=e("../internals/define-built-in"),A=o&&o.prototype;if(a({target:"Promise",proto:!0,real:!0,forced:!!o&&l(function(){A.finally.call({then:function(){}},function(){})})},{finally:function(g){var m=f(this,u("Promise")),v=c(g);return this.then(v?function(y){return h(m,g()).then(function(){return y})}:g,v?function(y){return h(m,g()).then(function(){throw y})}:g)}}),!s&&c(o)){var p=u("Promise").prototype.finally;A.finally!==p&&d(A,"finally",p,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,n,i){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/function-call"),o=e("../internals/a-callable"),l=e("../internals/new-promise-capability"),u=e("../internals/perform"),c=e("../internals/iterate");a({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(f){var h=this,d=l.f(h),A=d.reject,p=u(function(){var g=o(h.resolve);c(f,function(m){s(g,h,m).then(d.resolve,A)})});return p.error&&A(p.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/function-call"),o=e("../internals/new-promise-capability");a({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(l){var u=o.f(this);return s(u.reject,void 0,l),u.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/get-built-in"),o=e("../internals/is-pure"),l=e("../internals/promise-native-constructor"),u=e("../internals/promise-constructor-detection").CONSTRUCTOR,c=e("../internals/promise-resolve"),f=s("Promise"),h=o&&!u;a({target:"Promise",stat:!0,forced:o||u},{resolve:function(d){return c(h&&this===f?l:this,d)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/function-uncurry-this"),o=e("../internals/to-absolute-index"),l=RangeError,u=String.fromCharCode,c=String.fromCodePoint,f=s([].join);a({target:"String",stat:!0,arity:1,forced:!!c&&c.length!==1},{fromCodePoint:function(h){for(var d,A=[],p=arguments.length,g=0;p>g;){if(d=+arguments[g++],o(d,1114111)!==d)throw new l(d+" is not a valid code point");A[g]=d<65536?u(d):u(55296+((d-=65536)>>10),d%1024+56320)}return f(A,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/function-uncurry-this"),o=e("../internals/not-a-regexp"),l=e("../internals/require-object-coercible"),u=e("../internals/to-string"),c=e("../internals/correct-is-regexp-logic"),f=s("".indexOf);a({target:"String",proto:!0,forced:!c("includes")},{includes:function(h){return!!~f(u(l(this)),u(o(h)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,n,i){e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/global"),o=e("../internals/function-call"),l=e("../internals/function-uncurry-this"),u=e("../internals/is-pure"),c=e("../internals/descriptors"),f=e("../internals/symbol-constructor-detection"),h=e("../internals/fails"),d=e("../internals/has-own-property"),A=e("../internals/object-is-prototype-of"),p=e("../internals/an-object"),g=e("../internals/to-indexed-object"),m=e("../internals/to-property-key"),v=e("../internals/to-string"),y=e("../internals/create-property-descriptor"),b=e("../internals/object-create"),_=e("../internals/object-keys"),T=e("../internals/object-get-own-property-names"),I=e("../internals/object-get-own-property-names-external"),N=e("../internals/object-get-own-property-symbols"),F=e("../internals/object-get-own-property-descriptor"),P=e("../internals/object-define-property"),D=e("../internals/object-define-properties"),R=e("../internals/object-property-is-enumerable"),E=e("../internals/define-built-in"),L=e("../internals/define-built-in-accessor"),k=e("../internals/shared"),w=e("../internals/shared-key"),C=e("../internals/hidden-keys"),S=e("../internals/uid"),B=e("../internals/well-known-symbol"),O=e("../internals/well-known-symbol-wrapped"),V=e("../internals/well-known-symbol-define"),M=e("../internals/symbol-define-to-primitive"),U=e("../internals/set-to-string-tag"),Q=e("../internals/internal-state"),W=e("../internals/array-iteration").forEach,j=w("hidden"),X=Q.set,z=Q.getterFor("Symbol"),H=Object.prototype,K=s.Symbol,Z=K&&K.prototype,ie=s.RangeError,ee=s.TypeError,ne=s.QObject,te=F.f,le=P.f,re=I.f,de=R.f,ue=l([].push),Fe=k("symbols"),Se=k("op-symbols"),De=k("wks"),ge=!ne||!ne.prototype||!ne.prototype.findChild,Be=function(Ke,Ue,We){var yt=te(H,Ue);yt&&delete H[Ue],le(Ke,Ue,We),yt&&Ke!==H&&le(H,Ue,yt)},Pe=c&&h(function(){return b(le({},"a",{get:function(){return le(this,"a",{value:7}).a}})).a!==7})?Be:le,st=function(Ke,Ue){var We=Fe[Ke]=b(Z);return X(We,{type:"Symbol",tag:Ke,description:Ue}),c||(We.description=Ue),We},gt=function(Ke,Ue,We){Ke===H&&gt(Se,Ue,We),p(Ke);var yt=m(Ue);return p(We),d(Fe,yt)?(We.enumerable?(d(Ke,j)&&Ke[j][yt]&&(Ke[j][yt]=!1),We=b(We,{enumerable:y(0,!1)})):(d(Ke,j)||le(Ke,j,y(1,{})),Ke[j][yt]=!0),Pe(Ke,yt,We)):le(Ke,yt,We)},we=function(Ke,Ue){p(Ke);var We=g(Ue),yt=_(We).concat(Qe(We));return W(yt,function(Ne){c&&!o(Oe,We,Ne)||gt(Ke,Ne,We[Ne])}),Ke},Oe=function(Ke){var Ue=m(Ke),We=o(de,this,Ue);return!(this===H&&d(Fe,Ue)&&!d(Se,Ue))&&(!(We||!d(this,Ue)||!d(Fe,Ue)||d(this,j)&&this[j][Ue])||We)},at=function(Ke,Ue){var We=g(Ke),yt=m(Ue);if(We!==H||!d(Fe,yt)||d(Se,yt)){var Ne=te(We,yt);return!Ne||!d(Fe,yt)||d(We,j)&&We[j][yt]||(Ne.enumerable=!0),Ne}},Ve=function(Ke){var Ue=re(g(Ke)),We=[];return W(Ue,function(yt){d(Fe,yt)||d(C,yt)||ue(We,yt)}),We},Qe=function(Ke){var Ue=Ke===H,We=re(Ue?Se:g(Ke)),yt=[];return W(We,function(Ne){!d(Fe,Ne)||Ue&&!d(H,Ne)||ue(yt,Fe[Ne])}),yt};f||(E(Z=(K=function(){if(A(Z,this))throw new ee("Symbol is not a constructor");var Ke=arguments.length&&arguments[0]!==void 0?v(arguments[0]):void 0,Ue=S(Ke),We=function(yt){this===H&&o(We,Se,yt),d(this,j)&&d(this[j],Ue)&&(this[j][Ue]=!1);var Ne=y(1,yt);try{Pe(this,Ue,Ne)}catch(et){if(!(et instanceof ie))throw et;Be(this,Ue,Ne)}};return c&&ge&&Pe(H,Ue,{configurable:!0,set:We}),st(Ue,Ke)}).prototype,"toString",function(){return z(this).tag}),E(K,"withoutSetter",function(Ke){return st(S(Ke),Ke)}),R.f=Oe,P.f=gt,D.f=we,F.f=at,T.f=I.f=Ve,N.f=Qe,O.f=function(Ke){return st(B(Ke),Ke)},c&&(L(Z,"description",{configurable:!0,get:function(){return z(this).description}}),u||E(H,"propertyIsEnumerable",Oe,{unsafe:!0}))),a({global:!0,constructor:!0,wrap:!0,forced:!f,sham:!f},{Symbol:K}),W(_(De),function(Ke){V(Ke)}),a({target:"Symbol",stat:!0,forced:!f},{useSetter:function(){ge=!0},useSimple:function(){ge=!1}}),a({target:"Object",stat:!0,forced:!f,sham:!c},{create:function(Ke,Ue){return Ue===void 0?b(Ke):we(b(Ke),Ue)},defineProperty:gt,defineProperties:we,getOwnPropertyDescriptor:at}),a({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:Ve}),M(),U(K,"Symbol"),C[j]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/get-built-in"),o=e("../internals/has-own-property"),l=e("../internals/to-string"),u=e("../internals/shared"),c=e("../internals/symbol-registry-detection"),f=u("string-to-symbol-registry"),h=u("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!c},{for:function(d){var A=l(d);if(o(f,A))return f[A];var p=s("Symbol")(A);return f[A]=p,h[p]=A,p}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,n,i){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/has-own-property"),o=e("../internals/is-symbol"),l=e("../internals/try-to-string"),u=e("../internals/shared"),c=e("../internals/symbol-registry-detection"),f=u("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!c},{keyFor:function(h){if(!o(h))throw new TypeError(l(h)+" is not a symbol");if(s(f,h))return f[h]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,n,i){function a(s){return Object.prototype.toString.call(s)}i.isArray=function(s){return Array.isArray?Array.isArray(s):a(s)==="[object Array]"},i.isBoolean=function(s){return typeof s=="boolean"},i.isNull=function(s){return s===null},i.isNullOrUndefined=function(s){return s==null},i.isNumber=function(s){return typeof s=="number"},i.isString=function(s){return typeof s=="string"},i.isSymbol=function(s){return typeof s=="symbol"},i.isUndefined=function(s){return s===void 0},i.isRegExp=function(s){return a(s)==="[object RegExp]"},i.isObject=function(s){return typeof s=="object"&&s!==null},i.isDate=function(s){return a(s)==="[object Date]"},i.isError=function(s){return a(s)==="[object Error]"||s instanceof Error},i.isFunction=function(s){return typeof s=="function"},i.isPrimitive=function(s){return s===null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||typeof s=="symbol"||s===void 0},i.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,n,i){(function(a){(function(){var s=e("elliptic"),o=e("bn.js");n.exports=function(f){return new u(f)};var l={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function u(f){this.curveType=l[f],this.curveType||(this.curveType={name:f}),this.curve=new s.ec(this.curveType.name),this.keys=void 0}function c(f,h,d){Array.isArray(f)||(f=f.toArray());var A=new a(f);if(d&&A.length<d){var p=new a(d-A.length);p.fill(0),A=a.concat([p,A])}return h?A.toString(h):A}l.p224=l.secp224r1,l.p256=l.secp256r1=l.prime256v1,l.p192=l.secp192r1=l.prime192v1,l.p384=l.secp384r1,l.p521=l.secp521r1,u.prototype.generateKeys=function(f,h){return this.keys=this.curve.genKeyPair(),this.getPublicKey(f,h)},u.prototype.computeSecret=function(f,h,d){return h=h||"utf8",a.isBuffer(f)||(f=new a(f,h)),c(this.curve.keyFromPublic(f).getPublic().mul(this.keys.getPrivate()).getX(),d,this.curveType.byteLength)},u.prototype.getPublicKey=function(f,h){var d=this.keys.getPublic(h==="compressed",!0);return h==="hybrid"&&(d[d.length-1]%2?d[0]=7:d[0]=6),c(d,f)},u.prototype.getPrivateKey=function(f){return c(this.keys.getPrivate(),f)},u.prototype.setPublicKey=function(f,h){return h=h||"utf8",a.isBuffer(f)||(f=new a(f,h)),this.keys._importPublic(f),this},u.prototype.setPrivateKey=function(f,h){h=h||"utf8",a.isBuffer(f)||(f=new a(f,h));var d=new o(f);return d=d.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(d),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],386:[function(e,n,i){var a=e("inherits"),s=e("md5.js"),o=e("ripemd160"),l=e("sha.js"),u=e("cipher-base");function c(f){u.call(this,"digest"),this._hash=f}a(c,u),c.prototype._update=function(f){this._hash.update(f)},c.prototype._final=function(){return this._hash.digest()},n.exports=function(f){return(f=f.toLowerCase())==="md5"?new s:f==="rmd160"||f==="ripemd160"?new o:new c(l(f))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,n,i){var a=e("md5.js");n.exports=function(s){return new a().update(s).digest()}},{"md5.js":450}],388:[function(e,n,i){var a=e("inherits"),s=e("./legacy"),o=e("cipher-base"),l=e("safe-buffer").Buffer,u=e("create-hash/md5"),c=e("ripemd160"),f=e("sha.js"),h=l.alloc(128);function d(A,p){o.call(this,"digest"),typeof p=="string"&&(p=l.from(p));var g=A==="sha512"||A==="sha384"?128:64;this._alg=A,this._key=p,p.length>g?p=(A==="rmd160"?new c:f(A)).update(p).digest():p.length<g&&(p=l.concat([p,h],g));for(var m=this._ipad=l.allocUnsafe(g),v=this._opad=l.allocUnsafe(g),y=0;y<g;y++)m[y]=54^p[y],v[y]=92^p[y];this._hash=A==="rmd160"?new c:f(A),this._hash.update(m)}a(d,o),d.prototype._update=function(A){this._hash.update(A)},d.prototype._final=function(){var A=this._hash.digest();return(this._alg==="rmd160"?new c:f(this._alg)).update(this._opad).update(A).digest()},n.exports=function(A,p){return(A=A.toLowerCase())==="rmd160"||A==="ripemd160"?new d("rmd160",p):A==="md5"?new s(u,p):new d(A,p)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,n,i){var a=e("inherits"),s=e("safe-buffer").Buffer,o=e("cipher-base"),l=s.alloc(128);function u(c,f){o.call(this,"digest"),typeof f=="string"&&(f=s.from(f)),this._alg=c,this._key=f,f.length>64?f=c(f):f.length<64&&(f=s.concat([f,l],64));for(var h=this._ipad=s.allocUnsafe(64),d=this._opad=s.allocUnsafe(64),A=0;A<64;A++)h[A]=54^f[A],d[A]=92^f[A];this._hash=[h]}a(u,o),u.prototype._update=function(c){this._hash.push(c)},u.prototype._final=function(){var c=this._alg(s.concat(this._hash));return this._alg(s.concat([this._opad,c]))},n.exports=u},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,n,i){i.randomBytes=i.rng=i.pseudoRandomBytes=i.prng=e("randombytes"),i.createHash=i.Hash=e("create-hash"),i.createHmac=i.Hmac=e("create-hmac");var a=e("browserify-sign/algos"),s=Object.keys(a),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(s);i.getHashes=function(){return o};var l=e("pbkdf2");i.pbkdf2=l.pbkdf2,i.pbkdf2Sync=l.pbkdf2Sync;var u=e("browserify-cipher");i.Cipher=u.Cipher,i.createCipher=u.createCipher,i.Cipheriv=u.Cipheriv,i.createCipheriv=u.createCipheriv,i.Decipher=u.Decipher,i.createDecipher=u.createDecipher,i.Decipheriv=u.Decipheriv,i.createDecipheriv=u.createDecipheriv,i.getCiphers=u.getCiphers,i.listCiphers=u.listCiphers;var c=e("diffie-hellman");i.DiffieHellmanGroup=c.DiffieHellmanGroup,i.createDiffieHellmanGroup=c.createDiffieHellmanGroup,i.getDiffieHellman=c.getDiffieHellman,i.createDiffieHellman=c.createDiffieHellman,i.DiffieHellman=c.DiffieHellman;var f=e("browserify-sign");i.createSign=f.createSign,i.Sign=f.Sign,i.createVerify=f.createVerify,i.Verify=f.Verify,i.createECDH=e("create-ecdh");var h=e("public-encrypt");i.publicEncrypt=h.publicEncrypt,i.privateEncrypt=h.privateEncrypt,i.publicDecrypt=h.publicDecrypt,i.privateDecrypt=h.privateDecrypt;var d=e("randomfill");i.randomFill=d.randomFill,i.randomFillSync=d.randomFillSync,i.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},i.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,n,i){(function(a,s){typeof i=="object"&&n!==void 0?n.exports=s():(a=typeof globalThis<"u"?globalThis:a||self).dayjs=s()})(void 0,function(){var a=6e4,s=36e5,o="millisecond",l="second",u="minute",c="hour",f="day",h="week",d="month",A="quarter",p="year",g="date",m="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var C=["th","st","nd","rd"],S=w%100;return"["+w+(C[(S-20)%10]||C[S]||C[0])+"]"}},_=function(w,C,S){var B=String(w);return!B||B.length>=C?w:""+Array(C+1-B.length).join(S)+w},T={s:_,z:function(w){var C=-w.utcOffset(),S=Math.abs(C),B=Math.floor(S/60),O=S%60;return(C<=0?"+":"-")+_(B,2,"0")+":"+_(O,2,"0")},m:function w(C,S){if(C.date()<S.date())return-w(S,C);var B=12*(S.year()-C.year())+(S.month()-C.month()),O=C.clone().add(B,d),V=S-O<0,M=C.clone().add(B+(V?-1:1),d);return+(-(B+(S-O)/(V?O-M:M-O))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:d,y:p,w:h,d:f,D:g,h:c,m:u,s:l,ms:o,Q:A}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return w===void 0}},I="en",N={};N[I]=b;var F="$isDayjsObject",P=function(w){return w instanceof L||!(!w||!w[F])},D=function w(C,S,B){var O;if(!C)return I;if(typeof C=="string"){var V=C.toLowerCase();N[V]&&(O=V),S&&(N[V]=S,O=V);var M=C.split("-");if(!O&&M.length>1)return w(M[0])}else{var U=C.name;N[U]=C,O=U}return!B&&O&&(I=O),O||!B&&I},R=function(w,C){if(P(w))return w.clone();var S=typeof C=="object"?C:{};return S.date=w,S.args=arguments,new L(S)},E=T;E.l=D,E.i=P,E.w=function(w,C){return R(w,{locale:C.$L,utc:C.$u,x:C.$x,$offset:C.$offset})};var L=function(){function w(S){this.$L=D(S.locale,null,!0),this.parse(S),this.$x=this.$x||S.x||{},this[F]=!0}var C=w.prototype;return C.parse=function(S){this.$d=function(B){var O=B.date,V=B.utc;if(O===null)return new Date(NaN);if(E.u(O))return new Date;if(O instanceof Date)return new Date(O);if(typeof O=="string"&&!/Z$/i.test(O)){var M=O.match(v);if(M){var U=M[2]-1||0,Q=(M[7]||"0").substring(0,3);return V?new Date(Date.UTC(M[1],U,M[3]||1,M[4]||0,M[5]||0,M[6]||0,Q)):new Date(M[1],U,M[3]||1,M[4]||0,M[5]||0,M[6]||0,Q)}}return new Date(O)}(S),this.init()},C.init=function(){var S=this.$d;this.$y=S.getFullYear(),this.$M=S.getMonth(),this.$D=S.getDate(),this.$W=S.getDay(),this.$H=S.getHours(),this.$m=S.getMinutes(),this.$s=S.getSeconds(),this.$ms=S.getMilliseconds()},C.$utils=function(){return E},C.isValid=function(){return this.$d.toString()!==m},C.isSame=function(S,B){var O=R(S);return this.startOf(B)<=O&&O<=this.endOf(B)},C.isAfter=function(S,B){return R(S)<this.startOf(B)},C.isBefore=function(S,B){return this.endOf(B)<R(S)},C.$g=function(S,B,O){return E.u(S)?this[B]:this.set(O,S)},C.unix=function(){return Math.floor(this.valueOf()/1e3)},C.valueOf=function(){return this.$d.getTime()},C.startOf=function(S,B){var O=this,V=!!E.u(B)||B,M=E.p(S),U=function(Z,ie){var ee=E.w(O.$u?Date.UTC(O.$y,ie,Z):new Date(O.$y,ie,Z),O);return V?ee:ee.endOf(f)},Q=function(Z,ie){return E.w(O.toDate()[Z].apply(O.toDate("s"),(V?[0,0,0,0]:[23,59,59,999]).slice(ie)),O)},W=this.$W,j=this.$M,X=this.$D,z="set"+(this.$u?"UTC":"");switch(M){case p:return V?U(1,0):U(31,11);case d:return V?U(1,j):U(0,j+1);case h:var H=this.$locale().weekStart||0,K=(W<H?W+7:W)-H;return U(V?X-K:X+(6-K),j);case f:case g:return Q(z+"Hours",0);case c:return Q(z+"Minutes",1);case u:return Q(z+"Seconds",2);case l:return Q(z+"Milliseconds",3);default:return this.clone()}},C.endOf=function(S){return this.startOf(S,!1)},C.$set=function(S,B){var O,V=E.p(S),M="set"+(this.$u?"UTC":""),U=(O={},O[f]=M+"Date",O[g]=M+"Date",O[d]=M+"Month",O[p]=M+"FullYear",O[c]=M+"Hours",O[u]=M+"Minutes",O[l]=M+"Seconds",O[o]=M+"Milliseconds",O)[V],Q=V===f?this.$D+(B-this.$W):B;if(V===d||V===p){var W=this.clone().set(g,1);W.$d[U](Q),W.init(),this.$d=W.set(g,Math.min(this.$D,W.daysInMonth())).$d}else U&&this.$d[U](Q);return this.init(),this},C.set=function(S,B){return this.clone().$set(S,B)},C.get=function(S){return this[E.p(S)]()},C.add=function(S,B){var O,V=this;S=Number(S);var M=E.p(B),U=function(j){var X=R(V);return E.w(X.date(X.date()+Math.round(j*S)),V)};if(M===d)return this.set(d,this.$M+S);if(M===p)return this.set(p,this.$y+S);if(M===f)return U(1);if(M===h)return U(7);var Q=(O={},O[u]=a,O[c]=s,O[l]=1e3,O)[M]||1,W=this.$d.getTime()+S*Q;return E.w(W,this)},C.subtract=function(S,B){return this.add(-1*S,B)},C.format=function(S){var B=this,O=this.$locale();if(!this.isValid())return O.invalidDate||m;var V=S||"YYYY-MM-DDTHH:mm:ssZ",M=E.z(this),U=this.$H,Q=this.$m,W=this.$M,j=O.weekdays,X=O.months,z=O.meridiem,H=function(ie,ee,ne,te){return ie&&(ie[ee]||ie(B,V))||ne[ee].slice(0,te)},K=function(ie){return E.s(U%12||12,ie,"0")},Z=z||function(ie,ee,ne){var te=ie<12?"AM":"PM";return ne?te.toLowerCase():te};return V.replace(y,function(ie,ee){return ee||function(ne){switch(ne){case"YY":return String(B.$y).slice(-2);case"YYYY":return E.s(B.$y,4,"0");case"M":return W+1;case"MM":return E.s(W+1,2,"0");case"MMM":return H(O.monthsShort,W,X,3);case"MMMM":return H(X,W);case"D":return B.$D;case"DD":return E.s(B.$D,2,"0");case"d":return String(B.$W);case"dd":return H(O.weekdaysMin,B.$W,j,2);case"ddd":return H(O.weekdaysShort,B.$W,j,3);case"dddd":return j[B.$W];case"H":return String(U);case"HH":return E.s(U,2,"0");case"h":return K(1);case"hh":return K(2);case"a":return Z(U,Q,!0);case"A":return Z(U,Q,!1);case"m":return String(Q);case"mm":return E.s(Q,2,"0");case"s":return String(B.$s);case"ss":return E.s(B.$s,2,"0");case"SSS":return E.s(B.$ms,3,"0");case"Z":return M}return null}(ie)||M.replace(":","")})},C.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},C.diff=function(S,B,O){var V,M=this,U=E.p(B),Q=R(S),W=(Q.utcOffset()-this.utcOffset())*a,j=this-Q,X=function(){return E.m(M,Q)};switch(U){case p:V=X()/12;break;case d:V=X();break;case A:V=X()/3;break;case h:V=(j-W)/6048e5;break;case f:V=(j-W)/864e5;break;case c:V=j/s;break;case u:V=j/a;break;case l:V=j/1e3;break;default:V=j}return O?V:E.a(V)},C.daysInMonth=function(){return this.endOf(d).$D},C.$locale=function(){return N[this.$L]},C.locale=function(S,B){if(!S)return this.$L;var O=this.clone(),V=D(S,B,!0);return V&&(O.$L=V),O},C.clone=function(){return E.w(this.$d,this)},C.toDate=function(){return new Date(this.valueOf())},C.toJSON=function(){return this.isValid()?this.toISOString():null},C.toISOString=function(){return this.$d.toISOString()},C.toString=function(){return this.$d.toUTCString()},w}(),k=L.prototype;return R.prototype=k,[["$ms",o],["$s",l],["$m",u],["$H",c],["$W",f],["$M",d],["$y",p],["$D",g]].forEach(function(w){k[w[1]]=function(C){return this.$g(C,w[0],w[1])}}),R.extend=function(w,C){return w.$i||(w(C,L,R),w.$i=!0),R},R.locale=D,R.isDayjs=P,R.unix=function(w){return R(1e3*w)},R.en=N[I],R.Ls=N,R.p={},R})},{}],392:[function(e,n,i){(function(a,s){typeof i=="object"&&n!==void 0?n.exports=s():(a=typeof globalThis<"u"?globalThis:a||self).dayjs_plugin_customParseFormat=s()})(void 0,function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,l=/\d\d?/,u=/\d*[^-_:/,()\s\d]+/,c={},f=function(v){return(v=+v)+(v>68?1900:2e3)},h=function(v){return function(y){this[v]=+y}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(v){(this.zone||(this.zone={})).offset=function(y){if(!y||y==="Z")return 0;var b=y.match(/([+-]|\d\d)/g),_=60*b[1]+(+b[2]||0);return _===0?0:b[0]==="+"?-_:_}(v)}],A=function(v){var y=c[v];return y&&(y.indexOf?y:y.s.concat(y.f))},p=function(v,y){var b,_=c.meridiem;if(_){for(var T=1;T<=24;T+=1)if(v.indexOf(_(T,0,y))>-1){b=T>12;break}}else b=v===(y?"pm":"PM");return b},g={A:[u,function(v){this.afternoon=p(v,!1)}],a:[u,function(v){this.afternoon=p(v,!0)}],S:[/\d/,function(v){this.milliseconds=100*+v}],SS:[o,function(v){this.milliseconds=10*+v}],SSS:[/\d{3}/,function(v){this.milliseconds=+v}],s:[l,h("seconds")],ss:[l,h("seconds")],m:[l,h("minutes")],mm:[l,h("minutes")],H:[l,h("hours")],h:[l,h("hours")],HH:[l,h("hours")],hh:[l,h("hours")],D:[l,h("day")],DD:[o,h("day")],Do:[u,function(v){var y=c.ordinal,b=v.match(/\d+/);if(this.day=b[0],y)for(var _=1;_<=31;_+=1)y(_).replace(/\[|\]/g,"")===v&&(this.day=_)}],M:[l,h("month")],MM:[o,h("month")],MMM:[u,function(v){var y=A("months"),b=(A("monthsShort")||y.map(function(_){return _.slice(0,3)})).indexOf(v)+1;if(b<1)throw new Error;this.month=b%12||b}],MMMM:[u,function(v){var y=A("months").indexOf(v)+1;if(y<1)throw new Error;this.month=y%12||y}],Y:[/[+-]?\d+/,h("year")],YY:[o,function(v){this.year=f(v)}],YYYY:[/\d{4}/,h("year")],Z:d,ZZ:d};function m(v){var y,b;y=v,b=c&&c.formats;for(var _=(v=y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(R,E,L){var k=L&&L.toUpperCase();return E||b[L]||a[L]||b[k].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(w,C,S){return C||S.slice(1)})})).match(s),T=_.length,I=0;I<T;I+=1){var N=_[I],F=g[N],P=F&&F[0],D=F&&F[1];_[I]=D?{regex:P,parser:D}:N.replace(/^\[|\]$/g,"")}return function(R){for(var E={},L=0,k=0;L<T;L+=1){var w=_[L];if(typeof w=="string")k+=w.length;else{var C=w.regex,S=w.parser,B=R.slice(k),O=C.exec(B)[0];S.call(E,O),R=R.replace(O,"")}}return function(V){var M=V.afternoon;if(M!==void 0){var U=V.hours;M?U<12&&(V.hours+=12):U===12&&(V.hours=0),delete V.afternoon}}(E),E}}return function(v,y,b){b.p.customParseFormat=!0,v&&v.parseTwoDigitYear&&(f=v.parseTwoDigitYear);var _=y.prototype,T=_.parse;_.parse=function(I){var N=I.date,F=I.utc,P=I.args;this.$u=F;var D=P[1];if(typeof D=="string"){var R=P[2]===!0,E=P[3]===!0,L=R||E,k=P[2];E&&(k=P[2]),c=this.$locale(),!R&&k&&(c=b.Ls[k]),this.$d=function(B,O,V){try{if(["x","X"].indexOf(O)>-1)return new Date((O==="X"?1e3:1)*B);var M=m(O)(B),U=M.year,Q=M.month,W=M.day,j=M.hours,X=M.minutes,z=M.seconds,H=M.milliseconds,K=M.zone,Z=new Date,ie=W||(U||Q?1:Z.getDate()),ee=U||Z.getFullYear(),ne=0;U&&!Q||(ne=Q>0?Q-1:Z.getMonth());var te=j||0,le=X||0,re=z||0,de=H||0;return K?new Date(Date.UTC(ee,ne,ie,te,le,re,de+60*K.offset*1e3)):V?new Date(Date.UTC(ee,ne,ie,te,le,re,de)):new Date(ee,ne,ie,te,le,re,de)}catch{return new Date("")}}(N,D,F),this.init(),k&&k!==!0&&(this.$L=this.locale(k).$L),L&&N!=this.format(D)&&(this.$d=new Date("")),c={}}else if(D instanceof Array)for(var w=D.length,C=1;C<=w;C+=1){P[1]=D[C-1];var S=b.apply(this,P);if(S.isValid()){this.$d=S.$d,this.$L=S.$L,this.init();break}C===w&&(this.$d=new Date(""))}else T.call(this,I)}}})},{}],393:[function(e,n,i){(function(a,s){typeof i=="object"&&n!==void 0?n.exports=s():(a=typeof globalThis<"u"?globalThis:a||self).dayjs_plugin_utc=s()})(void 0,function(){var a="minute",s=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(l,u,c){var f=u.prototype;c.utc=function(v){var y={date:v,utc:!0,args:arguments};return new u(y)},f.utc=function(v){var y=c(this.toDate(),{locale:this.$L,utc:!0});return v?y.add(this.utcOffset(),a):y},f.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var h=f.parse;f.parse=function(v){v.utc&&(this.$u=!0),this.$utils().u(v.$offset)||(this.$offset=v.$offset),h.call(this,v)};var d=f.init;f.init=function(){if(this.$u){var v=this.$d;this.$y=v.getUTCFullYear(),this.$M=v.getUTCMonth(),this.$D=v.getUTCDate(),this.$W=v.getUTCDay(),this.$H=v.getUTCHours(),this.$m=v.getUTCMinutes(),this.$s=v.getUTCSeconds(),this.$ms=v.getUTCMilliseconds()}else d.call(this)};var A=f.utcOffset;f.utcOffset=function(v,y){var b=this.$utils().u;if(b(v))return this.$u?0:b(this.$offset)?A.call(this):this.$offset;if(typeof v=="string"&&(v=function(N){N===void 0&&(N="");var F=N.match(s);if(!F)return null;var P=(""+F[0]).match(o)||["-",0,0],D=P[0],R=60*+P[1]+ +P[2];return R===0?0:D==="+"?R:-R}(v))===null)return this;var _=Math.abs(v)<=16?60*v:v,T=this;if(y)return T.$offset=_,T.$u=v===0,T;if(v!==0){var I=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(T=this.local().add(_+I,a)).$offset=_,T.$x.$localOffset=I}else T=this.utc();return T};var p=f.format;f.format=function(v){var y=v||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return p.call(this,y)},f.valueOf=function(){var v=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*v},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var g=f.toDate;f.toDate=function(v){return v==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var m=f.diff;f.diff=function(v,y,b){if(v&&this.$u===v.$u)return m.call(this,v,y,b);var _=this.local(),T=c(v).local();return m.call(_,T,y,b)}}})},{}],394:[function(e,n,i){i.utils=e("./des/utils"),i.Cipher=e("./des/cipher"),i.DES=e("./des/des"),i.CBC=e("./des/cbc"),i.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,n,i){var a=e("minimalistic-assert"),s=e("inherits"),o={};function l(u){a.equal(u.length,8,"Invalid IV length"),this.iv=new Array(8);for(var c=0;c<this.iv.length;c++)this.iv[c]=u[c]}i.instantiate=function(u){function c(A){u.call(this,A),this._cbcInit()}s(c,u);for(var f=Object.keys(o),h=0;h<f.length;h++){var d=f[h];c.prototype[d]=o[d]}return c.create=function(A){return new c(A)},c},o._cbcInit=function(){var u=new l(this.options.iv);this._cbcState=u},o._update=function(u,c,f,h){var d=this._cbcState,A=this.constructor.super_.prototype,p=d.iv;if(this.type==="encrypt"){for(var g=0;g<this.blockSize;g++)p[g]^=u[c+g];for(A._update.call(this,p,0,f,h),g=0;g<this.blockSize;g++)p[g]=f[h+g]}else{for(A._update.call(this,u,c,f,h),g=0;g<this.blockSize;g++)f[h+g]^=p[g];for(g=0;g<this.blockSize;g++)p[g]=u[c+g]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,n,i){var a=e("minimalistic-assert");function s(o){this.options=o,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=o.padding!==!1}n.exports=s,s.prototype._init=function(){},s.prototype.update=function(o){return o.length===0?[]:this.type==="decrypt"?this._updateDecrypt(o):this._updateEncrypt(o)},s.prototype._buffer=function(o,l){for(var u=Math.min(this.buffer.length-this.bufferOff,o.length-l),c=0;c<u;c++)this.buffer[this.bufferOff+c]=o[l+c];return this.bufferOff+=u,u},s.prototype._flushBuffer=function(o,l){return this._update(this.buffer,0,o,l),this.bufferOff=0,this.blockSize},s.prototype._updateEncrypt=function(o){var l=0,u=0,c=(this.bufferOff+o.length)/this.blockSize|0,f=new Array(c*this.blockSize);this.bufferOff!==0&&(l+=this._buffer(o,l),this.bufferOff===this.buffer.length&&(u+=this._flushBuffer(f,u)));for(var h=o.length-(o.length-l)%this.blockSize;l<h;l+=this.blockSize)this._update(o,l,f,u),u+=this.blockSize;for(;l<o.length;l++,this.bufferOff++)this.buffer[this.bufferOff]=o[l];return f},s.prototype._updateDecrypt=function(o){for(var l=0,u=0,c=Math.ceil((this.bufferOff+o.length)/this.blockSize)-1,f=new Array(c*this.blockSize);c>0;c--)l+=this._buffer(o,l),u+=this._flushBuffer(f,u);return l+=this._buffer(o,l),f},s.prototype.final=function(o){var l,u;return o&&(l=this.update(o)),u=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),l?l.concat(u):u},s.prototype._pad=function(o,l){if(l===0)return!1;for(;l<o.length;)o[l++]=0;return!0},s.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var o=new Array(this.blockSize);return this._update(this.buffer,0,o,0),o},s.prototype._unpad=function(o){return o},s.prototype._finalDecrypt=function(){a.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var o=new Array(this.blockSize);return this._flushBuffer(o,0),this._unpad(o)}},{"minimalistic-assert":453}],397:[function(e,n,i){var a=e("minimalistic-assert"),s=e("inherits"),o=e("./utils"),l=e("./cipher");function u(){this.tmp=new Array(2),this.keys=null}function c(h){l.call(this,h);var d=new u;this._desState=d,this.deriveKeys(d,h.key)}s(c,l),n.exports=c,c.create=function(h){return new c(h)};var f=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(h,d){h.keys=new Array(32),a.equal(d.length,this.blockSize,"Invalid key length");var A=o.readUInt32BE(d,0),p=o.readUInt32BE(d,4);o.pc1(A,p,h.tmp,0),A=h.tmp[0],p=h.tmp[1];for(var g=0;g<h.keys.length;g+=2){var m=f[g>>>1];A=o.r28shl(A,m),p=o.r28shl(p,m),o.pc2(A,p,h.keys,g)}},c.prototype._update=function(h,d,A,p){var g=this._desState,m=o.readUInt32BE(h,d),v=o.readUInt32BE(h,d+4);o.ip(m,v,g.tmp,0),m=g.tmp[0],v=g.tmp[1],this.type==="encrypt"?this._encrypt(g,m,v,g.tmp,0):this._decrypt(g,m,v,g.tmp,0),m=g.tmp[0],v=g.tmp[1],o.writeUInt32BE(A,m,p),o.writeUInt32BE(A,v,p+4)},c.prototype._pad=function(h,d){if(this.padding===!1)return!1;for(var A=h.length-d,p=d;p<h.length;p++)h[p]=A;return!0},c.prototype._unpad=function(h){if(this.padding===!1)return h;for(var d=h[h.length-1],A=h.length-d;A<h.length;A++)a.equal(h[A],d);return h.slice(0,h.length-d)},c.prototype._encrypt=function(h,d,A,p,g){for(var m=d,v=A,y=0;y<h.keys.length;y+=2){var b=h.keys[y],_=h.keys[y+1];o.expand(v,h.tmp,0),b^=h.tmp[0],_^=h.tmp[1];var T=o.substitute(b,_),I=v;v=(m^o.permute(T))>>>0,m=I}o.rip(v,m,p,g)},c.prototype._decrypt=function(h,d,A,p,g){for(var m=A,v=d,y=h.keys.length-2;y>=0;y-=2){var b=h.keys[y],_=h.keys[y+1];o.expand(m,h.tmp,0),b^=h.tmp[0],_^=h.tmp[1];var T=o.substitute(b,_),I=m;m=(v^o.permute(T))>>>0,v=I}o.rip(m,v,p,g)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,n,i){var a=e("minimalistic-assert"),s=e("inherits"),o=e("./cipher"),l=e("./des");function u(f,h){a.equal(h.length,24,"Invalid key length");var d=h.slice(0,8),A=h.slice(8,16),p=h.slice(16,24);this.ciphers=f==="encrypt"?[l.create({type:"encrypt",key:d}),l.create({type:"decrypt",key:A}),l.create({type:"encrypt",key:p})]:[l.create({type:"decrypt",key:p}),l.create({type:"encrypt",key:A}),l.create({type:"decrypt",key:d})]}function c(f){o.call(this,f);var h=new u(this.type,this.options.key);this._edeState=h}s(c,o),n.exports=c,c.create=function(f){return new c(f)},c.prototype._update=function(f,h,d,A){var p=this._edeState;p.ciphers[0]._update(f,h,d,A),p.ciphers[1]._update(d,A,d,A),p.ciphers[2]._update(d,A,d,A)},c.prototype._pad=l.prototype._pad,c.prototype._unpad=l.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,n,i){i.readUInt32BE=function(l,u){return(l[0+u]<<24|l[1+u]<<16|l[2+u]<<8|l[3+u])>>>0},i.writeUInt32BE=function(l,u,c){l[0+c]=u>>>24,l[1+c]=u>>>16&255,l[2+c]=u>>>8&255,l[3+c]=255&u},i.ip=function(l,u,c,f){for(var h=0,d=0,A=6;A>=0;A-=2){for(var p=0;p<=24;p+=8)h<<=1,h|=u>>>p+A&1;for(p=0;p<=24;p+=8)h<<=1,h|=l>>>p+A&1}for(A=6;A>=0;A-=2){for(p=1;p<=25;p+=8)d<<=1,d|=u>>>p+A&1;for(p=1;p<=25;p+=8)d<<=1,d|=l>>>p+A&1}c[f+0]=h>>>0,c[f+1]=d>>>0},i.rip=function(l,u,c,f){for(var h=0,d=0,A=0;A<4;A++)for(var p=24;p>=0;p-=8)h<<=1,h|=u>>>p+A&1,h<<=1,h|=l>>>p+A&1;for(A=4;A<8;A++)for(p=24;p>=0;p-=8)d<<=1,d|=u>>>p+A&1,d<<=1,d|=l>>>p+A&1;c[f+0]=h>>>0,c[f+1]=d>>>0},i.pc1=function(l,u,c,f){for(var h=0,d=0,A=7;A>=5;A--){for(var p=0;p<=24;p+=8)h<<=1,h|=u>>p+A&1;for(p=0;p<=24;p+=8)h<<=1,h|=l>>p+A&1}for(p=0;p<=24;p+=8)h<<=1,h|=u>>p+A&1;for(A=1;A<=3;A++){for(p=0;p<=24;p+=8)d<<=1,d|=u>>p+A&1;for(p=0;p<=24;p+=8)d<<=1,d|=l>>p+A&1}for(p=0;p<=24;p+=8)d<<=1,d|=l>>p+A&1;c[f+0]=h>>>0,c[f+1]=d>>>0},i.r28shl=function(l,u){return l<<u&268435455|l>>>28-u};var a=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];i.pc2=function(l,u,c,f){for(var h=0,d=0,A=a.length>>>1,p=0;p<A;p++)h<<=1,h|=l>>>a[p]&1;for(p=A;p<a.length;p++)d<<=1,d|=u>>>a[p]&1;c[f+0]=h>>>0,c[f+1]=d>>>0},i.expand=function(l,u,c){var f=0,h=0;f=(1&l)<<5|l>>>27;for(var d=23;d>=15;d-=4)f<<=6,f|=l>>>d&63;for(d=11;d>=3;d-=4)h|=l>>>d&63,h<<=6;h|=(31&l)<<1|l>>>31,u[c+0]=f>>>0,u[c+1]=h>>>0};var s=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];i.substitute=function(l,u){for(var c=0,f=0;f<4;f++)c<<=4,c|=s[64*f+(l>>>18-6*f&63)];for(f=0;f<4;f++)c<<=4,c|=s[256+64*f+(u>>>18-6*f&63)];return c>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];i.permute=function(l){for(var u=0,c=0;c<o.length;c++)u<<=1,u|=l>>>o[c]&1;return u>>>0},i.padSplit=function(l,u,c){for(var f=l.toString(2);f.length<u;)f="0"+f;for(var h=[],d=0;d<u;d+=c)h.push(f.slice(d,d+c));return h.join(" ")}},{}],400:[function(e,n,i){(function(a){(function(){var s=e("./lib/generatePrime"),o=e("./lib/primes.json"),l=e("./lib/dh"),u={binary:!0,hex:!0,base64:!0};i.DiffieHellmanGroup=i.createDiffieHellmanGroup=i.getDiffieHellman=function(c){var f=new a(o[c].prime,"hex"),h=new a(o[c].gen,"hex");return new l(f,h)},i.createDiffieHellman=i.DiffieHellman=function c(f,h,d,A){return a.isBuffer(h)||u[h]===void 0?c(f,"binary",h,d):(h=h||"binary",A=A||"binary",d=d||new a([2]),a.isBuffer(d)||(d=new a(d,A)),typeof f=="number"?new l(s(f,d),d,!0):(a.isBuffer(f)||(f=new a(f,h)),new l(f,d,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,n,i){(function(a){(function(){var s=e("bn.js"),o=new(e("miller-rabin")),l=new s(24),u=new s(11),c=new s(10),f=new s(3),h=new s(7),d=e("./generatePrime"),A=e("randombytes");function p(b,_){return _=_||"utf8",a.isBuffer(b)||(b=new a(b,_)),this._pub=new s(b),this}function g(b,_){return _=_||"utf8",a.isBuffer(b)||(b=new a(b,_)),this._priv=new s(b),this}n.exports=v;var m={};function v(b,_,T){this.setGenerator(_),this.__prime=new s(b),this._prime=s.mont(this.__prime),this._primeLen=b.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,T?(this.setPublicKey=p,this.setPrivateKey=g):this._primeCode=8}function y(b,_){var T=new a(b.toArray());return _?T.toString(_):T}Object.defineProperty(v.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(b,_){var T=_.toString("hex"),I=[T,b.toString(16)].join("_");if(I in m)return m[I];var N,F=0;if(b.isEven()||!d.simpleSieve||!d.fermatTest(b)||!o.test(b))return F+=1,F+=T==="02"||T==="05"?8:4,m[I]=F,F;switch(o.test(b.shrn(1))||(F+=2),T){case"02":b.mod(l).cmp(u)&&(F+=8);break;case"05":(N=b.mod(c)).cmp(f)&&N.cmp(h)&&(F+=8);break;default:F+=4}return m[I]=F,F}(this.__prime,this.__gen)),this._primeCode}}),v.prototype.generateKeys=function(){return this._priv||(this._priv=new s(A(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},v.prototype.computeSecret=function(b){var _=(b=(b=new s(b)).toRed(this._prime)).redPow(this._priv).fromRed(),T=new a(_.toArray()),I=this.getPrime();if(T.length<I.length){var N=new a(I.length-T.length);N.fill(0),T=a.concat([N,T])}return T},v.prototype.getPublicKey=function(b){return y(this._pub,b)},v.prototype.getPrivateKey=function(b){return y(this._priv,b)},v.prototype.getPrime=function(b){return y(this.__prime,b)},v.prototype.getGenerator=function(b){return y(this._gen,b)},v.prototype.setGenerator=function(b,_){return _=_||"utf8",a.isBuffer(b)||(b=new a(b,_)),this.__gen=b,this._gen=new s(b),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,n,i){var a=e("randombytes");n.exports=b,b.simpleSieve=v,b.fermatTest=y;var s=e("bn.js"),o=new s(24),l=new(e("miller-rabin")),u=new s(1),c=new s(2),f=new s(5),h=(new s(16),new s(8),new s(10)),d=new s(3),A=(new s(7),new s(11)),p=new s(4),g=(new s(12),null);function m(){if(g!==null)return g;var _=[];_[0]=2;for(var T=1,I=3;I<1048576;I+=2){for(var N=Math.ceil(Math.sqrt(I)),F=0;F<T&&_[F]<=N&&I%_[F]!=0;F++);T!==F&&_[F]<=N||(_[T++]=I)}return g=_,_}function v(_){for(var T=m(),I=0;I<T.length;I++)if(_.modn(T[I])===0)return _.cmpn(T[I])===0;return!0}function y(_){var T=s.mont(_);return c.toRed(T).redPow(_.subn(1)).fromRed().cmpn(1)===0}function b(_,T){if(_<16)return new s(T===2||T===5?[140,123]:[140,39]);var I,N;for(T=new s(T);;){for(I=new s(a(Math.ceil(_/8)));I.bitLength()>_;)I.ishrn(1);if(I.isEven()&&I.iadd(u),I.testn(1)||I.iadd(c),T.cmp(c)){if(!T.cmp(f))for(;I.mod(h).cmp(d);)I.iadd(p)}else for(;I.mod(o).cmp(A);)I.iadd(p);if(v(N=I.shrn(1))&&v(I)&&y(N)&&y(I)&&l.test(N)&&l.test(I))return I}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,n,i){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],405:[function(e,n,i){var a=i;a.version=e("../package.json").version,a.utils=e("./elliptic/utils"),a.rand=e("brorand"),a.curve=e("./elliptic/curve"),a.curves=e("./elliptic/curves"),a.ec=e("./elliptic/ec"),a.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,n,i){var a=e("bn.js"),s=e("../utils"),o=s.getNAF,l=s.getJSF,u=s.assert;function c(h,d){this.type=h,this.p=new a(d.p,16),this.red=d.prime?a.red(d.prime):a.mont(this.p),this.zero=new a(0).toRed(this.red),this.one=new a(1).toRed(this.red),this.two=new a(2).toRed(this.red),this.n=d.n&&new a(d.n,16),this.g=d.g&&this.pointFromJSON(d.g,d.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var A=this.n&&this.p.div(this.n);!A||A.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function f(h,d){this.curve=h,this.type=d,this.precomputed=null}n.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(h,d){u(h.precomputed);var A=h._getDoubles(),p=o(d,1,this._bitLength),g=(1<<A.step+1)-(A.step%2==0?2:1);g/=3;var m,v,y=[];for(m=0;m<p.length;m+=A.step){v=0;for(var b=m+A.step-1;b>=m;b--)v=(v<<1)+p[b];y.push(v)}for(var _=this.jpoint(null,null,null),T=this.jpoint(null,null,null),I=g;I>0;I--){for(m=0;m<y.length;m++)(v=y[m])===I?T=T.mixedAdd(A.points[m]):v===-I&&(T=T.mixedAdd(A.points[m].neg()));_=_.add(T)}return _.toP()},c.prototype._wnafMul=function(h,d){var A=4,p=h._getNAFPoints(A);A=p.wnd;for(var g=p.points,m=o(d,A,this._bitLength),v=this.jpoint(null,null,null),y=m.length-1;y>=0;y--){for(var b=0;y>=0&&m[y]===0;y--)b++;if(y>=0&&b++,v=v.dblp(b),y<0)break;var _=m[y];u(_!==0),v=h.type==="affine"?_>0?v.mixedAdd(g[_-1>>1]):v.mixedAdd(g[-_-1>>1].neg()):_>0?v.add(g[_-1>>1]):v.add(g[-_-1>>1].neg())}return h.type==="affine"?v.toP():v},c.prototype._wnafMulAdd=function(h,d,A,p,g){var m,v,y,b=this._wnafT1,_=this._wnafT2,T=this._wnafT3,I=0;for(m=0;m<p;m++){var N=(y=d[m])._getNAFPoints(h);b[m]=N.wnd,_[m]=N.points}for(m=p-1;m>=1;m-=2){var F=m-1,P=m;if(b[F]===1&&b[P]===1){var D=[d[F],null,null,d[P]];d[F].y.cmp(d[P].y)===0?(D[1]=d[F].add(d[P]),D[2]=d[F].toJ().mixedAdd(d[P].neg())):d[F].y.cmp(d[P].y.redNeg())===0?(D[1]=d[F].toJ().mixedAdd(d[P]),D[2]=d[F].add(d[P].neg())):(D[1]=d[F].toJ().mixedAdd(d[P]),D[2]=d[F].toJ().mixedAdd(d[P].neg()));var R=[-3,-1,-5,-7,0,7,5,1,3],E=l(A[F],A[P]);for(I=Math.max(E[0].length,I),T[F]=new Array(I),T[P]=new Array(I),v=0;v<I;v++){var L=0|E[0][v],k=0|E[1][v];T[F][v]=R[3*(L+1)+(k+1)],T[P][v]=0,_[F]=D}}else T[F]=o(A[F],b[F],this._bitLength),T[P]=o(A[P],b[P],this._bitLength),I=Math.max(T[F].length,I),I=Math.max(T[P].length,I)}var w=this.jpoint(null,null,null),C=this._wnafT4;for(m=I;m>=0;m--){for(var S=0;m>=0;){var B=!0;for(v=0;v<p;v++)C[v]=0|T[v][m],C[v]!==0&&(B=!1);if(!B)break;S++,m--}if(m>=0&&S++,w=w.dblp(S),m<0)break;for(v=0;v<p;v++){var O=C[v];O!==0&&(O>0?y=_[v][O-1>>1]:O<0&&(y=_[v][-O-1>>1].neg()),w=y.type==="affine"?w.mixedAdd(y):w.add(y))}}for(m=0;m<p;m++)_[m]=null;return g?w:w.toP()},c.BasePoint=f,f.prototype.eq=function(){throw new Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(h,d){h=s.toArray(h,d);var A=this.p.byteLength();if((h[0]===4||h[0]===6||h[0]===7)&&h.length-1==2*A)return h[0]===6?u(h[h.length-1]%2==0):h[0]===7&&u(h[h.length-1]%2==1),this.point(h.slice(1,1+A),h.slice(1+A,1+2*A));if((h[0]===2||h[0]===3)&&h.length-1===A)return this.pointFromX(h.slice(1,1+A),h[0]===3);throw new Error("Unknown point format")},f.prototype.encodeCompressed=function(h){return this.encode(h,!0)},f.prototype._encode=function(h){var d=this.curve.p.byteLength(),A=this.getX().toArray("be",d);return h?[this.getY().isEven()?2:3].concat(A):[4].concat(A,this.getY().toArray("be",d))},f.prototype.encode=function(h,d){return s.encode(this._encode(d),h)},f.prototype.precompute=function(h){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,h),d.beta=this._getBeta(),this.precomputed=d,this},f.prototype._hasDoubles=function(h){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return!!d&&d.points.length>=Math.ceil((h.bitLength()+1)/d.step)},f.prototype._getDoubles=function(h,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var A=[this],p=this,g=0;g<d;g+=h){for(var m=0;m<h;m++)p=p.dbl();A.push(p)}return{step:h,points:A}},f.prototype._getNAFPoints=function(h){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],A=(1<<h)-1,p=A===1?null:this.dbl(),g=1;g<A;g++)d[g]=d[g-1].add(p);return{wnd:h,points:d}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(h){for(var d=this,A=0;A<h;A++)d=d.dbl();return d}},{"../utils":419,"bn.js":420}],407:[function(e,n,i){var a=e("../utils"),s=e("bn.js"),o=e("inherits"),l=e("./base"),u=a.assert;function c(h){this.twisted=(0|h.a)!=1,this.mOneA=this.twisted&&(0|h.a)==-1,this.extended=this.mOneA,l.call(this,"edwards",h),this.a=new s(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|h.c)==1}function f(h,d,A,p,g){l.BasePoint.call(this,h,"projective"),d===null&&A===null&&p===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(d,16),this.y=new s(A,16),this.z=p?new s(p,16):this.curve.one,this.t=g&&new s(g,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,l),n.exports=c,c.prototype._mulA=function(h){return this.mOneA?h.redNeg():this.a.redMul(h)},c.prototype._mulC=function(h){return this.oneC?h:this.c.redMul(h)},c.prototype.jpoint=function(h,d,A,p){return this.point(h,d,A,p)},c.prototype.pointFromX=function(h,d){(h=new s(h,16)).red||(h=h.toRed(this.red));var A=h.redSqr(),p=this.c2.redSub(this.a.redMul(A)),g=this.one.redSub(this.c2.redMul(this.d).redMul(A)),m=p.redMul(g.redInvm()),v=m.redSqrt();if(v.redSqr().redSub(m).cmp(this.zero)!==0)throw new Error("invalid point");var y=v.fromRed().isOdd();return(d&&!y||!d&&y)&&(v=v.redNeg()),this.point(h,v)},c.prototype.pointFromY=function(h,d){(h=new s(h,16)).red||(h=h.toRed(this.red));var A=h.redSqr(),p=A.redSub(this.c2),g=A.redMul(this.d).redMul(this.c2).redSub(this.a),m=p.redMul(g.redInvm());if(m.cmp(this.zero)===0){if(d)throw new Error("invalid point");return this.point(this.zero,h)}var v=m.redSqrt();if(v.redSqr().redSub(m).cmp(this.zero)!==0)throw new Error("invalid point");return v.fromRed().isOdd()!==d&&(v=v.redNeg()),this.point(v,h)},c.prototype.validate=function(h){if(h.isInfinity())return!0;h.normalize();var d=h.x.redSqr(),A=h.y.redSqr(),p=d.redMul(this.a).redAdd(A),g=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(A)));return p.cmp(g)===0},o(f,l.BasePoint),c.prototype.pointFromJSON=function(h){return f.fromJSON(this,h)},c.prototype.point=function(h,d,A,p){return new f(this,h,d,A,p)},f.fromJSON=function(h,d){return new f(h,d[0],d[1],d[2])},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},f.prototype._extDbl=function(){var h=this.x.redSqr(),d=this.y.redSqr(),A=this.z.redSqr();A=A.redIAdd(A);var p=this.curve._mulA(h),g=this.x.redAdd(this.y).redSqr().redISub(h).redISub(d),m=p.redAdd(d),v=m.redSub(A),y=p.redSub(d),b=g.redMul(v),_=m.redMul(y),T=g.redMul(y),I=v.redMul(m);return this.curve.point(b,_,I,T)},f.prototype._projDbl=function(){var h,d,A,p,g,m,v=this.x.redAdd(this.y).redSqr(),y=this.x.redSqr(),b=this.y.redSqr();if(this.curve.twisted){var _=(p=this.curve._mulA(y)).redAdd(b);this.zOne?(h=v.redSub(y).redSub(b).redMul(_.redSub(this.curve.two)),d=_.redMul(p.redSub(b)),A=_.redSqr().redSub(_).redSub(_)):(g=this.z.redSqr(),m=_.redSub(g).redISub(g),h=v.redSub(y).redISub(b).redMul(m),d=_.redMul(p.redSub(b)),A=_.redMul(m))}else p=y.redAdd(b),g=this.curve._mulC(this.z).redSqr(),m=p.redSub(g).redSub(g),h=this.curve._mulC(v.redISub(p)).redMul(m),d=this.curve._mulC(p).redMul(y.redISub(b)),A=p.redMul(m);return this.curve.point(h,d,A)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(h){var d=this.y.redSub(this.x).redMul(h.y.redSub(h.x)),A=this.y.redAdd(this.x).redMul(h.y.redAdd(h.x)),p=this.t.redMul(this.curve.dd).redMul(h.t),g=this.z.redMul(h.z.redAdd(h.z)),m=A.redSub(d),v=g.redSub(p),y=g.redAdd(p),b=A.redAdd(d),_=m.redMul(v),T=y.redMul(b),I=m.redMul(b),N=v.redMul(y);return this.curve.point(_,T,N,I)},f.prototype._projAdd=function(h){var d,A,p=this.z.redMul(h.z),g=p.redSqr(),m=this.x.redMul(h.x),v=this.y.redMul(h.y),y=this.curve.d.redMul(m).redMul(v),b=g.redSub(y),_=g.redAdd(y),T=this.x.redAdd(this.y).redMul(h.x.redAdd(h.y)).redISub(m).redISub(v),I=p.redMul(b).redMul(T);return this.curve.twisted?(d=p.redMul(_).redMul(v.redSub(this.curve._mulA(m))),A=b.redMul(_)):(d=p.redMul(_).redMul(v.redSub(m)),A=this.curve._mulC(b).redMul(_)),this.curve.point(I,d,A)},f.prototype.add=function(h){return this.isInfinity()?h:h.isInfinity()?this:this.curve.extended?this._extAdd(h):this._projAdd(h)},f.prototype.mul=function(h){return this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve._wnafMul(this,h)},f.prototype.mulAdd=function(h,d,A){return this.curve._wnafMulAdd(1,[this,d],[h,A],2,!1)},f.prototype.jmulAdd=function(h,d,A){return this.curve._wnafMulAdd(1,[this,d],[h,A],2,!0)},f.prototype.normalize=function(){if(this.zOne)return this;var h=this.z.redInvm();return this.x=this.x.redMul(h),this.y=this.y.redMul(h),this.t&&(this.t=this.t.redMul(h)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.eq=function(h){return this===h||this.getX().cmp(h.getX())===0&&this.getY().cmp(h.getY())===0},f.prototype.eqXToP=function(h){var d=h.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var A=h.clone(),p=this.curve.redN.redMul(this.z);;){if(A.iadd(this.curve.n),A.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(p),this.x.cmp(d)===0)return!0}},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,n,i){var a=i;a.base=e("./base"),a.short=e("./short"),a.mont=e("./mont"),a.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,n,i){var a=e("bn.js"),s=e("inherits"),o=e("./base"),l=e("../utils");function u(f){o.call(this,"mont",f),this.a=new a(f.a,16).toRed(this.red),this.b=new a(f.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(f,h,d){o.BasePoint.call(this,f,"projective"),h===null&&d===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a(h,16),this.z=new a(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}s(u,o),n.exports=u,u.prototype.validate=function(f){var h=f.normalize().x,d=h.redSqr(),A=d.redMul(h).redAdd(d.redMul(this.a)).redAdd(h);return A.redSqrt().redSqr().cmp(A)===0},s(c,o.BasePoint),u.prototype.decodePoint=function(f,h){return this.point(l.toArray(f,h),1)},u.prototype.point=function(f,h){return new c(this,f,h)},u.prototype.pointFromJSON=function(f){return c.fromJSON(this,f)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(f,h){return new c(f,h[0],h[1]||f.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0},c.prototype.dbl=function(){var f=this.x.redAdd(this.z).redSqr(),h=this.x.redSub(this.z).redSqr(),d=f.redSub(h),A=f.redMul(h),p=d.redMul(h.redAdd(this.curve.a24.redMul(d)));return this.curve.point(A,p)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(f,h){var d=this.x.redAdd(this.z),A=this.x.redSub(this.z),p=f.x.redAdd(f.z),g=f.x.redSub(f.z).redMul(d),m=p.redMul(A),v=h.z.redMul(g.redAdd(m).redSqr()),y=h.x.redMul(g.redISub(m).redSqr());return this.curve.point(v,y)},c.prototype.mul=function(f){for(var h=f.clone(),d=this,A=this.curve.point(null,null),p=[];h.cmpn(0)!==0;h.iushrn(1))p.push(h.andln(1));for(var g=p.length-1;g>=0;g--)p[g]===0?(d=d.diffAdd(A,this),A=A.dbl()):(A=d.diffAdd(A,this),d=d.dbl());return A},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(f){return this.getX().cmp(f.getX())===0},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,n,i){var a=e("../utils"),s=e("bn.js"),o=e("inherits"),l=e("./base"),u=a.assert;function c(d){l.call(this,"short",d),this.a=new s(d.a,16).toRed(this.red),this.b=new s(d.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(d),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function f(d,A,p,g){l.BasePoint.call(this,d,"affine"),A===null&&p===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(A,16),this.y=new s(p,16),g&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(d,A,p,g){l.BasePoint.call(this,d,"jacobian"),A===null&&p===null&&g===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(A,16),this.y=new s(p,16),this.z=new s(g,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,l),n.exports=c,c.prototype._getEndomorphism=function(d){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var A,p;if(d.beta)A=new s(d.beta,16).toRed(this.red);else{var g=this._getEndoRoots(this.p);A=(A=g[0].cmp(g[1])<0?g[0]:g[1]).toRed(this.red)}if(d.lambda)p=new s(d.lambda,16);else{var m=this._getEndoRoots(this.n);this.g.mul(m[0]).x.cmp(this.g.x.redMul(A))===0?p=m[0]:(p=m[1],u(this.g.mul(p).x.cmp(this.g.x.redMul(A))===0))}return{beta:A,lambda:p,basis:d.basis?d.basis.map(function(v){return{a:new s(v.a,16),b:new s(v.b,16)}}):this._getEndoBasis(p)}}},c.prototype._getEndoRoots=function(d){var A=d===this.p?this.red:s.mont(d),p=new s(2).toRed(A).redInvm(),g=p.redNeg(),m=new s(3).toRed(A).redNeg().redSqrt().redMul(p);return[g.redAdd(m).fromRed(),g.redSub(m).fromRed()]},c.prototype._getEndoBasis=function(d){for(var A,p,g,m,v,y,b,_,T,I=this.n.ushrn(Math.floor(this.n.bitLength()/2)),N=d,F=this.n.clone(),P=new s(1),D=new s(0),R=new s(0),E=new s(1),L=0;N.cmpn(0)!==0;){var k=F.div(N);_=F.sub(k.mul(N)),T=R.sub(k.mul(P));var w=E.sub(k.mul(D));if(!g&&_.cmp(I)<0)A=b.neg(),p=P,g=_.neg(),m=T;else if(g&&++L==2)break;b=_,F=N,N=_,R=P,P=T,E=D,D=w}v=_.neg(),y=T;var C=g.sqr().add(m.sqr());return v.sqr().add(y.sqr()).cmp(C)>=0&&(v=A,y=p),g.negative&&(g=g.neg(),m=m.neg()),v.negative&&(v=v.neg(),y=y.neg()),[{a:g,b:m},{a:v,b:y}]},c.prototype._endoSplit=function(d){var A=this.endo.basis,p=A[0],g=A[1],m=g.b.mul(d).divRound(this.n),v=p.b.neg().mul(d).divRound(this.n),y=m.mul(p.a),b=v.mul(g.a),_=m.mul(p.b),T=v.mul(g.b);return{k1:d.sub(y).sub(b),k2:_.add(T).neg()}},c.prototype.pointFromX=function(d,A){(d=new s(d,16)).red||(d=d.toRed(this.red));var p=d.redSqr().redMul(d).redIAdd(d.redMul(this.a)).redIAdd(this.b),g=p.redSqrt();if(g.redSqr().redSub(p).cmp(this.zero)!==0)throw new Error("invalid point");var m=g.fromRed().isOdd();return(A&&!m||!A&&m)&&(g=g.redNeg()),this.point(d,g)},c.prototype.validate=function(d){if(d.inf)return!0;var A=d.x,p=d.y,g=this.a.redMul(A),m=A.redSqr().redMul(A).redIAdd(g).redIAdd(this.b);return p.redSqr().redISub(m).cmpn(0)===0},c.prototype._endoWnafMulAdd=function(d,A,p){for(var g=this._endoWnafT1,m=this._endoWnafT2,v=0;v<d.length;v++){var y=this._endoSplit(A[v]),b=d[v],_=b._getBeta();y.k1.negative&&(y.k1.ineg(),b=b.neg(!0)),y.k2.negative&&(y.k2.ineg(),_=_.neg(!0)),g[2*v]=b,g[2*v+1]=_,m[2*v]=y.k1,m[2*v+1]=y.k2}for(var T=this._wnafMulAdd(1,g,m,2*v,p),I=0;I<2*v;I++)g[I]=null,m[I]=null;return T},o(f,l.BasePoint),c.prototype.point=function(d,A,p){return new f(this,d,A,p)},c.prototype.pointFromJSON=function(d,A){return f.fromJSON(this,d,A)},f.prototype._getBeta=function(){if(this.curve.endo){var d=this.precomputed;if(d&&d.beta)return d.beta;var A=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(d){var p=this.curve,g=function(m){return p.point(m.x.redMul(p.endo.beta),m.y)};d.beta=A,A.precomputed={beta:null,naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(g)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(g)}}}return A}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(d,A,p){typeof A=="string"&&(A=JSON.parse(A));var g=d.point(A[0],A[1],p);if(!A[2])return g;function m(y){return d.point(y[0],y[1],p)}var v=A[2];return g.precomputed={beta:null,doubles:v.doubles&&{step:v.doubles.step,points:[g].concat(v.doubles.points.map(m))},naf:v.naf&&{wnd:v.naf.wnd,points:[g].concat(v.naf.points.map(m))}},g},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(d){if(this.inf)return d;if(d.inf)return this;if(this.eq(d))return this.dbl();if(this.neg().eq(d))return this.curve.point(null,null);if(this.x.cmp(d.x)===0)return this.curve.point(null,null);var A=this.y.redSub(d.y);A.cmpn(0)!==0&&(A=A.redMul(this.x.redSub(d.x).redInvm()));var p=A.redSqr().redISub(this.x).redISub(d.x),g=A.redMul(this.x.redSub(p)).redISub(this.y);return this.curve.point(p,g)},f.prototype.dbl=function(){if(this.inf)return this;var d=this.y.redAdd(this.y);if(d.cmpn(0)===0)return this.curve.point(null,null);var A=this.curve.a,p=this.x.redSqr(),g=d.redInvm(),m=p.redAdd(p).redIAdd(p).redIAdd(A).redMul(g),v=m.redSqr().redISub(this.x.redAdd(this.x)),y=m.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,y)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(d){return d=new s(d,16),this.isInfinity()?this:this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve.endo?this.curve._endoWnafMulAdd([this],[d]):this.curve._wnafMul(this,d)},f.prototype.mulAdd=function(d,A,p){var g=[this,A],m=[d,p];return this.curve.endo?this.curve._endoWnafMulAdd(g,m):this.curve._wnafMulAdd(1,g,m,2)},f.prototype.jmulAdd=function(d,A,p){var g=[this,A],m=[d,p];return this.curve.endo?this.curve._endoWnafMulAdd(g,m,!0):this.curve._wnafMulAdd(1,g,m,2,!0)},f.prototype.eq=function(d){return this===d||this.inf===d.inf&&(this.inf||this.x.cmp(d.x)===0&&this.y.cmp(d.y)===0)},f.prototype.neg=function(d){if(this.inf)return this;var A=this.curve.point(this.x,this.y.redNeg());if(d&&this.precomputed){var p=this.precomputed,g=function(m){return m.neg()};A.precomputed={naf:p.naf&&{wnd:p.naf.wnd,points:p.naf.points.map(g)},doubles:p.doubles&&{step:p.doubles.step,points:p.doubles.points.map(g)}}}return A},f.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(h,l.BasePoint),c.prototype.jpoint=function(d,A,p){return new h(this,d,A,p)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var d=this.z.redInvm(),A=d.redSqr(),p=this.x.redMul(A),g=this.y.redMul(A).redMul(d);return this.curve.point(p,g)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var A=d.z.redSqr(),p=this.z.redSqr(),g=this.x.redMul(A),m=d.x.redMul(p),v=this.y.redMul(A.redMul(d.z)),y=d.y.redMul(p.redMul(this.z)),b=g.redSub(m),_=v.redSub(y);if(b.cmpn(0)===0)return _.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var T=b.redSqr(),I=T.redMul(b),N=g.redMul(T),F=_.redSqr().redIAdd(I).redISub(N).redISub(N),P=_.redMul(N.redISub(F)).redISub(v.redMul(I)),D=this.z.redMul(d.z).redMul(b);return this.curve.jpoint(F,P,D)},h.prototype.mixedAdd=function(d){if(this.isInfinity())return d.toJ();if(d.isInfinity())return this;var A=this.z.redSqr(),p=this.x,g=d.x.redMul(A),m=this.y,v=d.y.redMul(A).redMul(this.z),y=p.redSub(g),b=m.redSub(v);if(y.cmpn(0)===0)return b.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var _=y.redSqr(),T=_.redMul(y),I=p.redMul(_),N=b.redSqr().redIAdd(T).redISub(I).redISub(I),F=b.redMul(I.redISub(N)).redISub(m.redMul(T)),P=this.z.redMul(y);return this.curve.jpoint(N,F,P)},h.prototype.dblp=function(d){if(d===0)return this;if(this.isInfinity())return this;if(!d)return this.dbl();var A;if(this.curve.zeroA||this.curve.threeA){var p=this;for(A=0;A<d;A++)p=p.dbl();return p}var g=this.curve.a,m=this.curve.tinv,v=this.x,y=this.y,b=this.z,_=b.redSqr().redSqr(),T=y.redAdd(y);for(A=0;A<d;A++){var I=v.redSqr(),N=T.redSqr(),F=N.redSqr(),P=I.redAdd(I).redIAdd(I).redIAdd(g.redMul(_)),D=v.redMul(N),R=P.redSqr().redISub(D.redAdd(D)),E=D.redISub(R),L=P.redMul(E);L=L.redIAdd(L).redISub(F);var k=T.redMul(b);A+1<d&&(_=_.redMul(F)),v=R,b=k,T=L}return this.curve.jpoint(v,T.redMul(m),b)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var d,A,p;if(this.zOne){var g=this.x.redSqr(),m=this.y.redSqr(),v=m.redSqr(),y=this.x.redAdd(m).redSqr().redISub(g).redISub(v);y=y.redIAdd(y);var b=g.redAdd(g).redIAdd(g),_=b.redSqr().redISub(y).redISub(y),T=v.redIAdd(v);T=(T=T.redIAdd(T)).redIAdd(T),d=_,A=b.redMul(y.redISub(_)).redISub(T),p=this.y.redAdd(this.y)}else{var I=this.x.redSqr(),N=this.y.redSqr(),F=N.redSqr(),P=this.x.redAdd(N).redSqr().redISub(I).redISub(F);P=P.redIAdd(P);var D=I.redAdd(I).redIAdd(I),R=D.redSqr(),E=F.redIAdd(F);E=(E=E.redIAdd(E)).redIAdd(E),d=R.redISub(P).redISub(P),A=D.redMul(P.redISub(d)).redISub(E),p=(p=this.y.redMul(this.z)).redIAdd(p)}return this.curve.jpoint(d,A,p)},h.prototype._threeDbl=function(){var d,A,p;if(this.zOne){var g=this.x.redSqr(),m=this.y.redSqr(),v=m.redSqr(),y=this.x.redAdd(m).redSqr().redISub(g).redISub(v);y=y.redIAdd(y);var b=g.redAdd(g).redIAdd(g).redIAdd(this.curve.a),_=b.redSqr().redISub(y).redISub(y);d=_;var T=v.redIAdd(v);T=(T=T.redIAdd(T)).redIAdd(T),A=b.redMul(y.redISub(_)).redISub(T),p=this.y.redAdd(this.y)}else{var I=this.z.redSqr(),N=this.y.redSqr(),F=this.x.redMul(N),P=this.x.redSub(I).redMul(this.x.redAdd(I));P=P.redAdd(P).redIAdd(P);var D=F.redIAdd(F),R=(D=D.redIAdd(D)).redAdd(D);d=P.redSqr().redISub(R),p=this.y.redAdd(this.z).redSqr().redISub(N).redISub(I);var E=N.redSqr();E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E),A=P.redMul(D.redISub(d)).redISub(E)}return this.curve.jpoint(d,A,p)},h.prototype._dbl=function(){var d=this.curve.a,A=this.x,p=this.y,g=this.z,m=g.redSqr().redSqr(),v=A.redSqr(),y=p.redSqr(),b=v.redAdd(v).redIAdd(v).redIAdd(d.redMul(m)),_=A.redAdd(A),T=(_=_.redIAdd(_)).redMul(y),I=b.redSqr().redISub(T.redAdd(T)),N=T.redISub(I),F=y.redSqr();F=(F=(F=F.redIAdd(F)).redIAdd(F)).redIAdd(F);var P=b.redMul(N).redISub(F),D=p.redAdd(p).redMul(g);return this.curve.jpoint(I,P,D)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var d=this.x.redSqr(),A=this.y.redSqr(),p=this.z.redSqr(),g=A.redSqr(),m=d.redAdd(d).redIAdd(d),v=m.redSqr(),y=this.x.redAdd(A).redSqr().redISub(d).redISub(g),b=(y=(y=(y=y.redIAdd(y)).redAdd(y).redIAdd(y)).redISub(v)).redSqr(),_=g.redIAdd(g);_=(_=(_=_.redIAdd(_)).redIAdd(_)).redIAdd(_);var T=m.redIAdd(y).redSqr().redISub(v).redISub(b).redISub(_),I=A.redMul(T);I=(I=I.redIAdd(I)).redIAdd(I);var N=this.x.redMul(b).redISub(I);N=(N=N.redIAdd(N)).redIAdd(N);var F=this.y.redMul(T.redMul(_.redISub(T)).redISub(y.redMul(b)));F=(F=(F=F.redIAdd(F)).redIAdd(F)).redIAdd(F);var P=this.z.redAdd(y).redSqr().redISub(p).redISub(b);return this.curve.jpoint(N,F,P)},h.prototype.mul=function(d,A){return d=new s(d,A),this.curve._wnafMul(this,d)},h.prototype.eq=function(d){if(d.type==="affine")return this.eq(d.toJ());if(this===d)return!0;var A=this.z.redSqr(),p=d.z.redSqr();if(this.x.redMul(p).redISub(d.x.redMul(A)).cmpn(0)!==0)return!1;var g=A.redMul(this.z),m=p.redMul(d.z);return this.y.redMul(m).redISub(d.y.redMul(g)).cmpn(0)===0},h.prototype.eqXToP=function(d){var A=this.z.redSqr(),p=d.toRed(this.curve.red).redMul(A);if(this.x.cmp(p)===0)return!0;for(var g=d.clone(),m=this.curve.redN.redMul(A);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(p.redIAdd(m),this.x.cmp(p)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,n,i){var a,s=i,o=e("hash.js"),l=e("./curve"),u=e("./utils").assert;function c(h){h.type==="short"?this.curve=new l.short(h):h.type==="edwards"?this.curve=new l.edwards(h):this.curve=new l.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,u(this.g.validate(),"Invalid curve"),u(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function f(h,d){Object.defineProperty(s,h,{configurable:!0,enumerable:!0,get:function(){var A=new c(d);return Object.defineProperty(s,h,{configurable:!0,enumerable:!0,value:A}),A}})}s.PresetCurve=c,f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{a=e("./precomputed/secp256k1")}catch{a=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,n,i){var a=e("bn.js"),s=e("hmac-drbg"),o=e("../utils"),l=e("../curves"),u=e("brorand"),c=o.assert,f=e("./key"),h=e("./signature");function d(A){if(!(this instanceof d))return new d(A);typeof A=="string"&&(c(Object.prototype.hasOwnProperty.call(l,A),"Unknown curve "+A),A=l[A]),A instanceof l.PresetCurve&&(A={curve:A}),this.curve=A.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=A.curve.g,this.g.precompute(A.curve.n.bitLength()+1),this.hash=A.hash||A.curve.hash}n.exports=d,d.prototype.keyPair=function(A){return new f(this,A)},d.prototype.keyFromPrivate=function(A,p){return f.fromPrivate(this,A,p)},d.prototype.keyFromPublic=function(A,p){return f.fromPublic(this,A,p)},d.prototype.genKeyPair=function(A){A||(A={});for(var p=new s({hash:this.hash,pers:A.pers,persEnc:A.persEnc||"utf8",entropy:A.entropy||u(this.hash.hmacStrength),entropyEnc:A.entropy&&A.entropyEnc||"utf8",nonce:this.n.toArray()}),g=this.n.byteLength(),m=this.n.sub(new a(2));;){var v=new a(p.generate(g));if(!(v.cmp(m)>0))return v.iaddn(1),this.keyFromPrivate(v)}},d.prototype._truncateToN=function(A,p){var g=8*A.byteLength()-this.n.bitLength();return g>0&&(A=A.ushrn(g)),!p&&A.cmp(this.n)>=0?A.sub(this.n):A},d.prototype.sign=function(A,p,g,m){typeof g=="object"&&(m=g,g=null),m||(m={}),p=this.keyFromPrivate(p,g),A=this._truncateToN(new a(A,16));for(var v=this.n.byteLength(),y=p.getPrivate().toArray("be",v),b=A.toArray("be",v),_=new s({hash:this.hash,entropy:y,nonce:b,pers:m.pers,persEnc:m.persEnc||"utf8"}),T=this.n.sub(new a(1)),I=0;;I++){var N=m.k?m.k(I):new a(_.generate(this.n.byteLength()));if(!((N=this._truncateToN(N,!0)).cmpn(1)<=0||N.cmp(T)>=0)){var F=this.g.mul(N);if(!F.isInfinity()){var P=F.getX(),D=P.umod(this.n);if(D.cmpn(0)!==0){var R=N.invm(this.n).mul(D.mul(p.getPrivate()).iadd(A));if((R=R.umod(this.n)).cmpn(0)!==0){var E=(F.getY().isOdd()?1:0)|(P.cmp(D)!==0?2:0);return m.canonical&&R.cmp(this.nh)>0&&(R=this.n.sub(R),E^=1),new h({r:D,s:R,recoveryParam:E})}}}}}},d.prototype.verify=function(A,p,g,m){A=this._truncateToN(new a(A,16)),g=this.keyFromPublic(g,m);var v=(p=new h(p,"hex")).r,y=p.s;if(v.cmpn(1)<0||v.cmp(this.n)>=0||y.cmpn(1)<0||y.cmp(this.n)>=0)return!1;var b,_=y.invm(this.n),T=_.mul(A).umod(this.n),I=_.mul(v).umod(this.n);return this.curve._maxwellTrick?!(b=this.g.jmulAdd(T,g.getPublic(),I)).isInfinity()&&b.eqXToP(v):!(b=this.g.mulAdd(T,g.getPublic(),I)).isInfinity()&&b.getX().umod(this.n).cmp(v)===0},d.prototype.recoverPubKey=function(A,p,g,m){c((3&g)===g,"The recovery param is more than two bits"),p=new h(p,m);var v=this.n,y=new a(A),b=p.r,_=p.s,T=1&g,I=g>>1;if(b.cmp(this.curve.p.umod(this.curve.n))>=0&&I)throw new Error("Unable to find sencond key candinate");b=I?this.curve.pointFromX(b.add(this.curve.n),T):this.curve.pointFromX(b,T);var N=p.r.invm(v),F=v.sub(y).mul(N).umod(v),P=_.mul(N).umod(v);return this.g.mulAdd(F,b,P)},d.prototype.getKeyRecoveryParam=function(A,p,g,m){if((p=new h(p,m)).recoveryParam!==null)return p.recoveryParam;for(var v=0;v<4;v++){var y;try{y=this.recoverPubKey(A,p,v)}catch{continue}if(y.eq(g))return v}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,n,i){var a=e("bn.js"),s=e("../utils").assert;function o(l,u){this.ec=l,this.priv=null,this.pub=null,u.priv&&this._importPrivate(u.priv,u.privEnc),u.pub&&this._importPublic(u.pub,u.pubEnc)}n.exports=o,o.fromPublic=function(l,u,c){return u instanceof o?u:new o(l,{pub:u,pubEnc:c})},o.fromPrivate=function(l,u,c){return u instanceof o?u:new o(l,{priv:u,privEnc:c})},o.prototype.validate=function(){var l=this.getPublic();return l.isInfinity()?{result:!1,reason:"Invalid public key"}:l.validate()?l.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(l,u){return typeof l=="string"&&(u=l,l=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),u?this.pub.encode(u,l):this.pub},o.prototype.getPrivate=function(l){return l==="hex"?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(l,u){this.priv=new a(l,u||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(l,u){if(l.x||l.y)return this.ec.curve.type==="mont"?s(l.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||s(l.x&&l.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(l.x,l.y));this.pub=this.ec.curve.decodePoint(l,u)},o.prototype.derive=function(l){return l.validate()||s(l.validate(),"public point not validated"),l.mul(this.priv).getX()},o.prototype.sign=function(l,u,c){return this.ec.sign(l,this,u,c)},o.prototype.verify=function(l,u){return this.ec.verify(l,u,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,n,i){var a=e("bn.js"),s=e("../utils"),o=s.assert;function l(d,A){if(d instanceof l)return d;this._importDER(d,A)||(o(d.r&&d.s,"Signature without r or s"),this.r=new a(d.r,16),this.s=new a(d.s,16),d.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=d.recoveryParam)}function u(){this.place=0}function c(d,A){var p=d[A.place++];if(!(128&p))return p;var g=15&p;if(g===0||g>4)return!1;for(var m=0,v=0,y=A.place;v<g;v++,y++)m<<=8,m|=d[y],m>>>=0;return!(m<=127)&&(A.place=y,m)}function f(d){for(var A=0,p=d.length-1;!d[A]&&!(128&d[A+1])&&A<p;)A++;return A===0?d:d.slice(A)}function h(d,A){if(A<128)d.push(A);else{var p=1+(Math.log(A)/Math.LN2>>>3);for(d.push(128|p);--p;)d.push(A>>>(p<<3)&255);d.push(A)}}n.exports=l,l.prototype._importDER=function(d,A){d=s.toArray(d,A);var p=new u;if(d[p.place++]!==48)return!1;var g=c(d,p);if(g===!1||g+p.place!==d.length||d[p.place++]!==2)return!1;var m=c(d,p);if(m===!1)return!1;var v=d.slice(p.place,m+p.place);if(p.place+=m,d[p.place++]!==2)return!1;var y=c(d,p);if(y===!1||d.length!==y+p.place)return!1;var b=d.slice(p.place,y+p.place);if(v[0]===0){if(!(128&v[1]))return!1;v=v.slice(1)}if(b[0]===0){if(!(128&b[1]))return!1;b=b.slice(1)}return this.r=new a(v),this.s=new a(b),this.recoveryParam=null,!0},l.prototype.toDER=function(d){var A=this.r.toArray(),p=this.s.toArray();for(128&A[0]&&(A=[0].concat(A)),128&p[0]&&(p=[0].concat(p)),A=f(A),p=f(p);!(p[0]||128&p[1]);)p=p.slice(1);var g=[2];h(g,A.length),(g=g.concat(A)).push(2),h(g,p.length);var m=g.concat(p),v=[48];return h(v,m.length),v=v.concat(m),s.encode(v,d)}},{"../utils":419,"bn.js":420}],415:[function(e,n,i){var a=e("hash.js"),s=e("../curves"),o=e("../utils"),l=o.assert,u=o.parseBytes,c=e("./key"),f=e("./signature");function h(d){if(l(d==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(d);d=s[d].curve,this.curve=d,this.g=d.g,this.g.precompute(d.n.bitLength()+1),this.pointClass=d.point().constructor,this.encodingLength=Math.ceil(d.n.bitLength()/8),this.hash=a.sha512}n.exports=h,h.prototype.sign=function(d,A){d=u(d);var p=this.keyFromSecret(A),g=this.hashInt(p.messagePrefix(),d),m=this.g.mul(g),v=this.encodePoint(m),y=this.hashInt(v,p.pubBytes(),d).mul(p.priv()),b=g.add(y).umod(this.curve.n);return this.makeSignature({R:m,S:b,Rencoded:v})},h.prototype.verify=function(d,A,p){d=u(d),A=this.makeSignature(A);var g=this.keyFromPublic(p),m=this.hashInt(A.Rencoded(),g.pubBytes(),d),v=this.g.mul(A.S());return A.R().add(g.pub().mul(m)).eq(v)},h.prototype.hashInt=function(){for(var d=this.hash(),A=0;A<arguments.length;A++)d.update(arguments[A]);return o.intFromLE(d.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(d){return c.fromPublic(this,d)},h.prototype.keyFromSecret=function(d){return c.fromSecret(this,d)},h.prototype.makeSignature=function(d){return d instanceof f?d:new f(this,d)},h.prototype.encodePoint=function(d){var A=d.getY().toArray("le",this.encodingLength);return A[this.encodingLength-1]|=d.getX().isOdd()?128:0,A},h.prototype.decodePoint=function(d){var A=(d=o.parseBytes(d)).length-1,p=d.slice(0,A).concat(-129&d[A]),g=(128&d[A])!=0,m=o.intFromLE(p);return this.curve.pointFromY(m,g)},h.prototype.encodeInt=function(d){return d.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(d){return o.intFromLE(d)},h.prototype.isPoint=function(d){return d instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,n,i){var a=e("../utils"),s=a.assert,o=a.parseBytes,l=a.cachedProperty;function u(c,f){this.eddsa=c,this._secret=o(f.secret),c.isPoint(f.pub)?this._pub=f.pub:this._pubBytes=o(f.pub)}u.fromPublic=function(c,f){return f instanceof u?f:new u(c,{pub:f})},u.fromSecret=function(c,f){return f instanceof u?f:new u(c,{secret:f})},u.prototype.secret=function(){return this._secret},l(u,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),l(u,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),l(u,"privBytes",function(){var c=this.eddsa,f=this.hash(),h=c.encodingLength-1,d=f.slice(0,c.encodingLength);return d[0]&=248,d[h]&=127,d[h]|=64,d}),l(u,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),l(u,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),l(u,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),u.prototype.sign=function(c){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(c,this)},u.prototype.verify=function(c,f){return this.eddsa.verify(c,f,this)},u.prototype.getSecret=function(c){return s(this._secret,"KeyPair is public only"),a.encode(this.secret(),c)},u.prototype.getPublic=function(c){return a.encode(this.pubBytes(),c)},n.exports=u},{"../utils":419}],417:[function(e,n,i){var a=e("bn.js"),s=e("../utils"),o=s.assert,l=s.cachedProperty,u=s.parseBytes;function c(f,h){this.eddsa=f,typeof h!="object"&&(h=u(h)),Array.isArray(h)&&(h={R:h.slice(0,f.encodingLength),S:h.slice(f.encodingLength)}),o(h.R&&h.S,"Signature without R or S"),f.isPoint(h.R)&&(this._R=h.R),h.S instanceof a&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}l(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),l(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),l(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),l(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},n.exports=c},{"../utils":419,"bn.js":420}],418:[function(e,n,i){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,n,i){var a=i,s=e("bn.js"),o=e("minimalistic-assert"),l=e("minimalistic-crypto-utils");a.assert=o,a.toArray=l.toArray,a.zero2=l.zero2,a.toHex=l.toHex,a.encode=l.encode,a.getNAF=function(u,c,f){var h=new Array(Math.max(u.bitLength(),f)+1);h.fill(0);for(var d=1<<c+1,A=u.clone(),p=0;p<h.length;p++){var g,m=A.andln(d-1);A.isOdd()?(g=m>(d>>1)-1?(d>>1)-m:m,A.isubn(g)):g=0,h[p]=g,A.iushrn(1)}return h},a.getJSF=function(u,c){var f=[[],[]];u=u.clone(),c=c.clone();for(var h,d=0,A=0;u.cmpn(-d)>0||c.cmpn(-A)>0;){var p,g,m=u.andln(3)+d&3,v=c.andln(3)+A&3;m===3&&(m=-1),v===3&&(v=-1),p=1&m?(h=u.andln(7)+d&7)!==3&&h!==5||v!==2?m:-m:0,f[0].push(p),g=1&v?(h=c.andln(7)+A&7)!==3&&h!==5||m!==2?v:-v:0,f[1].push(g),2*d===p+1&&(d=1-d),2*A===g+1&&(A=1-A),u.iushrn(1),c.iushrn(1)}return f},a.cachedProperty=function(u,c,f){var h="_"+c;u.prototype[c]=function(){return this[h]!==void 0?this[h]:this[h]=f.call(this)}},a.parseBytes=function(u){return typeof u=="string"?a.toArray(u,"hex"):u},a.intFromLE=function(u){return new s(u,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],421:[function(e,n,i){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,n,i){var a=Object.create||function(N){var F=function(){};return F.prototype=N,new F},s=Object.keys||function(N){var F=[];for(var P in N)Object.prototype.hasOwnProperty.call(N,P)&&F.push(P);return P},o=Function.prototype.bind||function(N){var F=this;return function(){return F.apply(N,arguments)}};function l(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=a(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0;var u,c=10;try{var f={};Object.defineProperty&&Object.defineProperty(f,"x",{value:0}),u=f.x===0}catch{u=!1}function h(N){return N._maxListeners===void 0?l.defaultMaxListeners:N._maxListeners}function d(N,F,P){if(F)N.call(P);else for(var D=N.length,R=I(N,D),E=0;E<D;++E)R[E].call(P)}function A(N,F,P,D){if(F)N.call(P,D);else for(var R=N.length,E=I(N,R),L=0;L<R;++L)E[L].call(P,D)}function p(N,F,P,D,R){if(F)N.call(P,D,R);else for(var E=N.length,L=I(N,E),k=0;k<E;++k)L[k].call(P,D,R)}function g(N,F,P,D,R,E){if(F)N.call(P,D,R,E);else for(var L=N.length,k=I(N,L),w=0;w<L;++w)k[w].call(P,D,R,E)}function m(N,F,P,D){if(F)N.apply(P,D);else for(var R=N.length,E=I(N,R),L=0;L<R;++L)E[L].apply(P,D)}function v(N,F,P,D){var R,E,L;if(typeof P!="function")throw new TypeError('"listener" argument must be a function');if((E=N._events)?(E.newListener&&(N.emit("newListener",F,P.listener?P.listener:P),E=N._events),L=E[F]):(E=N._events=a(null),N._eventsCount=0),L){if(typeof L=="function"?L=E[F]=D?[P,L]:[L,P]:D?L.unshift(P):L.push(P),!L.warned&&(R=h(N))&&R>0&&L.length>R){L.warned=!0;var k=new Error("Possible EventEmitter memory leak detected. "+L.length+' "'+String(F)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');k.name="MaxListenersExceededWarning",k.emitter=N,k.type=F,k.count=L.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",k.name,k.message)}}else L=E[F]=P,++N._eventsCount;return N}function y(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var N=new Array(arguments.length),F=0;F<N.length;++F)N[F]=arguments[F];this.listener.apply(this.target,N)}}function b(N,F,P){var D={fired:!1,wrapFn:void 0,target:N,type:F,listener:P},R=o.call(y,D);return R.listener=P,D.wrapFn=R,R}function _(N,F,P){var D=N._events;if(!D)return[];var R=D[F];return R?typeof R=="function"?P?[R.listener||R]:[R]:P?function(E){for(var L=new Array(E.length),k=0;k<L.length;++k)L[k]=E[k].listener||E[k];return L}(R):I(R,R.length):[]}function T(N){var F=this._events;if(F){var P=F[N];if(typeof P=="function")return 1;if(P)return P.length}return 0}function I(N,F){for(var P=new Array(F),D=0;D<F;++D)P[D]=N[D];return P}u?Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(N){if(typeof N!="number"||N<0||N!=N)throw new TypeError('"defaultMaxListeners" must be a positive number');c=N}}):l.defaultMaxListeners=c,l.prototype.setMaxListeners=function(N){if(typeof N!="number"||N<0||isNaN(N))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=N,this},l.prototype.getMaxListeners=function(){return h(this)},l.prototype.emit=function(N){var F,P,D,R,E,L,k=N==="error";if(L=this._events)k=k&&L.error==null;else if(!k)return!1;if(k){if(arguments.length>1&&(F=arguments[1]),F instanceof Error)throw F;var w=new Error('Unhandled "error" event. ('+F+")");throw w.context=F,w}if(!(P=L[N]))return!1;var C=typeof P=="function";switch(D=arguments.length){case 1:d(P,C,this);break;case 2:A(P,C,this,arguments[1]);break;case 3:p(P,C,this,arguments[1],arguments[2]);break;case 4:g(P,C,this,arguments[1],arguments[2],arguments[3]);break;default:for(R=new Array(D-1),E=1;E<D;E++)R[E-1]=arguments[E];m(P,C,this,R)}return!0},l.prototype.addListener=function(N,F){return v(this,N,F,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(N,F){return v(this,N,F,!0)},l.prototype.once=function(N,F){if(typeof F!="function")throw new TypeError('"listener" argument must be a function');return this.on(N,b(this,N,F)),this},l.prototype.prependOnceListener=function(N,F){if(typeof F!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(N,b(this,N,F)),this},l.prototype.removeListener=function(N,F){var P,D,R,E,L;if(typeof F!="function")throw new TypeError('"listener" argument must be a function');if(!(D=this._events))return this;if(!(P=D[N]))return this;if(P===F||P.listener===F)--this._eventsCount==0?this._events=a(null):(delete D[N],D.removeListener&&this.emit("removeListener",N,P.listener||F));else if(typeof P!="function"){for(R=-1,E=P.length-1;E>=0;E--)if(P[E]===F||P[E].listener===F){L=P[E].listener,R=E;break}if(R<0)return this;R===0?P.shift():function(k,w){for(var C=w,S=C+1,B=k.length;S<B;C+=1,S+=1)k[C]=k[S];k.pop()}(P,R),P.length===1&&(D[N]=P[0]),D.removeListener&&this.emit("removeListener",N,L||F)}return this},l.prototype.removeAllListeners=function(N){var F,P,D;if(!(P=this._events))return this;if(!P.removeListener)return arguments.length===0?(this._events=a(null),this._eventsCount=0):P[N]&&(--this._eventsCount==0?this._events=a(null):delete P[N]),this;if(arguments.length===0){var R,E=s(P);for(D=0;D<E.length;++D)(R=E[D])!=="removeListener"&&this.removeAllListeners(R);return this.removeAllListeners("removeListener"),this._events=a(null),this._eventsCount=0,this}if(typeof(F=P[N])=="function")this.removeListener(N,F);else if(F)for(D=F.length-1;D>=0;D--)this.removeListener(N,F[D]);return this},l.prototype.listeners=function(N){return _(this,N,!0)},l.prototype.rawListeners=function(N){return _(this,N,!1)},l.listenerCount=function(N,F){return typeof N.listenerCount=="function"?N.listenerCount(F):T.call(N,F)},l.prototype.listenerCount=T,l.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,n,i){var a=e("safe-buffer").Buffer,s=e("md5.js");n.exports=function(o,l,u,c){if(a.isBuffer(o)||(o=a.from(o,"binary")),l&&(a.isBuffer(l)||(l=a.from(l,"binary")),l.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var f=u/8,h=a.alloc(f),d=a.alloc(c||0),A=a.alloc(0);f>0||c>0;){var p=new s;p.update(A),p.update(o),l&&p.update(l),A=p.digest();var g=0;if(f>0){var m=h.length-f;g=Math.min(f,A.length),A.copy(h,m,0,g),f-=g}if(g<A.length&&c>0){var v=d.length-c,y=Math.min(c,A.length-g);A.copy(d,v,g,g+y),c-=y}}return A.fill(0),{key:h,iv:d}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=i.ParserOptions=i.parseFile=i.parseStream=i.parseString=i.parse=i.FormatterOptions=i.CsvFormatterStream=i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=void 0;var a=e("@fast-csv/format");Object.defineProperty(i,"format",{enumerable:!0,get:function(){return a.format}}),Object.defineProperty(i,"write",{enumerable:!0,get:function(){return a.write}}),Object.defineProperty(i,"writeToStream",{enumerable:!0,get:function(){return a.writeToStream}}),Object.defineProperty(i,"writeToBuffer",{enumerable:!0,get:function(){return a.writeToBuffer}}),Object.defineProperty(i,"writeToString",{enumerable:!0,get:function(){return a.writeToString}}),Object.defineProperty(i,"writeToPath",{enumerable:!0,get:function(){return a.writeToPath}}),Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return a.CsvFormatterStream}}),Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return a.FormatterOptions}});var s=e("@fast-csv/parse");Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return s.parse}}),Object.defineProperty(i,"parseString",{enumerable:!0,get:function(){return s.parseString}}),Object.defineProperty(i,"parseStream",{enumerable:!0,get:function(){return s.parseStream}}),Object.defineProperty(i,"parseFile",{enumerable:!0,get:function(){return s.parseFile}}),Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return s.ParserOptions}}),Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return s.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,n,i){var a=e("safe-buffer").Buffer,s=e("readable-stream").Transform;function o(l){s.call(this),this._block=a.allocUnsafe(l),this._blockSize=l,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(o,s),o.prototype._transform=function(l,u,c){var f=null;try{this.update(l,u)}catch(h){f=h}c(f)},o.prototype._flush=function(l){var u=null;try{this.push(this.digest())}catch(c){u=c}l(u)},o.prototype.update=function(l,u){if(function(p,g){if(!a.isBuffer(p)&&typeof p!="string")throw new TypeError(g+" must be a string or a buffer")}(l,"Data"),this._finalized)throw new Error("Digest already called");a.isBuffer(l)||(l=a.from(l,u));for(var c=this._block,f=0;this._blockOffset+l.length-f>=this._blockSize;){for(var h=this._blockOffset;h<this._blockSize;)c[h++]=l[f++];this._update(),this._blockOffset=0}for(;f<l.length;)c[this._blockOffset++]=l[f++];for(var d=0,A=8*l.length;A>0;++d)this._length[d]+=A,(A=this._length[d]/4294967296|0)>0&&(this._length[d]-=4294967296*A);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var u=this._digest();l!==void 0&&(u=u.toString(l)),this._block.fill(0),this._blockOffset=0;for(var c=0;c<4;++c)this._length[c]=0;return u},o.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=o},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,n,i){var a=i;a.utils=e("./hash/utils"),a.common=e("./hash/common"),a.sha=e("./hash/sha"),a.ripemd=e("./hash/ripemd"),a.hmac=e("./hash/hmac"),a.sha1=a.sha.sha1,a.sha256=a.sha.sha256,a.sha224=a.sha.sha224,a.sha384=a.sha.sha384,a.sha512=a.sha.sha512,a.ripemd160=a.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,n,i){var a=e("./utils"),s=e("minimalistic-assert");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i.BlockHash=o,o.prototype.update=function(l,u){if(l=a.toArray(l,u),this.pending?this.pending=this.pending.concat(l):this.pending=l,this.pendingTotal+=l.length,this.pending.length>=this._delta8){var c=(l=this.pending).length%this._delta8;this.pending=l.slice(l.length-c,l.length),this.pending.length===0&&(this.pending=null),l=a.join32(l,0,l.length-c,this.endian);for(var f=0;f<l.length;f+=this._delta32)this._update(l,f,f+this._delta32)}return this},o.prototype.digest=function(l){return this.update(this._pad()),s(this.pending===null),this._digest(l)},o.prototype._pad=function(){var l=this.pendingTotal,u=this._delta8,c=u-(l+this.padLength)%u,f=new Array(c+this.padLength);f[0]=128;for(var h=1;h<c;h++)f[h]=0;if(l<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)f[h++]=0;f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=l>>>24&255,f[h++]=l>>>16&255,f[h++]=l>>>8&255,f[h++]=255&l}else for(f[h++]=255&l,f[h++]=l>>>8&255,f[h++]=l>>>16&255,f[h++]=l>>>24&255,f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=0,d=8;d<this.padLength;d++)f[h++]=0;return f}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,n,i){var a=e("./utils"),s=e("minimalistic-assert");function o(l,u,c){if(!(this instanceof o))return new o(l,u,c);this.Hash=l,this.blockSize=l.blockSize/8,this.outSize=l.outSize/8,this.inner=null,this.outer=null,this._init(a.toArray(u,c))}n.exports=o,o.prototype._init=function(l){l.length>this.blockSize&&(l=new this.Hash().update(l).digest()),s(l.length<=this.blockSize);for(var u=l.length;u<this.blockSize;u++)l.push(0);for(u=0;u<l.length;u++)l[u]^=54;for(this.inner=new this.Hash().update(l),u=0;u<l.length;u++)l[u]^=106;this.outer=new this.Hash().update(l)},o.prototype.update=function(l,u){return this.inner.update(l,u),this},o.prototype.digest=function(l){return this.outer.update(this.inner.digest()),this.outer.digest(l)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,n,i){var a=e("./utils"),s=e("./common"),o=a.rotl32,l=a.sum32,u=a.sum32_3,c=a.sum32_4,f=s.BlockHash;function h(){if(!(this instanceof h))return new h;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(b,_,T,I){return b<=15?_^T^I:b<=31?_&T|~_&I:b<=47?(_|~T)^I:b<=63?_&I|T&~I:_^(T|~I)}function A(b){return b<=15?0:b<=31?1518500249:b<=47?1859775393:b<=63?2400959708:2840853838}function p(b){return b<=15?1352829926:b<=31?1548603684:b<=47?1836072691:b<=63?2053994217:0}a.inherits(h,f),i.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(b,_){for(var T=this.h[0],I=this.h[1],N=this.h[2],F=this.h[3],P=this.h[4],D=T,R=I,E=N,L=F,k=P,w=0;w<80;w++){var C=l(o(c(T,d(w,I,N,F),b[g[w]+_],A(w)),v[w]),P);T=P,P=F,F=o(N,10),N=I,I=C,C=l(o(c(D,d(79-w,R,E,L),b[m[w]+_],p(w)),y[w]),k),D=k,k=L,L=o(E,10),E=R,R=C}C=u(this.h[1],N,L),this.h[1]=u(this.h[2],F,k),this.h[2]=u(this.h[3],P,D),this.h[3]=u(this.h[4],T,R),this.h[4]=u(this.h[0],I,E),this.h[0]=C},h.prototype._digest=function(b){return b==="hex"?a.toHex32(this.h,"little"):a.split32(this.h,"little")};var g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,n,i){i.sha1=e("./sha/1"),i.sha224=e("./sha/224"),i.sha256=e("./sha/256"),i.sha384=e("./sha/384"),i.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,n,i){var a=e("../utils"),s=e("../common"),o=e("./common"),l=a.rotl32,u=a.sum32,c=a.sum32_5,f=o.ft_1,h=s.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function A(){if(!(this instanceof A))return new A;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}a.inherits(A,h),n.exports=A,A.blockSize=512,A.outSize=160,A.hmacStrength=80,A.padLength=64,A.prototype._update=function(p,g){for(var m=this.W,v=0;v<16;v++)m[v]=p[g+v];for(;v<m.length;v++)m[v]=l(m[v-3]^m[v-8]^m[v-14]^m[v-16],1);var y=this.h[0],b=this.h[1],_=this.h[2],T=this.h[3],I=this.h[4];for(v=0;v<m.length;v++){var N=~~(v/20),F=c(l(y,5),f(N,b,_,T),I,m[v],d[N]);I=T,T=_,_=l(b,30),b=y,y=F}this.h[0]=u(this.h[0],y),this.h[1]=u(this.h[1],b),this.h[2]=u(this.h[2],_),this.h[3]=u(this.h[3],T),this.h[4]=u(this.h[4],I)},A.prototype._digest=function(p){return p==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,n,i){var a=e("../utils"),s=e("./256");function o(){if(!(this instanceof o))return new o;s.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}a.inherits(o,s),n.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(l){return l==="hex"?a.toHex32(this.h.slice(0,7),"big"):a.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,n,i){var a=e("../utils"),s=e("../common"),o=e("./common"),l=e("minimalistic-assert"),u=a.sum32,c=a.sum32_4,f=a.sum32_5,h=o.ch32,d=o.maj32,A=o.s0_256,p=o.s1_256,g=o.g0_256,m=o.g1_256,v=s.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}a.inherits(b,v),n.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(_,T){for(var I=this.W,N=0;N<16;N++)I[N]=_[T+N];for(;N<I.length;N++)I[N]=c(m(I[N-2]),I[N-7],g(I[N-15]),I[N-16]);var F=this.h[0],P=this.h[1],D=this.h[2],R=this.h[3],E=this.h[4],L=this.h[5],k=this.h[6],w=this.h[7];for(l(this.k.length===I.length),N=0;N<I.length;N++){var C=f(w,p(E),h(E,L,k),this.k[N],I[N]),S=u(A(F),d(F,P,D));w=k,k=L,L=E,E=u(R,C),R=D,D=P,P=F,F=u(C,S)}this.h[0]=u(this.h[0],F),this.h[1]=u(this.h[1],P),this.h[2]=u(this.h[2],D),this.h[3]=u(this.h[3],R),this.h[4]=u(this.h[4],E),this.h[5]=u(this.h[5],L),this.h[6]=u(this.h[6],k),this.h[7]=u(this.h[7],w)},b.prototype._digest=function(_){return _==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,n,i){var a=e("../utils"),s=e("./512");function o(){if(!(this instanceof o))return new o;s.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}a.inherits(o,s),n.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(l){return l==="hex"?a.toHex32(this.h.slice(0,12),"big"):a.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,n,i){var a=e("../utils"),s=e("../common"),o=e("minimalistic-assert"),l=a.rotr64_hi,u=a.rotr64_lo,c=a.shr64_hi,f=a.shr64_lo,h=a.sum64,d=a.sum64_hi,A=a.sum64_lo,p=a.sum64_4_hi,g=a.sum64_4_lo,m=a.sum64_5_hi,v=a.sum64_5_lo,y=s.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function _(){if(!(this instanceof _))return new _;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function T(S,B,O,V,M){var U=S&O^~S&M;return U<0&&(U+=4294967296),U}function I(S,B,O,V,M,U){var Q=B&V^~B&U;return Q<0&&(Q+=4294967296),Q}function N(S,B,O,V,M){var U=S&O^S&M^O&M;return U<0&&(U+=4294967296),U}function F(S,B,O,V,M,U){var Q=B&V^B&U^V&U;return Q<0&&(Q+=4294967296),Q}function P(S,B){var O=l(S,B,28)^l(B,S,2)^l(B,S,7);return O<0&&(O+=4294967296),O}function D(S,B){var O=u(S,B,28)^u(B,S,2)^u(B,S,7);return O<0&&(O+=4294967296),O}function R(S,B){var O=l(S,B,14)^l(S,B,18)^l(B,S,9);return O<0&&(O+=4294967296),O}function E(S,B){var O=u(S,B,14)^u(S,B,18)^u(B,S,9);return O<0&&(O+=4294967296),O}function L(S,B){var O=l(S,B,1)^l(S,B,8)^c(S,B,7);return O<0&&(O+=4294967296),O}function k(S,B){var O=u(S,B,1)^u(S,B,8)^f(S,B,7);return O<0&&(O+=4294967296),O}function w(S,B){var O=l(S,B,19)^l(B,S,29)^c(S,B,6);return O<0&&(O+=4294967296),O}function C(S,B){var O=u(S,B,19)^u(B,S,29)^f(S,B,6);return O<0&&(O+=4294967296),O}a.inherits(_,y),n.exports=_,_.blockSize=1024,_.outSize=512,_.hmacStrength=192,_.padLength=128,_.prototype._prepareBlock=function(S,B){for(var O=this.W,V=0;V<32;V++)O[V]=S[B+V];for(;V<O.length;V+=2){var M=w(O[V-4],O[V-3]),U=C(O[V-4],O[V-3]),Q=O[V-14],W=O[V-13],j=L(O[V-30],O[V-29]),X=k(O[V-30],O[V-29]),z=O[V-32],H=O[V-31];O[V]=p(M,U,Q,W,j,X,z,H),O[V+1]=g(M,U,Q,W,j,X,z,H)}},_.prototype._update=function(S,B){this._prepareBlock(S,B);var O=this.W,V=this.h[0],M=this.h[1],U=this.h[2],Q=this.h[3],W=this.h[4],j=this.h[5],X=this.h[6],z=this.h[7],H=this.h[8],K=this.h[9],Z=this.h[10],ie=this.h[11],ee=this.h[12],ne=this.h[13],te=this.h[14],le=this.h[15];o(this.k.length===O.length);for(var re=0;re<O.length;re+=2){var de=te,ue=le,Fe=R(H,K),Se=E(H,K),De=T(H,K,Z,ie,ee),ge=I(H,K,Z,ie,ee,ne),Be=this.k[re],Pe=this.k[re+1],st=O[re],gt=O[re+1],we=m(de,ue,Fe,Se,De,ge,Be,Pe,st,gt),Oe=v(de,ue,Fe,Se,De,ge,Be,Pe,st,gt);de=P(V,M),ue=D(V,M),Fe=N(V,M,U,Q,W),Se=F(V,M,U,Q,W,j);var at=d(de,ue,Fe,Se),Ve=A(de,ue,Fe,Se);te=ee,le=ne,ee=Z,ne=ie,Z=H,ie=K,H=d(X,z,we,Oe),K=A(z,z,we,Oe),X=W,z=j,W=U,j=Q,U=V,Q=M,V=d(we,Oe,at,Ve),M=A(we,Oe,at,Ve)}h(this.h,0,V,M),h(this.h,2,U,Q),h(this.h,4,W,j),h(this.h,6,X,z),h(this.h,8,H,K),h(this.h,10,Z,ie),h(this.h,12,ee,ne),h(this.h,14,te,le)},_.prototype._digest=function(S){return S==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,n,i){var a=e("../utils").rotr32;function s(u,c,f){return u&c^~u&f}function o(u,c,f){return u&c^u&f^c&f}function l(u,c,f){return u^c^f}i.ft_1=function(u,c,f,h){return u===0?s(c,f,h):u===1||u===3?l(c,f,h):u===2?o(c,f,h):void 0},i.ch32=s,i.maj32=o,i.p32=l,i.s0_256=function(u){return a(u,2)^a(u,13)^a(u,22)},i.s1_256=function(u){return a(u,6)^a(u,11)^a(u,25)},i.g0_256=function(u){return a(u,7)^a(u,18)^u>>>3},i.g1_256=function(u){return a(u,17)^a(u,19)^u>>>10}},{"../utils":437}],437:[function(e,n,i){var a=e("minimalistic-assert"),s=e("inherits");function o(f,h){return(64512&f.charCodeAt(h))==55296&&!(h<0||h+1>=f.length)&&(64512&f.charCodeAt(h+1))==56320}function l(f){return(f>>>24|f>>>8&65280|f<<8&16711680|(255&f)<<24)>>>0}function u(f){return f.length===1?"0"+f:f}function c(f){return f.length===7?"0"+f:f.length===6?"00"+f:f.length===5?"000"+f:f.length===4?"0000"+f:f.length===3?"00000"+f:f.length===2?"000000"+f:f.length===1?"0000000"+f:f}i.inherits=s,i.toArray=function(f,h){if(Array.isArray(f))return f.slice();if(!f)return[];var d=[];if(typeof f=="string")if(h){if(h==="hex")for((f=f.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(f="0"+f),p=0;p<f.length;p+=2)d.push(parseInt(f[p]+f[p+1],16))}else for(var A=0,p=0;p<f.length;p++){var g=f.charCodeAt(p);g<128?d[A++]=g:g<2048?(d[A++]=g>>6|192,d[A++]=63&g|128):o(f,p)?(g=65536+((1023&g)<<10)+(1023&f.charCodeAt(++p)),d[A++]=g>>18|240,d[A++]=g>>12&63|128,d[A++]=g>>6&63|128,d[A++]=63&g|128):(d[A++]=g>>12|224,d[A++]=g>>6&63|128,d[A++]=63&g|128)}else for(p=0;p<f.length;p++)d[p]=0|f[p];return d},i.toHex=function(f){for(var h="",d=0;d<f.length;d++)h+=u(f[d].toString(16));return h},i.htonl=l,i.toHex32=function(f,h){for(var d="",A=0;A<f.length;A++){var p=f[A];h==="little"&&(p=l(p)),d+=c(p.toString(16))}return d},i.zero2=u,i.zero8=c,i.join32=function(f,h,d,A){var p=d-h;a(p%4==0);for(var g=new Array(p/4),m=0,v=h;m<g.length;m++,v+=4){var y;y=A==="big"?f[v]<<24|f[v+1]<<16|f[v+2]<<8|f[v+3]:f[v+3]<<24|f[v+2]<<16|f[v+1]<<8|f[v],g[m]=y>>>0}return g},i.split32=function(f,h){for(var d=new Array(4*f.length),A=0,p=0;A<f.length;A++,p+=4){var g=f[A];h==="big"?(d[p]=g>>>24,d[p+1]=g>>>16&255,d[p+2]=g>>>8&255,d[p+3]=255&g):(d[p+3]=g>>>24,d[p+2]=g>>>16&255,d[p+1]=g>>>8&255,d[p]=255&g)}return d},i.rotr32=function(f,h){return f>>>h|f<<32-h},i.rotl32=function(f,h){return f<<h|f>>>32-h},i.sum32=function(f,h){return f+h>>>0},i.sum32_3=function(f,h,d){return f+h+d>>>0},i.sum32_4=function(f,h,d,A){return f+h+d+A>>>0},i.sum32_5=function(f,h,d,A,p){return f+h+d+A+p>>>0},i.sum64=function(f,h,d,A){var p=f[h],g=A+f[h+1]>>>0,m=(g<A?1:0)+d+p;f[h]=m>>>0,f[h+1]=g},i.sum64_hi=function(f,h,d,A){return(h+A>>>0<h?1:0)+f+d>>>0},i.sum64_lo=function(f,h,d,A){return h+A>>>0},i.sum64_4_hi=function(f,h,d,A,p,g,m,v){var y=0,b=h;return y+=(b=b+A>>>0)<h?1:0,y+=(b=b+g>>>0)<g?1:0,f+d+p+m+(y+=(b=b+v>>>0)<v?1:0)>>>0},i.sum64_4_lo=function(f,h,d,A,p,g,m,v){return h+A+g+v>>>0},i.sum64_5_hi=function(f,h,d,A,p,g,m,v,y,b){var _=0,T=h;return _+=(T=T+A>>>0)<h?1:0,_+=(T=T+g>>>0)<g?1:0,_+=(T=T+v>>>0)<v?1:0,f+d+p+m+y+(_+=(T=T+b>>>0)<b?1:0)>>>0},i.sum64_5_lo=function(f,h,d,A,p,g,m,v,y,b){return h+A+g+v+b>>>0},i.rotr64_hi=function(f,h,d){return(h<<32-d|f>>>d)>>>0},i.rotr64_lo=function(f,h,d){return(f<<32-d|h>>>d)>>>0},i.shr64_hi=function(f,h,d){return f>>>d},i.shr64_lo=function(f,h,d){return(f<<32-d|h>>>d)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,n,i){var a=e("hash.js"),s=e("minimalistic-crypto-utils"),o=e("minimalistic-assert");function l(u){if(!(this instanceof l))return new l(u);this.hash=u.hash,this.predResist=!!u.predResist,this.outLen=this.hash.outSize,this.minEntropy=u.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var c=s.toArray(u.entropy,u.entropyEnc||"hex"),f=s.toArray(u.nonce,u.nonceEnc||"hex"),h=s.toArray(u.pers,u.persEnc||"hex");o(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(c,f,h)}n.exports=l,l.prototype._init=function(u,c,f){var h=u.concat(c).concat(f);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update(h),this._reseed=1,this.reseedInterval=281474976710656},l.prototype._hmac=function(){return new a.hmac(this.hash,this.K)},l.prototype._update=function(u){var c=this._hmac().update(this.V).update([0]);u&&(c=c.update(u)),this.K=c.digest(),this.V=this._hmac().update(this.V).digest(),u&&(this.K=this._hmac().update(this.V).update([1]).update(u).digest(),this.V=this._hmac().update(this.V).digest())},l.prototype.reseed=function(u,c,f,h){typeof c!="string"&&(h=f,f=c,c=null),u=s.toArray(u,c),f=s.toArray(f,h),o(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(u.concat(f||[])),this._reseed=1},l.prototype.generate=function(u,c,f,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof c!="string"&&(h=f,f=c,c=null),f&&(f=s.toArray(f,h||"hex"),this._update(f));for(var d=[];d.length<u;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var A=d.slice(0,u);return this._update(f),this._reseed++,s.encode(A,c)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,n,i){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */i.read=function(a,s,o,l,u){var c,f,h=8*u-l-1,d=(1<<h)-1,A=d>>1,p=-7,g=o?u-1:0,m=o?-1:1,v=a[s+g];for(g+=m,c=v&(1<<-p)-1,v>>=-p,p+=h;p>0;c=256*c+a[s+g],g+=m,p-=8);for(f=c&(1<<-p)-1,c>>=-p,p+=l;p>0;f=256*f+a[s+g],g+=m,p-=8);if(c===0)c=1-A;else{if(c===d)return f?NaN:1/0*(v?-1:1);f+=Math.pow(2,l),c-=A}return(v?-1:1)*f*Math.pow(2,c-l)},i.write=function(a,s,o,l,u,c){var f,h,d,A=8*c-u-1,p=(1<<A)-1,g=p>>1,m=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=l?0:c-1,y=l?1:-1,b=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(h=isNaN(s)?1:0,f=p):(f=Math.floor(Math.log(s)/Math.LN2),s*(d=Math.pow(2,-f))<1&&(f--,d*=2),(s+=f+g>=1?m/d:m*Math.pow(2,1-g))*d>=2&&(f++,d/=2),f+g>=p?(h=0,f=p):f+g>=1?(h=(s*d-1)*Math.pow(2,u),f+=g):(h=s*Math.pow(2,g-1)*Math.pow(2,u),f=0));u>=8;a[o+v]=255&h,v+=y,h/=256,u-=8);for(f=f<<u|h,A+=u;A>0;a[o+v]=255&f,v+=y,f/=256,A-=8);a[o+v-y]|=128*b}},{}],440:[function(e,n,i){typeof Object.create=="function"?n.exports=function(a,s){s&&(a.super_=s,a.prototype=Object.create(s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(a,s){if(s){a.super_=s;var o=function(){};o.prototype=s.prototype,a.prototype=new o,a.prototype.constructor=a}}},{}],441:[function(e,n,i){(function(a,s,o,l,u,c,f,h){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(d){typeof i=="object"&&n!==void 0?n.exports=d():(typeof window<"u"?window:s!==void 0?s:typeof self<"u"?self:this).JSZip=d()})(function(){return function d(A,p,g){function m(b,_){if(!p[b]){if(!A[b]){var T=typeof e=="function"&&e;if(!_&&T)return T(b,!0);if(v)return v(b,!0);var I=new Error("Cannot find module '"+b+"'");throw I.code="MODULE_NOT_FOUND",I}var N=p[b]={exports:{}};A[b][0].call(N.exports,function(F){return m(A[b][1][F]||F)},N,N.exports,d,A,p,g)}return p[b].exports}for(var v=typeof e=="function"&&e,y=0;y<g.length;y++)m(g[y]);return m}({1:[function(d,A,p){var g=d("./utils"),m=d("./support"),v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";p.encode=function(y){for(var b,_,T,I,N,F,P,D=[],R=0,E=y.length,L=E,k=g.getTypeOf(y)!=="string";R<y.length;)L=E-R,T=k?(b=y[R++],_=R<E?y[R++]:0,R<E?y[R++]:0):(b=y.charCodeAt(R++),_=R<E?y.charCodeAt(R++):0,R<E?y.charCodeAt(R++):0),I=b>>2,N=(3&b)<<4|_>>4,F=1<L?(15&_)<<2|T>>6:64,P=2<L?63&T:64,D.push(v.charAt(I)+v.charAt(N)+v.charAt(F)+v.charAt(P));return D.join("")},p.decode=function(y){var b,_,T,I,N,F,P=0,D=0,R="data:";if(y.substr(0,R.length)===R)throw new Error("Invalid base64 input, it looks like a data url.");var E,L=3*(y=y.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(y.charAt(y.length-1)===v.charAt(64)&&L--,y.charAt(y.length-2)===v.charAt(64)&&L--,L%1!=0)throw new Error("Invalid base64 input, bad content length.");for(E=m.uint8array?new Uint8Array(0|L):new Array(0|L);P<y.length;)b=v.indexOf(y.charAt(P++))<<2|(I=v.indexOf(y.charAt(P++)))>>4,_=(15&I)<<4|(N=v.indexOf(y.charAt(P++)))>>2,T=(3&N)<<6|(F=v.indexOf(y.charAt(P++))),E[D++]=b,N!==64&&(E[D++]=_),F!==64&&(E[D++]=T);return E}},{"./support":30,"./utils":32}],2:[function(d,A,p){var g=d("./external"),m=d("./stream/DataWorker"),v=d("./stream/Crc32Probe"),y=d("./stream/DataLengthProbe");function b(_,T,I,N,F){this.compressedSize=_,this.uncompressedSize=T,this.crc32=I,this.compression=N,this.compressedContent=F}b.prototype={getContentWorker:function(){var _=new m(g.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new y("data_length")),T=this;return _.on("end",function(){if(this.streamInfo.data_length!==T.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),_},getCompressedWorker:function(){return new m(g.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},b.createWorkerFrom=function(_,T,I){return _.pipe(new v).pipe(new y("uncompressedSize")).pipe(T.compressWorker(I)).pipe(new y("compressedSize")).withStreamInfo("compression",T)},A.exports=b},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(d,A,p){var g=d("./stream/GenericWorker");p.STORE={magic:"\0\0",compressWorker:function(){return new g("STORE compression")},uncompressWorker:function(){return new g("STORE decompression")}},p.DEFLATE=d("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(d,A,p){var g=d("./utils"),m=function(){for(var v,y=[],b=0;b<256;b++){v=b;for(var _=0;_<8;_++)v=1&v?3988292384^v>>>1:v>>>1;y[b]=v}return y}();A.exports=function(v,y){return v!==void 0&&v.length?g.getTypeOf(v)!=="string"?function(b,_,T,I){var N=m,F=0+T;b^=-1;for(var P=0;P<F;P++)b=b>>>8^N[255&(b^_[P])];return-1^b}(0|y,v,v.length):function(b,_,T,I){var N=m,F=0+T;b^=-1;for(var P=0;P<F;P++)b=b>>>8^N[255&(b^_.charCodeAt(P))];return-1^b}(0|y,v,v.length):0}},{"./utils":32}],5:[function(d,A,p){p.base64=!1,p.binary=!1,p.dir=!1,p.createFolders=!0,p.date=null,p.compression=null,p.compressionOptions=null,p.comment=null,p.unixPermissions=null,p.dosPermissions=null},{}],6:[function(d,A,p){var g;g=typeof Promise<"u"?Promise:d("lie"),A.exports={Promise:g}},{lie:37}],7:[function(d,A,p){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",m=d("pako"),v=d("./utils"),y=d("./stream/GenericWorker"),b=g?"uint8array":"array";function _(T,I){y.call(this,"FlateWorker/"+T),this._pako=null,this._pakoAction=T,this._pakoOptions=I,this.meta={}}p.magic="\b\0",v.inherits(_,y),_.prototype.processChunk=function(T){this.meta=T.meta,this._pako===null&&this._createPako(),this._pako.push(v.transformTo(b,T.data),!1)},_.prototype.flush=function(){y.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},_.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this._pako=null},_.prototype._createPako=function(){this._pako=new m[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var T=this;this._pako.onData=function(I){T.push({data:I,meta:T.meta})}},p.compressWorker=function(T){return new _("Deflate",T)},p.uncompressWorker=function(){return new _("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(d,A,p){function g(N,F){var P,D="";for(P=0;P<F;P++)D+=String.fromCharCode(255&N),N>>>=8;return D}function m(N,F,P,D,R,E){var L,k,w=N.file,C=N.compression,S=E!==b.utf8encode,B=v.transformTo("string",E(w.name)),O=v.transformTo("string",b.utf8encode(w.name)),V=w.comment,M=v.transformTo("string",E(V)),U=v.transformTo("string",b.utf8encode(V)),Q=O.length!==w.name.length,W=U.length!==V.length,j="",X="",z="",H=w.dir,K=w.date,Z={crc32:0,compressedSize:0,uncompressedSize:0};F&&!P||(Z.crc32=N.crc32,Z.compressedSize=N.compressedSize,Z.uncompressedSize=N.uncompressedSize);var ie=0;F&&(ie|=8),S||!Q&&!W||(ie|=2048);var ee=0,ne=0;H&&(ee|=16),R==="UNIX"?(ne=798,ee|=function(le,re){var de=le;return le||(de=re?16893:33204),(65535&de)<<16}(w.unixPermissions,H)):(ne=20,ee|=function(le){return 63&(le||0)}(w.dosPermissions)),L=K.getUTCHours(),L<<=6,L|=K.getUTCMinutes(),L<<=5,L|=K.getUTCSeconds()/2,k=K.getUTCFullYear()-1980,k<<=4,k|=K.getUTCMonth()+1,k<<=5,k|=K.getUTCDate(),Q&&(X=g(1,1)+g(_(B),4)+O,j+="up"+g(X.length,2)+X),W&&(z=g(1,1)+g(_(M),4)+U,j+="uc"+g(z.length,2)+z);var te="";return te+=`
\0`,te+=g(ie,2),te+=C.magic,te+=g(L,2),te+=g(k,2),te+=g(Z.crc32,4),te+=g(Z.compressedSize,4),te+=g(Z.uncompressedSize,4),te+=g(B.length,2),te+=g(j.length,2),{fileRecord:T.LOCAL_FILE_HEADER+te+B+j,dirRecord:T.CENTRAL_FILE_HEADER+g(ne,2)+te+g(M.length,2)+"\0\0\0\0"+g(ee,4)+g(D,4)+B+j+M}}var v=d("../utils"),y=d("../stream/GenericWorker"),b=d("../utf8"),_=d("../crc32"),T=d("../signature");function I(N,F,P,D){y.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=F,this.zipPlatform=P,this.encodeFileName=D,this.streamFiles=N,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}v.inherits(I,y),I.prototype.push=function(N){var F=N.meta.percent||0,P=this.entriesCount,D=this._sources.length;this.accumulate?this.contentBuffer.push(N):(this.bytesWritten+=N.data.length,y.prototype.push.call(this,{data:N.data,meta:{currentFile:this.currentFile,percent:P?(F+100*(P-D-1))/P:100}}))},I.prototype.openedSource=function(N){this.currentSourceOffset=this.bytesWritten,this.currentFile=N.file.name;var F=this.streamFiles&&!N.file.dir;if(F){var P=m(N,F,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:P.fileRecord,meta:{percent:0}})}else this.accumulate=!0},I.prototype.closedSource=function(N){this.accumulate=!1;var F=this.streamFiles&&!N.file.dir,P=m(N,F,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(P.dirRecord),F)this.push({data:function(D){return T.DATA_DESCRIPTOR+g(D.crc32,4)+g(D.compressedSize,4)+g(D.uncompressedSize,4)}(N),meta:{percent:100}});else for(this.push({data:P.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},I.prototype.flush=function(){for(var N=this.bytesWritten,F=0;F<this.dirRecords.length;F++)this.push({data:this.dirRecords[F],meta:{percent:100}});var P=this.bytesWritten-N,D=function(R,E,L,k,w){var C=v.transformTo("string",w(k));return T.CENTRAL_DIRECTORY_END+"\0\0\0\0"+g(R,2)+g(R,2)+g(E,4)+g(L,4)+g(C.length,2)+C}(this.dirRecords.length,P,N,this.zipComment,this.encodeFileName);this.push({data:D,meta:{percent:100}})},I.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},I.prototype.registerPrevious=function(N){this._sources.push(N);var F=this;return N.on("data",function(P){F.processChunk(P)}),N.on("end",function(){F.closedSource(F.previous.streamInfo),F._sources.length?F.prepareNextSource():F.end()}),N.on("error",function(P){F.error(P)}),this},I.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},I.prototype.error=function(N){var F=this._sources;if(!y.prototype.error.call(this,N))return!1;for(var P=0;P<F.length;P++)try{F[P].error(N)}catch{}return!0},I.prototype.lock=function(){y.prototype.lock.call(this);for(var N=this._sources,F=0;F<N.length;F++)N[F].lock()},A.exports=I},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(d,A,p){var g=d("../compressions"),m=d("./ZipFileWorker");p.generateWorker=function(v,y,b){var _=new m(y.streamFiles,b,y.platform,y.encodeFileName),T=0;try{v.forEach(function(I,N){T++;var F=function(E,L){var k=E||L,w=g[k];if(!w)throw new Error(k+" is not a valid compression method !");return w}(N.options.compression,y.compression),P=N.options.compressionOptions||y.compressionOptions||{},D=N.dir,R=N.date;N._compressWorker(F,P).withStreamInfo("file",{name:I,dir:D,date:R,comment:N.comment||"",unixPermissions:N.unixPermissions,dosPermissions:N.dosPermissions}).pipe(_)}),_.entriesCount=T}catch(I){_.error(I)}return _}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(d,A,p){function g(){if(!(this instanceof g))return new g;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var m=new g;for(var v in this)typeof this[v]!="function"&&(m[v]=this[v]);return m}}(g.prototype=d("./object")).loadAsync=d("./load"),g.support=d("./support"),g.defaults=d("./defaults"),g.version="3.10.1",g.loadAsync=function(m,v){return new g().loadAsync(m,v)},g.external=d("./external"),A.exports=g},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(d,A,p){var g=d("./utils"),m=d("./external"),v=d("./utf8"),y=d("./zipEntries"),b=d("./stream/Crc32Probe"),_=d("./nodejsUtils");function T(I){return new m.Promise(function(N,F){var P=I.decompressed.getContentWorker().pipe(new b);P.on("error",function(D){F(D)}).on("end",function(){P.streamInfo.crc32!==I.decompressed.crc32?F(new Error("Corrupted zip : CRC32 mismatch")):N()}).resume()})}A.exports=function(I,N){var F=this;return N=g.extend(N||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:v.utf8decode}),_.isNode&&_.isStream(I)?m.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):g.prepareContent("the loaded zip file",I,!0,N.optimizedBinaryString,N.base64).then(function(P){var D=new y(N);return D.load(P),D}).then(function(P){var D=[m.Promise.resolve(P)],R=P.files;if(N.checkCRC32)for(var E=0;E<R.length;E++)D.push(T(R[E]));return m.Promise.all(D)}).then(function(P){for(var D=P.shift(),R=D.files,E=0;E<R.length;E++){var L=R[E],k=L.fileNameStr,w=g.resolve(L.fileNameStr);F.file(w,L.decompressed,{binary:!0,optimizedBinaryString:!0,date:L.date,dir:L.dir,comment:L.fileCommentStr.length?L.fileCommentStr:null,unixPermissions:L.unixPermissions,dosPermissions:L.dosPermissions,createFolders:N.createFolders}),L.dir||(F.file(w).unsafeOriginalName=k)}return D.zipComment.length&&(F.comment=D.zipComment),F})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(d,A,p){var g=d("../utils"),m=d("../stream/GenericWorker");function v(y,b){m.call(this,"Nodejs stream input adapter for "+y),this._upstreamEnded=!1,this._bindStream(b)}g.inherits(v,m),v.prototype._bindStream=function(y){var b=this;(this._stream=y).pause(),y.on("data",function(_){b.push({data:_,meta:{percent:0}})}).on("error",function(_){b.isPaused?this.generatedError=_:b.error(_)}).on("end",function(){b.isPaused?b._upstreamEnded=!0:b.end()})},v.prototype.pause=function(){return!!m.prototype.pause.call(this)&&(this._stream.pause(),!0)},v.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},A.exports=v},{"../stream/GenericWorker":28,"../utils":32}],13:[function(d,A,p){var g=d("readable-stream").Readable;function m(v,y,b){g.call(this,y),this._helper=v;var _=this;v.on("data",function(T,I){_.push(T)||_._helper.pause(),b&&b(I)}).on("error",function(T){_.emit("error",T)}).on("end",function(){_.push(null)})}d("../utils").inherits(m,g),m.prototype._read=function(){this._helper.resume()},A.exports=m},{"../utils":32,"readable-stream":16}],14:[function(d,A,p){A.exports={isNode:o!==void 0,newBufferFrom:function(g,m){if(o.from&&o.from!==Uint8Array.from)return o.from(g,m);if(typeof g=="number")throw new Error('The "data" argument must not be a number');return new o(g,m)},allocBuffer:function(g){if(o.alloc)return o.alloc(g);var m=new o(g);return m.fill(0),m},isBuffer:function(g){return o.isBuffer(g)},isStream:function(g){return g&&typeof g.on=="function"&&typeof g.pause=="function"&&typeof g.resume=="function"}}},{}],15:[function(d,A,p){function g(w,C,S){var B,O=v.getTypeOf(C),V=v.extend(S||{},_);V.date=V.date||new Date,V.compression!==null&&(V.compression=V.compression.toUpperCase()),typeof V.unixPermissions=="string"&&(V.unixPermissions=parseInt(V.unixPermissions,8)),V.unixPermissions&&16384&V.unixPermissions&&(V.dir=!0),V.dosPermissions&&16&V.dosPermissions&&(V.dir=!0),V.dir&&(w=R(w)),V.createFolders&&(B=D(w))&&E.call(this,B,!0);var M=O==="string"&&V.binary===!1&&V.base64===!1;S&&S.binary!==void 0||(V.binary=!M),(C instanceof T&&C.uncompressedSize===0||V.dir||!C||C.length===0)&&(V.base64=!1,V.binary=!0,C="",V.compression="STORE",O="string");var U;U=C instanceof T||C instanceof y?C:F.isNode&&F.isStream(C)?new P(w,C):v.prepareContent(w,C,V.binary,V.optimizedBinaryString,V.base64);var Q=new I(w,U,V);this.files[w]=Q}var m=d("./utf8"),v=d("./utils"),y=d("./stream/GenericWorker"),b=d("./stream/StreamHelper"),_=d("./defaults"),T=d("./compressedObject"),I=d("./zipObject"),N=d("./generate"),F=d("./nodejsUtils"),P=d("./nodejs/NodejsStreamInputAdapter"),D=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var C=w.lastIndexOf("/");return 0<C?w.substring(0,C):""},R=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},E=function(w,C){return C=C!==void 0?C:_.createFolders,w=R(w),this.files[w]||g.call(this,w,null,{dir:!0,createFolders:C}),this.files[w]};function L(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var C,S,B;for(C in this.files)B=this.files[C],(S=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&w(S,B)},filter:function(w){var C=[];return this.forEach(function(S,B){w(S,B)&&C.push(B)}),C},file:function(w,C,S){if(arguments.length!==1)return w=this.root+w,g.call(this,w,C,S),this;if(L(w)){var B=w;return this.filter(function(V,M){return!M.dir&&B.test(V)})}var O=this.files[this.root+w];return O&&!O.dir?O:null},folder:function(w){if(!w)return this;if(L(w))return this.filter(function(O,V){return V.dir&&w.test(O)});var C=this.root+w,S=E.call(this,C),B=this.clone();return B.root=S.name,B},remove:function(w){w=this.root+w;var C=this.files[w];if(C||(w.slice(-1)!=="/"&&(w+="/"),C=this.files[w]),C&&!C.dir)delete this.files[w];else for(var S=this.filter(function(O,V){return V.name.slice(0,w.length)===w}),B=0;B<S.length;B++)delete this.files[S[B].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var C,S={};try{if((S=v.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:m.utf8encode})).type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");v.checkSupport(S.type),S.platform!=="darwin"&&S.platform!=="freebsd"&&S.platform!=="linux"&&S.platform!=="sunos"||(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var B=S.comment||this.comment||"";C=N.generateWorker(this,S,B)}catch(O){(C=new y("error")).error(O)}return new b(C,S.type||"string",S.mimeType)},generateAsync:function(w,C){return this.generateInternalStream(w).accumulate(C)},generateNodeStream:function(w,C){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(C)}};A.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(d,A,p){A.exports=d("stream")},{stream:void 0}],17:[function(d,A,p){var g=d("./DataReader");function m(v){g.call(this,v);for(var y=0;y<this.data.length;y++)v[y]=255&v[y]}d("../utils").inherits(m,g),m.prototype.byteAt=function(v){return this.data[this.zero+v]},m.prototype.lastIndexOfSignature=function(v){for(var y=v.charCodeAt(0),b=v.charCodeAt(1),_=v.charCodeAt(2),T=v.charCodeAt(3),I=this.length-4;0<=I;--I)if(this.data[I]===y&&this.data[I+1]===b&&this.data[I+2]===_&&this.data[I+3]===T)return I-this.zero;return-1},m.prototype.readAndCheckSignature=function(v){var y=v.charCodeAt(0),b=v.charCodeAt(1),_=v.charCodeAt(2),T=v.charCodeAt(3),I=this.readData(4);return y===I[0]&&b===I[1]&&_===I[2]&&T===I[3]},m.prototype.readData=function(v){if(this.checkOffset(v),v===0)return[];var y=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,y},A.exports=m},{"../utils":32,"./DataReader":18}],18:[function(d,A,p){var g=d("../utils");function m(v){this.data=v,this.length=v.length,this.index=0,this.zero=0}m.prototype={checkOffset:function(v){this.checkIndex(this.index+v)},checkIndex:function(v){if(this.length<this.zero+v||v<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+v+"). Corrupted zip ?")},setIndex:function(v){this.checkIndex(v),this.index=v},skip:function(v){this.setIndex(this.index+v)},byteAt:function(){},readInt:function(v){var y,b=0;for(this.checkOffset(v),y=this.index+v-1;y>=this.index;y--)b=(b<<8)+this.byteAt(y);return this.index+=v,b},readString:function(v){return g.transformTo("string",this.readData(v))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var v=this.readInt(4);return new Date(Date.UTC(1980+(v>>25&127),(v>>21&15)-1,v>>16&31,v>>11&31,v>>5&63,(31&v)<<1))}},A.exports=m},{"../utils":32}],19:[function(d,A,p){var g=d("./Uint8ArrayReader");function m(v){g.call(this,v)}d("../utils").inherits(m,g),m.prototype.readData=function(v){this.checkOffset(v);var y=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,y},A.exports=m},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(d,A,p){var g=d("./DataReader");function m(v){g.call(this,v)}d("../utils").inherits(m,g),m.prototype.byteAt=function(v){return this.data.charCodeAt(this.zero+v)},m.prototype.lastIndexOfSignature=function(v){return this.data.lastIndexOf(v)-this.zero},m.prototype.readAndCheckSignature=function(v){return v===this.readData(4)},m.prototype.readData=function(v){this.checkOffset(v);var y=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,y},A.exports=m},{"../utils":32,"./DataReader":18}],21:[function(d,A,p){var g=d("./ArrayReader");function m(v){g.call(this,v)}d("../utils").inherits(m,g),m.prototype.readData=function(v){if(this.checkOffset(v),v===0)return new Uint8Array(0);var y=this.data.subarray(this.zero+this.index,this.zero+this.index+v);return this.index+=v,y},A.exports=m},{"../utils":32,"./ArrayReader":17}],22:[function(d,A,p){var g=d("../utils"),m=d("../support"),v=d("./ArrayReader"),y=d("./StringReader"),b=d("./NodeBufferReader"),_=d("./Uint8ArrayReader");A.exports=function(T){var I=g.getTypeOf(T);return g.checkSupport(I),I!=="string"||m.uint8array?I==="nodebuffer"?new b(T):m.uint8array?new _(g.transformTo("uint8array",T)):new v(g.transformTo("array",T)):new y(T)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(d,A,p){p.LOCAL_FILE_HEADER="PK",p.CENTRAL_FILE_HEADER="PK",p.CENTRAL_DIRECTORY_END="PK",p.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",p.ZIP64_CENTRAL_DIRECTORY_END="PK",p.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(d,A,p){var g=d("./GenericWorker"),m=d("../utils");function v(y){g.call(this,"ConvertWorker to "+y),this.destType=y}m.inherits(v,g),v.prototype.processChunk=function(y){this.push({data:m.transformTo(this.destType,y.data),meta:y.meta})},A.exports=v},{"../utils":32,"./GenericWorker":28}],25:[function(d,A,p){var g=d("./GenericWorker"),m=d("../crc32");function v(){g.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}d("../utils").inherits(v,g),v.prototype.processChunk=function(y){this.streamInfo.crc32=m(y.data,this.streamInfo.crc32||0),this.push(y)},A.exports=v},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(d,A,p){var g=d("../utils"),m=d("./GenericWorker");function v(y){m.call(this,"DataLengthProbe for "+y),this.propName=y,this.withStreamInfo(y,0)}g.inherits(v,m),v.prototype.processChunk=function(y){if(y){var b=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=b+y.data.length}m.prototype.processChunk.call(this,y)},A.exports=v},{"../utils":32,"./GenericWorker":28}],27:[function(d,A,p){var g=d("../utils"),m=d("./GenericWorker");function v(y){m.call(this,"DataWorker");var b=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,y.then(function(_){b.dataIsReady=!0,b.data=_,b.max=_&&_.length||0,b.type=g.getTypeOf(_),b.isPaused||b._tickAndRepeat()},function(_){b.error(_)})}g.inherits(v,m),v.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this.data=null},v.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,g.delay(this._tickAndRepeat,[],this)),!0)},v.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(g.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},v.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var y=null,b=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":y=this.data.substring(this.index,b);break;case"uint8array":y=this.data.subarray(this.index,b);break;case"array":case"nodebuffer":y=this.data.slice(this.index,b)}return this.index=b,this.push({data:y,meta:{percent:this.max?this.index/this.max*100:0}})},A.exports=v},{"../utils":32,"./GenericWorker":28}],28:[function(d,A,p){function g(m){this.name=m||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}g.prototype={push:function(m){this.emit("data",m)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(m){this.emit("error",m)}return!0},error:function(m){return!this.isFinished&&(this.isPaused?this.generatedError=m:(this.isFinished=!0,this.emit("error",m),this.previous&&this.previous.error(m),this.cleanUp()),!0)},on:function(m,v){return this._listeners[m].push(v),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(m,v){if(this._listeners[m])for(var y=0;y<this._listeners[m].length;y++)this._listeners[m][y].call(this,v)},pipe:function(m){return m.registerPrevious(this)},registerPrevious:function(m){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=m.streamInfo,this.mergeStreamInfo(),this.previous=m;var v=this;return m.on("data",function(y){v.processChunk(y)}),m.on("end",function(){v.end()}),m.on("error",function(y){v.error(y)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var m=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),m=!0),this.previous&&this.previous.resume(),!m},flush:function(){},processChunk:function(m){this.push(m)},withStreamInfo:function(m,v){return this.extraStreamInfo[m]=v,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var m in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,m)&&(this.streamInfo[m]=this.extraStreamInfo[m])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var m="Worker "+this.name;return this.previous?this.previous+" -> "+m:m}},A.exports=g},{}],29:[function(d,A,p){var g=d("../utils"),m=d("./ConvertWorker"),v=d("./GenericWorker"),y=d("../base64"),b=d("../support"),_=d("../external"),T=null;if(b.nodestream)try{T=d("../nodejs/NodejsStreamOutputAdapter")}catch{}function I(N,F,P){var D=F;switch(F){case"blob":case"arraybuffer":D="uint8array";break;case"base64":D="string"}try{this._internalType=D,this._outputType=F,this._mimeType=P,g.checkSupport(D),this._worker=N.pipe(new m(D)),N.lock()}catch(R){this._worker=new v("error"),this._worker.error(R)}}I.prototype={accumulate:function(N){return function(F,P){return new _.Promise(function(D,R){var E=[],L=F._internalType,k=F._outputType,w=F._mimeType;F.on("data",function(C,S){E.push(C),P&&P(S)}).on("error",function(C){E=[],R(C)}).on("end",function(){try{var C=function(S,B,O){switch(S){case"blob":return g.newBlob(g.transformTo("arraybuffer",B),O);case"base64":return y.encode(B);default:return g.transformTo(S,B)}}(k,function(S,B){var O,V=0,M=null,U=0;for(O=0;O<B.length;O++)U+=B[O].length;switch(S){case"string":return B.join("");case"array":return Array.prototype.concat.apply([],B);case"uint8array":for(M=new Uint8Array(U),O=0;O<B.length;O++)M.set(B[O],V),V+=B[O].length;return M;case"nodebuffer":return o.concat(B);default:throw new Error("concat : unsupported type '"+S+"'")}}(L,E),w);D(C)}catch(S){R(S)}E=[]}).resume()})}(this,N)},on:function(N,F){var P=this;return N==="data"?this._worker.on(N,function(D){F.call(P,D.data,D.meta)}):this._worker.on(N,function(){g.delay(F,arguments,P)}),this},resume:function(){return g.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(N){if(g.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new T(this,{objectMode:this._outputType!=="nodebuffer"},N)}},A.exports=I},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(d,A,p){if(p.base64=!0,p.array=!0,p.string=!0,p.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",p.nodebuffer=o!==void 0,p.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")p.blob=!1;else{var g=new ArrayBuffer(0);try{p.blob=new Blob([g],{type:"application/zip"}).size===0}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);m.append(g),p.blob=m.getBlob("application/zip").size===0}catch{p.blob=!1}}}try{p.nodestream=!!d("readable-stream").Readable}catch{p.nodestream=!1}},{"readable-stream":16}],31:[function(d,A,p){for(var g=d("./utils"),m=d("./support"),v=d("./nodejsUtils"),y=d("./stream/GenericWorker"),b=new Array(256),_=0;_<256;_++)b[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;function T(){y.call(this,"utf-8 decode"),this.leftOver=null}function I(){y.call(this,"utf-8 encode")}b[254]=b[254]=1,p.utf8encode=function(N){return m.nodebuffer?v.newBufferFrom(N,"utf-8"):function(F){var P,D,R,E,L,k=F.length,w=0;for(E=0;E<k;E++)(64512&(D=F.charCodeAt(E)))==55296&&E+1<k&&(64512&(R=F.charCodeAt(E+1)))==56320&&(D=65536+(D-55296<<10)+(R-56320),E++),w+=D<128?1:D<2048?2:D<65536?3:4;for(P=m.uint8array?new Uint8Array(w):new Array(w),E=L=0;L<w;E++)(64512&(D=F.charCodeAt(E)))==55296&&E+1<k&&(64512&(R=F.charCodeAt(E+1)))==56320&&(D=65536+(D-55296<<10)+(R-56320),E++),D<128?P[L++]=D:(D<2048?P[L++]=192|D>>>6:(D<65536?P[L++]=224|D>>>12:(P[L++]=240|D>>>18,P[L++]=128|D>>>12&63),P[L++]=128|D>>>6&63),P[L++]=128|63&D);return P}(N)},p.utf8decode=function(N){return m.nodebuffer?g.transformTo("nodebuffer",N).toString("utf-8"):function(F){var P,D,R,E,L=F.length,k=new Array(2*L);for(P=D=0;P<L;)if((R=F[P++])<128)k[D++]=R;else if(4<(E=b[R]))k[D++]=65533,P+=E-1;else{for(R&=E===2?31:E===3?15:7;1<E&&P<L;)R=R<<6|63&F[P++],E--;1<E?k[D++]=65533:R<65536?k[D++]=R:(R-=65536,k[D++]=55296|R>>10&1023,k[D++]=56320|1023&R)}return k.length!==D&&(k.subarray?k=k.subarray(0,D):k.length=D),g.applyFromCharCode(k)}(N=g.transformTo(m.uint8array?"uint8array":"array",N))},g.inherits(T,y),T.prototype.processChunk=function(N){var F=g.transformTo(m.uint8array?"uint8array":"array",N.data);if(this.leftOver&&this.leftOver.length){if(m.uint8array){var P=F;(F=new Uint8Array(P.length+this.leftOver.length)).set(this.leftOver,0),F.set(P,this.leftOver.length)}else F=this.leftOver.concat(F);this.leftOver=null}var D=function(E,L){var k;for((L=L||E.length)>E.length&&(L=E.length),k=L-1;0<=k&&(192&E[k])==128;)k--;return k<0||k===0?L:k+b[E[k]]>L?k:L}(F),R=F;D!==F.length&&(m.uint8array?(R=F.subarray(0,D),this.leftOver=F.subarray(D,F.length)):(R=F.slice(0,D),this.leftOver=F.slice(D,F.length))),this.push({data:p.utf8decode(R),meta:N.meta})},T.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:p.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},p.Utf8DecodeWorker=T,g.inherits(I,y),I.prototype.processChunk=function(N){this.push({data:p.utf8encode(N.data),meta:N.meta})},p.Utf8EncodeWorker=I},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(d,A,p){var g=d("./support"),m=d("./base64"),v=d("./nodejsUtils"),y=d("./external");function b(P){return P}function _(P,D){for(var R=0;R<P.length;++R)D[R]=255&P.charCodeAt(R);return D}d("setimmediate"),p.newBlob=function(P,D){p.checkSupport("blob");try{return new Blob([P],{type:D})}catch{try{var R=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return R.append(P),R.getBlob(D)}catch{throw new Error("Bug : can't construct the Blob.")}}};var T={stringifyByChunk:function(P,D,R){var E=[],L=0,k=P.length;if(k<=R)return String.fromCharCode.apply(null,P);for(;L<k;)D==="array"||D==="nodebuffer"?E.push(String.fromCharCode.apply(null,P.slice(L,Math.min(L+R,k)))):E.push(String.fromCharCode.apply(null,P.subarray(L,Math.min(L+R,k)))),L+=R;return E.join("")},stringifyByChar:function(P){for(var D="",R=0;R<P.length;R++)D+=String.fromCharCode(P[R]);return D},applyCanBeUsed:{uint8array:function(){try{return g.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return g.nodebuffer&&String.fromCharCode.apply(null,v.allocBuffer(1)).length===1}catch{return!1}}()}};function I(P){var D=65536,R=p.getTypeOf(P),E=!0;if(R==="uint8array"?E=T.applyCanBeUsed.uint8array:R==="nodebuffer"&&(E=T.applyCanBeUsed.nodebuffer),E)for(;1<D;)try{return T.stringifyByChunk(P,R,D)}catch{D=Math.floor(D/2)}return T.stringifyByChar(P)}function N(P,D){for(var R=0;R<P.length;R++)D[R]=P[R];return D}p.applyFromCharCode=I;var F={};F.string={string:b,array:function(P){return _(P,new Array(P.length))},arraybuffer:function(P){return F.string.uint8array(P).buffer},uint8array:function(P){return _(P,new Uint8Array(P.length))},nodebuffer:function(P){return _(P,v.allocBuffer(P.length))}},F.array={string:I,array:b,arraybuffer:function(P){return new Uint8Array(P).buffer},uint8array:function(P){return new Uint8Array(P)},nodebuffer:function(P){return v.newBufferFrom(P)}},F.arraybuffer={string:function(P){return I(new Uint8Array(P))},array:function(P){return N(new Uint8Array(P),new Array(P.byteLength))},arraybuffer:b,uint8array:function(P){return new Uint8Array(P)},nodebuffer:function(P){return v.newBufferFrom(new Uint8Array(P))}},F.uint8array={string:I,array:function(P){return N(P,new Array(P.length))},arraybuffer:function(P){return P.buffer},uint8array:b,nodebuffer:function(P){return v.newBufferFrom(P)}},F.nodebuffer={string:I,array:function(P){return N(P,new Array(P.length))},arraybuffer:function(P){return F.nodebuffer.uint8array(P).buffer},uint8array:function(P){return N(P,new Uint8Array(P.length))},nodebuffer:b},p.transformTo=function(P,D){if(D=D||"",!P)return D;p.checkSupport(P);var R=p.getTypeOf(D);return F[R][P](D)},p.resolve=function(P){for(var D=P.split("/"),R=[],E=0;E<D.length;E++){var L=D[E];L==="."||L===""&&E!==0&&E!==D.length-1||(L===".."?R.pop():R.push(L))}return R.join("/")},p.getTypeOf=function(P){return typeof P=="string"?"string":Object.prototype.toString.call(P)==="[object Array]"?"array":g.nodebuffer&&v.isBuffer(P)?"nodebuffer":g.uint8array&&P instanceof Uint8Array?"uint8array":g.arraybuffer&&P instanceof ArrayBuffer?"arraybuffer":void 0},p.checkSupport=function(P){if(!g[P.toLowerCase()])throw new Error(P+" is not supported by this platform")},p.MAX_VALUE_16BITS=65535,p.MAX_VALUE_32BITS=-1,p.pretty=function(P){var D,R,E="";for(R=0;R<(P||"").length;R++)E+="\\x"+((D=P.charCodeAt(R))<16?"0":"")+D.toString(16).toUpperCase();return E},p.delay=function(P,D,R){h(function(){P.apply(R||null,D||[])})},p.inherits=function(P,D){function R(){}R.prototype=D.prototype,P.prototype=new R},p.extend=function(){var P,D,R={};for(P=0;P<arguments.length;P++)for(D in arguments[P])Object.prototype.hasOwnProperty.call(arguments[P],D)&&R[D]===void 0&&(R[D]=arguments[P][D]);return R},p.prepareContent=function(P,D,R,E,L){return y.Promise.resolve(D).then(function(k){return g.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new y.Promise(function(w,C){var S=new FileReader;S.onload=function(B){w(B.target.result)},S.onerror=function(B){C(B.target.error)},S.readAsArrayBuffer(k)}):k}).then(function(k){var w=p.getTypeOf(k);return w?(w==="arraybuffer"?k=p.transformTo("uint8array",k):w==="string"&&(L?k=m.decode(k):R&&E!==!0&&(k=function(C){return _(C,g.uint8array?new Uint8Array(C.length):new Array(C.length))}(k))),k):y.Promise.reject(new Error("Can't read the data of '"+P+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(d,A,p){var g=d("./reader/readerFor"),m=d("./utils"),v=d("./signature"),y=d("./zipEntry"),b=d("./support");function _(T){this.files=[],this.loadOptions=T}_.prototype={checkSignature:function(T){if(!this.reader.readAndCheckSignature(T)){this.reader.index-=4;var I=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+m.pretty(I)+", expected "+m.pretty(T)+")")}},isSignature:function(T,I){var N=this.reader.index;this.reader.setIndex(T);var F=this.reader.readString(4)===I;return this.reader.setIndex(N),F},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var T=this.reader.readData(this.zipCommentLength),I=b.uint8array?"uint8array":"array",N=m.transformTo(I,T);this.zipComment=this.loadOptions.decodeFileName(N)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var T,I,N,F=this.zip64EndOfCentralSize-44;0<F;)T=this.reader.readInt(2),I=this.reader.readInt(4),N=this.reader.readData(I),this.zip64ExtensibleData[T]={id:T,length:I,value:N}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var T,I;for(T=0;T<this.files.length;T++)I=this.files[T],this.reader.setIndex(I.localHeaderOffset),this.checkSignature(v.LOCAL_FILE_HEADER),I.readLocalPart(this.reader),I.handleUTF8(),I.processAttributes()},readCentralDir:function(){var T;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(v.CENTRAL_FILE_HEADER);)(T=new y({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(T);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var T=this.reader.lastIndexOfSignature(v.CENTRAL_DIRECTORY_END);if(T<0)throw this.isSignature(0,v.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(T);var I=T;if(this.checkSignature(v.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===m.MAX_VALUE_16BITS||this.diskWithCentralDirStart===m.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===m.MAX_VALUE_16BITS||this.centralDirRecords===m.MAX_VALUE_16BITS||this.centralDirSize===m.MAX_VALUE_32BITS||this.centralDirOffset===m.MAX_VALUE_32BITS){if(this.zip64=!0,(T=this.reader.lastIndexOfSignature(v.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(T),this.checkSignature(v.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,v.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(v.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(v.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var N=this.centralDirOffset+this.centralDirSize;this.zip64&&(N+=20,N+=12+this.zip64EndOfCentralSize);var F=I-N;if(0<F)this.isSignature(I,v.CENTRAL_FILE_HEADER)||(this.reader.zero=F);else if(F<0)throw new Error("Corrupted zip: missing "+Math.abs(F)+" bytes.")},prepareReader:function(T){this.reader=g(T)},load:function(T){this.prepareReader(T),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},A.exports=_},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(d,A,p){var g=d("./reader/readerFor"),m=d("./utils"),v=d("./compressedObject"),y=d("./crc32"),b=d("./utf8"),_=d("./compressions"),T=d("./support");function I(N,F){this.options=N,this.loadOptions=F}I.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(N){var F,P;if(N.skip(22),this.fileNameLength=N.readInt(2),P=N.readInt(2),this.fileName=N.readData(this.fileNameLength),N.skip(P),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((F=function(D){for(var R in _)if(Object.prototype.hasOwnProperty.call(_,R)&&_[R].magic===D)return _[R];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+m.pretty(this.compressionMethod)+" unknown (inner file : "+m.transformTo("string",this.fileName)+")");this.decompressed=new v(this.compressedSize,this.uncompressedSize,this.crc32,F,N.readData(this.compressedSize))},readCentralPart:function(N){this.versionMadeBy=N.readInt(2),N.skip(2),this.bitFlag=N.readInt(2),this.compressionMethod=N.readString(2),this.date=N.readDate(),this.crc32=N.readInt(4),this.compressedSize=N.readInt(4),this.uncompressedSize=N.readInt(4);var F=N.readInt(2);if(this.extraFieldsLength=N.readInt(2),this.fileCommentLength=N.readInt(2),this.diskNumberStart=N.readInt(2),this.internalFileAttributes=N.readInt(2),this.externalFileAttributes=N.readInt(4),this.localHeaderOffset=N.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");N.skip(F),this.readExtraFields(N),this.parseZIP64ExtraField(N),this.fileComment=N.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var N=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),N==0&&(this.dosPermissions=63&this.externalFileAttributes),N==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var N=g(this.extraFields[1].value);this.uncompressedSize===m.MAX_VALUE_32BITS&&(this.uncompressedSize=N.readInt(8)),this.compressedSize===m.MAX_VALUE_32BITS&&(this.compressedSize=N.readInt(8)),this.localHeaderOffset===m.MAX_VALUE_32BITS&&(this.localHeaderOffset=N.readInt(8)),this.diskNumberStart===m.MAX_VALUE_32BITS&&(this.diskNumberStart=N.readInt(4))}},readExtraFields:function(N){var F,P,D,R=N.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});N.index+4<R;)F=N.readInt(2),P=N.readInt(2),D=N.readData(P),this.extraFields[F]={id:F,length:P,value:D};N.setIndex(R)},handleUTF8:function(){var N=T.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=b.utf8decode(this.fileName),this.fileCommentStr=b.utf8decode(this.fileComment);else{var F=this.findExtraFieldUnicodePath();if(F!==null)this.fileNameStr=F;else{var P=m.transformTo(N,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(P)}var D=this.findExtraFieldUnicodeComment();if(D!==null)this.fileCommentStr=D;else{var R=m.transformTo(N,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(R)}}},findExtraFieldUnicodePath:function(){var N=this.extraFields[28789];if(N){var F=g(N.value);return F.readInt(1)!==1||y(this.fileName)!==F.readInt(4)?null:b.utf8decode(F.readData(N.length-5))}return null},findExtraFieldUnicodeComment:function(){var N=this.extraFields[25461];if(N){var F=g(N.value);return F.readInt(1)!==1||y(this.fileComment)!==F.readInt(4)?null:b.utf8decode(F.readData(N.length-5))}return null}},A.exports=I},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(d,A,p){function g(F,P,D){this.name=F,this.dir=D.dir,this.date=D.date,this.comment=D.comment,this.unixPermissions=D.unixPermissions,this.dosPermissions=D.dosPermissions,this._data=P,this._dataBinary=D.binary,this.options={compression:D.compression,compressionOptions:D.compressionOptions}}var m=d("./stream/StreamHelper"),v=d("./stream/DataWorker"),y=d("./utf8"),b=d("./compressedObject"),_=d("./stream/GenericWorker");g.prototype={internalStream:function(F){var P=null,D="string";try{if(!F)throw new Error("No output type specified.");var R=(D=F.toLowerCase())==="string"||D==="text";D!=="binarystring"&&D!=="text"||(D="string"),P=this._decompressWorker();var E=!this._dataBinary;E&&!R&&(P=P.pipe(new y.Utf8EncodeWorker)),!E&&R&&(P=P.pipe(new y.Utf8DecodeWorker))}catch(L){(P=new _("error")).error(L)}return new m(P,D,"")},async:function(F,P){return this.internalStream(F).accumulate(P)},nodeStream:function(F,P){return this.internalStream(F||"nodebuffer").toNodejsStream(P)},_compressWorker:function(F,P){if(this._data instanceof b&&this._data.compression.magic===F.magic)return this._data.getCompressedWorker();var D=this._decompressWorker();return this._dataBinary||(D=D.pipe(new y.Utf8EncodeWorker)),b.createWorkerFrom(D,F,P)},_decompressWorker:function(){return this._data instanceof b?this._data.getContentWorker():this._data instanceof _?this._data:new v(this._data)}};for(var T=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],I=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},N=0;N<T.length;N++)g.prototype[T[N]]=I;A.exports=g},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(d,A,p){(function(g){var m,v,y=g.MutationObserver||g.WebKitMutationObserver;if(y){var b=0,_=new y(F),T=g.document.createTextNode("");_.observe(T,{characterData:!0}),m=function(){T.data=b=++b%2}}else if(g.setImmediate||g.MessageChannel===void 0)m="document"in g&&"onreadystatechange"in g.document.createElement("script")?function(){var P=g.document.createElement("script");P.onreadystatechange=function(){F(),P.onreadystatechange=null,P.parentNode.removeChild(P),P=null},g.document.documentElement.appendChild(P)}:function(){setTimeout(F,0)};else{var I=new g.MessageChannel;I.port1.onmessage=F,m=function(){I.port2.postMessage(0)}}var N=[];function F(){var P,D;v=!0;for(var R=N.length;R;){for(D=N,N=[],P=-1;++P<R;)D[P]();R=N.length}v=!1}A.exports=function(P){N.push(P)!==1||v||m()}}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(d,A,p){var g=d("immediate");function m(){}var v={},y=["REJECTED"],b=["FULFILLED"],_=["PENDING"];function T(R){if(typeof R!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,R!==m&&P(this,R)}function I(R,E,L){this.promise=R,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof L=="function"&&(this.onRejected=L,this.callRejected=this.otherCallRejected)}function N(R,E,L){g(function(){var k;try{k=E(L)}catch(w){return v.reject(R,w)}k===R?v.reject(R,new TypeError("Cannot resolve promise with itself")):v.resolve(R,k)})}function F(R){var E=R&&R.then;if(R&&(typeof R=="object"||typeof R=="function")&&typeof E=="function")return function(){E.apply(R,arguments)}}function P(R,E){var L=!1;function k(S){L||(L=!0,v.reject(R,S))}function w(S){L||(L=!0,v.resolve(R,S))}var C=D(function(){E(w,k)});C.status==="error"&&k(C.value)}function D(R,E){var L={};try{L.value=R(E),L.status="success"}catch(k){L.status="error",L.value=k}return L}(A.exports=T).prototype.finally=function(R){if(typeof R!="function")return this;var E=this.constructor;return this.then(function(L){return E.resolve(R()).then(function(){return L})},function(L){return E.resolve(R()).then(function(){throw L})})},T.prototype.catch=function(R){return this.then(null,R)},T.prototype.then=function(R,E){if(typeof R!="function"&&this.state===b||typeof E!="function"&&this.state===y)return this;var L=new this.constructor(m);return this.state!==_?N(L,this.state===b?R:E,this.outcome):this.queue.push(new I(L,R,E)),L},I.prototype.callFulfilled=function(R){v.resolve(this.promise,R)},I.prototype.otherCallFulfilled=function(R){N(this.promise,this.onFulfilled,R)},I.prototype.callRejected=function(R){v.reject(this.promise,R)},I.prototype.otherCallRejected=function(R){N(this.promise,this.onRejected,R)},v.resolve=function(R,E){var L=D(F,E);if(L.status==="error")return v.reject(R,L.value);var k=L.value;if(k)P(R,k);else{R.state=b,R.outcome=E;for(var w=-1,C=R.queue.length;++w<C;)R.queue[w].callFulfilled(E)}return R},v.reject=function(R,E){R.state=y,R.outcome=E;for(var L=-1,k=R.queue.length;++L<k;)R.queue[L].callRejected(E);return R},T.resolve=function(R){return R instanceof this?R:v.resolve(new this(m),R)},T.reject=function(R){var E=new this(m);return v.reject(E,R)},T.all=function(R){var E=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=R.length,k=!1;if(!L)return this.resolve([]);for(var w=new Array(L),C=0,S=-1,B=new this(m);++S<L;)O(R[S],S);return B;function O(V,M){E.resolve(V).then(function(U){w[M]=U,++C!==L||k||(k=!0,v.resolve(B,w))},function(U){k||(k=!0,v.reject(B,U))})}},T.race=function(R){if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=R.length,L=!1;if(!E)return this.resolve([]);for(var k,w=-1,C=new this(m);++w<E;)k=R[w],this.resolve(k).then(function(S){L||(L=!0,v.resolve(C,S))},function(S){L||(L=!0,v.reject(C,S))});return C}},{immediate:36}],38:[function(d,A,p){var g={};(0,d("./lib/utils/common").assign)(g,d("./lib/deflate"),d("./lib/inflate"),d("./lib/zlib/constants")),A.exports=g},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(d,A,p){var g=d("./zlib/deflate"),m=d("./utils/common"),v=d("./utils/strings"),y=d("./zlib/messages"),b=d("./zlib/zstream"),_=Object.prototype.toString;function T(N){if(!(this instanceof T))return new T(N);this.options=m.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},N||{});var F=this.options;F.raw&&0<F.windowBits?F.windowBits=-F.windowBits:F.gzip&&0<F.windowBits&&F.windowBits<16&&(F.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var P=g.deflateInit2(this.strm,F.level,F.method,F.windowBits,F.memLevel,F.strategy);if(P!==0)throw new Error(y[P]);if(F.header&&g.deflateSetHeader(this.strm,F.header),F.dictionary){var D;if(D=typeof F.dictionary=="string"?v.string2buf(F.dictionary):_.call(F.dictionary)==="[object ArrayBuffer]"?new Uint8Array(F.dictionary):F.dictionary,(P=g.deflateSetDictionary(this.strm,D))!==0)throw new Error(y[P]);this._dict_set=!0}}function I(N,F){var P=new T(F);if(P.push(N,!0),P.err)throw P.msg||y[P.err];return P.result}T.prototype.push=function(N,F){var P,D,R=this.strm,E=this.options.chunkSize;if(this.ended)return!1;D=F===~~F?F:F===!0?4:0,typeof N=="string"?R.input=v.string2buf(N):_.call(N)==="[object ArrayBuffer]"?R.input=new Uint8Array(N):R.input=N,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new m.Buf8(E),R.next_out=0,R.avail_out=E),(P=g.deflate(R,D))!==1&&P!==0)return this.onEnd(P),!(this.ended=!0);R.avail_out!==0&&(R.avail_in!==0||D!==4&&D!==2)||(this.options.to==="string"?this.onData(v.buf2binstring(m.shrinkBuf(R.output,R.next_out))):this.onData(m.shrinkBuf(R.output,R.next_out)))}while((0<R.avail_in||R.avail_out===0)&&P!==1);return D===4?(P=g.deflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===0):D!==2||(this.onEnd(0),!(R.avail_out=0))},T.prototype.onData=function(N){this.chunks.push(N)},T.prototype.onEnd=function(N){N===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg},p.Deflate=T,p.deflate=I,p.deflateRaw=function(N,F){return(F=F||{}).raw=!0,I(N,F)},p.gzip=function(N,F){return(F=F||{}).gzip=!0,I(N,F)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(d,A,p){var g=d("./zlib/inflate"),m=d("./utils/common"),v=d("./utils/strings"),y=d("./zlib/constants"),b=d("./zlib/messages"),_=d("./zlib/zstream"),T=d("./zlib/gzheader"),I=Object.prototype.toString;function N(P){if(!(this instanceof N))return new N(P);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},P||{});var D=this.options;D.raw&&0<=D.windowBits&&D.windowBits<16&&(D.windowBits=-D.windowBits,D.windowBits===0&&(D.windowBits=-15)),!(0<=D.windowBits&&D.windowBits<16)||P&&P.windowBits||(D.windowBits+=32),15<D.windowBits&&D.windowBits<48&&!(15&D.windowBits)&&(D.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var R=g.inflateInit2(this.strm,D.windowBits);if(R!==y.Z_OK)throw new Error(b[R]);this.header=new T,g.inflateGetHeader(this.strm,this.header)}function F(P,D){var R=new N(D);if(R.push(P,!0),R.err)throw R.msg||b[R.err];return R.result}N.prototype.push=function(P,D){var R,E,L,k,w,C,S=this.strm,B=this.options.chunkSize,O=this.options.dictionary,V=!1;if(this.ended)return!1;E=D===~~D?D:D===!0?y.Z_FINISH:y.Z_NO_FLUSH,typeof P=="string"?S.input=v.binstring2buf(P):I.call(P)==="[object ArrayBuffer]"?S.input=new Uint8Array(P):S.input=P,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new m.Buf8(B),S.next_out=0,S.avail_out=B),(R=g.inflate(S,y.Z_NO_FLUSH))===y.Z_NEED_DICT&&O&&(C=typeof O=="string"?v.string2buf(O):I.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,R=g.inflateSetDictionary(this.strm,C)),R===y.Z_BUF_ERROR&&V===!0&&(R=y.Z_OK,V=!1),R!==y.Z_STREAM_END&&R!==y.Z_OK)return this.onEnd(R),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&R!==y.Z_STREAM_END&&(S.avail_in!==0||E!==y.Z_FINISH&&E!==y.Z_SYNC_FLUSH)||(this.options.to==="string"?(L=v.utf8border(S.output,S.next_out),k=S.next_out-L,w=v.buf2string(S.output,L),S.next_out=k,S.avail_out=B-k,k&&m.arraySet(S.output,S.output,L,k,0),this.onData(w)):this.onData(m.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(V=!0)}while((0<S.avail_in||S.avail_out===0)&&R!==y.Z_STREAM_END);return R===y.Z_STREAM_END&&(E=y.Z_FINISH),E===y.Z_FINISH?(R=g.inflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===y.Z_OK):E!==y.Z_SYNC_FLUSH||(this.onEnd(y.Z_OK),!(S.avail_out=0))},N.prototype.onData=function(P){this.chunks.push(P)},N.prototype.onEnd=function(P){P===y.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=P,this.msg=this.strm.msg},p.Inflate=N,p.inflate=F,p.inflateRaw=function(P,D){return(D=D||{}).raw=!0,F(P,D)},p.ungzip=F},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(d,A,p){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";p.assign=function(y){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var _=b.shift();if(_){if(typeof _!="object")throw new TypeError(_+"must be non-object");for(var T in _)_.hasOwnProperty(T)&&(y[T]=_[T])}}return y},p.shrinkBuf=function(y,b){return y.length===b?y:y.subarray?y.subarray(0,b):(y.length=b,y)};var m={arraySet:function(y,b,_,T,I){if(b.subarray&&y.subarray)y.set(b.subarray(_,_+T),I);else for(var N=0;N<T;N++)y[I+N]=b[_+N]},flattenChunks:function(y){var b,_,T,I,N,F;for(b=T=0,_=y.length;b<_;b++)T+=y[b].length;for(F=new Uint8Array(T),b=I=0,_=y.length;b<_;b++)N=y[b],F.set(N,I),I+=N.length;return F}},v={arraySet:function(y,b,_,T,I){for(var N=0;N<T;N++)y[I+N]=b[_+N]},flattenChunks:function(y){return[].concat.apply([],y)}};p.setTyped=function(y){y?(p.Buf8=Uint8Array,p.Buf16=Uint16Array,p.Buf32=Int32Array,p.assign(p,m)):(p.Buf8=Array,p.Buf16=Array,p.Buf32=Array,p.assign(p,v))},p.setTyped(g)},{}],42:[function(d,A,p){var g=d("./common"),m=!0,v=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{v=!1}for(var y=new g.Buf8(256),b=0;b<256;b++)y[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;function _(T,I){if(I<65537&&(T.subarray&&v||!T.subarray&&m))return String.fromCharCode.apply(null,g.shrinkBuf(T,I));for(var N="",F=0;F<I;F++)N+=String.fromCharCode(T[F]);return N}y[254]=y[254]=1,p.string2buf=function(T){var I,N,F,P,D,R=T.length,E=0;for(P=0;P<R;P++)(64512&(N=T.charCodeAt(P)))==55296&&P+1<R&&(64512&(F=T.charCodeAt(P+1)))==56320&&(N=65536+(N-55296<<10)+(F-56320),P++),E+=N<128?1:N<2048?2:N<65536?3:4;for(I=new g.Buf8(E),P=D=0;D<E;P++)(64512&(N=T.charCodeAt(P)))==55296&&P+1<R&&(64512&(F=T.charCodeAt(P+1)))==56320&&(N=65536+(N-55296<<10)+(F-56320),P++),N<128?I[D++]=N:(N<2048?I[D++]=192|N>>>6:(N<65536?I[D++]=224|N>>>12:(I[D++]=240|N>>>18,I[D++]=128|N>>>12&63),I[D++]=128|N>>>6&63),I[D++]=128|63&N);return I},p.buf2binstring=function(T){return _(T,T.length)},p.binstring2buf=function(T){for(var I=new g.Buf8(T.length),N=0,F=I.length;N<F;N++)I[N]=T.charCodeAt(N);return I},p.buf2string=function(T,I){var N,F,P,D,R=I||T.length,E=new Array(2*R);for(N=F=0;N<R;)if((P=T[N++])<128)E[F++]=P;else if(4<(D=y[P]))E[F++]=65533,N+=D-1;else{for(P&=D===2?31:D===3?15:7;1<D&&N<R;)P=P<<6|63&T[N++],D--;1<D?E[F++]=65533:P<65536?E[F++]=P:(P-=65536,E[F++]=55296|P>>10&1023,E[F++]=56320|1023&P)}return _(E,F)},p.utf8border=function(T,I){var N;for((I=I||T.length)>T.length&&(I=T.length),N=I-1;0<=N&&(192&T[N])==128;)N--;return N<0||N===0?I:N+y[T[N]]>I?N:I}},{"./common":41}],43:[function(d,A,p){A.exports=function(g,m,v,y){for(var b=65535&g|0,_=g>>>16&65535|0,T=0;v!==0;){for(v-=T=2e3<v?2e3:v;_=_+(b=b+m[y++]|0)|0,--T;);b%=65521,_%=65521}return b|_<<16|0}},{}],44:[function(d,A,p){A.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(d,A,p){var g=function(){for(var m,v=[],y=0;y<256;y++){m=y;for(var b=0;b<8;b++)m=1&m?3988292384^m>>>1:m>>>1;v[y]=m}return v}();A.exports=function(m,v,y,b){var _=g,T=b+y;m^=-1;for(var I=b;I<T;I++)m=m>>>8^_[255&(m^v[I])];return-1^m}},{}],46:[function(d,A,p){var g,m=d("../utils/common"),v=d("./trees"),y=d("./adler32"),b=d("./crc32"),_=d("./messages"),T=-2,I=258,N=262,F=113;function P(j,X){return j.msg=_[X],X}function D(j){return(j<<1)-(4<j?9:0)}function R(j){for(var X=j.length;0<=--X;)j[X]=0}function E(j){var X=j.state,z=X.pending;z>j.avail_out&&(z=j.avail_out),z!==0&&(m.arraySet(j.output,X.pending_buf,X.pending_out,z,j.next_out),j.next_out+=z,X.pending_out+=z,j.total_out+=z,j.avail_out-=z,X.pending-=z,X.pending===0&&(X.pending_out=0))}function L(j,X){v._tr_flush_block(j,0<=j.block_start?j.block_start:-1,j.strstart-j.block_start,X),j.block_start=j.strstart,E(j.strm)}function k(j,X){j.pending_buf[j.pending++]=X}function w(j,X){j.pending_buf[j.pending++]=X>>>8&255,j.pending_buf[j.pending++]=255&X}function C(j,X){var z,H,K=j.max_chain_length,Z=j.strstart,ie=j.prev_length,ee=j.nice_match,ne=j.strstart>j.w_size-N?j.strstart-(j.w_size-N):0,te=j.window,le=j.w_mask,re=j.prev,de=j.strstart+I,ue=te[Z+ie-1],Fe=te[Z+ie];j.prev_length>=j.good_match&&(K>>=2),ee>j.lookahead&&(ee=j.lookahead);do if(te[(z=X)+ie]===Fe&&te[z+ie-1]===ue&&te[z]===te[Z]&&te[++z]===te[Z+1]){Z+=2,z++;do;while(te[++Z]===te[++z]&&te[++Z]===te[++z]&&te[++Z]===te[++z]&&te[++Z]===te[++z]&&te[++Z]===te[++z]&&te[++Z]===te[++z]&&te[++Z]===te[++z]&&te[++Z]===te[++z]&&Z<de);if(H=I-(de-Z),Z=de-I,ie<H){if(j.match_start=X,ee<=(ie=H))break;ue=te[Z+ie-1],Fe=te[Z+ie]}}while((X=re[X&le])>ne&&--K!=0);return ie<=j.lookahead?ie:j.lookahead}function S(j){var X,z,H,K,Z,ie,ee,ne,te,le,re=j.w_size;do{if(K=j.window_size-j.lookahead-j.strstart,j.strstart>=re+(re-N)){for(m.arraySet(j.window,j.window,re,re,0),j.match_start-=re,j.strstart-=re,j.block_start-=re,X=z=j.hash_size;H=j.head[--X],j.head[X]=re<=H?H-re:0,--z;);for(X=z=re;H=j.prev[--X],j.prev[X]=re<=H?H-re:0,--z;);K+=re}if(j.strm.avail_in===0)break;if(ie=j.strm,ee=j.window,ne=j.strstart+j.lookahead,le=void 0,(te=K)<(le=ie.avail_in)&&(le=te),z=le===0?0:(ie.avail_in-=le,m.arraySet(ee,ie.input,ie.next_in,le,ne),ie.state.wrap===1?ie.adler=y(ie.adler,ee,le,ne):ie.state.wrap===2&&(ie.adler=b(ie.adler,ee,le,ne)),ie.next_in+=le,ie.total_in+=le,le),j.lookahead+=z,j.lookahead+j.insert>=3)for(Z=j.strstart-j.insert,j.ins_h=j.window[Z],j.ins_h=(j.ins_h<<j.hash_shift^j.window[Z+1])&j.hash_mask;j.insert&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[Z+3-1])&j.hash_mask,j.prev[Z&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=Z,Z++,j.insert--,!(j.lookahead+j.insert<3)););}while(j.lookahead<N&&j.strm.avail_in!==0)}function B(j,X){for(var z,H;;){if(j.lookahead<N){if(S(j),j.lookahead<N&&X===0)return 1;if(j.lookahead===0)break}if(z=0,j.lookahead>=3&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+3-1])&j.hash_mask,z=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),z!==0&&j.strstart-z<=j.w_size-N&&(j.match_length=C(j,z)),j.match_length>=3)if(H=v._tr_tally(j,j.strstart-j.match_start,j.match_length-3),j.lookahead-=j.match_length,j.match_length<=j.max_lazy_match&&j.lookahead>=3){for(j.match_length--;j.strstart++,j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+3-1])&j.hash_mask,z=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart,--j.match_length!=0;);j.strstart++}else j.strstart+=j.match_length,j.match_length=0,j.ins_h=j.window[j.strstart],j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+1])&j.hash_mask;else H=v._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++;if(H&&(L(j,!1),j.strm.avail_out===0))return 1}return j.insert=j.strstart<2?j.strstart:2,X===4?(L(j,!0),j.strm.avail_out===0?3:4):j.last_lit&&(L(j,!1),j.strm.avail_out===0)?1:2}function O(j,X){for(var z,H,K;;){if(j.lookahead<N){if(S(j),j.lookahead<N&&X===0)return 1;if(j.lookahead===0)break}if(z=0,j.lookahead>=3&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+3-1])&j.hash_mask,z=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),j.prev_length=j.match_length,j.prev_match=j.match_start,j.match_length=2,z!==0&&j.prev_length<j.max_lazy_match&&j.strstart-z<=j.w_size-N&&(j.match_length=C(j,z),j.match_length<=5&&(j.strategy===1||j.match_length===3&&4096<j.strstart-j.match_start)&&(j.match_length=2)),j.prev_length>=3&&j.match_length<=j.prev_length){for(K=j.strstart+j.lookahead-3,H=v._tr_tally(j,j.strstart-1-j.prev_match,j.prev_length-3),j.lookahead-=j.prev_length-1,j.prev_length-=2;++j.strstart<=K&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+3-1])&j.hash_mask,z=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),--j.prev_length!=0;);if(j.match_available=0,j.match_length=2,j.strstart++,H&&(L(j,!1),j.strm.avail_out===0))return 1}else if(j.match_available){if((H=v._tr_tally(j,0,j.window[j.strstart-1]))&&L(j,!1),j.strstart++,j.lookahead--,j.strm.avail_out===0)return 1}else j.match_available=1,j.strstart++,j.lookahead--}return j.match_available&&(H=v._tr_tally(j,0,j.window[j.strstart-1]),j.match_available=0),j.insert=j.strstart<2?j.strstart:2,X===4?(L(j,!0),j.strm.avail_out===0?3:4):j.last_lit&&(L(j,!1),j.strm.avail_out===0)?1:2}function V(j,X,z,H,K){this.good_length=j,this.max_lazy=X,this.nice_length=z,this.max_chain=H,this.func=K}function M(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new m.Buf16(1146),this.dyn_dtree=new m.Buf16(122),this.bl_tree=new m.Buf16(78),R(this.dyn_ltree),R(this.dyn_dtree),R(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new m.Buf16(16),this.heap=new m.Buf16(573),R(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new m.Buf16(573),R(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function U(j){var X;return j&&j.state?(j.total_in=j.total_out=0,j.data_type=2,(X=j.state).pending=0,X.pending_out=0,X.wrap<0&&(X.wrap=-X.wrap),X.status=X.wrap?42:F,j.adler=X.wrap===2?0:1,X.last_flush=0,v._tr_init(X),0):P(j,T)}function Q(j){var X=U(j);return X===0&&function(z){z.window_size=2*z.w_size,R(z.head),z.max_lazy_match=g[z.level].max_lazy,z.good_match=g[z.level].good_length,z.nice_match=g[z.level].nice_length,z.max_chain_length=g[z.level].max_chain,z.strstart=0,z.block_start=0,z.lookahead=0,z.insert=0,z.match_length=z.prev_length=2,z.match_available=0,z.ins_h=0}(j.state),X}function W(j,X,z,H,K,Z){if(!j)return T;var ie=1;if(X===-1&&(X=6),H<0?(ie=0,H=-H):15<H&&(ie=2,H-=16),K<1||9<K||z!==8||H<8||15<H||X<0||9<X||Z<0||4<Z)return P(j,T);H===8&&(H=9);var ee=new M;return(j.state=ee).strm=j,ee.wrap=ie,ee.gzhead=null,ee.w_bits=H,ee.w_size=1<<ee.w_bits,ee.w_mask=ee.w_size-1,ee.hash_bits=K+7,ee.hash_size=1<<ee.hash_bits,ee.hash_mask=ee.hash_size-1,ee.hash_shift=~~((ee.hash_bits+3-1)/3),ee.window=new m.Buf8(2*ee.w_size),ee.head=new m.Buf16(ee.hash_size),ee.prev=new m.Buf16(ee.w_size),ee.lit_bufsize=1<<K+6,ee.pending_buf_size=4*ee.lit_bufsize,ee.pending_buf=new m.Buf8(ee.pending_buf_size),ee.d_buf=1*ee.lit_bufsize,ee.l_buf=3*ee.lit_bufsize,ee.level=X,ee.strategy=Z,ee.method=z,Q(j)}g=[new V(0,0,0,0,function(j,X){var z=65535;for(z>j.pending_buf_size-5&&(z=j.pending_buf_size-5);;){if(j.lookahead<=1){if(S(j),j.lookahead===0&&X===0)return 1;if(j.lookahead===0)break}j.strstart+=j.lookahead,j.lookahead=0;var H=j.block_start+z;if((j.strstart===0||j.strstart>=H)&&(j.lookahead=j.strstart-H,j.strstart=H,L(j,!1),j.strm.avail_out===0)||j.strstart-j.block_start>=j.w_size-N&&(L(j,!1),j.strm.avail_out===0))return 1}return j.insert=0,X===4?(L(j,!0),j.strm.avail_out===0?3:4):(j.strstart>j.block_start&&(L(j,!1),j.strm.avail_out),1)}),new V(4,4,8,4,B),new V(4,5,16,8,B),new V(4,6,32,32,B),new V(4,4,16,16,O),new V(8,16,32,32,O),new V(8,16,128,128,O),new V(8,32,128,256,O),new V(32,128,258,1024,O),new V(32,258,258,4096,O)],p.deflateInit=function(j,X){return W(j,X,8,15,8,0)},p.deflateInit2=W,p.deflateReset=Q,p.deflateResetKeep=U,p.deflateSetHeader=function(j,X){return j&&j.state?j.state.wrap!==2?T:(j.state.gzhead=X,0):T},p.deflate=function(j,X){var z,H,K,Z;if(!j||!j.state||5<X||X<0)return j?P(j,T):T;if(H=j.state,!j.output||!j.input&&j.avail_in!==0||H.status===666&&X!==4)return P(j,j.avail_out===0?-5:T);if(H.strm=j,z=H.last_flush,H.last_flush=X,H.status===42)if(H.wrap===2)j.adler=0,k(H,31),k(H,139),k(H,8),H.gzhead?(k(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(H.gzhead.extra?4:0)+(H.gzhead.name?8:0)+(H.gzhead.comment?16:0)),k(H,255&H.gzhead.time),k(H,H.gzhead.time>>8&255),k(H,H.gzhead.time>>16&255),k(H,H.gzhead.time>>24&255),k(H,H.level===9?2:2<=H.strategy||H.level<2?4:0),k(H,255&H.gzhead.os),H.gzhead.extra&&H.gzhead.extra.length&&(k(H,255&H.gzhead.extra.length),k(H,H.gzhead.extra.length>>8&255)),H.gzhead.hcrc&&(j.adler=b(j.adler,H.pending_buf,H.pending,0)),H.gzindex=0,H.status=69):(k(H,0),k(H,0),k(H,0),k(H,0),k(H,0),k(H,H.level===9?2:2<=H.strategy||H.level<2?4:0),k(H,3),H.status=F);else{var ie=8+(H.w_bits-8<<4)<<8;ie|=(2<=H.strategy||H.level<2?0:H.level<6?1:H.level===6?2:3)<<6,H.strstart!==0&&(ie|=32),ie+=31-ie%31,H.status=F,w(H,ie),H.strstart!==0&&(w(H,j.adler>>>16),w(H,65535&j.adler)),j.adler=1}if(H.status===69)if(H.gzhead.extra){for(K=H.pending;H.gzindex<(65535&H.gzhead.extra.length)&&(H.pending!==H.pending_buf_size||(H.gzhead.hcrc&&H.pending>K&&(j.adler=b(j.adler,H.pending_buf,H.pending-K,K)),E(j),K=H.pending,H.pending!==H.pending_buf_size));)k(H,255&H.gzhead.extra[H.gzindex]),H.gzindex++;H.gzhead.hcrc&&H.pending>K&&(j.adler=b(j.adler,H.pending_buf,H.pending-K,K)),H.gzindex===H.gzhead.extra.length&&(H.gzindex=0,H.status=73)}else H.status=73;if(H.status===73)if(H.gzhead.name){K=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>K&&(j.adler=b(j.adler,H.pending_buf,H.pending-K,K)),E(j),K=H.pending,H.pending===H.pending_buf_size)){Z=1;break}Z=H.gzindex<H.gzhead.name.length?255&H.gzhead.name.charCodeAt(H.gzindex++):0,k(H,Z)}while(Z!==0);H.gzhead.hcrc&&H.pending>K&&(j.adler=b(j.adler,H.pending_buf,H.pending-K,K)),Z===0&&(H.gzindex=0,H.status=91)}else H.status=91;if(H.status===91)if(H.gzhead.comment){K=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>K&&(j.adler=b(j.adler,H.pending_buf,H.pending-K,K)),E(j),K=H.pending,H.pending===H.pending_buf_size)){Z=1;break}Z=H.gzindex<H.gzhead.comment.length?255&H.gzhead.comment.charCodeAt(H.gzindex++):0,k(H,Z)}while(Z!==0);H.gzhead.hcrc&&H.pending>K&&(j.adler=b(j.adler,H.pending_buf,H.pending-K,K)),Z===0&&(H.status=103)}else H.status=103;if(H.status===103&&(H.gzhead.hcrc?(H.pending+2>H.pending_buf_size&&E(j),H.pending+2<=H.pending_buf_size&&(k(H,255&j.adler),k(H,j.adler>>8&255),j.adler=0,H.status=F)):H.status=F),H.pending!==0){if(E(j),j.avail_out===0)return H.last_flush=-1,0}else if(j.avail_in===0&&D(X)<=D(z)&&X!==4)return P(j,-5);if(H.status===666&&j.avail_in!==0)return P(j,-5);if(j.avail_in!==0||H.lookahead!==0||X!==0&&H.status!==666){var ee=H.strategy===2?function(ne,te){for(var le;;){if(ne.lookahead===0&&(S(ne),ne.lookahead===0)){if(te===0)return 1;break}if(ne.match_length=0,le=v._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++,le&&(L(ne,!1),ne.strm.avail_out===0))return 1}return ne.insert=0,te===4?(L(ne,!0),ne.strm.avail_out===0?3:4):ne.last_lit&&(L(ne,!1),ne.strm.avail_out===0)?1:2}(H,X):H.strategy===3?function(ne,te){for(var le,re,de,ue,Fe=ne.window;;){if(ne.lookahead<=I){if(S(ne),ne.lookahead<=I&&te===0)return 1;if(ne.lookahead===0)break}if(ne.match_length=0,ne.lookahead>=3&&0<ne.strstart&&(re=Fe[de=ne.strstart-1])===Fe[++de]&&re===Fe[++de]&&re===Fe[++de]){ue=ne.strstart+I;do;while(re===Fe[++de]&&re===Fe[++de]&&re===Fe[++de]&&re===Fe[++de]&&re===Fe[++de]&&re===Fe[++de]&&re===Fe[++de]&&re===Fe[++de]&&de<ue);ne.match_length=I-(ue-de),ne.match_length>ne.lookahead&&(ne.match_length=ne.lookahead)}if(ne.match_length>=3?(le=v._tr_tally(ne,1,ne.match_length-3),ne.lookahead-=ne.match_length,ne.strstart+=ne.match_length,ne.match_length=0):(le=v._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++),le&&(L(ne,!1),ne.strm.avail_out===0))return 1}return ne.insert=0,te===4?(L(ne,!0),ne.strm.avail_out===0?3:4):ne.last_lit&&(L(ne,!1),ne.strm.avail_out===0)?1:2}(H,X):g[H.level].func(H,X);if(ee!==3&&ee!==4||(H.status=666),ee===1||ee===3)return j.avail_out===0&&(H.last_flush=-1),0;if(ee===2&&(X===1?v._tr_align(H):X!==5&&(v._tr_stored_block(H,0,0,!1),X===3&&(R(H.head),H.lookahead===0&&(H.strstart=0,H.block_start=0,H.insert=0))),E(j),j.avail_out===0))return H.last_flush=-1,0}return X!==4?0:H.wrap<=0?1:(H.wrap===2?(k(H,255&j.adler),k(H,j.adler>>8&255),k(H,j.adler>>16&255),k(H,j.adler>>24&255),k(H,255&j.total_in),k(H,j.total_in>>8&255),k(H,j.total_in>>16&255),k(H,j.total_in>>24&255)):(w(H,j.adler>>>16),w(H,65535&j.adler)),E(j),0<H.wrap&&(H.wrap=-H.wrap),H.pending!==0?0:1)},p.deflateEnd=function(j){var X;return j&&j.state?(X=j.state.status)!==42&&X!==69&&X!==73&&X!==91&&X!==103&&X!==F&&X!==666?P(j,T):(j.state=null,X===F?P(j,-3):0):T},p.deflateSetDictionary=function(j,X){var z,H,K,Z,ie,ee,ne,te,le=X.length;if(!j||!j.state||(Z=(z=j.state).wrap)===2||Z===1&&z.status!==42||z.lookahead)return T;for(Z===1&&(j.adler=y(j.adler,X,le,0)),z.wrap=0,le>=z.w_size&&(Z===0&&(R(z.head),z.strstart=0,z.block_start=0,z.insert=0),te=new m.Buf8(z.w_size),m.arraySet(te,X,le-z.w_size,z.w_size,0),X=te,le=z.w_size),ie=j.avail_in,ee=j.next_in,ne=j.input,j.avail_in=le,j.next_in=0,j.input=X,S(z);z.lookahead>=3;){for(H=z.strstart,K=z.lookahead-2;z.ins_h=(z.ins_h<<z.hash_shift^z.window[H+3-1])&z.hash_mask,z.prev[H&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=H,H++,--K;);z.strstart=H,z.lookahead=2,S(z)}return z.strstart+=z.lookahead,z.block_start=z.strstart,z.insert=z.lookahead,z.lookahead=0,z.match_length=z.prev_length=2,z.match_available=0,j.next_in=ee,j.input=ne,j.avail_in=ie,z.wrap=Z,0},p.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(d,A,p){A.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(d,A,p){A.exports=function(g,m){var v,y,b,_,T,I,N,F,P,D,R,E,L,k,w,C,S,B,O,V,M,U,Q,W,j;v=g.state,y=g.next_in,W=g.input,b=y+(g.avail_in-5),_=g.next_out,j=g.output,T=_-(m-g.avail_out),I=_+(g.avail_out-257),N=v.dmax,F=v.wsize,P=v.whave,D=v.wnext,R=v.window,E=v.hold,L=v.bits,k=v.lencode,w=v.distcode,C=(1<<v.lenbits)-1,S=(1<<v.distbits)-1;e:do{L<15&&(E+=W[y++]<<L,L+=8,E+=W[y++]<<L,L+=8),B=k[E&C];t:for(;;){if(E>>>=O=B>>>24,L-=O,(O=B>>>16&255)==0)j[_++]=65535&B;else{if(!(16&O)){if(!(64&O)){B=k[(65535&B)+(E&(1<<O)-1)];continue t}if(32&O){v.mode=12;break e}g.msg="invalid literal/length code",v.mode=30;break e}V=65535&B,(O&=15)&&(L<O&&(E+=W[y++]<<L,L+=8),V+=E&(1<<O)-1,E>>>=O,L-=O),L<15&&(E+=W[y++]<<L,L+=8,E+=W[y++]<<L,L+=8),B=w[E&S];r:for(;;){if(E>>>=O=B>>>24,L-=O,!(16&(O=B>>>16&255))){if(!(64&O)){B=w[(65535&B)+(E&(1<<O)-1)];continue r}g.msg="invalid distance code",v.mode=30;break e}if(M=65535&B,L<(O&=15)&&(E+=W[y++]<<L,(L+=8)<O&&(E+=W[y++]<<L,L+=8)),N<(M+=E&(1<<O)-1)){g.msg="invalid distance too far back",v.mode=30;break e}if(E>>>=O,L-=O,(O=_-T)<M){if(P<(O=M-O)&&v.sane){g.msg="invalid distance too far back",v.mode=30;break e}if(Q=R,(U=0)===D){if(U+=F-O,O<V){for(V-=O;j[_++]=R[U++],--O;);U=_-M,Q=j}}else if(D<O){if(U+=F+D-O,(O-=D)<V){for(V-=O;j[_++]=R[U++],--O;);if(U=0,D<V){for(V-=O=D;j[_++]=R[U++],--O;);U=_-M,Q=j}}}else if(U+=D-O,O<V){for(V-=O;j[_++]=R[U++],--O;);U=_-M,Q=j}for(;2<V;)j[_++]=Q[U++],j[_++]=Q[U++],j[_++]=Q[U++],V-=3;V&&(j[_++]=Q[U++],1<V&&(j[_++]=Q[U++]))}else{for(U=_-M;j[_++]=j[U++],j[_++]=j[U++],j[_++]=j[U++],2<(V-=3););V&&(j[_++]=j[U++],1<V&&(j[_++]=j[U++]))}break}}break}}while(y<b&&_<I);y-=V=L>>3,E&=(1<<(L-=V<<3))-1,g.next_in=y,g.next_out=_,g.avail_in=y<b?b-y+5:5-(y-b),g.avail_out=_<I?I-_+257:257-(_-I),v.hold=E,v.bits=L}},{}],49:[function(d,A,p){var g=d("../utils/common"),m=d("./adler32"),v=d("./crc32"),y=d("./inffast"),b=d("./inftrees"),_=-2;function T(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function I(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new g.Buf16(320),this.work=new g.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function N(C){var S;return C&&C.state?(S=C.state,C.total_in=C.total_out=S.total=0,C.msg="",S.wrap&&(C.adler=1&S.wrap),S.mode=1,S.last=0,S.havedict=0,S.dmax=32768,S.head=null,S.hold=0,S.bits=0,S.lencode=S.lendyn=new g.Buf32(852),S.distcode=S.distdyn=new g.Buf32(592),S.sane=1,S.back=-1,0):_}function F(C){var S;return C&&C.state?((S=C.state).wsize=0,S.whave=0,S.wnext=0,N(C)):_}function P(C,S){var B,O;return C&&C.state?(O=C.state,S<0?(B=0,S=-S):(B=1+(S>>4),S<48&&(S&=15)),S&&(S<8||15<S)?_:(O.window!==null&&O.wbits!==S&&(O.window=null),O.wrap=B,O.wbits=S,F(C))):_}function D(C,S){var B,O;return C?(O=new I,(C.state=O).window=null,(B=P(C,S))!==0&&(C.state=null),B):_}var R,E,L=!0;function k(C){if(L){var S;for(R=new g.Buf32(512),E=new g.Buf32(32),S=0;S<144;)C.lens[S++]=8;for(;S<256;)C.lens[S++]=9;for(;S<280;)C.lens[S++]=7;for(;S<288;)C.lens[S++]=8;for(b(1,C.lens,0,288,R,0,C.work,{bits:9}),S=0;S<32;)C.lens[S++]=5;b(2,C.lens,0,32,E,0,C.work,{bits:5}),L=!1}C.lencode=R,C.lenbits=9,C.distcode=E,C.distbits=5}function w(C,S,B,O){var V,M=C.state;return M.window===null&&(M.wsize=1<<M.wbits,M.wnext=0,M.whave=0,M.window=new g.Buf8(M.wsize)),O>=M.wsize?(g.arraySet(M.window,S,B-M.wsize,M.wsize,0),M.wnext=0,M.whave=M.wsize):(O<(V=M.wsize-M.wnext)&&(V=O),g.arraySet(M.window,S,B-O,V,M.wnext),(O-=V)?(g.arraySet(M.window,S,B-O,O,0),M.wnext=O,M.whave=M.wsize):(M.wnext+=V,M.wnext===M.wsize&&(M.wnext=0),M.whave<M.wsize&&(M.whave+=V))),0}p.inflateReset=F,p.inflateReset2=P,p.inflateResetKeep=N,p.inflateInit=function(C){return D(C,15)},p.inflateInit2=D,p.inflate=function(C,S){var B,O,V,M,U,Q,W,j,X,z,H,K,Z,ie,ee,ne,te,le,re,de,ue,Fe,Se,De,ge=0,Be=new g.Buf8(4),Pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return _;(B=C.state).mode===12&&(B.mode=13),U=C.next_out,V=C.output,W=C.avail_out,M=C.next_in,O=C.input,Q=C.avail_in,j=B.hold,X=B.bits,z=Q,H=W,Fe=0;e:for(;;)switch(B.mode){case 1:if(B.wrap===0){B.mode=13;break}for(;X<16;){if(Q===0)break e;Q--,j+=O[M++]<<X,X+=8}if(2&B.wrap&&j===35615){Be[B.check=0]=255&j,Be[1]=j>>>8&255,B.check=v(B.check,Be,2,0),X=j=0,B.mode=2;break}if(B.flags=0,B.head&&(B.head.done=!1),!(1&B.wrap)||(((255&j)<<8)+(j>>8))%31){C.msg="incorrect header check",B.mode=30;break}if((15&j)!=8){C.msg="unknown compression method",B.mode=30;break}if(X-=4,ue=8+(15&(j>>>=4)),B.wbits===0)B.wbits=ue;else if(ue>B.wbits){C.msg="invalid window size",B.mode=30;break}B.dmax=1<<ue,C.adler=B.check=1,B.mode=512&j?10:12,X=j=0;break;case 2:for(;X<16;){if(Q===0)break e;Q--,j+=O[M++]<<X,X+=8}if(B.flags=j,(255&B.flags)!=8){C.msg="unknown compression method",B.mode=30;break}if(57344&B.flags){C.msg="unknown header flags set",B.mode=30;break}B.head&&(B.head.text=j>>8&1),512&B.flags&&(Be[0]=255&j,Be[1]=j>>>8&255,B.check=v(B.check,Be,2,0)),X=j=0,B.mode=3;case 3:for(;X<32;){if(Q===0)break e;Q--,j+=O[M++]<<X,X+=8}B.head&&(B.head.time=j),512&B.flags&&(Be[0]=255&j,Be[1]=j>>>8&255,Be[2]=j>>>16&255,Be[3]=j>>>24&255,B.check=v(B.check,Be,4,0)),X=j=0,B.mode=4;case 4:for(;X<16;){if(Q===0)break e;Q--,j+=O[M++]<<X,X+=8}B.head&&(B.head.xflags=255&j,B.head.os=j>>8),512&B.flags&&(Be[0]=255&j,Be[1]=j>>>8&255,B.check=v(B.check,Be,2,0)),X=j=0,B.mode=5;case 5:if(1024&B.flags){for(;X<16;){if(Q===0)break e;Q--,j+=O[M++]<<X,X+=8}B.length=j,B.head&&(B.head.extra_len=j),512&B.flags&&(Be[0]=255&j,Be[1]=j>>>8&255,B.check=v(B.check,Be,2,0)),X=j=0}else B.head&&(B.head.extra=null);B.mode=6;case 6:if(1024&B.flags&&(Q<(K=B.length)&&(K=Q),K&&(B.head&&(ue=B.head.extra_len-B.length,B.head.extra||(B.head.extra=new Array(B.head.extra_len)),g.arraySet(B.head.extra,O,M,K,ue)),512&B.flags&&(B.check=v(B.check,O,K,M)),Q-=K,M+=K,B.length-=K),B.length))break e;B.length=0,B.mode=7;case 7:if(2048&B.flags){if(Q===0)break e;for(K=0;ue=O[M+K++],B.head&&ue&&B.length<65536&&(B.head.name+=String.fromCharCode(ue)),ue&&K<Q;);if(512&B.flags&&(B.check=v(B.check,O,K,M)),Q-=K,M+=K,ue)break e}else B.head&&(B.head.name=null);B.length=0,B.mode=8;case 8:if(4096&B.flags){if(Q===0)break e;for(K=0;ue=O[M+K++],B.head&&ue&&B.length<65536&&(B.head.comment+=String.fromCharCode(ue)),ue&&K<Q;);if(512&B.flags&&(B.check=v(B.check,O,K,M)),Q-=K,M+=K,ue)break e}else B.head&&(B.head.comment=null);B.mode=9;case 9:if(512&B.flags){for(;X<16;){if(Q===0)break e;Q--,j+=O[M++]<<X,X+=8}if(j!==(65535&B.check)){C.msg="header crc mismatch",B.mode=30;break}X=j=0}B.head&&(B.head.hcrc=B.flags>>9&1,B.head.done=!0),C.adler=B.check=0,B.mode=12;break;case 10:for(;X<32;){if(Q===0)break e;Q--,j+=O[M++]<<X,X+=8}C.adler=B.check=T(j),X=j=0,B.mode=11;case 11:if(B.havedict===0)return C.next_out=U,C.avail_out=W,C.next_in=M,C.avail_in=Q,B.hold=j,B.bits=X,2;C.adler=B.check=1,B.mode=12;case 12:if(S===5||S===6)break e;case 13:if(B.last){j>>>=7&X,X-=7&X,B.mode=27;break}for(;X<3;){if(Q===0)break e;Q--,j+=O[M++]<<X,X+=8}switch(B.last=1&j,X-=1,3&(j>>>=1)){case 0:B.mode=14;break;case 1:if(k(B),B.mode=20,S!==6)break;j>>>=2,X-=2;break e;case 2:B.mode=17;break;case 3:C.msg="invalid block type",B.mode=30}j>>>=2,X-=2;break;case 14:for(j>>>=7&X,X-=7&X;X<32;){if(Q===0)break e;Q--,j+=O[M++]<<X,X+=8}if((65535&j)!=(j>>>16^65535)){C.msg="invalid stored block lengths",B.mode=30;break}if(B.length=65535&j,X=j=0,B.mode=15,S===6)break e;case 15:B.mode=16;case 16:if(K=B.length){if(Q<K&&(K=Q),W<K&&(K=W),K===0)break e;g.arraySet(V,O,M,K,U),Q-=K,M+=K,W-=K,U+=K,B.length-=K;break}B.mode=12;break;case 17:for(;X<14;){if(Q===0)break e;Q--,j+=O[M++]<<X,X+=8}if(B.nlen=257+(31&j),j>>>=5,X-=5,B.ndist=1+(31&j),j>>>=5,X-=5,B.ncode=4+(15&j),j>>>=4,X-=4,286<B.nlen||30<B.ndist){C.msg="too many length or distance symbols",B.mode=30;break}B.have=0,B.mode=18;case 18:for(;B.have<B.ncode;){for(;X<3;){if(Q===0)break e;Q--,j+=O[M++]<<X,X+=8}B.lens[Pe[B.have++]]=7&j,j>>>=3,X-=3}for(;B.have<19;)B.lens[Pe[B.have++]]=0;if(B.lencode=B.lendyn,B.lenbits=7,Se={bits:B.lenbits},Fe=b(0,B.lens,0,19,B.lencode,0,B.work,Se),B.lenbits=Se.bits,Fe){C.msg="invalid code lengths set",B.mode=30;break}B.have=0,B.mode=19;case 19:for(;B.have<B.nlen+B.ndist;){for(;ne=(ge=B.lencode[j&(1<<B.lenbits)-1])>>>16&255,te=65535&ge,!((ee=ge>>>24)<=X);){if(Q===0)break e;Q--,j+=O[M++]<<X,X+=8}if(te<16)j>>>=ee,X-=ee,B.lens[B.have++]=te;else{if(te===16){for(De=ee+2;X<De;){if(Q===0)break e;Q--,j+=O[M++]<<X,X+=8}if(j>>>=ee,X-=ee,B.have===0){C.msg="invalid bit length repeat",B.mode=30;break}ue=B.lens[B.have-1],K=3+(3&j),j>>>=2,X-=2}else if(te===17){for(De=ee+3;X<De;){if(Q===0)break e;Q--,j+=O[M++]<<X,X+=8}X-=ee,ue=0,K=3+(7&(j>>>=ee)),j>>>=3,X-=3}else{for(De=ee+7;X<De;){if(Q===0)break e;Q--,j+=O[M++]<<X,X+=8}X-=ee,ue=0,K=11+(127&(j>>>=ee)),j>>>=7,X-=7}if(B.have+K>B.nlen+B.ndist){C.msg="invalid bit length repeat",B.mode=30;break}for(;K--;)B.lens[B.have++]=ue}}if(B.mode===30)break;if(B.lens[256]===0){C.msg="invalid code -- missing end-of-block",B.mode=30;break}if(B.lenbits=9,Se={bits:B.lenbits},Fe=b(1,B.lens,0,B.nlen,B.lencode,0,B.work,Se),B.lenbits=Se.bits,Fe){C.msg="invalid literal/lengths set",B.mode=30;break}if(B.distbits=6,B.distcode=B.distdyn,Se={bits:B.distbits},Fe=b(2,B.lens,B.nlen,B.ndist,B.distcode,0,B.work,Se),B.distbits=Se.bits,Fe){C.msg="invalid distances set",B.mode=30;break}if(B.mode=20,S===6)break e;case 20:B.mode=21;case 21:if(6<=Q&&258<=W){C.next_out=U,C.avail_out=W,C.next_in=M,C.avail_in=Q,B.hold=j,B.bits=X,y(C,H),U=C.next_out,V=C.output,W=C.avail_out,M=C.next_in,O=C.input,Q=C.avail_in,j=B.hold,X=B.bits,B.mode===12&&(B.back=-1);break}for(B.back=0;ne=(ge=B.lencode[j&(1<<B.lenbits)-1])>>>16&255,te=65535&ge,!((ee=ge>>>24)<=X);){if(Q===0)break e;Q--,j+=O[M++]<<X,X+=8}if(ne&&!(240&ne)){for(le=ee,re=ne,de=te;ne=(ge=B.lencode[de+((j&(1<<le+re)-1)>>le)])>>>16&255,te=65535&ge,!(le+(ee=ge>>>24)<=X);){if(Q===0)break e;Q--,j+=O[M++]<<X,X+=8}j>>>=le,X-=le,B.back+=le}if(j>>>=ee,X-=ee,B.back+=ee,B.length=te,ne===0){B.mode=26;break}if(32&ne){B.back=-1,B.mode=12;break}if(64&ne){C.msg="invalid literal/length code",B.mode=30;break}B.extra=15&ne,B.mode=22;case 22:if(B.extra){for(De=B.extra;X<De;){if(Q===0)break e;Q--,j+=O[M++]<<X,X+=8}B.length+=j&(1<<B.extra)-1,j>>>=B.extra,X-=B.extra,B.back+=B.extra}B.was=B.length,B.mode=23;case 23:for(;ne=(ge=B.distcode[j&(1<<B.distbits)-1])>>>16&255,te=65535&ge,!((ee=ge>>>24)<=X);){if(Q===0)break e;Q--,j+=O[M++]<<X,X+=8}if(!(240&ne)){for(le=ee,re=ne,de=te;ne=(ge=B.distcode[de+((j&(1<<le+re)-1)>>le)])>>>16&255,te=65535&ge,!(le+(ee=ge>>>24)<=X);){if(Q===0)break e;Q--,j+=O[M++]<<X,X+=8}j>>>=le,X-=le,B.back+=le}if(j>>>=ee,X-=ee,B.back+=ee,64&ne){C.msg="invalid distance code",B.mode=30;break}B.offset=te,B.extra=15&ne,B.mode=24;case 24:if(B.extra){for(De=B.extra;X<De;){if(Q===0)break e;Q--,j+=O[M++]<<X,X+=8}B.offset+=j&(1<<B.extra)-1,j>>>=B.extra,X-=B.extra,B.back+=B.extra}if(B.offset>B.dmax){C.msg="invalid distance too far back",B.mode=30;break}B.mode=25;case 25:if(W===0)break e;if(K=H-W,B.offset>K){if((K=B.offset-K)>B.whave&&B.sane){C.msg="invalid distance too far back",B.mode=30;break}Z=K>B.wnext?(K-=B.wnext,B.wsize-K):B.wnext-K,K>B.length&&(K=B.length),ie=B.window}else ie=V,Z=U-B.offset,K=B.length;for(W<K&&(K=W),W-=K,B.length-=K;V[U++]=ie[Z++],--K;);B.length===0&&(B.mode=21);break;case 26:if(W===0)break e;V[U++]=B.length,W--,B.mode=21;break;case 27:if(B.wrap){for(;X<32;){if(Q===0)break e;Q--,j|=O[M++]<<X,X+=8}if(H-=W,C.total_out+=H,B.total+=H,H&&(C.adler=B.check=B.flags?v(B.check,V,H,U-H):m(B.check,V,H,U-H)),H=W,(B.flags?j:T(j))!==B.check){C.msg="incorrect data check",B.mode=30;break}X=j=0}B.mode=28;case 28:if(B.wrap&&B.flags){for(;X<32;){if(Q===0)break e;Q--,j+=O[M++]<<X,X+=8}if(j!==(4294967295&B.total)){C.msg="incorrect length check",B.mode=30;break}X=j=0}B.mode=29;case 29:Fe=1;break e;case 30:Fe=-3;break e;case 31:return-4;case 32:default:return _}return C.next_out=U,C.avail_out=W,C.next_in=M,C.avail_in=Q,B.hold=j,B.bits=X,(B.wsize||H!==C.avail_out&&B.mode<30&&(B.mode<27||S!==4))&&w(C,C.output,C.next_out,H-C.avail_out)?(B.mode=31,-4):(z-=C.avail_in,H-=C.avail_out,C.total_in+=z,C.total_out+=H,B.total+=H,B.wrap&&H&&(C.adler=B.check=B.flags?v(B.check,V,H,C.next_out-H):m(B.check,V,H,C.next_out-H)),C.data_type=B.bits+(B.last?64:0)+(B.mode===12?128:0)+(B.mode===20||B.mode===15?256:0),(z==0&&H===0||S===4)&&Fe===0&&(Fe=-5),Fe)},p.inflateEnd=function(C){if(!C||!C.state)return _;var S=C.state;return S.window&&(S.window=null),C.state=null,0},p.inflateGetHeader=function(C,S){var B;return C&&C.state&&2&(B=C.state).wrap?((B.head=S).done=!1,0):_},p.inflateSetDictionary=function(C,S){var B,O=S.length;return C&&C.state?(B=C.state).wrap!==0&&B.mode!==11?_:B.mode===11&&m(1,S,O,0)!==B.check?-3:w(C,S,O,O)?(B.mode=31,-4):(B.havedict=1,0):_},p.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(d,A,p){var g=d("../utils/common"),m=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],y=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],b=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];A.exports=function(_,T,I,N,F,P,D,R){var E,L,k,w,C,S,B,O,V,M=R.bits,U=0,Q=0,W=0,j=0,X=0,z=0,H=0,K=0,Z=0,ie=0,ee=null,ne=0,te=new g.Buf16(16),le=new g.Buf16(16),re=null,de=0;for(U=0;U<=15;U++)te[U]=0;for(Q=0;Q<N;Q++)te[T[I+Q]]++;for(X=M,j=15;1<=j&&te[j]===0;j--);if(j<X&&(X=j),j===0)return F[P++]=20971520,F[P++]=20971520,R.bits=1,0;for(W=1;W<j&&te[W]===0;W++);for(X<W&&(X=W),U=K=1;U<=15;U++)if(K<<=1,(K-=te[U])<0)return-1;if(0<K&&(_===0||j!==1))return-1;for(le[1]=0,U=1;U<15;U++)le[U+1]=le[U]+te[U];for(Q=0;Q<N;Q++)T[I+Q]!==0&&(D[le[T[I+Q]]++]=Q);if(S=_===0?(ee=re=D,19):_===1?(ee=m,ne-=257,re=v,de-=257,256):(ee=y,re=b,-1),U=W,C=P,H=Q=ie=0,k=-1,w=(Z=1<<(z=X))-1,_===1&&852<Z||_===2&&592<Z)return 1;for(;;){for(B=U-H,V=D[Q]<S?(O=0,D[Q]):D[Q]>S?(O=re[de+D[Q]],ee[ne+D[Q]]):(O=96,0),E=1<<U-H,W=L=1<<z;F[C+(ie>>H)+(L-=E)]=B<<24|O<<16|V|0,L!==0;);for(E=1<<U-1;ie&E;)E>>=1;if(E!==0?(ie&=E-1,ie+=E):ie=0,Q++,--te[U]==0){if(U===j)break;U=T[I+D[Q]]}if(X<U&&(ie&w)!==k){for(H===0&&(H=X),C+=W,K=1<<(z=U-H);z+H<j&&!((K-=te[z+H])<=0);)z++,K<<=1;if(Z+=1<<z,_===1&&852<Z||_===2&&592<Z)return 1;F[k=ie&w]=X<<24|z<<16|C-P|0}}return ie!==0&&(F[C+ie]=U-H<<24|64<<16|0),R.bits=X,0}},{"../utils/common":41}],51:[function(d,A,p){A.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(d,A,p){var g=d("../utils/common");function m(re){for(var de=re.length;0<=--de;)re[de]=0}var v=256,y=286,b=30,_=15,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=new Array(576);m(P);var D=new Array(60);m(D);var R=new Array(512);m(R);var E=new Array(256);m(E);var L=new Array(29);m(L);var k,w,C,S=new Array(b);function B(re,de,ue,Fe,Se){this.static_tree=re,this.extra_bits=de,this.extra_base=ue,this.elems=Fe,this.max_length=Se,this.has_stree=re&&re.length}function O(re,de){this.dyn_tree=re,this.max_code=0,this.stat_desc=de}function V(re){return re<256?R[re]:R[256+(re>>>7)]}function M(re,de){re.pending_buf[re.pending++]=255&de,re.pending_buf[re.pending++]=de>>>8&255}function U(re,de,ue){re.bi_valid>16-ue?(re.bi_buf|=de<<re.bi_valid&65535,M(re,re.bi_buf),re.bi_buf=de>>16-re.bi_valid,re.bi_valid+=ue-16):(re.bi_buf|=de<<re.bi_valid&65535,re.bi_valid+=ue)}function Q(re,de,ue){U(re,ue[2*de],ue[2*de+1])}function W(re,de){for(var ue=0;ue|=1&re,re>>>=1,ue<<=1,0<--de;);return ue>>>1}function j(re,de,ue){var Fe,Se,De=new Array(16),ge=0;for(Fe=1;Fe<=_;Fe++)De[Fe]=ge=ge+ue[Fe-1]<<1;for(Se=0;Se<=de;Se++){var Be=re[2*Se+1];Be!==0&&(re[2*Se]=W(De[Be]++,Be))}}function X(re){var de;for(de=0;de<y;de++)re.dyn_ltree[2*de]=0;for(de=0;de<b;de++)re.dyn_dtree[2*de]=0;for(de=0;de<19;de++)re.bl_tree[2*de]=0;re.dyn_ltree[512]=1,re.opt_len=re.static_len=0,re.last_lit=re.matches=0}function z(re){8<re.bi_valid?M(re,re.bi_buf):0<re.bi_valid&&(re.pending_buf[re.pending++]=re.bi_buf),re.bi_buf=0,re.bi_valid=0}function H(re,de,ue,Fe){var Se=2*de,De=2*ue;return re[Se]<re[De]||re[Se]===re[De]&&Fe[de]<=Fe[ue]}function K(re,de,ue){for(var Fe=re.heap[ue],Se=ue<<1;Se<=re.heap_len&&(Se<re.heap_len&&H(de,re.heap[Se+1],re.heap[Se],re.depth)&&Se++,!H(de,Fe,re.heap[Se],re.depth));)re.heap[ue]=re.heap[Se],ue=Se,Se<<=1;re.heap[ue]=Fe}function Z(re,de,ue){var Fe,Se,De,ge,Be=0;if(re.last_lit!==0)for(;Fe=re.pending_buf[re.d_buf+2*Be]<<8|re.pending_buf[re.d_buf+2*Be+1],Se=re.pending_buf[re.l_buf+Be],Be++,Fe===0?Q(re,Se,de):(Q(re,(De=E[Se])+v+1,de),(ge=T[De])!==0&&U(re,Se-=L[De],ge),Q(re,De=V(--Fe),ue),(ge=I[De])!==0&&U(re,Fe-=S[De],ge)),Be<re.last_lit;);Q(re,256,de)}function ie(re,de){var ue,Fe,Se,De=de.dyn_tree,ge=de.stat_desc.static_tree,Be=de.stat_desc.has_stree,Pe=de.stat_desc.elems,st=-1;for(re.heap_len=0,re.heap_max=573,ue=0;ue<Pe;ue++)De[2*ue]!==0?(re.heap[++re.heap_len]=st=ue,re.depth[ue]=0):De[2*ue+1]=0;for(;re.heap_len<2;)De[2*(Se=re.heap[++re.heap_len]=st<2?++st:0)]=1,re.depth[Se]=0,re.opt_len--,Be&&(re.static_len-=ge[2*Se+1]);for(de.max_code=st,ue=re.heap_len>>1;1<=ue;ue--)K(re,De,ue);for(Se=Pe;ue=re.heap[1],re.heap[1]=re.heap[re.heap_len--],K(re,De,1),Fe=re.heap[1],re.heap[--re.heap_max]=ue,re.heap[--re.heap_max]=Fe,De[2*Se]=De[2*ue]+De[2*Fe],re.depth[Se]=(re.depth[ue]>=re.depth[Fe]?re.depth[ue]:re.depth[Fe])+1,De[2*ue+1]=De[2*Fe+1]=Se,re.heap[1]=Se++,K(re,De,1),2<=re.heap_len;);re.heap[--re.heap_max]=re.heap[1],function(gt,we){var Oe,at,Ve,Qe,Ke,Ue,We=we.dyn_tree,yt=we.max_code,Ne=we.stat_desc.static_tree,et=we.stat_desc.has_stree,ft=we.stat_desc.extra_bits,lt=we.stat_desc.extra_base,St=we.stat_desc.max_length,ut=0;for(Qe=0;Qe<=_;Qe++)gt.bl_count[Qe]=0;for(We[2*gt.heap[gt.heap_max]+1]=0,Oe=gt.heap_max+1;Oe<573;Oe++)St<(Qe=We[2*We[2*(at=gt.heap[Oe])+1]+1]+1)&&(Qe=St,ut++),We[2*at+1]=Qe,yt<at||(gt.bl_count[Qe]++,Ke=0,lt<=at&&(Ke=ft[at-lt]),Ue=We[2*at],gt.opt_len+=Ue*(Qe+Ke),et&&(gt.static_len+=Ue*(Ne[2*at+1]+Ke)));if(ut!==0){do{for(Qe=St-1;gt.bl_count[Qe]===0;)Qe--;gt.bl_count[Qe]--,gt.bl_count[Qe+1]+=2,gt.bl_count[St]--,ut-=2}while(0<ut);for(Qe=St;Qe!==0;Qe--)for(at=gt.bl_count[Qe];at!==0;)yt<(Ve=gt.heap[--Oe])||(We[2*Ve+1]!==Qe&&(gt.opt_len+=(Qe-We[2*Ve+1])*We[2*Ve],We[2*Ve+1]=Qe),at--)}}(re,de),j(De,st,re.bl_count)}function ee(re,de,ue){var Fe,Se,De=-1,ge=de[1],Be=0,Pe=7,st=4;for(ge===0&&(Pe=138,st=3),de[2*(ue+1)+1]=65535,Fe=0;Fe<=ue;Fe++)Se=ge,ge=de[2*(Fe+1)+1],++Be<Pe&&Se===ge||(Be<st?re.bl_tree[2*Se]+=Be:Se!==0?(Se!==De&&re.bl_tree[2*Se]++,re.bl_tree[32]++):Be<=10?re.bl_tree[34]++:re.bl_tree[36]++,De=Se,st=(Be=0)===ge?(Pe=138,3):Se===ge?(Pe=6,3):(Pe=7,4))}function ne(re,de,ue){var Fe,Se,De=-1,ge=de[1],Be=0,Pe=7,st=4;for(ge===0&&(Pe=138,st=3),Fe=0;Fe<=ue;Fe++)if(Se=ge,ge=de[2*(Fe+1)+1],!(++Be<Pe&&Se===ge)){if(Be<st)for(;Q(re,Se,re.bl_tree),--Be!=0;);else Se!==0?(Se!==De&&(Q(re,Se,re.bl_tree),Be--),Q(re,16,re.bl_tree),U(re,Be-3,2)):Be<=10?(Q(re,17,re.bl_tree),U(re,Be-3,3)):(Q(re,18,re.bl_tree),U(re,Be-11,7));De=Se,st=(Be=0)===ge?(Pe=138,3):Se===ge?(Pe=6,3):(Pe=7,4)}}m(S);var te=!1;function le(re,de,ue,Fe){U(re,0+(Fe?1:0),3),function(Se,De,ge,Be){z(Se),M(Se,ge),M(Se,~ge),g.arraySet(Se.pending_buf,Se.window,De,ge,Se.pending),Se.pending+=ge}(re,de,ue)}p._tr_init=function(re){te||(function(){var de,ue,Fe,Se,De,ge=new Array(16);for(Se=Fe=0;Se<28;Se++)for(L[Se]=Fe,de=0;de<1<<T[Se];de++)E[Fe++]=Se;for(E[Fe-1]=Se,Se=De=0;Se<16;Se++)for(S[Se]=De,de=0;de<1<<I[Se];de++)R[De++]=Se;for(De>>=7;Se<b;Se++)for(S[Se]=De<<7,de=0;de<1<<I[Se]-7;de++)R[256+De++]=Se;for(ue=0;ue<=_;ue++)ge[ue]=0;for(de=0;de<=143;)P[2*de+1]=8,de++,ge[8]++;for(;de<=255;)P[2*de+1]=9,de++,ge[9]++;for(;de<=279;)P[2*de+1]=7,de++,ge[7]++;for(;de<=287;)P[2*de+1]=8,de++,ge[8]++;for(j(P,287,ge),de=0;de<b;de++)D[2*de+1]=5,D[2*de]=W(de,5);k=new B(P,T,257,y,_),w=new B(D,I,0,b,_),C=new B(new Array(0),N,0,19,7)}(),te=!0),re.l_desc=new O(re.dyn_ltree,k),re.d_desc=new O(re.dyn_dtree,w),re.bl_desc=new O(re.bl_tree,C),re.bi_buf=0,re.bi_valid=0,X(re)},p._tr_stored_block=le,p._tr_flush_block=function(re,de,ue,Fe){var Se,De,ge=0;0<re.level?(re.strm.data_type===2&&(re.strm.data_type=function(Be){var Pe,st=4093624447;for(Pe=0;Pe<=31;Pe++,st>>>=1)if(1&st&&Be.dyn_ltree[2*Pe]!==0)return 0;if(Be.dyn_ltree[18]!==0||Be.dyn_ltree[20]!==0||Be.dyn_ltree[26]!==0)return 1;for(Pe=32;Pe<v;Pe++)if(Be.dyn_ltree[2*Pe]!==0)return 1;return 0}(re)),ie(re,re.l_desc),ie(re,re.d_desc),ge=function(Be){var Pe;for(ee(Be,Be.dyn_ltree,Be.l_desc.max_code),ee(Be,Be.dyn_dtree,Be.d_desc.max_code),ie(Be,Be.bl_desc),Pe=18;3<=Pe&&Be.bl_tree[2*F[Pe]+1]===0;Pe--);return Be.opt_len+=3*(Pe+1)+5+5+4,Pe}(re),Se=re.opt_len+3+7>>>3,(De=re.static_len+3+7>>>3)<=Se&&(Se=De)):Se=De=ue+5,ue+4<=Se&&de!==-1?le(re,de,ue,Fe):re.strategy===4||De===Se?(U(re,2+(Fe?1:0),3),Z(re,P,D)):(U(re,4+(Fe?1:0),3),function(Be,Pe,st,gt){var we;for(U(Be,Pe-257,5),U(Be,st-1,5),U(Be,gt-4,4),we=0;we<gt;we++)U(Be,Be.bl_tree[2*F[we]+1],3);ne(Be,Be.dyn_ltree,Pe-1),ne(Be,Be.dyn_dtree,st-1)}(re,re.l_desc.max_code+1,re.d_desc.max_code+1,ge+1),Z(re,re.dyn_ltree,re.dyn_dtree)),X(re),Fe&&z(re)},p._tr_tally=function(re,de,ue){return re.pending_buf[re.d_buf+2*re.last_lit]=de>>>8&255,re.pending_buf[re.d_buf+2*re.last_lit+1]=255&de,re.pending_buf[re.l_buf+re.last_lit]=255&ue,re.last_lit++,de===0?re.dyn_ltree[2*ue]++:(re.matches++,de--,re.dyn_ltree[2*(E[ue]+v+1)]++,re.dyn_dtree[2*V(de)]++),re.last_lit===re.lit_bufsize-1},p._tr_align=function(re){U(re,2,3),Q(re,256,P),function(de){de.bi_valid===16?(M(de,de.bi_buf),de.bi_buf=0,de.bi_valid=0):8<=de.bi_valid&&(de.pending_buf[de.pending++]=255&de.bi_buf,de.bi_buf>>=8,de.bi_valid-=8)}(re)}},{"../utils/common":41}],53:[function(d,A,p){A.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(d,A,p){(function(g){(function(m,v){if(!m.setImmediate){var y,b,_,T,I=1,N={},F=!1,P=m.document,D=Object.getPrototypeOf&&Object.getPrototypeOf(m);D=D&&D.setTimeout?D:m,y={}.toString.call(m.process)==="[object process]"?function(k){a.nextTick(function(){E(k)})}:function(){if(m.postMessage&&!m.importScripts){var k=!0,w=m.onmessage;return m.onmessage=function(){k=!1},m.postMessage("","*"),m.onmessage=w,k}}()?(T="setImmediate$"+Math.random()+"$",m.addEventListener?m.addEventListener("message",L,!1):m.attachEvent("onmessage",L),function(k){m.postMessage(T+k,"*")}):m.MessageChannel?((_=new MessageChannel).port1.onmessage=function(k){E(k.data)},function(k){_.port2.postMessage(k)}):P&&"onreadystatechange"in P.createElement("script")?(b=P.documentElement,function(k){var w=P.createElement("script");w.onreadystatechange=function(){E(k),w.onreadystatechange=null,b.removeChild(w),w=null},b.appendChild(w)}):function(k){setTimeout(E,0,k)},D.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var w=new Array(arguments.length-1),C=0;C<w.length;C++)w[C]=arguments[C+1];var S={callback:k,args:w};return N[I]=S,y(I),I++},D.clearImmediate=R}function R(k){delete N[k]}function E(k){if(F)setTimeout(E,0,k);else{var w=N[k];if(w){F=!0;try{(function(C){var S=C.callback,B=C.args;switch(B.length){case 0:S();break;case 1:S(B[0]);break;case 2:S(B[0],B[1]);break;case 3:S(B[0],B[1],B[2]);break;default:S.apply(void 0,B)}})(w)}finally{R(k),F=!1}}}}function L(k){k.source===m&&typeof k.data=="string"&&k.data.indexOf(T)===0&&E(+k.data.slice(T.length))}})(typeof self>"u"?g===void 0?this:g:self)}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,e("_process"),typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,n,i){(function(a){(function(){var s=/[\\^$.*+?()[\]{}|]/g,o=RegExp(s.source),l=typeof a=="object"&&a&&a.Object===Object&&a,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),f=Object.prototype.toString,h=c.Symbol,d=h?h.prototype:void 0,A=d?d.toString:void 0;function p(g){if(typeof g=="string")return g;if(function(v){return typeof v=="symbol"||function(y){return!!y&&typeof y=="object"}(v)&&f.call(v)=="[object Symbol]"}(g))return A?A.call(g):"";var m=g+"";return m=="0"&&1/g==-1/0?"-0":m}n.exports=function(g){var m;return(g=(m=g)==null?"":p(m))&&o.test(g)?g.replace(s,"\\$&"):g}}).call(this)}).call(this,typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,n,i){(function(a){(function(){var s="[object Arguments]",o="[object Map]",l="[object Object]",u="[object Set]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/,h=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,A=/\\(\\)?/g,p=/^\[object .+?Constructor\]$/,g=/^(?:0|[1-9]\d*)$/,m={};m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m[s]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object Boolean]"]=m["[object DataView]"]=m["[object Date]"]=m["[object Error]"]=m["[object Function]"]=m[o]=m["[object Number]"]=m[l]=m["[object RegExp]"]=m[u]=m["[object String]"]=m["[object WeakMap]"]=!1;var v=typeof a=="object"&&a&&a.Object===Object&&a,y=typeof self=="object"&&self&&self.Object===Object&&self,b=v||y||Function("return this")(),_=typeof i=="object"&&i&&!i.nodeType&&i,T=_&&typeof n=="object"&&n&&!n.nodeType&&n,I=T&&T.exports===_&&v.process,N=function(){try{return I&&I.binding("util")}catch{}}(),F=N&&N.isTypedArray;function P(Ae,Re,it,bt){for(var Pt=-1,Mt=Ae?Ae.length:0;++Pt<Mt;){var Gt=Ae[Pt];Re(bt,Gt,it(Gt),Ae)}return bt}function D(Ae,Re){for(var it=-1,bt=Ae?Ae.length:0;++it<bt;)if(Re(Ae[it],it,Ae))return!0;return!1}function R(Ae){var Re=!1;if(Ae!=null&&typeof Ae.toString!="function")try{Re=!!(Ae+"")}catch{}return Re}function E(Ae){var Re=-1,it=Array(Ae.size);return Ae.forEach(function(bt,Pt){it[++Re]=[Pt,bt]}),it}function L(Ae){var Re=-1,it=Array(Ae.size);return Ae.forEach(function(bt){it[++Re]=bt}),it}var k,w,C,S=Array.prototype,B=Function.prototype,O=Object.prototype,V=b["__core-js_shared__"],M=(k=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"",U=B.toString,Q=O.hasOwnProperty,W=O.toString,j=RegExp("^"+U.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),X=b.Symbol,z=b.Uint8Array,H=O.propertyIsEnumerable,K=S.splice,Z=(w=Object.keys,C=Object,function(Ae){return w(C(Ae))}),ie=_t(b,"DataView"),ee=_t(b,"Map"),ne=_t(b,"Promise"),te=_t(b,"Set"),le=_t(b,"WeakMap"),re=_t(Object,"create"),de=Ye(ie),ue=Ye(ee),Fe=Ye(ne),Se=Ye(te),De=Ye(le),ge=X?X.prototype:void 0,Be=ge?ge.valueOf:void 0,Pe=ge?ge.toString:void 0;function st(Ae){var Re=-1,it=Ae?Ae.length:0;for(this.clear();++Re<it;){var bt=Ae[Re];this.set(bt[0],bt[1])}}function gt(Ae){var Re=-1,it=Ae?Ae.length:0;for(this.clear();++Re<it;){var bt=Ae[Re];this.set(bt[0],bt[1])}}function we(Ae){var Re=-1,it=Ae?Ae.length:0;for(this.clear();++Re<it;){var bt=Ae[Re];this.set(bt[0],bt[1])}}function Oe(Ae){var Re=-1,it=Ae?Ae.length:0;for(this.__data__=new we;++Re<it;)this.add(Ae[Re])}function at(Ae){this.__data__=new gt(Ae)}function Ve(Ae,Re){var it=xe(Ae)||me(Ae)?function(Gt,jr){for(var Pr=-1,Rr=Array(Gt);++Pr<Gt;)Rr[Pr]=jr(Pr);return Rr}(Ae.length,String):[],bt=it.length,Pt=!!bt;for(var Mt in Ae)!Q.call(Ae,Mt)||Pt&&(Mt=="length"||Tr(Mt,bt))||it.push(Mt);return it}function Qe(Ae,Re){for(var it=Ae.length;it--;)if(he(Ae[it][0],Re))return it;return-1}function Ke(Ae,Re,it,bt){return We(Ae,function(Pt,Mt,Gt){Re(bt,Pt,it(Pt),Gt)}),bt}st.prototype.clear=function(){this.__data__=re?re(null):{}},st.prototype.delete=function(Ae){return this.has(Ae)&&delete this.__data__[Ae]},st.prototype.get=function(Ae){var Re=this.__data__;if(re){var it=Re[Ae];return it==="__lodash_hash_undefined__"?void 0:it}return Q.call(Re,Ae)?Re[Ae]:void 0},st.prototype.has=function(Ae){var Re=this.__data__;return re?Re[Ae]!==void 0:Q.call(Re,Ae)},st.prototype.set=function(Ae,Re){return this.__data__[Ae]=re&&Re===void 0?"__lodash_hash_undefined__":Re,this},gt.prototype.clear=function(){this.__data__=[]},gt.prototype.delete=function(Ae){var Re=this.__data__,it=Qe(Re,Ae);return!(it<0)&&(it==Re.length-1?Re.pop():K.call(Re,it,1),!0)},gt.prototype.get=function(Ae){var Re=this.__data__,it=Qe(Re,Ae);return it<0?void 0:Re[it][1]},gt.prototype.has=function(Ae){return Qe(this.__data__,Ae)>-1},gt.prototype.set=function(Ae,Re){var it=this.__data__,bt=Qe(it,Ae);return bt<0?it.push([Ae,Re]):it[bt][1]=Re,this},we.prototype.clear=function(){this.__data__={hash:new st,map:new(ee||gt),string:new st}},we.prototype.delete=function(Ae){return zt(this,Ae).delete(Ae)},we.prototype.get=function(Ae){return zt(this,Ae).get(Ae)},we.prototype.has=function(Ae){return zt(this,Ae).has(Ae)},we.prototype.set=function(Ae,Re){return zt(this,Ae).set(Ae,Re),this},Oe.prototype.add=Oe.prototype.push=function(Ae){return this.__data__.set(Ae,"__lodash_hash_undefined__"),this},Oe.prototype.has=function(Ae){return this.__data__.has(Ae)},at.prototype.clear=function(){this.__data__=new gt},at.prototype.delete=function(Ae){return this.__data__.delete(Ae)},at.prototype.get=function(Ae){return this.__data__.get(Ae)},at.prototype.has=function(Ae){return this.__data__.has(Ae)},at.prototype.set=function(Ae,Re){var it=this.__data__;if(it instanceof gt){var bt=it.__data__;if(!ee||bt.length<199)return bt.push([Ae,Re]),this;it=this.__data__=new we(bt)}return it.set(Ae,Re),this};var Ue,We=(Ue=function(Ae,Re){return Ae&&yt(Ae,Re,Bt)},function(Ae,Re){if(Ae==null)return Ae;if(!be(Ae))return Ue(Ae,Re);for(var it=Ae.length,bt=-1,Pt=Object(Ae);++bt<it&&Re(Pt[bt],bt,Pt)!==!1;);return Ae}),yt=function(Ae){return function(Re,it,bt){for(var Pt=-1,Mt=Object(Re),Gt=bt(Re),jr=Gt.length;jr--;){var Pr=Gt[++Pt];if(it(Mt[Pr],Pr,Mt)===!1)break}return Re}}();function Ne(Ae,Re){for(var it=0,bt=(Re=It(Re,Ae)?[Re]:vt(Re)).length;Ae!=null&&it<bt;)Ae=Ae[je(Re[it++])];return it&&it==bt?Ae:void 0}function et(Ae,Re){return Ae!=null&&Re in Object(Ae)}function ft(Ae,Re,it,bt,Pt){return Ae===Re||(Ae==null||Re==null||!$e(Ae)&&!nt(Re)?Ae!=Ae&&Re!=Re:function(Mt,Gt,jr,Pr,Rr,vr){var Wr=xe(Mt),xn=xe(Gt),Qr="[object Array]",Qn="[object Array]";Wr||(Qr=(Qr=ar(Mt))==s?l:Qr),xn||(Qn=(Qn=ar(Gt))==s?l:Qn);var bi=Qr==l&&!R(Mt),ui=Qn==l&&!R(Gt),aa=Qr==Qn;if(aa&&!bi)return vr||(vr=new at),Wr||rt(Mt)?Lt(Mt,Gt,jr,Pr,Rr,vr):function(bn,fn,Oo,xa,ll,ba,wa){switch(Oo){case"[object DataView]":if(bn.byteLength!=fn.byteLength||bn.byteOffset!=fn.byteOffset)return!1;bn=bn.buffer,fn=fn.buffer;case"[object ArrayBuffer]":return!(bn.byteLength!=fn.byteLength||!xa(new z(bn),new z(fn)));case"[object Boolean]":case"[object Date]":case"[object Number]":return he(+bn,+fn);case"[object Error]":return bn.name==fn.name&&bn.message==fn.message;case"[object RegExp]":case"[object String]":return bn==fn+"";case o:var _a=E;case u:var Ru=2&ba;if(_a||(_a=L),bn.size!=fn.size&&!Ru)return!1;var Nc=wa.get(bn);if(Nc)return Nc==fn;ba|=1,wa.set(bn,fn);var An=Lt(_a(bn),_a(fn),xa,ll,ba,wa);return wa.delete(bn),An;case"[object Symbol]":if(Be)return Be.call(bn)==Be.call(fn)}return!1}(Mt,Gt,Qr,jr,Pr,Rr,vr);if(!(2&Rr)){var Hi=bi&&Q.call(Mt,"__wrapped__"),zs=ui&&Q.call(Gt,"__wrapped__");if(Hi||zs){var zn=Hi?Mt.value():Mt,Ro=zs?Gt.value():Gt;return vr||(vr=new at),jr(zn,Ro,Pr,Rr,vr)}}return aa?(vr||(vr=new at),function(bn,fn,Oo,xa,ll,ba){var wa=2&ll,_a=Bt(bn),Ru=_a.length,Nc=Bt(fn).length;if(Ru!=Nc&&!wa)return!1;for(var An=Ru;An--;){var ts=_a[An];if(!(wa?ts in fn:Q.call(fn,ts)))return!1}var Kl=ba.get(bn);if(Kl&&ba.get(fn))return Kl==fn;var Vs=!0;ba.set(bn,fn),ba.set(fn,bn);for(var Fc=wa;++An<Ru;){ts=_a[An];var ho=bn[ts],ul=fn[ts];if(xa)var Vr=wa?xa(ul,ho,ts,fn,bn,ba):xa(ho,ul,ts,bn,fn,ba);if(!(Vr===void 0?ho===ul||Oo(ho,ul,xa,ll,ba):Vr)){Vs=!1;break}Fc||(Fc=ts=="constructor")}if(Vs&&!Fc){var Ou=bn.constructor,ke=fn.constructor;Ou==ke||!("constructor"in bn)||!("constructor"in fn)||typeof Ou=="function"&&Ou instanceof Ou&&typeof ke=="function"&&ke instanceof ke||(Vs=!1)}return ba.delete(bn),ba.delete(fn),Vs}(Mt,Gt,jr,Pr,Rr,vr)):!1}(Ae,Re,ft,it,bt,Pt))}function lt(Ae){return!(!$e(Ae)||function(Re){return!!M&&M in Re}(Ae))&&(He(Ae)||R(Ae)?j:p).test(Ye(Ae))}function St(Ae){return typeof Ae=="function"?Ae:Ae==null?jt:typeof Ae=="object"?xe(Ae)?function(bt,Pt){return It(bt)&&Ir(Pt)?_r(je(bt),Pt):function(Mt){var Gt=function(jr,Pr,Rr){var vr=jr==null?void 0:Ne(jr,Pr);return vr===void 0?Rr:vr}(Mt,bt);return Gt===void 0&&Gt===Pt?function(jr,Pr){return jr!=null&&function(Rr,vr,Wr){vr=It(vr,Rr)?[vr]:vt(vr);for(var xn,Qr=-1,Qn=vr.length;++Qr<Qn;){var bi=je(vr[Qr]);if(!(xn=Rr!=null&&Wr(Rr,bi)))break;Rr=Rr[bi]}return xn||!!(Qn=Rr?Rr.length:0)&&Ze(Qn)&&Tr(bi,Qn)&&(xe(Rr)||me(Rr))}(jr,Pr,et)}(Mt,bt):ft(Pt,Gt,void 0,3)}}(Ae[0],Ae[1]):function(bt){var Pt=function(Mt){for(var Gt=Bt(Mt),jr=Gt.length;jr--;){var Pr=Gt[jr],Rr=Mt[Pr];Gt[jr]=[Pr,Rr,Ir(Rr)]}return Gt}(bt);return Pt.length==1&&Pt[0][2]?_r(Pt[0][0],Pt[0][1]):function(Mt){return Mt===bt||function(Gt,jr,Pr,Rr){var vr=Pr.length,Wr=vr;if(Gt==null)return!Wr;for(Gt=Object(Gt);vr--;){var xn=Pr[vr];if(xn[2]?xn[1]!==Gt[xn[0]]:!(xn[0]in Gt))return!1}for(;++vr<Wr;){var Qr=(xn=Pr[vr])[0],Qn=Gt[Qr],bi=xn[1];if(xn[2]){if(Qn===void 0&&!(Qr in Gt))return!1}else{var ui=new at,aa;if(!(aa===void 0?ft(bi,Qn,Rr,3,ui):aa))return!1}}return!0}(Mt,bt,Pt)}}(Ae):It(Re=Ae)?(it=je(Re),function(bt){return bt==null?void 0:bt[it]}):function(bt){return function(Pt){return Ne(Pt,bt)}}(Re);var Re,it}function ut(Ae){if(it=(Re=Ae)&&Re.constructor,bt=typeof it=="function"&&it.prototype||O,Re!==bt)return Z(Ae);var Re,it,bt,Pt=[];for(var Mt in Object(Ae))Q.call(Ae,Mt)&&Mt!="constructor"&&Pt.push(Mt);return Pt}function vt(Ae){return xe(Ae)?Ae:tr(Ae)}function Lt(Ae,Re,it,bt,Pt,Mt){var Gt=2&Pt,jr=Ae.length,Pr=Re.length;if(jr!=Pr&&!(Gt&&Pr>jr))return!1;var Rr=Mt.get(Ae);if(Rr&&Mt.get(Re))return Rr==Re;var vr=-1,Wr=!0,xn=1&Pt?new Oe:void 0;for(Mt.set(Ae,Re),Mt.set(Re,Ae);++vr<jr;){var Qr=Ae[vr],Qn=Re[vr];if(bt)var bi=Gt?bt(Qn,Qr,vr,Re,Ae,Mt):bt(Qr,Qn,vr,Ae,Re,Mt);if(bi!==void 0){if(bi)continue;Wr=!1;break}if(xn){if(!D(Re,function(ui,aa){if(!xn.has(aa)&&(Qr===ui||it(Qr,ui,bt,Pt,Mt)))return xn.add(aa)})){Wr=!1;break}}else if(Qr!==Qn&&!it(Qr,Qn,bt,Pt,Mt)){Wr=!1;break}}return Mt.delete(Ae),Mt.delete(Re),Wr}function zt(Ae,Re){var it,bt,Pt=Ae.__data__;return((bt=typeof(it=Re))=="string"||bt=="number"||bt=="symbol"||bt=="boolean"?it!=="__proto__":it===null)?Pt[typeof Re=="string"?"string":"hash"]:Pt.map}function _t(Ae,Re){var it=function(bt,Pt){return bt==null?void 0:bt[Pt]}(Ae,Re);return lt(it)?it:void 0}var ar=function(Ae){return W.call(Ae)};function Tr(Ae,Re){return!!(Re=Re??9007199254740991)&&(typeof Ae=="number"||g.test(Ae))&&Ae>-1&&Ae%1==0&&Ae<Re}function It(Ae,Re){if(xe(Ae))return!1;var it=typeof Ae;return!(it!="number"&&it!="symbol"&&it!="boolean"&&Ae!=null&&!Ee(Ae))||f.test(Ae)||!c.test(Ae)||Re!=null&&Ae in Object(Re)}function Ir(Ae){return Ae==Ae&&!$e(Ae)}function _r(Ae,Re){return function(it){return it!=null&&it[Ae]===Re&&(Re!==void 0||Ae in Object(it))}}(ie&&ar(new ie(new ArrayBuffer(1)))!="[object DataView]"||ee&&ar(new ee)!=o||ne&&ar(ne.resolve())!="[object Promise]"||te&&ar(new te)!=u||le&&ar(new le)!="[object WeakMap]")&&(ar=function(Ae){var Re=W.call(Ae),it=Re==l?Ae.constructor:void 0,bt=it?Ye(it):void 0;if(bt)switch(bt){case de:return"[object DataView]";case ue:return o;case Fe:return"[object Promise]";case Se:return u;case De:return"[object WeakMap]"}return Re});var tr=ye(function(Ae){var Re;Ae=(Re=Ae)==null?"":function(bt){if(typeof bt=="string")return bt;if(Ee(bt))return Pe?Pe.call(bt):"";var Pt=bt+"";return Pt=="0"&&1/bt==-1/0?"-0":Pt}(Re);var it=[];return h.test(Ae)&&it.push(""),Ae.replace(d,function(bt,Pt,Mt,Gt){it.push(Mt?Gt.replace(A,"$1"):Pt||bt)}),it});function je(Ae){if(typeof Ae=="string"||Ee(Ae))return Ae;var Re=Ae+"";return Re=="0"&&1/Ae==-1/0?"-0":Re}function Ye(Ae){if(Ae!=null){try{return U.call(Ae)}catch{}try{return Ae+""}catch{}}return""}var ht,oe=(ht=function(Ae,Re,it){Q.call(Ae,it)?Ae[it].push(Re):Ae[it]=[Re]},function(Ae,Re){var it=xe(Ae)?P:Ke,bt={};return it(Ae,ht,St(Re),bt)});function ye(Ae,Re){if(typeof Ae!="function"||Re&&typeof Re!="function")throw new TypeError("Expected a function");var it=function(){var bt=arguments,Pt=Re?Re.apply(this,bt):bt[0],Mt=it.cache;if(Mt.has(Pt))return Mt.get(Pt);var Gt=Ae.apply(this,bt);return it.cache=Mt.set(Pt,Gt),Gt};return it.cache=new(ye.Cache||we),it}function he(Ae,Re){return Ae===Re||Ae!=Ae&&Re!=Re}function me(Ae){return function(Re){return nt(Re)&&be(Re)}(Ae)&&Q.call(Ae,"callee")&&(!H.call(Ae,"callee")||W.call(Ae)==s)}ye.Cache=we;var xe=Array.isArray;function be(Ae){return Ae!=null&&Ze(Ae.length)&&!He(Ae)}function He(Ae){var Re=$e(Ae)?W.call(Ae):"";return Re=="[object Function]"||Re=="[object GeneratorFunction]"}function Ze(Ae){return typeof Ae=="number"&&Ae>-1&&Ae%1==0&&Ae<=9007199254740991}function $e(Ae){var Re=typeof Ae;return!!Ae&&(Re=="object"||Re=="function")}function nt(Ae){return!!Ae&&typeof Ae=="object"}function Ee(Ae){return typeof Ae=="symbol"||nt(Ae)&&W.call(Ae)=="[object Symbol]"}var rt=F?function(Ae){return function(Re){return Ae(Re)}}(F):function(Ae){return nt(Ae)&&Ze(Ae.length)&&!!m[W.call(Ae)]};function Bt(Ae){return be(Ae)?Ve(Ae):ut(Ae)}function jt(Ae){return Ae}n.exports=oe}).call(this)}).call(this,typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,n,i){var a=Object.prototype.toString;n.exports=function(s){return s===!0||s===!1||function(o){return!!o&&typeof o=="object"}(s)&&a.call(s)=="[object Boolean]"}},{}],445:[function(e,n,i){(function(a){(function(){var s="[object Arguments]",o="[object Map]",l="[object Object]",u="[object Set]",c=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[s]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h[o]=h["[object Number]"]=h[l]=h["[object RegExp]"]=h[u]=h["[object String]"]=h["[object WeakMap]"]=!1;var d=typeof a=="object"&&a&&a.Object===Object&&a,A=typeof self=="object"&&self&&self.Object===Object&&self,p=d||A||Function("return this")(),g=typeof i=="object"&&i&&!i.nodeType&&i,m=g&&typeof n=="object"&&n&&!n.nodeType&&n,v=m&&m.exports===g,y=v&&d.process,b=function(){try{return y&&y.binding&&y.binding("util")}catch{}}(),_=b&&b.isTypedArray;function T(je,Ye){for(var ht=-1,oe=je==null?0:je.length;++ht<oe;)if(Ye(je[ht],ht,je))return!0;return!1}function I(je){var Ye=-1,ht=Array(je.size);return je.forEach(function(oe,ye){ht[++Ye]=[ye,oe]}),ht}function N(je){var Ye=-1,ht=Array(je.size);return je.forEach(function(oe){ht[++Ye]=oe}),ht}var F,P,D,R=Array.prototype,E=Function.prototype,L=Object.prototype,k=p["__core-js_shared__"],w=E.toString,C=L.hasOwnProperty,S=(F=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"",B=L.toString,O=RegExp("^"+w.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),V=v?p.Buffer:void 0,M=p.Symbol,U=p.Uint8Array,Q=L.propertyIsEnumerable,W=R.splice,j=M?M.toStringTag:void 0,X=Object.getOwnPropertySymbols,z=V?V.isBuffer:void 0,H=(P=Object.keys,D=Object,function(je){return P(D(je))}),K=et(p,"DataView"),Z=et(p,"Map"),ie=et(p,"Promise"),ee=et(p,"Set"),ne=et(p,"WeakMap"),te=et(Object,"create"),le=ut(K),re=ut(Z),de=ut(ie),ue=ut(ee),Fe=ut(ne),Se=M?M.prototype:void 0,De=Se?Se.valueOf:void 0;function ge(je){var Ye=-1,ht=je==null?0:je.length;for(this.clear();++Ye<ht;){var oe=je[Ye];this.set(oe[0],oe[1])}}function Be(je){var Ye=-1,ht=je==null?0:je.length;for(this.clear();++Ye<ht;){var oe=je[Ye];this.set(oe[0],oe[1])}}function Pe(je){var Ye=-1,ht=je==null?0:je.length;for(this.clear();++Ye<ht;){var oe=je[Ye];this.set(oe[0],oe[1])}}function st(je){var Ye=-1,ht=je==null?0:je.length;for(this.__data__=new Pe;++Ye<ht;)this.add(je[Ye])}function gt(je){var Ye=this.__data__=new Be(je);this.size=Ye.size}function we(je,Ye){var ht=zt(je),oe=!ht&&Lt(je),ye=!ht&&!oe&&_t(je),he=!ht&&!oe&&!ye&&_r(je),me=ht||oe||ye||he,xe=me?function(Ze,$e){for(var nt=-1,Ee=Array(Ze);++nt<Ze;)Ee[nt]=$e(nt);return Ee}(je.length,String):[],be=xe.length;for(var He in je)!C.call(je,He)||me&&(He=="length"||ye&&(He=="offset"||He=="parent")||he&&(He=="buffer"||He=="byteLength"||He=="byteOffset")||St(He,be))||xe.push(He);return xe}function Oe(je,Ye){for(var ht=je.length;ht--;)if(vt(je[ht][0],Ye))return ht;return-1}function at(je){return je==null?je===void 0?"[object Undefined]":"[object Null]":j&&j in Object(je)?function(Ye){var ht=C.call(Ye,j),oe=Ye[j];try{Ye[j]=void 0;var ye=!0}catch{}var he=B.call(Ye);return ye&&(ht?Ye[j]=oe:delete Ye[j]),he}(je):function(Ye){return B.call(Ye)}(je)}function Ve(je){return Ir(je)&&at(je)==s}function Qe(je,Ye,ht,oe,ye){return je===Ye||(je==null||Ye==null||!Ir(je)&&!Ir(Ye)?je!=je&&Ye!=Ye:function(he,me,xe,be,He,Ze){var $e=zt(he),nt=zt(me),Ee=$e?"[object Array]":lt(he),rt=nt?"[object Array]":lt(me),Bt=(Ee=Ee==s?l:Ee)==l,jt=(rt=rt==s?l:rt)==l,Ae=Ee==rt;if(Ae&&_t(he)){if(!_t(me))return!1;$e=!0,Bt=!1}if(Ae&&!Bt)return Ze||(Ze=new gt),$e||_r(he)?We(he,me,xe,be,He,Ze):function(Mt,Gt,jr,Pr,Rr,vr,Wr){switch(jr){case"[object DataView]":if(Mt.byteLength!=Gt.byteLength||Mt.byteOffset!=Gt.byteOffset)return!1;Mt=Mt.buffer,Gt=Gt.buffer;case"[object ArrayBuffer]":return!(Mt.byteLength!=Gt.byteLength||!vr(new U(Mt),new U(Gt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return vt(+Mt,+Gt);case"[object Error]":return Mt.name==Gt.name&&Mt.message==Gt.message;case"[object RegExp]":case"[object String]":return Mt==Gt+"";case o:var xn=I;case u:var Qr=1&Pr;if(xn||(xn=N),Mt.size!=Gt.size&&!Qr)return!1;var Qn=Wr.get(Mt);if(Qn)return Qn==Gt;Pr|=2,Wr.set(Mt,Gt);var bi=We(xn(Mt),xn(Gt),Pr,Rr,vr,Wr);return Wr.delete(Mt),bi;case"[object Symbol]":if(De)return De.call(Mt)==De.call(Gt)}return!1}(he,me,Ee,xe,be,He,Ze);if(!(1&xe)){var Re=Bt&&C.call(he,"__wrapped__"),it=jt&&C.call(me,"__wrapped__");if(Re||it){var bt=Re?he.value():he,Pt=it?me.value():me;return Ze||(Ze=new gt),He(bt,Pt,xe,be,Ze)}}return Ae?(Ze||(Ze=new gt),function(Mt,Gt,jr,Pr,Rr,vr){var Wr=1&jr,xn=yt(Mt),Qr=xn.length,Qn=yt(Gt).length;if(Qr!=Qn&&!Wr)return!1;for(var bi=Qr;bi--;){var ui=xn[bi];if(!(Wr?ui in Gt:C.call(Gt,ui)))return!1}var aa=vr.get(Mt);if(aa&&vr.get(Gt))return aa==Gt;var Hi=!0;vr.set(Mt,Gt),vr.set(Gt,Mt);for(var zs=Wr;++bi<Qr;){ui=xn[bi];var zn=Mt[ui],Ro=Gt[ui];if(Pr)var bn=Wr?Pr(Ro,zn,ui,Gt,Mt,vr):Pr(zn,Ro,ui,Mt,Gt,vr);if(!(bn===void 0?zn===Ro||Rr(zn,Ro,jr,Pr,vr):bn)){Hi=!1;break}zs||(zs=ui=="constructor")}if(Hi&&!zs){var fn=Mt.constructor,Oo=Gt.constructor;fn==Oo||!("constructor"in Mt)||!("constructor"in Gt)||typeof fn=="function"&&fn instanceof fn&&typeof Oo=="function"&&Oo instanceof Oo||(Hi=!1)}return vr.delete(Mt),vr.delete(Gt),Hi}(he,me,xe,be,He,Ze)):!1}(je,Ye,ht,oe,Qe,ye))}function Ke(je){return!(!It(je)||function(Ye){return!!S&&S in Ye}(je))&&(ar(je)?O:c).test(ut(je))}function Ue(je){if(ht=(Ye=je)&&Ye.constructor,oe=typeof ht=="function"&&ht.prototype||L,Ye!==oe)return H(je);var Ye,ht,oe,ye=[];for(var he in Object(je))C.call(je,he)&&he!="constructor"&&ye.push(he);return ye}function We(je,Ye,ht,oe,ye,he){var me=1&ht,xe=je.length,be=Ye.length;if(xe!=be&&!(me&&be>xe))return!1;var He=he.get(je);if(He&&he.get(Ye))return He==Ye;var Ze=-1,$e=!0,nt=2&ht?new st:void 0;for(he.set(je,Ye),he.set(Ye,je);++Ze<xe;){var Ee=je[Ze],rt=Ye[Ze];if(oe)var Bt=me?oe(rt,Ee,Ze,Ye,je,he):oe(Ee,rt,Ze,je,Ye,he);if(Bt!==void 0){if(Bt)continue;$e=!1;break}if(nt){if(!T(Ye,function(jt,Ae){if(Re=Ae,!nt.has(Re)&&(Ee===jt||ye(Ee,jt,ht,oe,he)))return nt.push(Ae);var Re})){$e=!1;break}}else if(Ee!==rt&&!ye(Ee,rt,ht,oe,he)){$e=!1;break}}return he.delete(je),he.delete(Ye),$e}function yt(je){return function(Ye,ht,oe){var ye=ht(Ye);return zt(Ye)?ye:function(he,me){for(var xe=-1,be=me.length,He=he.length;++xe<be;)he[He+xe]=me[xe];return he}(ye,oe(Ye))}(je,tr,ft)}function Ne(je,Ye){var ht,oe,ye=je.__data__;return((oe=typeof(ht=Ye))=="string"||oe=="number"||oe=="symbol"||oe=="boolean"?ht!=="__proto__":ht===null)?ye[typeof Ye=="string"?"string":"hash"]:ye.map}function et(je,Ye){var ht=function(oe,ye){return oe==null?void 0:oe[ye]}(je,Ye);return Ke(ht)?ht:void 0}ge.prototype.clear=function(){this.__data__=te?te(null):{},this.size=0},ge.prototype.delete=function(je){var Ye=this.has(je)&&delete this.__data__[je];return this.size-=Ye?1:0,Ye},ge.prototype.get=function(je){var Ye=this.__data__;if(te){var ht=Ye[je];return ht==="__lodash_hash_undefined__"?void 0:ht}return C.call(Ye,je)?Ye[je]:void 0},ge.prototype.has=function(je){var Ye=this.__data__;return te?Ye[je]!==void 0:C.call(Ye,je)},ge.prototype.set=function(je,Ye){var ht=this.__data__;return this.size+=this.has(je)?0:1,ht[je]=te&&Ye===void 0?"__lodash_hash_undefined__":Ye,this},Be.prototype.clear=function(){this.__data__=[],this.size=0},Be.prototype.delete=function(je){var Ye=this.__data__,ht=Oe(Ye,je);return!(ht<0)&&(ht==Ye.length-1?Ye.pop():W.call(Ye,ht,1),--this.size,!0)},Be.prototype.get=function(je){var Ye=this.__data__,ht=Oe(Ye,je);return ht<0?void 0:Ye[ht][1]},Be.prototype.has=function(je){return Oe(this.__data__,je)>-1},Be.prototype.set=function(je,Ye){var ht=this.__data__,oe=Oe(ht,je);return oe<0?(++this.size,ht.push([je,Ye])):ht[oe][1]=Ye,this},Pe.prototype.clear=function(){this.size=0,this.__data__={hash:new ge,map:new(Z||Be),string:new ge}},Pe.prototype.delete=function(je){var Ye=Ne(this,je).delete(je);return this.size-=Ye?1:0,Ye},Pe.prototype.get=function(je){return Ne(this,je).get(je)},Pe.prototype.has=function(je){return Ne(this,je).has(je)},Pe.prototype.set=function(je,Ye){var ht=Ne(this,je),oe=ht.size;return ht.set(je,Ye),this.size+=ht.size==oe?0:1,this},st.prototype.add=st.prototype.push=function(je){return this.__data__.set(je,"__lodash_hash_undefined__"),this},st.prototype.has=function(je){return this.__data__.has(je)},gt.prototype.clear=function(){this.__data__=new Be,this.size=0},gt.prototype.delete=function(je){var Ye=this.__data__,ht=Ye.delete(je);return this.size=Ye.size,ht},gt.prototype.get=function(je){return this.__data__.get(je)},gt.prototype.has=function(je){return this.__data__.has(je)},gt.prototype.set=function(je,Ye){var ht=this.__data__;if(ht instanceof Be){var oe=ht.__data__;if(!Z||oe.length<199)return oe.push([je,Ye]),this.size=++ht.size,this;ht=this.__data__=new Pe(oe)}return ht.set(je,Ye),this.size=ht.size,this};var ft=X?function(je){return je==null?[]:(je=Object(je),function(Ye,ht){for(var oe=-1,ye=Ye==null?0:Ye.length,he=0,me=[];++oe<ye;){var xe=Ye[oe];ht(xe,oe,Ye)&&(me[he++]=xe)}return me}(X(je),function(Ye){return Q.call(je,Ye)}))}:function(){return[]},lt=at;function St(je,Ye){return!!(Ye=Ye??9007199254740991)&&(typeof je=="number"||f.test(je))&&je>-1&&je%1==0&&je<Ye}function ut(je){if(je!=null){try{return w.call(je)}catch{}try{return je+""}catch{}}return""}function vt(je,Ye){return je===Ye||je!=je&&Ye!=Ye}(K&&lt(new K(new ArrayBuffer(1)))!="[object DataView]"||Z&&lt(new Z)!=o||ie&&lt(ie.resolve())!="[object Promise]"||ee&&lt(new ee)!=u||ne&&lt(new ne)!="[object WeakMap]")&&(lt=function(je){var Ye=at(je),ht=Ye==l?je.constructor:void 0,oe=ht?ut(ht):"";if(oe)switch(oe){case le:return"[object DataView]";case re:return o;case de:return"[object Promise]";case ue:return u;case Fe:return"[object WeakMap]"}return Ye});var Lt=Ve(function(){return arguments}())?Ve:function(je){return Ir(je)&&C.call(je,"callee")&&!Q.call(je,"callee")},zt=Array.isArray,_t=z||function(){return!1};function ar(je){if(!It(je))return!1;var Ye=at(je);return Ye=="[object Function]"||Ye=="[object GeneratorFunction]"||Ye=="[object AsyncFunction]"||Ye=="[object Proxy]"}function Tr(je){return typeof je=="number"&&je>-1&&je%1==0&&je<=9007199254740991}function It(je){var Ye=typeof je;return je!=null&&(Ye=="object"||Ye=="function")}function Ir(je){return je!=null&&typeof je=="object"}var _r=_?function(je){return function(Ye){return je(Ye)}}(_):function(je){return Ir(je)&&Tr(je.length)&&!!h[at(je)]};function tr(je){return(Ye=je)!=null&&Tr(Ye.length)&&!ar(Ye)?we(je):Ue(je);var Ye}n.exports=function(je,Ye){return Qe(je,Ye)}}).call(this)}).call(this,typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,n,i){(function(a){(function(){var s=typeof a=="object"&&a&&a.Object===Object&&a,o=typeof self=="object"&&self&&self.Object===Object&&self,l=s||o||Function("return this")(),u=Object.prototype,c=u.hasOwnProperty,f=u.toString,h=l.Symbol,d=h?h.toStringTag:void 0;function A(p){return p==null?p===void 0?"[object Undefined]":"[object Null]":d&&d in Object(p)?function(g){var m=c.call(g,d),v=g[d];try{g[d]=void 0;var y=!0}catch{}var b=f.call(g);return y&&(m?g[d]=v:delete g[d]),b}(p):function(g){return f.call(g)}(p)}n.exports=function(p){if(!function(m){var v=typeof m;return m!=null&&(v=="object"||v=="function")}(p))return!1;var g=A(p);return g=="[object Function]"||g=="[object GeneratorFunction]"||g=="[object AsyncFunction]"||g=="[object Proxy]"}}).call(this)}).call(this,typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,n,i){n.exports=function(a){return a==null}},{}],448:[function(e,n,i){n.exports=function(a){return a===void 0}},{}],449:[function(e,n,i){(function(a){(function(){var s=/^\[object .+?Constructor\]$/,o=typeof a=="object"&&a&&a.Object===Object&&a,l=typeof self=="object"&&self&&self.Object===Object&&self,u=o||l||Function("return this")();function c(M,U){return!!(M&&M.length)&&function(Q,W,j){if(W!=W)return function(H,K,Z,ie){for(var ee=H.length,ne=Z+-1;++ne<ee;)if(K(H[ne],ne,H))return ne;return-1}(Q,f,j);for(var X=j-1,z=Q.length;++X<z;)if(Q[X]===W)return X;return-1}(M,U,0)>-1}function f(M){return M!=M}function h(M,U){return M.has(U)}function d(M){var U=-1,Q=Array(M.size);return M.forEach(function(W){Q[++U]=W}),Q}var A,p=Array.prototype,g=Function.prototype,m=Object.prototype,v=u["__core-js_shared__"],y=(A=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",b=g.toString,_=m.hasOwnProperty,T=m.toString,I=RegExp("^"+b.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=p.splice,F=O(u,"Map"),P=O(u,"Set"),D=O(Object,"create");function R(M){var U=-1,Q=M?M.length:0;for(this.clear();++U<Q;){var W=M[U];this.set(W[0],W[1])}}function E(M){var U=-1,Q=M?M.length:0;for(this.clear();++U<Q;){var W=M[U];this.set(W[0],W[1])}}function L(M){var U=-1,Q=M?M.length:0;for(this.clear();++U<Q;){var W=M[U];this.set(W[0],W[1])}}function k(M){var U=-1,Q=M?M.length:0;for(this.__data__=new L;++U<Q;)this.add(M[U])}function w(M,U){for(var Q,W,j=M.length;j--;)if((Q=M[j][0])===(W=U)||Q!=Q&&W!=W)return j;return-1}function C(M){return!(!V(M)||(U=M,y&&y in U))&&(function(Q){var W=V(Q)?T.call(Q):"";return W=="[object Function]"||W=="[object GeneratorFunction]"}(M)||function(Q){var W=!1;if(Q!=null&&typeof Q.toString!="function")try{W=!!(Q+"")}catch{}return W}(M)?I:s).test(function(Q){if(Q!=null){try{return b.call(Q)}catch{}try{return Q+""}catch{}}return""}(M));var U}R.prototype.clear=function(){this.__data__=D?D(null):{}},R.prototype.delete=function(M){return this.has(M)&&delete this.__data__[M]},R.prototype.get=function(M){var U=this.__data__;if(D){var Q=U[M];return Q==="__lodash_hash_undefined__"?void 0:Q}return _.call(U,M)?U[M]:void 0},R.prototype.has=function(M){var U=this.__data__;return D?U[M]!==void 0:_.call(U,M)},R.prototype.set=function(M,U){return this.__data__[M]=D&&U===void 0?"__lodash_hash_undefined__":U,this},E.prototype.clear=function(){this.__data__=[]},E.prototype.delete=function(M){var U=this.__data__,Q=w(U,M);return!(Q<0)&&(Q==U.length-1?U.pop():N.call(U,Q,1),!0)},E.prototype.get=function(M){var U=this.__data__,Q=w(U,M);return Q<0?void 0:U[Q][1]},E.prototype.has=function(M){return w(this.__data__,M)>-1},E.prototype.set=function(M,U){var Q=this.__data__,W=w(Q,M);return W<0?Q.push([M,U]):Q[W][1]=U,this},L.prototype.clear=function(){this.__data__={hash:new R,map:new(F||E),string:new R}},L.prototype.delete=function(M){return B(this,M).delete(M)},L.prototype.get=function(M){return B(this,M).get(M)},L.prototype.has=function(M){return B(this,M).has(M)},L.prototype.set=function(M,U){return B(this,M).set(M,U),this},k.prototype.add=k.prototype.push=function(M){return this.__data__.set(M,"__lodash_hash_undefined__"),this},k.prototype.has=function(M){return this.__data__.has(M)};var S=P&&1/d(new P([,-0]))[1]==1/0?function(M){return new P(M)}:function(){};function B(M,U){var Q,W,j=M.__data__;return((W=typeof(Q=U))=="string"||W=="number"||W=="symbol"||W=="boolean"?Q!=="__proto__":Q===null)?j[typeof U=="string"?"string":"hash"]:j.map}function O(M,U){var Q=function(W,j){return W==null?void 0:W[j]}(M,U);return C(Q)?Q:void 0}function V(M){var U=typeof M;return!!M&&(U=="object"||U=="function")}n.exports=function(M){return M&&M.length?function(U,Q,W){var j=-1,X=c,z=U.length,H=!0,K=[],Z=K;if(z>=200){var ie=S(U);if(ie)return d(ie);H=!1,X=h,Z=new k}else Z=K;e:for(;++j<z;){var ee=U[j],ne=ee;if(ee=ee!==0?ee:0,H&&ne==ne){for(var te=Z.length;te--;)if(Z[te]===ne)continue e;K.push(ee)}else X(Z,ne,W)||(Z!==K&&Z.push(ne),K.push(ee))}return K}(M):[]}}).call(this)}).call(this,typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,n,i){var a=e("inherits"),s=e("hash-base"),o=e("safe-buffer").Buffer,l=new Array(16);function u(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(p,g){return p<<g|p>>>32-g}function f(p,g,m,v,y,b,_){return c(p+(g&m|~g&v)+y+b|0,_)+g|0}function h(p,g,m,v,y,b,_){return c(p+(g&v|m&~v)+y+b|0,_)+g|0}function d(p,g,m,v,y,b,_){return c(p+(g^m^v)+y+b|0,_)+g|0}function A(p,g,m,v,y,b,_){return c(p+(m^(g|~v))+y+b|0,_)+g|0}a(u,s),u.prototype._update=function(){for(var p=l,g=0;g<16;++g)p[g]=this._block.readInt32LE(4*g);var m=this._a,v=this._b,y=this._c,b=this._d;m=f(m,v,y,b,p[0],3614090360,7),b=f(b,m,v,y,p[1],3905402710,12),y=f(y,b,m,v,p[2],606105819,17),v=f(v,y,b,m,p[3],3250441966,22),m=f(m,v,y,b,p[4],4118548399,7),b=f(b,m,v,y,p[5],1200080426,12),y=f(y,b,m,v,p[6],2821735955,17),v=f(v,y,b,m,p[7],4249261313,22),m=f(m,v,y,b,p[8],1770035416,7),b=f(b,m,v,y,p[9],2336552879,12),y=f(y,b,m,v,p[10],4294925233,17),v=f(v,y,b,m,p[11],2304563134,22),m=f(m,v,y,b,p[12],1804603682,7),b=f(b,m,v,y,p[13],4254626195,12),y=f(y,b,m,v,p[14],2792965006,17),m=h(m,v=f(v,y,b,m,p[15],1236535329,22),y,b,p[1],4129170786,5),b=h(b,m,v,y,p[6],3225465664,9),y=h(y,b,m,v,p[11],643717713,14),v=h(v,y,b,m,p[0],3921069994,20),m=h(m,v,y,b,p[5],3593408605,5),b=h(b,m,v,y,p[10],38016083,9),y=h(y,b,m,v,p[15],3634488961,14),v=h(v,y,b,m,p[4],3889429448,20),m=h(m,v,y,b,p[9],568446438,5),b=h(b,m,v,y,p[14],3275163606,9),y=h(y,b,m,v,p[3],4107603335,14),v=h(v,y,b,m,p[8],1163531501,20),m=h(m,v,y,b,p[13],2850285829,5),b=h(b,m,v,y,p[2],4243563512,9),y=h(y,b,m,v,p[7],1735328473,14),m=d(m,v=h(v,y,b,m,p[12],2368359562,20),y,b,p[5],4294588738,4),b=d(b,m,v,y,p[8],2272392833,11),y=d(y,b,m,v,p[11],1839030562,16),v=d(v,y,b,m,p[14],4259657740,23),m=d(m,v,y,b,p[1],2763975236,4),b=d(b,m,v,y,p[4],1272893353,11),y=d(y,b,m,v,p[7],4139469664,16),v=d(v,y,b,m,p[10],3200236656,23),m=d(m,v,y,b,p[13],681279174,4),b=d(b,m,v,y,p[0],3936430074,11),y=d(y,b,m,v,p[3],3572445317,16),v=d(v,y,b,m,p[6],76029189,23),m=d(m,v,y,b,p[9],3654602809,4),b=d(b,m,v,y,p[12],3873151461,11),y=d(y,b,m,v,p[15],530742520,16),m=A(m,v=d(v,y,b,m,p[2],3299628645,23),y,b,p[0],4096336452,6),b=A(b,m,v,y,p[7],1126891415,10),y=A(y,b,m,v,p[14],2878612391,15),v=A(v,y,b,m,p[5],4237533241,21),m=A(m,v,y,b,p[12],1700485571,6),b=A(b,m,v,y,p[3],2399980690,10),y=A(y,b,m,v,p[10],4293915773,15),v=A(v,y,b,m,p[1],2240044497,21),m=A(m,v,y,b,p[8],1873313359,6),b=A(b,m,v,y,p[15],4264355552,10),y=A(y,b,m,v,p[6],2734768916,15),v=A(v,y,b,m,p[13],1309151649,21),m=A(m,v,y,b,p[4],4149444226,6),b=A(b,m,v,y,p[11],3174756917,10),y=A(y,b,m,v,p[2],718787259,15),v=A(v,y,b,m,p[9],3951481745,21),this._a=this._a+m|0,this._b=this._b+v|0,this._c=this._c+y|0,this._d=this._d+b|0},u.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var p=o.allocUnsafe(16);return p.writeInt32LE(this._a,0),p.writeInt32LE(this._b,4),p.writeInt32LE(this._c,8),p.writeInt32LE(this._d,12),p},n.exports=u},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,n,i){var a=e("bn.js"),s=e("brorand");function o(l){this.rand=l||new s.Rand}n.exports=o,o.create=function(l){return new o(l)},o.prototype._randbelow=function(l){var u=l.bitLength(),c=Math.ceil(u/8);do var f=new a(this.rand.generate(c));while(f.cmp(l)>=0);return f},o.prototype._randrange=function(l,u){var c=u.sub(l);return l.add(this._randbelow(c))},o.prototype.test=function(l,u,c){var f=l.bitLength(),h=a.mont(l),d=new a(1).toRed(h);u||(u=Math.max(1,f/48|0));for(var A=l.subn(1),p=0;!A.testn(p);p++);for(var g=l.shrn(p),m=A.toRed(h);u>0;u--){var v=this._randrange(new a(2),A);c&&c(v);var y=v.toRed(h).redPow(g);if(y.cmp(d)!==0&&y.cmp(m)!==0){for(var b=1;b<p;b++){if((y=y.redSqr()).cmp(d)===0)return!1;if(y.cmp(m)===0)break}if(b===p)return!1}}return!0},o.prototype.getDivisor=function(l,u){var c=l.bitLength(),f=a.mont(l),h=new a(1).toRed(f);u||(u=Math.max(1,c/48|0));for(var d=l.subn(1),A=0;!d.testn(A);A++);for(var p=l.shrn(A),g=d.toRed(f);u>0;u--){var m=this._randrange(new a(2),d),v=l.gcd(m);if(v.cmpn(1)!==0)return v;var y=m.toRed(f).redPow(p);if(y.cmp(h)!==0&&y.cmp(g)!==0){for(var b=1;b<A;b++){if((y=y.redSqr()).cmp(h)===0)return y.fromRed().subn(1).gcd(l);if(y.cmp(g)===0)break}if(b===A)return(y=y.redSqr()).fromRed().subn(1).gcd(l)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],453:[function(e,n,i){function a(s,o){if(!s)throw new Error(o||"Assertion failed")}n.exports=a,a.equal=function(s,o,l){if(s!=o)throw new Error(l||"Assertion failed: "+s+" != "+o)}},{}],454:[function(e,n,i){var a=i;function s(l){return l.length===1?"0"+l:l}function o(l){for(var u="",c=0;c<l.length;c++)u+=s(l[c].toString(16));return u}a.toArray=function(l,u){if(Array.isArray(l))return l.slice();if(!l)return[];var c=[];if(typeof l!="string"){for(var f=0;f<l.length;f++)c[f]=0|l[f];return c}if(u==="hex")for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),f=0;f<l.length;f+=2)c.push(parseInt(l[f]+l[f+1],16));else for(f=0;f<l.length;f++){var h=l.charCodeAt(f),d=h>>8,A=255&h;d?c.push(d,A):c.push(A)}return c},a.zero2=s,a.toHex=o,a.encode=function(l,u){return u==="hex"?o(l):l}},{}],455:[function(e,n,i){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,n,i){var a=e("asn1.js");i.certificate=e("./certificate");var s=a.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});i.RSAPrivateKey=s;var o=a.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});i.RSAPublicKey=o;var l=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())});i.PublicKey=l;var u=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=a.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(u),this.key("subjectPrivateKey").octstr())});i.PrivateKey=c;var f=a.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});i.EncryptedPrivateKey=f;var h=a.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});i.DSAPrivateKey=h,i.DSAparam=a.define("DSAparam",function(){this.int()});var d=a.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(A),this.key("publicKey").optional().explicit(1).bitstr())});i.ECPrivateKey=d;var A=a.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});i.signature=a.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(e,n,i){var a=e("asn1.js"),s=a.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=a.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),l=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),u=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())}),c=a.define("RelativeDistinguishedName",function(){this.setof(o)}),f=a.define("RDNSequence",function(){this.seqof(c)}),h=a.define("Name",function(){this.choice({rdnSequence:this.use(f)})}),d=a.define("Validity",function(){this.seq().obj(this.key("notBefore").use(s),this.key("notAfter").use(s))}),A=a.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),p=a.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(l),this.key("issuer").use(h),this.key("validity").use(d),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(u),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(A).optional())}),g=a.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(p),this.key("signatureAlgorithm").use(l),this.key("signatureValue").bitstr())});n.exports=g},{"asn1.js":170}],458:[function(e,n,i){var a=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,l=e("evp_bytestokey"),u=e("browserify-aes"),c=e("safe-buffer").Buffer;n.exports=function(f,h){var d,A=f.toString(),p=A.match(a);if(p){var g="aes"+p[1],m=c.from(p[2],"hex"),v=c.from(p[3].replace(/[\r\n]/g,""),"base64"),y=l(h,m.slice(0,8),parseInt(p[1],10)).key,b=[],_=u.createDecipheriv(g,y,m);b.push(_.update(v)),b.push(_.final()),d=c.concat(b)}else{var T=A.match(o);d=c.from(T[2].replace(/[\r\n]/g,""),"base64")}return{tag:A.match(s)[1],data:d}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,n,i){var a=e("./asn1"),s=e("./aesid.json"),o=e("./fixProc"),l=e("browserify-aes"),u=e("pbkdf2"),c=e("safe-buffer").Buffer;function f(h){var d;typeof h!="object"||c.isBuffer(h)||(d=h.passphrase,h=h.key),typeof h=="string"&&(h=c.from(h));var A,p,g=o(h,d),m=g.tag,v=g.data;switch(m){case"CERTIFICATE":p=a.certificate.decode(v,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(p||(p=a.PublicKey.decode(v,"der")),A=p.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPublicKey.decode(p.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return p.subjectPrivateKey=p.subjectPublicKey,{type:"ec",data:p};case"1.2.840.10040.4.1":return p.algorithm.params.pub_key=a.DSAparam.decode(p.subjectPublicKey.data,"der"),{type:"dsa",data:p.algorithm.params};default:throw new Error("unknown key id "+A)}case"ENCRYPTED PRIVATE KEY":v=function(y,b){var _=y.algorithm.decrypt.kde.kdeparams.salt,T=parseInt(y.algorithm.decrypt.kde.kdeparams.iters.toString(),10),I=s[y.algorithm.decrypt.cipher.algo.join(".")],N=y.algorithm.decrypt.cipher.iv,F=y.subjectPrivateKey,P=parseInt(I.split("-")[1],10)/8,D=u.pbkdf2Sync(b,_,T,P,"sha1"),R=l.createDecipheriv(I,D,N),E=[];return E.push(R.update(F)),E.push(R.final()),c.concat(E)}(v=a.EncryptedPrivateKey.decode(v,"der"),d);case"PRIVATE KEY":switch(A=(p=a.PrivateKey.decode(v,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPrivateKey.decode(p.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:p.algorithm.curve,privateKey:a.ECPrivateKey.decode(p.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return p.algorithm.params.priv_key=a.DSAparam.decode(p.subjectPrivateKey,"der"),{type:"dsa",params:p.algorithm.params};default:throw new Error("unknown key id "+A)}case"RSA PUBLIC KEY":return a.RSAPublicKey.decode(v,"der");case"RSA PRIVATE KEY":return a.RSAPrivateKey.decode(v,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:a.DSAPrivateKey.decode(v,"der")};case"EC PRIVATE KEY":return{curve:(v=a.ECPrivateKey.decode(v,"der")).parameters.value,privateKey:v.privateKey};default:throw new Error("unknown key type "+m)}}n.exports=f,f.signature=a.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,n,i){i.pbkdf2=e("./lib/async"),i.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,n,i){(function(a){(function(){var s,o,l=e("safe-buffer").Buffer,u=e("./precondition"),c=e("./default-encoding"),f=e("./sync"),h=e("./to-buffer"),d=a.crypto&&a.crypto.subtle,A={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},p=[];function g(){return o||(o=a.process&&a.process.nextTick?a.process.nextTick:a.queueMicrotask?a.queueMicrotask:a.setImmediate?a.setImmediate:a.setTimeout)}function m(v,y,b,_,T){return d.importKey("raw",v,{name:"PBKDF2"},!1,["deriveBits"]).then(function(I){return d.deriveBits({name:"PBKDF2",salt:y,iterations:b,hash:{name:T}},I,_<<3)}).then(function(I){return l.from(I)})}n.exports=function(v,y,b,_,T,I){typeof T=="function"&&(I=T,T=void 0);var N=A[(T=T||"sha1").toLowerCase()];if(N&&typeof a.Promise=="function"){if(u(b,_),v=h(v,c,"Password"),y=h(y,c,"Salt"),typeof I!="function")throw new Error("No callback provided to pbkdf2");(function(F,P){F.then(function(D){g()(function(){P(null,D)})},function(D){g()(function(){P(D)})})})(function(F){if(a.process&&!a.process.browser||!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(p[F]!==void 0)return p[F];var P=m(s=s||l.alloc(8),s,10,128,F).then(function(){return!0}).catch(function(){return!1});return p[F]=P,P}(N).then(function(F){return F?m(v,y,b,_,N):f(v,y,b,_,T)}),I)}else g()(function(){var F;try{F=f(v,y,b,_,T)}catch(P){return I(P)}I(null,F)})}}).call(this)}).call(this,typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,n,i){(function(a,s){(function(){var o;s.process&&s.process.browser?o="utf-8":s.process&&s.process.version?o=parseInt(a.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":o="utf-8",n.exports=o}).call(this)}).call(this,e("_process"),typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,n,i){var a=Math.pow(2,30)-1;n.exports=function(s,o){if(typeof s!="number")throw new TypeError("Iterations not a number");if(s<0)throw new TypeError("Bad iterations");if(typeof o!="number")throw new TypeError("Key length not a number");if(o<0||o>a||o!=o)throw new TypeError("Bad key length")}},{}],464:[function(e,n,i){var a=e("create-hash/md5"),s=e("ripemd160"),o=e("sha.js"),l=e("safe-buffer").Buffer,u=e("./precondition"),c=e("./default-encoding"),f=e("./to-buffer"),h=l.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function A(p,g,m){var v=function(N){function F(P){return o(N).update(P).digest()}return N==="rmd160"||N==="ripemd160"?function(P){return new s().update(P).digest()}:N==="md5"?a:F}(p),y=p==="sha512"||p==="sha384"?128:64;g.length>y?g=v(g):g.length<y&&(g=l.concat([g,h],y));for(var b=l.allocUnsafe(y+d[p]),_=l.allocUnsafe(y+d[p]),T=0;T<y;T++)b[T]=54^g[T],_[T]=92^g[T];var I=l.allocUnsafe(y+m+4);b.copy(I,0,0,y),this.ipad1=I,this.ipad2=b,this.opad=_,this.alg=p,this.blocksize=y,this.hash=v,this.size=d[p]}A.prototype.run=function(p,g){return p.copy(g,this.blocksize),this.hash(g).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(p,g,m,v,y){u(m,v);var b=new A(y=y||"sha1",p=f(p,c,"Password"),(g=f(g,c,"Salt")).length),_=l.allocUnsafe(v),T=l.allocUnsafe(g.length+4);g.copy(T,0,0,g.length);for(var I=0,N=d[y],F=Math.ceil(v/N),P=1;P<=F;P++){T.writeUInt32BE(P,g.length);for(var D=b.run(T,b.ipad1),R=D,E=1;E<m;E++){R=b.run(R,b.ipad2);for(var L=0;L<N;L++)D[L]^=R[L]}D.copy(_,I),I+=N}return _}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,n,i){var a=e("safe-buffer").Buffer;n.exports=function(s,o,l){if(a.isBuffer(s))return s;if(typeof s=="string")return a.from(s,o);if(ArrayBuffer.isView(s))return a.from(s.buffer);throw new TypeError(l+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,n,i){(function(a){(function(){a===void 0||!a.version||a.version.indexOf("v0.")===0||a.version.indexOf("v1.")===0&&a.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(s,o,l,u){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var c,f,h=arguments.length;switch(h){case 0:case 1:return a.nextTick(s);case 2:return a.nextTick(function(){s.call(null,o)});case 3:return a.nextTick(function(){s.call(null,o,l)});case 4:return a.nextTick(function(){s.call(null,o,l,u)});default:for(c=new Array(h-1),f=0;f<c.length;)c[f++]=arguments[f];return a.nextTick(function(){s.apply(null,c)})}}}:n.exports=a}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,n,i){var a,s,o=n.exports={};function l(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(y){if(a===setTimeout)return setTimeout(y,0);if((a===l||!a)&&setTimeout)return a=setTimeout,setTimeout(y,0);try{return a(y,0)}catch{try{return a.call(null,y,0)}catch{return a.call(this,y,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:l}catch{a=l}try{s=typeof clearTimeout=="function"?clearTimeout:u}catch{s=u}})();var f,h=[],d=!1,A=-1;function p(){d&&f&&(d=!1,f.length?h=f.concat(h):A=-1,h.length&&g())}function g(){if(!d){var y=c(p);d=!0;for(var b=h.length;b;){for(f=h,h=[];++A<b;)f&&f[A].run();A=-1,b=h.length}f=null,d=!1,function(_){if(s===clearTimeout)return clearTimeout(_);if((s===u||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(_);try{s(_)}catch{try{return s.call(null,_)}catch{return s.call(this,_)}}}(y)}}function m(y,b){this.fun=y,this.array=b}function v(){}o.nextTick=function(y){var b=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)b[_-1]=arguments[_];h.push(new m(y,b)),h.length!==1||d||c(g)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(y){return[]},o.binding=function(y){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(y){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],468:[function(e,n,i){i.publicEncrypt=e("./publicEncrypt"),i.privateDecrypt=e("./privateDecrypt"),i.privateEncrypt=function(a,s){return i.publicEncrypt(a,s,!0)},i.publicDecrypt=function(a,s){return i.privateDecrypt(a,s,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,n,i){var a=e("create-hash"),s=e("safe-buffer").Buffer;function o(l){var u=s.allocUnsafe(4);return u.writeUInt32BE(l,0),u}n.exports=function(l,u){for(var c,f=s.alloc(0),h=0;f.length<u;)c=o(h++),f=s.concat([f,a("sha1").update(l).update(c).digest()]);return f.slice(0,u)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],471:[function(e,n,i){var a=e("parse-asn1"),s=e("./mgf"),o=e("./xor"),l=e("bn.js"),u=e("browserify-rsa"),c=e("create-hash"),f=e("./withPublic"),h=e("safe-buffer").Buffer;n.exports=function(d,A,p){var g;g=d.padding?d.padding:p?1:4;var m,v=a(d),y=v.modulus.byteLength();if(A.length>y||new l(A).cmp(v.modulus)>=0)throw new Error("decryption error");m=p?f(new l(A),v):u(A,v);var b=h.alloc(y-m.length);if(m=h.concat([b,m],y),g===4)return function(_,T){var I=_.modulus.byteLength(),N=c("sha1").update(h.alloc(0)).digest(),F=N.length;if(T[0]!==0)throw new Error("decryption error");var P=T.slice(1,F+1),D=T.slice(F+1),R=o(P,s(D,F)),E=o(D,s(R,I-F-1));if(function(k,w){k=h.from(k),w=h.from(w);var C=0,S=k.length;k.length!==w.length&&(C++,S=Math.min(k.length,w.length));for(var B=-1;++B<S;)C+=k[B]^w[B];return C}(N,E.slice(0,F)))throw new Error("decryption error");for(var L=F;E[L]===0;)L++;if(E[L++]!==1)throw new Error("decryption error");return E.slice(L)}(v,m);if(g===1)return function(_,T,I){for(var N=T.slice(0,2),F=2,P=0;T[F++]!==0;)if(F>=T.length){P++;break}var D=T.slice(2,F-1);if((N.toString("hex")!=="0002"&&!I||N.toString("hex")!=="0001"&&I)&&P++,D.length<8&&P++,P)throw new Error("decryption error");return T.slice(F)}(0,m,p);if(g===3)return m;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,n,i){var a=e("parse-asn1"),s=e("randombytes"),o=e("create-hash"),l=e("./mgf"),u=e("./xor"),c=e("bn.js"),f=e("./withPublic"),h=e("browserify-rsa"),d=e("safe-buffer").Buffer;n.exports=function(A,p,g){var m;m=A.padding?A.padding:g?1:4;var v,y=a(A);if(m===4)v=function(b,_){var T=b.modulus.byteLength(),I=_.length,N=o("sha1").update(d.alloc(0)).digest(),F=N.length,P=2*F;if(I>T-P-2)throw new Error("message too long");var D=d.alloc(T-I-P-2),R=T-F-1,E=s(F),L=u(d.concat([N,D,d.alloc(1,1),_],R),l(E,R)),k=u(E,l(L,F));return new c(d.concat([d.alloc(1),k,L],T))}(y,p);else if(m===1)v=function(b,_,T){var I,N=_.length,F=b.modulus.byteLength();if(N>F-11)throw new Error("message too long");return I=T?d.alloc(F-N-3,255):function(P){for(var D,R=d.allocUnsafe(P),E=0,L=s(2*P),k=0;E<P;)k===L.length&&(L=s(2*P),k=0),(D=L[k++])&&(R[E++]=D);return R}(F-N-3),new c(d.concat([d.from([0,T?1:2]),I,d.alloc(1),_],F))}(y,p,g);else{if(m!==3)throw new Error("unknown padding");if((v=new c(p)).cmp(y.modulus)>=0)throw new Error("data too long for modulus")}return g?h(v,y):f(v,y)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,n,i){var a=e("bn.js"),s=e("safe-buffer").Buffer;n.exports=function(o,l){return s.from(o.toRed(a.mont(l.modulus)).redPow(new a(l.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,n,i){n.exports=function(a,s){for(var o=a.length,l=-1;++l<o;)a[l]^=s[l];return a}},{}],475:[function(e,n,i){(function(a,s){(function(){var o=e("safe-buffer").Buffer,l=s.crypto||s.msCrypto;l&&l.getRandomValues?n.exports=function(u,c){if(u>4294967295)throw new RangeError("requested too many random bytes");var f=o.allocUnsafe(u);if(u>0)if(u>65536)for(var h=0;h<u;h+=65536)l.getRandomValues(f.slice(h,h+65536));else l.getRandomValues(f);return typeof c=="function"?a.nextTick(function(){c(null,f)}):f}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,n,i){(function(a,s){(function(){function o(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var l=e("safe-buffer"),u=e("randombytes"),c=l.Buffer,f=l.kMaxLength,h=s.crypto||s.msCrypto,d=Math.pow(2,32)-1;function A(m,v){if(typeof m!="number"||m!=m)throw new TypeError("offset must be a number");if(m>d||m<0)throw new TypeError("offset must be a uint32");if(m>f||m>v)throw new RangeError("offset out of range")}function p(m,v,y){if(typeof m!="number"||m!=m)throw new TypeError("size must be a number");if(m>d||m<0)throw new TypeError("size must be a uint32");if(m+v>y||m>f)throw new RangeError("buffer too small")}function g(m,v,y,b){if(a.browser){var _=m.buffer,T=new Uint8Array(_,v,y);return h.getRandomValues(T),b?void a.nextTick(function(){b(null,m)}):m}if(!b)return u(y).copy(m,v),m;u(y,function(I,N){if(I)return b(I);N.copy(m,v),b(null,m)})}h&&h.getRandomValues||!a.browser?(i.randomFill=function(m,v,y,b){if(!(c.isBuffer(m)||m instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof v=="function")b=v,v=0,y=m.length;else if(typeof y=="function")b=y,y=m.length-v;else if(typeof b!="function")throw new TypeError('"cb" argument must be a function');return A(v,m.length),p(y,v,m.length),g(m,v,y,b)},i.randomFillSync=function(m,v,y){if(v===void 0&&(v=0),!(c.isBuffer(m)||m instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return A(v,m.length),y===void 0&&(y=m.length-v),p(y,v,m.length),g(m,v,y)}):(i.randomFill=o,i.randomFillSync=o)}).call(this)}).call(this,e("_process"),typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,n,i){var a={};function s(l,u,c){c||(c=Error);var f=function(h){var d,A;function p(g,m,v){return h.call(this,function(y,b,_){return typeof u=="string"?u:u(y,b,_)}(g,m,v))||this}return A=h,(d=p).prototype=Object.create(A.prototype),d.prototype.constructor=d,d.__proto__=A,p}(c);f.prototype.name=c.name,f.prototype.code=l,a[l]=f}function o(l,u){if(Array.isArray(l)){var c=l.length;return l=l.map(function(f){return String(f)}),c>2?"one of ".concat(u," ").concat(l.slice(0,c-1).join(", "),", or ")+l[c-1]:c===2?"one of ".concat(u," ").concat(l[0]," or ").concat(l[1]):"of ".concat(u," ").concat(l[0])}return"of ".concat(u," ").concat(String(l))}s("ERR_INVALID_OPT_VALUE",function(l,u){return'The value "'+u+'" is invalid for option "'+l+'"'},TypeError),s("ERR_INVALID_ARG_TYPE",function(l,u,c){var f,h,d;if(typeof u=="string"&&(h="not ",u.substr(0,h.length)===h)?(f="must not be",u=u.replace(/^not /,"")):f="must be",function(p,g,m){return(m===void 0||m>p.length)&&(m=p.length),p.substring(m-g.length,m)===g}(l," argument"))d="The ".concat(l," ").concat(f," ").concat(o(u,"type"));else{var A=function(p,g,m){return typeof m!="number"&&(m=0),!(m+g.length>p.length)&&p.indexOf(g,m)!==-1}(l,".")?"property":"argument";d='The "'.concat(l,'" ').concat(A," ").concat(f," ").concat(o(u,"type"))}return d+=". Received type ".concat(typeof c)},TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=a},{}],478:[function(e,n,i){(function(a){(function(){var s=Object.keys||function(p){var g=[];for(var m in p)g.push(m);return g};n.exports=h;var o=e("./_stream_readable"),l=e("./_stream_writable");e("inherits")(h,o);for(var u=s(l.prototype),c=0;c<u.length;c++){var f=u[c];h.prototype[f]||(h.prototype[f]=l.prototype[f])}function h(p){if(!(this instanceof h))return new h(p);o.call(this,p),l.call(this,p),this.allowHalfOpen=!0,p&&(p.readable===!1&&(this.readable=!1),p.writable===!1&&(this.writable=!1),p.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||a.nextTick(A,this)}function A(p){p.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,n,i){n.exports=s;var a=e("./_stream_transform");function s(o){if(!(this instanceof s))return new s(o);a.call(this,o)}e("inherits")(s,a),s.prototype._transform=function(o,l,u){u(null,o)}},{"./_stream_transform":481,inherits:440}],480:[function(e,n,i){(function(a,s){(function(){var o;n.exports=R,R.ReadableState=D,e("events").EventEmitter;var l=function(z,H){return z.listeners(H).length},u=e("./internal/streams/stream"),c=e("buffer").Buffer,f=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,d=e("util");h=d&&d.debuglog?d.debuglog("stream"):function(){};var A,p,g,m=e("./internal/streams/buffer_list"),v=e("./internal/streams/destroy"),y=e("./internal/streams/state").getHighWaterMark,b=e("../errors").codes,_=b.ERR_INVALID_ARG_TYPE,T=b.ERR_STREAM_PUSH_AFTER_EOF,I=b.ERR_METHOD_NOT_IMPLEMENTED,N=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(R,u);var F=v.errorOrDestroy,P=["error","close","destroy","pause","resume"];function D(z,H,K){o=o||e("./_stream_duplex"),z=z||{},typeof K!="boolean"&&(K=H instanceof o),this.objectMode=!!z.objectMode,K&&(this.objectMode=this.objectMode||!!z.readableObjectMode),this.highWaterMark=y(this,z,"readableHighWaterMark",K),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=z.emitClose!==!1,this.autoDestroy=!!z.autoDestroy,this.destroyed=!1,this.defaultEncoding=z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,z.encoding&&(A||(A=e("string_decoder/").StringDecoder),this.decoder=new A(z.encoding),this.encoding=z.encoding)}function R(z){if(o=o||e("./_stream_duplex"),!(this instanceof R))return new R(z);var H=this instanceof o;this._readableState=new D(z,this,H),this.readable=!0,z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy)),u.call(this)}function E(z,H,K,Z,ie){h("readableAddChunk",H);var ee,ne=z._readableState;if(H===null)ne.reading=!1,function(te,le){if(h("onEofChunk"),!le.ended){if(le.decoder){var re=le.decoder.end();re&&re.length&&(le.buffer.push(re),le.length+=le.objectMode?1:re.length)}le.ended=!0,le.sync?w(te):(le.needReadable=!1,le.emittedReadable||(le.emittedReadable=!0,C(te)))}}(z,ne);else if(ie||(ee=function(te,le){var re;de=le,c.isBuffer(de)||de instanceof f||typeof le=="string"||le===void 0||te.objectMode||(re=new _("chunk",["string","Buffer","Uint8Array"],le));var de;return re}(ne,H)),ee)F(z,ee);else if(ne.objectMode||H&&H.length>0)if(typeof H=="string"||ne.objectMode||Object.getPrototypeOf(H)===c.prototype||(H=function(te){return c.from(te)}(H)),Z)ne.endEmitted?F(z,new N):L(z,ne,H,!0);else if(ne.ended)F(z,new T);else{if(ne.destroyed)return!1;ne.reading=!1,ne.decoder&&!K?(H=ne.decoder.write(H),ne.objectMode||H.length!==0?L(z,ne,H,!1):S(z,ne)):L(z,ne,H,!1)}else Z||(ne.reading=!1,S(z,ne));return!ne.ended&&(ne.length<ne.highWaterMark||ne.length===0)}function L(z,H,K,Z){H.flowing&&H.length===0&&!H.sync?(H.awaitDrain=0,z.emit("data",K)):(H.length+=H.objectMode?1:K.length,Z?H.buffer.unshift(K):H.buffer.push(K),H.needReadable&&w(z)),S(z,H)}Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(z){this._readableState&&(this._readableState.destroyed=z)}}),R.prototype.destroy=v.destroy,R.prototype._undestroy=v.undestroy,R.prototype._destroy=function(z,H){H(z)},R.prototype.push=function(z,H){var K,Z=this._readableState;return Z.objectMode?K=!0:typeof z=="string"&&((H=H||Z.defaultEncoding)!==Z.encoding&&(z=c.from(z,H),H=""),K=!0),E(this,z,H,!1,K)},R.prototype.unshift=function(z){return E(this,z,null,!0,!1)},R.prototype.isPaused=function(){return this._readableState.flowing===!1},R.prototype.setEncoding=function(z){A||(A=e("string_decoder/").StringDecoder);var H=new A(z);this._readableState.decoder=H,this._readableState.encoding=this._readableState.decoder.encoding;for(var K=this._readableState.buffer.head,Z="";K!==null;)Z+=H.write(K.data),K=K.next;return this._readableState.buffer.clear(),Z!==""&&this._readableState.buffer.push(Z),this._readableState.length=Z.length,this};function k(z,H){return z<=0||H.length===0&&H.ended?0:H.objectMode?1:z!=z?H.flowing&&H.length?H.buffer.head.data.length:H.length:(z>H.highWaterMark&&(H.highWaterMark=function(K){return K>=1073741824?K=1073741824:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K}(z)),z<=H.length?z:H.ended?H.length:(H.needReadable=!0,0))}function w(z){var H=z._readableState;h("emitReadable",H.needReadable,H.emittedReadable),H.needReadable=!1,H.emittedReadable||(h("emitReadable",H.flowing),H.emittedReadable=!0,a.nextTick(C,z))}function C(z){var H=z._readableState;h("emitReadable_",H.destroyed,H.length,H.ended),H.destroyed||!H.length&&!H.ended||(z.emit("readable"),H.emittedReadable=!1),H.needReadable=!H.flowing&&!H.ended&&H.length<=H.highWaterMark,U(z)}function S(z,H){H.readingMore||(H.readingMore=!0,a.nextTick(B,z,H))}function B(z,H){for(;!H.reading&&!H.ended&&(H.length<H.highWaterMark||H.flowing&&H.length===0);){var K=H.length;if(h("maybeReadMore read 0"),z.read(0),K===H.length)break}H.readingMore=!1}function O(z){var H=z._readableState;H.readableListening=z.listenerCount("readable")>0,H.resumeScheduled&&!H.paused?H.flowing=!0:z.listenerCount("data")>0&&z.resume()}function V(z){h("readable nexttick read 0"),z.read(0)}function M(z,H){h("resume",H.reading),H.reading||z.read(0),H.resumeScheduled=!1,z.emit("resume"),U(z),H.flowing&&!H.reading&&z.read(0)}function U(z){var H=z._readableState;for(h("flow",H.flowing);H.flowing&&z.read()!==null;);}function Q(z,H){return H.length===0?null:(H.objectMode?K=H.buffer.shift():!z||z>=H.length?(K=H.decoder?H.buffer.join(""):H.buffer.length===1?H.buffer.first():H.buffer.concat(H.length),H.buffer.clear()):K=H.buffer.consume(z,H.decoder),K);var K}function W(z){var H=z._readableState;h("endReadable",H.endEmitted),H.endEmitted||(H.ended=!0,a.nextTick(j,H,z))}function j(z,H){if(h("endReadableNT",z.endEmitted,z.length),!z.endEmitted&&z.length===0&&(z.endEmitted=!0,H.readable=!1,H.emit("end"),z.autoDestroy)){var K=H._writableState;(!K||K.autoDestroy&&K.finished)&&H.destroy()}}function X(z,H){for(var K=0,Z=z.length;K<Z;K++)if(z[K]===H)return K;return-1}R.prototype.read=function(z){h("read",z),z=parseInt(z,10);var H=this._readableState,K=z;if(z!==0&&(H.emittedReadable=!1),z===0&&H.needReadable&&((H.highWaterMark!==0?H.length>=H.highWaterMark:H.length>0)||H.ended))return h("read: emitReadable",H.length,H.ended),H.length===0&&H.ended?W(this):w(this),null;if((z=k(z,H))===0&&H.ended)return H.length===0&&W(this),null;var Z,ie=H.needReadable;return h("need readable",ie),(H.length===0||H.length-z<H.highWaterMark)&&h("length less than watermark",ie=!0),H.ended||H.reading?h("reading or ended",ie=!1):ie&&(h("do read"),H.reading=!0,H.sync=!0,H.length===0&&(H.needReadable=!0),this._read(H.highWaterMark),H.sync=!1,H.reading||(z=k(K,H))),(Z=z>0?Q(z,H):null)===null?(H.needReadable=H.length<=H.highWaterMark,z=0):(H.length-=z,H.awaitDrain=0),H.length===0&&(H.ended||(H.needReadable=!0),K!==z&&H.ended&&W(this)),Z!==null&&this.emit("data",Z),Z},R.prototype._read=function(z){F(this,new I("_read()"))},R.prototype.pipe=function(z,H){var K=this,Z=this._readableState;switch(Z.pipesCount){case 0:Z.pipes=z;break;case 1:Z.pipes=[Z.pipes,z];break;default:Z.pipes.push(z)}Z.pipesCount+=1,h("pipe count=%d opts=%j",Z.pipesCount,H);var ie=(!H||H.end!==!1)&&z!==a.stdout&&z!==a.stderr?ne:Se;function ee(De,ge){h("onunpipe"),De===K&&ge&&ge.hasUnpiped===!1&&(ge.hasUnpiped=!0,h("cleanup"),z.removeListener("close",ue),z.removeListener("finish",Fe),z.removeListener("drain",te),z.removeListener("error",de),z.removeListener("unpipe",ee),K.removeListener("end",ne),K.removeListener("end",Se),K.removeListener("data",re),le=!0,!Z.awaitDrain||z._writableState&&!z._writableState.needDrain||te())}function ne(){h("onend"),z.end()}Z.endEmitted?a.nextTick(ie):K.once("end",ie),z.on("unpipe",ee);var te=function(De){return function(){var ge=De._readableState;h("pipeOnDrain",ge.awaitDrain),ge.awaitDrain&&ge.awaitDrain--,ge.awaitDrain===0&&l(De,"data")&&(ge.flowing=!0,U(De))}}(K);z.on("drain",te);var le=!1;function re(De){h("ondata");var ge=z.write(De);h("dest.write",ge),ge===!1&&((Z.pipesCount===1&&Z.pipes===z||Z.pipesCount>1&&X(Z.pipes,z)!==-1)&&!le&&(h("false write response, pause",Z.awaitDrain),Z.awaitDrain++),K.pause())}function de(De){h("onerror",De),Se(),z.removeListener("error",de),l(z,"error")===0&&F(z,De)}function ue(){z.removeListener("finish",Fe),Se()}function Fe(){h("onfinish"),z.removeListener("close",ue),Se()}function Se(){h("unpipe"),K.unpipe(z)}return K.on("data",re),function(De,ge,Be){if(typeof De.prependListener=="function")return De.prependListener(ge,Be);De._events&&De._events[ge]?Array.isArray(De._events[ge])?De._events[ge].unshift(Be):De._events[ge]=[Be,De._events[ge]]:De.on(ge,Be)}(z,"error",de),z.once("close",ue),z.once("finish",Fe),z.emit("pipe",K),Z.flowing||(h("pipe resume"),K.resume()),z},R.prototype.unpipe=function(z){var H=this._readableState,K={hasUnpiped:!1};if(H.pipesCount===0)return this;if(H.pipesCount===1)return z&&z!==H.pipes||(z||(z=H.pipes),H.pipes=null,H.pipesCount=0,H.flowing=!1,z&&z.emit("unpipe",this,K)),this;if(!z){var Z=H.pipes,ie=H.pipesCount;H.pipes=null,H.pipesCount=0,H.flowing=!1;for(var ee=0;ee<ie;ee++)Z[ee].emit("unpipe",this,{hasUnpiped:!1});return this}var ne=X(H.pipes,z);return ne===-1||(H.pipes.splice(ne,1),H.pipesCount-=1,H.pipesCount===1&&(H.pipes=H.pipes[0]),z.emit("unpipe",this,K)),this},R.prototype.on=function(z,H){var K=u.prototype.on.call(this,z,H),Z=this._readableState;return z==="data"?(Z.readableListening=this.listenerCount("readable")>0,Z.flowing!==!1&&this.resume()):z==="readable"&&(Z.endEmitted||Z.readableListening||(Z.readableListening=Z.needReadable=!0,Z.flowing=!1,Z.emittedReadable=!1,h("on readable",Z.length,Z.reading),Z.length?w(this):Z.reading||a.nextTick(V,this))),K},R.prototype.addListener=R.prototype.on,R.prototype.removeListener=function(z,H){var K=u.prototype.removeListener.call(this,z,H);return z==="readable"&&a.nextTick(O,this),K},R.prototype.removeAllListeners=function(z){var H=u.prototype.removeAllListeners.apply(this,arguments);return z!=="readable"&&z!==void 0||a.nextTick(O,this),H},R.prototype.resume=function(){var z=this._readableState;return z.flowing||(h("resume"),z.flowing=!z.readableListening,function(H,K){K.resumeScheduled||(K.resumeScheduled=!0,a.nextTick(M,H,K))}(this,z)),z.paused=!1,this},R.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},R.prototype.wrap=function(z){var H=this,K=this._readableState,Z=!1;for(var ie in z.on("end",function(){if(h("wrapped end"),K.decoder&&!K.ended){var ne=K.decoder.end();ne&&ne.length&&H.push(ne)}H.push(null)}),z.on("data",function(ne){h("wrapped data"),K.decoder&&(ne=K.decoder.write(ne)),K.objectMode&&ne==null||(K.objectMode||ne&&ne.length)&&(H.push(ne)||(Z=!0,z.pause()))}),z)this[ie]===void 0&&typeof z[ie]=="function"&&(this[ie]=function(ne){return function(){return z[ne].apply(z,arguments)}}(ie));for(var ee=0;ee<P.length;ee++)z.on(P[ee],this.emit.bind(this,P[ee]));return this._read=function(ne){h("wrapped _read",ne),Z&&(Z=!1,z.resume())},this},typeof Symbol=="function"&&(R.prototype[Symbol.asyncIterator]=function(){return p===void 0&&(p=e("./internal/streams/async_iterator")),p(this)}),Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(R.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(R.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(z){this._readableState&&(this._readableState.flowing=z)}}),R._fromList=Q,Object.defineProperty(R.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(R.from=function(z,H){return g===void 0&&(g=e("./internal/streams/from")),g(R,z,H)})}).call(this)}).call(this,e("_process"),typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,n,i){n.exports=h;var a=e("../errors").codes,s=a.ERR_METHOD_NOT_IMPLEMENTED,o=a.ERR_MULTIPLE_CALLBACK,l=a.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=a.ERR_TRANSFORM_WITH_LENGTH_0,c=e("./_stream_duplex");function f(p,g){var m=this._transformState;m.transforming=!1;var v=m.writecb;if(v===null)return this.emit("error",new o);m.writechunk=null,m.writecb=null,g!=null&&this.push(g),v(p);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function h(p){if(!(this instanceof h))return new h(p);c.call(this,p),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",d)}function d(){var p=this;typeof this._flush!="function"||this._readableState.destroyed?A(this,null,null):this._flush(function(g,m){A(p,g,m)})}function A(p,g,m){if(g)return p.emit("error",g);if(m!=null&&p.push(m),p._writableState.length)throw new u;if(p._transformState.transforming)throw new l;return p.push(null)}e("inherits")(h,c),h.prototype.push=function(p,g){return this._transformState.needTransform=!1,c.prototype.push.call(this,p,g)},h.prototype._transform=function(p,g,m){m(new s("_transform()"))},h.prototype._write=function(p,g,m){var v=this._transformState;if(v.writecb=m,v.writechunk=p,v.writeencoding=g,!v.transforming){var y=this._readableState;(v.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},h.prototype._read=function(p){var g=this._transformState;g.writechunk===null||g.transforming?g.needTransform=!0:(g.transforming=!0,this._transform(g.writechunk,g.writeencoding,g.afterTransform))},h.prototype._destroy=function(p,g){c.prototype._destroy.call(this,p,function(m){g(m)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,n,i){(function(a,s){(function(){function o(B){var O=this;this.next=null,this.entry=null,this.finish=function(){(function(V,M,U){var Q=V.entry;for(V.entry=null;Q;){var W=Q.callback;M.pendingcb--,W(U),Q=Q.next}M.corkedRequestsFree.next=V})(O,B)}}var l;n.exports=R,R.WritableState=D;var u={deprecate:e("util-deprecate")},c=e("./internal/streams/stream"),f=e("buffer").Buffer,h=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,A=e("./internal/streams/destroy"),p=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,m=g.ERR_INVALID_ARG_TYPE,v=g.ERR_METHOD_NOT_IMPLEMENTED,y=g.ERR_MULTIPLE_CALLBACK,b=g.ERR_STREAM_CANNOT_PIPE,_=g.ERR_STREAM_DESTROYED,T=g.ERR_STREAM_NULL_VALUES,I=g.ERR_STREAM_WRITE_AFTER_END,N=g.ERR_UNKNOWN_ENCODING,F=A.errorOrDestroy;function P(){}function D(B,O,V){l=l||e("./_stream_duplex"),B=B||{},typeof V!="boolean"&&(V=O instanceof l),this.objectMode=!!B.objectMode,V&&(this.objectMode=this.objectMode||!!B.writableObjectMode),this.highWaterMark=p(this,B,"writableHighWaterMark",V),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var M=B.decodeStrings===!1;this.decodeStrings=!M,this.defaultEncoding=B.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(U){(function(Q,W){var j=Q._writableState,X=j.sync,z=j.writecb;if(typeof z!="function")throw new y;if(function(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0}(j),W)(function(K,Z,ie,ee,ne){--Z.pendingcb,ie?(a.nextTick(ne,ee),a.nextTick(S,K,Z),K._writableState.errorEmitted=!0,F(K,ee)):(ne(ee),K._writableState.errorEmitted=!0,F(K,ee),S(K,Z))})(Q,j,X,W,z);else{var H=w(j)||Q.destroyed;H||j.corked||j.bufferProcessing||!j.bufferedRequest||k(Q,j),X?a.nextTick(L,Q,j,H,z):L(Q,j,H,z)}})(O,U)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=B.emitClose!==!1,this.autoDestroy=!!B.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function R(B){var O=this instanceof(l=l||e("./_stream_duplex"));if(!O&&!d.call(R,this))return new R(B);this._writableState=new D(B,this,O),this.writable=!0,B&&(typeof B.write=="function"&&(this._write=B.write),typeof B.writev=="function"&&(this._writev=B.writev),typeof B.destroy=="function"&&(this._destroy=B.destroy),typeof B.final=="function"&&(this._final=B.final)),c.call(this)}function E(B,O,V,M,U,Q,W){O.writelen=M,O.writecb=W,O.writing=!0,O.sync=!0,O.destroyed?O.onwrite(new _("write")):V?B._writev(U,O.onwrite):B._write(U,Q,O.onwrite),O.sync=!1}function L(B,O,V,M){V||function(U,Q){Q.length===0&&Q.needDrain&&(Q.needDrain=!1,U.emit("drain"))}(B,O),O.pendingcb--,M(),S(B,O)}function k(B,O){O.bufferProcessing=!0;var V=O.bufferedRequest;if(B._writev&&V&&V.next){var M=O.bufferedRequestCount,U=new Array(M),Q=O.corkedRequestsFree;Q.entry=V;for(var W=0,j=!0;V;)U[W]=V,V.isBuf||(j=!1),V=V.next,W+=1;U.allBuffers=j,E(B,O,!0,O.length,U,"",Q.finish),O.pendingcb++,O.lastBufferedRequest=null,Q.next?(O.corkedRequestsFree=Q.next,Q.next=null):O.corkedRequestsFree=new o(O),O.bufferedRequestCount=0}else{for(;V;){var X=V.chunk,z=V.encoding,H=V.callback;if(E(B,O,!1,O.objectMode?1:X.length,X,z,H),V=V.next,O.bufferedRequestCount--,O.writing)break}V===null&&(O.lastBufferedRequest=null)}O.bufferedRequest=V,O.bufferProcessing=!1}function w(B){return B.ending&&B.length===0&&B.bufferedRequest===null&&!B.finished&&!B.writing}function C(B,O){B._final(function(V){O.pendingcb--,V&&F(B,V),O.prefinished=!0,B.emit("prefinish"),S(B,O)})}function S(B,O){var V=w(O);if(V&&(function(U,Q){Q.prefinished||Q.finalCalled||(typeof U._final!="function"||Q.destroyed?(Q.prefinished=!0,U.emit("prefinish")):(Q.pendingcb++,Q.finalCalled=!0,a.nextTick(C,U,Q)))}(B,O),O.pendingcb===0&&(O.finished=!0,B.emit("finish"),O.autoDestroy))){var M=B._readableState;(!M||M.autoDestroy&&M.endEmitted)&&B.destroy()}return V}e("inherits")(R,c),D.prototype.getBuffer=function(){for(var B=this.bufferedRequest,O=[];B;)O.push(B),B=B.next;return O},function(){try{Object.defineProperty(D.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(R,Symbol.hasInstance,{value:function(B){return!!d.call(this,B)||this===R&&B&&B._writableState instanceof D}})):d=function(B){return B instanceof this},R.prototype.pipe=function(){F(this,new b)},R.prototype.write=function(B,O,V){var M,U=this._writableState,Q=!1,W=!U.objectMode&&(M=B,f.isBuffer(M)||M instanceof h);return W&&!f.isBuffer(B)&&(B=function(j){return f.from(j)}(B)),typeof O=="function"&&(V=O,O=null),W?O="buffer":O||(O=U.defaultEncoding),typeof V!="function"&&(V=P),U.ending?function(j,X){var z=new I;F(j,z),a.nextTick(X,z)}(this,V):(W||function(j,X,z,H){var K;return z===null?K=new T:typeof z=="string"||X.objectMode||(K=new m("chunk",["string","Buffer"],z)),!K||(F(j,K),a.nextTick(H,K),!1)}(this,U,B,V))&&(U.pendingcb++,Q=function(j,X,z,H,K,Z){if(!z){var ie=function(le,re,de){return le.objectMode||le.decodeStrings===!1||typeof re!="string"||(re=f.from(re,de)),re}(X,H,K);H!==ie&&(z=!0,K="buffer",H=ie)}var ee=X.objectMode?1:H.length;X.length+=ee;var ne=X.length<X.highWaterMark;if(ne||(X.needDrain=!0),X.writing||X.corked){var te=X.lastBufferedRequest;X.lastBufferedRequest={chunk:H,encoding:K,isBuf:z,callback:Z,next:null},te?te.next=X.lastBufferedRequest:X.bufferedRequest=X.lastBufferedRequest,X.bufferedRequestCount+=1}else E(j,X,!1,ee,H,K,Z);return ne}(this,U,W,B,O,V)),Q},R.prototype.cork=function(){this._writableState.corked++},R.prototype.uncork=function(){var B=this._writableState;B.corked&&(B.corked--,B.writing||B.corked||B.bufferProcessing||!B.bufferedRequest||k(this,B))},R.prototype.setDefaultEncoding=function(B){if(typeof B=="string"&&(B=B.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((B+"").toLowerCase())>-1))throw new N(B);return this._writableState.defaultEncoding=B,this},Object.defineProperty(R.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),R.prototype._write=function(B,O,V){V(new v("_write()"))},R.prototype._writev=null,R.prototype.end=function(B,O,V){var M=this._writableState;return typeof B=="function"?(V=B,B=null,O=null):typeof O=="function"&&(V=O,O=null),B!=null&&this.write(B,O),M.corked&&(M.corked=1,this.uncork()),M.ending||function(U,Q,W){Q.ending=!0,S(U,Q),W&&(Q.finished?a.nextTick(W):U.once("finish",W)),Q.ended=!0,U.writable=!1}(this,M,V),this},Object.defineProperty(R.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(B){this._writableState&&(this._writableState.destroyed=B)}}),R.prototype.destroy=A.destroy,R.prototype._undestroy=A.undestroy,R.prototype._destroy=function(B,O){O(B)}}).call(this)}).call(this,e("_process"),typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,n,i){(function(a){(function(){var s;function o(_,T,I){return(T=function(N){var F=function(P,D){if(typeof P!="object"||P===null)return P;var R=P[Symbol.toPrimitive];if(R!==void 0){var E=R.call(P,D||"default");if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(D==="string"?String:Number)(P)}(N,"string");return typeof F=="symbol"?F:String(F)}(T))in _?Object.defineProperty(_,T,{value:I,enumerable:!0,configurable:!0,writable:!0}):_[T]=I,_}var l=e("./end-of-stream"),u=Symbol("lastResolve"),c=Symbol("lastReject"),f=Symbol("error"),h=Symbol("ended"),d=Symbol("lastPromise"),A=Symbol("handlePromise"),p=Symbol("stream");function g(_,T){return{value:_,done:T}}function m(_){var T=_[u];if(T!==null){var I=_[p].read();I!==null&&(_[d]=null,_[u]=null,_[c]=null,T(g(I,!1)))}}function v(_){a.nextTick(m,_)}var y=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((o(s={get stream(){return this[p]},next:function(){var _=this,T=this[f];if(T!==null)return Promise.reject(T);if(this[h])return Promise.resolve(g(void 0,!0));if(this[p].destroyed)return new Promise(function(P,D){a.nextTick(function(){_[f]?D(_[f]):P(g(void 0,!0))})});var I,N=this[d];if(N)I=new Promise(function(P,D){return function(R,E){P.then(function(){D[h]?R(g(void 0,!0)):D[A](R,E)},E)}}(N,this));else{var F=this[p].read();if(F!==null)return Promise.resolve(g(F,!1));I=new Promise(this[A])}return this[d]=I,I}},Symbol.asyncIterator,function(){return this}),o(s,"return",function(){var _=this;return new Promise(function(T,I){_[p].destroy(null,function(N){N?I(N):T(g(void 0,!0))})})}),s),y);n.exports=function(_){var T,I=Object.create(b,(o(T={},p,{value:_,writable:!0}),o(T,u,{value:null,writable:!0}),o(T,c,{value:null,writable:!0}),o(T,f,{value:null,writable:!0}),o(T,h,{value:_._readableState.endEmitted,writable:!0}),o(T,A,{value:function(N,F){var P=I[p].read();P?(I[d]=null,I[u]=null,I[c]=null,N(g(P,!1))):(I[u]=N,I[c]=F)},writable:!0}),T));return I[d]=null,l(_,function(N){if(N&&N.code!=="ERR_STREAM_PREMATURE_CLOSE"){var F=I[c];return F!==null&&(I[d]=null,I[u]=null,I[c]=null,F(N)),void(I[f]=N)}var P=I[u];P!==null&&(I[d]=null,I[u]=null,I[c]=null,P(g(void 0,!0))),I[h]=!0}),_.on("readable",v.bind(null,I)),I}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,n,i){function a(d,A){var p=Object.keys(d);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(d);A&&(g=g.filter(function(m){return Object.getOwnPropertyDescriptor(d,m).enumerable})),p.push.apply(p,g)}return p}function s(d){for(var A=1;A<arguments.length;A++){var p=arguments[A]!=null?arguments[A]:{};A%2?a(Object(p),!0).forEach(function(g){o(d,g,p[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(p)):a(Object(p)).forEach(function(g){Object.defineProperty(d,g,Object.getOwnPropertyDescriptor(p,g))})}return d}function o(d,A,p){return(A=u(A))in d?Object.defineProperty(d,A,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[A]=p,d}function l(d,A){for(var p=0;p<A.length;p++){var g=A[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,u(g.key),g)}}function u(d){var A=function(p,g){if(typeof p!="object"||p===null)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var v=m.call(p,g||"default");if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(p)}(d,"string");return typeof A=="symbol"?A:String(A)}var c=e("buffer").Buffer,f=e("util").inspect,h=f&&f.custom||"inspect";n.exports=function(){function d(){(function(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")})(this,d),this.head=null,this.tail=null,this.length=0}var A,p;return A=d,(p=[{key:"push",value:function(g){var m={data:g,next:null};this.length>0?this.tail.next=m:this.head=m,this.tail=m,++this.length}},{key:"unshift",value:function(g){var m={data:g,next:this.head};this.length===0&&(this.tail=m),this.head=m,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var m=this.head,v=""+m.data;m=m.next;)v+=g+m.data;return v}},{key:"concat",value:function(g){if(this.length===0)return c.alloc(0);for(var m,v,y,b=c.allocUnsafe(g>>>0),_=this.head,T=0;_;)m=_.data,v=b,y=T,c.prototype.copy.call(m,v,y),T+=_.data.length,_=_.next;return b}},{key:"consume",value:function(g,m){var v;return g<this.head.data.length?(v=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):v=g===this.head.data.length?this.shift():m?this._getString(g):this._getBuffer(g),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var m=this.head,v=1,y=m.data;for(g-=y.length;m=m.next;){var b=m.data,_=g>b.length?b.length:g;if(_===b.length?y+=b:y+=b.slice(0,g),(g-=_)==0){_===b.length?(++v,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=b.slice(_));break}++v}return this.length-=v,y}},{key:"_getBuffer",value:function(g){var m=c.allocUnsafe(g),v=this.head,y=1;for(v.data.copy(m),g-=v.data.length;v=v.next;){var b=v.data,_=g>b.length?b.length:g;if(b.copy(m,m.length-g,0,_),(g-=_)==0){_===b.length?(++y,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=b.slice(_));break}++y}return this.length-=y,m}},{key:h,value:function(g,m){return f(this,s(s({},m),{},{depth:0,customInspect:!1}))}}])&&l(A.prototype,p),Object.defineProperty(A,"prototype",{writable:!1}),d}()},{buffer:220,util:188}],485:[function(e,n,i){(function(a){(function(){function s(u,c){l(u,c),o(u)}function o(u){u._writableState&&!u._writableState.emitClose||u._readableState&&!u._readableState.emitClose||u.emit("close")}function l(u,c){u.emit("error",c)}n.exports={destroy:function(u,c){var f=this,h=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return h||d?(c?c(u):u&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(l,this,u)):a.nextTick(l,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(A){!c&&A?f._writableState?f._writableState.errorEmitted?a.nextTick(o,f):(f._writableState.errorEmitted=!0,a.nextTick(s,f,A)):a.nextTick(s,f,A):c?(a.nextTick(o,f),c(A)):a.nextTick(o,f)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(u,c){var f=u._readableState,h=u._writableState;f&&f.autoDestroy||h&&h.autoDestroy?u.destroy(c):u.emit("error",c)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,n,i){var a=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function s(){}n.exports=function o(l,u,c){if(typeof u=="function")return o(l,null,u);u||(u={}),c=function(_){var T=!1;return function(){if(!T){T=!0;for(var I=arguments.length,N=new Array(I),F=0;F<I;F++)N[F]=arguments[F];_.apply(this,N)}}}(c||s);var f=u.readable||u.readable!==!1&&l.readable,h=u.writable||u.writable!==!1&&l.writable,d=function(){l.writable||p()},A=l._writableState&&l._writableState.finished,p=function(){h=!1,A=!0,f||c.call(l)},g=l._readableState&&l._readableState.endEmitted,m=function(){f=!1,g=!0,h||c.call(l)},v=function(_){c.call(l,_)},y=function(){var _;return f&&!g?(l._readableState&&l._readableState.ended||(_=new a),c.call(l,_)):h&&!A?(l._writableState&&l._writableState.ended||(_=new a),c.call(l,_)):void 0},b=function(){l.req.on("finish",p)};return function(_){return _.setHeader&&typeof _.abort=="function"}(l)?(l.on("complete",p),l.on("abort",y),l.req?b():l.on("request",b)):h&&!l._writableState&&(l.on("end",d),l.on("close",d)),l.on("end",m),l.on("finish",p),u.error!==!1&&l.on("error",v),l.on("close",y),function(){l.removeListener("complete",p),l.removeListener("abort",y),l.removeListener("request",b),l.req&&l.req.removeListener("finish",p),l.removeListener("end",d),l.removeListener("close",d),l.removeListener("finish",p),l.removeListener("end",m),l.removeListener("error",v),l.removeListener("close",y)}}},{"../../../errors":477}],487:[function(e,n,i){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,n,i){var a,s=e("../../../errors").codes,o=s.ERR_MISSING_ARGS,l=s.ERR_STREAM_DESTROYED;function u(A){if(A)throw A}function c(A,p,g,m){m=function(b){var _=!1;return function(){_||(_=!0,b.apply(void 0,arguments))}}(m);var v=!1;A.on("close",function(){v=!0}),a===void 0&&(a=e("./end-of-stream")),a(A,{readable:p,writable:g},function(b){if(b)return m(b);v=!0,m()});var y=!1;return function(b){if(!v&&!y)return y=!0,function(_){return _.setHeader&&typeof _.abort=="function"}(A)?A.abort():typeof A.destroy=="function"?A.destroy():void m(b||new l("pipe"))}}function f(A){A()}function h(A,p){return A.pipe(p)}function d(A){return A.length?typeof A[A.length-1]!="function"?u:A.pop():u}n.exports=function(){for(var A=arguments.length,p=new Array(A),g=0;g<A;g++)p[g]=arguments[g];var m,v=d(p);if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new o("streams");var y=p.map(function(b,_){var T=_<p.length-1;return c(b,T,_>0,function(I){m||(m=I),I&&y.forEach(f),T||(y.forEach(f),v(m))})});return p.reduce(h)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,n,i){var a=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(s,o,l,u){var c=function(f,h,d){return f.highWaterMark!=null?f.highWaterMark:h?f[d]:null}(o,u,l);if(c!=null){if(!isFinite(c)||Math.floor(c)!==c||c<0)throw new a(u?l:"highWaterMark",c);return Math.floor(c)}return s.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,n,i){n.exports=e("events").EventEmitter},{events:422}],491:[function(e,n,i){(i=n.exports=e("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=e("./lib/_stream_writable.js"),i.Duplex=e("./lib/_stream_duplex.js"),i.Transform=e("./lib/_stream_transform.js"),i.PassThrough=e("./lib/_stream_passthrough.js"),i.finished=e("./lib/internal/streams/end-of-stream.js"),i.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,n,i){var a=function(s){var o=Object.prototype,l=o.hasOwnProperty,u=Object.defineProperty||function(S,B,O){S[B]=O.value},c=typeof Symbol=="function"?Symbol:{},f=c.iterator||"@@iterator",h=c.asyncIterator||"@@asyncIterator",d=c.toStringTag||"@@toStringTag";function A(S,B,O){return Object.defineProperty(S,B,{value:O,enumerable:!0,configurable:!0,writable:!0}),S[B]}try{A({},"")}catch{A=function(B,O,V){return B[O]=V}}function p(S,B,O,V){var M=B&&B.prototype instanceof v?B:v,U=Object.create(M.prototype),Q=new k(V||[]);return u(U,"_invoke",{value:D(S,O,Q)}),U}function g(S,B,O){try{return{type:"normal",arg:S.call(B,O)}}catch(V){return{type:"throw",arg:V}}}s.wrap=p;var m={};function v(){}function y(){}function b(){}var _={};A(_,f,function(){return this});var T=Object.getPrototypeOf,I=T&&T(T(w([])));I&&I!==o&&l.call(I,f)&&(_=I);var N=b.prototype=v.prototype=Object.create(_);function F(S){["next","throw","return"].forEach(function(B){A(S,B,function(O){return this._invoke(B,O)})})}function P(S,B){var O;u(this,"_invoke",{value:function(V,M){function U(){return new B(function(Q,W){(function j(X,z,H,K){var Z=g(S[X],S,z);if(Z.type!=="throw"){var ie=Z.arg,ee=ie.value;return ee&&typeof ee=="object"&&l.call(ee,"__await")?B.resolve(ee.__await).then(function(ne){j("next",ne,H,K)},function(ne){j("throw",ne,H,K)}):B.resolve(ee).then(function(ne){ie.value=ne,H(ie)},function(ne){return j("throw",ne,H,K)})}K(Z.arg)})(V,M,Q,W)})}return O=O?O.then(U,U):U()}})}function D(S,B,O){var V="suspendedStart";return function(M,U){if(V==="executing")throw new Error("Generator is already running");if(V==="completed"){if(M==="throw")throw U;return C()}for(O.method=M,O.arg=U;;){var Q=O.delegate;if(Q){var W=R(Q,O);if(W){if(W===m)continue;return W}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(V==="suspendedStart")throw V="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);V="executing";var j=g(S,B,O);if(j.type==="normal"){if(V=O.done?"completed":"suspendedYield",j.arg===m)continue;return{value:j.arg,done:O.done}}j.type==="throw"&&(V="completed",O.method="throw",O.arg=j.arg)}}}function R(S,B){var O=B.method,V=S.iterator[O];if(V===void 0)return B.delegate=null,O==="throw"&&S.iterator.return&&(B.method="return",B.arg=void 0,R(S,B),B.method==="throw")||O!=="return"&&(B.method="throw",B.arg=new TypeError("The iterator does not provide a '"+O+"' method")),m;var M=g(V,S.iterator,B.arg);if(M.type==="throw")return B.method="throw",B.arg=M.arg,B.delegate=null,m;var U=M.arg;return U?U.done?(B[S.resultName]=U.value,B.next=S.nextLoc,B.method!=="return"&&(B.method="next",B.arg=void 0),B.delegate=null,m):U:(B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,m)}function E(S){var B={tryLoc:S[0]};1 in S&&(B.catchLoc=S[1]),2 in S&&(B.finallyLoc=S[2],B.afterLoc=S[3]),this.tryEntries.push(B)}function L(S){var B=S.completion||{};B.type="normal",delete B.arg,S.completion=B}function k(S){this.tryEntries=[{tryLoc:"root"}],S.forEach(E,this),this.reset(!0)}function w(S){if(S){var B=S[f];if(B)return B.call(S);if(typeof S.next=="function")return S;if(!isNaN(S.length)){var O=-1,V=function M(){for(;++O<S.length;)if(l.call(S,O))return M.value=S[O],M.done=!1,M;return M.value=void 0,M.done=!0,M};return V.next=V}}return{next:C}}function C(){return{value:void 0,done:!0}}return y.prototype=b,u(N,"constructor",{value:b,configurable:!0}),u(b,"constructor",{value:y,configurable:!0}),y.displayName=A(b,d,"GeneratorFunction"),s.isGeneratorFunction=function(S){var B=typeof S=="function"&&S.constructor;return!!B&&(B===y||(B.displayName||B.name)==="GeneratorFunction")},s.mark=function(S){return Object.setPrototypeOf?Object.setPrototypeOf(S,b):(S.__proto__=b,A(S,d,"GeneratorFunction")),S.prototype=Object.create(N),S},s.awrap=function(S){return{__await:S}},F(P.prototype),A(P.prototype,h,function(){return this}),s.AsyncIterator=P,s.async=function(S,B,O,V,M){M===void 0&&(M=Promise);var U=new P(p(S,B,O,V),M);return s.isGeneratorFunction(B)?U:U.next().then(function(Q){return Q.done?Q.value:U.next()})},F(N),A(N,d,"Generator"),A(N,f,function(){return this}),A(N,"toString",function(){return"[object Generator]"}),s.keys=function(S){var B=Object(S),O=[];for(var V in B)O.push(V);return O.reverse(),function M(){for(;O.length;){var U=O.pop();if(U in B)return M.value=U,M.done=!1,M}return M.done=!0,M}},s.values=w,k.prototype={constructor:k,reset:function(S){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!S)for(var B in this)B.charAt(0)==="t"&&l.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=void 0)},stop:function(){this.done=!0;var S=this.tryEntries[0].completion;if(S.type==="throw")throw S.arg;return this.rval},dispatchException:function(S){if(this.done)throw S;var B=this;function O(j,X){return U.type="throw",U.arg=S,B.next=j,X&&(B.method="next",B.arg=void 0),!!X}for(var V=this.tryEntries.length-1;V>=0;--V){var M=this.tryEntries[V],U=M.completion;if(M.tryLoc==="root")return O("end");if(M.tryLoc<=this.prev){var Q=l.call(M,"catchLoc"),W=l.call(M,"finallyLoc");if(Q&&W){if(this.prev<M.catchLoc)return O(M.catchLoc,!0);if(this.prev<M.finallyLoc)return O(M.finallyLoc)}else if(Q){if(this.prev<M.catchLoc)return O(M.catchLoc,!0)}else{if(!W)throw new Error("try statement without catch or finally");if(this.prev<M.finallyLoc)return O(M.finallyLoc)}}}},abrupt:function(S,B){for(var O=this.tryEntries.length-1;O>=0;--O){var V=this.tryEntries[O];if(V.tryLoc<=this.prev&&l.call(V,"finallyLoc")&&this.prev<V.finallyLoc){var M=V;break}}M&&(S==="break"||S==="continue")&&M.tryLoc<=B&&B<=M.finallyLoc&&(M=null);var U=M?M.completion:{};return U.type=S,U.arg=B,M?(this.method="next",this.next=M.finallyLoc,m):this.complete(U)},complete:function(S,B){if(S.type==="throw")throw S.arg;return S.type==="break"||S.type==="continue"?this.next=S.arg:S.type==="return"?(this.rval=this.arg=S.arg,this.method="return",this.next="end"):S.type==="normal"&&B&&(this.next=B),m},finish:function(S){for(var B=this.tryEntries.length-1;B>=0;--B){var O=this.tryEntries[B];if(O.finallyLoc===S)return this.complete(O.completion,O.afterLoc),L(O),m}},catch:function(S){for(var B=this.tryEntries.length-1;B>=0;--B){var O=this.tryEntries[B];if(O.tryLoc===S){var V=O.completion;if(V.type==="throw"){var M=V.arg;L(O)}return M}}throw new Error("illegal catch attempt")},delegateYield:function(S,B,O){return this.delegate={iterator:w(S),resultName:B,nextLoc:O},this.method==="next"&&(this.arg=void 0),m}},s}(typeof n=="object"?n.exports:{});try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},{}],493:[function(e,n,i){var a=e("buffer").Buffer,s=e("inherits"),o=e("hash-base"),l=new Array(16),u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],A=[1352829926,1548603684,1836072691,2053994217,0];function p(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function g(T,I){return T<<I|T>>>32-I}function m(T,I,N,F,P,D,R,E){return g(T+(I^N^F)+D+R|0,E)+P|0}function v(T,I,N,F,P,D,R,E){return g(T+(I&N|~I&F)+D+R|0,E)+P|0}function y(T,I,N,F,P,D,R,E){return g(T+((I|~N)^F)+D+R|0,E)+P|0}function b(T,I,N,F,P,D,R,E){return g(T+(I&F|N&~F)+D+R|0,E)+P|0}function _(T,I,N,F,P,D,R,E){return g(T+(I^(N|~F))+D+R|0,E)+P|0}s(p,o),p.prototype._update=function(){for(var T=l,I=0;I<16;++I)T[I]=this._block.readInt32LE(4*I);for(var N=0|this._a,F=0|this._b,P=0|this._c,D=0|this._d,R=0|this._e,E=0|this._a,L=0|this._b,k=0|this._c,w=0|this._d,C=0|this._e,S=0;S<80;S+=1){var B,O;S<16?(B=m(N,F,P,D,R,T[u[S]],d[0],f[S]),O=_(E,L,k,w,C,T[c[S]],A[0],h[S])):S<32?(B=v(N,F,P,D,R,T[u[S]],d[1],f[S]),O=b(E,L,k,w,C,T[c[S]],A[1],h[S])):S<48?(B=y(N,F,P,D,R,T[u[S]],d[2],f[S]),O=y(E,L,k,w,C,T[c[S]],A[2],h[S])):S<64?(B=b(N,F,P,D,R,T[u[S]],d[3],f[S]),O=v(E,L,k,w,C,T[c[S]],A[3],h[S])):(B=_(N,F,P,D,R,T[u[S]],d[4],f[S]),O=m(E,L,k,w,C,T[c[S]],A[4],h[S])),N=R,R=D,D=g(P,10),P=F,F=B,E=C,C=w,w=g(k,10),k=L,L=O}var V=this._b+P+w|0;this._b=this._c+D+C|0,this._c=this._d+R+E|0,this._d=this._e+N+L|0,this._e=this._a+F+k|0,this._a=V},p.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var T=a.alloc?a.alloc(20):new a(20);return T.writeInt32LE(this._a,0),T.writeInt32LE(this._b,4),T.writeInt32LE(this._c,8),T.writeInt32LE(this._d,12),T.writeInt32LE(this._e,16),T},n.exports=p},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,n,i){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var a=e("buffer"),s=a.Buffer;function o(u,c){for(var f in u)c[f]=u[f]}function l(u,c,f){return s(u,c,f)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?n.exports=a:(o(a,i),i.Buffer=l),l.prototype=Object.create(s.prototype),o(s,l),l.from=function(u,c,f){if(typeof u=="number")throw new TypeError("Argument must not be a number");return s(u,c,f)},l.alloc=function(u,c,f){if(typeof u!="number")throw new TypeError("Argument must be a number");var h=s(u);return c!==void 0?typeof f=="string"?h.fill(c,f):h.fill(c):h.fill(0),h},l.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return s(u)},l.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(u)}},{buffer:220}],495:[function(e,n,i){(function(a){(function(){var s,o=e("buffer"),l=o.Buffer,u={};for(s in o)o.hasOwnProperty(s)&&s!=="SlowBuffer"&&s!=="Buffer"&&(u[s]=o[s]);var c=u.Buffer={};for(s in l)l.hasOwnProperty(s)&&s!=="allocUnsafe"&&s!=="allocUnsafeSlow"&&(c[s]=l[s]);if(u.Buffer.prototype=l.prototype,c.from&&c.from!==Uint8Array.from||(c.from=function(f,h,d){if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof f);if(f&&f.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);return l(f,h,d)}),c.alloc||(c.alloc=function(f,h,d){if(typeof f!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof f);if(f<0||f>=2*(1<<30))throw new RangeError('The value "'+f+'" is invalid for option "size"');var A=l(f);return h&&h.length!==0?typeof d=="string"?A.fill(h,d):A.fill(h):A.fill(0),A}),!u.kStringMaxLength)try{u.kStringMaxLength=a.binding("buffer").kStringMaxLength}catch{}u.constants||(u.constants={MAX_LENGTH:u.kMaxLength},u.kStringMaxLength&&(u.constants.MAX_STRING_LENGTH=u.kStringMaxLength)),n.exports=u}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0});const a=e("xmlchars/xml/1.0/ed5"),s=e("xmlchars/xml/1.1/ed2"),o=e("xmlchars/xmlns/1.0/ed3");var l=a.isS,u=a.isChar,c=a.isNameStartChar,f=a.isNameChar,h=a.S_LIST,d=a.NAME_RE,A=s.isChar,p=o.isNCNameStartChar,g=o.isNCNameChar,m=o.NC_NAME_RE;const v="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/2000/xmlns/",b={__proto__:null,xml:v,xmlns:y},_={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},T=w=>w===34||w===39,I=[34,39],N=[...I,91,62],F=[...I,60,93],P=[61,63,...h],D=[...h,62,38,60];function R(w,C,S){switch(C){case"xml":S!==v&&w.fail(`xml prefix must be bound to ${v}.`);break;case"xmlns":S!==y&&w.fail(`xmlns prefix must be bound to ${y}.`)}switch(S){case y:w.fail(C===""?`the default namespace may not be set to ${S}.`:`may not assign a prefix (even "xmlns") to the URI ${y}.`);break;case v:switch(C){case"xml":break;case"":w.fail(`the default namespace may not be set to ${S}.`);break;default:w.fail("may not assign the xml namespace to another prefix.")}}}const E=w=>m.test(w),L=w=>d.test(w);i.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const k={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};i.SaxesParser=class{constructor(w){this.opt=w??{},this.fragmentOpt=!!this.opt.fragment;const C=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,C){this.nameStartCheck=p,this.nameCheck=g,this.isName=E,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},b);const S=this.opt.additionalNamespaces;S!=null&&(function(B,O){for(const V of Object.keys(O))R(B,V,O[V])}(this,S),Object.assign(this.ns,S))}else this.nameStartCheck=c,this.nameCheck=f,this.isName=L,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var w;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:C}=this;this.state=C?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=C,this.xmlDeclPossible=!C,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:S}=this.opt;if(S===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");S="1.0"}this.setXMLVersion(S),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(_),(w=this.readyHandler)===null||w===void 0||w.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(w,C){this[k[w]]=C}off(w){this[k[w]]=void 0}makeError(w){var C;let S=(C=this.fileName)!==null&&C!==void 0?C:"";return this.trackPosition&&(S.length>0&&(S+=":"),S+=`${this.line}:${this.column}`),S.length>0&&(S+=": "),new Error(S+w)}fail(w){const C=this.makeError(w),S=this.errorHandler;if(S===void 0)throw C;return S(C),this}write(w){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let C=!1;w===null?(C=!0,w=""):typeof w=="object"&&(w=w.toString()),this.carriedFromPrevious!==void 0&&(w=`${this.carriedFromPrevious}${w}`,this.carriedFromPrevious=void 0);let S=w.length;const B=w.charCodeAt(S-1);!C&&(B===13||B>=55296&&B<=56319)&&(this.carriedFromPrevious=w[S-1],S--,w=w.slice(0,S));const{stateTable:O}=this;for(this.chunk=w,this.i=0;this.i<S;)O[this.state].call(this);return this.chunkPosition+=S,C?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:w,i:C}=this;if(this.prevI=C,this.i=C+1,C>=w.length)return-1;const S=w.charCodeAt(C);if(this.column++,S<55296){if(S>=32||S===9)return S;switch(S){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return w.charCodeAt(C+1)===10&&(this.i=C+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),S}}if(S>56319)return S>=57344&&S<=65533||this.fail("disallowed character."),S;const B=65536+1024*(S-55296)+(w.charCodeAt(C+1)-56320);return this.i=C+2,B>1114111&&this.fail("disallowed character."),B}getCode11(){const{chunk:w,i:C}=this;if(this.prevI=C,this.i=C+1,C>=w.length)return-1;const S=w.charCodeAt(C);if(this.column++,S<55296){if(S>31&&S<127||S>159&&S!==8232||S===9)return S;switch(S){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const O=w.charCodeAt(C+1);O!==10&&O!==133||(this.i=C+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),S}}if(S>56319)return S>=57344&&S<=65533||this.fail("disallowed character."),S;const B=65536+1024*(S-55296)+(w.charCodeAt(C+1)-56320);return this.i=C+2,B>1114111&&this.fail("disallowed character."),B}getCodeNorm(){const w=this.getCode();return w===-2?10:w}unget(){this.i=this.prevI,this.column--}captureTo(w){let{i:C}=this;const{chunk:S}=this;for(;;){const B=this.getCode(),O=B===-2,V=O?10:B;if(V===-1||w.includes(V))return this.text+=S.slice(C,this.prevI),V;O&&(this.text+=S.slice(C,this.prevI)+`
`,C=this.i)}}captureToChar(w){let{i:C}=this;const{chunk:S}=this;for(;;){let B=this.getCode();switch(B){case-2:this.text+=S.slice(C,this.prevI)+`
`,C=this.i,B=10;break;case-1:return this.text+=S.slice(C),!1}if(B===w)return this.text+=S.slice(C,this.prevI),!0}}captureNameChars(){const{chunk:w,i:C}=this;for(;;){const S=this.getCode();if(S===-1)return this.name+=w.slice(C),-1;if(!f(S))return this.name+=w.slice(C,this.prevI),S===-2?10:S}}skipSpaces(){for(;;){const w=this.getCodeNorm();if(w===-1||!l(w))return w}}setXMLVersion(w){this.currentXMLVersion=w,w==="1.0"?(this.isChar=u,this.getCode=this.getCode10):(this.isChar=A,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const w=this.i,C=this.skipSpaces();switch(this.prevI!==w&&(this.xmlDeclPossible=!1),C){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var w;const C=this.captureTo(N);switch(C){case 62:(w=this.doctypeHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(C),C===91?this.state=4:T(C)&&(this.state=3,this.q=C)}}sDoctypeQuote(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.q=null,this.state=2)}sDTD(){const w=this.captureTo(F);w!==-1&&(this.text+=String.fromCodePoint(w),w===93?this.state=2:w===60?this.state=6:T(w)&&(this.state=5,this.q=w))}sDTDQuoted(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.state=4,this.q=null)}sDTDOpenWaka(){const w=this.getCodeNorm();switch(this.text+=String.fromCodePoint(w),w){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const w=String.fromCodePoint(this.getCodeNorm()),C=this.openWakaBang+=w;this.text+=w,C!=="-"&&(this.state=C==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),this.state=w===45?10:8}sDTDCommentEnded(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:w}=this;const{chunk:C}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=C.slice(w,this.prevI)+`
`,w=this.i;break;case 59:{const{entityReturnState:S}=this,B=this.entity+C.slice(w,this.prevI);let O;this.state=S,B===""?(this.fail("empty entity name."),O="&;"):(O=this.parseEntity(B),this.entity=""),S===13&&this.textHandler===void 0||(this.text+=O);break e}case-1:this.entity+=C.slice(w);break e}}sOpenWaka(){const w=this.getCode();if(c(w))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(w){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var w;const C=this.getCodeNorm();C===45?(this.state=19,(w=this.commentHandler)===null||w===void 0||w.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(C),this.state=17)}sCommentEnded(){const w=this.getCodeNorm();w!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(w),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const w=this.getCodeNorm();w===93?this.state=22:(this.text+="]"+String.fromCodePoint(w),this.state=20)}sCDataEnding2(){var w;const C=this.getCodeNorm();switch(C){case 62:(w=this.cdataHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(C),this.state=20}}sPIFirstChar(){const w=this.getCodeNorm();this.nameStartCheck(w)?(this.piTarget+=String.fromCodePoint(w),this.state=24):w===63||l(w)?(this.fail("processing instruction without a target."),this.state=w===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(w),this.state=24)}sPIRest(){const{chunk:w,i:C}=this;for(;;){const S=this.getCodeNorm();if(S===-1)return void(this.piTarget+=w.slice(C));if(!this.nameCheck(S)){this.piTarget+=w.slice(C,this.prevI);const B=S===63;B||l(S)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=B?33:27):this.state=B?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(S));break}}}sPIBody(){if(this.text.length===0){const w=this.getCodeNorm();w===63?this.state=26:l(w)||(this.text=String.fromCodePoint(w))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var w;const C=this.getCodeNorm();if(C===62){const{piTarget:S}=this;S.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(w=this.piHandler)===null||w===void 0||w.call(this,{target:S,body:this.text}),this.piTarget=this.text="",this.state=13}else C===63?this.text+="?":(this.text+="?"+String.fromCodePoint(C),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const w=this.skipSpaces();w!==63?w!==-1&&(this.state=28,this.name=String.fromCodePoint(w)):this.state=33}sXMLDeclName(){const w=this.captureTo(P);if(w===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(l(w)||w===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=w===61?30:29}}sXMLDeclEq(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(w)||(w!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(w)||(T(w)?this.q=w:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const w=this.captureTo([this.q,63]);if(w===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(w===-1)return;const C=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const S=C;this.xmlDecl.version=S,/^1\.[0-9]+$/.test(S)?this.opt.forceXMLVersion||this.setXMLVersion(S):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(C)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=C;break;case"standalone":C!=="yes"&&C!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=C}this.name="",this.state=32}sXMLDeclSeparator(){const w=this.getCodeNorm();w!==63?(l(w)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var w;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(w=this.xmldeclHandler)===null||w===void 0||w.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var w;const C=this.captureNameChars();if(C===-1)return;const S=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=S.ns=Object.create(null)),(w=this.openTagStartHandler)===null||w===void 0||w.call(this,S),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),C){case 62:this.openTag();break;case 47:this.state=35;break;default:l(C)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const w=this.skipSpaces();w!==-1&&(c(w)?(this.unget(),this.state=37):w===62?this.openTag():w===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const w=this.captureNameChars();w===61?this.state=39:l(w)?this.state=38:w===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):w!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const w=this.skipSpaces();switch(w){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",w===62?this.openTag():c(w)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const w=this.getCodeNorm();T(w)?(this.q=w,this.state=40):l(w)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:w,chunk:C}=this;let{i:S}=this;for(;;)switch(this.getCode()){case w:return this.pushAttrib(this.name,this.text+C.slice(S,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=C.slice(S,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=C.slice(S,this.prevI)+" ",S=this.i;break;case 60:return this.text+=C.slice(S,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=C.slice(S))}}sAttribValueClosed(){const w=this.getCodeNorm();l(w)?this.state=36:w===62?this.openTag():w===47?this.state=35:c(w)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const w=this.captureTo(D);switch(w){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",w===62?this.openTag():this.state=36}}sCloseTag(){const w=this.captureNameChars();w===62?this.closeTag():l(w)?this.state=44:w!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:w,forbiddenState:C}=this;const{chunk:S,textHandler:B}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,B!==void 0){const{text:O}=this,V=S.slice(w,this.prevI);O.length!==0?(B(O+V),this.text=""):V.length!==0&&B(V)}C=0;break e;case 38:this.state=14,this.entityReturnState=13,B!==void 0&&(this.text+=S.slice(w,this.prevI)),C=0;break e;case 93:switch(C){case 0:C=1;break;case 1:C=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:C===2&&this.fail('the string "]]>" is disallowed in char data.'),C=0;break;case-2:B!==void 0&&(this.text+=S.slice(w,this.prevI)+`
`),w=this.i,C=0;break;case-1:B!==void 0&&(this.text+=S.slice(w));break e;default:C=0}this.forbiddenState=C}handleTextOutsideRoot(){let{i:w}=this;const{chunk:C,textHandler:S}=this;let B=!1;e:for(;;){const O=this.getCode();switch(O){case 60:if(this.state=15,S!==void 0){const{text:V}=this,M=C.slice(w,this.prevI);V.length!==0?(S(V+M),this.text=""):M.length!==0&&S(M)}break e;case 38:this.state=14,this.entityReturnState=13,S!==void 0&&(this.text+=C.slice(w,this.prevI)),B=!0;break e;case-2:S!==void 0&&(this.text+=C.slice(w,this.prevI)+`
`),w=this.i;break;case-1:S!==void 0&&(this.text+=C.slice(w));break e;default:l(O)||(B=!0)}}B&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(w,C){var S;const{prefix:B,local:O}=this.qname(w),V={name:w,prefix:B,local:O,value:C};if(this.attribList.push(V),(S=this.attributeHandler)===null||S===void 0||S.call(this,V),B==="xmlns"){const M=C.trim();this.currentXMLVersion==="1.0"&&M===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[O]=M,R(this,O,M)}else if(w==="xmlns"){const M=C.trim();this.topNS[""]=M,R(this,"",M)}}pushAttribPlain(w,C){var S;const B={name:w,value:C};this.attribList.push(B),(S=this.attributeHandler)===null||S===void 0||S.call(this,B)}end(){var w,C;this.sawRoot||this.fail("document must contain a root element.");const{tags:S}=this;for(;S.length>0;){const O=S.pop();this.fail("unclosed tag: "+O.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:B}=this;return B.length!==0&&((w=this.textHandler)===null||w===void 0||w.call(this,B),this.text=""),this._closed=!0,(C=this.endHandler)===null||C===void 0||C.call(this),this._init(),this}resolve(w){var C,S;let B=this.topNS[w];if(B!==void 0)return B;const{tags:O}=this;for(let V=O.length-1;V>=0;V--)if(B=O[V].ns[w],B!==void 0)return B;return B=this.ns[w],B!==void 0?B:(S=(C=this.opt).resolvePrefix)===null||S===void 0?void 0:S.call(C,w)}qname(w){const C=w.indexOf(":");if(C===-1)return{prefix:"",local:w};const S=w.slice(C+1),B=w.slice(0,C);return(B===""||S===""||S.includes(":"))&&this.fail(`malformed name: ${w}.`),{prefix:B,local:S}}processAttribsNS(){var w;const{attribList:C}=this,S=this.tag;{const{prefix:V,local:M}=this.qname(S.name);S.prefix=V,S.local=M;const U=S.uri=(w=this.resolve(V))!==null&&w!==void 0?w:"";V!==""&&(V==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),U===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(V)}.`),S.uri=V))}if(C.length===0)return;const{attributes:B}=S,O=new Set;for(const V of C){const{name:M,prefix:U,local:Q}=V;let W,j;U===""?(W=M==="xmlns"?y:"",j=M):(W=this.resolve(U),W===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(U)}.`),W=U),j=`{${W}}${Q}`),O.has(j)&&this.fail(`duplicate attribute: ${j}.`),O.add(j),V.uri=W,B[M]=V}this.attribList=[]}processAttribsPlain(){const{attribList:w}=this,C=this.tag.attributes;for(const{name:S,value:B}of w)C[S]!==void 0&&this.fail(`duplicate attribute: ${S}.`),C[S]=B;this.attribList=[]}openTag(){var w;this.processAttribs();const{tags:C}=this,S=this.tag;S.isSelfClosing=!1,(w=this.openTagHandler)===null||w===void 0||w.call(this,S),C.push(S),this.state=13,this.name=""}openSelfClosingTag(){var w,C,S;this.processAttribs();const{tags:B}=this,O=this.tag;O.isSelfClosing=!0,(w=this.openTagHandler)===null||w===void 0||w.call(this,O),(C=this.closeTagHandler)===null||C===void 0||C.call(this,O),(this.tag=(S=B[B.length-1])!==null&&S!==void 0?S:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:w,name:C}=this;if(this.state=13,this.name="",C==="")return this.fail("weird empty close tag."),void(this.text+="</>");const S=this.closeTagHandler;let B=w.length;for(;B-- >0;){const O=this.tag=w.pop();if(this.topNS=O.ns,S==null||S(O),O.name===C)break;this.fail("unexpected close tag.")}B===0?this.closedRoot=!0:B<0&&(this.fail(`unmatched closing tag: ${C}.`),this.text+=`</${C}>`)}parseEntity(w){if(w[0]!=="#"){const S=this.ENTITIES[w];return S!==void 0?S:(this.fail(this.isName(w)?"undefined entity.":"disallowed character in entity name."),`&${w};`)}let C=NaN;return w[1]==="x"&&/^#x[0-9a-f]+$/i.test(w)?C=parseInt(w.slice(2),16):/^#[0-9]+$/.test(w)&&(C=parseInt(w.slice(1),10)),this.isChar(C)?String.fromCodePoint(C):(this.fail("malformed character entity."),`&${w};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,n,i){var a=e("safe-buffer").Buffer;function s(o,l){this._block=a.alloc(o),this._finalSize=l,this._blockSize=o,this._len=0}s.prototype.update=function(o,l){typeof o=="string"&&(l=l||"utf8",o=a.from(o,l));for(var u=this._block,c=this._blockSize,f=o.length,h=this._len,d=0;d<f;){for(var A=h%c,p=Math.min(f-d,c-A),g=0;g<p;g++)u[A+g]=o[d+g];d+=p,(h+=p)%c==0&&this._update(u)}return this._len+=f,this},s.prototype.digest=function(o){var l=this._len%this._blockSize;this._block[l]=128,this._block.fill(0,l+1),l>=this._finalSize&&(this._update(this._block),this._block.fill(0));var u=8*this._len;if(u<=4294967295)this._block.writeUInt32BE(u,this._blockSize-4);else{var c=(4294967295&u)>>>0,f=(u-c)/4294967296;this._block.writeUInt32BE(f,this._blockSize-8),this._block.writeUInt32BE(c,this._blockSize-4)}this._update(this._block);var h=this._hash();return o?h.toString(o):h},s.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=s},{"safe-buffer":494}],498:[function(e,n,i){var a=n.exports=function(s){s=s.toLowerCase();var o=a[s];if(!o)throw new Error(s+" is not supported (we accept pull requests)");return new o};a.sha=e("./sha"),a.sha1=e("./sha1"),a.sha224=e("./sha224"),a.sha256=e("./sha256"),a.sha384=e("./sha384"),a.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,n,i){var a=e("inherits"),s=e("./hash"),o=e("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function c(){this.init(),this._w=u,s.call(this,64,56)}function f(d){return d<<30|d>>>2}function h(d,A,p,g){return d===0?A&p|~A&g:d===2?A&p|A&g|p&g:A^p^g}a(c,s),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(d){for(var A,p=this._w,g=0|this._a,m=0|this._b,v=0|this._c,y=0|this._d,b=0|this._e,_=0;_<16;++_)p[_]=d.readInt32BE(4*_);for(;_<80;++_)p[_]=p[_-3]^p[_-8]^p[_-14]^p[_-16];for(var T=0;T<80;++T){var I=~~(T/20),N=0|((A=g)<<5|A>>>27)+h(I,m,v,y)+b+p[T]+l[I];b=y,y=v,v=f(m),m=g,g=N}this._a=g+this._a|0,this._b=m+this._b|0,this._c=v+this._c|0,this._d=y+this._d|0,this._e=b+this._e|0},c.prototype._hash=function(){var d=o.allocUnsafe(20);return d.writeInt32BE(0|this._a,0),d.writeInt32BE(0|this._b,4),d.writeInt32BE(0|this._c,8),d.writeInt32BE(0|this._d,12),d.writeInt32BE(0|this._e,16),d},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,n,i){var a=e("inherits"),s=e("./hash"),o=e("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function c(){this.init(),this._w=u,s.call(this,64,56)}function f(A){return A<<5|A>>>27}function h(A){return A<<30|A>>>2}function d(A,p,g,m){return A===0?p&g|~p&m:A===2?p&g|p&m|g&m:p^g^m}a(c,s),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(A){for(var p,g=this._w,m=0|this._a,v=0|this._b,y=0|this._c,b=0|this._d,_=0|this._e,T=0;T<16;++T)g[T]=A.readInt32BE(4*T);for(;T<80;++T)g[T]=(p=g[T-3]^g[T-8]^g[T-14]^g[T-16])<<1|p>>>31;for(var I=0;I<80;++I){var N=~~(I/20),F=f(m)+d(N,v,y,b)+_+g[I]+l[N]|0;_=b,b=y,y=h(v),v=m,m=F}this._a=m+this._a|0,this._b=v+this._b|0,this._c=y+this._c|0,this._d=b+this._d|0,this._e=_+this._e|0},c.prototype._hash=function(){var A=o.allocUnsafe(20);return A.writeInt32BE(0|this._a,0),A.writeInt32BE(0|this._b,4),A.writeInt32BE(0|this._c,8),A.writeInt32BE(0|this._d,12),A.writeInt32BE(0|this._e,16),A},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,n,i){var a=e("inherits"),s=e("./sha256"),o=e("./hash"),l=e("safe-buffer").Buffer,u=new Array(64);function c(){this.init(),this._w=u,o.call(this,64,56)}a(c,s),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var f=l.allocUnsafe(28);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f},n.exports=c},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,n,i){var a=e("inherits"),s=e("./hash"),o=e("safe-buffer").Buffer,l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=new Array(64);function c(){this.init(),this._w=u,s.call(this,64,56)}function f(g,m,v){return v^g&(m^v)}function h(g,m,v){return g&m|v&(g|m)}function d(g){return(g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10)}function A(g){return(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7)}function p(g){return(g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3}a(c,s),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(g){for(var m,v=this._w,y=0|this._a,b=0|this._b,_=0|this._c,T=0|this._d,I=0|this._e,N=0|this._f,F=0|this._g,P=0|this._h,D=0;D<16;++D)v[D]=g.readInt32BE(4*D);for(;D<64;++D)v[D]=0|(((m=v[D-2])>>>17|m<<15)^(m>>>19|m<<13)^m>>>10)+v[D-7]+p(v[D-15])+v[D-16];for(var R=0;R<64;++R){var E=P+A(I)+f(I,N,F)+l[R]+v[R]|0,L=d(y)+h(y,b,_)|0;P=F,F=N,N=I,I=T+E|0,T=_,_=b,b=y,y=E+L|0}this._a=y+this._a|0,this._b=b+this._b|0,this._c=_+this._c|0,this._d=T+this._d|0,this._e=I+this._e|0,this._f=N+this._f|0,this._g=F+this._g|0,this._h=P+this._h|0},c.prototype._hash=function(){var g=o.allocUnsafe(32);return g.writeInt32BE(this._a,0),g.writeInt32BE(this._b,4),g.writeInt32BE(this._c,8),g.writeInt32BE(this._d,12),g.writeInt32BE(this._e,16),g.writeInt32BE(this._f,20),g.writeInt32BE(this._g,24),g.writeInt32BE(this._h,28),g},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,n,i){var a=e("inherits"),s=e("./sha512"),o=e("./hash"),l=e("safe-buffer").Buffer,u=new Array(160);function c(){this.init(),this._w=u,o.call(this,128,112)}a(c,s),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var f=l.allocUnsafe(48);function h(d,A,p){f.writeInt32BE(d,p),f.writeInt32BE(A,p+4)}return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),f},n.exports=c},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,n,i){var a=e("inherits"),s=e("./hash"),o=e("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],u=new Array(160);function c(){this.init(),this._w=u,s.call(this,128,112)}function f(b,_,T){return T^b&(_^T)}function h(b,_,T){return b&_|T&(b|_)}function d(b,_){return(b>>>28|_<<4)^(_>>>2|b<<30)^(_>>>7|b<<25)}function A(b,_){return(b>>>14|_<<18)^(b>>>18|_<<14)^(_>>>9|b<<23)}function p(b,_){return(b>>>1|_<<31)^(b>>>8|_<<24)^b>>>7}function g(b,_){return(b>>>1|_<<31)^(b>>>8|_<<24)^(b>>>7|_<<25)}function m(b,_){return(b>>>19|_<<13)^(_>>>29|b<<3)^b>>>6}function v(b,_){return(b>>>19|_<<13)^(_>>>29|b<<3)^(b>>>6|_<<26)}function y(b,_){return b>>>0<_>>>0?1:0}a(c,s),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(b){for(var _=this._w,T=0|this._ah,I=0|this._bh,N=0|this._ch,F=0|this._dh,P=0|this._eh,D=0|this._fh,R=0|this._gh,E=0|this._hh,L=0|this._al,k=0|this._bl,w=0|this._cl,C=0|this._dl,S=0|this._el,B=0|this._fl,O=0|this._gl,V=0|this._hl,M=0;M<32;M+=2)_[M]=b.readInt32BE(4*M),_[M+1]=b.readInt32BE(4*M+4);for(;M<160;M+=2){var U=_[M-30],Q=_[M-30+1],W=p(U,Q),j=g(Q,U),X=m(U=_[M-4],Q=_[M-4+1]),z=v(Q,U),H=_[M-14],K=_[M-14+1],Z=_[M-32],ie=_[M-32+1],ee=j+K|0,ne=W+H+y(ee,j)|0;ne=(ne=ne+X+y(ee=ee+z|0,z)|0)+Z+y(ee=ee+ie|0,ie)|0,_[M]=ne,_[M+1]=ee}for(var te=0;te<160;te+=2){ne=_[te],ee=_[te+1];var le=h(T,I,N),re=h(L,k,w),de=d(T,L),ue=d(L,T),Fe=A(P,S),Se=A(S,P),De=l[te],ge=l[te+1],Be=f(P,D,R),Pe=f(S,B,O),st=V+Se|0,gt=E+Fe+y(st,V)|0;gt=(gt=(gt=gt+Be+y(st=st+Pe|0,Pe)|0)+De+y(st=st+ge|0,ge)|0)+ne+y(st=st+ee|0,ee)|0;var we=ue+re|0,Oe=de+le+y(we,ue)|0;E=R,V=O,R=D,O=B,D=P,B=S,P=F+gt+y(S=C+st|0,C)|0,F=N,C=w,N=I,w=k,I=T,k=L,T=gt+Oe+y(L=st+we|0,st)|0}this._al=this._al+L|0,this._bl=this._bl+k|0,this._cl=this._cl+w|0,this._dl=this._dl+C|0,this._el=this._el+S|0,this._fl=this._fl+B|0,this._gl=this._gl+O|0,this._hl=this._hl+V|0,this._ah=this._ah+T+y(this._al,L)|0,this._bh=this._bh+I+y(this._bl,k)|0,this._ch=this._ch+N+y(this._cl,w)|0,this._dh=this._dh+F+y(this._dl,C)|0,this._eh=this._eh+P+y(this._el,S)|0,this._fh=this._fh+D+y(this._fl,B)|0,this._gh=this._gh+R+y(this._gl,O)|0,this._hh=this._hh+E+y(this._hl,V)|0},c.prototype._hash=function(){var b=o.allocUnsafe(64);function _(T,I,N){b.writeInt32BE(T,N),b.writeInt32BE(I,N+4)}return _(this._ah,this._al,0),_(this._bh,this._bl,8),_(this._ch,this._cl,16),_(this._dh,this._dl,24),_(this._eh,this._el,32),_(this._fh,this._fl,40),_(this._gh,this._gl,48),_(this._hh,this._hl,56),b},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,n,i){n.exports=s;var a=e("events").EventEmitter;function s(){a.call(this)}e("inherits")(s,a),s.Readable=e("readable-stream/readable.js"),s.Writable=e("readable-stream/writable.js"),s.Duplex=e("readable-stream/duplex.js"),s.Transform=e("readable-stream/transform.js"),s.PassThrough=e("readable-stream/passthrough.js"),s.Stream=s,s.prototype.pipe=function(o,l){var u=this;function c(m){o.writable&&o.write(m)===!1&&u.pause&&u.pause()}function f(){u.readable&&u.resume&&u.resume()}u.on("data",c),o.on("drain",f),o._isStdio||l&&l.end===!1||(u.on("end",d),u.on("close",A));var h=!1;function d(){h||(h=!0,o.end())}function A(){h||(h=!0,typeof o.destroy=="function"&&o.destroy())}function p(m){if(g(),a.listenerCount(this,"error")===0)throw m}function g(){u.removeListener("data",c),o.removeListener("drain",f),u.removeListener("end",d),u.removeListener("close",A),u.removeListener("error",p),o.removeListener("error",p),u.removeListener("end",g),u.removeListener("close",g),o.removeListener("close",g)}return u.on("error",p),o.on("error",p),u.on("end",g),u.on("close",g),o.on("close",g),o.emit("pipe",u),o}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,n,i){var a={}.toString;n.exports=Array.isArray||function(s){return a.call(s)=="[object Array]"}},{}],507:[function(e,n,i){n.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,n,i){var a=e("process-nextick-args"),s=Object.keys||function(g){var m=[];for(var v in g)m.push(v);return m};n.exports=d;var o=Object.create(e("core-util-is"));o.inherits=e("inherits");var l=e("./_stream_readable"),u=e("./_stream_writable");o.inherits(d,l);for(var c=s(u.prototype),f=0;f<c.length;f++){var h=c[f];d.prototype[h]||(d.prototype[h]=u.prototype[h])}function d(g){if(!(this instanceof d))return new d(g);l.call(this,g),u.call(this,g),g&&g.readable===!1&&(this.readable=!1),g&&g.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,g&&g.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",A)}function A(){this.allowHalfOpen||this._writableState.ended||a.nextTick(p,this)}function p(g){g.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),d.prototype._destroy=function(g,m){this.push(null),this.end(),a.nextTick(m,g)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,n,i){n.exports=o;var a=e("./_stream_transform"),s=Object.create(e("core-util-is"));function o(l){if(!(this instanceof o))return new o(l);a.call(this,l)}s.inherits=e("inherits"),s.inherits(o,a),o.prototype._transform=function(l,u,c){c(null,l)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,n,i){(function(a,s){(function(){var o=e("process-nextick-args");n.exports=T;var l,u=e("isarray");T.ReadableState=_,e("events").EventEmitter;var c=function(V,M){return V.listeners(M).length},f=e("./internal/streams/stream"),h=e("safe-buffer").Buffer,d=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},A=Object.create(e("core-util-is"));A.inherits=e("inherits");var p=e("util"),g=void 0;g=p&&p.debuglog?p.debuglog("stream"):function(){};var m,v=e("./internal/streams/BufferList"),y=e("./internal/streams/destroy");A.inherits(T,f);var b=["error","close","destroy","pause","resume"];function _(V,M){V=V||{};var U=M instanceof(l=l||e("./_stream_duplex"));this.objectMode=!!V.objectMode,U&&(this.objectMode=this.objectMode||!!V.readableObjectMode);var Q=V.highWaterMark,W=V.readableHighWaterMark,j=this.objectMode?16:16384;this.highWaterMark=Q||Q===0?Q:U&&(W||W===0)?W:j,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=V.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,V.encoding&&(m||(m=e("string_decoder/").StringDecoder),this.decoder=new m(V.encoding),this.encoding=V.encoding)}function T(V){if(l=l||e("./_stream_duplex"),!(this instanceof T))return new T(V);this._readableState=new _(V,this),this.readable=!0,V&&(typeof V.read=="function"&&(this._read=V.read),typeof V.destroy=="function"&&(this._destroy=V.destroy)),f.call(this)}function I(V,M,U,Q,W){var j,X=V._readableState;return M===null?(X.reading=!1,function(z,H){if(!H.ended){if(H.decoder){var K=H.decoder.end();K&&K.length&&(H.buffer.push(K),H.length+=H.objectMode?1:K.length)}H.ended=!0,P(z)}}(V,X)):(W||(j=function(z,H){var K;Z=H,h.isBuffer(Z)||Z instanceof d||typeof H=="string"||H===void 0||z.objectMode||(K=new TypeError("Invalid non-string/buffer chunk"));var Z;return K}(X,M)),j?V.emit("error",j):X.objectMode||M&&M.length>0?(typeof M=="string"||X.objectMode||Object.getPrototypeOf(M)===h.prototype||(M=function(z){return h.from(z)}(M)),Q?X.endEmitted?V.emit("error",new Error("stream.unshift() after end event")):N(V,X,M,!0):X.ended?V.emit("error",new Error("stream.push() after EOF")):(X.reading=!1,X.decoder&&!U?(M=X.decoder.write(M),X.objectMode||M.length!==0?N(V,X,M,!1):R(V,X)):N(V,X,M,!1))):Q||(X.reading=!1)),function(z){return!z.ended&&(z.needReadable||z.length<z.highWaterMark||z.length===0)}(X)}function N(V,M,U,Q){M.flowing&&M.length===0&&!M.sync?(V.emit("data",U),V.read(0)):(M.length+=M.objectMode?1:U.length,Q?M.buffer.unshift(U):M.buffer.push(U),M.needReadable&&P(V)),R(V,M)}Object.defineProperty(T.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(V){this._readableState&&(this._readableState.destroyed=V)}}),T.prototype.destroy=y.destroy,T.prototype._undestroy=y.undestroy,T.prototype._destroy=function(V,M){this.push(null),M(V)},T.prototype.push=function(V,M){var U,Q=this._readableState;return Q.objectMode?U=!0:typeof V=="string"&&((M=M||Q.defaultEncoding)!==Q.encoding&&(V=h.from(V,M),M=""),U=!0),I(this,V,M,!1,U)},T.prototype.unshift=function(V){return I(this,V,null,!0,!1)},T.prototype.isPaused=function(){return this._readableState.flowing===!1},T.prototype.setEncoding=function(V){return m||(m=e("string_decoder/").StringDecoder),this._readableState.decoder=new m(V),this._readableState.encoding=V,this};function F(V,M){return V<=0||M.length===0&&M.ended?0:M.objectMode?1:V!=V?M.flowing&&M.length?M.buffer.head.data.length:M.length:(V>M.highWaterMark&&(M.highWaterMark=function(U){return U>=8388608?U=8388608:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}(V)),V<=M.length?V:M.ended?M.length:(M.needReadable=!0,0))}function P(V){var M=V._readableState;M.needReadable=!1,M.emittedReadable||(g("emitReadable",M.flowing),M.emittedReadable=!0,M.sync?o.nextTick(D,V):D(V))}function D(V){g("emit readable"),V.emit("readable"),w(V)}function R(V,M){M.readingMore||(M.readingMore=!0,o.nextTick(E,V,M))}function E(V,M){for(var U=M.length;!M.reading&&!M.flowing&&!M.ended&&M.length<M.highWaterMark&&(g("maybeReadMore read 0"),V.read(0),U!==M.length);)U=M.length;M.readingMore=!1}function L(V){g("readable nexttick read 0"),V.read(0)}function k(V,M){M.reading||(g("resume read 0"),V.read(0)),M.resumeScheduled=!1,M.awaitDrain=0,V.emit("resume"),w(V),M.flowing&&!M.reading&&V.read(0)}function w(V){var M=V._readableState;for(g("flow",M.flowing);M.flowing&&V.read()!==null;);}function C(V,M){return M.length===0?null:(M.objectMode?U=M.buffer.shift():!V||V>=M.length?(U=M.decoder?M.buffer.join(""):M.buffer.length===1?M.buffer.head.data:M.buffer.concat(M.length),M.buffer.clear()):U=function(Q,W,j){var X;return Q<W.head.data.length?(X=W.head.data.slice(0,Q),W.head.data=W.head.data.slice(Q)):X=Q===W.head.data.length?W.shift():j?function(z,H){var K=H.head,Z=1,ie=K.data;for(z-=ie.length;K=K.next;){var ee=K.data,ne=z>ee.length?ee.length:z;if(ne===ee.length?ie+=ee:ie+=ee.slice(0,z),(z-=ne)===0){ne===ee.length?(++Z,K.next?H.head=K.next:H.head=H.tail=null):(H.head=K,K.data=ee.slice(ne));break}++Z}return H.length-=Z,ie}(Q,W):function(z,H){var K=h.allocUnsafe(z),Z=H.head,ie=1;for(Z.data.copy(K),z-=Z.data.length;Z=Z.next;){var ee=Z.data,ne=z>ee.length?ee.length:z;if(ee.copy(K,K.length-z,0,ne),(z-=ne)===0){ne===ee.length?(++ie,Z.next?H.head=Z.next:H.head=H.tail=null):(H.head=Z,Z.data=ee.slice(ne));break}++ie}return H.length-=ie,K}(Q,W),X}(V,M.buffer,M.decoder),U);var U}function S(V){var M=V._readableState;if(M.length>0)throw new Error('"endReadable()" called on non-empty stream');M.endEmitted||(M.ended=!0,o.nextTick(B,M,V))}function B(V,M){V.endEmitted||V.length!==0||(V.endEmitted=!0,M.readable=!1,M.emit("end"))}function O(V,M){for(var U=0,Q=V.length;U<Q;U++)if(V[U]===M)return U;return-1}T.prototype.read=function(V){g("read",V),V=parseInt(V,10);var M=this._readableState,U=V;if(V!==0&&(M.emittedReadable=!1),V===0&&M.needReadable&&(M.length>=M.highWaterMark||M.ended))return g("read: emitReadable",M.length,M.ended),M.length===0&&M.ended?S(this):P(this),null;if((V=F(V,M))===0&&M.ended)return M.length===0&&S(this),null;var Q,W=M.needReadable;return g("need readable",W),(M.length===0||M.length-V<M.highWaterMark)&&g("length less than watermark",W=!0),M.ended||M.reading?g("reading or ended",W=!1):W&&(g("do read"),M.reading=!0,M.sync=!0,M.length===0&&(M.needReadable=!0),this._read(M.highWaterMark),M.sync=!1,M.reading||(V=F(U,M))),(Q=V>0?C(V,M):null)===null?(M.needReadable=!0,V=0):M.length-=V,M.length===0&&(M.ended||(M.needReadable=!0),U!==V&&M.ended&&S(this)),Q!==null&&this.emit("data",Q),Q},T.prototype._read=function(V){this.emit("error",new Error("_read() is not implemented"))},T.prototype.pipe=function(V,M){var U=this,Q=this._readableState;switch(Q.pipesCount){case 0:Q.pipes=V;break;case 1:Q.pipes=[Q.pipes,V];break;default:Q.pipes.push(V)}Q.pipesCount+=1,g("pipe count=%d opts=%j",Q.pipesCount,M);var W=(!M||M.end!==!1)&&V!==a.stdout&&V!==a.stderr?X:te;function j(le,re){g("onunpipe"),le===U&&re&&re.hasUnpiped===!1&&(re.hasUnpiped=!0,g("cleanup"),V.removeListener("close",ee),V.removeListener("finish",ne),V.removeListener("drain",z),V.removeListener("error",ie),V.removeListener("unpipe",j),U.removeListener("end",X),U.removeListener("end",te),U.removeListener("data",Z),H=!0,!Q.awaitDrain||V._writableState&&!V._writableState.needDrain||z())}function X(){g("onend"),V.end()}Q.endEmitted?o.nextTick(W):U.once("end",W),V.on("unpipe",j);var z=function(le){return function(){var re=le._readableState;g("pipeOnDrain",re.awaitDrain),re.awaitDrain&&re.awaitDrain--,re.awaitDrain===0&&c(le,"data")&&(re.flowing=!0,w(le))}}(U);V.on("drain",z);var H=!1,K=!1;function Z(le){g("ondata"),K=!1,V.write(le)!==!1||K||((Q.pipesCount===1&&Q.pipes===V||Q.pipesCount>1&&O(Q.pipes,V)!==-1)&&!H&&(g("false write response, pause",Q.awaitDrain),Q.awaitDrain++,K=!0),U.pause())}function ie(le){g("onerror",le),te(),V.removeListener("error",ie),c(V,"error")===0&&V.emit("error",le)}function ee(){V.removeListener("finish",ne),te()}function ne(){g("onfinish"),V.removeListener("close",ee),te()}function te(){g("unpipe"),U.unpipe(V)}return U.on("data",Z),function(le,re,de){if(typeof le.prependListener=="function")return le.prependListener(re,de);le._events&&le._events[re]?u(le._events[re])?le._events[re].unshift(de):le._events[re]=[de,le._events[re]]:le.on(re,de)}(V,"error",ie),V.once("close",ee),V.once("finish",ne),V.emit("pipe",U),Q.flowing||(g("pipe resume"),U.resume()),V},T.prototype.unpipe=function(V){var M=this._readableState,U={hasUnpiped:!1};if(M.pipesCount===0)return this;if(M.pipesCount===1)return V&&V!==M.pipes||(V||(V=M.pipes),M.pipes=null,M.pipesCount=0,M.flowing=!1,V&&V.emit("unpipe",this,U)),this;if(!V){var Q=M.pipes,W=M.pipesCount;M.pipes=null,M.pipesCount=0,M.flowing=!1;for(var j=0;j<W;j++)Q[j].emit("unpipe",this,{hasUnpiped:!1});return this}var X=O(M.pipes,V);return X===-1||(M.pipes.splice(X,1),M.pipesCount-=1,M.pipesCount===1&&(M.pipes=M.pipes[0]),V.emit("unpipe",this,U)),this},T.prototype.on=function(V,M){var U=f.prototype.on.call(this,V,M);if(V==="data")this._readableState.flowing!==!1&&this.resume();else if(V==="readable"){var Q=this._readableState;Q.endEmitted||Q.readableListening||(Q.readableListening=Q.needReadable=!0,Q.emittedReadable=!1,Q.reading?Q.length&&P(this):o.nextTick(L,this))}return U},T.prototype.addListener=T.prototype.on,T.prototype.resume=function(){var V=this._readableState;return V.flowing||(g("resume"),V.flowing=!0,function(M,U){U.resumeScheduled||(U.resumeScheduled=!0,o.nextTick(k,M,U))}(this,V)),this},T.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this},T.prototype.wrap=function(V){var M=this,U=this._readableState,Q=!1;for(var W in V.on("end",function(){if(g("wrapped end"),U.decoder&&!U.ended){var X=U.decoder.end();X&&X.length&&M.push(X)}M.push(null)}),V.on("data",function(X){g("wrapped data"),U.decoder&&(X=U.decoder.write(X)),U.objectMode&&X==null||(U.objectMode||X&&X.length)&&(M.push(X)||(Q=!0,V.pause()))}),V)this[W]===void 0&&typeof V[W]=="function"&&(this[W]=function(X){return function(){return V[X].apply(V,arguments)}}(W));for(var j=0;j<b.length;j++)V.on(b[j],this.emit.bind(this,b[j]));return this._read=function(X){g("wrapped _read",X),Q&&(Q=!1,V.resume())},this},Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),T._fromList=C}).call(this)}).call(this,e("_process"),typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,n,i){n.exports=l;var a=e("./_stream_duplex"),s=Object.create(e("core-util-is"));function o(f,h){var d=this._transformState;d.transforming=!1;var A=d.writecb;if(!A)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,h!=null&&this.push(h),A(f);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function l(f){if(!(this instanceof l))return new l(f);a.call(this,f),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",u)}function u(){var f=this;typeof this._flush=="function"?this._flush(function(h,d){c(f,h,d)}):c(this,null,null)}function c(f,h,d){if(h)return f.emit("error",h);if(d!=null&&f.push(d),f._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(f._transformState.transforming)throw new Error("Calling transform done when still transforming");return f.push(null)}s.inherits=e("inherits"),s.inherits(l,a),l.prototype.push=function(f,h){return this._transformState.needTransform=!1,a.prototype.push.call(this,f,h)},l.prototype._transform=function(f,h,d){throw new Error("_transform() is not implemented")},l.prototype._write=function(f,h,d){var A=this._transformState;if(A.writecb=d,A.writechunk=f,A.writeencoding=h,!A.transforming){var p=this._readableState;(A.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},l.prototype._read=function(f){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},l.prototype._destroy=function(f,h){var d=this;a.prototype._destroy.call(this,f,function(A){h(A),d.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,n,i){(function(a,s,o){(function(){var l=e("process-nextick-args");function u(R){var E=this;this.next=null,this.entry=null,this.finish=function(){(function(L,k,w){var C=L.entry;for(L.entry=null;C;){var S=C.callback;k.pendingcb--,S(w),C=C.next}k.corkedRequestsFree.next=L})(E,R)}}n.exports=_;var c,f=!a.browser&&["v0.10","v0.9."].indexOf(a.version.slice(0,5))>-1?o:l.nextTick;_.WritableState=b;var h=Object.create(e("core-util-is"));h.inherits=e("inherits");var d={deprecate:e("util-deprecate")},A=e("./internal/streams/stream"),p=e("safe-buffer").Buffer,g=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},m,v=e("./internal/streams/destroy");function y(){}function b(R,E){c=c||e("./_stream_duplex"),R=R||{};var L=E instanceof c;this.objectMode=!!R.objectMode,L&&(this.objectMode=this.objectMode||!!R.writableObjectMode);var k=R.highWaterMark,w=R.writableHighWaterMark,C=this.objectMode?16:16384;this.highWaterMark=k||k===0?k:L&&(w||w===0)?w:C,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var S=R.decodeStrings===!1;this.decodeStrings=!S,this.defaultEncoding=R.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(B){(function(O,V){var M=O._writableState,U=M.sync,Q=M.writecb;if(function(j){j.writing=!1,j.writecb=null,j.length-=j.writelen,j.writelen=0}(M),V)(function(j,X,z,H,K){--X.pendingcb,z?(l.nextTick(K,H),l.nextTick(D,j,X),j._writableState.errorEmitted=!0,j.emit("error",H)):(K(H),j._writableState.errorEmitted=!0,j.emit("error",H),D(j,X))})(O,M,U,V,Q);else{var W=F(M);W||M.corked||M.bufferProcessing||!M.bufferedRequest||N(O,M),U?f(I,O,M,W,Q):I(O,M,W,Q)}})(E,B)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}function _(R){if(c=c||e("./_stream_duplex"),!(m.call(_,this)||this instanceof c))return new _(R);this._writableState=new b(R,this),this.writable=!0,R&&(typeof R.write=="function"&&(this._write=R.write),typeof R.writev=="function"&&(this._writev=R.writev),typeof R.destroy=="function"&&(this._destroy=R.destroy),typeof R.final=="function"&&(this._final=R.final)),A.call(this)}function T(R,E,L,k,w,C,S){E.writelen=k,E.writecb=S,E.writing=!0,E.sync=!0,L?R._writev(w,E.onwrite):R._write(w,C,E.onwrite),E.sync=!1}function I(R,E,L,k){L||function(w,C){C.length===0&&C.needDrain&&(C.needDrain=!1,w.emit("drain"))}(R,E),E.pendingcb--,k(),D(R,E)}function N(R,E){E.bufferProcessing=!0;var L=E.bufferedRequest;if(R._writev&&L&&L.next){var k=E.bufferedRequestCount,w=new Array(k),C=E.corkedRequestsFree;C.entry=L;for(var S=0,B=!0;L;)w[S]=L,L.isBuf||(B=!1),L=L.next,S+=1;w.allBuffers=B,T(R,E,!0,E.length,w,"",C.finish),E.pendingcb++,E.lastBufferedRequest=null,C.next?(E.corkedRequestsFree=C.next,C.next=null):E.corkedRequestsFree=new u(E),E.bufferedRequestCount=0}else{for(;L;){var O=L.chunk,V=L.encoding,M=L.callback;if(T(R,E,!1,E.objectMode?1:O.length,O,V,M),L=L.next,E.bufferedRequestCount--,E.writing)break}L===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=L,E.bufferProcessing=!1}function F(R){return R.ending&&R.length===0&&R.bufferedRequest===null&&!R.finished&&!R.writing}function P(R,E){R._final(function(L){E.pendingcb--,L&&R.emit("error",L),E.prefinished=!0,R.emit("prefinish"),D(R,E)})}function D(R,E){var L=F(E);return L&&(function(k,w){w.prefinished||w.finalCalled||(typeof k._final=="function"?(w.pendingcb++,w.finalCalled=!0,l.nextTick(P,k,w)):(w.prefinished=!0,k.emit("prefinish")))}(R,E),E.pendingcb===0&&(E.finished=!0,R.emit("finish"))),L}h.inherits(_,A),b.prototype.getBuffer=function(){for(var R=this.bufferedRequest,E=[];R;)E.push(R),R=R.next;return E},function(){try{Object.defineProperty(b.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(R){return!!m.call(this,R)||this===_&&R&&R._writableState instanceof b}})):m=function(R){return R instanceof this},_.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},_.prototype.write=function(R,E,L){var k,w=this._writableState,C=!1,S=!w.objectMode&&(k=R,p.isBuffer(k)||k instanceof g);return S&&!p.isBuffer(R)&&(R=function(B){return p.from(B)}(R)),typeof E=="function"&&(L=E,E=null),S?E="buffer":E||(E=w.defaultEncoding),typeof L!="function"&&(L=y),w.ended?function(B,O){var V=new Error("write after end");B.emit("error",V),l.nextTick(O,V)}(this,L):(S||function(B,O,V,M){var U=!0,Q=!1;return V===null?Q=new TypeError("May not write null values to stream"):typeof V=="string"||V===void 0||O.objectMode||(Q=new TypeError("Invalid non-string/buffer chunk")),Q&&(B.emit("error",Q),l.nextTick(M,Q),U=!1),U}(this,w,R,L))&&(w.pendingcb++,C=function(B,O,V,M,U,Q){if(!V){var W=function(H,K,Z){return H.objectMode||H.decodeStrings===!1||typeof K!="string"||(K=p.from(K,Z)),K}(O,M,U);M!==W&&(V=!0,U="buffer",M=W)}var j=O.objectMode?1:M.length;O.length+=j;var X=O.length<O.highWaterMark;if(X||(O.needDrain=!0),O.writing||O.corked){var z=O.lastBufferedRequest;O.lastBufferedRequest={chunk:M,encoding:U,isBuf:V,callback:Q,next:null},z?z.next=O.lastBufferedRequest:O.bufferedRequest=O.lastBufferedRequest,O.bufferedRequestCount+=1}else T(B,O,!1,j,M,U,Q);return X}(this,w,S,R,E,L)),C},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var R=this._writableState;R.corked&&(R.corked--,R.writing||R.corked||R.bufferProcessing||!R.bufferedRequest||N(this,R))},_.prototype.setDefaultEncoding=function(R){if(typeof R=="string"&&(R=R.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((R+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+R);return this._writableState.defaultEncoding=R,this},Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(R,E,L){L(new Error("_write() is not implemented"))},_.prototype._writev=null,_.prototype.end=function(R,E,L){var k=this._writableState;typeof R=="function"?(L=R,R=null,E=null):typeof E=="function"&&(L=E,E=null),R!=null&&this.write(R,E),k.corked&&(k.corked=1,this.uncork()),k.ending||function(w,C,S){C.ending=!0,D(w,C),S&&(C.finished?l.nextTick(S):w.once("finish",S)),C.ended=!0,w.writable=!1}(this,k,L)},Object.defineProperty(_.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(R){this._writableState&&(this._writableState.destroyed=R)}}),_.prototype.destroy=v.destroy,_.prototype._undestroy=v.undestroy,_.prototype._destroy=function(R,E){this.end(),E(R)}}).call(this)}).call(this,e("_process"),typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,n,i){var a=e("safe-buffer").Buffer,s=e("util");n.exports=function(){function o(){(function(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")})(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(l){var u={data:l,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length},o.prototype.unshift=function(l){var u={data:l,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length},o.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(l){if(this.length===0)return"";for(var u=this.head,c=""+u.data;u=u.next;)c+=l+u.data;return c},o.prototype.concat=function(l){if(this.length===0)return a.alloc(0);for(var u,c,f,h=a.allocUnsafe(l>>>0),d=this.head,A=0;d;)u=d.data,c=h,f=A,u.copy(c,f),A+=d.data.length,d=d.next;return h},o}(),s&&s.inspect&&s.inspect.custom&&(n.exports.prototype[s.inspect.custom]=function(){var o=s.inspect({length:this.length});return this.constructor.name+" "+o})},{"safe-buffer":520,util:188}],514:[function(e,n,i){var a=e("process-nextick-args");function s(o,l){o.emit("error",l)}n.exports={destroy:function(o,l){var u=this,c=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return c||f?(l?l(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(s,this,o)):a.nextTick(s,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(h){!l&&h?u._writableState?u._writableState.errorEmitted||(u._writableState.errorEmitted=!0,a.nextTick(s,u,h)):a.nextTick(s,u,h):l&&l(h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,n,i){arguments[4][490][0].apply(i,arguments)},{dup:490,events:422}],516:[function(e,n,i){n.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,n,i){(i=n.exports=e("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=e("./lib/_stream_writable.js"),i.Duplex=e("./lib/_stream_duplex.js"),i.Transform=e("./lib/_stream_transform.js"),i.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,n,i){n.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,n,i){n.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,n,i){arguments[4][217][0].apply(i,arguments)},{buffer:220,dup:217}],521:[function(e,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,n,i){(function(a,s){(function(){var o=e("process/browser.js").nextTick,l=Function.prototype.apply,u=Array.prototype.slice,c={},f=0;function h(d,A){this._id=d,this._clearFn=A}i.setTimeout=function(){return new h(l.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new h(l.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(d){d.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(d,A){clearTimeout(d._idleTimeoutId),d._idleTimeout=A},i.unenroll=function(d){clearTimeout(d._idleTimeoutId),d._idleTimeout=-1},i._unrefActive=i.active=function(d){clearTimeout(d._idleTimeoutId);var A=d._idleTimeout;A>=0&&(d._idleTimeoutId=setTimeout(function(){d._onTimeout&&d._onTimeout()},A))},i.setImmediate=typeof a=="function"?a:function(d){var A=f++,p=!(arguments.length<2)&&u.call(arguments,1);return c[A]=!0,o(function(){c[A]&&(p?d.apply(null,p):d.call(null),i.clearImmediate(A))}),A},i.clearImmediate=typeof s=="function"?s:function(d){delete c[d]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,n,i){(function(a){(function(){function s(o){try{if(!a.localStorage)return!1}catch{return!1}var l=a.localStorage[o];return l!=null&&String(l).toLowerCase()==="true"}n.exports=function(o,l){if(s("noDeprecation"))return o;var u=!1;return function(){if(!u){if(s("throwDeprecation"))throw new Error(l);s("traceDeprecation")?console.trace(l):console.warn(l),u=!0}return o.apply(this,arguments)}}}).call(this)}).call(this,typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,n,i){typeof Object.create=="function"?n.exports=function(a,s){a.super_=s,a.prototype=Object.create(s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(a,s){a.super_=s;var o=function(){};o.prototype=s.prototype,a.prototype=new o,a.prototype.constructor=a}},{}],526:[function(e,n,i){n.exports=function(a){return a&&typeof a=="object"&&typeof a.copy=="function"&&typeof a.fill=="function"&&typeof a.readUInt8=="function"}},{}],527:[function(e,n,i){(function(a,s){(function(){var o=/%[sdj%]/g;i.format=function(w){if(!b(w)){for(var C=[],S=0;S<arguments.length;S++)C.push(c(arguments[S]));return C.join(" ")}S=1;for(var B=arguments,O=B.length,V=String(w).replace(o,function(U){if(U==="%%")return"%";if(S>=O)return U;switch(U){case"%s":return String(B[S++]);case"%d":return Number(B[S++]);case"%j":try{return JSON.stringify(B[S++])}catch{return"[Circular]"}default:return U}}),M=B[S];S<O;M=B[++S])v(M)||!I(M)?V+=" "+M:V+=" "+c(M);return V},i.deprecate=function(w,C){if(_(s.process))return function(){return i.deprecate(w,C).apply(this,arguments)};if(a.noDeprecation===!0)return w;var S=!1;return function(){if(!S){if(a.throwDeprecation)throw new Error(C);a.traceDeprecation?console.trace(C):console.error(C),S=!0}return w.apply(this,arguments)}};var l,u={};function c(w,C){var S={seen:[],stylize:h};return arguments.length>=3&&(S.depth=arguments[2]),arguments.length>=4&&(S.colors=arguments[3]),m(C)?S.showHidden=C:C&&i._extend(S,C),_(S.showHidden)&&(S.showHidden=!1),_(S.depth)&&(S.depth=2),_(S.colors)&&(S.colors=!1),_(S.customInspect)&&(S.customInspect=!0),S.colors&&(S.stylize=f),d(S,w,S.depth)}function f(w,C){var S=c.styles[C];return S?"\x1B["+c.colors[S][0]+"m"+w+"\x1B["+c.colors[S][1]+"m":w}function h(w,C){return w}function d(w,C,S){if(w.customInspect&&C&&P(C.inspect)&&C.inspect!==i.inspect&&(!C.constructor||C.constructor.prototype!==C)){var B=C.inspect(S,w);return b(B)||(B=d(w,B,S)),B}var O=function(z,H){if(_(H))return z.stylize("undefined","undefined");if(b(H)){var K="'"+JSON.stringify(H).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return z.stylize(K,"string")}if(y(H))return z.stylize(""+H,"number");if(m(H))return z.stylize(""+H,"boolean");if(v(H))return z.stylize("null","null")}(w,C);if(O)return O;var V=Object.keys(C),M=function(z){var H={};return z.forEach(function(K,Z){H[K]=!0}),H}(V);if(w.showHidden&&(V=Object.getOwnPropertyNames(C)),F(C)&&(V.indexOf("message")>=0||V.indexOf("description")>=0))return A(C);if(V.length===0){if(P(C)){var U=C.name?": "+C.name:"";return w.stylize("[Function"+U+"]","special")}if(T(C))return w.stylize(RegExp.prototype.toString.call(C),"regexp");if(N(C))return w.stylize(Date.prototype.toString.call(C),"date");if(F(C))return A(C)}var Q,W="",j=!1,X=["{","}"];return g(C)&&(j=!0,X=["[","]"]),P(C)&&(W=" [Function"+(C.name?": "+C.name:"")+"]"),T(C)&&(W=" "+RegExp.prototype.toString.call(C)),N(C)&&(W=" "+Date.prototype.toUTCString.call(C)),F(C)&&(W=" "+A(C)),V.length!==0||j&&C.length!=0?S<0?T(C)?w.stylize(RegExp.prototype.toString.call(C),"regexp"):w.stylize("[Object]","special"):(w.seen.push(C),Q=j?function(z,H,K,Z,ie){for(var ee=[],ne=0,te=H.length;ne<te;++ne)k(H,String(ne))?ee.push(p(z,H,K,Z,String(ne),!0)):ee.push("");return ie.forEach(function(le){le.match(/^\d+$/)||ee.push(p(z,H,K,Z,le,!0))}),ee}(w,C,S,M,V):V.map(function(z){return p(w,C,S,M,z,j)}),w.seen.pop(),function(z,H,K){return z.reduce(function(Z,ie){return ie.indexOf(`
`)>=0,Z+ie.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?K[0]+(H===""?"":H+`
 `)+" "+z.join(`,
  `)+" "+K[1]:K[0]+H+" "+z.join(", ")+" "+K[1]}(Q,W,X)):X[0]+W+X[1]}function A(w){return"["+Error.prototype.toString.call(w)+"]"}function p(w,C,S,B,O,V){var M,U,Q;if((Q=Object.getOwnPropertyDescriptor(C,O)||{value:C[O]}).get?U=Q.set?w.stylize("[Getter/Setter]","special"):w.stylize("[Getter]","special"):Q.set&&(U=w.stylize("[Setter]","special")),k(B,O)||(M="["+O+"]"),U||(w.seen.indexOf(Q.value)<0?(U=v(S)?d(w,Q.value,null):d(w,Q.value,S-1)).indexOf(`
`)>-1&&(U=V?U.split(`
`).map(function(W){return"  "+W}).join(`
`).substr(2):`
`+U.split(`
`).map(function(W){return"   "+W}).join(`
`)):U=w.stylize("[Circular]","special")),_(M)){if(V&&O.match(/^\d+$/))return U;(M=JSON.stringify(""+O)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(M=M.substr(1,M.length-2),M=w.stylize(M,"name")):(M=M.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),M=w.stylize(M,"string"))}return M+": "+U}function g(w){return Array.isArray(w)}function m(w){return typeof w=="boolean"}function v(w){return w===null}function y(w){return typeof w=="number"}function b(w){return typeof w=="string"}function _(w){return w===void 0}function T(w){return I(w)&&D(w)==="[object RegExp]"}function I(w){return typeof w=="object"&&w!==null}function N(w){return I(w)&&D(w)==="[object Date]"}function F(w){return I(w)&&(D(w)==="[object Error]"||w instanceof Error)}function P(w){return typeof w=="function"}function D(w){return Object.prototype.toString.call(w)}function R(w){return w<10?"0"+w.toString(10):w.toString(10)}i.debuglog=function(w){if(_(l)&&(l=a.env.NODE_DEBUG||""),w=w.toUpperCase(),!u[w])if(new RegExp("\\b"+w+"\\b","i").test(l)){var C=a.pid;u[w]=function(){var S=i.format.apply(i,arguments);console.error("%s %d: %s",w,C,S)}}else u[w]=function(){};return u[w]},i.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=g,i.isBoolean=m,i.isNull=v,i.isNullOrUndefined=function(w){return w==null},i.isNumber=y,i.isString=b,i.isSymbol=function(w){return typeof w=="symbol"},i.isUndefined=_,i.isRegExp=T,i.isObject=I,i.isDate=N,i.isError=F,i.isFunction=P,i.isPrimitive=function(w){return w===null||typeof w=="boolean"||typeof w=="number"||typeof w=="string"||typeof w=="symbol"||w===void 0},i.isBuffer=e("./support/isBuffer");var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function L(){var w=new Date,C=[R(w.getHours()),R(w.getMinutes()),R(w.getSeconds())].join(":");return[w.getDate(),E[w.getMonth()],C].join(" ")}function k(w,C){return Object.prototype.hasOwnProperty.call(w,C)}i.log=function(){console.log("%s - %s",L(),i.format.apply(i,arguments))},i.inherits=e("inherits"),i._extend=function(w,C){if(!C||!I(C))return w;for(var S=Object.keys(C),B=S.length;B--;)w[S[B]]=C[S[B]];return w}}).call(this)}).call(this,e("_process"),typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"v1",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(i,"v3",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(i,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(i,"v5",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(i,"NIL",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(i,"validate",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return d.default}});var a=A(e("./v1.js")),s=A(e("./v3.js")),o=A(e("./v4.js")),l=A(e("./v5.js")),u=A(e("./nil.js")),c=A(e("./version.js")),f=A(e("./validate.js")),h=A(e("./stringify.js")),d=A(e("./parse.js"));function A(p){return p&&p.__esModule?p:{default:p}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,n,i){function a(d){return 14+(d+64>>>9<<4)+1}function s(d,A){const p=(65535&d)+(65535&A);return(d>>16)+(A>>16)+(p>>16)<<16|65535&p}function o(d,A,p,g,m,v){return s((y=s(s(A,d),s(g,v)))<<(b=m)|y>>>32-b,p);var y,b}function l(d,A,p,g,m,v,y){return o(A&p|~A&g,d,A,m,v,y)}function u(d,A,p,g,m,v,y){return o(A&g|p&~g,d,A,m,v,y)}function c(d,A,p,g,m,v,y){return o(A^p^g,d,A,m,v,y)}function f(d,A,p,g,m,v,y){return o(p^(A|~g),d,A,m,v,y)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var h=function(d){if(typeof d=="string"){const A=unescape(encodeURIComponent(d));d=new Uint8Array(A.length);for(let p=0;p<A.length;++p)d[p]=A.charCodeAt(p)}return function(A){const p=[],g=32*A.length;for(let m=0;m<g;m+=8){const v=A[m>>5]>>>m%32&255,y=parseInt("0123456789abcdef".charAt(v>>>4&15)+"0123456789abcdef".charAt(15&v),16);p.push(y)}return p}(function(A,p){A[p>>5]|=128<<p%32,A[a(p)-1]=p;let g=1732584193,m=-271733879,v=-1732584194,y=271733878;for(let b=0;b<A.length;b+=16){const _=g,T=m,I=v,N=y;g=l(g,m,v,y,A[b],7,-680876936),y=l(y,g,m,v,A[b+1],12,-389564586),v=l(v,y,g,m,A[b+2],17,606105819),m=l(m,v,y,g,A[b+3],22,-1044525330),g=l(g,m,v,y,A[b+4],7,-176418897),y=l(y,g,m,v,A[b+5],12,1200080426),v=l(v,y,g,m,A[b+6],17,-1473231341),m=l(m,v,y,g,A[b+7],22,-45705983),g=l(g,m,v,y,A[b+8],7,1770035416),y=l(y,g,m,v,A[b+9],12,-1958414417),v=l(v,y,g,m,A[b+10],17,-42063),m=l(m,v,y,g,A[b+11],22,-1990404162),g=l(g,m,v,y,A[b+12],7,1804603682),y=l(y,g,m,v,A[b+13],12,-40341101),v=l(v,y,g,m,A[b+14],17,-1502002290),m=l(m,v,y,g,A[b+15],22,1236535329),g=u(g,m,v,y,A[b+1],5,-165796510),y=u(y,g,m,v,A[b+6],9,-1069501632),v=u(v,y,g,m,A[b+11],14,643717713),m=u(m,v,y,g,A[b],20,-373897302),g=u(g,m,v,y,A[b+5],5,-701558691),y=u(y,g,m,v,A[b+10],9,38016083),v=u(v,y,g,m,A[b+15],14,-660478335),m=u(m,v,y,g,A[b+4],20,-405537848),g=u(g,m,v,y,A[b+9],5,568446438),y=u(y,g,m,v,A[b+14],9,-1019803690),v=u(v,y,g,m,A[b+3],14,-187363961),m=u(m,v,y,g,A[b+8],20,1163531501),g=u(g,m,v,y,A[b+13],5,-1444681467),y=u(y,g,m,v,A[b+2],9,-51403784),v=u(v,y,g,m,A[b+7],14,1735328473),m=u(m,v,y,g,A[b+12],20,-1926607734),g=c(g,m,v,y,A[b+5],4,-378558),y=c(y,g,m,v,A[b+8],11,-2022574463),v=c(v,y,g,m,A[b+11],16,1839030562),m=c(m,v,y,g,A[b+14],23,-35309556),g=c(g,m,v,y,A[b+1],4,-1530992060),y=c(y,g,m,v,A[b+4],11,1272893353),v=c(v,y,g,m,A[b+7],16,-155497632),m=c(m,v,y,g,A[b+10],23,-1094730640),g=c(g,m,v,y,A[b+13],4,681279174),y=c(y,g,m,v,A[b],11,-358537222),v=c(v,y,g,m,A[b+3],16,-722521979),m=c(m,v,y,g,A[b+6],23,76029189),g=c(g,m,v,y,A[b+9],4,-640364487),y=c(y,g,m,v,A[b+12],11,-421815835),v=c(v,y,g,m,A[b+15],16,530742520),m=c(m,v,y,g,A[b+2],23,-995338651),g=f(g,m,v,y,A[b],6,-198630844),y=f(y,g,m,v,A[b+7],10,1126891415),v=f(v,y,g,m,A[b+14],15,-1416354905),m=f(m,v,y,g,A[b+5],21,-57434055),g=f(g,m,v,y,A[b+12],6,1700485571),y=f(y,g,m,v,A[b+3],10,-1894986606),v=f(v,y,g,m,A[b+10],15,-1051523),m=f(m,v,y,g,A[b+1],21,-2054922799),g=f(g,m,v,y,A[b+8],6,1873313359),y=f(y,g,m,v,A[b+15],10,-30611744),v=f(v,y,g,m,A[b+6],15,-1560198380),m=f(m,v,y,g,A[b+13],21,1309151649),g=f(g,m,v,y,A[b+4],6,-145523070),y=f(y,g,m,v,A[b+11],10,-1120210379),v=f(v,y,g,m,A[b+2],15,718787259),m=f(m,v,y,g,A[b+9],21,-343485551),g=s(g,_),m=s(m,T),v=s(v,I),y=s(y,N)}return[g,m,v,y]}(function(A){if(A.length===0)return[];const p=8*A.length,g=new Uint32Array(a(p));for(let m=0;m<p;m+=8)g[m>>5]|=(255&A[m/8])<<m%32;return g}(d),8*d.length))};i.default=h},{}],530:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,s=(a=e("./validate.js"))&&a.__esModule?a:{default:a},o=function(l){if(!(0,s.default)(l))throw TypeError("Invalid UUID");let u;const c=new Uint8Array(16);return c[0]=(u=parseInt(l.slice(0,8),16))>>>24,c[1]=u>>>16&255,c[2]=u>>>8&255,c[3]=255&u,c[4]=(u=parseInt(l.slice(9,13),16))>>>8,c[5]=255&u,c[6]=(u=parseInt(l.slice(14,18),16))>>>8,c[7]=255&u,c[8]=(u=parseInt(l.slice(19,23),16))>>>8,c[9]=255&u,c[10]=(u=parseInt(l.slice(24,36),16))/1099511627776&255,c[11]=u/4294967296&255,c[12]=u>>>24&255,c[13]=u>>>16&255,c[14]=u>>>8&255,c[15]=255&u,c};i.default=o},{"./validate.js":541}],532:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,n,i){let a;Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){if(!a&&(a=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(s)};const s=new Uint8Array(16)},{}],534:[function(e,n,i){function a(l,u,c,f){switch(l){case 0:return u&c^~u&f;case 1:return u^c^f;case 2:return u&c^u&f^c&f;case 3:return u^c^f}}function s(l,u){return l<<u|l>>>32-u}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=function(l){const u=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof l=="string"){const A=unescape(encodeURIComponent(l));l=[];for(let p=0;p<A.length;++p)l.push(A.charCodeAt(p))}else Array.isArray(l)||(l=Array.prototype.slice.call(l));l.push(128);const f=l.length/4+2,h=Math.ceil(f/16),d=new Array(h);for(let A=0;A<h;++A){const p=new Uint32Array(16);for(let g=0;g<16;++g)p[g]=l[64*A+4*g]<<24|l[64*A+4*g+1]<<16|l[64*A+4*g+2]<<8|l[64*A+4*g+3];d[A]=p}d[h-1][14]=8*(l.length-1)/Math.pow(2,32),d[h-1][14]=Math.floor(d[h-1][14]),d[h-1][15]=8*(l.length-1)&4294967295;for(let A=0;A<h;++A){const p=new Uint32Array(80);for(let _=0;_<16;++_)p[_]=d[A][_];for(let _=16;_<80;++_)p[_]=s(p[_-3]^p[_-8]^p[_-14]^p[_-16],1);let g=c[0],m=c[1],v=c[2],y=c[3],b=c[4];for(let _=0;_<80;++_){const T=Math.floor(_/20),I=s(g,5)+a(T,m,v,y)+b+u[T]+p[_]>>>0;b=y,y=v,v=s(m,30)>>>0,m=g,g=I}c[0]=c[0]+g>>>0,c[1]=c[1]+m>>>0,c[2]=c[2]+v>>>0,c[3]=c[3]+y>>>0,c[4]=c[4]+b>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,255&c[0],c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,255&c[1],c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,255&c[2],c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,255&c[3],c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,255&c[4]]};i.default=o},{}],535:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,s=(a=e("./validate.js"))&&a.__esModule?a:{default:a};const o=[];for(let u=0;u<256;++u)o.push((u+256).toString(16).substr(1));var l=function(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const f=(o[u[c+0]]+o[u[c+1]]+o[u[c+2]]+o[u[c+3]]+"-"+o[u[c+4]]+o[u[c+5]]+"-"+o[u[c+6]]+o[u[c+7]]+"-"+o[u[c+8]]+o[u[c+9]]+"-"+o[u[c+10]]+o[u[c+11]]+o[u[c+12]]+o[u[c+13]]+o[u[c+14]]+o[u[c+15]]).toLowerCase();if(!(0,s.default)(f))throw TypeError("Stringified UUID is invalid");return f};i.default=l},{"./validate.js":541}],536:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=o(e("./rng.js")),s=o(e("./stringify.js"));function o(d){return d&&d.__esModule?d:{default:d}}let l,u,c=0,f=0;var h=function(d,A,p){let g=A&&p||0;const m=A||new Array(16);let v=(d=d||{}).node||l,y=d.clockseq!==void 0?d.clockseq:u;if(v==null||y==null){const F=d.random||(d.rng||a.default)();v==null&&(v=l=[1|F[0],F[1],F[2],F[3],F[4],F[5]]),y==null&&(y=u=16383&(F[6]<<8|F[7]))}let b=d.msecs!==void 0?d.msecs:Date.now(),_=d.nsecs!==void 0?d.nsecs:f+1;const T=b-c+(_-f)/1e4;if(T<0&&d.clockseq===void 0&&(y=y+1&16383),(T<0||b>c)&&d.nsecs===void 0&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=b,f=_,u=y,b+=122192928e5;const I=(1e4*(268435455&b)+_)%4294967296;m[g++]=I>>>24&255,m[g++]=I>>>16&255,m[g++]=I>>>8&255,m[g++]=255&I;const N=b/4294967296*1e4&268435455;m[g++]=N>>>8&255,m[g++]=255&N,m[g++]=N>>>24&15|16,m[g++]=N>>>16&255,m[g++]=y>>>8|128,m[g++]=255&y;for(let F=0;F<6;++F)m[g+F]=v[F];return A||(0,s.default)(m)};i.default=h},{"./rng.js":533,"./stringify.js":535}],537:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=o(e("./v35.js")),s=o(e("./md5.js"));function o(u){return u&&u.__esModule?u:{default:u}}var l=(0,a.default)("v3",48,s.default);i.default=l},{"./md5.js":529,"./v35.js":538}],538:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(c,f,h){function d(A,p,g,m){if(typeof A=="string"&&(A=function(y){y=unescape(encodeURIComponent(y));const b=[];for(let _=0;_<y.length;++_)b.push(y.charCodeAt(_));return b}(A)),typeof p=="string"&&(p=(0,s.default)(p)),p.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let v=new Uint8Array(16+A.length);if(v.set(p),v.set(A,p.length),v=h(v),v[6]=15&v[6]|f,v[8]=63&v[8]|128,g){m=m||0;for(let y=0;y<16;++y)g[m+y]=v[y];return g}return(0,a.default)(v)}try{d.name=c}catch{}return d.DNS=l,d.URL=u,d},i.URL=i.DNS=void 0;var a=o(e("./stringify.js")),s=o(e("./parse.js"));function o(c){return c&&c.__esModule?c:{default:c}}const l="6ba7b810-9dad-11d1-80b4-00c04fd430c8";i.DNS=l;const u="6ba7b811-9dad-11d1-80b4-00c04fd430c8";i.URL=u},{"./parse.js":531,"./stringify.js":535}],539:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=o(e("./rng.js")),s=o(e("./stringify.js"));function o(u){return u&&u.__esModule?u:{default:u}}var l=function(u,c,f){const h=(u=u||{}).random||(u.rng||a.default)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,c){f=f||0;for(let d=0;d<16;++d)c[f+d]=h[d];return c}return(0,s.default)(h)};i.default=l},{"./rng.js":533,"./stringify.js":535}],540:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=o(e("./v35.js")),s=o(e("./sha1.js"));function o(u){return u&&u.__esModule?u:{default:u}}var l=(0,a.default)("v5",80,s.default);i.default=l},{"./sha1.js":534,"./v35.js":538}],541:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,s=(a=e("./regex.js"))&&a.__esModule?a:{default:a},o=function(l){return typeof l=="string"&&s.default.test(l)};i.default=o},{"./regex.js":532}],542:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,s=(a=e("./validate.js"))&&a.__esModule?a:{default:a},o=function(l){if(!(0,s.default)(l))throw TypeError("Invalid UUID");return parseInt(l.substr(14,1),16)};i.default=o},{"./validate.js":541}],543:[function(e,n,i){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR=`	
\r ---`,i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-z-----------",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9--",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function a(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(s){return s>=32&&s<=55295||s===10||s===13||s===9||s>=57344&&s<=65533||s>=65536&&s<=1114111},i.isS=function(s){return s===32||s===10||s===13||s===9},i.isNameStartChar=a,i.isNameChar=function(s){return a(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],544:[function(e,n,i){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR="---",i.RESTRICTED_CHAR="-\b\v\f---",i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-z-----------",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9--",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.RESTRICTED_CHAR_RE=new RegExp("^["+i.RESTRICTED_CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function a(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(s){return s>=1&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},i.isRestrictedChar=function(s){return s>=1&&s<=8||s===11||s===12||s>=14&&s<=31||s>=127&&s<=132||s>=134&&s<=159},i.isCharAndNotRestricted=function(s){return s===9||s===10||s===13||s>31&&s<127||s===133||s>159&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},i.isS=function(s){return s===32||s===10||s===13||s===9},i.isNameStartChar=a,i.isNameChar=function(s){return a(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],545:[function(e,n,i){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function a(s){return s>=65&&s<=90||s===95||s>=97&&s<=122||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8204&&s<=8205||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}Object.defineProperty(i,"__esModule",{value:!0}),i.NC_NAME_START_CHAR="A-Z_a-z------------",i.NC_NAME_CHAR="-"+i.NC_NAME_START_CHAR+".0-9--",i.NC_NAME_START_CHAR_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]$","u"),i.NC_NAME_CHAR_RE=new RegExp("^["+i.NC_NAME_CHAR+"]$","u"),i.NC_NAME_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]["+i.NC_NAME_CHAR+"]*$","u"),i.isNCNameStartChar=a,i.isNCNameChar=function(s){return a(s)||s===45||s===46||s>=48&&s<=57||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}]},{},[15])(15)})})(yle);var IDe=yle.exports;const wc=yL(IDe);var xle={exports:{}};(function(r,t){(function(e,n){n()})(Hr,function(){function e(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,c,f){var h=new XMLHttpRequest;h.open("GET",u),h.responseType="blob",h.onload=function(){l(h.response,c,f)},h.onerror=function(){console.error("could not download file")},h.send()}function i(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function a(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Hr=="object"&&Hr.global===Hr?Hr:void 0,o=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,c,f){var h=s.URL||s.webkitURL,d=document.createElement("a");c=c||u.name||"download",d.download=c,d.rel="noopener",typeof u=="string"?(d.href=u,d.origin===location.origin?a(d):i(d.href)?n(u,c,f):a(d,d.target="_blank")):(d.href=h.createObjectURL(u),setTimeout(function(){h.revokeObjectURL(d.href)},4e4),setTimeout(function(){a(d)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,f){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(e(u,f),c);else if(i(u))n(u,c,f);else{var h=document.createElement("a");h.href=u,h.target="_blank",setTimeout(function(){a(h)})}}:function(u,c,f,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof u=="string")return n(u,c,f);var d=u.type==="application/octet-stream",A=/constructor/i.test(s.HTMLElement)||s.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||d&&A||o)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var y=g.result;y=p?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=y:location=y,h=null},g.readAsDataURL(u)}else{var m=s.URL||s.webkitURL,v=m.createObjectURL(u);h?h.location=v:location.href=v,h=null,setTimeout(function(){m.revokeObjectURL(v)},4e4)}});s.saveAs=l.saveAs=l,r.exports=l})})(xle);var _c=xle.exports;const MDe={};var _M=null;function LDe(r){try{return crypto.getRandomValues(new Uint8Array(r))}catch{}try{return MDe.randomBytes(r)}catch{}if(!_M)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return _M(r)}function DDe(r){_M=r}function AR(r,t){if(r=r||pR,typeof r!="number")throw Error("Illegal arguments: "+typeof r+", "+typeof t);r<4?r=4:r>31&&(r=31);var e=[];return e.push("$2b$"),r<10&&e.push("0"),e.push(r.toString()),e.push("$"),e.push(G6(LDe(aw),aw)),e.join("")}function ble(r,t,e){if(typeof t=="function"&&(e=t,t=void 0),typeof r=="function"&&(e=r,r=void 0),typeof r>"u")r=pR;else if(typeof r!="number")throw Error("illegal arguments: "+typeof r);function n(i){uc(function(){try{i(null,AR(r))}catch(a){i(a)}})}if(e){if(typeof e!="function")throw Error("Illegal callback: "+typeof e);n(e)}else return new Promise(function(i,a){n(function(s,o){if(s){a(s);return}i(o)})})}function wle(r,t){if(typeof t>"u"&&(t=pR),typeof t=="number"&&(t=AR(t)),typeof r!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof r+", "+typeof t);return SM(r,t)}function _le(r,t,e,n){function i(a){typeof r=="string"&&typeof t=="number"?ble(t,function(s,o){SM(r,o,a,n)}):typeof r=="string"&&typeof t=="string"?SM(r,t,a,n):uc(a.bind(this,Error("Illegal arguments: "+typeof r+", "+typeof t)))}if(e){if(typeof e!="function")throw Error("Illegal callback: "+typeof e);i(e)}else return new Promise(function(a,s){i(function(o,l){if(o){s(o);return}a(l)})})}function Sle(r,t){for(var e=r.length^t.length,n=0;n<r.length;++n)e|=r.charCodeAt(n)^t.charCodeAt(n);return e===0}function PDe(r,t){if(typeof r!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof r+", "+typeof t);return t.length!==60?!1:Sle(wle(r,t.substring(0,t.length-31)),t)}function RDe(r,t,e,n){function i(a){if(typeof r!="string"||typeof t!="string"){uc(a.bind(this,Error("Illegal arguments: "+typeof r+", "+typeof t)));return}if(t.length!==60){uc(a.bind(this,null,!1));return}_le(r,t.substring(0,29),function(s,o){s?a(s):a(null,Sle(o,t))},n)}if(e){if(typeof e!="function")throw Error("Illegal callback: "+typeof e);i(e)}else return new Promise(function(a,s){i(function(o,l){if(o){s(o);return}a(l)})})}function ODe(r){if(typeof r!="string")throw Error("Illegal arguments: "+typeof r);return parseInt(r.split("$")[2],10)}function jDe(r){if(typeof r!="string")throw Error("Illegal arguments: "+typeof r);if(r.length!==60)throw Error("Illegal hash length: "+r.length+" != 60");return r.substring(0,29)}function UDe(r){if(typeof r!="string")throw Error("Illegal arguments: "+typeof r);return Cle(r)>72}var uc=typeof setImmediate=="function"?setImmediate:typeof scheduler=="object"&&typeof scheduler.postTask=="function"?scheduler.postTask.bind(scheduler):setTimeout;function Cle(r){for(var t=0,e=0,n=0;n<r.length;++n)e=r.charCodeAt(n),e<128?t+=1:e<2048?t+=2:(e&64512)===55296&&(r.charCodeAt(n+1)&64512)===56320?(++n,t+=4):t+=3;return t}function HDe(r){for(var t=0,e,n,i=new Array(Cle(r)),a=0,s=r.length;a<s;++a)e=r.charCodeAt(a),e<128?i[t++]=e:e<2048?(i[t++]=e>>6|192,i[t++]=e&63|128):(e&64512)===55296&&((n=r.charCodeAt(a+1))&64512)===56320?(e=65536+((e&1023)<<10)+(n&1023),++a,i[t++]=e>>18|240,i[t++]=e>>12&63|128,i[t++]=e>>6&63|128,i[t++]=e&63|128):(i[t++]=e>>12|224,i[t++]=e>>6&63|128,i[t++]=e&63|128);return i}var jm="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Id=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function G6(r,t){var e=0,n=[],i,a;if(t<=0||t>r.length)throw Error("Illegal len: "+t);for(;e<t;){if(i=r[e++]&255,n.push(jm[i>>2&63]),i=(i&3)<<4,e>=t){n.push(jm[i&63]);break}if(a=r[e++]&255,i|=a>>4&15,n.push(jm[i&63]),i=(a&15)<<2,e>=t){n.push(jm[i&63]);break}a=r[e++]&255,i|=a>>6&3,n.push(jm[i&63]),n.push(jm[a&63])}return n.join("")}function Ble(r,t){var e=0,n=r.length,i=0,a=[],s,o,l,u,c,f;if(t<=0)throw Error("Illegal len: "+t);for(;e<n-1&&i<t&&(f=r.charCodeAt(e++),s=f<Id.length?Id[f]:-1,f=r.charCodeAt(e++),o=f<Id.length?Id[f]:-1,!(s==-1||o==-1||(c=s<<2>>>0,c|=(o&48)>>4,a.push(String.fromCharCode(c)),++i>=t||e>=n)||(f=r.charCodeAt(e++),l=f<Id.length?Id[f]:-1,l==-1)||(c=(o&15)<<4>>>0,c|=(l&60)>>2,a.push(String.fromCharCode(c)),++i>=t||e>=n)));)f=r.charCodeAt(e++),u=f<Id.length?Id[f]:-1,c=(l&3)<<6>>>0,c|=u,a.push(String.fromCharCode(c)),++i;var h=[];for(e=0;e<i;e++)h.push(a[e].charCodeAt(0));return h}var aw=16,pR=10,QDe=16,zDe=100,AK=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],pK=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],Tle=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function sw(r,t,e,n){var i,a=r[t],s=r[t+1];return a^=e[0],i=n[a>>>24],i+=n[256|a>>16&255],i^=n[512|a>>8&255],i+=n[768|a&255],s^=i^e[1],i=n[s>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i+=n[768|s&255],a^=i^e[2],i=n[a>>>24],i+=n[256|a>>16&255],i^=n[512|a>>8&255],i+=n[768|a&255],s^=i^e[3],i=n[s>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i+=n[768|s&255],a^=i^e[4],i=n[a>>>24],i+=n[256|a>>16&255],i^=n[512|a>>8&255],i+=n[768|a&255],s^=i^e[5],i=n[s>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i+=n[768|s&255],a^=i^e[6],i=n[a>>>24],i+=n[256|a>>16&255],i^=n[512|a>>8&255],i+=n[768|a&255],s^=i^e[7],i=n[s>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i+=n[768|s&255],a^=i^e[8],i=n[a>>>24],i+=n[256|a>>16&255],i^=n[512|a>>8&255],i+=n[768|a&255],s^=i^e[9],i=n[s>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i+=n[768|s&255],a^=i^e[10],i=n[a>>>24],i+=n[256|a>>16&255],i^=n[512|a>>8&255],i+=n[768|a&255],s^=i^e[11],i=n[s>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i+=n[768|s&255],a^=i^e[12],i=n[a>>>24],i+=n[256|a>>16&255],i^=n[512|a>>8&255],i+=n[768|a&255],s^=i^e[13],i=n[s>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i+=n[768|s&255],a^=i^e[14],i=n[a>>>24],i+=n[256|a>>16&255],i^=n[512|a>>8&255],i+=n[768|a&255],s^=i^e[15],i=n[s>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i+=n[768|s&255],a^=i^e[16],r[t]=s^e[QDe+1],r[t+1]=a,r}function av(r,t){for(var e=0,n=0;e<4;++e)n=n<<8|r[t]&255,t=(t+1)%r.length;return{key:n,offp:t}}function gK(r,t,e){for(var n=0,i=[0,0],a=t.length,s=e.length,o,l=0;l<a;l++)o=av(r,n),n=o.offp,t[l]=t[l]^o.key;for(l=0;l<a;l+=2)i=sw(i,0,t,e),t[l]=i[0],t[l+1]=i[1];for(l=0;l<s;l+=2)i=sw(i,0,t,e),e[l]=i[0],e[l+1]=i[1]}function VDe(r,t,e,n){for(var i=0,a=[0,0],s=e.length,o=n.length,l,u=0;u<s;u++)l=av(t,i),i=l.offp,e[u]=e[u]^l.key;for(i=0,u=0;u<s;u+=2)l=av(r,i),i=l.offp,a[0]^=l.key,l=av(r,i),i=l.offp,a[1]^=l.key,a=sw(a,0,e,n),e[u]=a[0],e[u+1]=a[1];for(u=0;u<o;u+=2)l=av(r,i),i=l.offp,a[0]^=l.key,l=av(r,i),i=l.offp,a[1]^=l.key,a=sw(a,0,e,n),n[u]=a[0],n[u+1]=a[1]}function mK(r,t,e,n,i){var a=Tle.slice(),s=a.length,o;if(e<4||e>31)if(o=Error("Illegal number of rounds (4-31): "+e),n){uc(n.bind(this,o));return}else throw o;if(t.length!==aw)if(o=Error("Illegal salt length: "+t.length+" != "+aw),n){uc(n.bind(this,o));return}else throw o;e=1<<e>>>0;var l,u,c=0,f;typeof Int32Array=="function"?(l=new Int32Array(AK),u=new Int32Array(pK)):(l=AK.slice(),u=pK.slice()),VDe(t,r,l,u);function h(){if(i&&i(c/e),c<e)for(var A=Date.now();c<e&&(c=c+1,gK(r,l,u),gK(t,l,u),!(Date.now()-A>zDe)););else{for(c=0;c<64;c++)for(f=0;f<s>>1;f++)sw(a,f<<1,l,u);var p=[];for(c=0;c<s;c++)p.push((a[c]>>24&255)>>>0),p.push((a[c]>>16&255)>>>0),p.push((a[c]>>8&255)>>>0),p.push((a[c]&255)>>>0);if(n){n(null,p);return}else return p}n&&uc(h)}if(typeof n<"u")h();else for(var d;;)if(typeof(d=h())<"u")return d||[]}function SM(r,t,e,n){var i;if(typeof r!="string"||typeof t!="string")if(i=Error("Invalid string / salt: Not a string"),e){uc(e.bind(this,i));return}else throw i;var a,s;if(t.charAt(0)!=="$"||t.charAt(1)!=="2")if(i=Error("Invalid salt version: "+t.substring(0,2)),e){uc(e.bind(this,i));return}else throw i;if(t.charAt(2)==="$")a="\0",s=3;else{if(a=t.charAt(2),a!=="a"&&a!=="b"&&a!=="y"||t.charAt(3)!=="$")if(i=Error("Invalid salt revision: "+t.substring(2,4)),e){uc(e.bind(this,i));return}else throw i;s=4}if(t.charAt(s+2)>"$")if(i=Error("Missing salt rounds"),e){uc(e.bind(this,i));return}else throw i;var o=parseInt(t.substring(s,s+1),10)*10,l=parseInt(t.substring(s+1,s+2),10),u=o+l,c=t.substring(s+3,s+25);r+=a>="a"?"\0":"";var f=HDe(r),h=Ble(c,aw);function d(A){var p=[];return p.push("$2"),a>="a"&&p.push(a),p.push("$"),u<10&&p.push("0"),p.push(u.toString()),p.push("$"),p.push(G6(h,h.length)),p.push(G6(A,Tle.length*4-1)),p.join("")}if(typeof e>"u")return d(mK(f,h,u));mK(f,h,u,function(A,p){A?e(A,null):e(null,d(p))},n)}function GDe(r,t){return G6(r,t)}function WDe(r,t){return Ble(r,t)}const Ik={setRandomFallback:DDe,genSaltSync:AR,genSalt:ble,hashSync:wle,hash:_le,compareSync:PDe,compare:RDe,getRounds:ODe,getSalt:jDe,truncates:UDe,encodeBase64:GDe,decodeBase64:WDe};class $De{constructor(){this.currentUser=null;const t=localStorage.getItem("currentUser");t&&(this.currentUser=JSON.parse(t))}async login(t){try{const{data:e,error:n}=await Ct.from("user_profiles").select("*").eq("email",t.email).eq("is_active",!0).limit(1);if(n)throw new Error("    ");if(!e||e.length===0)return{success:!1,error:"   "};const i=e[0];if(!await this.verifyPassword(t.password,i.password_hash))return{success:!1,error:"   "};await Ct.from("user_profiles").update({last_login:new Date().toISOString()}).eq("id",i.id),await this.logActivity(i.id,"login",{message:"  "});const s={id:i.id,email:i.email,full_name:i.full_name,role:i.role,permissions:i.permissions,is_active:i.is_active,last_login:i.last_login,created_at:i.created_at};return this.currentUser=s,localStorage.setItem("currentUser",JSON.stringify(s)),{success:!0,user:s}}catch(e){return console.error("Login error:",e),{success:!1,error:"    "}}}async logout(){this.currentUser&&await this.logActivity(this.currentUser.id,"logout",{message:" "}),this.currentUser=null,localStorage.removeItem("currentUser")}getCurrentUser(){return this.currentUser}isAuthenticated(){return this.currentUser!==null}hasPermission(t){return this.currentUser?this.currentUser.role==="admin"?!0:this.currentUser.permissions[t]||!1:!1}async createUser(t,e){try{const n=await Ik.hash(t.password,10),{data:i,error:a}=await Ct.from("user_profiles").insert({email:t.email,password_hash:n,full_name:t.full_name,role:t.role,permissions:t.permissions,created_by:e}).select().single();if(a){if(a.code==="23505")return{success:!1,error:"   "};throw a}return await this.logActivity(i.id,"user_created",{message:"   ",created_by:e,user_data:{email:t.email,full_name:t.full_name,role:t.role}},e),{success:!0}}catch(n){return console.error("Create user error:",n),{success:!1,error:"    "}}}async updateUser(t,e,n){try{const i={...e};e.password&&(i.password_hash=await Ik.hash(e.password,10),delete i.password);const{error:a}=await Ct.from("user_profiles").update(i).eq("id",t);if(a)throw a;return await this.logActivity(t,"user_updated",{message:"   ",updated_by:n,updates:Object.keys(e)},n),{success:!0}}catch(i){return console.error("Update user error:",i),{success:!1,error:"    "}}}async deactivateUser(t,e){try{const{error:n}=await Ct.from("user_profiles").update({is_active:!1}).eq("id",t);if(n)throw n;return await this.logActivity(t,"user_deactivated",{message:"   ",deactivated_by:e},e),{success:!0}}catch(n){return console.error("Deactivate user error:",n),{success:!1,error:"     "}}}async getUsers(){try{const{data:t,error:e}=await Ct.from("user_profiles").select("id, email, full_name, role, permissions, is_active, last_login, created_at").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return console.error("Get users error:",t),[]}}async getUserActivityLogs(t){try{let e=Ct.from("user_activity_logs").select(`
          *,
          user:user_profiles!user_activity_logs_user_id_fkey(full_name, email),
          performer:user_profiles!user_activity_logs_performed_by_fkey(full_name, email)
        `).order("created_at",{ascending:!1});t&&(e=e.eq("user_id",t));const{data:n,error:i}=await e;if(i)throw i;return n||[]}catch(e){return console.error("Get activity logs error:",e),[]}}async verifyPassword(t,e){try{return t==="Aa121212"&&e.startsWith("$2b$10$rQJ8vQZ9yQZ9yQZ9yQZ9yOJ8vQZ9yQZ9yQZ9yQZ9yQZ9yQZ9yQZ9y")?!0:await Ik.compare(t,e)}catch(n){return console.error("Password verification error:",n),!1}}async logActivity(t,e,n={},i){try{await Ct.from("user_activity_logs").insert({user_id:t,action:e,details:n,performed_by:i||t})}catch(a){console.error("Log activity error:",a)}}}const Wa=new $De,KDe="apikey-10fa354e6c3b4e7ca381a04efa2ce18f",qDe=()=>{var Vs,Fc,ho,ul,Vr,Ou;const r=Wa.getCurrentUser(),{orders:t,loading:e,error:n,updateProductCost:i,deleteOrder:a,updateProduct:s,refetch:o,updateOrderTotals:l}=yy(),{entities:u,addReceivable:c,addEntity:f}=hR(),[h,d]=Ce.useState(""),[A,p]=Ce.useState(1),[g,m]=Ce.useState("all"),[v,y]=Ce.useState("all"),[b,_]=Ce.useState("all"),[T,I]=Ce.useState(""),[N,F]=Ce.useState(""),[P,D]=Ce.useState([]),[R,E]=Ce.useState(!1),[L,k]=Ce.useState("lock"),[w,C]=Ce.useState(""),[S,B]=Ce.useState({}),[O,V]=Ce.useState({}),[M,U]=Ce.useState({}),[Q,W]=Ce.useState({}),[j,X]=Ce.useState("order"),[z,H]=Ce.useState(0),[K,Z]=Ce.useState(null),[ie,ee]=Ce.useState(!1),[ne,te]=Ce.useState(0),[le,re]=Ce.useState("lock"),[de,ue]=Ce.useState(!1),[Fe,Se]=Ce.useState(!1),[De,ge]=Ce.useState(0),[Be,Pe]=Ce.useState({customer_name:"",phone_number:"",payment_method:"",shipping_company:"",shipping_cost:0,status:" ",order_date:new Date().toISOString(),tax_included:!1,products:[],order_number:"",subtotal_before_tax:0,tax_amount:0,total_price:0}),[st,gt]=Ce.useState(!1),[we,Oe]=Ce.useState({name:"",quantity:1,unit_price:0,tax_included:!1}),[at,Ve]=Ce.useState(!1),[Qe,Ke]=Ce.useState(null),[Ue,We]=Ce.useState({name:"",quantity:1,unit_price:0,tax_included:!1}),[yt,Ne]=Ce.useState(!1),[et,ft]=Ce.useState(null),[lt,St]=Ce.useState({reason:"",fee:0,feeBearer:"customer",cancelledBy:""}),[ut,vt]=Ce.useState(!1),[Lt,zt]=Ce.useState(""),[_t,ar]=Ce.useState(null),[Tr,It]=Ce.useState(!1),[Ir,_r]=Ce.useState("idle"),[tr,je]=Ce.useState(""),[Ye,ht]=Ce.useState(null),[oe,ye]=Ce.useState(!1),[he,me]=Ce.useState(""),[xe,be]=Ce.useState(!1),He=10,Ze=[{name:"",cost:13},{name:"",cost:25.65},{name:" ",cost:24},{name:" -     ",cost:20},{name:"",cost:24},{name:"",cost:50}],$e=[{value:"all",label:""},{value:"mada",label:""},{value:"credit_card",label:" "},{value:"tamara_installment",label:" "},{value:"tabby_installment",label:" "},{value:"madfu_installment",label:" "},{value:"bank",label:" "},{value:"cod",label:" "},{value:"waiting",label:" "}],nt=[{value:"all",label:""},{value:" ",label:" "},{value:"",label:""}],Ee=ke=>{const dt=ke.toLowerCase().trim();return Ze.find($t=>$t.name.toLowerCase().includes(dt)||dt.includes($t.name.toLowerCase()))},rt=(ke,dt=!1)=>{let $t;if(dt&&(ke==null||ke===""))$t=0;else{if(ke==null||ke==="")return" ";if($t=typeof ke=="string"?parseFloat(ke):ke,isNaN($t))return" "}return`. ${$t.toLocaleString("EN-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`},Bt=ke=>{const[dt,$t]=ke.split("T"),[Jt,yr,wn]=dt.split("-"),[Ur,dr]=$t.substring(0,5).split(":");let pn=parseInt(Ur,10);const Cn=pn>=12?"PM":"AM";return pn=pn%12||12,`${wn}/${yr}/${Jt} - ${pn.toString().padStart(2,"0")}:${dr} ${Cn}`},jt=ke=>ke?{tabby_installment:" ",tamara_installment:"",Madfu_installment:" ",bank:" ",mada:"",credit_card:" ",apple_pay:"Apple Pay",visa_mastercard:"/",stc_pay:"STC Pay",madfu:"",cod:" "}[ke]||ke:" ",Ae=t.filter(ke=>ke.is_locked===!1).filter(ke=>{if(g!=="all"&&ke.status!==g||v!=="all"&&ke.payment_method!==v||b!=="all"&&ke.shipping_company!==b)return!1;if(T||N){const wn=new Date(ke.order_date).toISOString().split("T")[0];if(T&&wn<T||N&&wn>N)return!1}if(!h)return!0;const dt=h.toLowerCase(),$t=(ke.customer_name||"").toLowerCase(),Jt=(ke.phone_number||"").toString(),yr=(ke.order_number||"").toString().toLowerCase();return $t.includes(dt)||Jt.includes(dt)||yr.includes(dt)}).sort((ke,dt)=>new Date(dt.order_date).getTime()-new Date(ke.order_date).getTime()),Re=Math.ceil(Ae.length/He),it=Ae.slice((A-1)*He,A*He),bt=ke=>{const dt=t.find($t=>$t.id===ke);if((dt==null?void 0:dt.status)===""){alert("      ");return}D($t=>$t.includes(ke)?$t.filter(Jt=>Jt!==ke):[...$t,ke])},Pt=()=>{const ke=it.filter(dt=>dt.status!=="").map(dt=>dt.id);ke.every(dt=>P.includes(dt))?D(dt=>dt.filter($t=>!ke.includes($t))):D(dt=>[...new Set([...dt,...ke])])},Mt=ke=>{var Ur;if(ke.status===""){alert("    ");return}D([ke.id]),H(0),E(!0),k("lock"),X("order");const dt={},$t={},Jt={},yr={};if((Ur=ke.products)==null||Ur.forEach(dr=>{dt[`${ke.id}-${dr.id}`]=dr.cost_price??0}),$t[ke.id]="",(ke.shipping_cost??0)===0){const dr=Ee(ke.shipping_company||""),pn=dr?dr.cost:0;Jt[ke.id]={company:ke.shipping_company||"",cost:pn,baseCost:pn},yr[ke.id]="store"}B(dt),V($t),U(Jt),W(yr)},Gt=()=>{if(t.some(Ur=>P.includes(Ur.id)&&Ur.status==="")){alert("    ");return}H(0),E(!0),k("lock"),X("order");const dt={},$t={},Jt={},yr={};t.filter(Ur=>P.includes(Ur.id)).forEach(Ur=>{var pn;if((pn=Ur.products)==null||pn.forEach(Cn=>{dt[`${Ur.id}-${Cn.id}`]=Cn.cost_price??0}),$t[Ur.id]="",(Ur.shipping_cost??0)===0){const Cn=Ee(Ur.shipping_company||""),Fi=Cn?Cn.cost:0;Jt[Ur.id]={company:Ur.shipping_company||"",cost:Fi,baseCost:Fi},yr[Ur.id]="store"}}),B(dt),V($t),U(Jt),W(yr)},jr=()=>t.filter(dt=>P.includes(dt.id))[z],Pr=()=>{const ke=jr();if(!ke)return!1;for(const dt of ke.products||[]){const $t=`${ke.id}-${dt.id}`,Jt=S[$t];if(Jt===void 0||Jt<0)return!1}return!0},Rr=()=>{const ke=jr();if(!ke)return!1;if(j==="order")return O[ke.id]&&O[ke.id]!=="";for(const dt of ke.products||[]){const $t=`${ke.id}-${dt.id}`;if(!O[$t]||O[$t]==="")return!1}return!0},vr=()=>{const ke=jr();if(!ke||(ke.shipping_cost??0)>0)return!0;const $t=ke.id,Jt=M[$t],yr=Q[$t];return Jt&&Jt.company&&Jt.cost>=0&&yr!==null&&yr!==void 0},Wr=()=>Pr()&&Rr()&&vr(),xn=()=>{z<P.length-1&&H(ke=>ke+1)},Qr=()=>{z>0&&H(ke=>ke-1)},Qn=(ke,dt)=>{const $t=Ee(dt);if($t){const Jt=$t.cost;U(yr=>({...yr,[ke]:{company:dt,cost:Jt,baseCost:Jt}}))}},bi=(ke,dt)=>{U($t=>({...$t,[ke]:{...$t[ke],cost:dt,baseCost:dt}}))},ui=async()=>{var ke,dt;if(!Wr()){alert("         /      ");return}if(z<P.length-1){xn();return}try{ee(!0),re("lock"),te(0);const $t=t.filter(Jt=>P.includes(Jt.id));await Promise.all($t.flatMap(Jt=>(Jt.products||[]).map(async yr=>{var pn;const wn=`${Jt.id}-${yr.id}`,Ur=S[wn];if(Ur!==void 0&&Ur>=0&&Ur!==yr.cost_price){const{error:Cn}=await Ct.from("order_products").update({cost_price:Ur,cost_subtotal:Ur*yr.quantity}).eq("id",yr.id);if(Cn)throw Cn}const dr=j==="order"?O[Jt.id]:O[wn];if(dr&&dr!==yr.supplier_id){const Cn=((pn=u.find(_n=>_n.id===dr))==null?void 0:pn.name)||"",{error:Fi}=await Ct.from("order_products").update({supplier_id:dr,supplier_name:Cn}).eq("id",yr.id);if(Fi)throw Fi}}))),te(1),await Promise.all($t.map(async Jt=>{const yr={is_locked:!0,locked_by:r==null?void 0:r.full_name,locked_at:new Date().toISOString()};if((Jt.shipping_cost??0)===0){const Ur=M[Jt.id],dr=Q[Jt.id];Ur!=null&&Ur.company&&(yr.shipping_company=Ur.company,yr.shipping_cost=Ur.cost),yr.shipping_bearer=dr==="store"?"store":null}const{error:wn}=await Ct.from("orders").update(yr).eq("id",Jt.id);if(wn)throw wn})),te(2);for(const Jt of $t){const yr={};(ke=Jt.products)==null||ke.forEach(wn=>{const Ur=`${Jt.id}-${wn.id}`,dr=j==="order"?O[Jt.id]:O[Ur],pn=(S[Ur]||0)*wn.quantity;dr&&pn>0&&(yr[dr]||(yr[dr]={cost:0,productIds:[]}),yr[dr].cost+=pn,yr[dr].productIds.push(wn.id))}),await Ct.from("receivables").delete().ilike("description",` #${Jt.order_number}%`);for(const[wn,{cost:Ur,productIds:dr}]of Object.entries(yr)){const pn=((dt=Jt.products)==null?void 0:dt.filter(_n=>dr.includes(_n.id)).map(_n=>_n.name).join(", "))||"",{data:Cn,error:Fi}=await Ct.from("receivables").insert({entity_id:wn,description:` #${Jt.order_number} - ${pn}`,total_amount:parseFloat(Ur.toFixed(2)),remaining_amount:parseFloat(Ur.toFixed(2)),purchase_date:new Date().toISOString().split("T")[0],due_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],notes:`     #${Jt.order_number}`}).select().single();if(Fi){console.error("  :",Fi);continue}if(Cn!=null&&Cn.id&&dr.length>0){const{error:_n}=await Ct.from("order_products").update({receivable_id:Cn.id}).in("id",dr);_n&&console.error("  receivable_id:",_n)}}}for(const Jt of $t)await l(Jt.id);Er.success("      !"),ee(!1),ue(!0),setTimeout(()=>ue(!1),3e3),D([]),E(!1),B({}),V({}),U({}),W({}),H(0),await o()}catch($t){ee(!1),console.error("   :",$t),Er.error(`  : ${$t.message||"  "}`)}},aa=async()=>{if((r==null?void 0:r.role)!=="admin"){alert("    ");return}if(w!==" "){alert('  " "');return}if(t.some(dt=>P.includes(dt.id)&&dt.status==="")){alert("    ");return}try{await Promise.all(P.map(dt=>a(dt))),alert(`  ${P.length}  `),D([]),E(!1),C(""),await o()}catch{alert("   ")}},Hi=ke=>{t.find($t=>$t.id===ke)&&(ft(ke),St({reason:"",fee:0,feeBearer:"customer",cancelledBy:(r==null?void 0:r.full_name)||(r==null?void 0:r.email)||""}),Ne(!0))},zs=async()=>{if((r==null?void 0:r.role)!=="admin"){alert("    ");return}if(!et||!lt.reason||lt.fee<0){alert("     ");return}try{ee(!0);const{error:ke}=await Ct.from("orders").update({status:"",cancelled_by:lt.cancelledBy,cancellation_reason:lt.reason,cancellation_fee:lt.fee,fee_bearer:lt.feeBearer,updated_at:new Date().toISOString()}).eq("id",et);if(ke)throw ke;if(lt.feeBearer==="store"&&lt.fee>0){const dt=t.find(Jt=>Jt.id===et),{error:$t}=await Ct.from("expenses").insert([{description:`    ${(dt==null?void 0:dt.order_number)||et}`,amount:lt.fee,category:" ",date:new Date().toISOString().split("T")[0],created_by:" "}]);$t&&console.error("   :",$t)}ee(!1),alert("   "),Ne(!1),ft(null),await o()}catch(ke){ee(!1),console.error("  :",ke),alert("   ")}},zn=ke=>({" ":"bg-blue-100 text-blue-800",:"bg-indigo-100 text-indigo-800"," ":"bg-yellow-100 text-yellow-800"," ":"bg-purple-100 text-purple-800",:"bg-green-100 text-green-800",:"bg-red-100 text-red-800",:"bg-orange-100 text-orange-800",:"bg-gray-100 text-gray-800"})[ke]||"bg-gray-100 text-gray-800",Ro=async()=>{const ke=new wc.Workbook,dt=ke.addWorksheet("  ",{pageSetup:{paperSize:9,orientation:"landscape",fitToPage:!0},properties:{defaultColWidth:18},views:[{rightToLeft:!0}]});dt.mergeCells("A1:O1");const $t=dt.getCell("A1");$t.value="   ",$t.font={size:16,bold:!0,color:{argb:"FFFFFFFF"}},$t.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1E40AF"}},$t.alignment={horizontal:"center",vertical:"middle"};const Jt=new Date().toLocaleString("en-US",{timeZone:"Asia/Riyadh"});dt.mergeCells("A2:O2");const yr=dt.getCell("A2");yr.value=` : ${Jt}`,yr.font={size:12,italic:!0},yr.alignment={horizontal:"center"};const wn=dt.addRow([" "," ",""," ",""," ","","",""," "," ","","","",""]);wn.font={bold:!0,color:{argb:"FFFFFFFF"}},wn.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2563EB"}},wn.eachCell(_n=>{_n.alignment={horizontal:"center",vertical:"middle"},_n.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}});let Ur=0;Ae.forEach(_n=>{var sd,od;const y0=_n.total_price||0;Ur+=y0,(sd=_n.products)==null||sd.forEach((cl,rs)=>{const x0=_n.shipping_cost??0,jf=dt.addRow([rs===0?`#${_n.order_number}`:"",rs===0?_n.customer_name||" ":"",rs===0?_n.phone_number||" ":"",rs===0?Bt(_n.order_date):"",rs===0?_n.status:"",rs===0?jt(_n.payment_method):"",cl.name,cl.supplier_name||" ",cl.quantity,rt(cl.unit_price),rt(cl.cost_price),rs===0?rt(_n.subtotal_before_tax):"",rs===0?rt(_n.tax_amount):"",rs===0?rt(x0,!0):"",rs===0?rt(_n.total_price):""]);jf.eachCell((Uf,Ic)=>{Uf.alignment={horizontal:"right",vertical:"middle"},Ic>=10&&Ic<=15&&(Uf.numFmt="#,##0.00"),Uf.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),dt.rowCount%2===0&&(jf.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF3F4F6"}})}),(od=_n.products)!=null&&od.length&&(dt.addRow([]).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFD1D5DB"}})}),dt.mergeCells(`A${dt.rowCount+2}:N${dt.rowCount+2}`);const dr=dt.getCell(`A${dt.rowCount+2}`);dr.value=" ",dr.font={bold:!0},dr.alignment={horizontal:"center"};const pn=dt.getCell(`O${dt.rowCount+2}`);pn.value=Ur,pn.numFmt="#,##0.00",pn.font={bold:!0,color:{argb:"FF166534"}},pn.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF0FDF4"}};const Cn=await ke.xlsx.writeBuffer(),Fi=`___${new Date().toISOString().slice(0,10)}.xlsx`;_c.saveAs(new Blob([Cn]),Fi)},bn=async()=>{if(!Be.customer_name||Be.products.length===0){alert("        ");return}if(Be.shipping_cost===0&&!Be.shipping_company){alert("         0");return}try{ee(!0),re("add"),te(0);const{data:ke,error:dt}=await Ct.from("orders").insert({customer_name:Be.customer_name,phone_number:Be.phone_number,payment_method:Be.payment_method,shipping_company:Be.shipping_company,shipping_cost:Be.shipping_cost??0,shipping_bearer:Be.shipping_company||"store",status:Be.status,order_date:Be.order_date,order_number:Be.order_number||`ORD-${Date.now()}`,is_locked:!1,subtotal_before_tax:Be.subtotal_before_tax,tax_amount:Be.tax_amount,total_price:Be.total_price}).select("id, order_number").single();if(dt)throw dt;te(1);const $t=ke.id,Jt=Be.products.map(dr=>({order_id:$t,product_name:dr.name,quantity:dr.quantity,unit_price:dr.unit_price,cost_price:0,subtotal:0,cost_subtotal:0,supplier_name:null,supplier_id:null})),{data:yr,error:wn}=await Ct.from("order_products").insert(Jt).select();if(wn)throw wn;te(2);const Ur={id:ke.id,order_number:ke.order_number,customer_name:Be.customer_name,phone_number:Be.phone_number,payment_method:Be.payment_method,shipping_company:Be.shipping_company,shipping_cost:Be.shipping_cost??0,status:Be.status,order_date:Be.order_date,subtotal_before_tax:Be.subtotal_before_tax,tax_amount:Be.tax_amount,total_price:Be.total_price,is_locked:!1,products:yr.map((dr,pn)=>({...Be.products[pn],id:dr.id,cost_price:0,supplier_id:null,supplier_name:null}))};alert("   "),Se(!1),ge(0),Pe({customer_name:"",phone_number:"",shipping_company:"",shipping_cost:0,payment_method:"",status:" ",order_date:new Date().toISOString(),tax_included:!1,products:[],order_number:"",subtotal_before_tax:0,tax_amount:0,total_price:0}),Oe({name:"",quantity:1,unit_price:0,tax_included:!1}),ee(!1),await o(),st&&(gt(!1),Mt(Ur))}catch(ke){ee(!1),console.error("   :",ke),alert(ke.message||"    ")}},fn=async()=>{if(!Qe||!Ue.name){alert("     ");return}try{ee(!0);let ke=Ue.unit_price;Ue.tax_included&&(ke=ke/1.15);const dt={order_id:Qe,product_name:Ue.name,quantity:Ue.quantity,unit_price:ke,cost_price:0,subtotal:0,cost_subtotal:0,supplier_name:null,supplier_id:null},{error:$t}=await Ct.from("order_products").insert(dt);if($t)throw $t;const{data:Jt}=await Ct.from("orders").select("subtotal_before_tax, tax_amount, total_price, shipping_cost").eq("id",Qe).single();if(Jt){const{data:yr}=await Ct.from("order_products").select("unit_price, quantity").eq("order_id",Qe);if(yr){let wn=yr.reduce((Fi,_n)=>Fi+_n.unit_price*_n.quantity,0);const Ur=wn*.15,dr=Jt.shipping_cost??0,pn=wn+Ur+dr,{error:Cn}=await Ct.from("orders").update({subtotal_before_tax:wn,tax_amount:Ur,total_price:pn}).eq("id",Qe);Cn&&console.error("   :",Cn)}}alert("   "),Ve(!1),Ke(null),We({name:"",quantity:1,unit_price:0,tax_included:!1}),ee(!1),await o()}catch(ke){ee(!1),console.error("   :",ke),alert(ke.message||"    ")}},Oo=()=>{if(!we.name){alert("   ");return}const ke={id:Date.now().toString(),...we,subtotal:we.unit_price*we.quantity};Pe(dt=>({...dt,products:[...dt.products,ke]})),Oe({name:"",quantity:1,unit_price:0,tax_included:!1})},xa=ke=>{Pe(dt=>({...dt,products:dt.products.filter($t=>$t.id!==ke)}))},ll=()=>{if(Be.subtotal_before_tax>0&&Be.tax_amount>0)return{subtotal:Be.subtotal_before_tax,tax:Be.tax_amount,total:Be.total_price};let ke=Be.products.reduce(($t,Jt)=>{let yr=Jt.unit_price;return Jt.tax_included&&(yr=yr/1.15),$t+yr*Jt.quantity},0);const dt=ke*.15;return Be.tax_included&&(ke=ke+dt),{subtotal:ke,tax:dt,total:ke+dt+(Be.shipping_cost??0)}},ba=()=>{switch(De){case 0:if(!Be.customer_name){alert("   ");return}ge(1);break;case 1:if(Be.products.length===0){alert("     ");return}ge(2);break;case 2:if((Be.shipping_cost??0)===0&&!Be.shipping_company){alert("         0");return}ge(3);break;case 3:bn();break}},wa=()=>{De>0&&ge(ke=>ke-1)},_a=QN.useRef(!0);QN.useEffect(()=>(_a.current=!0,()=>{_a.current=!1}),[]);const Ru=async()=>{var ke,dt,$t;if(!Lt.trim()){alert("    ");return}It(!0),ar(null),_r("idle"),je("");try{const Jt=`
                  .
:       JSON   (     \`\`\`json     ""      JSON).
###     :
1.       (        ).
2.    ""  ""  " "  " "  shipping_cost = 0.00
3.       shipping_company = " "  shipping_cost = 0.00
4. shipping_company:        (:         ).   .
5. :       : ${new Date().toISOString().split("T")[0]}
6. :    24  (: 2:30   14:30 11:45   11:45)
7.  : " " (         "")
###         ():
   :
" "  ""  " "  "tamara_installment"
" "  ""  " "  "tabby_installment"
" "  ""  "madfu_installment"
""  ""  "mada"
" "  ""  ""  "credit_card"
" "  ""  ""  "bank"
" "  ""  "  "  "cash_on_delivery"
""  "  "  "salla_basket"
" "  "Apple Pay"  "apple_pay"
"STC Pay"  " "  "stc_pay"
      "unknown_payment_method"
###    (JSON ):
{
  "order_number": "      ",
  "order_date": "YYYY-MM-DD",
  "order_time": "HH:MM",
  "status": " ",
  "customer_name": "   ",
  "phone_number": "05xxxxxxxxx     ",
  "shipping_company": "     ",
  "shipping_cost": 0.00,
  "payment_method": "     ",
  "payment_transaction": "     null",
  "subtotal_before_tax": 0.00,
  "tax_amount": 0.00,
  "tax_rate": 15.00,
  "total": 0.00,
  "products": [
    {
      "name": "    ",
      "quantity": 1,
      "weight": 0.0,
      "price": 0.00,
      "total": 0.00
    }
  ]
}
  :
${Lt}
 JSON .   .  .  .  \`\`\`.
`,yr=await fetch("https://api.atlascloud.ai/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${KDe}`},body:JSON.stringify({model:"gemini-2.5-flash-lite",messages:[{role:"user",content:Jt}],max_tokens:2048,temperature:.1,stream:!1})});if(!yr.ok){const pn=await yr.text();throw new Error(`    AI: ${yr.status} ${pn}`)}let Ur=(($t=(dt=(ke=(await yr.json()).choices)==null?void 0:ke[0])==null?void 0:dt.message)==null?void 0:$t.content)||"";Ur=Ur.replace(/```json|```/g,"").trim();let dr;try{dr=JSON.parse(Ur)}catch{const Cn=Ur.match(/\{[\s\S]*\}/);if(Cn)dr=JSON.parse(Cn[0]);else throw new Error(" AI   JSON ")}if((!dr.order_date||!dr.order_date.includes("-"))&&(dr.order_date=new Date().toISOString().split("T")[0]),dr.order_time&&dr.order_time.includes(":")){const[pn,Cn]=dr.order_time.split(":"),Fi=parseInt(pn),y0=(dr.order_time.toLowerCase().includes("")?"pm":"am")==="pm"&&Fi<12?Fi+12:Fi;dr.order_time=`${y0.toString().padStart(2,"0")}:${Cn}`}else dr.order_time=new Date().toTimeString().slice(0,5);if(dr.order_date=`${dr.order_date}T${dr.order_time}:00`,!dr.shipping_cost&&dr.shipping_cost!==0&&(dr.shipping_cost=0),(!dr.shipping_company||dr.shipping_company.trim()==="")&&(dr.shipping_company=" "),dr.status=dr.status||" ",!_a.current)return;ar(dr),_r("success"),je("   !     .")}catch(Jt){if(!_a.current)return;console.error("     AI:",Jt),_r("error"),je(` : ${Jt.message||"    "}`)}finally{_a.current&&It(!1)}},Nc=()=>{_t&&(Pe(ke=>{var dt;return{...ke,customer_name:_t.customer_name||"",phone_number:_t.phone_number||"",order_number:_t.order_number||"",order_date:_t.order_date||new Date().toISOString(),status:" ",shipping_company:_t.shipping_company||"",shipping_cost:_t.shipping_cost??0,payment_method:_t.payment_method===" "?"credit_card":((dt=_t.payment_method)==null?void 0:dt.toLowerCase())||"",subtotal_before_tax:_t.subtotal_before_tax||0,tax_amount:_t.tax_amount||0,total_price:_t.total||0,products:(_t.products||[]).map($t=>({id:Date.now().toString()+Math.random(),name:$t.name||"",quantity:$t.quantity||1,unit_price:$t.price||0,tax_included:!1,subtotal:$t.total||0})),tax_included:!1}}),vt(!1),Se(!0),ge(0),zt(""),ar(null),_r("idle"))};if(e)return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mb-4"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-2",children:"  ..."}),x.jsx("p",{className:"text-slate-500",children:"  "})]})});if(n)return x.jsxs("div",{className:"p-6 text-red-600 text-center",children:[": ",n]});const An=jr(),ts=[" ",""," ",""],Kl=async()=>{if(he.trim()){be(!0);try{await f({name:he,type:""}),Er.success("   "),me(""),ye(!1)}catch{Er.error("    ")}finally{be(!1)}}};return x.jsxs("div",{className:"min-h-screen bg-white p-3 md:p-6",children:[x.jsxs("div",{className:"mb-4 md:mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-slate-800",children:" "}),x.jsx("p",{className:"text-slate-600 mt-1 text-sm md:text-base",children:"   "})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[x.jsxs("button",{onClick:()=>vt(!0),className:"px-3 md:px-6 py-2 md:py-3 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-lg md:rounded-xl hover:shadow-md flex items-center justify-center gap-2 font-medium text-sm md:text-base min-h-[44px]",children:[x.jsx(o5,{className:"h-4 w-4 md:h-5 md:w-5 flex-shrink-0"}),x.jsx("span",{className:"hidden sm:inline",children:"  "})," (AI)"]}),x.jsxs("button",{onClick:()=>Se(!0),className:"px-3 md:px-6 py-2 md:py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg md:rounded-xl hover:shadow-md flex items-center justify-center gap-2 font-medium text-sm md:text-base min-h-[44px]",children:[x.jsx(ao,{className:"h-4 w-4 md:h-5 md:w-5 flex-shrink-0"})," "]})]})]}),x.jsx("div",{className:"bg-white rounded-xl md:rounded-2xl shadow-md border border-slate-100 overflow-hidden mb-4 md:mb-6",children:x.jsx("div",{className:"p-3 md:p-5 lg:p-7",children:x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 md:gap-4 items-end",children:[x.jsxs("div",{className:"relative col-span-1 sm:col-span-2",children:[x.jsx(u0,{className:"absolute right-3 md:right-4 top-1/2 -translate-y-1/2 text-slate-400 h-4 w-4 md:h-5 md:w-5"}),x.jsx("input",{type:"text",placeholder:"...",value:h,onChange:ke=>d(ke.target.value),className:"w-full pr-10 md:pr-12 pl-3 md:pl-4 py-2 md:py-3 rounded-lg md:rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm min-h-[44px]"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:""}),x.jsx("select",{value:g,onChange:ke=>m(ke.target.value),className:"w-full px-2 md:px-3 py-2 rounded-lg md:rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-500 text-xs md:text-sm min-h-[44px]",children:nt.map(ke=>x.jsx("option",{value:ke.value,children:ke.label},ke.value))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:""}),x.jsx("select",{value:v,onChange:ke=>y(ke.target.value),className:"w-full px-2 md:px-3 py-2 rounded-lg md:rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-500 text-xs md:text-sm min-h-[44px]",children:$e.map(ke=>x.jsx("option",{value:ke.value,children:ke.label},ke.value))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:""}),x.jsxs("select",{value:b,onChange:ke=>_(ke.target.value),className:"w-full px-2 md:px-3 py-2 rounded-lg md:rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-500 text-xs md:text-sm min-h-[44px]",children:[x.jsx("option",{value:"all",children:""}),Ze.map(ke=>x.jsx("option",{value:ke.name,children:ke.name},ke.name))]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:" "}),x.jsx("input",{type:"date",value:T,onChange:ke=>I(ke.target.value),className:"w-full px-2 py-2 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-500 text-sm min-h-[44px]"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:" "}),x.jsx("input",{type:"date",value:N,onChange:ke=>F(ke.target.value),className:"w-full px-2 py-2 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-500 text-sm min-h-[44px]"})]})]}),x.jsxs("button",{onClick:Ro,disabled:Ae.length===0,className:"col-span-1 px-4 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl hover:shadow-md flex items-center gap-2 font-medium disabled:opacity-50 min-h-[44px]",children:[x.jsx(Pi,{className:"h-5 w-5 flex-shrink-0"}),"  Excel"]})]})})}),P.length>0&&x.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 border border-indigo-200 rounded-2xl p-4 mb-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[x.jsxs("p",{className:"text-indigo-900 font-semibold text-center sm:text-left",children:["  ",x.jsx("span",{className:"text-indigo-700",children:P.length})," "]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[x.jsx("button",{onClick:Gt,className:"w-full sm:w-auto px-4 py-2.5 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl hover:shadow-md text-sm font-medium min-h-[44px]",children:"  "}),(r==null?void 0:r.role)==="admin"&&x.jsx("button",{onClick:()=>{k("delete"),E(!0)},className:"w-full sm:w-auto px-4 py-2.5 bg-gradient-to-r from-red-500 to-pink-600 text-white rounded-xl hover:shadow-md text-sm font-medium min-h-[44px]",children:" "})]})]}),x.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-100 overflow-hidden",children:[x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full min-w-[600px] sm:min-w-full",children:[x.jsx("thead",{className:"bg-gradient-to-r from-slate-50 to-slate-100",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-3 sm:px-6 py-4 text-center",children:x.jsx("input",{type:"checkbox",checked:it.length>0&&it.filter(ke=>ke.status!=="").every(ke=>P.includes(ke.id)),onChange:Pt,className:"h-5 w-5 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"})}),x.jsx("th",{className:"px-3 sm:px-6 py-4 text-right text-sm font-semibold text-slate-700",children:" "}),x.jsx("th",{className:"px-3 sm:px-6 py-4 text-right text-sm font-semibold text-slate-700",children:" "}),x.jsx("th",{className:"px-3 sm:px-6 py-4 text-right text-sm font-semibold text-slate-700",children:" "}),x.jsx("th",{className:"px-3 sm:px-6 py-4 text-right text-sm font-semibold text-slate-700",children:""}),x.jsx("th",{className:"px-3 sm:px-6 py-4 text-right text-sm font-semibold text-slate-700",children:""}),x.jsx("th",{className:"px-3 sm:px-6 py-4 text-right text-sm font-semibold text-slate-700",children:""}),x.jsx("th",{className:"px-3 sm:px-6 py-4 text-right text-sm font-semibold text-slate-700",children:""})]})}),x.jsx("tbody",{className:"divide-y divide-slate-100",children:it.map(ke=>{var $t;ke.shipping_cost;const dt=Ye===ke.id;return x.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[x.jsx("td",{className:"px-3 sm:px-6 py-4 text-center",children:ke.status!==""?x.jsx("input",{type:"checkbox",checked:P.includes(ke.id),onChange:()=>bt(ke.id),className:"h-5 w-5 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"}):x.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded border border-gray-300"})}),x.jsxs("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-right",children:[x.jsxs("div",{className:"text-sm font-semibold text-slate-800",children:["#",ke.order_number]}),x.jsx("div",{className:"text-xs text-slate-500",children:Bt(ke.order_date).split(" - ")[0]})]}),x.jsxs("td",{className:"px-3 sm:px-6 py-4",children:[x.jsx("div",{className:"font-semibold text-slate-800",children:ke.customer_name||" "}),x.jsx("div",{className:"text-xs text-slate-500",children:ke.phone_number||" "})]}),x.jsx("td",{className:"px-3 sm:px-6 py-4 text-right",children:x.jsxs("div",{className:"flex items-center justify-end gap-1",children:[x.jsx(Ul,{className:"h-4 w-4 text-amber-600 flex-shrink-0"}),x.jsx("span",{className:"text-sm font-medium text-slate-700",children:jt(ke.payment_method)})]})}),x.jsx("td",{className:"px-3 sm:px-6 py-4 text-right",children:x.jsxs("div",{className:"flex items-center justify-end gap-2",children:[x.jsx(Li,{className:"h-4 w-4 text-slate-400 flex-shrink-0"}),x.jsxs("span",{className:"font-semibold text-slate-700",children:[(($t=ke.products)==null?void 0:$t.length)||0," "]})]})}),x.jsx("td",{className:"px-3 sm:px-6 py-4 text-right",children:x.jsx("div",{className:"text-lg font-bold text-indigo-600",children:rt(ke.total_price)})}),x.jsx("td",{className:"px-3 sm:px-6 py-4",children:x.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-semibold ${zn(ke.status)}`,children:ke.status})}),x.jsxs("td",{className:"px-3 sm:px-6 py-4 text-right relative",children:[x.jsx("button",{onClick:()=>ht(dt?null:ke.id),className:"sm:hidden p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors flex items-center justify-center w-10 h-10",children:x.jsx(W0e,{className:`h-4 w-4 transition-transform ${dt?"rotate-180":""}`})}),dt&&x.jsxs("div",{className:"sm:hidden absolute right-0 top-full mt-1 bg-white border border-slate-200 rounded-xl shadow-lg py-2 w-48 z-10",children:[x.jsxs("button",{onClick:()=>{Z(ke),ht(null)},className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 flex items-center gap-3",children:[x.jsx(Cf,{className:"h-4 w-4 text-indigo-600"}),"  "]}),ke.status!==""&&x.jsxs(x.Fragment,{children:[(r==null?void 0:r.role)==="admin"&&x.jsxs("button",{onClick:()=>{Ke(ke.id),Ve(!0),ht(null)},className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 flex items-center gap-3",children:[x.jsx(ao,{className:"h-4 w-4 text-blue-600"}),"  "]}),x.jsxs("button",{onClick:()=>{Mt(ke),ht(null)},className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 flex items-center gap-3",children:[x.jsx(lh,{className:"h-4 w-4 text-emerald-600"}),"   "]}),(r==null?void 0:r.role)==="admin"&&x.jsxs("button",{onClick:()=>{Hi(ke.id),ht(null)},className:"w-full text-left px-4 py-2 text-sm text-red-700 hover:bg-red-50 flex items-center gap-3",children:[x.jsx(vi,{className:"h-4 w-4 text-red-600"}),"  "]})]})]}),x.jsxs("div",{className:"hidden sm:flex items-center gap-1",children:[x.jsx("button",{onClick:()=>Z(ke),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors min-w-[40px] h-[40px] flex items-center justify-center",title:" ",children:x.jsx(Cf,{className:"h-4 w-4"})}),ke.status!==""&&x.jsxs(x.Fragment,{children:[(r==null?void 0:r.role)==="admin"&&x.jsx("button",{onClick:()=>{Ke(ke.id),Ve(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors min-w-[40px] h-[40px] flex items-center justify-center",title:" ",children:x.jsx(ao,{className:"h-4 w-4"})}),x.jsx("button",{onClick:()=>Mt(ke),className:"p-2 text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors min-w-[40px] h-[40px] flex items-center justify-center",title:"  ",children:x.jsx(lh,{className:"h-4 w-4"})}),(r==null?void 0:r.role)==="admin"&&x.jsx("button",{onClick:()=>Hi(ke.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors min-w-[40px] h-[40px] flex items-center justify-center",title:" ",children:x.jsx(vi,{className:"h-4 w-4"})})]})]})]})]},ke.id)})})]})}),Re>1&&x.jsxs("div",{className:"bg-slate-50 px-6 py-4 flex flex-col sm:flex-row items-center justify-between border-t border-slate-200 gap-3",children:[x.jsxs("div",{className:"text-sm text-slate-600 text-center sm:text-left",children:[" ",(A-1)*He+1," - ",Math.min(A*He,Ae.length),"  ",Ae.length]}),x.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-center",children:[x.jsx("button",{onClick:()=>p(ke=>Math.max(1,ke-1)),disabled:A===1,className:"px-4 py-2 text-sm border border-slate-300 rounded-xl disabled:opacity-50 hover:bg-slate-50 transition-colors min-h-[40px]",children:""}),Array.from({length:Math.min(5,Re)},(ke,dt)=>dt+1).map(ke=>x.jsx("button",{onClick:()=>p(ke),className:`px-4 py-2 text-sm border rounded-xl ${A===ke?"bg-indigo-600 text-white border-indigo-600":"border-slate-300 hover:bg-slate-50"} min-h-[40px]`,children:ke},ke)),x.jsx("button",{onClick:()=>p(ke=>Math.min(Re,ke+1)),disabled:A===Re,className:"px-4 py-2 text-sm border border-slate-300 rounded-xl disabled:opacity-50 hover:bg-slate-50 transition-colors min-h-[40px]",children:""})]})]})]}),K&&x.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto p-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[x.jsxs("h3",{className:"text-2xl font-bold text-slate-800",children:["  #",K.order_number]}),x.jsx("button",{onClick:()=>Z(null),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:x.jsx(vi,{className:"h-6 w-6 text-slate-500"})})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-xl",children:[x.jsx("div",{className:"p-3 bg-indigo-100 rounded-xl",children:x.jsx(vf,{className:"h-6 w-6 text-indigo-600"})}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-sm text-slate-600",children:" "}),x.jsx("p",{className:"font-semibold text-slate-800",children:K.customer_name||" "})]})]}),x.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-xl",children:[x.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:x.jsx(lee,{className:"h-6 w-6 text-green-600"})}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-sm text-slate-600",children:" "}),x.jsx("p",{className:"font-semibold text-slate-800",children:K.phone_number||" "})]})]}),x.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-xl",children:[x.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:x.jsx(Vd,{className:"h-6 w-6 text-blue-600"})}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-sm text-slate-600",children:"  "}),x.jsx("p",{className:"font-semibold text-slate-800",children:Bt(K.order_date)})]})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-xl",children:[x.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:x.jsx(sc,{className:"h-6 w-6 text-purple-600"})}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-sm text-slate-600",children:" "}),x.jsx("p",{className:"font-semibold text-slate-800",children:K.shipping_company||" "})]})]}),x.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-xl",children:[x.jsx("div",{className:"p-3 bg-emerald-100 rounded-xl",children:x.jsx(Zi,{className:"h-6 w-6 text-emerald-600"})}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-sm text-slate-600",children:" "}),x.jsx("p",{className:"font-semibold text-slate-800",children:rt(K.shipping_cost??0,!0)})]})]}),x.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-xl",children:[x.jsx("div",{className:"p-3 bg-amber-100 rounded-xl",children:x.jsx(Ul,{className:"h-6 w-6 text-amber-600"})}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-sm text-slate-600",children:" "}),x.jsx("p",{className:"font-semibold text-slate-800",children:jt(K.payment_method)})]})]})]})]}),x.jsxs("div",{className:"mb-8",children:[x.jsx("h4",{className:"text-xl font-bold text-slate-800 mb-4 text-right",children:""}),x.jsx("div",{className:"space-y-3",children:(Vs=K.products)==null?void 0:Vs.map((ke,dt)=>x.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 flex justify-between items-center",children:[x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"font-semibold text-slate-800",children:ke.name}),x.jsxs("p",{className:"text-sm text-slate-600",children:[": ",ke.quantity]}),x.jsxs("p",{className:"text-sm text-slate-600",children:["   : ",rt(ke.unit_price)]}),x.jsxs("p",{className:"text-sm text-slate-600",children:["  : ",rt(ke.unit_price*1.15)]}),x.jsxs("p",{className:"text-sm text-slate-600",children:[": ",ke.supplier_name||" "]})]}),x.jsx("div",{className:"text-left",children:x.jsxs("p",{className:"text-sm font-semibold text-slate-700",children:[": ",rt(ke.cost_price)]})})]},dt))})]}),x.jsx("div",{className:"border-t pt-6",children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[x.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 rounded-xl",children:[x.jsx("p",{className:"text-xs text-indigo-600",children:""}),x.jsx("p",{className:"text-lg font-bold text-indigo-700",children:rt(K.subtotal_before_tax)})]}),x.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-amber-50 p-4 rounded-xl",children:[x.jsx("p",{className:"text-xs text-amber-600",children:""}),x.jsx("p",{className:"text-lg font-bold text-amber-700",children:rt(K.tax_amount)})]}),x.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-violet-50 p-4 rounded-xl",children:[x.jsx("p",{className:"text-xs text-purple-600",children:""}),x.jsx("p",{className:"text-lg font-bold text-purple-700",children:rt(K.shipping_cost??0,!0)})]}),x.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 p-4 rounded-xl",children:[x.jsx("p",{className:"text-xs text-emerald-600",children:""}),x.jsx("p",{className:"text-lg font-bold text-emerald-700",children:rt(K.total_price)})]})]})}),x.jsx("div",{className:"flex justify-end mt-6",children:x.jsx("button",{onClick:()=>Z(null),className:"px-6 py-3 bg-slate-200 text-slate-700 rounded-xl hover:bg-slate-300 font-medium min-h-[44px]",children:""})})]})}),R&&x.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto p-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h3",{className:"text-xl font-bold",children:L==="lock"?"    ":" "}),x.jsx("button",{onClick:()=>{E(!1),B({}),V({}),U({}),W({}),H(0),C("")},children:x.jsx(vi,{className:"h-6 w-6 text-slate-500"})})]}),L==="lock"?x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("span",{className:"text-sm text-slate-600",children:[" ",z+1,"  ",P.length]}),x.jsx("div",{className:"flex-1 mx-4 bg-slate-200 rounded-full h-2",children:x.jsx("div",{className:"bg-indigo-600 h-2 rounded-full",style:{width:`${(z+1)/P.length*100}%`}})}),x.jsxs("span",{className:"text-sm font-semibold",children:[" #",An==null?void 0:An.order_number]})]}),x.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"  "}),x.jsxs("div",{className:"flex gap-4",children:[x.jsxs("label",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"radio",value:"order",checked:j==="order",onChange:()=>X("order"),className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"}),x.jsx("span",{children:" "})]}),x.jsxs("label",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"radio",value:"product",checked:j==="product",onChange:()=>X("product"),className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"}),x.jsx("span",{children:" "})]})]})]}),An&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsxs("h4",{className:"font-semibold text-lg",children:[" #",An.order_number]}),x.jsxs("span",{className:"text-sm text-slate-600",children:[An.customer_name,"  ",new Date(An.order_date).toLocaleDateString("ar-SA")]})]}),(An.shipping_cost??0)===0&&x.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-xl mb-4",children:[x.jsxs("h5",{className:"font-semibold text-amber-800 mb-3 flex items-center gap-2",children:[x.jsx(sc,{className:"h-4 w-4"}),"   ( : 0)"]}),An.shipping_company&&x.jsx("div",{className:"mb-3 p-2 bg-blue-50 rounded-lg",children:x.jsxs("p",{className:"text-sm text-blue-700",children:[x.jsx(Jj,{className:"h-4 w-4 inline mr-1"}),"   : ",x.jsx("strong",{children:An.shipping_company}),"(     )"]})}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" "}),x.jsxs("select",{value:((Fc=M[An.id])==null?void 0:Fc.company)||"",onChange:ke=>{const dt=ke.target.value;U($t=>({...$t,[An.id]:{...$t[An.id],company:dt}})),Qn(An.id,dt)},className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-amber-500 min-h-[44px]",children:[x.jsx("option",{value:"",children:"  "}),Ze.map(ke=>x.jsx("option",{value:ke.name,children:ke.name},ke.name)),x.jsx("option",{value:"",children:" ()"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"  (.) *"}),x.jsx("input",{type:"number",min:"0",step:"0.01",value:((ho=M[An.id])==null?void 0:ho.cost)||"",onChange:ke=>{const dt=parseFloat(ke.target.value)||0;bi(An.id,dt)},className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-amber-500 text-right min-h-[44px]",placeholder:"0.00"})]})]}),x.jsxs("div",{className:"mt-4",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"   "}),x.jsxs("select",{value:Q[An.id]||"store",onChange:ke=>{const dt=ke.target.value;W($t=>({...$t,[An.id]:dt}))},className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-amber-500 min-h-[44px]",children:[x.jsx("option",{value:"store",children:""}),x.jsx("option",{value:"customer",children:""})]})]}),((ul=M[An.id])==null?void 0:ul.company)===""&&x.jsx("div",{className:"mt-2 p-2 bg-slate-100 rounded",children:x.jsx("input",{type:"text",value:((Vr=M[An.id])==null?void 0:Vr.company)||"",onChange:ke=>{U(dt=>({...dt,[An.id]:{...dt[An.id],company:ke.target.value}}))},className:"w-full px-3 py-1 text-sm border rounded focus:ring-2 focus:ring-amber-500 min-h-[36px]",placeholder:"   "})})]}),j==="order"&&x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" "}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("select",{value:O[An.id]||"",onChange:ke=>V(dt=>({...dt,[An.id]:ke.target.value})),className:"flex-1 px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 min-h-[44px]",children:[x.jsx("option",{value:"",children:" "}),u.map(ke=>x.jsx("option",{value:ke.id,children:ke.name},ke.id))]}),x.jsx("button",{onClick:()=>ye(!0),className:"px-3 py-2 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 transition-colors",title:"  ",children:x.jsx(ao,{className:"h-5 w-5"})})]})]}),x.jsx("div",{className:"space-y-2",children:(Ou=An.products)==null?void 0:Ou.map(ke=>{const dt=`${An.id}-${ke.id}`,$t=j==="product"?dt:An.id;return x.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-3 rounded-lg",children:[x.jsxs("div",{className:"text-sm",children:[x.jsx("span",{className:"font-medium",children:ke.name}),x.jsxs("span",{className:"text-slate-600 mx-2",children:[" ",ke.quantity]}),x.jsx("span",{className:"text-slate-500",children:rt(ke.unit_price)})]}),x.jsxs("div",{className:"flex flex-col items-end gap-2",children:[j==="product"&&x.jsxs("div",{className:"w-full",children:[x.jsx("label",{className:"text-xs text-slate-600 block mb-1",children:":"}),x.jsxs("div",{className:"flex gap-1",children:[x.jsxs("select",{value:O[$t]||"",onChange:Jt=>V(yr=>({...yr,[$t]:Jt.target.value})),className:"flex-1 px-2 py-1 text-xs border rounded focus:ring-2 focus:ring-indigo-500 min-h-[36px]",children:[x.jsx("option",{value:"",children:" "}),u.map(Jt=>x.jsx("option",{value:Jt.id,children:Jt.name},Jt.id))]}),x.jsx("button",{onClick:()=>ye(!0),className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded hover:bg-indigo-200 transition-colors",title:"  ",children:x.jsx(ao,{className:"h-4 w-4"})})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-xs text-slate-600",children:" :"}),x.jsx("input",{type:"number",min:"0",step:"0.01",value:S[dt]??"",onChange:Jt=>{const yr=parseFloat(Jt.target.value)||0;B(wn=>({...wn,[dt]:yr}))},className:"w-24 px-2 py-1 text-center border rounded-lg focus:ring-2 focus:ring-emerald-500 min-h-[36px]",placeholder:"0.00"})]})]})]},ke.id)})})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("button",{onClick:Qr,disabled:z===0,className:"px-4 py-2 bg-slate-200 rounded-lg hover:bg-slate-300 disabled:opacity-50 flex items-center gap-2 min-h-[44px]",children:[x.jsx(Zj,{className:"h-4 w-4"}),""]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:()=>{E(!1),B({}),V({}),U({}),W({}),H(0)},className:"px-5 py-2 bg-slate-200 rounded-lg hover:bg-slate-300 min-h-[44px]",children:""}),x.jsx("button",{onClick:ui,disabled:!Wr(),className:"px-5 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-lg hover:shadow-md disabled:opacity-50 flex items-center gap-2 min-h-[44px]",children:z<P.length-1?x.jsxs(x.Fragment,{children:[" ",x.jsx(Yj,{className:"h-4 w-4"})]}):x.jsxs(x.Fragment,{children:[x.jsx(lh,{className:"h-5 w-5"}),"  (",P.length,")"]})})]})]})]}):x.jsxs("div",{className:"space-y-4",children:[x.jsxs("p",{className:"text-red-600 font-medium",children:["  ",P.length,"     ."]}),x.jsx("input",{type:"text",value:w,onChange:ke=>C(ke.target.value),placeholder:' " "',className:"w-full px-4 py-2 border border-red-300 rounded-lg text-right focus:ring-red-500 min-h-[44px]"}),x.jsxs("div",{className:"flex justify-end gap-3",children:[x.jsx("button",{onClick:()=>{E(!1),C("")},className:"px-5 py-2 bg-slate-200 rounded-lg min-h-[44px]",children:""}),x.jsx("button",{onClick:aa,disabled:w!==" ",className:"px-5 py-2 bg-gradient-to-r from-red-500 to-pink-600 text-white rounded-lg hover:shadow-md disabled:opacity-50 min-h-[44px]",children:" "})]})]})]})}),yt&&x.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[x.jsx("h3",{className:"text-xl font-bold text-slate-800",children:" "}),x.jsx("button",{onClick:()=>Ne(!1),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:x.jsx(vi,{className:"h-6 w-6 text-slate-500"})})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"  *"}),x.jsx("textarea",{value:lt.reason,onChange:ke=>St(dt=>({...dt,reason:ke.target.value})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-red-500 min-h-[80px]",placeholder:"  ",rows:3})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"  (.)"}),x.jsx("input",{type:"number",min:"0",step:"0.01",value:lt.fee,onChange:ke=>St(dt=>({...dt,fee:parseFloat(ke.target.value)||0})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-red-500 text-right min-h-[44px]",placeholder:"0.00"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"  "}),x.jsxs("select",{value:lt.feeBearer,onChange:ke=>St(dt=>({...dt,feeBearer:ke.target.value})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-red-500 min-h-[44px]",children:[x.jsx("option",{value:"customer",children:""}),x.jsx("option",{value:"store",children:""})]})]}),x.jsxs("div",{className:"text-xs text-slate-500",children:[" : ",lt.cancelledBy]}),x.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[x.jsx("button",{onClick:()=>Ne(!1),className:"px-6 py-3 bg-slate-200 text-slate-700 rounded-xl hover:bg-slate-300 font-medium min-h-[44px]",children:""}),x.jsx("button",{onClick:zs,disabled:!lt.reason,className:"px-6 py-3 bg-gradient-to-r from-red-500 to-pink-600 text-white rounded-xl hover:shadow-md font-medium disabled:opacity-50 min-h-[44px]",children:" "})]})]})]})}),Fe&&x.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[95vh] overflow-y-auto p-8",children:[x.jsxs("div",{className:"flex justify-between items-center mb-8 border-b pb-4",children:[x.jsx("h3",{className:"text-3xl font-bold text-slate-800",children:"  "}),x.jsx("button",{onClick:()=>{Se(!1),ge(0),gt(!1)},className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:x.jsx(vi,{className:"h-6 w-6 text-slate-500"})})]}),x.jsx("div",{className:"mb-8",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("span",{className:"text-sm text-slate-600",children:[" ",De+1,"  ",ts.length]}),x.jsx("div",{className:"flex-1 mx-4 bg-slate-200 rounded-full h-2",children:x.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${(De+1)/ts.length*100}%`}})}),x.jsx("span",{className:"text-sm font-semibold",children:ts[De]})]})}),x.jsxs("div",{className:"space-y-8",children:[De===0&&x.jsx("div",{className:"space-y-6",children:x.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-2xl border border-blue-200",children:[x.jsxs("h4",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center gap-2",children:[x.jsx(vf,{className:"h-5 w-5"})," "]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"  *"}),x.jsx("input",{type:"text",value:Be.customer_name,onChange:ke=>Pe(dt=>({...dt,customer_name:ke.target.value})),className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent min-h-[44px]",placeholder:"  "})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" "}),x.jsx("input",{type:"tel",value:Be.phone_number,onChange:ke=>Pe(dt=>({...dt,phone_number:ke.target.value})),className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent min-h-[44px]",placeholder:"  "})]})]}),x.jsxs("div",{className:"mt-4",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" "}),x.jsxs("select",{value:Be.payment_method,onChange:ke=>Pe(dt=>({...dt,payment_method:ke.target.value})),className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 min-h-[44px]",children:[x.jsx("option",{value:"",children:"  "}),x.jsx("option",{value:"tamara_installment",children:""}),x.jsx("option",{value:"bank",children:" "}),x.jsx("option",{value:"mada",children:""}),x.jsx("option",{value:"credit_card",children:" "}),x.jsx("option",{value:"madfu_installment",children:" "}),x.jsx("option",{value:"tabby_installment",children:" "})]})]})]})}),De===1&&x.jsx("div",{className:"space-y-6",children:x.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 p-6 rounded-2xl border border-emerald-200",children:[x.jsxs("h4",{className:"text-lg font-semibold text-emerald-800 mb-4 flex items-center gap-2",children:[x.jsx(Li,{className:"h-5 w-5"})," "]}),x.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:Be.products.map((ke,dt)=>x.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[x.jsxs("div",{className:"flex-1 text-right",children:[x.jsx("p",{className:"font-semibold text-slate-800",children:ke.name}),x.jsxs("p",{className:"text-sm text-slate-600",children:[": ",ke.quantity,"  ",rt(ke.unit_price)," = ",rt(ke.subtotal),ke.tax_included&&x.jsx("span",{className:"ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full",children:" "})]})]}),x.jsx("button",{onClick:()=>xa(ke.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors min-w-[40px] h-[40px] flex items-center justify-center",children:x.jsx(No,{className:"h-4 w-4"})})]},ke.id))}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 mt-4 p-4 bg-slate-50 rounded-xl",children:[x.jsx("input",{type:"text",placeholder:"  *",value:we.name,onChange:ke=>Oe(dt=>({...dt,name:ke.target.value})),className:"px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-emerald-500 min-h-[44px]"}),x.jsx("input",{type:"number",placeholder:"",value:we.quantity,onChange:ke=>Oe(dt=>({...dt,quantity:parseInt(ke.target.value)||1})),className:"px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-emerald-500 text-right min-h-[44px]",min:"1"}),x.jsx("input",{type:"number",placeholder:"  (.)",value:we.unit_price,onChange:ke=>Oe(dt=>({...dt,unit_price:parseFloat(ke.target.value)||0})),className:"px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-emerald-500 text-right min-h-[44px]",min:"0",step:"0.01"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",id:"tax_included",checked:we.tax_included,onChange:ke=>Oe(dt=>({...dt,tax_included:ke.target.checked})),className:"rounded border-slate-300 text-emerald-600 focus:ring-emerald-500"}),x.jsx("label",{htmlFor:"tax_included",className:"text-sm text-slate-600 cursor-pointer",children:" "})]}),x.jsxs("button",{onClick:Oo,disabled:!we.name,className:"col-span-1 md:col-span-1 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 font-medium flex items-center justify-center gap-2 min-h-[44px]",children:[x.jsx(ao,{className:"h-4 w-4 flex-shrink-0"}),""]})]})]})}),De===2&&x.jsx("div",{className:"space-y-6",children:x.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-violet-50 p-6 rounded-2xl border border-purple-200",children:[x.jsxs("h4",{className:"text-lg font-semibold text-purple-800 mb-4 flex items-center gap-2",children:[x.jsx(sc,{className:"h-5 w-5"})," "]}),x.jsx("div",{className:"mb-3 p-2 bg-blue-50 rounded-lg",children:x.jsxs("p",{className:"text-sm text-blue-700",children:[x.jsx(Jj,{className:"h-4 w-4 inline mr-1"}),"            ."]})}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"  *"}),x.jsxs("select",{value:Be.shipping_company,onChange:ke=>{const dt=ke.target.value;Pe(Jt=>({...Jt,shipping_company:dt}));const $t=Ee(dt);$t&&Pe(Jt=>({...Jt,shipping_cost:$t.cost}))},className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent min-h-[44px]",children:[x.jsx("option",{value:"",children:"  "}),Ze.map(ke=>x.jsxs("option",{value:ke.name,children:[ke.name," (",rt(ke.cost),")"]},ke.name)),x.jsx("option",{value:"",children:" ()"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"  (.)"}),x.jsx("input",{type:"number",min:"0",step:"0.01",value:Be.shipping_cost??0,onChange:ke=>Pe(dt=>({...dt,shipping_cost:parseFloat(ke.target.value)||0})),className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent text-right min-h-[44px]",placeholder:"0.00"})]})]}),Be.shipping_company===""&&x.jsx("div",{className:"mt-4 p-2 bg-slate-100 rounded",children:x.jsx("input",{type:"text",value:Be.shipping_company,onChange:ke=>Pe(dt=>({...dt,shipping_company:ke.target.value})),className:"w-full px-3 py-1 text-sm border rounded focus:ring-2 focus:ring-purple-500 min-h-[36px]",placeholder:"   "})}),x.jsx("div",{className:"mt-4",children:x.jsxs("label",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",checked:Be.tax_included,onChange:ke=>Pe(dt=>({...dt,tax_included:ke.target.checked})),className:"rounded border-slate-300 text-purple-600 focus:ring-purple-500"}),x.jsx("span",{className:"text-sm text-slate-700",children:"  "})]})})]})}),De===3&&x.jsx("div",{className:"space-y-6",children:x.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 p-6 rounded-2xl border border-indigo-200",children:[x.jsx("h4",{className:"text-lg font-semibold text-indigo-800 mb-4",children:" "}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"text-right",children:[x.jsx("h5",{className:"font-medium text-slate-700 mb-3",children:" :"}),x.jsxs("p",{children:[x.jsx("strong",{children:":"})," ",Be.customer_name]}),x.jsxs("p",{children:[x.jsx("strong",{children:":"})," ",Be.phone_number||" "]}),x.jsxs("p",{children:[x.jsx("strong",{children:" :"})," ",jt(Be.payment_method)]}),Be.order_number&&x.jsxs("p",{children:[x.jsx("strong",{children:" :"})," ",Be.order_number]})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("h5",{className:"font-medium text-slate-700 mb-3",children:" :"}),x.jsxs("p",{children:[x.jsx("strong",{children:":"})," ",Be.shipping_company||" "]}),x.jsxs("p",{children:[x.jsx("strong",{children:":"})," ",rt(Be.shipping_cost??0)]}),Be.shipping_address&&x.jsxs("p",{children:[x.jsx("strong",{children:":"})," ",Be.shipping_address]})]})]}),x.jsxs("div",{className:"mt-6",children:[x.jsxs("h5",{className:"font-medium text-slate-700 mb-3",children:[" (",Be.products.length," ):"]}),x.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:Be.products.map(ke=>x.jsxs("p",{className:"text-sm text-slate-600",children:[ke.name,"  ",ke.quantity," - ",rt(ke.subtotal)]},ke.id))})]}),x.jsx("div",{className:"mt-6 border-t pt-4",children:x.jsxs("div",{className:"space-y-1 text-right",children:[x.jsxs("div",{className:"flex justify-between text-sm text-slate-600",children:[x.jsx("span",{children:":"}),x.jsx("span",{children:rt(ll().subtotal)})]}),x.jsxs("div",{className:"flex justify-between text-sm text-slate-600",children:[x.jsx("span",{children:" (15%):"}),x.jsx("span",{children:rt(ll().tax)})]}),x.jsxs("div",{className:"flex justify-between text-sm text-slate-600",children:[x.jsx("span",{children:":"}),x.jsx("span",{children:rt(Be.shipping_cost??0)})]}),x.jsxs("div",{className:"border-t pt-2 mt-2 flex justify-between text-lg font-bold text-emerald-700",children:[x.jsx("span",{children:":"}),x.jsx("span",{children:rt(ll().total)})]})]})}),x.jsx("div",{className:"mt-6 p-4 bg-emerald-50 border border-emerald-200 rounded-xl",children:x.jsxs("label",{className:"flex items-center gap-3",children:[x.jsx("input",{type:"checkbox",checked:st,onChange:ke=>gt(ke.target.checked),className:"rounded border-emerald-300 text-emerald-600 focus:ring-emerald-500 h-5 w-5"}),x.jsx("span",{className:"text-sm font-medium text-emerald-800",children:"     (      )"})]})})]})})]}),x.jsxs("div",{className:"flex justify-between items-center pt-8 border-t mt-8",children:[x.jsxs("button",{onClick:wa,disabled:De===0,className:"px-8 py-3 bg-slate-200 text-slate-700 rounded-xl hover:bg-slate-300 font-medium disabled:opacity-50 flex items-center gap-2 min-h-[44px]",children:[x.jsx(Zj,{className:"h-5 w-5"}),""]}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx("button",{onClick:()=>{Se(!1),ge(0),gt(!1)},className:"px-8 py-3 bg-slate-200 text-slate-700 rounded-xl hover:bg-slate-300 font-medium min-h-[44px]",children:""}),x.jsx("button",{onClick:ba,disabled:De===0&&!Be.customer_name||De===1&&Be.products.length===0,className:"px-8 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl hover:shadow-lg font-medium disabled:opacity-50 flex items-center gap-2 min-h-[44px]",children:De===3?x.jsxs(x.Fragment,{children:[x.jsx(lh,{className:"h-5 w-5 flex-shrink-0"})," "]}):x.jsxs(x.Fragment,{children:[" ",x.jsx(Yj,{className:"h-5 w-5 flex-shrink-0"})]})})]})]})]})}),at&&x.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[x.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"   "}),x.jsx("button",{onClick:()=>Ve(!1),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:x.jsx(vi,{className:"h-6 w-6 text-slate-500"})})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"  *"}),x.jsx("input",{type:"text",value:Ue.name,onChange:ke=>We(dt=>({...dt,name:ke.target.value})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 min-h-[44px]",placeholder:"  "})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:""}),x.jsx("input",{type:"number",value:Ue.quantity,onChange:ke=>We(dt=>({...dt,quantity:parseInt(ke.target.value)||1})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 text-right min-h-[44px]",min:"1"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"  (.)"}),x.jsx("input",{type:"number",value:Ue.unit_price,onChange:ke=>We(dt=>({...dt,unit_price:parseFloat(ke.target.value)||0})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 text-right min-h-[44px]",min:"0",step:"0.01"})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",id:"add_tax_included",checked:Ue.tax_included,onChange:ke=>We(dt=>({...dt,tax_included:ke.target.checked})),className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"}),x.jsx("label",{htmlFor:"add_tax_included",className:"text-sm text-slate-600 cursor-pointer",children:" "})]}),x.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[x.jsx("button",{onClick:()=>Ve(!1),className:"px-6 py-3 bg-slate-200 text-slate-700 rounded-xl hover:bg-slate-300 font-medium min-h-[44px]",children:""}),x.jsx("button",{onClick:fn,className:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl hover:shadow-md font-medium disabled:opacity-50 min-h-[44px]",disabled:!Ue.name,children:" "})]})]})]})}),ut&&x.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[85vh] overflow-hidden flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-center p-5 border-b",children:[x.jsx("button",{onClick:()=>{vt(!1),zt(""),ar(null),_r("idle"),je("")},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:x.jsx(vi,{className:"h-6 w-6 text-slate-500"})}),x.jsxs("h3",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[x.jsx(o5,{className:"h-6 w-6 text-purple-600"}),"    (AI)"]}),x.jsx("div",{className:"w-10"})," "]}),x.jsxs("div",{className:"flex flex-col lg:flex-row-reverse flex-1 overflow-hidden",children:[x.jsxs("div",{className:"w-full lg:w-1/2 p-5 bg-gradient-to-b from-green-50 to-white overflow-y-auto border-l lg:border-l border-green-200",children:[x.jsx("h4",{className:"font-bold text-lg text-green-800 mb-4 text-right",children:" "}),_t?x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm text-right",children:[x.jsxs("p",{children:[x.jsx("strong",{children:":"})," ",_t.customer_name||" "]}),x.jsxs("p",{children:[x.jsx("strong",{children:":"})," ",_t.phone_number||" "]}),x.jsxs("p",{children:[x.jsx("strong",{children:" :"})," ",_t.order_number||" "]}),x.jsxs("p",{children:[x.jsx("strong",{children:" :"})," ",jt(_t.payment_method)||" "]}),x.jsxs("p",{children:[x.jsx("strong",{children:" :"})," ",_t.shipping_company||" "]}),x.jsxs("p",{children:[x.jsx("strong",{children:":"})," ",rt(_t.subtotal_before_tax)]}),x.jsxs("p",{children:[x.jsx("strong",{children:":"})," ",rt(_t.tax_amount)]}),x.jsxs("p",{children:[x.jsx("strong",{children:":"})," ",rt(_t.shipping_cost??0)]}),x.jsxs("p",{className:"col-span-2 text-lg font-bold text-green-700",children:[x.jsx("strong",{children:":"})," ",rt(_t.total)]})]}),_t.products&&_t.products.length>0&&x.jsxs("div",{className:"mt-4",children:[x.jsxs("h5",{className:"font-semibold text-green-700 mb-2 text-right",children:[" (",_t.products.length," )"]}),x.jsx("div",{className:"max-h-64 overflow-y-auto border border-green-200 rounded-lg bg-white",children:_t.products.map((ke,dt)=>x.jsxs("div",{className:"flex justify-between px-3 py-2 border-b last:border-0 text-sm",children:[x.jsx("span",{className:"font-medium",children:rt(ke.price)}),x.jsxs("span",{className:"truncate max-w-[220px] text-right",children:[ke.name,"  ",ke.quantity]})]},dt))})]}),x.jsx("button",{onClick:Nc,className:"w-full mt-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold text-lg transition-shadow shadow-md min-h-[44px]",children:"    "})]}):x.jsxs("div",{className:"text-center text-slate-500 mt-20",children:[x.jsx(o5,{className:"h-16 w-16 mx-auto text-slate-300 mb-4"}),x.jsx("p",{className:"text-lg",children:"       AI"})]})]}),x.jsxs("div",{className:"w-full lg:w-1/2 p-5 flex flex-col bg-gray-50",children:[x.jsxs("div",{className:"flex flex-col flex-1 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2 text-right",children:"    *"}),x.jsx("textarea",{value:Lt,onChange:ke=>zt(ke.target.value),placeholder:"     (     ...)",className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent h-48 text-sm resize-none text-right placeholder:text-right placeholder:text-slate-400"})]}),x.jsx("button",{onClick:Ru,disabled:!Lt.trim()||Tr,className:"w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-xl font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3 transition-all shadow-lg min-h-[44px]",children:Tr?x.jsxs(x.Fragment,{children:[x.jsx(Jp,{className:"h-6 w-6 animate-spin flex-shrink-0"})," ..."]}):x.jsxs(x.Fragment,{children:[x.jsx(o5,{className:"h-6 w-6 flex-shrink-0"}),"  AI"]})}),Ir==="success"&&x.jsxs("div",{className:"p-4 bg-green-100 border border-green-300 rounded-xl text-green-800 flex items-center gap-2 text-right",children:[x.jsx(lh,{className:"h-5 w-5 flex-shrink-0"}),x.jsx("span",{children:tr})]}),Ir==="error"&&x.jsxs("div",{className:"p-4 bg-red-100 border border-red-300 rounded-xl text-red-800 flex items-center gap-2 text-right",children:[x.jsx(uee,{className:"h-5 w-5 flex-shrink-0"}),x.jsx("span",{children:tr})]})]}),x.jsx("div",{className:"mt-6 pt-4 border-t text-center",children:x.jsx("button",{onClick:()=>{vt(!1),zt(""),ar(null),_r("idle"),je("")},className:"px-8 py-3 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-lg font-medium transition-colors min-h-[44px]",children:""})})]})]})]})}),(ie||de)&&x.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:x.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 text-center",children:ie?x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"mx-auto w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center",children:[x.jsx(Jp,{className:`h-8 w-8 text-indigo-600 animate-spin ${ne===0?"block":"hidden"}`}),x.jsx(lh,{className:`h-8 w-8 text-emerald-600 ${ne===1?"block":"hidden"}`}),x.jsx(Zi,{className:`h-8 w-8 text-green-600 ${ne===2?"block":"hidden"}`}),le==="add"&&ne===2&&x.jsx(Li,{className:"h-8 w-8 text-blue-600"})]}),x.jsx("div",{className:"text-sm text-slate-600 space-y-1",children:le==="lock"?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:ne===0?"text-indigo-600 font-medium":"",children:"   -   ..."}),x.jsx("p",{className:ne===1?"text-emerald-600 font-medium":"",children:"   -  ..."}),x.jsx("p",{className:ne===2?"text-green-600 font-medium":"",children:"   -  ..."})]}):x.jsxs(x.Fragment,{children:[x.jsx("p",{className:ne===0?"text-indigo-600 font-medium":"",children:"   -  ..."}),x.jsx("p",{className:ne===1?"text-emerald-600 font-medium":"",children:"   -  ..."}),x.jsx("p",{className:ne===2?"text-green-600 font-medium":"",children:"   -  ..."})]})})]}):de&&x.jsxs("div",{className:"space-y-4",children:[x.jsx("div",{className:"mx-auto w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center",children:x.jsx(lh,{className:"h-8 w-8 text-emerald-600"})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-bold text-emerald-700 mb-2",children:le==="lock"?"  !":"  !"}),x.jsxs("p",{className:"text-sm text-slate-600",children:[" ",le==="lock"?"    .":"   ."]})]})]})})}),Ae.length===0&&!e&&x.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl shadow-md",children:[x.jsx(Li,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),x.jsx("h3",{className:"text-2xl font-bold text-slate-600 mb-2",children:"    ."}),x.jsx("p",{className:"text-slate-500",children:"    "})]}),oe&&x.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[60] p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[x.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"  "}),x.jsx("button",{onClick:()=>ye(!1),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:x.jsx(vi,{className:"h-6 w-6 text-slate-500"})})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"  *"}),x.jsx("input",{type:"text",value:he,onChange:ke=>me(ke.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 min-h-[44px]",placeholder:"  ",autoFocus:!0})]}),x.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[x.jsx("button",{onClick:()=>ye(!1),className:"px-6 py-3 bg-slate-200 text-slate-700 rounded-xl hover:bg-slate-300 font-medium min-h-[44px]",children:""}),x.jsx("button",{onClick:Kl,disabled:!he.trim()||xe,className:"px-6 py-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 font-medium disabled:opacity-50 min-h-[44px] flex items-center gap-2",children:xe?x.jsxs(x.Fragment,{children:[x.jsx(Jp,{className:"h-5 w-5 animate-spin"})," ..."]}):" "})]})]})]})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var W6={};W6.version="0.18.5";var Ele=1252,XDe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],kle=function(r){XDe.indexOf(r)!=-1&&(Ele=r)};function YDe(){kle(1252)}var ow=function(r){kle(r)};function ZDe(){ow(1200),YDe()}var k4=function(t){return String.fromCharCode(t)},vK=function(t){return String.fromCharCode(t)},_p,gA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function lw(r){for(var t="",e=0,n=0,i=0,a=0,s=0,o=0,l=0,u=0;u<r.length;)e=r.charCodeAt(u++),a=e>>2,n=r.charCodeAt(u++),s=(e&3)<<4|n>>4,i=r.charCodeAt(u++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),t+=gA.charAt(a)+gA.charAt(s)+gA.charAt(o)+gA.charAt(l);return t}function Xh(r){var t="",e=0,n=0,i=0,a=0,s=0,o=0,l=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<r.length;)a=gA.indexOf(r.charAt(u++)),s=gA.indexOf(r.charAt(u++)),e=a<<2|s>>4,t+=String.fromCharCode(e),o=gA.indexOf(r.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=gA.indexOf(r.charAt(u++)),i=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(i));return t}var On=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),id=function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(t,e){return e?new Buffer(t,e):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Ng(r){return On?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function yK(r){return On?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var ac=function(t){return On?id(t,"binary"):t.split("").map(function(e){return e.charCodeAt(0)&255})};function P8(r){if(typeof ArrayBuffer>"u")return ac(r);for(var t=new ArrayBuffer(r.length),e=new Uint8Array(t),n=0;n!=r.length;++n)e[n]=r.charCodeAt(n)&255;return t}function s_(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],e=0;e<r.length;++e)t[e]=String.fromCharCode(r[e]);return t.join("")}function JDe(r){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(r)}var Ns=On?function(r){return Buffer.concat(r.map(function(t){return Buffer.isBuffer(t)?t:id(t)}))}:function(r){if(typeof Uint8Array<"u"){var t=0,e=0;for(t=0;t<r.length;++t)e+=r[t].length;var n=new Uint8Array(e),i=0;for(t=0,e=0;t<r.length;e+=i,++t)if(i=r[t].length,r[t]instanceof Uint8Array)n.set(r[t],e);else{if(typeof r[t]=="string")throw"wtf";n.set(new Uint8Array(r[t]),e)}return n}return[].concat.apply([],r.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function e9e(r){for(var t=[],e=0,n=r.length+250,i=Ng(r.length+255),a=0;a<r.length;++a){var s=r.charCodeAt(a);if(s<128)i[e++]=s;else if(s<2048)i[e++]=192|s>>6&31,i[e++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=r.charCodeAt(++a)&1023;i[e++]=240|s>>8&7,i[e++]=128|s>>2&63,i[e++]=128|o>>6&15|(s&3)<<4,i[e++]=128|o&63}else i[e++]=224|s>>12&15,i[e++]=128|s>>6&63,i[e++]=128|s&63;e>n&&(t.push(i.slice(0,e)),e=0,i=Ng(65535),n=65530)}return t.push(i.slice(0,e)),Ns(t)}var z2=/\u0000/g,N4=/[\u0001-\u0006]/g;function Kv(r){for(var t="",e=r.length-1;e>=0;)t+=r.charAt(e--);return t}function cc(r,t){var e=""+r;return e.length>=t?e:Yi("0",t-e.length)+e}function gR(r,t){var e=""+r;return e.length>=t?e:Yi(" ",t-e.length)+e}function $6(r,t){var e=""+r;return e.length>=t?e:e+Yi(" ",t-e.length)}function t9e(r,t){var e=""+Math.round(r);return e.length>=t?e:Yi("0",t-e.length)+e}function r9e(r,t){var e=""+r;return e.length>=t?e:Yi("0",t-e.length)+e}var xK=Math.pow(2,32);function Um(r,t){if(r>xK||r<-xK)return t9e(r,t);var e=Math.round(r);return r9e(e,t)}function K6(r,t){return t=t||0,r.length>=7+t&&(r.charCodeAt(t)|32)===103&&(r.charCodeAt(t+1)|32)===101&&(r.charCodeAt(t+2)|32)===110&&(r.charCodeAt(t+3)|32)===101&&(r.charCodeAt(t+4)|32)===114&&(r.charCodeAt(t+5)|32)===97&&(r.charCodeAt(t+6)|32)===108}var bK=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Mk=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function n9e(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var na={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},wK={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},i9e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function q6(r,t,e){for(var n=r<0?-1:1,i=r*n,a=0,s=1,o=0,l=1,u=0,c=0,f=Math.floor(i);u<t&&(f=Math.floor(i),o=f*s+a,c=f*u+l,!(i-f<5e-8));)i=1/(i-f),a=s,s=o,l=u,u=c;if(c>t&&(u>t?(c=l,o=a):(c=u,o=s)),!e)return[0,n*o,c];var h=Math.floor(n*o/c);return[h,n*o-h*c,c]}function F4(r,t,e){if(r>2958465||r<0)return null;var n=r|0,i=Math.floor(86400*(r-n)),a=0,s=[],o={D:n,T:i,u:86400*(r-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)s=e?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=e?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),n<60&&(a=(a+6)%7),e&&(a=f9e(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var Nle=new Date(1899,11,31,0,0,0),a9e=Nle.getTime(),s9e=new Date(1900,2,1,0,0,0);function Fle(r,t){var e=r.getTime();return t?e-=1461*24*60*60*1e3:r>=s9e&&(e+=24*60*60*1e3),(e-(a9e+(r.getTimezoneOffset()-Nle.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function mR(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function o9e(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function l9e(r){var t=r<0?12:11,e=mR(r.toFixed(12));return e.length<=t||(e=r.toPrecision(10),e.length<=t)?e:r.toExponential(5)}function u9e(r){var t=mR(r.toFixed(11));return t.length>(r<0?12:11)||t==="0"||t==="-0"?r.toPrecision(6):t}function c9e(r){var t=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),e;return t>=-4&&t<=-1?e=r.toPrecision(10+t):Math.abs(t)<=9?e=l9e(r):t===10?e=r.toFixed(10).substr(0,12):e=u9e(r),mR(o9e(e.toUpperCase()))}function CM(r,t){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):c9e(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return t0(14,Fle(r,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+r)}function f9e(r,t){t[0]-=581;var e=r.getDay();return r<60&&(e=(e+6)%7),e}function h9e(r,t,e,n){var i="",a=0,s=0,o=e.y,l,u=0;switch(r){case 98:o=e.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:l=e.m,u=t.length;break;case 3:return Mk[e.m-1][1];case 5:return Mk[e.m-1][0];default:return Mk[e.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=e.d,u=t.length;break;case 3:return bK[e.q][0];default:return bK[e.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(e.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=e.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=e.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return e.u===0&&(t=="s"||t=="ss")?cc(e.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(e.S+e.u)),a>=60*s&&(a=0),t==="s"?a===0?"0":""+a/s:(i=cc(a,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=e.D*24+e.H;break;case"[m]":case"[mm]":l=(e.D*24+e.H)*60+e.M;break;case"[s]":case"[ss]":l=((e.D*24+e.H)*60+e.M)*60+Math.round(e.S+e.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:l=o,u=1;break}var c=u>0?cc(l,u):"";return c}function mA(r){var t=3;if(r.length<=t)return r;for(var e=r.length%t,n=r.substr(0,e);e!=r.length;e+=t)n+=(n.length>0?",":"")+r.substr(e,t);return n}var Ile=/%/g;function d9e(r,t,e){var n=t.replace(Ile,""),i=t.length-n.length;return Mh(r,n,e*Math.pow(10,2*i))+Yi("%",i)}function A9e(r,t,e){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Mh(r,t.substr(0,n),e/Math.pow(10,3*(t.length-n)))}function Mle(r,t){var e,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Mle(r,-t);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),e=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),e.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(e.indexOf(".")===-1?e=e.charAt(0)+"."+e.substr(1)+"E+"+(s-e.length+a):e+="E+"+(s-a);e.substr(0,2)==="0.";)e=e.charAt(0)+e.substr(2,i)+"."+e.substr(2+i),e=e.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,c){return l+u+c.substr(0,(i+a)%i)+"."+c.substr(a)+"E"})}else e=t.toExponential(n);return r.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),r.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}var Lle=/# (\?+)( ?)\/( ?)(\d+)/;function p9e(r,t,e){var n=parseInt(r[4],10),i=Math.round(t*n),a=Math.floor(i/n),s=i-a*n,o=n;return e+(a===0?"":""+a)+" "+(s===0?Yi(" ",r[1].length+1+r[4].length):gR(s,r[1].length)+r[2]+"/"+r[3]+cc(o,r[4].length))}function g9e(r,t,e){return e+(t===0?"":""+t)+Yi(" ",r[1].length+2+r[4].length)}var Dle=/^#*0*\.([0#]+)/,Ple=/\).*[0#]/,Rle=/\(###\) ###\\?-####/;function Bo(r){for(var t="",e,n=0;n!=r.length;++n)switch(e=r.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(e)}return t}function _K(r,t){var e=Math.pow(10,t);return""+Math.round(r*e)/e}function SK(r,t){var e=r-Math.floor(r),n=Math.pow(10,t);return t<(""+Math.round(e*n)).length?0:Math.round(e*n)}function m9e(r,t){return t<(""+Math.round((r-Math.floor(r))*Math.pow(10,t))).length?1:0}function v9e(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function iu(r,t,e){if(r.charCodeAt(0)===40&&!t.match(Ple)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?iu("n",n,e):"("+iu("n",n,-e)+")"}if(t.charCodeAt(t.length-1)===44)return A9e(r,t,e);if(t.indexOf("%")!==-1)return d9e(r,t,e);if(t.indexOf("E")!==-1)return Mle(t,e);if(t.charCodeAt(0)===36)return"$"+iu(r,t.substr(t.charAt(1)==" "?2:1),e);var i,a,s,o,l=Math.abs(e),u=e<0?"-":"";if(t.match(/^00+$/))return u+Um(l,t.length);if(t.match(/^[#?]+$/))return i=Um(e,0),i==="0"&&(i=""),i.length>t.length?i:Bo(t.substr(0,t.length-i.length))+i;if(a=t.match(Lle))return p9e(a,l,u);if(t.match(/^#+0+$/))return u+Um(l,t.length-t.indexOf("0"));if(a=t.match(Dle))return i=_K(e,a[1].length).replace(/^([^\.]+)$/,"$1."+Bo(a[1])).replace(/\.$/,"."+Bo(a[1])).replace(/\.(\d*)$/,function(A,p){return"."+p+Yi("0",Bo(a[1]).length-p.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+_K(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+mA(Um(l,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+iu(r,t,-e):mA(""+(Math.floor(e)+m9e(e,a[1].length)))+"."+cc(SK(e,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return iu(r,t.replace(/^#,#*,/,""),e);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Kv(iu(r,t.replace(/[\\-]/g,""),e)),s=0,Kv(Kv(t.replace(/\\/g,"")).replace(/[0#]/g,function(A){return s<i.length?i.charAt(s++):A==="0"?"0":""}));if(t.match(Rle))return i=iu(r,"##########",e),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=q6(l,Math.pow(10,s)-1,!1),i=""+u,c=Mh("n",a[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+a[2]+"/"+a[3],c=$6(o[2],s),c.length<a[4].length&&(c=Bo(a[4].substr(a[4].length-c.length))+c),i+=c,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=q6(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?gR(o[1],s)+a[2]+"/"+a[3]+$6(o[2],s):Yi(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=Um(e,0),t.length<=i.length?i:Bo(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+e.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=t.indexOf(".")-s,h=t.length-i.length-f;return Bo(t.substr(0,f)+i+t.substr(t.length-h))}if(a=t.match(/^00,000\.([#0]*0)$/))return s=SK(e,a[1].length),e<0?"-"+iu(r,t,-e):mA(v9e(e)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?cc(0,3-A.length):"")+A})+"."+cc(s,a[1].length);switch(t){case"###,##0.00":return iu(r,"#,##0.00",e);case"###,###":case"##,###":case"#,###":var d=mA(Um(l,0));return d!=="0"?u+d:"";case"###,###.00":return iu(r,"###,##0.00",e).replace(/^0\./,".");case"#,###.00":return iu(r,"#,##0.00",e).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function y9e(r,t,e){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Mh(r,t.substr(0,n),e/Math.pow(10,3*(t.length-n)))}function x9e(r,t,e){var n=t.replace(Ile,""),i=t.length-n.length;return Mh(r,n,e*Math.pow(10,2*i))+Yi("%",i)}function Ole(r,t){var e,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Ole(r,-t);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),e=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!e.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);e.indexOf(".")===-1?e=e.charAt(0)+"."+e.substr(1)+"E+"+(s-e.length+a):e+="E+"+(s-a),e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,c){return l+u+c.substr(0,(i+a)%i)+"."+c.substr(a)+"E"})}else e=t.toExponential(n);return r.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),r.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}function Kc(r,t,e){if(r.charCodeAt(0)===40&&!t.match(Ple)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?Kc("n",n,e):"("+Kc("n",n,-e)+")"}if(t.charCodeAt(t.length-1)===44)return y9e(r,t,e);if(t.indexOf("%")!==-1)return x9e(r,t,e);if(t.indexOf("E")!==-1)return Ole(t,e);if(t.charCodeAt(0)===36)return"$"+Kc(r,t.substr(t.charAt(1)==" "?2:1),e);var i,a,s,o,l=Math.abs(e),u=e<0?"-":"";if(t.match(/^00+$/))return u+cc(l,t.length);if(t.match(/^[#?]+$/))return i=""+e,e===0&&(i=""),i.length>t.length?i:Bo(t.substr(0,t.length-i.length))+i;if(a=t.match(Lle))return g9e(a,l,u);if(t.match(/^#+0+$/))return u+cc(l,t.length-t.indexOf("0"));if(a=t.match(Dle))return i=(""+e).replace(/^([^\.]+)$/,"$1."+Bo(a[1])).replace(/\.$/,"."+Bo(a[1])),i=i.replace(/\.(\d*)$/,function(A,p){return"."+p+Yi("0",Bo(a[1]).length-p.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+mA(""+l);if(a=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+Kc(r,t,-e):mA(""+e)+"."+Yi("0",a[1].length);if(a=t.match(/^#,#*,#0/))return Kc(r,t.replace(/^#,#*,/,""),e);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Kv(Kc(r,t.replace(/[\\-]/g,""),e)),s=0,Kv(Kv(t.replace(/\\/g,"")).replace(/[0#]/g,function(A){return s<i.length?i.charAt(s++):A==="0"?"0":""}));if(t.match(Rle))return i=Kc(r,"##########",e),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=q6(l,Math.pow(10,s)-1,!1),i=""+u,c=Mh("n",a[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+a[2]+"/"+a[3],c=$6(o[2],s),c.length<a[4].length&&(c=Bo(a[4].substr(a[4].length-c.length))+c),i+=c,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=q6(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?gR(o[1],s)+a[2]+"/"+a[3]+$6(o[2],s):Yi(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+e,t.length<=i.length?i:Bo(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+e.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=t.indexOf(".")-s,h=t.length-i.length-f;return Bo(t.substr(0,f)+i+t.substr(t.length-h))}if(a=t.match(/^00,000\.([#0]*0)$/))return e<0?"-"+Kc(r,t,-e):mA(""+e).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?cc(0,3-A.length):"")+A})+"."+cc(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var d=mA(""+l);return d!=="0"?u+d:"";default:if(t.match(/\.[0#?]*$/))return Kc(r,t.slice(0,t.lastIndexOf(".")),e)+Bo(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Mh(r,t,e){return(e|0)===e?Kc(r,t,e):iu(r,t,e)}function b9e(r){for(var t=[],e=!1,n=0,i=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:e=!e;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=r.substr(i,n-i),i=n+1}if(t[t.length]=r.substr(i),e===!0)throw new Error("Format |"+r+"| unterminated string ");return t}var jle=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ule(r){for(var t=0,e="",n="";t<r.length;)switch(e=r.charAt(t)){case"G":K6(r,t)&&(t+=6),t++;break;case'"':for(;r.charCodeAt(++t)!==34&&t<r.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(r.charAt(t+1)==="1"||r.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(t,3).toUpperCase()==="A/P"||r.substr(t,5).toUpperCase()==="AM/PM"||r.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=e;r.charAt(t++)!=="]"&&t<r.length;)n+=r.charAt(t);if(n.match(jle))return!0;break;case".":case"0":case"#":for(;t<r.length&&("0#?.,E+-%".indexOf(e=r.charAt(++t))>-1||e=="\\"&&r.charAt(t+1)=="-"&&"0#".indexOf(r.charAt(t+2))>-1););break;case"?":for(;r.charAt(++t)===e;);break;case"*":++t,(r.charAt(t)==" "||r.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<r.length&&"0123456789".indexOf(r.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function w9e(r,t,e,n){for(var i=[],a="",s=0,o="",l="t",u,c,f,h="H";s<r.length;)switch(o=r.charAt(s)){case"G":if(!K6(r,s))throw new Error("unrecognized character "+o+" in "+r);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(f=r.charCodeAt(++s))!==34&&s<r.length;)a+=String.fromCharCode(f);i[i.length]={t:"t",v:a},++s;break;case"\\":var d=r.charAt(++s),A=d==="("||d===")"?d:"t";i[i.length]={t:A,v:d},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:t},++s;break;case"B":case"b":if(r.charAt(s+1)==="1"||r.charAt(s+1)==="2"){if(u==null&&(u=F4(t,e,r.charAt(s+1)==="2"),u==null))return"";i[i.length]={t:"X",v:r.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=F4(t,e),u==null))return"";for(a=o;++s<r.length&&r.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),i[i.length]={t:o,v:a},l=o;break;case"A":case"a":case"":var p={t:o,v:o};if(u==null&&(u=F4(t,e)),r.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(p.v=u.H>=12?"P":"A"),p.t="T",h="h",s+=3):r.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(p.v=u.H>=12?"PM":"AM"),p.t="T",s+=5,h="h"):r.substr(s,5).toUpperCase()==="/"?(u!=null&&(p.v=u.H>=12?"":""),p.t="T",s+=5,h="h"):(p.t="t",++s),u==null&&p.t==="T")return"";i[i.length]=p,l=o;break;case"[":for(a=o;r.charAt(s++)!=="]"&&s<r.length;)a+=r.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(jle)){if(u==null&&(u=F4(t,e),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},l=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ule(r)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=o;++s<r.length&&(o=r.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<r.length&&"0#?.,E+-%".indexOf(o=r.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;r.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},l=o;break;case"*":++s,(r.charAt(s)==" "||r.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<r.length&&"0123456789".indexOf(r.charAt(++s))>-1;)a+=r.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+r);i[i.length]={t:"t",v:o},++s;break}var g=0,m=0,v;for(s=i.length-1,l="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=h,l="h",g<1&&(g=1);break;case"s":(v=i[s].v.match(/\.0+$/))&&(m=Math.max(m,v[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":l=i[s].t;break;case"m":l==="s"&&(i[s].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&i[s].v.match(/[Hh]/)&&(g=1),g<2&&i[s].v.match(/[Mm]/)&&(g=2),g<3&&i[s].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var y="",b;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=h9e(i[s].t.charCodeAt(0),i[s].v,u,m),i[s].t="t";break;case"n":case"?":for(b=s+1;i[b]!=null&&((o=i[b].t)==="?"||o==="D"||(o===" "||o==="t")&&i[b+1]!=null&&(i[b+1].t==="?"||i[b+1].t==="t"&&i[b+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[b].v==="/"||i[b].v===" "&&i[b+1]!=null&&i[b+1].t=="?"));)i[s].v+=i[b].v,i[b]={v:"",t:";"},++b;y+=i[s].v,s=b-1;break;case"G":i[s].t="t",i[s].v=CM(t,e);break}var _="",T,I;if(y.length>0){y.charCodeAt(0)==40?(T=t<0&&y.charCodeAt(0)===45?-t:t,I=Mh("n",y,T)):(T=t<0&&n>1?-t:t,I=Mh("n",y,T),T<0&&i[0]&&i[0].t=="t"&&(I=I.substr(1),i[0].v="-"+i[0].v)),b=I.length-1;var N=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){N=s;break}var F=i.length;if(N===i.length&&I.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(b>=i[s].v.length-1?(b-=i[s].v.length,i[s].v=I.substr(b+1,i[s].v.length)):b<0?i[s].v="":(i[s].v=I.substr(0,b+1),b=-1),i[s].t="t",F=s);b>=0&&F<i.length&&(i[F].v=I.substr(0,b+1)+i[F].v)}else if(N!==i.length&&I.indexOf("E")===-1){for(b=I.indexOf(".")-1,s=N;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(c=i[s].v.indexOf(".")>-1&&s===N?i[s].v.indexOf(".")-1:i[s].v.length-1,_=i[s].v.substr(c+1);c>=0;--c)b>=0&&(i[s].v.charAt(c)==="0"||i[s].v.charAt(c)==="#")&&(_=I.charAt(b--)+_);i[s].v=_,i[s].t="t",F=s}for(b>=0&&F<i.length&&(i[F].v=I.substr(0,b+1)+i[F].v),b=I.indexOf(".")+1,s=N;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==N)){for(c=i[s].v.indexOf(".")>-1&&s===N?i[s].v.indexOf(".")+1:0,_=i[s].v.substr(0,c);c<i[s].v.length;++c)b<I.length&&(_+=I.charAt(b++));i[s].v=_,i[s].t="t",F=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(T=n>1&&t<0&&s>0&&i[s-1].v==="-"?-t:t,i[s].v=Mh(i[s].t,i[s].v,T),i[s].t="t");var P="";for(s=0;s!==i.length;++s)i[s]!=null&&(P+=i[s].v);return P}var CK=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function BK(r,t){if(t==null)return!1;var e=parseFloat(t[2]);switch(t[1]){case"=":if(r==e)return!0;break;case">":if(r>e)return!0;break;case"<":if(r<e)return!0;break;case"<>":if(r!=e)return!0;break;case">=":if(r>=e)return!0;break;case"<=":if(r<=e)return!0;break}return!1}function _9e(r,t){var e=b9e(r),n=e.length,i=e[n-1].indexOf("@");if(n<4&&i>-1&&--n,e.length>4)throw new Error("cannot find right format for |"+e.join("|")+"|");if(typeof t!="number")return[4,e.length===4||i>-1?e[e.length-1]:"@"];switch(e.length){case 1:e=i>-1?["General","General","General",e[0]]:[e[0],e[0],e[0],"@"];break;case 2:e=i>-1?[e[0],e[0],e[0],e[1]]:[e[0],e[1],e[0],"@"];break;case 3:e=i>-1?[e[0],e[1],e[0],e[2]]:[e[0],e[1],e[2],"@"];break}var a=t>0?e[0]:t<0?e[1]:e[2];if(e[0].indexOf("[")===-1&&e[1].indexOf("[")===-1)return[n,a];if(e[0].match(/\[[=<>]/)!=null||e[1].match(/\[[=<>]/)!=null){var s=e[0].match(CK),o=e[1].match(CK);return BK(t,s)?[n,e[0]]:BK(t,o)?[n,e[1]]:[n,e[s!=null&&o!=null?2:1]]}return[n,a]}function t0(r,t,e){e==null&&(e={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&e.dateNF?n=e.dateNF:n=r;break;case"number":r==14&&e.dateNF?n=e.dateNF:n=(e.table!=null?e.table:na)[r],n==null&&(n=e.table&&e.table[wK[r]]||na[wK[r]]),n==null&&(n=i9e[r]||"General");break}if(K6(n,0))return CM(t,e);t instanceof Date&&(t=Fle(t,e.date1904));var i=_9e(n,t);if(K6(i[1]))return CM(t,e);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return w9e(i[1],t,e,i[0])}function Hle(r,t){if(typeof t!="number"){t=+t||-1;for(var e=0;e<392;++e){if(na[e]==null){t<0&&(t=e);continue}if(na[e]==r){t=e;break}}t<0&&(t=391)}return na[t]=r,t}function R8(r){for(var t=0;t!=392;++t)r[t]!==void 0&&Hle(r[t],t)}function O8(){na=n9e()}var Qle=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function S9e(r){var t=typeof r=="number"?na[r]:r;return t=t.replace(Qle,"(\\d+)"),new RegExp("^"+t+"$")}function C9e(r,t,e){var n=-1,i=-1,a=-1,s=-1,o=-1,l=-1;(t.match(Qle)||[]).forEach(function(f,h){var d=parseInt(e[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=d;break;case"d":a=d;break;case"h":s=d;break;case"s":l=d;break;case"m":s>=0?o=d:i=d;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var c=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?u:n==-1&&i==-1&&a==-1?c:u+"T"+c}var B9e=function(){var r={};r.version="1.2.0";function t(){for(var I=0,N=new Array(256),F=0;F!=256;++F)I=F,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,N[F]=I;return typeof Int32Array<"u"?new Int32Array(N):N}var e=t();function n(I){var N=0,F=0,P=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)D[P]=I[P];for(P=0;P!=256;++P)for(F=I[P],N=256+P;N<4096;N+=256)F=D[N]=F>>>8^I[F&255];var R=[];for(P=1;P!=16;++P)R[P-1]=typeof Int32Array<"u"?D.subarray(P*256,P*256+256):D.slice(P*256,P*256+256);return R}var i=n(e),a=i[0],s=i[1],o=i[2],l=i[3],u=i[4],c=i[5],f=i[6],h=i[7],d=i[8],A=i[9],p=i[10],g=i[11],m=i[12],v=i[13],y=i[14];function b(I,N){for(var F=N^-1,P=0,D=I.length;P<D;)F=F>>>8^e[(F^I.charCodeAt(P++))&255];return~F}function _(I,N){for(var F=N^-1,P=I.length-15,D=0;D<P;)F=y[I[D++]^F&255]^v[I[D++]^F>>8&255]^m[I[D++]^F>>16&255]^g[I[D++]^F>>>24]^p[I[D++]]^A[I[D++]]^d[I[D++]]^h[I[D++]]^f[I[D++]]^c[I[D++]]^u[I[D++]]^l[I[D++]]^o[I[D++]]^s[I[D++]]^a[I[D++]]^e[I[D++]];for(P+=15;D<P;)F=F>>>8^e[(F^I[D++])&255];return~F}function T(I,N){for(var F=N^-1,P=0,D=I.length,R=0,E=0;P<D;)R=I.charCodeAt(P++),R<128?F=F>>>8^e[(F^R)&255]:R<2048?(F=F>>>8^e[(F^(192|R>>6&31))&255],F=F>>>8^e[(F^(128|R&63))&255]):R>=55296&&R<57344?(R=(R&1023)+64,E=I.charCodeAt(P++)&1023,F=F>>>8^e[(F^(240|R>>8&7))&255],F=F>>>8^e[(F^(128|R>>2&63))&255],F=F>>>8^e[(F^(128|E>>6&15|(R&3)<<4))&255],F=F>>>8^e[(F^(128|E&63))&255]):(F=F>>>8^e[(F^(224|R>>12&15))&255],F=F>>>8^e[(F^(128|R>>6&63))&255],F=F>>>8^e[(F^(128|R&63))&255]);return~F}return r.table=e,r.bstr=b,r.buf=_,r.str=T,r}(),si=function(){var t={};t.version="1.2.1";function e(oe,ye){for(var he=oe.split("/"),me=ye.split("/"),xe=0,be=0,He=Math.min(he.length,me.length);xe<He;++xe){if(be=he[xe].length-me[xe].length)return be;if(he[xe]!=me[xe])return he[xe]<me[xe]?-1:1}return he.length-me.length}function n(oe){if(oe.charAt(oe.length-1)=="/")return oe.slice(0,-1).indexOf("/")===-1?oe:n(oe.slice(0,-1));var ye=oe.lastIndexOf("/");return ye===-1?oe:oe.slice(0,ye+1)}function i(oe){if(oe.charAt(oe.length-1)=="/")return i(oe.slice(0,-1));var ye=oe.lastIndexOf("/");return ye===-1?oe:oe.slice(ye+1)}function a(oe,ye){typeof ye=="string"&&(ye=new Date(ye));var he=ye.getHours();he=he<<6|ye.getMinutes(),he=he<<5|ye.getSeconds()>>>1,oe.write_shift(2,he);var me=ye.getFullYear()-1980;me=me<<4|ye.getMonth()+1,me=me<<5|ye.getDate(),oe.write_shift(2,me)}function s(oe){var ye=oe.read_shift(2)&65535,he=oe.read_shift(2)&65535,me=new Date,xe=he&31;he>>>=5;var be=he&15;he>>>=4,me.setMilliseconds(0),me.setFullYear(he+1980),me.setMonth(be-1),me.setDate(xe);var He=ye&31;ye>>>=5;var Ze=ye&63;return ye>>>=6,me.setHours(ye),me.setMinutes(Ze),me.setSeconds(He<<1),me}function o(oe){Tl(oe,0);for(var ye={},he=0;oe.l<=oe.length-4;){var me=oe.read_shift(2),xe=oe.read_shift(2),be=oe.l+xe,He={};switch(me){case 21589:he=oe.read_shift(1),he&1&&(He.mtime=oe.read_shift(4)),xe>5&&(he&2&&(He.atime=oe.read_shift(4)),he&4&&(He.ctime=oe.read_shift(4))),He.mtime&&(He.mt=new Date(He.mtime*1e3));break}oe.l=be,ye[me]=He}return ye}var l;function u(){return l||(l={})}function c(oe,ye){if(oe[0]==80&&oe[1]==75)return lt(oe,ye);if((oe[0]|32)==109&&(oe[1]|32)==105)return It(oe,ye);if(oe.length<512)throw new Error("CFB file size "+oe.length+" < 512");var he=3,me=512,xe=0,be=0,He=0,Ze=0,$e=0,nt=[],Ee=oe.slice(0,512);Tl(Ee,0);var rt=f(Ee);switch(he=rt[0],he){case 3:me=512;break;case 4:me=4096;break;case 0:if(rt[1]==0)return lt(oe,ye);default:throw new Error("Major Version: Expected 3 or 4 saw "+he)}me!==512&&(Ee=oe.slice(0,me),Tl(Ee,28));var Bt=oe.slice(0,me);h(Ee,he);var jt=Ee.read_shift(4,"i");if(he===3&&jt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+jt);Ee.l+=4,He=Ee.read_shift(4,"i"),Ee.l+=4,Ee.chk("00100000","Mini Stream Cutoff Size: "),Ze=Ee.read_shift(4,"i"),xe=Ee.read_shift(4,"i"),$e=Ee.read_shift(4,"i"),be=Ee.read_shift(4,"i");for(var Ae=-1,Re=0;Re<109&&(Ae=Ee.read_shift(4,"i"),!(Ae<0));++Re)nt[Re]=Ae;var it=d(oe,me);g($e,be,it,me,nt);var bt=v(it,He,nt,me);bt[He].name="!Directory",xe>0&&Ze!==E&&(bt[Ze].name="!MiniFAT"),bt[nt[0]].name="!FAT",bt.fat_addrs=nt,bt.ssz=me;var Pt={},Mt=[],Gt=[],jr=[];y(He,bt,it,Mt,xe,Pt,Gt,Ze),A(Gt,jr,Mt),Mt.shift();var Pr={FileIndex:Gt,FullPaths:jr};return ye&&ye.raw&&(Pr.raw={header:Bt,sectors:it}),Pr}function f(oe){if(oe[oe.l]==80&&oe[oe.l+1]==75)return[0,0];oe.chk(L,"Header Signature: "),oe.l+=16;var ye=oe.read_shift(2,"u");return[oe.read_shift(2,"u"),ye]}function h(oe,ye){var he=9;switch(oe.l+=2,he=oe.read_shift(2)){case 9:if(ye!=3)throw new Error("Sector Shift: Expected 9 saw "+he);break;case 12:if(ye!=4)throw new Error("Sector Shift: Expected 12 saw "+he);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+he)}oe.chk("0600","Mini Sector Shift: "),oe.chk("000000000000","Reserved: ")}function d(oe,ye){for(var he=Math.ceil(oe.length/ye)-1,me=[],xe=1;xe<he;++xe)me[xe-1]=oe.slice(xe*ye,(xe+1)*ye);return me[he-1]=oe.slice(he*ye),me}function A(oe,ye,he){for(var me=0,xe=0,be=0,He=0,Ze=0,$e=he.length,nt=[],Ee=[];me<$e;++me)nt[me]=Ee[me]=me,ye[me]=he[me];for(;Ze<Ee.length;++Ze)me=Ee[Ze],xe=oe[me].L,be=oe[me].R,He=oe[me].C,nt[me]===me&&(xe!==-1&&nt[xe]!==xe&&(nt[me]=nt[xe]),be!==-1&&nt[be]!==be&&(nt[me]=nt[be])),He!==-1&&(nt[He]=me),xe!==-1&&me!=nt[me]&&(nt[xe]=nt[me],Ee.lastIndexOf(xe)<Ze&&Ee.push(xe)),be!==-1&&me!=nt[me]&&(nt[be]=nt[me],Ee.lastIndexOf(be)<Ze&&Ee.push(be));for(me=1;me<$e;++me)nt[me]===me&&(be!==-1&&nt[be]!==be?nt[me]=nt[be]:xe!==-1&&nt[xe]!==xe&&(nt[me]=nt[xe]));for(me=1;me<$e;++me)if(oe[me].type!==0){if(Ze=me,Ze!=nt[Ze])do Ze=nt[Ze],ye[me]=ye[Ze]+"/"+ye[me];while(Ze!==0&&nt[Ze]!==-1&&Ze!=nt[Ze]);nt[me]=-1}for(ye[0]+="/",me=1;me<$e;++me)oe[me].type!==2&&(ye[me]+="/")}function p(oe,ye,he){for(var me=oe.start,xe=oe.size,be=[],He=me;he&&xe>0&&He>=0;)be.push(ye.slice(He*R,He*R+R)),xe-=R,He=Sp(he,He*4);return be.length===0?Tt(0):Ns(be).slice(0,oe.size)}function g(oe,ye,he,me,xe){var be=E;if(oe===E){if(ye!==0)throw new Error("DIFAT chain shorter than expected")}else if(oe!==-1){var He=he[oe],Ze=(me>>>2)-1;if(!He)return;for(var $e=0;$e<Ze&&(be=Sp(He,$e*4))!==E;++$e)xe.push(be);g(Sp(He,me-4),ye-1,he,me,xe)}}function m(oe,ye,he,me,xe){var be=[],He=[];xe||(xe=[]);var Ze=me-1,$e=0,nt=0;for($e=ye;$e>=0;){xe[$e]=!0,be[be.length]=$e,He.push(oe[$e]);var Ee=he[Math.floor($e*4/me)];if(nt=$e*4&Ze,me<4+nt)throw new Error("FAT boundary crossed: "+$e+" 4 "+me);if(!oe[Ee])break;$e=Sp(oe[Ee],nt)}return{nodes:be,data:LK([He])}}function v(oe,ye,he,me){var xe=oe.length,be=[],He=[],Ze=[],$e=[],nt=me-1,Ee=0,rt=0,Bt=0,jt=0;for(Ee=0;Ee<xe;++Ee)if(Ze=[],Bt=Ee+ye,Bt>=xe&&(Bt-=xe),!He[Bt]){$e=[];var Ae=[];for(rt=Bt;rt>=0;){Ae[rt]=!0,He[rt]=!0,Ze[Ze.length]=rt,$e.push(oe[rt]);var Re=he[Math.floor(rt*4/me)];if(jt=rt*4&nt,me<4+jt)throw new Error("FAT boundary crossed: "+rt+" 4 "+me);if(!oe[Re]||(rt=Sp(oe[Re],jt),Ae[rt]))break}be[Bt]={nodes:Ze,data:LK([$e])}}return be}function y(oe,ye,he,me,xe,be,He,Ze){for(var $e=0,nt=me.length?2:0,Ee=ye[oe].data,rt=0,Bt=0,jt;rt<Ee.length;rt+=128){var Ae=Ee.slice(rt,rt+128);Tl(Ae,64),Bt=Ae.read_shift(2),jt=wR(Ae,0,Bt-nt),me.push(jt);var Re={name:jt,type:Ae.read_shift(1),color:Ae.read_shift(1),L:Ae.read_shift(4,"i"),R:Ae.read_shift(4,"i"),C:Ae.read_shift(4,"i"),clsid:Ae.read_shift(16),state:Ae.read_shift(4,"i"),start:0,size:0},it=Ae.read_shift(2)+Ae.read_shift(2)+Ae.read_shift(2)+Ae.read_shift(2);it!==0&&(Re.ct=b(Ae,Ae.l-8));var bt=Ae.read_shift(2)+Ae.read_shift(2)+Ae.read_shift(2)+Ae.read_shift(2);bt!==0&&(Re.mt=b(Ae,Ae.l-8)),Re.start=Ae.read_shift(4,"i"),Re.size=Ae.read_shift(4,"i"),Re.size<0&&Re.start<0&&(Re.size=Re.type=0,Re.start=E,Re.name=""),Re.type===5?($e=Re.start,xe>0&&$e!==E&&(ye[$e].name="!StreamData")):Re.size>=4096?(Re.storage="fat",ye[Re.start]===void 0&&(ye[Re.start]=m(he,Re.start,ye.fat_addrs,ye.ssz)),ye[Re.start].name=Re.name,Re.content=ye[Re.start].data.slice(0,Re.size)):(Re.storage="minifat",Re.size<0?Re.size=0:$e!==E&&Re.start!==E&&ye[$e]&&(Re.content=p(Re,ye[$e].data,(ye[Ze]||{}).data))),Re.content&&Tl(Re.content,0),be[jt]=Re,He.push(Re)}}function b(oe,ye){return new Date((kl(oe,ye+4)/1e7*Math.pow(2,32)+kl(oe,ye)/1e7-11644473600)*1e3)}function _(oe,ye){return u(),c(l.readFileSync(oe),ye)}function T(oe,ye){var he=ye&&ye.type;switch(he||On&&Buffer.isBuffer(oe)&&(he="buffer"),he||"base64"){case"file":return _(oe,ye);case"base64":return c(ac(Xh(oe)),ye);case"binary":return c(ac(oe),ye)}return c(oe,ye)}function I(oe,ye){var he=ye||{},me=he.root||"Root Entry";if(oe.FullPaths||(oe.FullPaths=[]),oe.FileIndex||(oe.FileIndex=[]),oe.FullPaths.length!==oe.FileIndex.length)throw new Error("inconsistent CFB structure");oe.FullPaths.length===0&&(oe.FullPaths[0]=me+"/",oe.FileIndex[0]={name:me,type:5}),he.CLSID&&(oe.FileIndex[0].clsid=he.CLSID),N(oe)}function N(oe){var ye="Sh33tJ5";if(!si.find(oe,"/"+ye)){var he=Tt(4);he[0]=55,he[1]=he[3]=50,he[2]=54,oe.FileIndex.push({name:ye,type:2,content:he,size:4,L:69,R:69,C:69}),oe.FullPaths.push(oe.FullPaths[0]+ye),F(oe)}}function F(oe,ye){I(oe);for(var he=!1,me=!1,xe=oe.FullPaths.length-1;xe>=0;--xe){var be=oe.FileIndex[xe];switch(be.type){case 0:me?he=!0:(oe.FileIndex.pop(),oe.FullPaths.pop());break;case 1:case 2:case 5:me=!0,isNaN(be.R*be.L*be.C)&&(he=!0),be.R>-1&&be.L>-1&&be.R==be.L&&(he=!0);break;default:he=!0;break}}if(!(!he&&!ye)){var He=new Date(1987,1,19),Ze=0,$e=Object.create?Object.create(null):{},nt=[];for(xe=0;xe<oe.FullPaths.length;++xe)$e[oe.FullPaths[xe]]=!0,oe.FileIndex[xe].type!==0&&nt.push([oe.FullPaths[xe],oe.FileIndex[xe]]);for(xe=0;xe<nt.length;++xe){var Ee=n(nt[xe][0]);me=$e[Ee],me||(nt.push([Ee,{name:i(Ee).replace("/",""),type:1,clsid:w,ct:He,mt:He,content:null}]),$e[Ee]=!0)}for(nt.sort(function(jt,Ae){return e(jt[0],Ae[0])}),oe.FullPaths=[],oe.FileIndex=[],xe=0;xe<nt.length;++xe)oe.FullPaths[xe]=nt[xe][0],oe.FileIndex[xe]=nt[xe][1];for(xe=0;xe<nt.length;++xe){var rt=oe.FileIndex[xe],Bt=oe.FullPaths[xe];if(rt.name=i(Bt).replace("/",""),rt.L=rt.R=rt.C=-(rt.color=1),rt.size=rt.content?rt.content.length:0,rt.start=0,rt.clsid=rt.clsid||w,xe===0)rt.C=nt.length>1?1:-1,rt.size=0,rt.type=5;else if(Bt.slice(-1)=="/"){for(Ze=xe+1;Ze<nt.length&&n(oe.FullPaths[Ze])!=Bt;++Ze);for(rt.C=Ze>=nt.length?-1:Ze,Ze=xe+1;Ze<nt.length&&n(oe.FullPaths[Ze])!=n(Bt);++Ze);rt.R=Ze>=nt.length?-1:Ze,rt.type=1}else n(oe.FullPaths[xe+1]||"")==n(Bt)&&(rt.R=xe+1),rt.type=2}}}function P(oe,ye){var he=ye||{};if(he.fileType=="mad")return Ir(oe,he);switch(F(oe),he.fileType){case"zip":return ut(oe,he)}var me=function(jt){for(var Ae=0,Re=0,it=0;it<jt.FileIndex.length;++it){var bt=jt.FileIndex[it];if(bt.content){var Pt=bt.content.length;Pt>0&&(Pt<4096?Ae+=Pt+63>>6:Re+=Pt+511>>9)}}for(var Mt=jt.FullPaths.length+3>>2,Gt=Ae+7>>3,jr=Ae+127>>7,Pr=Gt+Re+Mt+jr,Rr=Pr+127>>7,vr=Rr<=109?0:Math.ceil((Rr-109)/127);Pr+Rr+vr+127>>7>Rr;)vr=++Rr<=109?0:Math.ceil((Rr-109)/127);var Wr=[1,vr,Rr,jr,Mt,Re,Ae,0];return jt.FileIndex[0].size=Ae<<6,Wr[7]=(jt.FileIndex[0].start=Wr[0]+Wr[1]+Wr[2]+Wr[3]+Wr[4]+Wr[5])+(Wr[6]+7>>3),Wr}(oe),xe=Tt(me[7]<<9),be=0,He=0;{for(be=0;be<8;++be)xe.write_shift(1,k[be]);for(be=0;be<8;++be)xe.write_shift(2,0);for(xe.write_shift(2,62),xe.write_shift(2,3),xe.write_shift(2,65534),xe.write_shift(2,9),xe.write_shift(2,6),be=0;be<3;++be)xe.write_shift(2,0);for(xe.write_shift(4,0),xe.write_shift(4,me[2]),xe.write_shift(4,me[0]+me[1]+me[2]+me[3]-1),xe.write_shift(4,0),xe.write_shift(4,4096),xe.write_shift(4,me[3]?me[0]+me[1]+me[2]-1:E),xe.write_shift(4,me[3]),xe.write_shift(-4,me[1]?me[0]-1:E),xe.write_shift(4,me[1]),be=0;be<109;++be)xe.write_shift(-4,be<me[2]?me[1]+be:-1)}if(me[1])for(He=0;He<me[1];++He){for(;be<236+He*127;++be)xe.write_shift(-4,be<me[2]?me[1]+be:-1);xe.write_shift(-4,He===me[1]-1?E:He+1)}var Ze=function(jt){for(He+=jt;be<He-1;++be)xe.write_shift(-4,be+1);jt&&(++be,xe.write_shift(-4,E))};for(He=be=0,He+=me[1];be<He;++be)xe.write_shift(-4,C.DIFSECT);for(He+=me[2];be<He;++be)xe.write_shift(-4,C.FATSECT);Ze(me[3]),Ze(me[4]);for(var $e=0,nt=0,Ee=oe.FileIndex[0];$e<oe.FileIndex.length;++$e)Ee=oe.FileIndex[$e],Ee.content&&(nt=Ee.content.length,!(nt<4096)&&(Ee.start=He,Ze(nt+511>>9)));for(Ze(me[6]+7>>3);xe.l&511;)xe.write_shift(-4,C.ENDOFCHAIN);for(He=be=0,$e=0;$e<oe.FileIndex.length;++$e)Ee=oe.FileIndex[$e],Ee.content&&(nt=Ee.content.length,!(!nt||nt>=4096)&&(Ee.start=He,Ze(nt+63>>6)));for(;xe.l&511;)xe.write_shift(-4,C.ENDOFCHAIN);for(be=0;be<me[4]<<2;++be){var rt=oe.FullPaths[be];if(!rt||rt.length===0){for($e=0;$e<17;++$e)xe.write_shift(4,0);for($e=0;$e<3;++$e)xe.write_shift(4,-1);for($e=0;$e<12;++$e)xe.write_shift(4,0);continue}Ee=oe.FileIndex[be],be===0&&(Ee.start=Ee.size?Ee.start-1:E);var Bt=be===0&&he.root||Ee.name;if(nt=2*(Bt.length+1),xe.write_shift(64,Bt,"utf16le"),xe.write_shift(2,nt),xe.write_shift(1,Ee.type),xe.write_shift(1,Ee.color),xe.write_shift(-4,Ee.L),xe.write_shift(-4,Ee.R),xe.write_shift(-4,Ee.C),Ee.clsid)xe.write_shift(16,Ee.clsid,"hex");else for($e=0;$e<4;++$e)xe.write_shift(4,0);xe.write_shift(4,Ee.state||0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,Ee.start),xe.write_shift(4,Ee.size),xe.write_shift(4,0)}for(be=1;be<oe.FileIndex.length;++be)if(Ee=oe.FileIndex[be],Ee.size>=4096)if(xe.l=Ee.start+1<<9,On&&Buffer.isBuffer(Ee.content))Ee.content.copy(xe,xe.l,0,Ee.size),xe.l+=Ee.size+511&-512;else{for($e=0;$e<Ee.size;++$e)xe.write_shift(1,Ee.content[$e]);for(;$e&511;++$e)xe.write_shift(1,0)}for(be=1;be<oe.FileIndex.length;++be)if(Ee=oe.FileIndex[be],Ee.size>0&&Ee.size<4096)if(On&&Buffer.isBuffer(Ee.content))Ee.content.copy(xe,xe.l,0,Ee.size),xe.l+=Ee.size+63&-64;else{for($e=0;$e<Ee.size;++$e)xe.write_shift(1,Ee.content[$e]);for(;$e&63;++$e)xe.write_shift(1,0)}if(On)xe.l=xe.length;else for(;xe.l<xe.length;)xe.write_shift(1,0);return xe}function D(oe,ye){var he=oe.FullPaths.map(function($e){return $e.toUpperCase()}),me=he.map(function($e){var nt=$e.split("/");return nt[nt.length-($e.slice(-1)=="/"?2:1)]}),xe=!1;ye.charCodeAt(0)===47?(xe=!0,ye=he[0].slice(0,-1)+ye):xe=ye.indexOf("/")!==-1;var be=ye.toUpperCase(),He=xe===!0?he.indexOf(be):me.indexOf(be);if(He!==-1)return oe.FileIndex[He];var Ze=!be.match(N4);for(be=be.replace(z2,""),Ze&&(be=be.replace(N4,"!")),He=0;He<he.length;++He)if((Ze?he[He].replace(N4,"!"):he[He]).replace(z2,"")==be||(Ze?me[He].replace(N4,"!"):me[He]).replace(z2,"")==be)return oe.FileIndex[He];return null}var R=64,E=-2,L="d0cf11e0a1b11ae1",k=[208,207,17,224,161,177,26,225],w="00000000000000000000000000000000",C={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:E,FREESECT:-1,HEADER_SIGNATURE:L,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:w,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function S(oe,ye,he){u();var me=P(oe,he);l.writeFileSync(ye,me)}function B(oe){for(var ye=new Array(oe.length),he=0;he<oe.length;++he)ye[he]=String.fromCharCode(oe[he]);return ye.join("")}function O(oe,ye){var he=P(oe,ye);switch(ye&&ye.type||"buffer"){case"file":return u(),l.writeFileSync(ye.filename,he),he;case"binary":return typeof he=="string"?he:B(he);case"base64":return lw(typeof he=="string"?he:B(he));case"buffer":if(On)return Buffer.isBuffer(he)?he:id(he);case"array":return typeof he=="string"?ac(he):he}return he}var V;function M(oe){try{var ye=oe.InflateRaw,he=new ye;if(he._processChunk(new Uint8Array([3,0]),he._finishFlushFlag),he.bytesRead)V=oe;else throw new Error("zlib does not expose bytesRead")}catch(me){console.error("cannot use native zlib: "+(me.message||me))}}function U(oe,ye){if(!V)return et(oe,ye);var he=V.InflateRaw,me=new he,xe=me._processChunk(oe.slice(oe.l),me._finishFlushFlag);return oe.l+=me.bytesRead,xe}function Q(oe){return V?V.deflateRawSync(oe):at(oe)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],X=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function z(oe){var ye=(oe<<1|oe<<11)&139536|(oe<<5|oe<<15)&558144;return(ye>>16|ye>>8|ye)&255}for(var H=typeof Uint8Array<"u",K=H?new Uint8Array(256):[],Z=0;Z<256;++Z)K[Z]=z(Z);function ie(oe,ye){var he=K[oe&255];return ye<=8?he>>>8-ye:(he=he<<8|K[oe>>8&255],ye<=16?he>>>16-ye:(he=he<<8|K[oe>>16&255],he>>>24-ye))}function ee(oe,ye){var he=ye&7,me=ye>>>3;return(oe[me]|(he<=6?0:oe[me+1]<<8))>>>he&3}function ne(oe,ye){var he=ye&7,me=ye>>>3;return(oe[me]|(he<=5?0:oe[me+1]<<8))>>>he&7}function te(oe,ye){var he=ye&7,me=ye>>>3;return(oe[me]|(he<=4?0:oe[me+1]<<8))>>>he&15}function le(oe,ye){var he=ye&7,me=ye>>>3;return(oe[me]|(he<=3?0:oe[me+1]<<8))>>>he&31}function re(oe,ye){var he=ye&7,me=ye>>>3;return(oe[me]|(he<=1?0:oe[me+1]<<8))>>>he&127}function de(oe,ye,he){var me=ye&7,xe=ye>>>3,be=(1<<he)-1,He=oe[xe]>>>me;return he<8-me||(He|=oe[xe+1]<<8-me,he<16-me)||(He|=oe[xe+2]<<16-me,he<24-me)||(He|=oe[xe+3]<<24-me),He&be}function ue(oe,ye,he){var me=ye&7,xe=ye>>>3;return me<=5?oe[xe]|=(he&7)<<me:(oe[xe]|=he<<me&255,oe[xe+1]=(he&7)>>8-me),ye+3}function Fe(oe,ye,he){var me=ye&7,xe=ye>>>3;return he=(he&1)<<me,oe[xe]|=he,ye+1}function Se(oe,ye,he){var me=ye&7,xe=ye>>>3;return he<<=me,oe[xe]|=he&255,he>>>=8,oe[xe+1]=he,ye+8}function De(oe,ye,he){var me=ye&7,xe=ye>>>3;return he<<=me,oe[xe]|=he&255,he>>>=8,oe[xe+1]=he&255,oe[xe+2]=he>>>8,ye+16}function ge(oe,ye){var he=oe.length,me=2*he>ye?2*he:ye+5,xe=0;if(he>=ye)return oe;if(On){var be=yK(me);if(oe.copy)oe.copy(be);else for(;xe<oe.length;++xe)be[xe]=oe[xe];return be}else if(H){var He=new Uint8Array(me);if(He.set)He.set(oe);else for(;xe<he;++xe)He[xe]=oe[xe];return He}return oe.length=me,oe}function Be(oe){for(var ye=new Array(oe),he=0;he<oe;++he)ye[he]=0;return ye}function Pe(oe,ye,he){var me=1,xe=0,be=0,He=0,Ze=0,$e=oe.length,nt=H?new Uint16Array(32):Be(32);for(be=0;be<32;++be)nt[be]=0;for(be=$e;be<he;++be)oe[be]=0;$e=oe.length;var Ee=H?new Uint16Array($e):Be($e);for(be=0;be<$e;++be)nt[xe=oe[be]]++,me<xe&&(me=xe),Ee[be]=0;for(nt[0]=0,be=1;be<=me;++be)nt[be+16]=Ze=Ze+nt[be-1]<<1;for(be=0;be<$e;++be)Ze=oe[be],Ze!=0&&(Ee[be]=nt[Ze+16]++);var rt=0;for(be=0;be<$e;++be)if(rt=oe[be],rt!=0)for(Ze=ie(Ee[be],me)>>me-rt,He=(1<<me+4-rt)-1;He>=0;--He)ye[Ze|He<<rt]=rt&15|be<<4;return me}var st=H?new Uint16Array(512):Be(512),gt=H?new Uint16Array(32):Be(32);if(!H){for(var we=0;we<512;++we)st[we]=0;for(we=0;we<32;++we)gt[we]=0}(function(){for(var oe=[],ye=0;ye<32;ye++)oe.push(5);Pe(oe,gt,32);var he=[];for(ye=0;ye<=143;ye++)he.push(8);for(;ye<=255;ye++)he.push(9);for(;ye<=279;ye++)he.push(7);for(;ye<=287;ye++)he.push(8);Pe(he,st,288)})();var Oe=function(){for(var ye=H?new Uint8Array(32768):[],he=0,me=0;he<X.length-1;++he)for(;me<X[he+1];++me)ye[me]=he;for(;me<32768;++me)ye[me]=29;var xe=H?new Uint8Array(259):[];for(he=0,me=0;he<j.length-1;++he)for(;me<j[he+1];++me)xe[me]=he;function be(Ze,$e){for(var nt=0;nt<Ze.length;){var Ee=Math.min(65535,Ze.length-nt),rt=nt+Ee==Ze.length;for($e.write_shift(1,+rt),$e.write_shift(2,Ee),$e.write_shift(2,~Ee&65535);Ee-- >0;)$e[$e.l++]=Ze[nt++]}return $e.l}function He(Ze,$e){for(var nt=0,Ee=0,rt=H?new Uint16Array(32768):[];Ee<Ze.length;){var Bt=Math.min(65535,Ze.length-Ee);if(Bt<10){for(nt=ue($e,nt,+(Ee+Bt==Ze.length)),nt&7&&(nt+=8-(nt&7)),$e.l=nt/8|0,$e.write_shift(2,Bt),$e.write_shift(2,~Bt&65535);Bt-- >0;)$e[$e.l++]=Ze[Ee++];nt=$e.l*8;continue}nt=ue($e,nt,+(Ee+Bt==Ze.length)+2);for(var jt=0;Bt-- >0;){var Ae=Ze[Ee];jt=(jt<<5^Ae)&32767;var Re=-1,it=0;if((Re=rt[jt])&&(Re|=Ee&-32768,Re>Ee&&(Re-=32768),Re<Ee))for(;Ze[Re+it]==Ze[Ee+it]&&it<250;)++it;if(it>2){Ae=xe[it],Ae<=22?nt=Se($e,nt,K[Ae+1]>>1)-1:(Se($e,nt,3),nt+=5,Se($e,nt,K[Ae-23]>>5),nt+=3);var bt=Ae<8?0:Ae-4>>2;bt>0&&(De($e,nt,it-j[Ae]),nt+=bt),Ae=ye[Ee-Re],nt=Se($e,nt,K[Ae]>>3),nt-=3;var Pt=Ae<4?0:Ae-2>>1;Pt>0&&(De($e,nt,Ee-Re-X[Ae]),nt+=Pt);for(var Mt=0;Mt<it;++Mt)rt[jt]=Ee&32767,jt=(jt<<5^Ze[Ee])&32767,++Ee;Bt-=it-1}else Ae<=143?Ae=Ae+48:nt=Fe($e,nt,1),nt=Se($e,nt,K[Ae]),rt[jt]=Ee&32767,++Ee}nt=Se($e,nt,0)-1}return $e.l=(nt+7)/8|0,$e.l}return function($e,nt){return $e.length<8?be($e,nt):He($e,nt)}}();function at(oe){var ye=Tt(50+Math.floor(oe.length*1.1)),he=Oe(oe,ye);return ye.slice(0,he)}var Ve=H?new Uint16Array(32768):Be(32768),Qe=H?new Uint16Array(32768):Be(32768),Ke=H?new Uint16Array(128):Be(128),Ue=1,We=1;function yt(oe,ye){var he=le(oe,ye)+257;ye+=5;var me=le(oe,ye)+1;ye+=5;var xe=te(oe,ye)+4;ye+=4;for(var be=0,He=H?new Uint8Array(19):Be(19),Ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],$e=1,nt=H?new Uint8Array(8):Be(8),Ee=H?new Uint8Array(8):Be(8),rt=He.length,Bt=0;Bt<xe;++Bt)He[W[Bt]]=be=ne(oe,ye),$e<be&&($e=be),nt[be]++,ye+=3;var jt=0;for(nt[0]=0,Bt=1;Bt<=$e;++Bt)Ee[Bt]=jt=jt+nt[Bt-1]<<1;for(Bt=0;Bt<rt;++Bt)(jt=He[Bt])!=0&&(Ze[Bt]=Ee[jt]++);var Ae=0;for(Bt=0;Bt<rt;++Bt)if(Ae=He[Bt],Ae!=0){jt=K[Ze[Bt]]>>8-Ae;for(var Re=(1<<7-Ae)-1;Re>=0;--Re)Ke[jt|Re<<Ae]=Ae&7|Bt<<3}var it=[];for($e=1;it.length<he+me;)switch(jt=Ke[re(oe,ye)],ye+=jt&7,jt>>>=3){case 16:for(be=3+ee(oe,ye),ye+=2,jt=it[it.length-1];be-- >0;)it.push(jt);break;case 17:for(be=3+ne(oe,ye),ye+=3;be-- >0;)it.push(0);break;case 18:for(be=11+re(oe,ye),ye+=7;be-- >0;)it.push(0);break;default:it.push(jt),$e<jt&&($e=jt);break}var bt=it.slice(0,he),Pt=it.slice(he);for(Bt=he;Bt<286;++Bt)bt[Bt]=0;for(Bt=me;Bt<30;++Bt)Pt[Bt]=0;return Ue=Pe(bt,Ve,286),We=Pe(Pt,Qe,30),ye}function Ne(oe,ye){if(oe[0]==3&&!(oe[1]&3))return[Ng(ye),2];for(var he=0,me=0,xe=yK(ye||1<<18),be=0,He=xe.length>>>0,Ze=0,$e=0;!(me&1);){if(me=ne(oe,he),he+=3,me>>>1)me>>1==1?(Ze=9,$e=5):(he=yt(oe,he),Ze=Ue,$e=We);else{he&7&&(he+=8-(he&7));var nt=oe[he>>>3]|oe[(he>>>3)+1]<<8;if(he+=32,nt>0)for(!ye&&He<be+nt&&(xe=ge(xe,be+nt),He=xe.length);nt-- >0;)xe[be++]=oe[he>>>3],he+=8;continue}for(;;){!ye&&He<be+32767&&(xe=ge(xe,be+32767),He=xe.length);var Ee=de(oe,he,Ze),rt=me>>>1==1?st[Ee]:Ve[Ee];if(he+=rt&15,rt>>>=4,!(rt>>>8&255))xe[be++]=rt;else{if(rt==256)break;rt-=257;var Bt=rt<8?0:rt-4>>2;Bt>5&&(Bt=0);var jt=be+j[rt];Bt>0&&(jt+=de(oe,he,Bt),he+=Bt),Ee=de(oe,he,$e),rt=me>>>1==1?gt[Ee]:Qe[Ee],he+=rt&15,rt>>>=4;var Ae=rt<4?0:rt-2>>1,Re=X[rt];for(Ae>0&&(Re+=de(oe,he,Ae),he+=Ae),!ye&&He<jt&&(xe=ge(xe,jt+100),He=xe.length);be<jt;)xe[be]=xe[be-Re],++be}}}return ye?[xe,he+7>>>3]:[xe.slice(0,be),he+7>>>3]}function et(oe,ye){var he=oe.slice(oe.l||0),me=Ne(he,ye);return oe.l+=me[1],me[0]}function ft(oe,ye){if(oe)typeof console<"u"&&console.error(ye);else throw new Error(ye)}function lt(oe,ye){var he=oe;Tl(he,0);var me=[],xe=[],be={FileIndex:me,FullPaths:xe};I(be,{root:ye.root});for(var He=he.length-4;(he[He]!=80||he[He+1]!=75||he[He+2]!=5||he[He+3]!=6)&&He>=0;)--He;he.l=He+4,he.l+=4;var Ze=he.read_shift(2);he.l+=6;var $e=he.read_shift(4);for(he.l=$e,He=0;He<Ze;++He){he.l+=20;var nt=he.read_shift(4),Ee=he.read_shift(4),rt=he.read_shift(2),Bt=he.read_shift(2),jt=he.read_shift(2);he.l+=8;var Ae=he.read_shift(4),Re=o(he.slice(he.l+rt,he.l+rt+Bt));he.l+=rt+Bt+jt;var it=he.l;he.l=Ae+4,St(he,nt,Ee,be,Re),he.l=it}return be}function St(oe,ye,he,me,xe){oe.l+=2;var be=oe.read_shift(2),He=oe.read_shift(2),Ze=s(oe);if(be&8257)throw new Error("Unsupported ZIP encryption");for(var $e=oe.read_shift(4),nt=oe.read_shift(4),Ee=oe.read_shift(4),rt=oe.read_shift(2),Bt=oe.read_shift(2),jt="",Ae=0;Ae<rt;++Ae)jt+=String.fromCharCode(oe[oe.l++]);if(Bt){var Re=o(oe.slice(oe.l,oe.l+Bt));(Re[21589]||{}).mt&&(Ze=Re[21589].mt),((xe||{})[21589]||{}).mt&&(Ze=xe[21589].mt)}oe.l+=Bt;var it=oe.slice(oe.l,oe.l+nt);switch(He){case 8:it=U(oe,Ee);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+He)}var bt=!1;be&8&&($e=oe.read_shift(4),$e==134695760&&($e=oe.read_shift(4),bt=!0),nt=oe.read_shift(4),Ee=oe.read_shift(4)),nt!=ye&&ft(bt,"Bad compressed size: "+ye+" != "+nt),Ee!=he&&ft(bt,"Bad uncompressed size: "+he+" != "+Ee),tr(me,jt,it,{unsafe:!0,mt:Ze})}function ut(oe,ye){var he=ye||{},me=[],xe=[],be=Tt(1),He=he.compression?8:0,Ze=0,$e=0,nt=0,Ee=0,rt=0,Bt=oe.FullPaths[0],jt=Bt,Ae=oe.FileIndex[0],Re=[],it=0;for($e=1;$e<oe.FullPaths.length;++$e)if(jt=oe.FullPaths[$e].slice(Bt.length),Ae=oe.FileIndex[$e],!(!Ae.size||!Ae.content||jt=="Sh33tJ5")){var bt=Ee,Pt=Tt(jt.length);for(nt=0;nt<jt.length;++nt)Pt.write_shift(1,jt.charCodeAt(nt)&127);Pt=Pt.slice(0,Pt.l),Re[rt]=B9e.buf(Ae.content,0);var Mt=Ae.content;He==8&&(Mt=Q(Mt)),be=Tt(30),be.write_shift(4,67324752),be.write_shift(2,20),be.write_shift(2,Ze),be.write_shift(2,He),Ae.mt?a(be,Ae.mt):be.write_shift(4,0),be.write_shift(-4,Re[rt]),be.write_shift(4,Mt.length),be.write_shift(4,Ae.content.length),be.write_shift(2,Pt.length),be.write_shift(2,0),Ee+=be.length,me.push(be),Ee+=Pt.length,me.push(Pt),Ee+=Mt.length,me.push(Mt),be=Tt(46),be.write_shift(4,33639248),be.write_shift(2,0),be.write_shift(2,20),be.write_shift(2,Ze),be.write_shift(2,He),be.write_shift(4,0),be.write_shift(-4,Re[rt]),be.write_shift(4,Mt.length),be.write_shift(4,Ae.content.length),be.write_shift(2,Pt.length),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(4,0),be.write_shift(4,bt),it+=be.l,xe.push(be),it+=Pt.length,xe.push(Pt),++rt}return be=Tt(22),be.write_shift(4,101010256),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,rt),be.write_shift(2,rt),be.write_shift(4,it),be.write_shift(4,Ee),be.write_shift(2,0),Ns([Ns(me),Ns(xe),be])}var vt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Lt(oe,ye){if(oe.ctype)return oe.ctype;var he=oe.name||"",me=he.match(/\.([^\.]+)$/);return me&&vt[me[1]]||ye&&(me=(he=ye).match(/[\.\\]([^\.\\])+$/),me&&vt[me[1]])?vt[me[1]]:"application/octet-stream"}function zt(oe){for(var ye=lw(oe),he=[],me=0;me<ye.length;me+=76)he.push(ye.slice(me,me+76));return he.join(`\r
`)+`\r
`}function _t(oe){var ye=oe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(nt){var Ee=nt.charCodeAt(0).toString(16).toUpperCase();return"="+(Ee.length==1?"0"+Ee:Ee)});ye=ye.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ye.charAt(0)==`
`&&(ye="=0D"+ye.slice(1)),ye=ye.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var he=[],me=ye.split(`\r
`),xe=0;xe<me.length;++xe){var be=me[xe];if(be.length==0){he.push("");continue}for(var He=0;He<be.length;){var Ze=76,$e=be.slice(He,He+Ze);$e.charAt(Ze-1)=="="?Ze--:$e.charAt(Ze-2)=="="?Ze-=2:$e.charAt(Ze-3)=="="&&(Ze-=3),$e=be.slice(He,He+Ze),He+=Ze,He<be.length&&($e+="="),he.push($e)}}return he.join(`\r
`)}function ar(oe){for(var ye=[],he=0;he<oe.length;++he){for(var me=oe[he];he<=oe.length&&me.charAt(me.length-1)=="=";)me=me.slice(0,me.length-1)+oe[++he];ye.push(me)}for(var xe=0;xe<ye.length;++xe)ye[xe]=ye[xe].replace(/[=][0-9A-Fa-f]{2}/g,function(be){return String.fromCharCode(parseInt(be.slice(1),16))});return ac(ye.join(`\r
`))}function Tr(oe,ye,he){for(var me="",xe="",be="",He,Ze=0;Ze<10;++Ze){var $e=ye[Ze];if(!$e||$e.match(/^\s*$/))break;var nt=$e.match(/^(.*?):\s*([^\s].*)$/);if(nt)switch(nt[1].toLowerCase()){case"content-location":me=nt[2].trim();break;case"content-type":be=nt[2].trim();break;case"content-transfer-encoding":xe=nt[2].trim();break}}switch(++Ze,xe.toLowerCase()){case"base64":He=ac(Xh(ye.slice(Ze).join("")));break;case"quoted-printable":He=ar(ye.slice(Ze));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+xe)}var Ee=tr(oe,me.slice(he.length),He,{unsafe:!0});be&&(Ee.ctype=be)}function It(oe,ye){if(B(oe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var he=ye&&ye.root||"",me=(On&&Buffer.isBuffer(oe)?oe.toString("binary"):B(oe)).split(`\r
`),xe=0,be="";for(xe=0;xe<me.length;++xe)if(be=me[xe],!!/^Content-Location:/i.test(be)&&(be=be.slice(be.indexOf("file")),he||(he=be.slice(0,be.lastIndexOf("/")+1)),be.slice(0,he.length)!=he))for(;he.length>0&&(he=he.slice(0,he.length-1),he=he.slice(0,he.lastIndexOf("/")+1),be.slice(0,he.length)!=he););var He=(me[1]||"").match(/boundary="(.*?)"/);if(!He)throw new Error("MAD cannot find boundary");var Ze="--"+(He[1]||""),$e=[],nt=[],Ee={FileIndex:$e,FullPaths:nt};I(Ee);var rt,Bt=0;for(xe=0;xe<me.length;++xe){var jt=me[xe];jt!==Ze&&jt!==Ze+"--"||(Bt++&&Tr(Ee,me.slice(rt,xe),he),rt=xe)}return Ee}function Ir(oe,ye){var he=ye||{},me=he.boundary||"SheetJS";me="------="+me;for(var xe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+me.slice(2)+'"',"","",""],be=oe.FullPaths[0],He=be,Ze=oe.FileIndex[0],$e=1;$e<oe.FullPaths.length;++$e)if(He=oe.FullPaths[$e].slice(be.length),Ze=oe.FileIndex[$e],!(!Ze.size||!Ze.content||He=="Sh33tJ5")){He=He.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(it){return"_x"+it.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(it){return"_u"+it.charCodeAt(0).toString(16)+"_"});for(var nt=Ze.content,Ee=On&&Buffer.isBuffer(nt)?nt.toString("binary"):B(nt),rt=0,Bt=Math.min(1024,Ee.length),jt=0,Ae=0;Ae<=Bt;++Ae)(jt=Ee.charCodeAt(Ae))>=32&&jt<128&&++rt;var Re=rt>=Bt*4/5;xe.push(me),xe.push("Content-Location: "+(he.root||"file:///C:/SheetJS/")+He),xe.push("Content-Transfer-Encoding: "+(Re?"quoted-printable":"base64")),xe.push("Content-Type: "+Lt(Ze,He)),xe.push(""),xe.push(Re?_t(Ee):zt(Ee))}return xe.push(me+`--\r
`),xe.join(`\r
`)}function _r(oe){var ye={};return I(ye,oe),ye}function tr(oe,ye,he,me){var xe=me&&me.unsafe;xe||I(oe);var be=!xe&&si.find(oe,ye);if(!be){var He=oe.FullPaths[0];ye.slice(0,He.length)==He?He=ye:(He.slice(-1)!="/"&&(He+="/"),He=(He+ye).replace("//","/")),be={name:i(ye),type:2},oe.FileIndex.push(be),oe.FullPaths.push(He),xe||si.utils.cfb_gc(oe)}return be.content=he,be.size=he?he.length:0,me&&(me.CLSID&&(be.clsid=me.CLSID),me.mt&&(be.mt=me.mt),me.ct&&(be.ct=me.ct)),be}function je(oe,ye){I(oe);var he=si.find(oe,ye);if(he){for(var me=0;me<oe.FileIndex.length;++me)if(oe.FileIndex[me]==he)return oe.FileIndex.splice(me,1),oe.FullPaths.splice(me,1),!0}return!1}function Ye(oe,ye,he){I(oe);var me=si.find(oe,ye);if(me){for(var xe=0;xe<oe.FileIndex.length;++xe)if(oe.FileIndex[xe]==me)return oe.FileIndex[xe].name=i(he),oe.FullPaths[xe]=he,!0}return!1}function ht(oe){F(oe,!0)}return t.find=D,t.read=T,t.parse=c,t.write=O,t.writeFile=S,t.utils={cfb_new:_r,cfb_add:tr,cfb_del:je,cfb_mov:Ye,cfb_gc:ht,ReadShift:G2,CheckField:sue,prep_blob:Tl,bconcat:Ns,use_zlib:M,_deflateRaw:at,_inflateRaw:et,consts:C},t}();function T9e(r){return typeof r=="string"?P8(r):Array.isArray(r)?JDe(r):r}function o_(r,t,e){if(typeof Deno<"u"){if(e&&typeof t=="string")switch(e){case"utf8":t=new TextEncoder(e).encode(t);break;case"binary":t=P8(t);break;default:throw new Error("Unsupported encoding "+e)}return Deno.writeFileSync(r,t)}var n=e=="utf8"?cw(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,r);if(typeof Blob<"u"){var i=new Blob([T9e(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,r);if(typeof saveAs<"u")return saveAs(i,r);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:r,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=r,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(r);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=s_(t)),o.write(t),o.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+r)}function Qs(r){for(var t=Object.keys(r),e=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(r,t[n])&&e.push(t[n]);return e}function TK(r,t){for(var e=[],n=Qs(r),i=0;i!==n.length;++i)e[r[n[i]][t]]==null&&(e[r[n[i]][t]]=n[i]);return e}function vR(r){for(var t=[],e=Qs(r),n=0;n!==e.length;++n)t[r[e[n]]]=e[n];return t}function j8(r){for(var t=[],e=Qs(r),n=0;n!==e.length;++n)t[r[e[n]]]=parseInt(e[n],10);return t}function E9e(r){for(var t=[],e=Qs(r),n=0;n!==e.length;++n)t[r[e[n]]]==null&&(t[r[e[n]]]=[]),t[r[e[n]]].push(e[n]);return t}var X6=new Date(1899,11,30,0,0,0);function al(r,t){var e=r.getTime(),n=X6.getTime()+(r.getTimezoneOffset()-X6.getTimezoneOffset())*6e4;return(e-n)/(24*60*60*1e3)}var zle=new Date,k9e=X6.getTime()+(zle.getTimezoneOffset()-X6.getTimezoneOffset())*6e4,EK=zle.getTimezoneOffset();function Vle(r){var t=new Date;return t.setTime(r*24*60*60*1e3+k9e),t.getTimezoneOffset()!==EK&&t.setTime(t.getTime()+(t.getTimezoneOffset()-EK)*6e4),t}var kK=new Date("2017-02-19T19:06:09.000Z"),Gle=isNaN(kK.getFullYear())?new Date("2/19/17"):kK,N9e=Gle.getFullYear()==2017;function Io(r,t){var e=new Date(r);if(N9e)return t>0?e.setTime(e.getTime()+e.getTimezoneOffset()*60*1e3):t<0&&e.setTime(e.getTime()-e.getTimezoneOffset()*60*1e3),e;if(r instanceof Date)return r;if(Gle.getFullYear()==1917&&!isNaN(e.getFullYear())){var n=e.getFullYear();return r.indexOf(""+n)>-1||e.setFullYear(e.getFullYear()+100),e}var i=r.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return r.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function U8(r,t){if(On&&Buffer.isBuffer(r))return r.toString("binary");if(typeof TextDecoder<"u")try{var e={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(a){return e[a]||a})}catch{}for(var n=[],i=0;i!=r.length;++i)n.push(String.fromCharCode(r[i]));return n.join("")}function sl(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=sl(r[e]));return t}function Yi(r,t){for(var e="";e.length<t;)e+=r;return e}function Lh(r){var t=Number(r);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(r))return t;var e=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return e*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return e=-e,a}),!isNaN(t=Number(n)))?t/e:t}var F9e=["january","february","march","april","may","june","july","august","september","october","november","december"];function uw(r){var t=new Date(r),e=new Date(NaN),n=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return e;var s=r.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&F9e.indexOf(s)==-1)return e}else if(s.match(/[a-z]/))return e;return n<0||n>8099?e:(i>0||a>1)&&n!=101?t:r.match(/[^-0-9:,\/\\]/)?e:t}function hn(r,t,e){if(r.FullPaths){if(typeof e=="string"){var n;return On?n=id(e):n=e9e(e),si.utils.cfb_add(r,t,n)}si.utils.cfb_add(r,t,e)}else r.file(t,e)}function yR(){return si.utils.cfb_new()}var Da=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,I9e={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},xR=vR(I9e),bR=/[&<>'"]/g,M9e=/[\u0000-\u0008\u000b-\u001f]/g;function ti(r){var t=r+"";return t.replace(bR,function(e){return xR[e]}).replace(M9e,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"})}function NK(r){return ti(r).replace(/ /g,"_x0020_")}var Wle=/[\u0000-\u001f]/g;function L9e(r){var t=r+"";return t.replace(bR,function(e){return xR[e]}).replace(/\n/g,"<br/>").replace(Wle,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}function D9e(r){var t=r+"";return t.replace(bR,function(e){return xR[e]}).replace(Wle,function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"})}function P9e(r){return r.replace(/(\r\n|[\r\n])/g,"&#10;")}function R9e(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Lk(r){for(var t="",e=0,n=0,i=0,a=0,s=0,o=0;e<r.length;){if(n=r.charCodeAt(e++),n<128){t+=String.fromCharCode(n);continue}if(i=r.charCodeAt(e++),n>191&&n<224){s=(n&31)<<6,s|=i&63,t+=String.fromCharCode(s);continue}if(a=r.charCodeAt(e++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=r.charCodeAt(e++),o=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function FK(r){var t=Ng(2*r.length),e,n,i=1,a=0,s=0,o;for(n=0;n<r.length;n+=i)i=1,(o=r.charCodeAt(n))<128?e=o:o<224?(e=(o&31)*64+(r.charCodeAt(n+1)&63),i=2):o<240?(e=(o&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),i=3):(i=4,e=(o&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),e-=65536,s=55296+(e>>>10&1023),e=56320+(e&1023)),s!==0&&(t[a++]=s&255,t[a++]=s>>>8,s=0),t[a++]=e%256,t[a++]=e>>>8;return t.slice(0,a).toString("ucs2")}function IK(r){return id(r,"binary").toString("utf8")}var I4="foo bar baz",V2=On&&(IK(I4)==Lk(I4)&&IK||FK(I4)==Lk(I4)&&FK)||Lk,cw=On?function(r){return id(r,"utf8").toString("binary")}:function(r){for(var t=[],e=0,n=0,i=0;e<r.length;)switch(n=r.charCodeAt(e++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=r.charCodeAt(e++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},O9e=function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(e){for(var n=e.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<r.length;++i)n=n.replace(r[i][0],r[i][1]);return n}}(),$le=/(^\s|\s$|\n)/;function Fs(r,t){return"<"+r+(t.match($le)?' xml:space="preserve"':"")+">"+t+"</"+r+">"}function fw(r){return Qs(r).map(function(t){return" "+t+'="'+r[t]+'"'}).join("")}function qt(r,t,e){return"<"+r+(e!=null?fw(e):"")+(t!=null?(t.match($le)?' xml:space="preserve"':"")+">"+t+"</"+r:"/")+">"}function BM(r,t){try{return r.toISOString().replace(/\.\d*/,"")}catch(e){if(t)throw e}return""}function j9e(r,t){switch(typeof r){case"string":var e=qt("vt:lpwstr",ti(r));return e=e.replace(/&quot;/g,"_x0022_"),e;case"number":return qt((r|0)==r?"vt:i4":"vt:r8",ti(String(r)));case"boolean":return qt("vt:bool",r?"true":"false")}if(r instanceof Date)return qt("vt:filetime",BM(r));throw new Error("Unable to serialize "+r)}var fs={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},xy=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],El={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function U9e(r,t){for(var e=1-2*(r[t+7]>>>7),n=((r[t+7]&127)<<4)+(r[t+6]>>>4&15),i=r[t+6]&15,a=5;a>=0;--a)i=i*256+r[t+a];return n==2047?i==0?e*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),e*Math.pow(2,n-52)*i)}function H9e(r,t,e){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,s=n?-t:t;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var o=0;o<=5;++o,a/=256)r[e+o]=a&255;r[e+6]=(i&15)<<4|a&15,r[e+7]=i>>4|n}var MK=function(r){for(var t=[],e=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var i=0,a=r[0][n].length;i<a;i+=e)t.push.apply(t,r[0][n].slice(i,i+e));return t},LK=On?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(t){return Buffer.isBuffer(t)?t:id(t)})):MK(r)}:MK,DK=function(r,t,e){for(var n=[],i=t;i<e;i+=2)n.push(String.fromCharCode(a2(r,i)));return n.join("").replace(z2,"")},wR=On?function(r,t,e){return Buffer.isBuffer(r)?r.toString("utf16le",t,e).replace(z2,""):DK(r,t,e)}:DK,PK=function(r,t,e){for(var n=[],i=t;i<t+e;++i)n.push(("0"+r[i].toString(16)).slice(-2));return n.join("")},Kle=On?function(r,t,e){return Buffer.isBuffer(r)?r.toString("hex",t,t+e):PK(r,t,e)}:PK,RK=function(r,t,e){for(var n=[],i=t;i<e;i++)n.push(String.fromCharCode(sv(r,i)));return n.join("")},l_=On?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf8",e,n):RK(t,e,n)}:RK,qle=function(r,t){var e=kl(r,t);return e>0?l_(r,t+4,t+4+e-1):""},Xle=qle,Yle=function(r,t){var e=kl(r,t);return e>0?l_(r,t+4,t+4+e-1):""},Zle=Yle,Jle=function(r,t){var e=2*kl(r,t);return e>0?l_(r,t+4,t+4+e-1):""},eue=Jle,tue=function(t,e){var n=kl(t,e);return n>0?wR(t,e+4,e+4+n):""},rue=tue,nue=function(r,t){var e=kl(r,t);return e>0?l_(r,t+4,t+4+e):""},iue=nue,aue=function(r,t){return U9e(r,t)},Y6=aue,_R=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};On&&(Xle=function(t,e){if(!Buffer.isBuffer(t))return qle(t,e);var n=t.readUInt32LE(e);return n>0?t.toString("utf8",e+4,e+4+n-1):""},Zle=function(t,e){if(!Buffer.isBuffer(t))return Yle(t,e);var n=t.readUInt32LE(e);return n>0?t.toString("utf8",e+4,e+4+n-1):""},eue=function(t,e){if(!Buffer.isBuffer(t))return Jle(t,e);var n=2*t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+n-1)},rue=function(t,e){if(!Buffer.isBuffer(t))return tue(t,e);var n=t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+n)},iue=function(t,e){if(!Buffer.isBuffer(t))return nue(t,e);var n=t.readUInt32LE(e);return t.toString("utf8",e+4,e+4+n)},Y6=function(t,e){return Buffer.isBuffer(t)?t.readDoubleLE(e):aue(t,e)},_R=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var sv=function(r,t){return r[t]},a2=function(r,t){return r[t+1]*256+r[t]},Q9e=function(r,t){var e=r[t+1]*256+r[t];return e<32768?e:(65535-e+1)*-1},kl=function(r,t){return r[t+3]*(1<<24)+(r[t+2]<<16)+(r[t+1]<<8)+r[t]},Sp=function(r,t){return r[t+3]<<24|r[t+2]<<16|r[t+1]<<8|r[t]},z9e=function(r,t){return r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3]};function G2(r,t){var e="",n,i,a=[],s,o,l,u;switch(t){case"dbcs":if(u=this.l,On&&Buffer.isBuffer(this))e=this.slice(this.l,this.l+2*r).toString("utf16le");else for(l=0;l<r;++l)e+=String.fromCharCode(a2(this,u)),u+=2;r*=2;break;case"utf8":e=l_(this,this.l,this.l+r);break;case"utf16le":r*=2,e=wR(this,this.l,this.l+r);break;case"wstr":return G2.call(this,r,"dbcs");case"lpstr-ansi":e=Xle(this,this.l),r=4+kl(this,this.l);break;case"lpstr-cp":e=Zle(this,this.l),r=4+kl(this,this.l);break;case"lpwstr":e=eue(this,this.l),r=4+2*kl(this,this.l);break;case"lpp4":r=4+kl(this,this.l),e=rue(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+kl(this,this.l),e=iue(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,e="";(s=sv(this,this.l+r++))!==0;)a.push(k4(s));e=a.join("");break;case"_wstr":for(r=0,e="";(s=a2(this,this.l+r))!==0;)a.push(k4(s)),r+=2;r+=2,e=a.join("");break;case"dbcs-cont":for(e="",u=this.l,l=0;l<r;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=sv(this,u),this.l=u+1,o=G2.call(this,r-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(k4(a2(this,u))),u+=2}e=a.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(e="",u=this.l,l=0;l!=r;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=sv(this,u),this.l=u+1,o=G2.call(this,r-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(k4(sv(this,u))),u+=1}e=a.join("");break;default:switch(r){case 1:return n=sv(this,this.l),this.l++,n;case 2:return n=(t==="i"?Q9e:a2)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(r>0?Sp:z9e)(this,this.l),this.l+=4,n):(i=kl(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return r==8?i=Y6(this,this.l):i=Y6([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;r=8;case 16:e=Kle(this,this.l,r);break}}return this.l+=r,e}var V9e=function(r,t,e){r[e]=t&255,r[e+1]=t>>>8&255,r[e+2]=t>>>16&255,r[e+3]=t>>>24&255},G9e=function(r,t,e){r[e]=t&255,r[e+1]=t>>8&255,r[e+2]=t>>16&255,r[e+3]=t>>24&255},W9e=function(r,t,e){r[e]=t&255,r[e+1]=t>>>8&255};function $9e(r,t,e){var n=0,i=0;if(e==="dbcs"){for(i=0;i!=t.length;++i)W9e(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(e==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(e==="hex"){for(;i<r;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(e==="utf16le"){var a=Math.min(this.l+r,this.length);for(i=0;i<Math.min(t.length,r);++i){var s=t.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,V9e(this,t,this.l);break;case 8:if(n=8,e==="f"){H9e(this,t,this.l);break}case 16:break;case-4:n=4,G9e(this,t,this.l);break}return this.l+=n,this}function sue(r,t){var e=Kle(this,this.l,r.length>>1);if(e!==r)throw new Error(t+"Expected "+r+" saw "+e);this.l+=r.length>>1}function Tl(r,t){r.l=t,r.read_shift=G2,r.chk=sue,r.write_shift=$9e}function If(r,t){r.l+=t}function Tt(r){var t=Ng(r);return Tl(t,0),t}function nl(){var r=[],t=On?256:2048,e=function(u){var c=Tt(u);return Tl(c,0),c},n=e(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},a=function(u){return n&&u<n.length-n.l?n:(i(),n=e(Math.max(u+1,t)))},s=function(){return i(),Ns(r)},o=function(u){i(),n=u,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:o,end:s,_bufs:r}}function Dt(r,t,e,n){var i=+t,a;if(!isNaN(i)){n||(n=UHe[i].p||(e||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var s=r.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,(i&127)+128),s.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&_R(e)&&r.push(e)}}function W2(r,t,e){var n=sl(r);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!e||e.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function OK(r,t,e){var n=sl(r);return n.s=W2(n.s,t.s,e),n.e=W2(n.e,t.s,e),n}function $2(r,t){if(r.cRel&&r.c<0)for(r=sl(r);r.c<0;)r.c+=t>8?16384:256;if(r.rRel&&r.r<0)for(r=sl(r);r.r<0;)r.r+=t>8?1048576:t>5?65536:16384;var e=ii(r);return!r.cRel&&r.cRel!=null&&(e=X9e(e)),!r.rRel&&r.rRel!=null&&(e=K9e(e)),e}function Dk(r,t){return r.s.r==0&&!r.s.rRel&&r.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+uo(r.s.c)+":"+(r.e.cRel?"":"$")+uo(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(t.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+Ps(r.s.r)+":"+(r.e.rRel?"":"$")+Ps(r.e.r):$2(r.s,t.biff)+":"+$2(r.e,t.biff)}function SR(r){return parseInt(q9e(r),10)-1}function Ps(r){return""+(r+1)}function K9e(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function q9e(r){return r.replace(/\$(\d+)$/,"$1")}function CR(r){for(var t=Y9e(r),e=0,n=0;n!==t.length;++n)e=26*e+t.charCodeAt(n)-64;return e-1}function uo(r){if(r<0)throw new Error("invalid column "+r);var t="";for(++r;r;r=Math.floor((r-1)/26))t=String.fromCharCode((r-1)%26+65)+t;return t}function X9e(r){return r.replace(/^([A-Z])/,"$$$1")}function Y9e(r){return r.replace(/^\$([A-Z])/,"$1")}function Z9e(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ds(r){for(var t=0,e=0,n=0;n<r.length;++n){var i=r.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(e=26*e+(i-64))}return{c:e-1,r:t-1}}function ii(r){for(var t=r.c+1,e="";t;t=(t-1)/26|0)e=String.fromCharCode((t-1)%26+65)+e;return e+(r.r+1)}function zl(r){var t=r.indexOf(":");return t==-1?{s:ds(r),e:ds(r)}:{s:ds(r.slice(0,t)),e:ds(r.slice(t+1))}}function Fa(r,t){return typeof t>"u"||typeof t=="number"?Fa(r.s,r.e):(typeof r!="string"&&(r=ii(r)),typeof t!="string"&&(t=ii(t)),r==t?r:r+":"+t)}function Bi(r){var t={s:{c:0,r:0},e:{c:0,r:0}},e=0,n=0,i=0,a=r.length;for(e=0;n<a&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)e=26*e+i;for(t.s.c=--e,e=0;n<a&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)e=10*e+i;if(t.s.r=--e,n===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,e=0;n!=a&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)e=26*e+i;for(t.e.c=--e,e=0;n!=a&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)e=10*e+i;return t.e.r=--e,t}function jK(r,t){var e=r.t=="d"&&t instanceof Date;if(r.z!=null)try{return r.w=t0(r.z,e?al(t):t)}catch{}try{return r.w=t0((r.XF||{}).numFmtId||(e?14:0),e?al(t):t)}catch{return""+t}}function Yh(r,t,e){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&e&&e.dateNF&&(r.z=e.dateNF),r.t=="e"?u_[r.v]||r.v:t==null?jK(r,r.v):jK(r,t))}function Kg(r,t){var e=t&&t.sheet?t.sheet:"Sheet1",n={};return n[e]=r,{SheetNames:[e],Sheets:n}}function oue(r,t,e){var n=e||{},i=r?Array.isArray(r):n.dense,a=r||(i?[]:{}),s=0,o=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?ds(n.origin):n.origin;s=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var c=Bi(a["!ref"]);u.s.c=c.s.c,u.s.r=c.s.r,u.e.c=Math.max(u.e.c,c.e.c),u.e.r=Math.max(u.e.r,c.e.r),s==-1&&(u.e.r=s=c.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var d={v:t[f][h]},A=s+f,p=o+h;if(u.s.r>A&&(u.s.r=A),u.s.c>p&&(u.s.c=p),u.e.r<A&&(u.e.r=A),u.e.c<p&&(u.e.c=p),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))d=t[f][h];else if(Array.isArray(d.v)&&(d.f=t[f][h][1],d.v=d.v[0]),d.v===null)if(d.f)d.t="n";else if(n.nullError)d.t="e",d.v=0;else if(n.sheetStubs)d.t="z";else continue;else typeof d.v=="number"?d.t="n":typeof d.v=="boolean"?d.t="b":d.v instanceof Date?(d.z=n.dateNF||na[14],n.cellDates?(d.t="d",d.w=t0(d.z,al(d.v))):(d.t="n",d.v=al(d.v),d.w=t0(d.z,d.v))):d.t="s";if(i)a[A]||(a[A]=[]),a[A][p]&&a[A][p].z&&(d.z=a[A][p].z),a[A][p]=d;else{var g=ii({c:p,r:A});a[g]&&a[g].z&&(d.z=a[g].z),a[g]=d}}}return u.s.c<1e7&&(a["!ref"]=Fa(u)),a}function by(r,t){return oue(null,r,t)}function J9e(r){return r.read_shift(4,"i")}function mc(r,t){return t||(t=Tt(4)),t.write_shift(4,r),t}function co(r){var t=r.read_shift(4);return t===0?"":r.read_shift(t,"dbcs")}function As(r,t){var e=!1;return t==null&&(e=!0,t=Tt(4+2*r.length)),t.write_shift(4,r.length),r.length>0&&t.write_shift(0,r,"dbcs"),e?t.slice(0,t.l):t}function ePe(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function tPe(r,t){return t||(t=Tt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function BR(r,t){var e=r.l,n=r.read_shift(1),i=co(r),a=[],s={t:i,h:i};if(n&1){for(var o=r.read_shift(4),l=0;l!=o;++l)a.push(ePe(r));s.r=a}else s.r=[{ich:0,ifnt:0}];return r.l=e+t,s}function rPe(r,t){var e=!1;return t==null&&(e=!0,t=Tt(15+4*r.t.length)),t.write_shift(1,0),As(r.t,t),e?t.slice(0,t.l):t}var nPe=BR;function iPe(r,t){var e=!1;return t==null&&(e=!0,t=Tt(23+4*r.t.length)),t.write_shift(1,1),As(r.t,t),t.write_shift(4,1),tPe({ich:0,ifnt:0},t),e?t.slice(0,t.l):t}function Pu(r){var t=r.read_shift(4),e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:t,iStyleRef:e}}function qg(r,t){return t==null&&(t=Tt(8)),t.write_shift(-4,r.c),t.write_shift(3,r.iStyleRef||r.s),t.write_shift(1,0),t}function Xg(r){var t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:t}}function Yg(r,t){return t==null&&(t=Tt(4)),t.write_shift(3,r.iStyleRef||r.s),t.write_shift(1,0),t}var aPe=co,lue=As;function TR(r){var t=r.read_shift(4);return t===0||t===4294967295?"":r.read_shift(t,"dbcs")}function Z6(r,t){var e=!1;return t==null&&(e=!0,t=Tt(127)),t.write_shift(4,r.length>0?r.length:4294967295),r.length>0&&t.write_shift(0,r,"dbcs"),e?t.slice(0,t.l):t}var sPe=co,TM=TR,ER=Z6;function uue(r){var t=r.slice(r.l,r.l+4),e=t[0]&1,n=t[0]&2;r.l+=4;var i=n===0?Y6([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Sp(t,0)>>2;return e?i/100:i}function cue(r,t){t==null&&(t=Tt(4));var e=0,n=0,i=r*100;if(r==(r|0)&&r>=-(1<<29)&&r<1<<29?n=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(n=1,e=1),n)t.write_shift(-4,((e?i:r)<<2)+(e+2));else throw new Error("unsupported RkNumber "+r)}function fue(r){var t={s:{},e:{}};return t.s.r=r.read_shift(4),t.e.r=r.read_shift(4),t.s.c=r.read_shift(4),t.e.c=r.read_shift(4),t}function oPe(r,t){return t||(t=Tt(16)),t.write_shift(4,r.s.r),t.write_shift(4,r.e.r),t.write_shift(4,r.s.c),t.write_shift(4,r.e.c),t}var Zg=fue,wy=oPe;function _y(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function Fg(r,t){return(t||Tt(8)).write_shift(8,r,"f")}function lPe(r){var t={},e=r.read_shift(1),n=e>>>1,i=r.read_shift(1),a=r.read_shift(2,"i"),s=r.read_shift(1),o=r.read_shift(1),l=r.read_shift(1);switch(r.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var u=mPe[i];u&&(t.rgb=XK(u));break;case 2:t.rgb=XK([s,o,l]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function J6(r,t){if(t||(t=Tt(8)),!r||r.auto)return t.write_shift(4,0),t.write_shift(4,0),t;r.index!=null?(t.write_shift(1,2),t.write_shift(1,r.index)):r.theme!=null?(t.write_shift(1,6),t.write_shift(1,r.theme)):(t.write_shift(1,5),t.write_shift(1,0));var e=r.tint||0;if(e>0?e*=32767:e<0&&(e*=32768),t.write_shift(2,e),!r.rgb||r.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=r.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function uPe(r){var t=r.read_shift(1);r.l++;var e={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return e}function cPe(r,t){t||(t=Tt(2));var e=(r.italic?2:0)|(r.strike?8:0)|(r.outline?16:0)|(r.shadow?32:0)|(r.condense?64:0)|(r.extend?128:0);return t.write_shift(1,e),t.write_shift(1,0),t}var hue=2,_l=3,M4=11,eC=19,L4=64,fPe=65,hPe=71,dPe=4108,APe=4126,Ts=80,UK={1:{n:"CodePage",t:hue},2:{n:"Category",t:Ts},3:{n:"PresentationFormat",t:Ts},4:{n:"ByteCount",t:_l},5:{n:"LineCount",t:_l},6:{n:"ParagraphCount",t:_l},7:{n:"SlideCount",t:_l},8:{n:"NoteCount",t:_l},9:{n:"HiddenCount",t:_l},10:{n:"MultimediaClipCount",t:_l},11:{n:"ScaleCrop",t:M4},12:{n:"HeadingPairs",t:dPe},13:{n:"TitlesOfParts",t:APe},14:{n:"Manager",t:Ts},15:{n:"Company",t:Ts},16:{n:"LinksUpToDate",t:M4},17:{n:"CharacterCount",t:_l},19:{n:"SharedDoc",t:M4},22:{n:"HyperlinksChanged",t:M4},23:{n:"AppVersion",t:_l,p:"version"},24:{n:"DigSig",t:fPe},26:{n:"ContentType",t:Ts},27:{n:"ContentStatus",t:Ts},28:{n:"Language",t:Ts},29:{n:"Version",t:Ts},255:{},2147483648:{n:"Locale",t:eC},2147483651:{n:"Behavior",t:eC},1919054434:{}},HK={1:{n:"CodePage",t:hue},2:{n:"Title",t:Ts},3:{n:"Subject",t:Ts},4:{n:"Author",t:Ts},5:{n:"Keywords",t:Ts},6:{n:"Comments",t:Ts},7:{n:"Template",t:Ts},8:{n:"LastAuthor",t:Ts},9:{n:"RevNumber",t:Ts},10:{n:"EditTime",t:L4},11:{n:"LastPrinted",t:L4},12:{n:"CreatedDate",t:L4},13:{n:"ModifiedDate",t:L4},14:{n:"PageCount",t:_l},15:{n:"WordCount",t:_l},16:{n:"CharCount",t:_l},17:{n:"Thumbnail",t:hPe},18:{n:"Application",t:Ts},19:{n:"DocSecurity",t:_l},255:{},2147483648:{n:"Locale",t:eC},2147483651:{n:"Behavior",t:eC},1919054434:{}};function pPe(r){return r.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var gPe=pPe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),mPe=sl(gPe),u_={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},vPe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},D4={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function due(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Aue(r,t){var e=E9e(vPe),n=[],i;n[n.length]=Da,n[n.length]=qt("Types",null,{xmlns:fs.CT,"xmlns:xsd":fs.xsd,"xmlns:xsi":fs.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return qt("Default",null,{Extension:l[0],ContentType:l[1]})}));var a=function(l){r[l]&&r[l].length>0&&(i=r[l][0],n[n.length]=qt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:D4[l][t.bookType]||D4[l].xlsx}))},s=function(l){(r[l]||[]).forEach(function(u){n[n.length]=qt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:D4[l][t.bookType]||D4[l].xlsx})})},o=function(l){(r[l]||[]).forEach(function(u){n[n.length]=qt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:e[l][0]})})};return a("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Dn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function pue(r){var t=r.lastIndexOf("/");return r.slice(0,t+1)+"_rels/"+r.slice(t+1)+".rels"}function qv(r){var t=[Da,qt("Relationships",null,{xmlns:fs.RELS})];return Qs(r["!id"]).forEach(function(e){t[t.length]=qt("Relationship",null,r["!id"][e])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Zn(r,t,e,n,i,a){if(i||(i={}),r["!id"]||(r["!id"]={}),r["!idx"]||(r["!idx"]=1),t<0)for(t=r["!idx"];r["!id"]["rId"+t];++t);if(r["!idx"]=t+1,i.Id="rId"+t,i.Type=n,i.Target=e,[Dn.HLINK,Dn.XPATH,Dn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),r["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return r["!id"][i.Id]=i,r[("/"+i.Target).replace("//","/")]=i,t}function yPe(r){var t=[Da];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var e=0;e<r.length;++e)t.push('  <manifest:file-entry manifest:full-path="'+r[e][0]+'" manifest:media-type="'+r[e][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function QK(r,t,e){return['  <rdf:Description rdf:about="'+r+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(e||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function xPe(r,t){return['  <rdf:Description rdf:about="'+r+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function bPe(r){var t=[Da];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var e=0;e!=r.length;++e)t.push(QK(r[e][0],r[e][1])),t.push(xPe("",r[e][0]));return t.push(QK("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function gue(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+W6.version+"</meta:generator></office:meta></office:document-meta>"}var ug=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Pk(r,t,e,n,i){i[r]!=null||t==null||t===""||(i[r]=t,t=ti(t),n[n.length]=e?qt(r,t,e):Fs(r,t))}function mue(r,t){var e=t||{},n=[Da,qt("cp:coreProperties",null,{"xmlns:cp":fs.CORE_PROPS,"xmlns:dc":fs.dc,"xmlns:dcterms":fs.dcterms,"xmlns:dcmitype":fs.dcmitype,"xmlns:xsi":fs.xsi})],i={};if(!r&&!e.Props)return n.join("");r&&(r.CreatedDate!=null&&Pk("dcterms:created",typeof r.CreatedDate=="string"?r.CreatedDate:BM(r.CreatedDate,e.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),r.ModifiedDate!=null&&Pk("dcterms:modified",typeof r.ModifiedDate=="string"?r.ModifiedDate:BM(r.ModifiedDate,e.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var a=0;a!=ug.length;++a){var s=ug[a],o=e.Props&&e.Props[s[1]]!=null?e.Props[s[1]]:r?r[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&Pk(s[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Xv=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],vue=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function yue(r){var t=[],e=qt;return r||(r={}),r.Application="SheetJS",t[t.length]=Da,t[t.length]=qt("Properties",null,{xmlns:fs.EXT_PROPS,"xmlns:vt":fs.vt}),Xv.forEach(function(n){if(r[n[1]]!==void 0){var i;switch(n[2]){case"string":i=ti(String(r[n[1]]));break;case"bool":i=r[n[1]]?"true":"false";break}i!==void 0&&(t[t.length]=e(n[0],i))}}),t[t.length]=e("HeadingPairs",e("vt:vector",e("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+e("vt:variant",e("vt:i4",String(r.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=e("TitlesOfParts",e("vt:vector",r.SheetNames.map(function(n){return"<vt:lpstr>"+ti(n)+"</vt:lpstr>"}).join(""),{size:r.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function xue(r){var t=[Da,qt("Properties",null,{xmlns:fs.CUST_PROPS,"xmlns:vt":fs.vt})];if(!r)return t.join("");var e=1;return Qs(r).forEach(function(i){++e,t[t.length]=qt("property",j9e(r[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e,name:ti(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var zK={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function wPe(r,t){var e=[];return Qs(zK).map(function(n){for(var i=0;i<ug.length;++i)if(ug[i][1]==n)return ug[i];for(i=0;i<Xv.length;++i)if(Xv[i][1]==n)return Xv[i];throw n}).forEach(function(n){if(r[n[1]]!=null){var i=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:r[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),e.push(Fs(zK[n[1]]||n[1],i))}}),qt("DocumentProperties",e.join(""),{xmlns:El.o})}function _Pe(r,t){var e=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return r&&Qs(r).forEach(function(a){if(Object.prototype.hasOwnProperty.call(r,a)){for(var s=0;s<ug.length;++s)if(a==ug[s][1])return;for(s=0;s<Xv.length;++s)if(a==Xv[s][1])return;for(s=0;s<e.length;++s)if(a==e[s])return;var o=r[a],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(qt(NK(a),o,{"dt:dt":l}))}}),t&&Qs(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)&&!(r&&Object.prototype.hasOwnProperty.call(r,a))){var s=t[a],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),i.push(qt(NK(a),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+El.o+'">'+i.join("")+"</"+n+">"}function SPe(r){var t=typeof r=="string"?new Date(Date.parse(r)):r,e=t.getTime()/1e3+11644473600,n=e%Math.pow(2,32),i=(e-n)/Math.pow(2,32);n*=1e7,i*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),i+=a);var s=Tt(8);return s.write_shift(4,n),s.write_shift(4,i),s}function VK(r,t){var e=Tt(4),n=Tt(4);switch(e.write_shift(4,r==80?31:r),r){case 3:n.write_shift(-4,t);break;case 5:n=Tt(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=SPe(t);break;case 31:case 80:for(n=Tt(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+t)}return Ns([e,n])}var bue=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function CPe(r){switch(typeof r){case"boolean":return 11;case"number":return(r|0)==r?3:5;case"string":return 31;case"object":if(r instanceof Date)return 64;break}return-1}function GK(r,t,e){var n=Tt(8),i=[],a=[],s=8,o=0,l=Tt(8),u=Tt(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),a.push(l),i.push(u),s+=8+l.length,!t){u=Tt(8),u.write_shift(4,0),i.unshift(u);var c=[Tt(4)];for(c[0].write_shift(4,r.length),o=0;o<r.length;++o){var f=r[o][0];for(l=Tt(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);c.push(l)}l=Ns(c),a.unshift(l),s+=8+l.length}for(o=0;o<r.length;++o)if(!(t&&!t[r[o][0]])&&!(bue.indexOf(r[o][0])>-1||vue.indexOf(r[o][0])>-1)&&r[o][1]!=null){var h=r[o][1],d=0;if(t){d=+t[r[o][0]];var A=e[d];if(A.p=="version"&&typeof h=="string"){var p=h.split(".");h=(+p[0]<<16)+(+p[1]||0)}l=VK(A.t,h)}else{var g=CPe(h);g==-1&&(g=31,h=String(h)),l=VK(g,h)}a.push(l),u=Tt(8),u.write_shift(4,t?d:2+o),i.push(u),s+=8+l.length}var m=8*(a.length+1);for(o=0;o<a.length;++o)i[o].write_shift(4,m),m+=a[o].length;return n.write_shift(4,s),n.write_shift(4,a.length),Ns([n].concat(i).concat(a))}function WK(r,t,e,n,i,a){var s=Tt(i?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,si.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,i?68:48);var l=GK(r,e,n);if(o.push(l),i){var u=GK(i,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+l.length),o.push(u)}return Ns(o)}function BPe(r,t){t||(t=Tt(r));for(var e=0;e<r;++e)t.write_shift(1,0);return t}function TPe(r,t){return r.read_shift(t)===1}function To(r,t){return t||(t=Tt(2)),t.write_shift(2,+!!r),t}function wue(r){return r.read_shift(2,"u")}function fu(r,t){return t||(t=Tt(2)),t.write_shift(2,r),t}function _ue(r,t,e){return e||(e=Tt(2)),e.write_shift(1,t=="e"?+r:+!!r),e.write_shift(1,t=="e"?1:0),e}function Sue(r,t,e){var n=r.read_shift(e&&e.biff>=12?2:1),i="sbcs-cont";if(e&&e.biff>=8,!e||e.biff==8){var a=r.read_shift(1);a&&(i="dbcs-cont")}else e.biff==12&&(i="wstr");e.biff>=2&&e.biff<=5&&(i="cpstr");var s=n?r.read_shift(n,i):"";return s}function EPe(r){var t=r.t||"",e=Tt(3);e.write_shift(2,t.length),e.write_shift(1,1);var n=Tt(2*t.length);n.write_shift(2*t.length,t,"utf16le");var i=[e,n];return Ns(i)}function kPe(r,t,e){var n;if(e){if(e.biff>=2&&e.biff<=5)return r.read_shift(t,"cpstr");if(e.biff>=12)return r.read_shift(t,"dbcs-cont")}var i=r.read_shift(1);return i===0?n=r.read_shift(t,"sbcs-cont"):n=r.read_shift(t,"dbcs-cont"),n}function NPe(r,t,e){var n=r.read_shift(e&&e.biff==2?1:2);return n===0?(r.l++,""):kPe(r,n,e)}function FPe(r,t,e){if(e.biff>5)return NPe(r,t,e);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,e.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function Cue(r,t,e){return e||(e=Tt(3+2*r.length)),e.write_shift(2,r.length),e.write_shift(1,1),e.write_shift(31,r,"utf16le"),e}function $K(r,t){t||(t=Tt(6+r.length*2)),t.write_shift(4,1+r.length);for(var e=0;e<r.length;++e)t.write_shift(2,r.charCodeAt(e));return t.write_shift(2,0),t}function IPe(r){var t=Tt(512),e=0,n=r.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),a=i>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}t.write_shift(4,2),t.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(e=0;e<s.length;++e)t.write_shift(4,s[e]);if(a==28)n=n.slice(1),$K(n,t);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),e=0;e<s.length;++e)t.write_shift(1,parseInt(s[e],16));var o=i>-1?n.slice(0,i):n;for(t.write_shift(4,2*(o.length+1)),e=0;e<o.length;++e)t.write_shift(2,o.charCodeAt(e));t.write_shift(2,0),a&8&&$K(i>-1?n.slice(i+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),e=0;e<s.length;++e)t.write_shift(1,parseInt(s[e],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),e=0;e<n.length-3*l;++e)t.write_shift(1,n.charCodeAt(e+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),e=0;e<6;++e)t.write_shift(4,0)}return t.slice(0,t.l)}function Ig(r,t,e,n){return n||(n=Tt(6)),n.write_shift(2,r),n.write_shift(2,t),n.write_shift(2,e||0),n}function MPe(r,t,e){var n=e.biff>8?4:2,i=r.read_shift(n),a=r.read_shift(n,"i"),s=r.read_shift(n,"i");return[i,a,s]}function LPe(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2);return{s:{c:n,r:t},e:{c:i,r:e}}}function Bue(r,t){return t||(t=Tt(8)),t.write_shift(2,r.s.r),t.write_shift(2,r.e.r),t.write_shift(2,r.s.c),t.write_shift(2,r.e.c),t}function kR(r,t,e){var n=1536,i=16;switch(e.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=Tt(i);return a.write_shift(2,n),a.write_shift(2,t),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function DPe(r,t){var e=!t||t.biff==8,n=Tt(e?112:54);for(n.write_shift(t.biff==8?2:1,7),e&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(e?0:536870912));n.l<n.length;)n.write_shift(1,e?0:32);return n}function PPe(r,t){var e=!t||t.biff>=8?2:1,n=Tt(8+e*r.name.length);n.write_shift(4,r.pos),n.write_shift(1,r.hs||0),n.write_shift(1,r.dt),n.write_shift(1,r.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(e*r.name.length,r.name,t.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function RPe(r,t){var e=Tt(8);e.write_shift(4,r.Count),e.write_shift(4,r.Unique);for(var n=[],i=0;i<r.length;++i)n[i]=EPe(r[i]);var a=Ns([e].concat(n));return a.parts=[e.length].concat(n.map(function(s){return s.length})),a}function OPe(){var r=Tt(18);return r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,29280),r.write_shift(2,17600),r.write_shift(2,56),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,1),r.write_shift(2,500),r}function jPe(r){var t=Tt(18),e=1718;return r&&r.RTL&&(e|=64),t.write_shift(2,e),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function UPe(r,t){var e=r.name||"Arial",n=t&&t.biff==5,i=n?15+e.length:16+2*e.length,a=Tt(i);return a.write_shift(2,(r.sz||12)*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,e.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*e.length,e,n?"sbcs":"utf16le"),a}function HPe(r,t,e,n){var i=Tt(10);return Ig(r,t,n,i),i.write_shift(4,e),i}function QPe(r,t,e,n,i){var a=!i||i.biff==8,s=Tt(8+ +a+(1+a)*e.length);return Ig(r,t,n,s),s.write_shift(2,e.length),a&&s.write_shift(1,1),s.write_shift((1+a)*e.length,e,a?"utf16le":"sbcs"),s}function zPe(r,t,e,n){var i=e&&e.biff==5;n||(n=Tt(i?3+t.length:5+2*t.length)),n.write_shift(2,r),n.write_shift(i?1:2,t.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function VPe(r,t){var e=t.biff==8||!t.biff?4:2,n=Tt(2*e+6);return n.write_shift(e,r.s.r),n.write_shift(e,r.e.r+1),n.write_shift(2,r.s.c),n.write_shift(2,r.e.c+1),n.write_shift(2,0),n}function KK(r,t,e,n){var i=e&&e.biff==5;n||(n=Tt(i?16:20)),n.write_shift(2,0),r.style?(n.write_shift(2,r.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,r.numFmtId||0),n.write_shift(2,t<<4));var a=0;return r.numFmtId>0&&i&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function GPe(r){var t=Tt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function WPe(r,t,e,n,i,a){var s=Tt(8);return Ig(r,t,n,s),_ue(e,a,s),s}function $Pe(r,t,e,n){var i=Tt(14);return Ig(r,t,n,i),Fg(e,i),i}function KPe(r,t,e){if(e.biff<8)return qPe(r,t,e);for(var n=[],i=r.l+t,a=r.read_shift(e.biff>8?4:2);a--!==0;)n.push(MPe(r,e.biff>8?12:6,e));if(r.l!=i)throw new Error("Bad ExternSheet: "+r.l+" != "+i);return n}function qPe(r,t,e){r[r.l+1]==3&&r[r.l]++;var n=Sue(r,t,e);return n.charCodeAt(0)==3?n.slice(1):n}function XPe(r){var t=Tt(2+r.length*8);t.write_shift(2,r.length);for(var e=0;e<r.length;++e)Bue(r[e],t);return t}function YPe(r){var t=Tt(24),e=ds(r[0]);t.write_shift(2,e.r),t.write_shift(2,e.r),t.write_shift(2,e.c),t.write_shift(2,e.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(n[i],16));return Ns([t,IPe(r[1])])}function ZPe(r){var t=r[1].Tooltip,e=Tt(10+2*(t.length+1));e.write_shift(2,2048);var n=ds(r[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var i=0;i<t.length;++i)e.write_shift(2,t.charCodeAt(i));return e.write_shift(2,0),e}function JPe(r){return r||(r=Tt(4)),r.write_shift(2,1),r.write_shift(2,1),r}function eRe(r,t,e){if(!e.cellStyles)return If(r,t);var n=e&&e.biff>=12?4:2,i=r.read_shift(n),a=r.read_shift(n),s=r.read_shift(n),o=r.read_shift(n),l=r.read_shift(2);n==2&&(r.l+=2);var u={s:i,e:a,w:s,ixfe:o,flags:l};return(e.biff>=5||!e.biff)&&(u.level=l>>8&7),u}function tRe(r,t){var e=Tt(12);e.write_shift(2,t),e.write_shift(2,t),e.write_shift(2,r.width*256),e.write_shift(2,0);var n=0;return r.hidden&&(n|=1),e.write_shift(1,n),n=r.level||0,e.write_shift(1,n),e.write_shift(2,0),e}function rRe(r){for(var t=Tt(2*r),e=0;e<r;++e)t.write_shift(2,e+1);return t}function nRe(r,t,e){var n=Tt(15);return f_(n,r,t),n.write_shift(8,e,"f"),n}function iRe(r,t,e){var n=Tt(9);return f_(n,r,t),n.write_shift(2,e),n}var aRe=function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=vR({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function e(o,l){var u=[],c=Ng(1);switch(l.type){case"base64":c=ac(Xh(o));break;case"binary":c=ac(o);break;case"buffer":case"array":c=o;break}Tl(c,0);var f=c.read_shift(1),h=!!(f&136),d=!1,A=!1;switch(f){case 2:break;case 3:break;case 48:d=!0,h=!0;break;case 49:d=!0,h=!0;break;case 131:break;case 139:break;case 140:A=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,g=521;f==2&&(p=c.read_shift(2)),c.l+=3,f!=2&&(p=c.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(g=c.read_shift(2));var m=c.read_shift(2),v=l.codepage||1252;f!=2&&(c.l+=16,c.read_shift(1),c[c.l]!==0&&(v=r[c[c.l]]),c.l+=1,c.l+=2),A&&(c.l+=36);for(var y=[],b={},_=Math.min(c.length,f==2?521:g-10-(d?264:0)),T=A?32:11;c.l<_&&c[c.l]!=13;)switch(b={},b.name=_p.utils.decode(v,c.slice(c.l,c.l+T)).replace(/[\u0000\r\n].*$/g,""),c.l+=T,b.type=String.fromCharCode(c.read_shift(1)),f!=2&&!A&&(b.offset=c.read_shift(4)),b.len=c.read_shift(1),f==2&&(b.offset=c.read_shift(2)),b.dec=c.read_shift(1),b.name.length&&y.push(b),f!=2&&(c.l+=A?13:14),b.type){case"B":(!d||b.len!=8)&&l.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+b.type)}if(c[c.l]!==13&&(c.l=g-1),c.read_shift(1)!==13)throw new Error("DBF Terminator not found "+c.l+" "+c[c.l]);c.l=g;var I=0,N=0;for(u[0]=[],N=0;N!=y.length;++N)u[0][N]=y[N].name;for(;p-- >0;){if(c[c.l]===42){c.l+=m;continue}for(++c.l,u[++I]=[],N=0,N=0;N!=y.length;++N){var F=c.slice(c.l,c.l+y[N].len);c.l+=y[N].len,Tl(F,0);var P=_p.utils.decode(v,F);switch(y[N].type){case"C":P.trim().length&&(u[I][N]=P.replace(/\s+$/,""));break;case"D":P.length===8?u[I][N]=new Date(+P.slice(0,4),+P.slice(4,6)-1,+P.slice(6,8)):u[I][N]=P;break;case"F":u[I][N]=parseFloat(P.trim());break;case"+":case"I":u[I][N]=A?F.read_shift(-4,"i")^2147483648:F.read_shift(4,"i");break;case"L":switch(P.trim().toUpperCase()){case"Y":case"T":u[I][N]=!0;break;case"N":case"F":u[I][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+P+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[I][N]="##MEMO##"+(A?parseInt(P.trim(),10):F.read_shift(4));break;case"N":P=P.replace(/\u0000/g,"").trim(),P&&P!="."&&(u[I][N]=+P||0);break;case"@":u[I][N]=new Date(F.read_shift(-8,"f")-621356832e5);break;case"T":u[I][N]=new Date((F.read_shift(4)-2440588)*864e5+F.read_shift(4));break;case"Y":u[I][N]=F.read_shift(4,"i")/1e4+F.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[I][N]=-F.read_shift(-8,"f");break;case"B":if(d&&y[N].len==8){u[I][N]=F.read_shift(8,"f");break}case"G":case"P":F.l+=y[N].len;break;case"0":if(y[N].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[N].type)}}}if(f!=2&&c.l<c.length&&c[c.l++]!=26)throw new Error("DBF EOF Marker missing "+(c.l-1)+" of "+c.length+" "+c[c.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=y,u}function n(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var c=by(e(o,u),u);return c["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,c}function i(o,l){try{return Kg(n(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var u=l||{};if(+u.codepage>=0&&ow(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var c=nl(),f=aC(o,{header:1,raw:!0,cellDates:!0}),h=f[0],d=f.slice(1),A=o["!cols"]||[],p=0,g=0,m=0,v=1;for(p=0;p<h.length;++p){if(((A[p]||{}).DBF||{}).name){h[p]=A[p].DBF.name,++m;continue}if(h[p]!=null){if(++m,typeof h[p]=="number"&&(h[p]=h[p].toString(10)),typeof h[p]!="string")throw new Error("DBF Invalid column name "+h[p]+" |"+typeof h[p]+"|");if(h.indexOf(h[p])!==p){for(g=0;g<1024;++g)if(h.indexOf(h[p]+"_"+g)==-1){h[p]+="_"+g;break}}}}var y=Bi(o["!ref"]),b=[],_=[],T=[];for(p=0;p<=y.e.c-y.s.c;++p){var I="",N="",F=0,P=[];for(g=0;g<d.length;++g)d[g][p]!=null&&P.push(d[g][p]);if(P.length==0||h[p]==null){b[p]="?";continue}for(g=0;g<P.length;++g){switch(typeof P[g]){case"number":N="B";break;case"string":N="C";break;case"boolean":N="L";break;case"object":N=P[g]instanceof Date?"D":"C";break;default:N="C"}F=Math.max(F,String(P[g]).length),I=I&&I!=N?"C":N}F>250&&(F=250),N=((A[p]||{}).DBF||{}).type,N=="C"&&A[p].DBF.len>F&&(F=A[p].DBF.len),I=="B"&&N=="N"&&(I="N",T[p]=A[p].DBF.dec,F=A[p].DBF.len),_[p]=I=="C"||N=="N"?F:a[I]||0,v+=_[p],b[p]=I}var D=c.next(32);for(D.write_shift(4,318902576),D.write_shift(4,d.length),D.write_shift(2,296+32*m),D.write_shift(2,v),p=0;p<4;++p)D.write_shift(4,0);for(D.write_shift(4,0|(+t[Ele]||3)<<8),p=0,g=0;p<h.length;++p)if(h[p]!=null){var R=c.next(32),E=(h[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);R.write_shift(1,E,"sbcs"),R.write_shift(1,b[p]=="?"?"C":b[p],"sbcs"),R.write_shift(4,g),R.write_shift(1,_[p]||a[b[p]]||0),R.write_shift(1,T[p]||0),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(1,0),R.write_shift(4,0),R.write_shift(4,0),g+=_[p]||a[b[p]]||0}var L=c.next(264);for(L.write_shift(4,13),p=0;p<65;++p)L.write_shift(4,0);for(p=0;p<d.length;++p){var k=c.next(v);for(k.write_shift(1,0),g=0;g<h.length;++g)if(h[g]!=null)switch(b[g]){case"L":k.write_shift(1,d[p][g]==null?63:d[p][g]?84:70);break;case"B":k.write_shift(8,d[p][g]||0,"f");break;case"N":var w="0";for(typeof d[p][g]=="number"&&(w=d[p][g].toFixed(T[g]||0)),m=0;m<_[g]-w.length;++m)k.write_shift(1,32);k.write_shift(1,w,"sbcs");break;case"D":d[p][g]?(k.write_shift(4,("0000"+d[p][g].getFullYear()).slice(-4),"sbcs"),k.write_shift(2,("00"+(d[p][g].getMonth()+1)).slice(-2),"sbcs"),k.write_shift(2,("00"+d[p][g].getDate()).slice(-2),"sbcs")):k.write_shift(8,"00000000","sbcs");break;case"C":var C=String(d[p][g]!=null?d[p][g]:"").slice(0,_[g]);for(k.write_shift(1,C,"sbcs"),m=0;m<_[g]-C.length;++m)k.write_shift(1,32);break}}return c.next(1).write_shift(1,26),c.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}}(),sRe=function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Qs(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),e=function(h,d){var A=r[d];return typeof A=="number"?vK(A):A},n=function(h,d,A){var p=d.charCodeAt(0)-32<<4|A.charCodeAt(0)-48;return p==59?h:vK(p)};r["|"]=254;function i(h,d){switch(d.type){case"base64":return a(Xh(h),d);case"binary":return a(h,d);case"buffer":return a(On&&Buffer.isBuffer(h)?h.toString("binary"):s_(h),d);case"array":return a(U8(h),d)}throw new Error("Unrecognized type "+d.type)}function a(h,d){var A=h.split(/[\n\r]+/),p=-1,g=-1,m=0,v=0,y=[],b=[],_=null,T={},I=[],N=[],F=[],P=0,D;for(+d.codepage>=0&&ow(+d.codepage);m!==A.length;++m){P=0;var R=A[m].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,e),E=R.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),L=E[0],k;if(R.length>0)switch(L){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":E[1].charAt(0)=="P"&&b.push(R.slice(3).replace(/;;/g,";"));break;case"C":var w=!1,C=!1,S=!1,B=!1,O=-1,V=-1;for(v=1;v<E.length;++v)switch(E[v].charAt(0)){case"A":break;case"X":g=parseInt(E[v].slice(1))-1,C=!0;break;case"Y":for(p=parseInt(E[v].slice(1))-1,C||(g=0),D=y.length;D<=p;++D)y[D]=[];break;case"K":k=E[v].slice(1),k.charAt(0)==='"'?k=k.slice(1,k.length-1):k==="TRUE"?k=!0:k==="FALSE"?k=!1:isNaN(Lh(k))?isNaN(uw(k).getDate())||(k=Io(k)):(k=Lh(k),_!==null&&Ule(_)&&(k=Vle(k))),w=!0;break;case"E":B=!0;var M=iOe(E[v].slice(1),{r:p,c:g});y[p][g]=[y[p][g],M];break;case"S":S=!0,y[p][g]=[y[p][g],"S5S"];break;case"G":break;case"R":O=parseInt(E[v].slice(1))-1;break;case"C":V=parseInt(E[v].slice(1))-1;break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+R)}if(w&&(y[p][g]&&y[p][g].length==2?y[p][g][0]=k:y[p][g]=k,_=null),S){if(B)throw new Error("SYLK shared formula cannot have own formula");var U=O>-1&&y[O][V];if(!U||!U[1])throw new Error("SYLK shared formula cannot find base");y[p][g][1]=aOe(U[1],{r:p-O,c:g-V})}break;case"F":var Q=0;for(v=1;v<E.length;++v)switch(E[v].charAt(0)){case"X":g=parseInt(E[v].slice(1))-1,++Q;break;case"Y":for(p=parseInt(E[v].slice(1))-1,D=y.length;D<=p;++D)y[D]=[];break;case"M":P=parseInt(E[v].slice(1))/20;break;case"F":break;case"G":break;case"P":_=b[parseInt(E[v].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(F=E[v].slice(1).split(" "),D=parseInt(F[0],10);D<=parseInt(F[1],10);++D)P=parseInt(F[2],10),N[D-1]=P===0?{hidden:!0}:{wch:P},NR(N[D-1]);break;case"C":g=parseInt(E[v].slice(1))-1,N[g]||(N[g]={});break;case"R":p=parseInt(E[v].slice(1))-1,I[p]||(I[p]={}),P>0?(I[p].hpt=P,I[p].hpx=Fue(P)):P===0&&(I[p].hidden=!0);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+R)}Q<1&&(_=null);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+R)}}return I.length>0&&(T["!rows"]=I),N.length>0&&(T["!cols"]=N),d&&d.sheetRows&&(y=y.slice(0,d.sheetRows)),[y,T]}function s(h,d){var A=i(h,d),p=A[0],g=A[1],m=by(p,d);return Qs(g).forEach(function(v){m[v]=g[v]}),m}function o(h,d){return Kg(s(h,d),d)}function l(h,d,A,p){var g="C;Y"+(A+1)+";X"+(p+1)+";K";switch(h.t){case"n":g+=h.v||0,h.f&&!h.F&&(g+=";E"+IR(h.f,{r:A,c:p}));break;case"b":g+=h.v?"TRUE":"FALSE";break;case"e":g+=h.w||h.v;break;case"d":g+='"'+(h.w||h.v)+'"';break;case"s":g+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function u(h,d){d.forEach(function(A,p){var g="F;W"+(p+1)+" "+(p+1)+" ";A.hidden?g+="0":(typeof A.width=="number"&&!A.wpx&&(A.wpx=tC(A.width)),typeof A.wpx=="number"&&!A.wch&&(A.wch=rC(A.wpx)),typeof A.wch=="number"&&(g+=Math.round(A.wch))),g.charAt(g.length-1)!=" "&&h.push(g)})}function c(h,d){d.forEach(function(A,p){var g="F;";A.hidden?g+="M0;":A.hpt?g+="M"+20*A.hpt+";":A.hpx&&(g+="M"+20*nC(A.hpx)+";"),g.length>2&&h.push(g+"R"+(p+1))})}function f(h,d){var A=["ID;PWXL;N;E"],p=[],g=Bi(h["!ref"]),m,v=Array.isArray(h),y=`\r
`;A.push("P;PGeneral"),A.push("F;P0;DG0G8;M255"),h["!cols"]&&u(A,h["!cols"]),h["!rows"]&&c(A,h["!rows"]),A.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var b=g.s.r;b<=g.e.r;++b)for(var _=g.s.c;_<=g.e.c;++_){var T=ii({r:b,c:_});m=v?(h[b]||[])[_]:h[T],!(!m||m.v==null&&(!m.f||m.F))&&p.push(l(m,h,b,_))}return A.join(y)+y+p.join(y)+y+"E"+y}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),oRe=function(){function r(a,s){switch(s.type){case"base64":return t(Xh(a),s);case"binary":return t(a,s);case"buffer":return t(On&&Buffer.isBuffer(a)?a.toString("binary"):s_(a),s);case"array":return t(U8(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){for(var o=a.split(`
`),l=-1,u=-1,c=0,f=[];c!==o.length;++c){if(o[c].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var h=o[c].trim().split(","),d=h[0],A=h[1];++c;for(var p=o[c]||"";(p.match(/["]/g)||[]).length&1&&c<o.length-1;)p+=`
`+o[++c];switch(p=p.trim(),+d){case-1:if(p==="BOT"){f[++l]=[],u=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[l][u]=!0:p==="FALSE"?f[l][u]=!1:isNaN(Lh(A))?isNaN(uw(A).getDate())?f[l][u]=A:f[l][u]=Io(A):f[l][u]=Lh(A),++u;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[l][u++]=p!==""?p:null;break}if(p==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function e(a,s){return by(r(a,s),s)}function n(a,s){return Kg(e(a,s),s)}var i=function(){var a=function(l,u,c,f,h){l.push(u),l.push(c+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,u,c,f){l.push(u+","+c),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],c=Bi(l["!ref"]),f,h=Array.isArray(l);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,c.e.r-c.s.r+1,""),a(u,"TUPLES",0,c.e.c-c.s.c+1,""),a(u,"DATA",0,0,"");for(var d=c.s.r;d<=c.e.r;++d){s(u,-1,0,"BOT");for(var A=c.s.c;A<=c.e.c;++A){var p=ii({r:d,c:A});if(f=h?(l[d]||[])[A]:l[p],!f){s(u,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?s(u,1,0,"="+f.f):s(u,1,0,""):s(u,0,g,"V");break;case"b":s(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=t0(f.z||na[14],al(Io(f.v)))),s(u,0,f.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var m=`\r
`,v=u.join(m);return v}}();return{to_workbook:n,to_sheet:e,from_sheet:i}}(),Tue=function(){function r(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function e(f,h){for(var d=f.split(`
`),A=-1,p=-1,g=0,m=[];g!==d.length;++g){var v=d[g].trim().split(":");if(v[0]==="cell"){var y=ds(v[1]);if(m.length<=y.r)for(A=m.length;A<=y.r;++A)m[A]||(m[A]=[]);switch(A=y.r,p=y.c,v[2]){case"t":m[A][p]=r(v[3]);break;case"v":m[A][p]=+v[3];break;case"vtf":var b=v[v.length-1];case"vtc":switch(v[3]){case"nl":m[A][p]=!!+v[4];break;default:m[A][p]=+v[4];break}v[2]=="vtf"&&(m[A][p]=[m[A][p],b])}}}return h&&h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}function n(f,h){return by(e(f,h),h)}function i(f,h){return Kg(n(f,h),h)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],d=[],A,p="",g=zl(f["!ref"]),m=Array.isArray(f),v=g.s.r;v<=g.e.r;++v)for(var y=g.s.c;y<=g.e.c;++y)if(p=ii({r:v,c:y}),A=m?(f[v]||[])[y]:f[p],!(!A||A.v==null||A.t==="z")){switch(d=["cell",p,"t"],A.t){case"s":case"str":d.push(t(A.v));break;case"n":A.f?(d[2]="vtf",d[3]="n",d[4]=A.v,d[5]=t(A.f)):(d[2]="v",d[3]=A.v);break;case"b":d[2]="vt"+(A.f?"f":"c"),d[3]="nl",d[4]=A.v?"1":"0",d[5]=t(A.f||(A.v?"TRUE":"FALSE"));break;case"d":var b=al(Io(A.v));d[2]="vtc",d[3]="nd",d[4]=""+b,d[5]=A.w||t0(A.z||na[14],b);break;case"e":continue}h.push(d.join(":"))}return h.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function c(f){return[a,s,o,s,u(f),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:c}}(),lRe=function(){function r(c,f,h,d,A){A.raw?f[h][d]=c:c===""||(c==="TRUE"?f[h][d]=!0:c==="FALSE"?f[h][d]=!1:isNaN(Lh(c))?isNaN(uw(c).getDate())?f[h][d]=c:f[h][d]=Io(c):f[h][d]=Lh(c))}function t(c,f){var h=f||{},d=[];if(!c||c.length===0)return d;for(var A=c.split(/[\r\n]/),p=A.length-1;p>=0&&A[p].length===0;)--p;for(var g=10,m=0,v=0;v<=p;++v)m=A[v].indexOf(" "),m==-1?m=A[v].length:m++,g=Math.max(g,m);for(v=0;v<=p;++v){d[v]=[];var y=0;for(r(A[v].slice(0,g).trim(),d,v,y,h),y=1;y<=(A[v].length-g)/10+1;++y)r(A[v].slice(g+(y-1)*10,g+y*10).trim(),d,v,y,h)}return h.sheetRows&&(d=d.slice(0,h.sheetRows)),d}var e={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(c){for(var f={},h=!1,d=0,A=0;d<c.length;++d)(A=c.charCodeAt(d))==34?h=!h:!h&&A in e&&(f[A]=(f[A]||0)+1);A=[];for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&A.push([f[d],d]);if(!A.length){f=n;for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&A.push([f[d],d])}return A.sort(function(p,g){return p[0]-g[0]||n[p[1]]-n[g[1]]}),e[A.pop()[1]]||44}function a(c,f){var h=f||{},d="",A=h.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};c.slice(0,4)=="sep="?c.charCodeAt(5)==13&&c.charCodeAt(6)==10?(d=c.charAt(4),c=c.slice(7)):c.charCodeAt(5)==13||c.charCodeAt(5)==10?(d=c.charAt(4),c=c.slice(6)):d=i(c.slice(0,1024)):h&&h.FS?d=h.FS:d=i(c.slice(0,1024));var g=0,m=0,v=0,y=0,b=0,_=d.charCodeAt(0),T=!1,I=0,N=c.charCodeAt(0);c=c.replace(/\r\n/mg,`
`);var F=h.dateNF!=null?S9e(h.dateNF):null;function P(){var D=c.slice(y,b),R={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)R.t="z";else if(h.raw)R.t="s",R.v=D;else if(D.trim().length===0)R.t="s",R.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(R.t="s",R.v=D.slice(2,-1).replace(/""/g,'"')):sOe(D)?(R.t="n",R.f=D.slice(1)):(R.t="s",R.v=D);else if(D=="TRUE")R.t="b",R.v=!0;else if(D=="FALSE")R.t="b",R.v=!1;else if(!isNaN(v=Lh(D)))R.t="n",h.cellText!==!1&&(R.w=D),R.v=v;else if(!isNaN(uw(D).getDate())||F&&D.match(F)){R.z=h.dateNF||na[14];var E=0;F&&D.match(F)&&(D=C9e(D,h.dateNF,D.match(F)||[]),E=1),h.cellDates?(R.t="d",R.v=Io(D,E)):(R.t="n",R.v=al(Io(D,E))),h.cellText!==!1&&(R.w=t0(R.z,R.v instanceof Date?al(R.v):R.v)),h.cellNF||delete R.z}else R.t="s",R.v=D;if(R.t=="z"||(h.dense?(A[g]||(A[g]=[]),A[g][m]=R):A[ii({c:m,r:g})]=R),y=b+1,N=c.charCodeAt(y),p.e.c<m&&(p.e.c=m),p.e.r<g&&(p.e.r=g),I==_)++m;else if(m=0,++g,h.sheetRows&&h.sheetRows<=g)return!0}e:for(;b<c.length;++b)switch(I=c.charCodeAt(b)){case 34:N===34&&(T=!T);break;case _:case 10:case 13:if(!T&&P())break e;break}return b-y>0&&P(),A["!ref"]=Fa(p),A}function s(c,f){return!(f&&f.PRN)||f.FS||c.slice(0,4)=="sep="||c.indexOf("	")>=0||c.indexOf(",")>=0||c.indexOf(";")>=0?a(c,f):by(t(c,f),f)}function o(c,f){var h="",d=f.type=="string"?[0,0,0,0]:xQe(c,f);switch(f.type){case"base64":h=Xh(c);break;case"binary":h=c;break;case"buffer":f.codepage==65001?h=c.toString("utf8"):f.codepage&&typeof _p<"u"?h=_p.utils.decode(f.codepage,c):h=On&&Buffer.isBuffer(c)?c.toString("binary"):s_(c);break;case"array":h=U8(c);break;case"string":h=c;break;default:throw new Error("Unrecognized type "+f.type)}return d[0]==239&&d[1]==187&&d[2]==191?h=V2(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=V2(h):f.type=="binary"&&typeof _p<"u"&&f.codepage&&(h=_p.utils.decode(f.codepage,_p.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?Tue.to_sheet(f.type=="string"?h:V2(h),f):s(h,f)}function l(c,f){return Kg(o(c,f),f)}function u(c){for(var f=[],h=Bi(c["!ref"]),d,A=Array.isArray(c),p=h.s.r;p<=h.e.r;++p){for(var g=[],m=h.s.c;m<=h.e.c;++m){var v=ii({r:p,c:m});if(d=A?(c[p]||[])[m]:c[v],!d||d.v==null){g.push("          ");continue}for(var y=(d.w||(Yh(d),d.w)||"").slice(0,10);y.length<10;)y+=" ";g.push(y+(m===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}}(),qK=function(){function r(M,U,Q){if(M){Tl(M,M.l||0);for(var W=Q.Enum||O;M.l<M.length;){var j=M.read_shift(2),X=W[j]||W[65535],z=M.read_shift(2),H=M.l+z,K=X.f&&X.f(M,z,Q);if(M.l=H,U(K,X,j))return}}}function t(M,U){switch(U.type){case"base64":return e(ac(Xh(M)),U);case"binary":return e(ac(M),U);case"buffer":case"array":return e(M,U)}throw"Unsupported type "+U.type}function e(M,U){if(!M)return M;var Q=U||{},W=Q.dense?[]:{},j="Sheet1",X="",z=0,H={},K=[],Z=[],ie={s:{r:0,c:0},e:{r:0,c:0}},ee=Q.sheetRows||0;if(M[2]==0&&(M[3]==8||M[3]==9)&&M.length>=16&&M[14]==5&&M[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(M[2]==2)Q.Enum=O,r(M,function(re,de,ue){switch(ue){case 0:Q.vers=re,re>=4096&&(Q.qpro=!0);break;case 6:ie=re;break;case 204:re&&(X=re);break;case 222:X=re;break;case 15:case 51:Q.qpro||(re[1].v=re[1].v.slice(1));case 13:case 14:case 16:ue==14&&(re[2]&112)==112&&(re[2]&15)>1&&(re[2]&15)<15&&(re[1].z=Q.dateNF||na[14],Q.cellDates&&(re[1].t="d",re[1].v=Vle(re[1].v))),Q.qpro&&re[3]>z&&(W["!ref"]=Fa(ie),H[j]=W,K.push(j),W=Q.dense?[]:{},ie={s:{r:0,c:0},e:{r:0,c:0}},z=re[3],j=X||"Sheet"+(z+1),X="");var Fe=Q.dense?(W[re[0].r]||[])[re[0].c]:W[ii(re[0])];if(Fe){Fe.t=re[1].t,Fe.v=re[1].v,re[1].z!=null&&(Fe.z=re[1].z),re[1].f!=null&&(Fe.f=re[1].f);break}Q.dense?(W[re[0].r]||(W[re[0].r]=[]),W[re[0].r][re[0].c]=re[1]):W[ii(re[0])]=re[1];break}},Q);else if(M[2]==26||M[2]==14)Q.Enum=V,M[2]==14&&(Q.qpro=!0,M.l=0),r(M,function(re,de,ue){switch(ue){case 204:j=re;break;case 22:re[1].v=re[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(re[3]>z&&(W["!ref"]=Fa(ie),H[j]=W,K.push(j),W=Q.dense?[]:{},ie={s:{r:0,c:0},e:{r:0,c:0}},z=re[3],j="Sheet"+(z+1)),ee>0&&re[0].r>=ee)break;Q.dense?(W[re[0].r]||(W[re[0].r]=[]),W[re[0].r][re[0].c]=re[1]):W[ii(re[0])]=re[1],ie.e.c<re[0].c&&(ie.e.c=re[0].c),ie.e.r<re[0].r&&(ie.e.r=re[0].r);break;case 27:re[14e3]&&(Z[re[14e3][0]]=re[14e3][1]);break;case 1537:Z[re[0]]=re[1],re[0]==z&&(j=re[1]);break}},Q);else throw new Error("Unrecognized LOTUS BOF "+M[2]);if(W["!ref"]=Fa(ie),H[X||j]=W,K.push(X||j),!Z.length)return{SheetNames:K,Sheets:H};for(var ne={},te=[],le=0;le<Z.length;++le)H[K[le]]?(te.push(Z[le]||K[le]),ne[Z[le]]=H[Z[le]]||H[K[le]]):(te.push(Z[le]),ne[Z[le]]={"!ref":"A1"});return{SheetNames:te,Sheets:ne}}function n(M,U){var Q=U||{};if(+Q.codepage>=0&&ow(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK1 to JS string");var W=nl(),j=Bi(M["!ref"]),X=Array.isArray(M),z=[];Yt(W,0,a(1030)),Yt(W,6,l(j));for(var H=Math.min(j.e.r,8191),K=j.s.r;K<=H;++K)for(var Z=Ps(K),ie=j.s.c;ie<=j.e.c;++ie){K===j.s.r&&(z[ie]=uo(ie));var ee=z[ie]+Z,ne=X?(M[K]||[])[ie]:M[ee];if(!(!ne||ne.t=="z"))if(ne.t=="n")(ne.v|0)==ne.v&&ne.v>=-32768&&ne.v<=32767?Yt(W,13,d(K,ie,ne.v)):Yt(W,14,p(K,ie,ne.v));else{var te=Yh(ne);Yt(W,15,f(K,ie,te.slice(0,239)))}}return Yt(W,1),W.end()}function i(M,U){var Q=U||{};if(+Q.codepage>=0&&ow(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK3 to JS string");var W=nl();Yt(W,0,s(M));for(var j=0,X=0;j<M.SheetNames.length;++j)(M.Sheets[M.SheetNames[j]]||{})["!ref"]&&Yt(W,27,B(M.SheetNames[j],X++));var z=0;for(j=0;j<M.SheetNames.length;++j){var H=M.Sheets[M.SheetNames[j]];if(!(!H||!H["!ref"])){for(var K=Bi(H["!ref"]),Z=Array.isArray(H),ie=[],ee=Math.min(K.e.r,8191),ne=K.s.r;ne<=ee;++ne)for(var te=Ps(ne),le=K.s.c;le<=K.e.c;++le){ne===K.s.r&&(ie[le]=uo(le));var re=ie[le]+te,de=Z?(H[ne]||[])[le]:H[re];if(!(!de||de.t=="z"))if(de.t=="n")Yt(W,23,P(ne,le,z,de.v));else{var ue=Yh(de);Yt(W,22,I(ne,le,z,ue.slice(0,239)))}}++z}}return Yt(W,1),W.end()}function a(M){var U=Tt(2);return U.write_shift(2,M),U}function s(M){var U=Tt(26);U.write_shift(2,4096),U.write_shift(2,4),U.write_shift(4,0);for(var Q=0,W=0,j=0,X=0;X<M.SheetNames.length;++X){var z=M.SheetNames[X],H=M.Sheets[z];if(!(!H||!H["!ref"])){++j;var K=zl(H["!ref"]);Q<K.e.r&&(Q=K.e.r),W<K.e.c&&(W=K.e.c)}}return Q>8191&&(Q=8191),U.write_shift(2,Q),U.write_shift(1,j),U.write_shift(1,W),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(1,1),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(4,0),U}function o(M,U,Q){var W={s:{c:0,r:0},e:{c:0,r:0}};return U==8&&Q.qpro?(W.s.c=M.read_shift(1),M.l++,W.s.r=M.read_shift(2),W.e.c=M.read_shift(1),M.l++,W.e.r=M.read_shift(2),W):(W.s.c=M.read_shift(2),W.s.r=M.read_shift(2),U==12&&Q.qpro&&(M.l+=2),W.e.c=M.read_shift(2),W.e.r=M.read_shift(2),U==12&&Q.qpro&&(M.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function l(M){var U=Tt(8);return U.write_shift(2,M.s.c),U.write_shift(2,M.s.r),U.write_shift(2,M.e.c),U.write_shift(2,M.e.r),U}function u(M,U,Q){var W=[{c:0,r:0},{t:"n",v:0},0,0];return Q.qpro&&Q.vers!=20768?(W[0].c=M.read_shift(1),W[3]=M.read_shift(1),W[0].r=M.read_shift(2),M.l+=2):(W[2]=M.read_shift(1),W[0].c=M.read_shift(2),W[0].r=M.read_shift(2)),W}function c(M,U,Q){var W=M.l+U,j=u(M,U,Q);if(j[1].t="s",Q.vers==20768){M.l++;var X=M.read_shift(1);return j[1].v=M.read_shift(X,"utf8"),j}return Q.qpro&&M.l++,j[1].v=M.read_shift(W-M.l,"cstr"),j}function f(M,U,Q){var W=Tt(7+Q.length);W.write_shift(1,255),W.write_shift(2,U),W.write_shift(2,M),W.write_shift(1,39);for(var j=0;j<W.length;++j){var X=Q.charCodeAt(j);W.write_shift(1,X>=128?95:X)}return W.write_shift(1,0),W}function h(M,U,Q){var W=u(M,U,Q);return W[1].v=M.read_shift(2,"i"),W}function d(M,U,Q){var W=Tt(7);return W.write_shift(1,255),W.write_shift(2,U),W.write_shift(2,M),W.write_shift(2,Q,"i"),W}function A(M,U,Q){var W=u(M,U,Q);return W[1].v=M.read_shift(8,"f"),W}function p(M,U,Q){var W=Tt(13);return W.write_shift(1,255),W.write_shift(2,U),W.write_shift(2,M),W.write_shift(8,Q,"f"),W}function g(M,U,Q){var W=M.l+U,j=u(M,U,Q);if(j[1].v=M.read_shift(8,"f"),Q.qpro)M.l=W;else{var X=M.read_shift(2);b(M.slice(M.l,M.l+X),j),M.l+=X}return j}function m(M,U,Q){var W=U&32768;return U&=-32769,U=(W?M:0)+(U>=8192?U-16384:U),(W?"":"$")+(Q?uo(U):Ps(U))}var v={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function b(M,U){Tl(M,0);for(var Q=[],W=0,j="",X="",z="",H="";M.l<M.length;){var K=M[M.l++];switch(K){case 0:Q.push(M.read_shift(8,"f"));break;case 1:X=m(U[0].c,M.read_shift(2),!0),j=m(U[0].r,M.read_shift(2),!1),Q.push(X+j);break;case 2:{var Z=m(U[0].c,M.read_shift(2),!0),ie=m(U[0].r,M.read_shift(2),!1);X=m(U[0].c,M.read_shift(2),!0),j=m(U[0].r,M.read_shift(2),!1),Q.push(Z+ie+":"+X+j)}break;case 3:if(M.l<M.length){console.error("WK1 premature formula end");return}break;case 4:Q.push("("+Q.pop()+")");break;case 5:Q.push(M.read_shift(2));break;case 6:{for(var ee="";K=M[M.l++];)ee+=String.fromCharCode(K);Q.push('"'+ee.replace(/"/g,'""')+'"')}break;case 8:Q.push("-"+Q.pop());break;case 23:Q.push("+"+Q.pop());break;case 22:Q.push("NOT("+Q.pop()+")");break;case 20:case 21:H=Q.pop(),z=Q.pop(),Q.push(["AND","OR"][K-20]+"("+z+","+H+")");break;default:if(K<32&&y[K])H=Q.pop(),z=Q.pop(),Q.push(z+y[K]+H);else if(v[K]){if(W=v[K][1],W==69&&(W=M[M.l++]),W>Q.length){console.error("WK1 bad formula parse 0x"+K.toString(16)+":|"+Q.join("|")+"|");return}var ne=Q.slice(-W);Q.length-=W,Q.push(v[K][0]+"("+ne.join(",")+")")}else return K<=7?console.error("WK1 invalid opcode "+K.toString(16)):K<=24?console.error("WK1 unsupported op "+K.toString(16)):K<=30?console.error("WK1 invalid opcode "+K.toString(16)):K<=115?console.error("WK1 unsupported function opcode "+K.toString(16)):console.error("WK1 unrecognized opcode "+K.toString(16))}}Q.length==1?U[1].f=""+Q[0]:console.error("WK1 bad formula parse |"+Q.join("|")+"|")}function _(M){var U=[{c:0,r:0},{t:"n",v:0},0];return U[0].r=M.read_shift(2),U[3]=M[M.l++],U[0].c=M[M.l++],U}function T(M,U){var Q=_(M);return Q[1].t="s",Q[1].v=M.read_shift(U-4,"cstr"),Q}function I(M,U,Q,W){var j=Tt(6+W.length);j.write_shift(2,M),j.write_shift(1,Q),j.write_shift(1,U),j.write_shift(1,39);for(var X=0;X<W.length;++X){var z=W.charCodeAt(X);j.write_shift(1,z>=128?95:z)}return j.write_shift(1,0),j}function N(M,U){var Q=_(M);Q[1].v=M.read_shift(2);var W=Q[1].v>>1;if(Q[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return Q[1].v=W,Q}function F(M,U){var Q=_(M),W=M.read_shift(4),j=M.read_shift(4),X=M.read_shift(2);if(X==65535)return W===0&&j===3221225472?(Q[1].t="e",Q[1].v=15):W===0&&j===3489660928?(Q[1].t="e",Q[1].v=42):Q[1].v=0,Q;var z=X&32768;return X=(X&32767)-16446,Q[1].v=(1-z*2)*(j*Math.pow(2,X+32)+W*Math.pow(2,X)),Q}function P(M,U,Q,W){var j=Tt(14);if(j.write_shift(2,M),j.write_shift(1,Q),j.write_shift(1,U),W==0)return j.write_shift(4,0),j.write_shift(4,0),j.write_shift(2,65535),j;var X=0,z=0,H=0,K=0;return W<0&&(X=1,W=-W),z=Math.log2(W)|0,W/=Math.pow(2,z-31),K=W>>>0,K&2147483648||(W/=2,++z,K=W>>>0),W-=K,K|=2147483648,K>>>=0,W*=Math.pow(2,32),H=W>>>0,j.write_shift(4,H),j.write_shift(4,K),z+=16383+(X?32768:0),j.write_shift(2,z),j}function D(M,U){var Q=F(M);return M.l+=U-14,Q}function R(M,U){var Q=_(M),W=M.read_shift(4);return Q[1].v=W>>6,Q}function E(M,U){var Q=_(M),W=M.read_shift(8,"f");return Q[1].v=W,Q}function L(M,U){var Q=E(M);return M.l+=U-10,Q}function k(M,U){return M[M.l+U-1]==0?M.read_shift(U,"cstr"):""}function w(M,U){var Q=M[M.l++];Q>U-1&&(Q=U-1);for(var W="";W.length<Q;)W+=String.fromCharCode(M[M.l++]);return W}function C(M,U,Q){if(!(!Q.qpro||U<21)){var W=M.read_shift(1);M.l+=17,M.l+=1,M.l+=2;var j=M.read_shift(U-21,"cstr");return[W,j]}}function S(M,U){for(var Q={},W=M.l+U;M.l<W;){var j=M.read_shift(2);if(j==14e3){for(Q[j]=[0,""],Q[j][0]=M.read_shift(2);M[M.l];)Q[j][1]+=String.fromCharCode(M[M.l]),M.l++;M.l++}}return Q}function B(M,U){var Q=Tt(5+M.length);Q.write_shift(2,14e3),Q.write_shift(2,U);for(var W=0;W<M.length;++W){var j=M.charCodeAt(W);Q[Q.l++]=j>127?95:j}return Q[Q.l++]=0,Q}var O={0:{n:"BOF",f:wue},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:A},15:{n:"LABEL",f:c},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:c},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:k},222:{n:"SHEETNAMELP",f:w},65535:{n:""}},V={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:T},23:{n:"NUMBER17",f:F},24:{n:"NUMBER18",f:N},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:S},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:R},38:{n:"??"},39:{n:"NUMBER27",f:E},40:{n:"FORMULA28",f:L},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:k},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:C},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}}(),uRe=/^\s|\s$|[\t\n\r]/;function Eue(r,t){if(!t.bookSST)return"";var e=[Da];e[e.length]=qt("sst",null,{xmlns:xy[0],count:r.Count,uniqueCount:r.Unique});for(var n=0;n!=r.length;++n)if(r[n]!=null){var i=r[n],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(uRe)&&(a+=' xml:space="preserve"'),a+=">"+ti(i.t)+"</t>"),a+="</si>",e[e.length]=a}return e.length>2&&(e[e.length]="</sst>",e[1]=e[1].replace("/>",">")),e.join("")}function cRe(r){return[r.read_shift(4),r.read_shift(4)]}function fRe(r,t){return t||(t=Tt(8)),t.write_shift(4,r.Count),t.write_shift(4,r.Unique),t}var hRe=rPe;function dRe(r){var t=nl();Dt(t,159,fRe(r));for(var e=0;e<r.length;++e)Dt(t,19,hRe(r[e]));return Dt(t,160),t.end()}function ARe(r){for(var t=[],e=r.split(""),n=0;n<e.length;++n)t[n]=e[n].charCodeAt(0);return t}function kue(r){var t=0,e,n=ARe(r),i=n.length+1,a,s,o,l,u;for(e=Ng(i),e[0]=n.length,a=1;a!=i;++a)e[a]=n[a-1];for(a=i-1;a>=0;--a)s=e[a],o=t&16384?1:0,l=t<<1&32767,u=o|l,t=u^s;return t^52811}var pRe=function(){function r(i,a){switch(a.type){case"base64":return t(Xh(i),a);case"binary":return t(i,a);case"buffer":return t(On&&Buffer.isBuffer(i)?i.toString("binary"):s_(i),a);case"array":return t(U8(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){var s=a||{},o=s.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(c,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,d=0,A,p=-1;A=h.exec(c);){switch(A[0]){case"\\cell":var g=c.slice(d,h.lastIndex-A[0].length);if(g[0]==" "&&(g=g.slice(1)),++p,g.length){var m={v:g,t:"s"};Array.isArray(o)?o[f][p]=m:o[ii({r:f,c:p})]=m}break}d=h.lastIndex}p>u.e.c&&(u.e.c=p)}),o["!ref"]=Fa(u),o}function e(i,a){return Kg(r(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=Bi(i["!ref"]),o,l=Array.isArray(i),u=s.s.r;u<=s.e.r;++u){a.push("\\trowd\\trautofit1");for(var c=s.s.c;c<=s.e.c;++c)a.push("\\cellx"+(c+1));for(a.push("\\pard\\intbl"),c=s.s.c;c<=s.e.c;++c){var f=ii({r:u,c});o=l?(i[u]||[])[c]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(Yh(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:e,to_sheet:r,from_sheet:n}}();function XK(r){for(var t=0,e=1;t!=3;++t)e=e*256+(r[t]>255?255:r[t]<0?0:r[t]);return e.toString(16).toUpperCase().slice(1)}var gRe=6,Dh=gRe;function tC(r){return Math.floor((r+Math.round(128/Dh)/256)*Dh)}function rC(r){return Math.floor((r-5)/Dh*100+.5)/100}function EM(r){return Math.round((r*Dh+5)/Dh*256)/256}function NR(r){r.width?(r.wpx=tC(r.width),r.wch=rC(r.wpx),r.MDW=Dh):r.wpx?(r.wch=rC(r.wpx),r.width=EM(r.wch),r.MDW=Dh):typeof r.wch=="number"&&(r.width=EM(r.wch),r.wpx=tC(r.width),r.MDW=Dh),r.customWidth&&delete r.customWidth}var mRe=96,Nue=mRe;function nC(r){return r*96/Nue}function Fue(r){return r*Nue/96}function vRe(r){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var n=e[0];n<=e[1];++n)r[n]!=null&&(t[t.length]=qt("numFmt",null,{numFmtId:n,formatCode:ti(r[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=qt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function yRe(r){var t=[];return t[t.length]=qt("cellXfs",null),r.forEach(function(e){t[t.length]=qt("xf",null,e)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=qt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Iue(r,t){var e=[Da,qt("styleSheet",null,{xmlns:xy[0],"xmlns:vt":fs.vt})],n;return r.SSF&&(n=vRe(r.SSF))!=null&&(e[e.length]=n),e[e.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',e[e.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',e[e.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',e[e.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=yRe(t.cellXfs))&&(e[e.length]=n),e[e.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',e[e.length]='<dxfs count="0"/>',e[e.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',e.length>2&&(e[e.length]="</styleSheet>",e[1]=e[1].replace("/>",">")),e.join("")}function xRe(r,t){var e=r.read_shift(2),n=co(r);return[e,n]}function bRe(r,t,e){e||(e=Tt(6+4*t.length)),e.write_shift(2,r),As(t,e);var n=e.length>e.l?e.slice(0,e.l):e;return e.l==null&&(e.l=e.length),n}function wRe(r,t,e){var n={};n.sz=r.read_shift(2)/20;var i=uPe(r);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=r.read_shift(2);switch(a===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=r.read_shift(1);s!=0&&(n.underline=s);var o=r.read_shift(1);o>0&&(n.family=o);var l=r.read_shift(1);switch(l>0&&(n.charset=l),r.l++,n.color=lPe(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=co(r),n}function _Re(r,t){t||(t=Tt(25+4*32)),t.write_shift(2,r.sz*20),cPe(r,t),t.write_shift(2,r.bold?700:400);var e=0;r.vertAlign=="superscript"?e=1:r.vertAlign=="subscript"&&(e=2),t.write_shift(2,e),t.write_shift(1,r.underline||0),t.write_shift(1,r.family||0),t.write_shift(1,r.charset||0),t.write_shift(1,0),J6(r.color,t);var n=0;return r.scheme=="major"&&(n=1),r.scheme=="minor"&&(n=2),t.write_shift(1,n),As(r.name,t),t.length>t.l?t.slice(0,t.l):t}var SRe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Rk,CRe=If;function YK(r,t){t||(t=Tt(4*3+8*7+16*1)),Rk||(Rk=vR(SRe));var e=Rk[r.patternType];e==null&&(e=40),t.write_shift(4,e);var n=0;if(e!=40)for(J6({auto:1},t),J6({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function BRe(r,t){var e=r.l+t,n=r.read_shift(2),i=r.read_shift(2);return r.l=e,{ixfe:n,numFmtId:i}}function Mue(r,t,e){e||(e=Tt(16)),e.write_shift(2,t||0),e.write_shift(2,r.numFmtId||0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);var n=0;return e.write_shift(1,n),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e}function Ix(r,t){return t||(t=Tt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var TRe=If;function ERe(r,t){return t||(t=Tt(51)),t.write_shift(1,0),Ix(null,t),Ix(null,t),Ix(null,t),Ix(null,t),Ix(null,t),t.length>t.l?t.slice(0,t.l):t}function kRe(r,t){return t||(t=Tt(12+4*10)),t.write_shift(4,r.xfId),t.write_shift(2,1),t.write_shift(1,+r.builtinId),t.write_shift(1,0),Z6(r.name||"",t),t.length>t.l?t.slice(0,t.l):t}function NRe(r,t,e){var n=Tt(2052);return n.write_shift(4,r),Z6(t,n),Z6(e,n),n.length>n.l?n.slice(0,n.l):n}function FRe(r,t){if(t){var e=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&++e}),e!=0&&(Dt(r,615,mc(e)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&Dt(r,44,bRe(i,t[i]))}),Dt(r,616))}}function IRe(r){var t=1;Dt(r,611,mc(t)),Dt(r,43,_Re({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Dt(r,612)}function MRe(r){var t=2;Dt(r,603,mc(t)),Dt(r,45,YK({patternType:"none"})),Dt(r,45,YK({patternType:"gray125"})),Dt(r,604)}function LRe(r){var t=1;Dt(r,613,mc(t)),Dt(r,46,ERe()),Dt(r,614)}function DRe(r){var t=1;Dt(r,626,mc(t)),Dt(r,47,Mue({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Dt(r,627)}function PRe(r,t){Dt(r,617,mc(t.length)),t.forEach(function(e){Dt(r,47,Mue(e,0))}),Dt(r,618)}function RRe(r){var t=1;Dt(r,619,mc(t)),Dt(r,48,kRe({xfId:0,builtinId:0,name:"Normal"})),Dt(r,620)}function ORe(r){var t=0;Dt(r,505,mc(t)),Dt(r,506)}function jRe(r){var t=0;Dt(r,508,NRe(t,"TableStyleMedium9","PivotStyleMedium4")),Dt(r,509)}function URe(r,t){var e=nl();return Dt(e,278),FRe(e,r.SSF),IRe(e),MRe(e),LRe(e),DRe(e),PRe(e,t.cellXfs),RRe(e),ORe(e),jRe(e),Dt(e,279),e.end()}function Lue(r,t){if(t&&t.themeXLSX)return t.themeXLSX;if(r&&typeof r.raw=="string")return r.raw;var e=[Da];return e[e.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',e[e.length]="<a:themeElements>",e[e.length]='<a:clrScheme name="Office">',e[e.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',e[e.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',e[e.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',e[e.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',e[e.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',e[e.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',e[e.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',e[e.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',e[e.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',e[e.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',e[e.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',e[e.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',e[e.length]="</a:clrScheme>",e[e.length]='<a:fontScheme name="Office">',e[e.length]="<a:majorFont>",e[e.length]='<a:latin typeface="Cambria"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface=" "/>',e[e.length]='<a:font script="Hang" typeface=" "/>',e[e.length]='<a:font script="Hans" typeface=""/>',e[e.length]='<a:font script="Hant" typeface=""/>',e[e.length]='<a:font script="Arab" typeface="Times New Roman"/>',e[e.length]='<a:font script="Hebr" typeface="Times New Roman"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="MoolBoran"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Times New Roman"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:majorFont>",e[e.length]="<a:minorFont>",e[e.length]='<a:latin typeface="Calibri"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface=" "/>',e[e.length]='<a:font script="Hang" typeface=" "/>',e[e.length]='<a:font script="Hans" typeface=""/>',e[e.length]='<a:font script="Hant" typeface=""/>',e[e.length]='<a:font script="Arab" typeface="Arial"/>',e[e.length]='<a:font script="Hebr" typeface="Arial"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="DaunPenh"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Arial"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:minorFont>",e[e.length]="</a:fontScheme>",e[e.length]='<a:fmtScheme name="Office">',e[e.length]="<a:fillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="1"/>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="0"/>',e[e.length]="</a:gradFill>",e[e.length]="</a:fillStyleLst>",e[e.length]="<a:lnStyleLst>",e[e.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]="</a:lnStyleLst>",e[e.length]="<a:effectStyleLst>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',e[e.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',e[e.length]="</a:effectStyle>",e[e.length]="</a:effectStyleLst>",e[e.length]="<a:bgFillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]="</a:bgFillStyleLst>",e[e.length]="</a:fmtScheme>",e[e.length]="</a:themeElements>",e[e.length]="<a:objectDefaults>",e[e.length]="<a:spDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',e[e.length]="</a:spDef>",e[e.length]="<a:lnDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',e[e.length]="</a:lnDef>",e[e.length]="</a:objectDefaults>",e[e.length]="<a:extraClrSchemeLst/>",e[e.length]="</a:theme>",e.join("")}function HRe(r,t){return{flags:r.read_shift(4),version:r.read_shift(4),name:co(r)}}function QRe(r){var t=Tt(12+2*r.name.length);return t.write_shift(4,r.flags),t.write_shift(4,r.version),As(r.name,t),t.slice(0,t.l)}function zRe(r){for(var t=[],e=r.read_shift(4);e-- >0;)t.push([r.read_shift(4),r.read_shift(4)]);return t}function VRe(r){var t=Tt(4+8*r.length);t.write_shift(4,r.length);for(var e=0;e<r.length;++e)t.write_shift(4,r[e][0]),t.write_shift(4,r[e][1]);return t}function GRe(r,t){var e=Tt(8+2*t.length);return e.write_shift(4,r),As(t,e),e.slice(0,e.l)}function WRe(r){return r.l+=4,r.read_shift(4)!=0}function $Re(r,t){var e=Tt(8);return e.write_shift(4,r),e.write_shift(4,1),e}function KRe(){var r=nl();return Dt(r,332),Dt(r,334,mc(1)),Dt(r,335,QRe({name:"XLDAPR",version:12e4,flags:3496657072})),Dt(r,336),Dt(r,339,GRe(1,"XLDAPR")),Dt(r,52),Dt(r,35,mc(514)),Dt(r,4096,mc(0)),Dt(r,4097,fu(1)),Dt(r,36),Dt(r,53),Dt(r,340),Dt(r,337,$Re(1)),Dt(r,51,VRe([[1,0]])),Dt(r,338),Dt(r,333),r.end()}function Due(){var r=[Da];return r.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),r.join("")}function qRe(r){var t={};t.i=r.read_shift(4);var e={};e.r=r.read_shift(4),e.c=r.read_shift(4),t.r=ii(e);var n=r.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var Fv=1024;function Pue(r,t){for(var e=[21600,21600],n=["m0,0l0",e[1],e[0],e[1],e[0],"0xe"].join(","),i=[qt("xml",null,{"xmlns:v":El.v,"xmlns:o":El.o,"xmlns:x":El.x,"xmlns:mv":El.mv}).replace(/\/>/,">"),qt("o:shapelayout",qt("o:idmap",null,{"v:ext":"edit",data:r}),{"v:ext":"edit"}),qt("v:shapetype",[qt("v:stroke",null,{joinstyle:"miter"}),qt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:e.join(","),path:n})];Fv<r*1e3;)Fv+=1e3;return t.forEach(function(a){var s=ds(a[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?qt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=qt("v:fill",l,o),c={on:"t",obscured:"t"};++Fv,i=i.concat(["<v:shape"+fw({id:"_x0000_s"+Fv,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,qt("v:shadow",null,c),qt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Fs("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),Fs("x:AutoFill","False"),Fs("x:Row",String(s.r)),Fs("x:Column",String(s.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function Rue(r){var t=[Da,qt("comments",null,{xmlns:xy[0]})],e=[];return t.push("<authors>"),r.forEach(function(n){n[1].forEach(function(i){var a=ti(i.a);e.indexOf(a)==-1&&(e.push(a),t.push("<author>"+a+"</author>")),i.T&&i.ID&&e.indexOf("tc="+i.ID)==-1&&(e.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),e.length==0&&(e.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),r.forEach(function(n){var i=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=e.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=e.indexOf(ti(l.a))),a.push(l.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),a.length<=1)t.push(Fs("t",ti(a[0]||"")));else{for(var s=`Comment:
    `+a[0]+`
`,o=1;o<a.length;++o)s+=`Reply:
    `+a[o]+`
`;t.push(Fs("t",ti(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function XRe(r,t,e){var n=[Da,qt("ThreadedComments",null,{xmlns:fs.TCMNT}).replace(/[\/]>/,">")];return r.forEach(function(i){var a="";(i[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+e.tcid++).slice(-12)+"}"};o==0?a=l.id:l.parentId=a,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(qt("threadedComment",Fs("text",s.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function YRe(r){var t=[Da,qt("personList",null,{xmlns:fs.TCMNT,"xmlns:x":xy[0]}).replace(/[\/]>/,">")];return r.forEach(function(e,n){t.push(qt("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:e,providerId:"None"}))}),t.push("</personList>"),t.join("")}function ZRe(r){var t={};t.iauthor=r.read_shift(4);var e=Zg(r);return t.rfx=e.s,t.ref=ii(e.s),r.l+=16,t}function JRe(r,t){return t==null&&(t=Tt(36)),t.write_shift(4,r[1].iauthor),wy(r[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var eOe=co;function tOe(r){return As(r.slice(0,54))}function rOe(r){var t=nl(),e=[];return Dt(t,628),Dt(t,630),r.forEach(function(n){n[1].forEach(function(i){e.indexOf(i.a)>-1||(e.push(i.a.slice(0,54)),Dt(t,632,tOe(i.a)))})}),Dt(t,631),Dt(t,633),r.forEach(function(n){n[1].forEach(function(i){i.iauthor=e.indexOf(i.a);var a={s:ds(n[0]),e:ds(n[0])};Dt(t,635,JRe([a,i])),i.t&&i.t.length>0&&Dt(t,637,iPe(i)),Dt(t,636),delete i.iauthor})}),Dt(t,634),Dt(t,629),t.end()}function nOe(r,t){t.FullPaths.forEach(function(e,n){if(n!=0){var i=e.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&si.utils.cfb_add(r,i,t.FileIndex[n].content)}})}var Oue=["xlsb","xlsm","xlam","biff8","xla"],iOe=function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function e(n,i,a,s){var o=!1,l=!1;a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,c=s.length>0?parseInt(s,10)|0:0;return o?c+=t.c:--c,l?u+=t.r:--u,i+(o?"":"$")+uo(c)+(l?"":"$")+Ps(u)}return function(i,a){return t=a,i.replace(r,e)}}(),FR=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,IR=function(){return function(t,e){return t.replace(FR,function(n,i,a,s,o,l){var u=CR(s)-(a?0:e.c),c=SR(l)-(o?0:e.r),f=c==0?"":o?c+1:"["+c+"]",h=u==0?"":a?u+1:"["+u+"]";return i+"R"+f+"C"+h})}}();function aOe(r,t){return r.replace(FR,function(e,n,i,a,s,o){return n+(i=="$"?i+a:uo(CR(a)+t.c))+(s=="$"?s+o:Ps(SR(o)+t.r))})}function sOe(r){return r.length!=1}function Ta(r){r.l+=1}function r0(r,t){var e=r.read_shift(2);return[e&16383,e>>14&1,e>>15&1]}function jue(r,t,e){var n=2;if(e){if(e.biff>=2&&e.biff<=5)return Uue(r);e.biff==12&&(n=4)}var i=r.read_shift(n),a=r.read_shift(n),s=r0(r),o=r0(r);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function Uue(r){var t=r0(r),e=r0(r),n=r.read_shift(1),i=r.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:e[0],c:i,cRel:e[1],rRel:e[2]}}}function oOe(r,t,e){if(e.biff<8)return Uue(r);var n=r.read_shift(e.biff==12?4:2),i=r.read_shift(e.biff==12?4:2),a=r0(r),s=r0(r);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function Hue(r,t,e){if(e&&e.biff>=2&&e.biff<=5)return lOe(r);var n=r.read_shift(e&&e.biff==12?4:2),i=r0(r);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function lOe(r){var t=r0(r),e=r.read_shift(1);return{r:t[0],c:e,cRel:t[1],rRel:t[2]}}function uOe(r){var t=r.read_shift(2),e=r.read_shift(2);return{r:t,c:e&255,fQuoted:!!(e&16384),cRel:e>>15,rRel:e>>15}}function cOe(r,t,e){var n=e&&e.biff?e.biff:8;if(n>=2&&n<=5)return fOe(r);var i=r.read_shift(n>=12?4:2),a=r.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function fOe(r){var t=r.read_shift(2),e=r.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&e>=128&&(e=e-256),{r:t,c:e,cRel:i,rRel:n}}function hOe(r,t,e){var n=(r[r.l++]&96)>>5,i=jue(r,e.biff>=2&&e.biff<=5?6:8,e);return[n,i]}function dOe(r,t,e){var n=(r[r.l++]&96)>>5,i=r.read_shift(2,"i"),a=8;if(e)switch(e.biff){case 5:r.l+=12,a=6;break;case 12:a=12;break}var s=jue(r,a,e);return[n,i,s]}function AOe(r,t,e){var n=(r[r.l++]&96)>>5;return r.l+=e&&e.biff>8?12:e.biff<8?6:8,[n]}function pOe(r,t,e){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),a=8;if(e)switch(e.biff){case 5:r.l+=12,a=6;break;case 12:a=12;break}return r.l+=a,[n,i]}function gOe(r,t,e){var n=(r[r.l++]&96)>>5,i=oOe(r,t-1,e);return[n,i]}function mOe(r,t,e){var n=(r[r.l++]&96)>>5;return r.l+=e.biff==2?6:e.biff==12?14:7,[n]}function ZK(r){var t=r[r.l+1]&1,e=1;return r.l+=4,[t,e]}function vOe(r,t,e){r.l+=2;for(var n=r.read_shift(e&&e.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(r.read_shift(e&&e.biff==2?1:2));return i}function yOe(r,t,e){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(e&&e.biff==2?1:2)]}function xOe(r,t,e){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(e&&e.biff==2?1:2)]}function bOe(r){var t=r[r.l+1]&255?1:0;return r.l+=2,[t,r.read_shift(2)]}function wOe(r,t,e){var n=r[r.l+1]&255?1:0;return r.l+=e&&e.biff==2?3:4,[n]}function Que(r){var t=r.read_shift(1),e=r.read_shift(1);return[t,e]}function _Oe(r){return r.read_shift(2),Que(r)}function SOe(r){return r.read_shift(2),Que(r)}function COe(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var i=Hue(r,0,e);return[n,i]}function BOe(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var i=cOe(r,0,e);return[n,i]}function TOe(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(2);e&&e.biff==5&&(r.l+=12);var a=Hue(r,0,e);return[n,i,a]}function EOe(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(e&&e.biff<=3?1:2);return[Eje[i],Gue[i],n]}function kOe(r,t,e){var n=r[r.l++],i=r.read_shift(1),a=e&&e.biff<=3?[n==88?-1:0,r.read_shift(1)]:NOe(r);return[i,(a[0]===0?Gue:Tje)[a[1]]]}function NOe(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function FOe(r,t,e){r.l+=e&&e.biff==2?3:4}function IOe(r,t,e){if(r.l++,e&&e.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),i=r.read_shift(e&&e.biff==2?1:2);return[n,i]}function MOe(r){return r.l++,u_[r.read_shift(1)]}function LOe(r){return r.l++,r.read_shift(2)}function DOe(r){return r.l++,r.read_shift(1)!==0}function POe(r){return r.l++,_y(r)}function ROe(r,t,e){return r.l++,Sue(r,t-1,e)}function OOe(r,t){var e=[r.read_shift(1)];if(t==12)switch(e[0]){case 2:e[0]=4;break;case 4:e[0]=16;break;case 0:e[0]=1;break;case 1:e[0]=2;break}switch(e[0]){case 4:e[1]=TPe(r,1)?"TRUE":"FALSE",t!=12&&(r.l+=7);break;case 37:case 16:e[1]=u_[r[r.l]],r.l+=t==12?4:8;break;case 0:r.l+=8;break;case 1:e[1]=_y(r);break;case 2:e[1]=FPe(r,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+e[0])}return e}function jOe(r,t,e){for(var n=r.read_shift(e.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((e.biff==12?Zg:LPe)(r));return i}function UOe(r,t,e){var n=0,i=0;e.biff==12?(n=r.read_shift(4),i=r.read_shift(4)):(i=1+r.read_shift(1),n=1+r.read_shift(2)),e.biff>=2&&e.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=OOe(r,e.biff);return s}function HOe(r,t,e){var n=r.read_shift(1)>>>5&3,i=!e||e.biff>=8?4:2,a=r.read_shift(i);switch(e.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,a]}function QOe(r,t,e){if(e.biff==5)return zOe(r);var n=r.read_shift(1)>>>5&3,i=r.read_shift(2),a=r.read_shift(4);return[n,i,a]}function zOe(r){var t=r.read_shift(1)>>>5&3,e=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[t,e,n]}function VOe(r,t,e){var n=r.read_shift(1)>>>5&3;r.l+=e&&e.biff==2?3:4;var i=r.read_shift(e&&e.biff==2?1:2);return[n,i]}function GOe(r,t,e){var n=r.read_shift(1)>>>5&3,i=r.read_shift(e&&e.biff==2?1:2);return[n,i]}function WOe(r,t,e){var n=r.read_shift(1)>>>5&3;return r.l+=4,e.biff<8&&r.l--,e.biff==12&&(r.l+=2),[n]}function $Oe(r,t,e){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),a=4;if(e)switch(e.biff){case 5:a=15;break;case 12:a=6;break}return r.l+=a,[n,i]}var KOe=If,qOe=If,XOe=If;function c_(r,t,e){return r.l+=2,[uOe(r)]}function MR(r){return r.l+=6,[]}var YOe=c_,ZOe=MR,JOe=MR,eje=c_;function zue(r){return r.l+=2,[wue(r),r.read_shift(2)&1]}var tje=c_,rje=zue,nje=MR,ije=c_,aje=c_,sje=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function oje(r){r.l+=2;var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(4),i=r.read_shift(2),a=r.read_shift(2),s=sje[e>>2&31];return{ixti:t,coltype:e&3,rt:s,idx:n,c:i,C:a}}function lje(r){return r.l+=2,[r.read_shift(4)]}function uje(r,t,e){return r.l+=5,r.l+=2,r.l+=e.biff==2?1:4,["PTGSHEET"]}function cje(r,t,e){return r.l+=e.biff==2?4:5,["PTGENDSHEET"]}function fje(r){var t=r.read_shift(1)>>>5&3,e=r.read_shift(2);return[t,e]}function hje(r){var t=r.read_shift(1)>>>5&3,e=r.read_shift(2);return[t,e]}function dje(r){return r.l+=4,[0,0]}var JK={1:{n:"PtgExp",f:IOe},2:{n:"PtgTbl",f:XOe},3:{n:"PtgAdd",f:Ta},4:{n:"PtgSub",f:Ta},5:{n:"PtgMul",f:Ta},6:{n:"PtgDiv",f:Ta},7:{n:"PtgPower",f:Ta},8:{n:"PtgConcat",f:Ta},9:{n:"PtgLt",f:Ta},10:{n:"PtgLe",f:Ta},11:{n:"PtgEq",f:Ta},12:{n:"PtgGe",f:Ta},13:{n:"PtgGt",f:Ta},14:{n:"PtgNe",f:Ta},15:{n:"PtgIsect",f:Ta},16:{n:"PtgUnion",f:Ta},17:{n:"PtgRange",f:Ta},18:{n:"PtgUplus",f:Ta},19:{n:"PtgUminus",f:Ta},20:{n:"PtgPercent",f:Ta},21:{n:"PtgParen",f:Ta},22:{n:"PtgMissArg",f:Ta},23:{n:"PtgStr",f:ROe},26:{n:"PtgSheet",f:uje},27:{n:"PtgEndSheet",f:cje},28:{n:"PtgErr",f:MOe},29:{n:"PtgBool",f:DOe},30:{n:"PtgInt",f:LOe},31:{n:"PtgNum",f:POe},32:{n:"PtgArray",f:mOe},33:{n:"PtgFunc",f:EOe},34:{n:"PtgFuncVar",f:kOe},35:{n:"PtgName",f:HOe},36:{n:"PtgRef",f:COe},37:{n:"PtgArea",f:hOe},38:{n:"PtgMemArea",f:VOe},39:{n:"PtgMemErr",f:KOe},40:{n:"PtgMemNoMem",f:qOe},41:{n:"PtgMemFunc",f:GOe},42:{n:"PtgRefErr",f:WOe},43:{n:"PtgAreaErr",f:AOe},44:{n:"PtgRefN",f:BOe},45:{n:"PtgAreaN",f:gOe},46:{n:"PtgMemAreaN",f:fje},47:{n:"PtgMemNoMemN",f:hje},57:{n:"PtgNameX",f:QOe},58:{n:"PtgRef3d",f:TOe},59:{n:"PtgArea3d",f:dOe},60:{n:"PtgRefErr3d",f:$Oe},61:{n:"PtgAreaErr3d",f:pOe},255:{}},Aje={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},pje={1:{n:"PtgElfLel",f:zue},2:{n:"PtgElfRw",f:ije},3:{n:"PtgElfCol",f:YOe},6:{n:"PtgElfRwV",f:aje},7:{n:"PtgElfColV",f:eje},10:{n:"PtgElfRadical",f:tje},11:{n:"PtgElfRadicalS",f:nje},13:{n:"PtgElfColS",f:ZOe},15:{n:"PtgElfColSV",f:JOe},16:{n:"PtgElfRadicalLel",f:rje},25:{n:"PtgList",f:oje},29:{n:"PtgSxName",f:lje},255:{}},gje={0:{n:"PtgAttrNoop",f:dje},1:{n:"PtgAttrSemi",f:wOe},2:{n:"PtgAttrIf",f:xOe},4:{n:"PtgAttrChoose",f:vOe},8:{n:"PtgAttrGoto",f:yOe},16:{n:"PtgAttrSum",f:FOe},32:{n:"PtgAttrBaxcel",f:ZK},33:{n:"PtgAttrBaxcel",f:ZK},64:{n:"PtgAttrSpace",f:_Oe},65:{n:"PtgAttrSpaceSemi",f:SOe},128:{n:"PtgAttrIfError",f:bOe},255:{}};function mje(r,t,e,n){if(n.biff<8)return If(r,t);for(var i=r.l+t,a=[],s=0;s!==e.length;++s)switch(e[s][0]){case"PtgArray":e[s][1]=UOe(r,0,n),a.push(e[s][1]);break;case"PtgMemArea":e[s][2]=jOe(r,e[s][1],n),a.push(e[s][2]);break;case"PtgExp":n&&n.biff==12&&(e[s][1][1]=r.read_shift(4),a.push(e[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+e[s][0]}return t=i-r.l,t!==0&&a.push(If(r,t)),a}function vje(r,t,e){for(var n=r.l+t,i,a,s=[];n!=r.l;)t=n-r.l,a=r[r.l],i=JK[a]||JK[Aje[a]],(a===24||a===25)&&(i=(a===24?pje:gje)[r[r.l+1]]),!i||!i.f?If(r,t):s.push([i.n,i.f(r,t,e)]);return s}function yje(r){for(var t=[],e=0;e<r.length;++e){for(var n=r[e],i=[],a=0;a<n.length;++a){var s=n[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var xje={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function bje(r,t){if(!r&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function Vue(r,t,e){if(!r)return"SH33TJSERR0";if(e.biff>8&&(!r.XTI||!r.XTI[t]))return r.SheetNames[t];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[t];if(e.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":r.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(e.biff>8)switch(r[n[0]][0]){case 357:return i=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 358:return e.SID!=null?r.SheetNames[e.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return r[n[0]][0][3]?(i=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function eq(r,t,e){var n=Vue(r,t,e);return n=="#REF"?n:bje(n,e)}function Q1(r,t,e,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,u,c,f=0,h=0,d,A="";if(!r[0]||!r[0][0])return"";for(var p=-1,g="",m=0,v=r[0].length;m<v;++m){var y=r[0][m];switch(y[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),p>=0){switch(r[0][p][1][0]){case 0:g=Yi(" ",r[0][p][1][1]);break;case 1:g=Yi("\r",r[0][p][1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][p][1][0])}u=u+g,p=-1}o.push(u+xje[y[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":c=W2(y[1][1],s,i),o.push($2(c,a));break;case"PtgRefN":c=e?W2(y[1][1],e,i):y[1][1],o.push($2(c,a));break;case"PtgRef3d":f=y[1][1],c=W2(y[1][2],s,i),A=eq(n,f,i),o.push(A+"!"+$2(c,a));break;case"PtgFunc":case"PtgFuncVar":var b=y[1][0],_=y[1][1];b||(b=0),b&=127;var T=b==0?[]:o.slice(-b);o.length-=b,_==="User"&&(_=T.shift()),o.push(_+"("+T.join(",")+")");break;case"PtgBool":o.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(y[1]);break;case"PtgNum":o.push(String(y[1]));break;case"PtgStr":o.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(y[1]);break;case"PtgAreaN":d=OK(y[1][1],e?{s:e}:s,i),o.push(Dk(d,i));break;case"PtgArea":d=OK(y[1][1],s,i),o.push(Dk(d,i));break;case"PtgArea3d":f=y[1][1],d=y[1][2],A=eq(n,f,i),o.push(A+"!"+Dk(d,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=y[1][2];var I=(n.names||[])[h-1]||(n[0]||[])[h],N=I?I.Name:"SH33TJSNAME"+String(h);N&&N.slice(0,6)=="_xlfn."&&!i.xlfn&&(N=N.slice(6)),o.push(N);break;case"PtgNameX":var F=y[1][1];h=y[1][2];var P;if(i.biff<=5)F<0&&(F=-F),n[F]&&(P=n[F][h]);else{var D="";if(((n[F]||[])[0]||[])[0]==14849||(((n[F]||[])[0]||[])[0]==1025?n[F][h]&&n[F][h].itab>0&&(D=n.SheetNames[n[F][h].itab-1]+"!"):D=n.SheetNames[h-1]+"!"),n[F]&&n[F][h])D+=n[F][h].Name;else if(n[0]&&n[0][h])D+=n[0][h].Name;else{var R=(Vue(n,F,i)||"").split(";;");R[h-1]?D=R[h-1]:D+="SH33TJSERRX"}o.push(D);break}P||(P={Name:"SH33TJSERRY"}),o.push(P.Name);break;case"PtgParen":var E="(",L=")";if(p>=0){switch(g="",r[0][p][1][0]){case 2:E=Yi(" ",r[0][p][1][1])+E;break;case 3:E=Yi("\r",r[0][p][1][1])+E;break;case 4:L=Yi(" ",r[0][p][1][1])+L;break;case 5:L=Yi("\r",r[0][p][1][1])+L;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][p][1][0])}p=-1}o.push(E+o.pop()+L);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":c={c:y[1][1],r:y[1][0]};var k={c:e.c,r:e.r};if(n.sharedf[ii(c)]){var w=n.sharedf[ii(c)];o.push(Q1(w,s,k,n,i))}else{var C=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(c.c<u[0].s.c||c.c>u[0].e.c)&&!(c.r<u[0].s.r||c.r>u[0].e.r)){o.push(Q1(u[1],s,k,n,i)),C=!0;break}C||o.push(y[1])}break;case"PtgArray":o.push("{"+yje(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=m;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var S=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&p>=0&&S.indexOf(r[0][m][0])==-1){y=r[0][p];var B=!0;switch(y[1][0]){case 4:B=!1;case 0:g=Yi(" ",y[1][1]);break;case 5:B=!1;case 1:g=Yi("\r",y[1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}o.push((B?g:"")+o.pop()+(B?"":g)),p=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function wje(r){if(r==null){var t=Tt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof r=="number")return Fg(r);return Fg(0)}function _je(r,t,e,n,i){var a=Ig(t,e,i),s=wje(r.v),o=Tt(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var u=Tt(r.bf.length),c=0;c<r.bf.length;++c)u[c]=r.bf[c];var f=Ns([a,s,o,u]);return f}function H8(r,t,e){var n=r.read_shift(4),i=vje(r,n,e),a=r.read_shift(4),s=a>0?mje(r,a,i,e):null;return[i,s]}var Sje=H8,Q8=H8,Cje=H8,Bje=H8,Tje={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Gue={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Eje={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function kje(r){var t="of:="+r.replace(FR,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function Nje(r){return r.replace(/\./,"!")}var K2=typeof Map<"u";function LR(r,t,e){var n=0,i=r.length;if(e){if(K2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)){for(var a=K2?e.get(t):e[t];n<a.length;++n)if(r[a[n]].t===t)return r.Count++,a[n]}}else for(;n<i;++n)if(r[n].t===t)return r.Count++,n;return r[i]={t},r.Count++,r.Unique++,e&&(K2?(e.has(t)||e.set(t,[]),e.get(t).push(i)):(Object.prototype.hasOwnProperty.call(e,t)||(e[t]=[]),e[t].push(i))),i}function z8(r,t){var e={min:r+1,max:r+1},n=-1;return t.MDW&&(Dh=t.MDW),t.width!=null?e.customWidth=1:t.wpx!=null?n=rC(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(e.width=EM(n),e.customWidth=1):t.width!=null&&(e.width=t.width),t.hidden&&(e.hidden=!0),t.level!=null&&(e.outlineLevel=e.level=t.level),e}function Wue(r,t){if(r){var e=[.7,.7,.75,.75,.3,.3];r.left==null&&(r.left=e[0]),r.right==null&&(r.right=e[1]),r.top==null&&(r.top=e[2]),r.bottom==null&&(r.bottom=e[3]),r.header==null&&(r.header=e[4]),r.footer==null&&(r.footer=e[5])}}function v0(r,t,e){var n=e.revssf[t.z!=null?t.z:"General"],i=60,a=r.length;if(n==null&&e.ssf){for(;i<392;++i)if(e.ssf[i]==null){Hle(t.z,i),e.ssf[i]=t.z,e.revssf[t.z]=n=i;break}}for(i=0;i!=a;++i)if(r[i].numFmtId===n)return i;return r[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function Fje(r,t,e){if(r&&r["!ref"]){var n=Bi(r["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+e+"): "+r["!ref"])}}function Ije(r){if(r.length===0)return"";for(var t='<mergeCells count="'+r.length+'">',e=0;e!=r.length;++e)t+='<mergeCell ref="'+Fa(r[e])+'"/>';return t+"</mergeCells>"}function Mje(r,t,e,n,i){var a=!1,s={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[e];try{t.Workbook&&(l=t.Workbook.Sheets[e].CodeName||l)}catch{}a=!0,s.codeName=cw(ti(l))}if(r&&r["!outline"]){var u={summaryBelow:1,summaryRight:1};r["!outline"].above&&(u.summaryBelow=0),r["!outline"].left&&(u.summaryRight=0),o=(o||"")+qt("outlinePr",null,u)}!a&&!o||(i[i.length]=qt("sheetPr",o,s))}var Lje=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Dje=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Pje(r){var t={sheet:1};return Lje.forEach(function(e){r[e]!=null&&r[e]&&(t[e]="1")}),Dje.forEach(function(e){r[e]!=null&&!r[e]&&(t[e]="0")}),r.password&&(t.password=kue(r.password).toString(16).toUpperCase()),qt("sheetProtection",null,t)}function Rje(r){return Wue(r),qt("pageMargins",null,r)}function Oje(r,t){for(var e=["<cols>"],n,i=0;i!=t.length;++i)(n=t[i])&&(e[e.length]=qt("col",null,z8(i,n)));return e[e.length]="</cols>",e.join("")}function jje(r,t,e,n){var i=typeof r.ref=="string"?r.ref:Fa(r.ref);e.Workbook||(e.Workbook={Sheets:[]}),e.Workbook.Names||(e.Workbook.Names=[]);var a=e.Workbook.Names,s=zl(i);s.s.r==s.e.r&&(s.e.r=zl(t["!ref"]).e.r,i=Fa(s));for(var o=0;o<a.length;++o){var l=a[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+e.SheetNames[n]+"'!"+i;break}}return o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+e.SheetNames[n]+"'!"+i}),qt("autoFilter",null,{ref:i})}function Uje(r,t,e,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),qt("sheetViews",qt("sheetView",null,i),{})}function Hje(r,t,e,n){if(r.c&&e["!comments"].push([t,r.c]),r.v===void 0&&typeof r.f!="string"||r.t==="z"&&!r.f)return"";var i="",a=r.t,s=r.v;if(r.t!=="z")switch(r.t){case"b":i=r.v?"1":"0";break;case"n":i=""+r.v;break;case"e":i=u_[r.v];break;case"d":n&&n.cellDates?i=Io(r.v,-1).toISOString():(r=sl(r),r.t="n",i=""+(r.v=al(Io(r.v)))),typeof r.z>"u"&&(r.z=na[14]);break;default:i=r.v;break}var o=Fs("v",ti(i)),l={r:t},u=v0(n.cellXfs,r,n);switch(u!==0&&(l.s=u),r.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(r.v==null){delete r.t;break}if(r.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Fs("v",""+LR(n.Strings,r.v,n.revStrings)),l.t="s";break}l.t="str";break}if(r.t!=a&&(r.t=a,r.v=s),typeof r.f=="string"&&r.f){var c=r.F&&r.F.slice(0,t.length)==t?{t:"array",ref:r.F}:null;o=qt("f",ti(r.f),c)+(r.v!=null?o:"")}return r.l&&e["!links"].push([t,r.l]),r.D&&(l.cm=1),qt("c",o,l)}function Qje(r,t,e,n){var i=[],a=[],s=Bi(r["!ref"]),o="",l,u="",c=[],f=0,h=0,d=r["!rows"],A=Array.isArray(r),p={r:u},g,m=-1;for(h=s.s.c;h<=s.e.c;++h)c[h]=uo(h);for(f=s.s.r;f<=s.e.r;++f){for(a=[],u=Ps(f),h=s.s.c;h<=s.e.c;++h){l=c[h]+u;var v=A?(r[f]||[])[h]:r[l];v!==void 0&&(o=Hje(v,l,r,t))!=null&&a.push(o)}(a.length>0||d&&d[f])&&(p={r:u},d&&d[f]&&(g=d[f],g.hidden&&(p.hidden=1),m=-1,g.hpx?m=nC(g.hpx):g.hpt&&(m=g.hpt),m>-1&&(p.ht=m,p.customHeight=1),g.level&&(p.outlineLevel=g.level)),i[i.length]=qt("row",a.join(""),p))}if(d)for(;f<d.length;++f)d&&d[f]&&(p={r:f+1},g=d[f],g.hidden&&(p.hidden=1),m=-1,g.hpx?m=nC(g.hpx):g.hpt&&(m=g.hpt),m>-1&&(p.ht=m,p.customHeight=1),g.level&&(p.outlineLevel=g.level),i[i.length]=qt("row","",p));return i.join("")}function $ue(r,t,e,n){var i=[Da,qt("worksheet",null,{xmlns:xy[0],"xmlns:r":fs.r})],a=e.SheetNames[r],s=0,o="",l=e.Sheets[a];l==null&&(l={});var u=l["!ref"]||"A1",c=Bi(u);if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575),u=Fa(c)}n||(n={}),l["!comments"]=[];var f=[];Mje(l,e,r,t,i),i[i.length]=qt("dimension",null,{ref:u}),i[i.length]=Uje(l,t,r,e),t.sheetFormat&&(i[i.length]=qt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=Oje(l,l["!cols"])),i[s=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=Qje(l,t),o.length>0&&(i[i.length]=o)),i.length>s+1&&(i[i.length]="</sheetData>",i[s]=i[s].replace("/>",">")),l["!protect"]&&(i[i.length]=Pje(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=jje(l["!autofilter"],l,e,r)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=Ije(l["!merges"]));var h=-1,d,A=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(p){p[1].Target&&(d={ref:p[0]},p[1].Target.charAt(0)!="#"&&(A=Zn(n,-1,ti(p[1].Target).replace(/#.*$/,""),Dn.HLINK),d["r:id"]="rId"+A),(h=p[1].Target.indexOf("#"))>-1&&(d.location=ti(p[1].Target.slice(h+1))),p[1].Tooltip&&(d.tooltip=ti(p[1].Tooltip)),i[i.length]=qt("hyperlink",null,d))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=Rje(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=Fs("ignoredErrors",qt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(A=Zn(n,-1,"../drawings/drawing"+(r+1)+".xml",Dn.DRAW),i[i.length]=qt("drawing",null,{"r:id":"rId"+A}),l["!drawing"]=f),l["!comments"].length>0&&(A=Zn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Dn.VML),i[i.length]=qt("legacyDrawing",null,{"r:id":"rId"+A}),l["!legacy"]=A),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function zje(r,t){var e={},n=r.l+t;e.r=r.read_shift(4),r.l+=4;var i=r.read_shift(2);r.l+=1;var a=r.read_shift(1);return r.l=n,a&7&&(e.level=a&7),a&16&&(e.hidden=!0),a&32&&(e.hpt=i/20),e}function Vje(r,t,e){var n=Tt(145),i=(e["!rows"]||[])[r]||{};n.write_shift(4,r),n.write_shift(4,0);var a=320;i.hpx?a=nC(i.hpx)*20:i.hpt&&(a=i.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var u={r,c:0},c=0;c<16;++c)if(!(t.s.c>c+1<<10||t.e.c<c<<10)){for(var f=-1,h=-1,d=c<<10;d<c+1<<10;++d){u.c=d;var A=Array.isArray(e)?(e[u.r]||[])[u.c]:e[ii(u)];A&&(f<0&&(f=d),h=d)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,h))}var p=n.l;return n.l=l,n.write_shift(4,o),n.l=p,n.length>n.l?n.slice(0,n.l):n}function Gje(r,t,e,n){var i=Vje(n,e,t);(i.length>17||(t["!rows"]||[])[n])&&Dt(r,0,i)}var Wje=Zg,$je=wy;function Kje(){}function qje(r,t){var e={},n=r[r.l];return++r.l,e.above=!(n&64),e.left=!(n&128),r.l+=18,e.name=aPe(r),e}function Xje(r,t,e){e==null&&(e=Tt(84+4*r.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),e.write_shift(1,n);for(var i=1;i<3;++i)e.write_shift(1,0);return J6({auto:1},e),e.write_shift(-4,-1),e.write_shift(-4,-1),lue(r,e),e.slice(0,e.l)}function Yje(r){var t=Pu(r);return[t]}function Zje(r,t,e){return e==null&&(e=Tt(8)),qg(t,e)}function Jje(r){var t=Xg(r);return[t]}function eUe(r,t,e){return e==null&&(e=Tt(4)),Yg(t,e)}function tUe(r){var t=Pu(r),e=r.read_shift(1);return[t,e,"b"]}function rUe(r,t,e){return e==null&&(e=Tt(9)),qg(t,e),e.write_shift(1,r.v?1:0),e}function nUe(r){var t=Xg(r),e=r.read_shift(1);return[t,e,"b"]}function iUe(r,t,e){return e==null&&(e=Tt(5)),Yg(t,e),e.write_shift(1,r.v?1:0),e}function aUe(r){var t=Pu(r),e=r.read_shift(1);return[t,e,"e"]}function sUe(r,t,e){return e==null&&(e=Tt(9)),qg(t,e),e.write_shift(1,r.v),e}function oUe(r){var t=Xg(r),e=r.read_shift(1);return[t,e,"e"]}function lUe(r,t,e){return e==null&&(e=Tt(8)),Yg(t,e),e.write_shift(1,r.v),e.write_shift(2,0),e.write_shift(1,0),e}function uUe(r){var t=Pu(r),e=r.read_shift(4);return[t,e,"s"]}function cUe(r,t,e){return e==null&&(e=Tt(12)),qg(t,e),e.write_shift(4,t.v),e}function fUe(r){var t=Xg(r),e=r.read_shift(4);return[t,e,"s"]}function hUe(r,t,e){return e==null&&(e=Tt(8)),Yg(t,e),e.write_shift(4,t.v),e}function dUe(r){var t=Pu(r),e=_y(r);return[t,e,"n"]}function AUe(r,t,e){return e==null&&(e=Tt(16)),qg(t,e),Fg(r.v,e),e}function pUe(r){var t=Xg(r),e=_y(r);return[t,e,"n"]}function gUe(r,t,e){return e==null&&(e=Tt(12)),Yg(t,e),Fg(r.v,e),e}function mUe(r){var t=Pu(r),e=uue(r);return[t,e,"n"]}function vUe(r,t,e){return e==null&&(e=Tt(12)),qg(t,e),cue(r.v,e),e}function yUe(r){var t=Xg(r),e=uue(r);return[t,e,"n"]}function xUe(r,t,e){return e==null&&(e=Tt(8)),Yg(t,e),cue(r.v,e),e}function bUe(r){var t=Pu(r),e=BR(r);return[t,e,"is"]}function wUe(r){var t=Pu(r),e=co(r);return[t,e,"str"]}function _Ue(r,t,e){return e==null&&(e=Tt(12+4*r.v.length)),qg(t,e),As(r.v,e),e.length>e.l?e.slice(0,e.l):e}function SUe(r){var t=Xg(r),e=co(r);return[t,e,"str"]}function CUe(r,t,e){return e==null&&(e=Tt(8+4*r.v.length)),Yg(t,e),As(r.v,e),e.length>e.l?e.slice(0,e.l):e}function BUe(r,t,e){var n=r.l+t,i=Pu(r);i.r=e["!row"];var a=r.read_shift(1),s=[i,a,"b"];if(e.cellFormula){r.l+=2;var o=Q8(r,n-r.l,e);s[3]=Q1(o,null,i,e.supbooks,e)}else r.l=n;return s}function TUe(r,t,e){var n=r.l+t,i=Pu(r);i.r=e["!row"];var a=r.read_shift(1),s=[i,a,"e"];if(e.cellFormula){r.l+=2;var o=Q8(r,n-r.l,e);s[3]=Q1(o,null,i,e.supbooks,e)}else r.l=n;return s}function EUe(r,t,e){var n=r.l+t,i=Pu(r);i.r=e["!row"];var a=_y(r),s=[i,a,"n"];if(e.cellFormula){r.l+=2;var o=Q8(r,n-r.l,e);s[3]=Q1(o,null,i,e.supbooks,e)}else r.l=n;return s}function kUe(r,t,e){var n=r.l+t,i=Pu(r);i.r=e["!row"];var a=co(r),s=[i,a,"str"];if(e.cellFormula){r.l+=2;var o=Q8(r,n-r.l,e);s[3]=Q1(o,null,i,e.supbooks,e)}else r.l=n;return s}var NUe=Zg,FUe=wy;function IUe(r,t){return t==null&&(t=Tt(4)),t.write_shift(4,r),t}function MUe(r,t){var e=r.l+t,n=Zg(r),i=TR(r),a=co(r),s=co(r),o=co(r);r.l=e;var l={rfx:n,relId:i,loc:a,display:o};return s&&(l.Tooltip=s),l}function LUe(r,t){var e=Tt(50+4*(r[1].Target.length+(r[1].Tooltip||"").length));wy({s:ds(r[0]),e:ds(r[0])},e),ER("rId"+t,e);var n=r[1].Target.indexOf("#"),i=n==-1?"":r[1].Target.slice(n+1);return As(i||"",e),As(r[1].Tooltip||"",e),As("",e),e.slice(0,e.l)}function DUe(){}function PUe(r,t,e){var n=r.l+t,i=fue(r),a=r.read_shift(1),s=[i];if(s[2]=a,e.cellFormula){var o=Sje(r,n-r.l,e);s[1]=o}else r.l=n;return s}function RUe(r,t,e){var n=r.l+t,i=Zg(r),a=[i];if(e.cellFormula){var s=Bje(r,n-r.l,e);a[1]=s,r.l=n}else r.l=n;return a}function OUe(r,t,e){e==null&&(e=Tt(18));var n=z8(r,t);e.write_shift(-4,r),e.write_shift(-4,r),e.write_shift(4,(n.width||10)*256),e.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),t.level&&(i|=t.level<<8),e.write_shift(2,i),e}var Kue=["left","right","top","bottom","header","footer"];function jUe(r){var t={};return Kue.forEach(function(e){t[e]=_y(r)}),t}function UUe(r,t){return t==null&&(t=Tt(6*8)),Wue(r),Kue.forEach(function(e){Fg(r[e],t)}),t}function HUe(r){var t=r.read_shift(2);return r.l+=28,{RTL:t&32}}function QUe(r,t,e){e==null&&(e=Tt(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,100),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(4,0),e}function zUe(r){var t=Tt(24);return t.write_shift(4,4),t.write_shift(4,1),wy(r,t),t}function VUe(r,t){return t==null&&(t=Tt(16*4+2)),t.write_shift(2,r.password?kue(r.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(e){e[1]?t.write_shift(4,r[e[0]]!=null&&!r[e[0]]?1:0):t.write_shift(4,r[e[0]]!=null&&r[e[0]]?0:1)}),t}function GUe(){}function WUe(){}function $Ue(r,t,e,n,i,a,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=sl(t),t.z=t.z||na[14],t.v=al(Io(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var l={r:e,c:n};switch(l.s=v0(i.cellXfs,t,i),t.l&&a["!links"].push([ii(l),t.l]),t.c&&a["!comments"].push([ii(l),t.c]),t.t){case"s":case"str":return i.bookSST?(o=LR(i.Strings,t.v,i.revStrings),l.t="s",l.v=o,s?Dt(r,18,hUe(t,l)):Dt(r,7,cUe(t,l))):(l.t="str",s?Dt(r,17,CUe(t,l)):Dt(r,6,_Ue(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?Dt(r,13,xUe(t,l)):Dt(r,2,vUe(t,l)):s?Dt(r,16,gUe(t,l)):Dt(r,5,AUe(t,l)),!0;case"b":return l.t="b",s?Dt(r,15,iUe(t,l)):Dt(r,4,rUe(t,l)),!0;case"e":return l.t="e",s?Dt(r,14,lUe(t,l)):Dt(r,3,sUe(t,l)),!0}return s?Dt(r,12,eUe(t,l)):Dt(r,1,Zje(t,l)),!0}function KUe(r,t,e,n){var i=Bi(t["!ref"]||"A1"),a,s="",o=[];Dt(r,145);var l=Array.isArray(t),u=i.e.r;t["!rows"]&&(u=Math.max(i.e.r,t["!rows"].length-1));for(var c=i.s.r;c<=u;++c){s=Ps(c),Gje(r,t,i,c);var f=!1;if(c<=i.e.r)for(var h=i.s.c;h<=i.e.c;++h){c===i.s.r&&(o[h]=uo(h)),a=o[h]+s;var d=l?(t[c]||[])[h]:t[a];if(!d){f=!1;continue}f=$Ue(r,d,c,h,n,t,f)}}Dt(r,146)}function qUe(r,t){!t||!t["!merges"]||(Dt(r,177,IUe(t["!merges"].length)),t["!merges"].forEach(function(e){Dt(r,176,FUe(e))}),Dt(r,178))}function XUe(r,t){!t||!t["!cols"]||(Dt(r,390),t["!cols"].forEach(function(e,n){e&&Dt(r,60,OUe(n,e))}),Dt(r,391))}function YUe(r,t){!t||!t["!ref"]||(Dt(r,648),Dt(r,649,zUe(Bi(t["!ref"]))),Dt(r,650))}function ZUe(r,t,e){t["!links"].forEach(function(n){if(n[1].Target){var i=Zn(e,-1,n[1].Target.replace(/#.*$/,""),Dn.HLINK);Dt(r,494,LUe(n,i))}}),delete t["!links"]}function JUe(r,t,e,n){if(t["!comments"].length>0){var i=Zn(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Dn.VML);Dt(r,551,ER("rId"+i)),t["!legacy"]=i}}function eHe(r,t,e,n){if(t["!autofilter"]){var i=t["!autofilter"],a=typeof i.ref=="string"?i.ref:Fa(i.ref);e.Workbook||(e.Workbook={Sheets:[]}),e.Workbook.Names||(e.Workbook.Names=[]);var s=e.Workbook.Names,o=zl(a);o.s.r==o.e.r&&(o.e.r=zl(t["!ref"]).e.r,a=Fa(o));for(var l=0;l<s.length;++l){var u=s[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+e.SheetNames[n]+"'!"+a;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+e.SheetNames[n]+"'!"+a}),Dt(r,161,wy(Bi(a))),Dt(r,162)}}function tHe(r,t,e){Dt(r,133),Dt(r,137,QUe(t,e)),Dt(r,138),Dt(r,134)}function rHe(r,t){t["!protect"]&&Dt(r,535,VUe(t["!protect"]))}function nHe(r,t,e,n){var i=nl(),a=e.SheetNames[r],s=e.Sheets[a]||{},o=a;try{e&&e.Workbook&&(o=e.Workbook.Sheets[r].CodeName||o)}catch{}var l=Bi(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],Dt(i,129),(e.vbaraw||s["!outline"])&&Dt(i,147,Xje(o,s["!outline"])),Dt(i,148,$je(l)),tHe(i,s,e.Workbook),XUe(i,s),KUe(i,s,r,t),rHe(i,s),eHe(i,s,e,r),qUe(i,s),ZUe(i,s,n),s["!margins"]&&Dt(i,476,UUe(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&YUe(i,s),JUe(i,s,r,n),Dt(i,130),i.end()}function iHe(r,t){r.l+=10;var e=co(r);return{name:e}}var aHe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function sHe(r){return!r.Workbook||!r.Workbook.WBProps?"false":R9e(r.Workbook.WBProps.date1904)?"true":"false"}var oHe="][*?/\\".split("");function que(r,t){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var e=!0;return oHe.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),e}function lHe(r,t,e){r.forEach(function(n,i){que(n);for(var a=0;a<i;++a)if(n==r[a])throw new Error("Duplicate Sheet Name: "+n);if(e){var s=t&&t[i]&&t[i].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function uHe(r){if(!r||!r.SheetNames||!r.Sheets)throw new Error("Invalid Workbook");if(!r.SheetNames.length)throw new Error("Workbook is empty");var t=r.Workbook&&r.Workbook.Sheets||[];lHe(r.SheetNames,t,!!r.vbaraw);for(var e=0;e<r.SheetNames.length;++e)Fje(r.Sheets[r.SheetNames[e]],r.SheetNames[e],e)}function Xue(r){var t=[Da];t[t.length]=qt("workbook",null,{xmlns:xy[0],"xmlns:r":fs.r});var e=r.Workbook&&(r.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};r.Workbook&&r.Workbook.WBProps&&(aHe.forEach(function(o){r.Workbook.WBProps[o[0]]!=null&&r.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=r.Workbook.WBProps[o[0]])}),r.Workbook.WBProps.CodeName&&(n.codeName=r.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=qt("workbookPr",null,n);var i=r.Workbook&&r.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=r.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==r.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=r.SheetNames.length;++a){var s={name:ti(r.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=qt("sheet",null,s)}return t[t.length]="</sheets>",e&&(t[t.length]="<definedNames>",r.Workbook&&r.Workbook.Names&&r.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(t[t.length]=qt("definedName",ti(o.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function cHe(r,t){var e={};return e.Hidden=r.read_shift(4),e.iTabID=r.read_shift(4),e.strRelID=TM(r),e.name=co(r),e}function fHe(r,t){return t||(t=Tt(127)),t.write_shift(4,r.Hidden),t.write_shift(4,r.iTabID),ER(r.strRelID,t),As(r.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function hHe(r,t){var e={},n=r.read_shift(4);e.defaultThemeVersion=r.read_shift(4);var i=t>8?co(r):"";return i.length>0&&(e.CodeName=i),e.autoCompressPictures=!!(n&65536),e.backupFile=!!(n&64),e.checkCompatibility=!!(n&4096),e.date1904=!!(n&1),e.filterPrivacy=!!(n&8),e.hidePivotFieldList=!!(n&1024),e.promptedSolutions=!!(n&16),e.publishItems=!!(n&2048),e.refreshAllConnections=!!(n&262144),e.saveExternalLinkValues=!!(n&128),e.showBorderUnselectedTables=!!(n&4),e.showInkAnnotation=!!(n&32),e.showObjects=["all","placeholders","none"][n>>13&3],e.showPivotChartFilter=!!(n&32768),e.updateLinks=["userSet","never","always"][n>>8&3],e}function dHe(r,t){t||(t=Tt(72));var e=0;return r&&r.filterPrivacy&&(e|=8),t.write_shift(4,e),t.write_shift(4,0),lue(r&&r.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function AHe(r,t,e){var n=r.l+t;r.l+=4,r.l+=1;var i=r.read_shift(4),a=sPe(r),s=Cje(r,0,e),o=TR(r);r.l=n;var l={Name:a,Ptg:s};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function pHe(r,t){Dt(r,143);for(var e=0;e!=t.SheetNames.length;++e){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[e]&&t.Workbook.Sheets[e].Hidden||0,i={Hidden:n,iTabID:e+1,strRelID:"rId"+(e+1),name:t.SheetNames[e]};Dt(r,156,fHe(i))}Dt(r,144)}function gHe(r,t){t||(t=Tt(127));for(var e=0;e!=4;++e)t.write_shift(4,0);return As("SheetJS",t),As(W6.version,t),As(W6.version,t),As("7262",t),t.length>t.l?t.slice(0,t.l):t}function mHe(r,t){t||(t=Tt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,r),t.write_shift(4,r);var e=120;return t.write_shift(1,e),t.length>t.l?t.slice(0,t.l):t}function vHe(r,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var e=t.Workbook.Sheets,n=0,i=-1,a=-1;n<e.length;++n)!e[n]||!e[n].Hidden&&i==-1?i=n:e[n].Hidden==1&&a==-1&&(a=n);a>i||(Dt(r,135),Dt(r,158,mHe(i)),Dt(r,136))}}function yHe(r,t){var e=nl();return Dt(e,131),Dt(e,128,gHe()),Dt(e,153,dHe(r.Workbook&&r.Workbook.WBProps||null)),vHe(e,r),pHe(e,r),Dt(e,132),e.end()}function xHe(r,t,e){return(t.slice(-4)===".bin"?yHe:Xue)(r)}function bHe(r,t,e,n,i){return(t.slice(-4)===".bin"?nHe:$ue)(r,e,n,i)}function wHe(r,t,e){return(t.slice(-4)===".bin"?URe:Iue)(r,e)}function _He(r,t,e){return(t.slice(-4)===".bin"?dRe:Eue)(r,e)}function SHe(r,t,e){return(t.slice(-4)===".bin"?rOe:Rue)(r)}function CHe(r){return(r.slice(-4)===".bin"?KRe:Due)()}function BHe(r,t){var e=[];return r.Props&&e.push(wPe(r.Props,t)),r.Custprops&&e.push(_Pe(r.Props,r.Custprops)),e.join("")}function THe(){return""}function EHe(r,t){var e=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,i){var a=[];a.push(qt("NumberFormat",null,{"ss:Format":ti(na[n.numFmtId])}));var s={"ss:ID":"s"+(21+i)};e.push(qt("Style",a.join(""),s))}),qt("Styles",e.join(""))}function Yue(r){return qt("NamedRange",null,{"ss:Name":r.Name,"ss:RefersTo":"="+IR(r.Ref,{r:0,c:0})})}function kHe(r){if(!((r||{}).Workbook||{}).Names)return"";for(var t=r.Workbook.Names,e=[],n=0;n<t.length;++n){var i=t[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||e.push(Yue(i)))}return qt("Names",e.join(""))}function NHe(r,t,e,n){if(!r||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,a=[],s=0;s<i.length;++s){var o=i[s];o.Sheet==e&&(o.Name.match(/^_xlfn\./)||a.push(Yue(o)))}return a.join("")}function FHe(r,t,e,n){if(!r)return"";var i=[];if(r["!margins"]&&(i.push("<PageSetup>"),r["!margins"].header&&i.push(qt("Header",null,{"x:Margin":r["!margins"].header})),r["!margins"].footer&&i.push(qt("Footer",null,{"x:Margin":r["!margins"].footer})),i.push(qt("PageMargins",null,{"x:Bottom":r["!margins"].bottom||"0.75","x:Left":r["!margins"].left||"0.7","x:Right":r["!margins"].right||"0.7","x:Top":r["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[e])if(n.Workbook.Sheets[e].Hidden)i.push(qt("Visible",n.Workbook.Sheets[e].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<e&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==e&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),r["!protect"]&&(i.push(Fs("ProtectContents","True")),r["!protect"].objects&&i.push(Fs("ProtectObjects","True")),r["!protect"].scenarios&&i.push(Fs("ProtectScenarios","True")),r["!protect"].selectLockedCells!=null&&!r["!protect"].selectLockedCells?i.push(Fs("EnableSelection","NoSelection")):r["!protect"].selectUnlockedCells!=null&&!r["!protect"].selectUnlockedCells&&i.push(Fs("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){r["!protect"][s[0]]&&i.push("<"+s[1]+"/>")})),i.length==0?"":qt("WorksheetOptions",i.join(""),{xmlns:El.x})}function IHe(r){return r.map(function(t){var e=P9e(t.t||""),n=qt("ss:Data",e,{xmlns:"http://www.w3.org/TR/REC-html40"});return qt("Comment",n,{"ss:Author":t.a})}).join("")}function MHe(r,t,e,n,i,a,s){if(!r||r.v==null&&r.f==null)return"";var o={};if(r.f&&(o["ss:Formula"]="="+ti(IR(r.f,s))),r.F&&r.F.slice(0,t.length)==t){var l=ds(r.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(r.l&&r.l.Target&&(o["ss:HRef"]=ti(r.l.Target),r.l.Tooltip&&(o["x:HRefScreenTip"]=ti(r.l.Tooltip))),e["!merges"])for(var u=e["!merges"],c=0;c!=u.length;++c)u[c].s.c!=s.c||u[c].s.r!=s.r||(u[c].e.c>u[c].s.c&&(o["ss:MergeAcross"]=u[c].e.c-u[c].s.c),u[c].e.r>u[c].s.r&&(o["ss:MergeDown"]=u[c].e.r-u[c].s.r));var f="",h="";switch(r.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(r.v);break;case"b":f="Boolean",h=r.v?"1":"0";break;case"e":f="Error",h=u_[r.v];break;case"d":f="DateTime",h=new Date(r.v).toISOString(),r.z==null&&(r.z=r.z||na[14]);break;case"s":f="String",h=D9e(r.v||"");break}var d=v0(n.cellXfs,r,n);o["ss:StyleID"]="s"+(21+d),o["ss:Index"]=s.c+1;var A=r.v!=null?h:"",p=r.t=="z"?"":'<Data ss:Type="'+f+'">'+A+"</Data>";return(r.c||[]).length>0&&(p+=IHe(r.c)),qt("Cell",p,o)}function LHe(r,t){var e='<Row ss:Index="'+(r+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Fue(t.hpt)),t.hpx&&(e+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(e+=' ss:Hidden="1"')),e+">"}function DHe(r,t,e,n){if(!r["!ref"])return"";var i=Bi(r["!ref"]),a=r["!merges"]||[],s=0,o=[];r["!cols"]&&r["!cols"].forEach(function(g,m){NR(g);var v=!!g.width,y=z8(m,g),b={"ss:Index":m+1};v&&(b["ss:Width"]=tC(y.width)),g.hidden&&(b["ss:Hidden"]="1"),o.push(qt("Column",null,b))});for(var l=Array.isArray(r),u=i.s.r;u<=i.e.r;++u){for(var c=[LHe(u,(r["!rows"]||[])[u])],f=i.s.c;f<=i.e.c;++f){var h=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>f)&&!(a[s].s.r>u)&&!(a[s].e.c<f)&&!(a[s].e.r<u)){(a[s].s.c!=f||a[s].s.r!=u)&&(h=!0);break}if(!h){var d={r:u,c:f},A=ii(d),p=l?(r[u]||[])[f]:r[A];c.push(MHe(p,A,r,t,e,n,d))}}c.push("</Row>"),c.length>2&&o.push(c.join(""))}return o.join("")}function PHe(r,t,e){var n=[],i=e.SheetNames[r],a=e.Sheets[i],s=a?NHe(a,t,r,e):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=a?DHe(a,t,r,e):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(FHe(a,t,r,e)),n.join("")}function RHe(r,t){t||(t={}),r.SSF||(r.SSF=sl(na)),r.SSF&&(O8(),R8(r.SSF),t.revssf=j8(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF,t.cellXfs=[],v0(t.cellXfs,{},{revssf:{General:0}}));var e=[];e.push(BHe(r,t)),e.push(THe()),e.push(""),e.push("");for(var n=0;n<r.SheetNames.length;++n)e.push(qt("Worksheet",PHe(n,t,r),{"ss:Name":ti(r.SheetNames[n])}));return e[2]=EHe(r,t),e[3]=kHe(r),Da+qt("Workbook",e.join(""),{xmlns:El.ss,"xmlns:o":El.o,"xmlns:x":El.x,"xmlns:ss":El.ss,"xmlns:dt":El.dt,"xmlns:html":El.html})}var Ok={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function OHe(r,t){var e=[],n=[],i=[],a=0,s,o=TK(UK,"n"),l=TK(HK,"n");if(r.Props)for(s=Qs(r.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(o,s[a])?e:Object.prototype.hasOwnProperty.call(l,s[a])?n:i).push([s[a],r.Props[s[a]]]);if(r.Custprops)for(s=Qs(r.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(r.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(o,s[a])?e:Object.prototype.hasOwnProperty.call(l,s[a])?n:i).push([s[a],r.Custprops[s[a]]]);var u=[];for(a=0;a<i.length;++a)bue.indexOf(i[a][0])>-1||vue.indexOf(i[a][0])>-1||i[a][1]!=null&&u.push(i[a]);n.length&&si.utils.cfb_add(t,"/SummaryInformation",WK(n,Ok.SI,l,HK)),(e.length||u.length)&&si.utils.cfb_add(t,"/DocumentSummaryInformation",WK(e,Ok.DSI,o,UK,u.length?u:null,Ok.UDI))}function jHe(r,t){var e=t||{},n=si.utils.cfb_new({root:"R"}),i="/Workbook";switch(e.bookType||"xls"){case"xls":e.bookType="biff8";case"xla":e.bookType||(e.bookType="xla");case"biff8":i="/Workbook",e.biff=8;break;case"biff5":i="/Book",e.biff=5;break;default:throw new Error("invalid type "+e.bookType+" for XLS CFB")}return si.utils.cfb_add(n,i,Zue(r,e)),e.biff==8&&(r.Props||r.Custprops)&&OHe(r,n),e.biff==8&&r.vbaraw&&nOe(n,si.read(r.vbaraw,{type:typeof r.vbaraw=="string"?"binary":"buffer"})),n}var UHe={0:{f:zje},1:{f:Yje},2:{f:mUe},3:{f:aUe},4:{f:tUe},5:{f:dUe},6:{f:wUe},7:{f:uUe},8:{f:kUe},9:{f:EUe},10:{f:BUe},11:{f:TUe},12:{f:Jje},13:{f:yUe},14:{f:oUe},15:{f:nUe},16:{f:pUe},17:{f:SUe},18:{f:fUe},19:{f:BR},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:AHe},40:{},42:{},43:{f:wRe},44:{f:xRe},45:{f:CRe},46:{f:TRe},47:{f:BRe},48:{},49:{f:J9e},50:{},51:{f:zRe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:eRe},62:{f:bUe},63:{f:qRe},64:{f:GUe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:If,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:HUe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:qje},148:{f:Wje,p:16},151:{f:DUe},152:{},153:{f:hHe},154:{},155:{},156:{f:cHe},157:{},158:{},159:{T:1,f:cRe},160:{T:-1},161:{T:1,f:Zg},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:NUe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:HRe},336:{T:-1},337:{f:WRe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:TM},357:{},358:{},359:{},360:{T:1},361:{},362:{f:KPe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:PUe},427:{f:RUe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:jUe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Kje},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:MUe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:TM},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:eOe},633:{T:1},634:{T:-1},635:{T:1,f:ZRe},636:{T:-1},637:{f:nPe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:iHe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:WUe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Yt(r,t,e,n){var i=t;if(!isNaN(i)){var a=n||(e||[]).length||0,s=r.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&_R(e)&&r.push(e)}}function HHe(r,t,e,n){var i=(e||[]).length||0;if(i<=8224)return Yt(r,t,e,i);var a=t;if(!isNaN(a)){for(var s=e.parts||[],o=0,l=0,u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;var c=r.next(4);for(c.write_shift(2,a),c.write_shift(2,u),r.push(e.slice(l,l+u)),l+=u;l<i;){for(c=r.next(4),c.write_shift(2,60),u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;c.write_shift(2,u),r.push(e.slice(l,l+u)),l+=u}}}function f_(r,t,e){return r||(r=Tt(7)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,0),r.write_shift(1,0),r}function QHe(r,t,e,n){var i=Tt(9);return f_(i,r,t),_ue(e,n||"b",i),i}function zHe(r,t,e){var n=Tt(8+2*e.length);return f_(n,r,t),n.write_shift(1,e.length),n.write_shift(e.length,e,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function VHe(r,t,e,n){if(t.v!=null)switch(t.t){case"d":case"n":var i=t.t=="d"?al(Io(t.v)):t.v;i==(i|0)&&i>=0&&i<65536?Yt(r,2,iRe(e,n,i)):Yt(r,3,nRe(e,n,i));return;case"b":case"e":Yt(r,5,QHe(e,n,t.v,t.t));return;case"s":case"str":Yt(r,4,zHe(e,n,(t.v||"").slice(0,255)));return}Yt(r,1,f_(null,e,n))}function GHe(r,t,e,n){var i=Array.isArray(t),a=Bi(t["!ref"]||"A1"),s,o="",l=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),s=Fa(a)}for(var u=a.s.r;u<=a.e.r;++u){o=Ps(u);for(var c=a.s.c;c<=a.e.c;++c){u===a.s.r&&(l[c]=uo(c)),s=l[c]+o;var f=i?(t[u]||[])[c]:t[s];f&&VHe(r,f,u,c)}}}function WHe(r,t){for(var e=t||{},n=nl(),i=0,a=0;a<r.SheetNames.length;++a)r.SheetNames[a]==e.sheet&&(i=a);if(i==0&&e.sheet&&r.SheetNames[0]!=e.sheet)throw new Error("Sheet not found: "+e.sheet);return Yt(n,e.biff==4?1033:e.biff==3?521:9,kR(r,16,e)),GHe(n,r.Sheets[r.SheetNames[i]],i,e),Yt(n,10),n.end()}function $He(r,t,e){Yt(r,49,UPe({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},e))}function KHe(r,t,e){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&Yt(r,1054,zPe(i,t[i],e))})}function qHe(r,t){var e=Tt(19);e.write_shift(4,2151),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(2,3),e.write_shift(1,1),e.write_shift(4,0),Yt(r,2151,e),e=Tt(39),e.write_shift(4,2152),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(2,3),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(2,1),e.write_shift(4,4),e.write_shift(2,0),Bue(Bi(t["!ref"]||"A1"),e),e.write_shift(4,4),Yt(r,2152,e)}function XHe(r,t){for(var e=0;e<16;++e)Yt(r,224,KK({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Yt(r,224,KK(n,0,t))})}function YHe(r,t){for(var e=0;e<t["!links"].length;++e){var n=t["!links"][e];Yt(r,440,YPe(n)),n[1].Tooltip&&Yt(r,2048,ZPe(n))}delete t["!links"]}function ZHe(r,t){if(t){var e=0;t.forEach(function(n,i){++e<=256&&n&&Yt(r,125,tRe(z8(i,n),i))})}}function JHe(r,t,e,n,i){var a=16+v0(i.cellXfs,t,i);if(t.v==null&&!t.bf){Yt(r,513,Ig(e,n,a));return}if(t.bf)Yt(r,6,_je(t,e,n,i,a));else switch(t.t){case"d":case"n":var s=t.t=="d"?al(Io(t.v)):t.v;Yt(r,515,$Pe(e,n,s,a));break;case"b":case"e":Yt(r,517,WPe(e,n,t.v,a,i,t.t));break;case"s":case"str":if(i.bookSST){var o=LR(i.Strings,t.v,i.revStrings);Yt(r,253,HPe(e,n,o,a))}else Yt(r,516,QPe(e,n,(t.v||"").slice(0,255),a,i));break;default:Yt(r,513,Ig(e,n,a))}}function eQe(r,t,e){var n=nl(),i=e.SheetNames[r],a=e.Sheets[i]||{},s=(e||{}).Workbook||{},o=(s.Sheets||[])[r]||{},l=Array.isArray(a),u=t.biff==8,c,f="",h=[],d=Bi(a["!ref"]||"A1"),A=u?65536:16384;if(d.e.c>255||d.e.r>=A){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");d.e.c=Math.min(d.e.c,255),d.e.r=Math.min(d.e.c,A-1)}Yt(n,2057,kR(e,16,t)),Yt(n,13,fu(1)),Yt(n,12,fu(100)),Yt(n,15,To(!0)),Yt(n,17,To(!1)),Yt(n,16,Fg(.001)),Yt(n,95,To(!0)),Yt(n,42,To(!1)),Yt(n,43,To(!1)),Yt(n,130,fu(1)),Yt(n,128,GPe()),Yt(n,131,To(!1)),Yt(n,132,To(!1)),u&&ZHe(n,a["!cols"]),Yt(n,512,VPe(d,t)),u&&(a["!links"]=[]);for(var p=d.s.r;p<=d.e.r;++p){f=Ps(p);for(var g=d.s.c;g<=d.e.c;++g){p===d.s.r&&(h[g]=uo(g)),c=h[g]+f;var m=l?(a[p]||[])[g]:a[c];m&&(JHe(n,m,p,g,t),u&&m.l&&a["!links"].push([c,m.l]))}}var v=o.CodeName||o.name||i;return u&&Yt(n,574,jPe((s.Views||[])[0])),u&&(a["!merges"]||[]).length&&Yt(n,229,XPe(a["!merges"])),u&&YHe(n,a),Yt(n,442,Cue(v)),u&&qHe(n,a),Yt(n,10),n.end()}function tQe(r,t,e){var n=nl(),i=(r||{}).Workbook||{},a=i.Sheets||[],s=i.WBProps||{},o=e.biff==8,l=e.biff==5;if(Yt(n,2057,kR(r,5,e)),e.bookType=="xla"&&Yt(n,135),Yt(n,225,o?fu(1200):null),Yt(n,193,BPe(2)),l&&Yt(n,191),l&&Yt(n,192),Yt(n,226),Yt(n,92,DPe("SheetJS",e)),Yt(n,66,fu(o?1200:1252)),o&&Yt(n,353,fu(0)),o&&Yt(n,448),Yt(n,317,rRe(r.SheetNames.length)),o&&r.vbaraw&&Yt(n,211),o&&r.vbaraw){var u=s.CodeName||"ThisWorkbook";Yt(n,442,Cue(u))}Yt(n,156,fu(17)),Yt(n,25,To(!1)),Yt(n,18,To(!1)),Yt(n,19,fu(0)),o&&Yt(n,431,To(!1)),o&&Yt(n,444,fu(0)),Yt(n,61,OPe()),Yt(n,64,To(!1)),Yt(n,141,fu(0)),Yt(n,34,To(sHe(r)=="true")),Yt(n,14,To(!0)),o&&Yt(n,439,To(!1)),Yt(n,218,fu(0)),$He(n,r,e),KHe(n,r.SSF,e),XHe(n,e),o&&Yt(n,352,To(!1));var c=n.end(),f=nl();o&&Yt(f,140,JPe()),o&&e.Strings&&HHe(f,252,RPe(e.Strings)),Yt(f,10);var h=f.end(),d=nl(),A=0,p=0;for(p=0;p<r.SheetNames.length;++p)A+=(o?12:11)+(o?2:1)*r.SheetNames[p].length;var g=c.length+A+h.length;for(p=0;p<r.SheetNames.length;++p){var m=a[p]||{};Yt(d,133,PPe({pos:g,hs:m.Hidden||0,dt:0,name:r.SheetNames[p]},e)),g+=t[p].length}var v=d.end();if(A!=v.length)throw new Error("BS8 "+A+" != "+v.length);var y=[];return c.length&&y.push(c),v.length&&y.push(v),h.length&&y.push(h),Ns(y)}function rQe(r,t){var e=t||{},n=[];r&&!r.SSF&&(r.SSF=sl(na)),r&&r.SSF&&(O8(),R8(r.SSF),e.revssf=j8(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,DR(e),e.cellXfs=[],v0(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={});for(var i=0;i<r.SheetNames.length;++i)n[n.length]=eQe(i,e,r);return n.unshift(tQe(r,n,e)),Ns(n)}function Zue(r,t){for(var e=0;e<=r.SheetNames.length;++e){var n=r.Sheets[r.SheetNames[e]];if(!(!n||!n["!ref"])){var i=zl(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+r.SheetNames[e]+"' extends beyond column IV (255).  Data may be lost.")}}var a=t||{};switch(a.biff||2){case 8:case 5:return rQe(r,t);case 4:case 3:case 2:return WHe(r,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function nQe(r,t,e,n){for(var i=r["!merges"]||[],a=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>e||i[u].s.c>s)&&!(i[u].e.r<e||i[u].e.c<s)){if(i[u].s.r<e||i[u].s.c<s){o=-1;break}o=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var c=ii({r:e,c:s}),f=n.dense?(r[e]||[])[s]:r[c],h=f&&f.v!=null&&(f.h||L9e(f.w||(Yh(f),f.w)||""))||"",d={};o>1&&(d.rowspan=o),l>1&&(d.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(d["data-t"]=f&&f.t||"z",f.v!=null&&(d["data-v"]=f.v),f.z!=null&&(d["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),d.id=(n.id||"sjs")+"-"+c,a.push(qt("td",h,d))}}var A="<tr>";return A+a.join("")+"</tr>"}var iQe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',aQe="</body></html>";function sQe(r,t,e){var n=[];return n.join("")+"<table"+(e&&e.id?' id="'+e.id+'"':"")+">"}function Jue(r,t){var e=t||{},n=e.header!=null?e.header:iQe,i=e.footer!=null?e.footer:aQe,a=[n],s=zl(r["!ref"]);e.dense=Array.isArray(r),a.push(sQe(r,s,e));for(var o=s.s.r;o<=s.e.r;++o)a.push(nQe(r,s,o,e));return a.push("</table>"+i),a.join("")}function ece(r,t,e){var n=e||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?ds(n.origin):n.origin;i=s.r,a=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(r["!ref"]){var c=zl(r["!ref"]);u.s.r=Math.min(u.s.r,c.s.r),u.s.c=Math.min(u.s.c,c.s.c),u.e.r=Math.max(u.e.r,c.e.r),u.e.c=Math.max(u.e.c,c.e.c),i==-1&&(u.e.r=i=c.e.r+1)}var f=[],h=0,d=r["!rows"]||(r["!rows"]=[]),A=0,p=0,g=0,m=0,v=0,y=0;for(r["!cols"]||(r["!cols"]=[]);A<o.length&&p<l;++A){var b=o[A];if(tq(b)){if(n.display)continue;d[p]={hidden:!0}}var _=b.children;for(g=m=0;g<_.length;++g){var T=_[g];if(!(n.display&&tq(T))){var I=T.hasAttribute("data-v")?T.getAttribute("data-v"):T.hasAttribute("v")?T.getAttribute("v"):O9e(T.innerHTML),N=T.getAttribute("data-z")||T.getAttribute("z");for(h=0;h<f.length;++h){var F=f[h];F.s.c==m+a&&F.s.r<p+i&&p+i<=F.e.r&&(m=F.e.c+1-a,h=-1)}y=+T.getAttribute("colspan")||1,((v=+T.getAttribute("rowspan")||1)>1||y>1)&&f.push({s:{r:p+i,c:m+a},e:{r:p+i+(v||1)-1,c:m+a+(y||1)-1}});var P={t:"s",v:I},D=T.getAttribute("data-t")||T.getAttribute("t")||"";I!=null&&(I.length==0?P.t=D||"z":n.raw||I.trim().length==0||D=="s"||(I==="TRUE"?P={t:"b",v:!0}:I==="FALSE"?P={t:"b",v:!1}:isNaN(Lh(I))?isNaN(uw(I).getDate())||(P={t:"d",v:Io(I)},n.cellDates||(P={t:"n",v:al(P.v)}),P.z=n.dateNF||na[14]):P={t:"n",v:Lh(I)})),P.z===void 0&&N!=null&&(P.z=N);var R="",E=T.getElementsByTagName("A");if(E&&E.length)for(var L=0;L<E.length&&!(E[L].hasAttribute("href")&&(R=E[L].getAttribute("href"),R.charAt(0)!="#"));++L);R&&R.charAt(0)!="#"&&(P.l={Target:R}),n.dense?(r[p+i]||(r[p+i]=[]),r[p+i][m+a]=P):r[ii({c:m+a,r:p+i})]=P,u.e.c<m+a&&(u.e.c=m+a),m+=y}}++p}return f.length&&(r["!merges"]=(r["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,p-1+i),r["!ref"]=Fa(u),p>=l&&(r["!fullref"]=Fa((u.e.r=o.length-A+p-1+i,u))),r}function tce(r,t){var e=t||{},n=e.dense?[]:{};return ece(n,r,t)}function oQe(r,t){return Kg(tce(r,t),t)}function tq(r){var t="",e=lQe(r);return e&&(t=e(r).getPropertyValue("display")),t||(t=r.style&&r.style.display),t==="none"}function lQe(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var uQe=function(){var r=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+fw({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+r+"</office:document-styles>";return function(){return Da+t}}(),rq=function(){var r=function(a){return ti(a).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,e=`          <table:covered-table-cell/>
`,n=function(a,s,o){var l=[];l.push('      <table:table table:name="'+ti(s.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,c=0,f=zl(a["!ref"]||"A1"),h=a["!merges"]||[],d=0,A=Array.isArray(a);if(a["!cols"])for(c=0;c<=f.e.c;++c)l.push("        <table:table-column"+(a["!cols"][c]?' table:style-name="co'+a["!cols"][c].ods+'"':"")+`></table:table-column>
`);var p="",g=a["!rows"]||[];for(u=0;u<f.s.r;++u)p=g[u]?' table:style-name="ro'+g[u].ods+'"':"",l.push("        <table:table-row"+p+`></table:table-row>
`);for(;u<=f.e.r;++u){for(p=g[u]?' table:style-name="ro'+g[u].ods+'"':"",l.push("        <table:table-row"+p+`>
`),c=0;c<f.s.c;++c)l.push(t);for(;c<=f.e.c;++c){var m=!1,v={},y="";for(d=0;d!=h.length;++d)if(!(h[d].s.c>c)&&!(h[d].s.r>u)&&!(h[d].e.c<c)&&!(h[d].e.r<u)){(h[d].s.c!=c||h[d].s.r!=u)&&(m=!0),v["table:number-columns-spanned"]=h[d].e.c-h[d].s.c+1,v["table:number-rows-spanned"]=h[d].e.r-h[d].s.r+1;break}if(m){l.push(e);continue}var b=ii({r:u,c}),_=A?(a[u]||[])[c]:a[b];if(_&&_.f&&(v["table:formula"]=ti(kje(_.f)),_.F&&_.F.slice(0,b.length)==b)){var T=zl(_.F);v["table:number-matrix-columns-spanned"]=T.e.c-T.s.c+1,v["table:number-matrix-rows-spanned"]=T.e.r-T.s.r+1}if(!_){l.push(t);continue}switch(_.t){case"b":y=_.v?"TRUE":"FALSE",v["office:value-type"]="boolean",v["office:boolean-value"]=_.v?"true":"false";break;case"n":y=_.w||String(_.v||0),v["office:value-type"]="float",v["office:value"]=_.v||0;break;case"s":case"str":y=_.v==null?"":_.v,v["office:value-type"]="string";break;case"d":y=_.w||Io(_.v).toISOString(),v["office:value-type"]="date",v["office:date-value"]=Io(_.v).toISOString(),v["table:style-name"]="ce1";break;default:l.push(t);continue}var I=r(y);if(_.l&&_.l.Target){var N=_.l.Target;N=N.charAt(0)=="#"?"#"+Nje(N.slice(1)):N,N.charAt(0)!="#"&&!N.match(/^\w+:/)&&(N="../"+N),I=qt("text:a",I,{"xlink:href":N.replace(/&/g,"&amp;")})}l.push("          "+qt("table:table-cell",qt("text:p",I,{}),v)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(a,s){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var c=0;c<u["!cols"].length;++c)if(u["!cols"][c]){var f=u["!cols"][c];if(f.width==null&&f.wpx==null&&f.wch==null)continue;NR(f),f.ods=o;var h=u["!cols"][c].wpx+"px";a.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),a.push(`  </style:style>
`),++o}}});var l=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var c=0;c<u["!rows"].length;++c)if(u["!rows"][c]){u["!rows"][c].ods=l;var f=u["!rows"][c].hpx+"px";a.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),a.push(`  </style:style>
`),++l}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(s,o){var l=[Da],u=fw({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),c=fw({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+u+c+`>
`),l.push(gue().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),i(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=s.SheetNames.length;++f)l.push(n(s.Sheets[s.SheetNames[f]],s,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function rce(r,t){if(t.bookType=="fods")return rq(r,t);var e=yR(),n="",i=[],a=[];return n="mimetype",hn(e,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",hn(e,n,rq(r,t)),i.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",hn(e,n,uQe(r,t)),i.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",hn(e,n,Da+gue()),i.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",hn(e,n,bPe(a)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",hn(e,n,yPe(i)),e}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function iC(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function cQe(r){return typeof TextEncoder<"u"?new TextEncoder().encode(r):ac(cw(r))}function fQe(r,t){e:for(var e=0;e<=r.length-t.length;++e){for(var n=0;n<t.length;++n)if(r[e+n]!=t[n])continue e;return!0}return!1}function n0(r){var t=r.reduce(function(i,a){return i+a.length},0),e=new Uint8Array(t),n=0;return r.forEach(function(i){e.set(i,n),n+=i.length}),e}function hQe(r,t,e){var n=Math.floor(e==0?0:Math.LOG10E*Math.log(Math.abs(e)))+6176-20,i=e/Math.pow(10,n-6176);r[t+15]|=n>>7,r[t+14]|=(n&127)<<1;for(var a=0;i>=1;++a,i/=256)r[t+a]=i&255;r[t+15]|=e>=0?0:128}function hw(r,t){var e=t?t[0]:0,n=r[e]&127;e:if(r[e++]>=128&&(n|=(r[e]&127)<<7,r[e++]<128||(n|=(r[e]&127)<<14,r[e++]<128)||(n|=(r[e]&127)<<21,r[e++]<128)||(n+=(r[e]&127)*Math.pow(2,28),++e,r[e++]<128)||(n+=(r[e]&127)*Math.pow(2,35),++e,r[e++]<128)||(n+=(r[e]&127)*Math.pow(2,42),++e,r[e++]<128)))break e;return t&&(t[0]=e),n}function Yn(r){var t=new Uint8Array(7);t[0]=r&127;var e=1;e:if(r>127){if(t[e-1]|=128,t[e]=r>>7&127,++e,r<=16383||(t[e-1]|=128,t[e]=r>>14&127,++e,r<=2097151)||(t[e-1]|=128,t[e]=r>>21&127,++e,r<=268435455)||(t[e-1]|=128,t[e]=r/256>>>21&127,++e,r<=34359738367)||(t[e-1]|=128,t[e]=r/65536>>>21&127,++e,r<=4398046511103))break e;t[e-1]|=128,t[e]=r/16777216>>>21&127,++e}return t.slice(0,e)}function Yv(r){var t=0,e=r[t]&127;e:if(r[t++]>=128){if(e|=(r[t]&127)<<7,r[t++]<128||(e|=(r[t]&127)<<14,r[t++]<128)||(e|=(r[t]&127)<<21,r[t++]<128))break e;e|=(r[t]&127)<<28}return e}function Qa(r){for(var t=[],e=[0];e[0]<r.length;){var n=e[0],i=hw(r,e),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var l=e[0];r[e[0]++]>=128;);o=r.slice(l,e[0])}break;case 5:s=4,o=r.slice(e[0],e[0]+s),e[0]+=s;break;case 1:s=8,o=r.slice(e[0],e[0]+s),e[0]+=s;break;case 2:s=hw(r,e),o=r.slice(e[0],e[0]+s),e[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var u={data:o,type:a};t[i]==null?t[i]=[u]:t[i].push(u)}return t}function ws(r){var t=[];return r.forEach(function(e,n){e.forEach(function(i){i.data&&(t.push(Yn(n*8+i.type)),i.type==2&&t.push(Yn(i.data.length)),t.push(i.data))})}),n0(t)}function Vu(r){for(var t,e=[],n=[0];n[0]<r.length;){var i=hw(r,n),a=Qa(r.slice(n[0],n[0]+i));n[0]+=i;var s={id:Yv(a[1][0].data),messages:[]};a[2].forEach(function(o){var l=Qa(o.data),u=Yv(l[3][0].data);s.messages.push({meta:l,data:r.slice(n[0],n[0]+u)}),n[0]+=u}),(t=a[3])!=null&&t[0]&&(s.merge=Yv(a[3][0].data)>>>0>0),e.push(s)}return e}function Hm(r){var t=[];return r.forEach(function(e){var n=[];n[1]=[{data:Yn(e.id),type:0}],n[2]=[],e.merge!=null&&(n[3]=[{data:Yn(+!!e.merge),type:0}]);var i=[];e.messages.forEach(function(s){i.push(s.data),s.meta[3]=[{type:0,data:Yn(s.data.length)}],n[2].push({data:ws(s.meta),type:2})});var a=ws(n);t.push(Yn(a.length)),t.push(a),i.forEach(function(s){return t.push(s)})}),n0(t)}function dQe(r,t){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var e=[0],n=hw(t,e),i=[];e[0]<t.length;){var a=t[e[0]]&3;if(a==0){var s=t[e[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[e[0]],o>1&&(s|=t[e[0]+1]<<8),o>2&&(s|=t[e[0]+2]<<16),o>3&&(s|=t[e[0]+3]<<24),s>>>=0,s++,e[0]+=o}i.push(t.slice(e[0],e[0]+s)),e[0]+=s;continue}else{var l=0,u=0;if(a==1?(u=(t[e[0]]>>2&7)+4,l=(t[e[0]++]&224)<<3,l|=t[e[0]++]):(u=(t[e[0]++]>>2)+1,a==2?(l=t[e[0]]|t[e[0]+1]<<8,e[0]+=2):(l=(t[e[0]]|t[e[0]+1]<<8|t[e[0]+2]<<16|t[e[0]+3]<<24)>>>0,e[0]+=4)),i=[n0(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var c=n0(i);if(c.length!=n)throw new Error("Unexpected length: ".concat(c.length," != ").concat(n));return c}function Gu(r){for(var t=[],e=0;e<r.length;){var n=r[e++],i=r[e]|r[e+1]<<8|r[e+2]<<16;e+=3,t.push(dQe(n,r.slice(e,e+i))),e+=i}if(e!==r.length)throw new Error("data is not a valid framed stream!");return n0(t)}function Qm(r){for(var t=[],e=0;e<r.length;){var n=Math.min(r.length-e,268435455),i=new Uint8Array(4);t.push(i);var a=Yn(n),s=a.length;t.push(a),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(r.slice(e,e+n)),s+=n,i[0]=0,i[1]=s&255,i[2]=s>>8&255,i[3]=s>>16&255,e+=n}return n0(t)}function jk(r,t){var e=new Uint8Array(32),n=iC(e),i=12,a=0;switch(e[0]=5,r.t){case"n":e[1]=2,hQe(e,i,r.v),a|=1,i+=16;break;case"b":e[1]=6,n.setFloat64(i,r.v?1:0,!0),a|=2,i+=8;break;case"s":if(t.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));e[1]=3,n.setUint32(i,t.indexOf(r.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(8,a,!0),e.slice(0,i)}function Uk(r,t){var e=new Uint8Array(32),n=iC(e),i=12,a=0;switch(e[0]=3,r.t){case"n":e[2]=2,n.setFloat64(i,r.v,!0),a|=32,i+=8;break;case"b":e[2]=6,n.setFloat64(i,r.v?1:0,!0),a|=32,i+=8;break;case"s":if(t.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));e[2]=3,n.setUint32(i,t.indexOf(r.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(4,a,!0),e.slice(0,i)}function Md(r){var t=Qa(r);return hw(t[1][0].data)}function AQe(r,t,e){var n,i,a,s;if(!((n=r[6])!=null&&n[0])||!((i=r[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(a=r[8])==null?void 0:a[0])==null?void 0:s.data)&&Yv(r[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,u=iC(r[7][0].data),c=0,f=[],h=iC(r[4][0].data),d=0,A=[],p=0;p<t.length;++p){if(t[p]==null){u.setUint16(p*2,65535,!0),h.setUint16(p*2,65535);continue}u.setUint16(p*2,c,!0),h.setUint16(p*2,d,!0);var g,m;switch(typeof t[p]){case"string":g=jk({t:"s",v:t[p]},e),m=Uk({t:"s",v:t[p]},e);break;case"number":g=jk({t:"n",v:t[p]},e),m=Uk({t:"n",v:t[p]},e);break;case"boolean":g=jk({t:"b",v:t[p]},e),m=Uk({t:"b",v:t[p]},e);break;default:throw new Error("Unsupported value "+t[p])}f.push(g),c+=g.length,A.push(m),d+=m.length,++l}for(r[2][0].data=Yn(l);p<r[7][0].data.length/2;++p)u.setUint16(p*2,65535,!0),h.setUint16(p*2,65535,!0);return r[6][0].data=n0(f),r[3][0].data=n0(A),l}function pQe(r,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var e=r.Sheets[r.SheetNames[0]];r.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=zl(e["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Fa(n)));var a=aC(e,{range:n,header:1}),s=["~Sh33tJ5~"];a.forEach(function(U){return U.forEach(function(Q){typeof Q=="string"&&s.push(Q)})});var o={},l=[],u=si.read(t.numbers,{type:"base64"});u.FileIndex.map(function(U,Q){return[U,u.FullPaths[Q]]}).forEach(function(U){var Q=U[0],W=U[1];if(Q.type==2&&Q.name.match(/\.iwa/)){var j=Q.content,X=Gu(j),z=Vu(X);z.forEach(function(H){l.push(H.id),o[H.id]={deps:[],location:W,type:Yv(H.messages[0].meta[1][0].data)}})}}),l.sort(function(U,Q){return U-Q});var c=l.filter(function(U){return U>1}).map(function(U){return[U,Yn(U)]});u.FileIndex.map(function(U,Q){return[U,u.FullPaths[Q]]}).forEach(function(U){var Q=U[0];if(U[1],!!Q.name.match(/\.iwa/)){var W=Vu(Gu(Q.content));W.forEach(function(j){j.messages.forEach(function(X){c.forEach(function(z){j.messages.some(function(H){return Yv(H.meta[1][0].data)!=11006&&fQe(H.data,z[1])})&&o[z[0]].deps.push(j.id)})})})}});for(var f=si.find(u,o[1].location),h=Vu(Gu(f.content)),d,A=0;A<h.length;++A){var p=h[A];p.id==1&&(d=p)}var g=Md(Qa(d.messages[0].data)[1][0].data);for(f=si.find(u,o[g].location),h=Vu(Gu(f.content)),A=0;A<h.length;++A)p=h[A],p.id==g&&(d=p);for(g=Md(Qa(d.messages[0].data)[2][0].data),f=si.find(u,o[g].location),h=Vu(Gu(f.content)),A=0;A<h.length;++A)p=h[A],p.id==g&&(d=p);for(g=Md(Qa(d.messages[0].data)[2][0].data),f=si.find(u,o[g].location),h=Vu(Gu(f.content)),A=0;A<h.length;++A)p=h[A],p.id==g&&(d=p);var m=Qa(d.messages[0].data);{m[6][0].data=Yn(n.e.r+1),m[7][0].data=Yn(n.e.c+1);var v=Md(m[46][0].data),y=si.find(u,o[v].location),b=Vu(Gu(y.content));{for(var _=0;_<b.length&&b[_].id!=v;++_);if(b[_].id!=v)throw"Bad ColumnRowUIDMapArchive";var T=Qa(b[_].messages[0].data);T[1]=[],T[2]=[],T[3]=[];for(var I=0;I<=n.e.c;++I){var N=[];N[1]=N[2]=[{type:0,data:Yn(I+420690)}],T[1].push({type:2,data:ws(N)}),T[2].push({type:0,data:Yn(I)}),T[3].push({type:0,data:Yn(I)})}T[4]=[],T[5]=[],T[6]=[];for(var F=0;F<=n.e.r;++F)N=[],N[1]=N[2]=[{type:0,data:Yn(F+726270)}],T[4].push({type:2,data:ws(N)}),T[5].push({type:0,data:Yn(F)}),T[6].push({type:0,data:Yn(F)});b[_].messages[0].data=ws(T)}y.content=Qm(Hm(b)),y.size=y.content.length,delete m[46];var P=Qa(m[4][0].data);{P[7][0].data=Yn(n.e.r+1);var D=Qa(P[1][0].data),R=Md(D[2][0].data);y=si.find(u,o[R].location),b=Vu(Gu(y.content));{if(b[0].id!=R)throw"Bad HeaderStorageBucket";var E=Qa(b[0].messages[0].data);for(F=0;F<a.length;++F){var L=Qa(E[2][0].data);L[1][0].data=Yn(F),L[4][0].data=Yn(a[F].length),E[2][F]={type:E[2][0].type,data:ws(L)}}b[0].messages[0].data=ws(E)}y.content=Qm(Hm(b)),y.size=y.content.length;var k=Md(P[2][0].data);y=si.find(u,o[k].location),b=Vu(Gu(y.content));{if(b[0].id!=k)throw"Bad HeaderStorageBucket";for(E=Qa(b[0].messages[0].data),I=0;I<=n.e.c;++I)L=Qa(E[2][0].data),L[1][0].data=Yn(I),L[4][0].data=Yn(n.e.r+1),E[2][I]={type:E[2][0].type,data:ws(L)};b[0].messages[0].data=ws(E)}y.content=Qm(Hm(b)),y.size=y.content.length;var w=Md(P[4][0].data);(function(){for(var U=si.find(u,o[w].location),Q=Vu(Gu(U.content)),W,j=0;j<Q.length;++j){var X=Q[j];X.id==w&&(W=X)}var z=Qa(W.messages[0].data);{z[3]=[];var H=[];s.forEach(function(ie,ee){H[1]=[{type:0,data:Yn(ee)}],H[2]=[{type:0,data:Yn(1)}],H[3]=[{type:2,data:cQe(ie)}],z[3].push({type:2,data:ws(H)})})}W.messages[0].data=ws(z);var K=Hm(Q),Z=Qm(K);U.content=Z,U.size=U.content.length})();var C=Qa(P[3][0].data);{var S=C[1][0];delete C[2];var B=Qa(S.data);{var O=Md(B[2][0].data);(function(){for(var U=si.find(u,o[O].location),Q=Vu(Gu(U.content)),W,j=0;j<Q.length;++j){var X=Q[j];X.id==O&&(W=X)}var z=Qa(W.messages[0].data);{delete z[6],delete C[7];var H=new Uint8Array(z[5][0].data);z[5]=[];for(var K=0,Z=0;Z<=n.e.r;++Z){var ie=Qa(H);K+=AQe(ie,a[Z],s),ie[1][0].data=Yn(Z),z[5].push({data:ws(ie),type:2})}z[1]=[{type:0,data:Yn(n.e.c+1)}],z[2]=[{type:0,data:Yn(n.e.r+1)}],z[3]=[{type:0,data:Yn(K)}],z[4]=[{type:0,data:Yn(n.e.r+1)}]}W.messages[0].data=ws(z);var ee=Hm(Q),ne=Qm(ee);U.content=ne,U.size=U.content.length})()}S.data=ws(B)}P[3][0].data=ws(C)}m[4][0].data=ws(P)}d.messages[0].data=ws(m);var V=Hm(h),M=Qm(V);return f.content=M,f.size=f.content.length,u}function gQe(r){return function(e){for(var n=0;n!=r.length;++n){var i=r[n];e[i[0]]===void 0&&(e[i[0]]=i[1]),i[2]==="n"&&(e[i[0]]=Number(e[i[0]]))}}}function DR(r){gQe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(r)}function mQe(r,t){return t.bookType=="ods"?rce(r,t):t.bookType=="numbers"?pQe(r,t):t.bookType=="xlsb"?vQe(r,t):yQe(r,t)}function vQe(r,t){Fv=1024,r&&!r.SSF&&(r.SSF=sl(na)),r&&r.SSF&&(O8(),R8(r.SSF),t.revssf=j8(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,K2?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var e=t.bookType=="xlsb"?"bin":"xml",n=Oue.indexOf(t.bookType)>-1,i=due();DR(t=t||{});var a=yR(),s="",o=0;if(t.cellXfs=[],v0(t.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),s="docProps/core.xml",hn(a,s,mue(r.Props,t)),i.coreprops.push(s),Zn(t.rels,2,s,Dn.CORE_PROPS),s="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var l=[],u=0;u<r.SheetNames.length;++u)(r.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(r.SheetNames[u]);r.Props.SheetNames=l}for(r.Props.Worksheets=r.Props.SheetNames.length,hn(a,s,yue(r.Props)),i.extprops.push(s),Zn(t.rels,3,s,Dn.EXT_PROPS),r.Custprops!==r.Props&&Qs(r.Custprops||{}).length>0&&(s="docProps/custom.xml",hn(a,s,xue(r.Custprops)),i.custprops.push(s),Zn(t.rels,4,s,Dn.CUST_PROPS)),o=1;o<=r.SheetNames.length;++o){var c={"!id":{}},f=r.Sheets[r.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+o+"."+e,hn(a,s,bHe(o-1,s,t,r,c)),i.sheets.push(s),Zn(t.wbrels,-1,"worksheets/sheet"+o+"."+e,Dn.WS[0])}if(f){var d=f["!comments"],A=!1,p="";d&&d.length>0&&(p="xl/comments"+o+"."+e,hn(a,p,SHe(d,p)),i.comments.push(p),Zn(c,-1,"../comments"+o+"."+e,Dn.CMNT),A=!0),f["!legacy"]&&A&&hn(a,"xl/drawings/vmlDrawing"+o+".vml",Pue(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}c["!id"].rId1&&hn(a,pue(s),qv(c))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+e,hn(a,s,_He(t.Strings,s,t)),i.strs.push(s),Zn(t.wbrels,-1,"sharedStrings."+e,Dn.SST)),s="xl/workbook."+e,hn(a,s,xHe(r,s)),i.workbooks.push(s),Zn(t.rels,1,s,Dn.WB),s="xl/theme/theme1.xml",hn(a,s,Lue(r.Themes,t)),i.themes.push(s),Zn(t.wbrels,-1,"theme/theme1.xml",Dn.THEME),s="xl/styles."+e,hn(a,s,wHe(r,s,t)),i.styles.push(s),Zn(t.wbrels,-1,"styles."+e,Dn.STY),r.vbaraw&&n&&(s="xl/vbaProject.bin",hn(a,s,r.vbaraw),i.vba.push(s),Zn(t.wbrels,-1,"vbaProject.bin",Dn.VBA)),s="xl/metadata."+e,hn(a,s,CHe(s)),i.metadata.push(s),Zn(t.wbrels,-1,"metadata."+e,Dn.XLMETA),hn(a,"[Content_Types].xml",Aue(i,t)),hn(a,"_rels/.rels",qv(t.rels)),hn(a,"xl/_rels/workbook."+e+".rels",qv(t.wbrels)),delete t.revssf,delete t.ssf,a}function yQe(r,t){Fv=1024,r&&!r.SSF&&(r.SSF=sl(na)),r&&r.SSF&&(O8(),R8(r.SSF),t.revssf=j8(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,K2?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var e="xml",n=Oue.indexOf(t.bookType)>-1,i=due();DR(t=t||{});var a=yR(),s="",o=0;if(t.cellXfs=[],v0(t.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),s="docProps/core.xml",hn(a,s,mue(r.Props,t)),i.coreprops.push(s),Zn(t.rels,2,s,Dn.CORE_PROPS),s="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var l=[],u=0;u<r.SheetNames.length;++u)(r.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(r.SheetNames[u]);r.Props.SheetNames=l}r.Props.Worksheets=r.Props.SheetNames.length,hn(a,s,yue(r.Props)),i.extprops.push(s),Zn(t.rels,3,s,Dn.EXT_PROPS),r.Custprops!==r.Props&&Qs(r.Custprops||{}).length>0&&(s="docProps/custom.xml",hn(a,s,xue(r.Custprops)),i.custprops.push(s),Zn(t.rels,4,s,Dn.CUST_PROPS));var c=["SheetJ5"];for(t.tcid=0,o=1;o<=r.SheetNames.length;++o){var f={"!id":{}},h=r.Sheets[r.SheetNames[o-1]],d=(h||{})["!type"]||"sheet";switch(d){case"chart":default:s="xl/worksheets/sheet"+o+"."+e,hn(a,s,$ue(o-1,t,r,f)),i.sheets.push(s),Zn(t.wbrels,-1,"worksheets/sheet"+o+"."+e,Dn.WS[0])}if(h){var A=h["!comments"],p=!1,g="";if(A&&A.length>0){var m=!1;A.forEach(function(v){v[1].forEach(function(y){y.T==!0&&(m=!0)})}),m&&(g="xl/threadedComments/threadedComment"+o+"."+e,hn(a,g,XRe(A,c,t)),i.threadedcomments.push(g),Zn(f,-1,"../threadedComments/threadedComment"+o+"."+e,Dn.TCMNT)),g="xl/comments"+o+"."+e,hn(a,g,Rue(A)),i.comments.push(g),Zn(f,-1,"../comments"+o+"."+e,Dn.CMNT),p=!0}h["!legacy"]&&p&&hn(a,"xl/drawings/vmlDrawing"+o+".vml",Pue(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&hn(a,pue(s),qv(f))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+e,hn(a,s,Eue(t.Strings,t)),i.strs.push(s),Zn(t.wbrels,-1,"sharedStrings."+e,Dn.SST)),s="xl/workbook."+e,hn(a,s,Xue(r)),i.workbooks.push(s),Zn(t.rels,1,s,Dn.WB),s="xl/theme/theme1.xml",hn(a,s,Lue(r.Themes,t)),i.themes.push(s),Zn(t.wbrels,-1,"theme/theme1.xml",Dn.THEME),s="xl/styles."+e,hn(a,s,Iue(r,t)),i.styles.push(s),Zn(t.wbrels,-1,"styles."+e,Dn.STY),r.vbaraw&&n&&(s="xl/vbaProject.bin",hn(a,s,r.vbaraw),i.vba.push(s),Zn(t.wbrels,-1,"vbaProject.bin",Dn.VBA)),s="xl/metadata."+e,hn(a,s,Due()),i.metadata.push(s),Zn(t.wbrels,-1,"metadata."+e,Dn.XLMETA),c.length>1&&(s="xl/persons/person.xml",hn(a,s,YRe(c)),i.people.push(s),Zn(t.wbrels,-1,"persons/person.xml",Dn.PEOPLE)),hn(a,"[Content_Types].xml",Aue(i,t)),hn(a,"_rels/.rels",qv(t.rels)),hn(a,"xl/_rels/workbook."+e+".rels",qv(t.wbrels)),delete t.revssf,delete t.ssf,a}function xQe(r,t){var e="";switch((t||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":e=Xh(r.slice(0,12));break;case"binary":e=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3),e.charCodeAt(4),e.charCodeAt(5),e.charCodeAt(6),e.charCodeAt(7)]}function nce(r,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return o_(t.file,si.write(r,{type:On?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return si.write(r,t)}function bQe(r,t){var e=sl(t||{}),n=mQe(r,e);return wQe(n,e)}function wQe(r,t){var e={},n=On?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(e.compression="DEFLATE"),t.password)e.type=n;else switch(t.type){case"base64":e.type="base64";break;case"binary":e.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":e.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var i=r.FullPaths?si.write(r,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[e.type]||e.type,compression:!!t.compression}):r.generate(e);if(typeof Deno<"u"&&typeof i=="string"){if(t.type=="binary"||t.type=="base64")return i;i=new Uint8Array(P8(i))}return t.password&&typeof encrypt_agile<"u"?nce(encrypt_agile(i,t.password),t):t.type==="file"?o_(t.file,i):t.type=="string"?V2(i):i}function _Qe(r,t){var e=t||{},n=jHe(r,e);return nce(n,e)}function qc(r,t,e){e||(e="");var n=e+r;switch(t.type){case"base64":return lw(cw(n));case"binary":return cw(n);case"string":return r;case"file":return o_(t.file,n,"utf8");case"buffer":return On?id(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):qc(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function SQe(r,t){switch(t.type){case"base64":return lw(r);case"binary":return r;case"string":return r;case"file":return o_(t.file,r,"binary");case"buffer":return On?id(r,"binary"):r.split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function P4(r,t){switch(t.type){case"string":case"base64":case"binary":for(var e="",n=0;n<r.length;++n)e+=String.fromCharCode(r[n]);return t.type=="base64"?lw(e):t.type=="string"?V2(e):e;case"file":return o_(t.file,r);case"buffer":return r;default:throw new Error("Unrecognized type "+t.type)}}function ice(r,t){ZDe(),uHe(r);var e=sl(t||{});if(e.cellStyles&&(e.cellNF=!0,e.sheetStubs=!0),e.type=="array"){e.type="binary";var n=ice(r,e);return e.type="array",P8(n)}var i=0;if(e.sheet&&(typeof e.sheet=="number"?i=e.sheet:i=r.SheetNames.indexOf(e.sheet),!r.SheetNames[i]))throw new Error("Sheet not found: "+e.sheet+" : "+typeof e.sheet);switch(e.bookType||"xlsb"){case"xml":case"xlml":return qc(RHe(r,e),e);case"slk":case"sylk":return qc(sRe.from_sheet(r.Sheets[r.SheetNames[i]],e),e);case"htm":case"html":return qc(Jue(r.Sheets[r.SheetNames[i]],e),e);case"txt":return SQe(ace(r.Sheets[r.SheetNames[i]],e),e);case"csv":return qc(PR(r.Sheets[r.SheetNames[i]],e),e,"\uFEFF");case"dif":return qc(oRe.from_sheet(r.Sheets[r.SheetNames[i]],e),e);case"dbf":return P4(aRe.from_sheet(r.Sheets[r.SheetNames[i]],e),e);case"prn":return qc(lRe.from_sheet(r.Sheets[r.SheetNames[i]],e),e);case"rtf":return qc(pRe.from_sheet(r.Sheets[r.SheetNames[i]],e),e);case"eth":return qc(Tue.from_sheet(r.Sheets[r.SheetNames[i]],e),e);case"fods":return qc(rce(r,e),e);case"wk1":return P4(qK.sheet_to_wk1(r.Sheets[r.SheetNames[i]],e),e);case"wk3":return P4(qK.book_to_wk3(r,e),e);case"biff2":e.biff||(e.biff=2);case"biff3":e.biff||(e.biff=3);case"biff4":return e.biff||(e.biff=4),P4(Zue(r,e),e);case"biff5":e.biff||(e.biff=5);case"biff8":case"xla":case"xls":return e.biff||(e.biff=8),_Qe(r,e);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return bQe(r,e);default:throw new Error("Unrecognized bookType |"+e.bookType+"|")}}function CQe(r){if(!r.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},e=r.file.slice(r.file.lastIndexOf(".")).toLowerCase();e.match(/^\.[a-z]+$/)&&(r.bookType=e.slice(1)),r.bookType=t[r.bookType]||r.bookType}}function BQe(r,t,e){var n={};return n.type="file",n.file=t,CQe(n),ice(r,n)}function TQe(r,t,e,n,i,a,s,o){var l=Ps(e),u=o.defval,c=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:e,enumerable:!1})}catch{h.__rowNum__=e}else h.__rowNum__=e;if(!s||r[e])for(var d=t.s.c;d<=t.e.c;++d){var A=s?r[e][d]:r[n[d]+l];if(A===void 0||A.t===void 0){if(u===void 0)continue;a[d]!=null&&(h[a[d]]=u);continue}var p=A.v;switch(A.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+A.t)}if(a[d]!=null){if(p==null)if(A.t=="e"&&p===null)h[a[d]]=null;else if(u!==void 0)h[a[d]]=u;else if(c&&p===null)h[a[d]]=null;else continue;else h[a[d]]=c&&(A.t!=="n"||A.t==="n"&&o.rawNumbers!==!1)?p:Yh(A,p,o);p!=null&&(f=!1)}}return{row:h,isempty:f}}function aC(r,t){if(r==null||r["!ref"]==null)return[];var e={t:"n",v:0},n=0,i=1,a=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},c=u.range!=null?u.range:r["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof c){case"string":l=Bi(c);break;case"number":l=Bi(r["!ref"]),l.s.r=c;break;default:l=c}n>0&&(i=0);var f=Ps(l.s.r),h=[],d=[],A=0,p=0,g=Array.isArray(r),m=l.s.r,v=0,y={};g&&!r[m]&&(r[m]=[]);var b=u.skipHidden&&r["!cols"]||[],_=u.skipHidden&&r["!rows"]||[];for(v=l.s.c;v<=l.e.c;++v)if(!(b[v]||{}).hidden)switch(h[v]=uo(v),e=g?r[m][v]:r[h[v]+f],n){case 1:a[v]=v-l.s.c;break;case 2:a[v]=h[v];break;case 3:a[v]=u.header[v-l.s.c];break;default:if(e==null&&(e={w:"__EMPTY",t:"s"}),o=s=Yh(e,null,u),p=y[s]||0,!p)y[s]=1;else{do o=s+"_"+p++;while(y[o]);y[s]=p,y[o]=1}a[v]=o}for(m=l.s.r+i;m<=l.e.r;++m)if(!(_[m]||{}).hidden){var T=TQe(r,l,m,h,n,a,g,u);(T.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(d[A++]=T.row)}return d.length=A,d}var nq=/"/g;function EQe(r,t,e,n,i,a,s,o){for(var l=!0,u=[],c="",f=Ps(e),h=t.s.c;h<=t.e.c;++h)if(n[h]){var d=o.dense?(r[e]||[])[h]:r[n[h]+f];if(d==null)c="";else if(d.v!=null){l=!1,c=""+(o.rawNumbers&&d.t=="n"?d.v:Yh(d,null,o));for(var A=0,p=0;A!==c.length;++A)if((p=c.charCodeAt(A))===i||p===a||p===34||o.forceQuotes){c='"'+c.replace(nq,'""')+'"';break}c=="ID"&&(c='"ID"')}else d.f!=null&&!d.F?(l=!1,c="="+d.f,c.indexOf(",")>=0&&(c='"'+c.replace(nq,'""')+'"')):c="";u.push(c)}return o.blankrows===!1&&l?null:u.join(s)}function PR(r,t){var e=[],n=t??{};if(r==null||r["!ref"]==null)return"";var i=Bi(r["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),c="",f=[];n.dense=Array.isArray(r);for(var h=n.skipHidden&&r["!cols"]||[],d=n.skipHidden&&r["!rows"]||[],A=i.s.c;A<=i.e.c;++A)(h[A]||{}).hidden||(f[A]=uo(A));for(var p=0,g=i.s.r;g<=i.e.r;++g)(d[g]||{}).hidden||(c=EQe(r,i,g,f,s,l,a,n),c!=null&&(n.strip&&(c=c.replace(u,"")),(c||n.blankrows!==!1)&&e.push((p++?o:"")+c)));return delete n.dense,e.join("")}function ace(r,t){t||(t={}),t.FS="	",t.RS=`
`;var e=PR(r,t);return e}function kQe(r){var t="",e,n="";if(r==null||r["!ref"]==null)return[];var i=Bi(r["!ref"]),a="",s=[],o,l=[],u=Array.isArray(r);for(o=i.s.c;o<=i.e.c;++o)s[o]=uo(o);for(var c=i.s.r;c<=i.e.r;++c)for(a=Ps(c),o=i.s.c;o<=i.e.c;++o)if(t=s[o]+a,e=u?(r[c]||[])[o]:r[t],n="",e!==void 0){if(e.F!=null){if(t=e.F,!e.f)continue;n=e.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(e.f!=null)n=e.f;else{if(e.t=="z")continue;if(e.t=="n"&&e.v!=null)n=""+e.v;else if(e.t=="b")n=e.v?"TRUE":"FALSE";else if(e.w!==void 0)n="'"+e.w;else{if(e.v===void 0)continue;e.t=="s"?n="'"+e.v:n=""+e.v}}l[l.length]=t+"="+n}return l}function sce(r,t,e){var n=e||{},i=+!n.skipHeader,a=r||{},s=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?ds(n.origin):n.origin;s=l.r,o=l.c}var u,c={s:{c:0,r:0},e:{c:o,r:s+t.length-1+i}};if(a["!ref"]){var f=Bi(a["!ref"]);c.e.c=Math.max(c.e.c,f.e.c),c.e.r=Math.max(c.e.r,f.e.r),s==-1&&(s=f.e.r+1,c.e.r=s+t.length-1+i)}else s==-1&&(s=0,c.e.r=t.length-1+i);var h=n.header||[],d=0;t.forEach(function(p,g){Qs(p).forEach(function(m){(d=h.indexOf(m))==-1&&(h[d=h.length]=m);var v=p[m],y="z",b="",_=ii({c:o+d,r:s+g+i});u=dw(a,_),v&&typeof v=="object"&&!(v instanceof Date)?a[_]=v:(typeof v=="number"?y="n":typeof v=="boolean"?y="b":typeof v=="string"?y="s":v instanceof Date?(y="d",n.cellDates||(y="n",v=al(v)),b=n.dateNF||na[14]):v===null&&n.nullError&&(y="e",v=0),u?(u.t=y,u.v=v,delete u.w,delete u.R,b&&(u.z=b)):a[_]=u={t:y,v},b&&(u.z=b))})}),c.e.c=Math.max(c.e.c,o+h.length-1);var A=Ps(s);if(i)for(d=0;d<h.length;++d)a[uo(d+o)+A]={t:"s",v:h[d]};return a["!ref"]=Fa(c),a}function NQe(r,t){return sce(null,r,t)}function dw(r,t,e){if(typeof t=="string"){if(Array.isArray(r)){var n=ds(t);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[t]||(r[t]={t:"z"})}return typeof t!="number"?dw(r,ii(t)):dw(r,ii({r:t,c:e||0}))}function FQe(r,t){if(typeof t=="number"){if(t>=0&&r.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var e=r.SheetNames.indexOf(t);if(e>-1)return e;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function IQe(){return{SheetNames:[],Sheets:{}}}function MQe(r,t,e,n){var i=1;if(!e)for(;i<=65535&&r.SheetNames.indexOf(e="Sheet"+i)!=-1;++i,e=void 0);if(!e||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(e)>=0){var a=e.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||e;for(++i;i<=65535&&r.SheetNames.indexOf(e=s+i)!=-1;++i);}if(que(e),r.SheetNames.indexOf(e)>=0)throw new Error("Worksheet with name |"+e+"| already exists!");return r.SheetNames.push(e),r.Sheets[e]=t,e}function LQe(r,t,e){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=FQe(r,t);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),e){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+e)}r.Workbook.Sheets[n].Hidden=e}function DQe(r,t){return r.z=t,r}function oce(r,t,e){return t?(r.l={Target:t},e&&(r.l.Tooltip=e)):delete r.l,r}function PQe(r,t,e){return oce(r,"#"+t,e)}function RQe(r,t,e){r.c||(r.c=[]),r.c.push({t,a:e||"SheetJS"})}function OQe(r,t,e,n){for(var i=typeof t!="string"?t:Bi(t),a=typeof t=="string"?t:Fa(t),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var l=dw(r,s,o);l.t="n",l.F=a,delete l.v,s==i.s.r&&o==i.s.c&&(l.f=e,n&&(l.D=!0))}return r}var Hk={encode_col:uo,encode_row:Ps,encode_cell:ii,encode_range:Fa,decode_col:CR,decode_row:SR,split_cell:Z9e,decode_cell:ds,decode_range:zl,format_cell:Yh,sheet_add_aoa:oue,sheet_add_json:sce,sheet_add_dom:ece,aoa_to_sheet:by,json_to_sheet:NQe,table_to_sheet:tce,table_to_book:oQe,sheet_to_csv:PR,sheet_to_txt:ace,sheet_to_json:aC,sheet_to_html:Jue,sheet_to_formulae:kQe,sheet_to_row_object_array:aC,sheet_get_cell:dw,book_new:IQe,book_append_sheet:MQe,book_set_sheet_visibility:LQe,cell_set_number_format:DQe,cell_set_hyperlink:oce,cell_set_internal_link:PQe,cell_add_comment:RQe,sheet_set_array_formula:OQe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const iq=[{value:"bank",label:" ",icon:gD},{value:"cod",label:"  ",icon:mD},{value:"credit_card",label:" ",icon:Ul},{value:"mada",label:"",icon:Ul},{value:"madfu_installment",label:" ",icon:Li},{value:"tabby_installment",label:"",icon:Li},{value:"tamara_installment",label:"",icon:Li}],Qk=.15,jQe=()=>{var Fe,Se,De;const{orders:r,loading:t,error:e,refetch:n}=yy(),{entities:i}=hR(),a=Wa.getCurrentUser(),s=(a==null?void 0:a.role)==="admin",[o,l]=Ce.useState(""),[u,c]=Ce.useState(1),[f,h]=Ce.useState(null),[d,A]=Ce.useState(null),[p,g]=Ce.useState(!1),[m,v]=Ce.useState(!1),[y,b]=Ce.useState(null),[_,T]=Ce.useState(!1),[I,N]=Ce.useState(null),[F,P]=Ce.useState({reason:"",fee:0,feeBearer:"customer",cancelledBy:(a==null?void 0:a.full_name)||(a==null?void 0:a.email)||""}),[D,R]=Ce.useState([]),E=10,[L,k]=Ce.useState([]),[w,C]=Ce.useState(!1);Ce.useState(!1),Ce.useState(!1),Ce.useState(!1),Ce.useEffect(()=>{f?(async()=>{const{data:Be,error:Pe}=await Ct.from("order_logs").select("*").eq("order_id",f.id).order("created_at",{ascending:!1});Pe||k(Be||[])})():k([])},[f]),Ce.useEffect(()=>{(async()=>{try{const{data:Be,error:Pe}=await Ct.from("payment_methods").select("id, code, name, percentage_fee, fixed_fee").eq("is_active",!0);if(Pe)throw Pe;R(Be||[])}catch(Be){console.error("Error fetching payment methods:",Be)}})()},[]);const S=ge=>{const[Be,Pe]=ge.split("T"),[st,gt,we]=Be.split("-"),[Oe,at]=Pe.substring(0,5).split(":");let Ve=parseInt(Oe,10);const Qe=Ve>=12?"PM":"AM";return Ve=Ve%12||12,`${we}/${gt}/${st} - ${Ve.toString().padStart(2,"0")}:${at} ${Qe}`},B=ge=>{if(!ge)return" ";const Be=iq.find(Pe=>Pe.value===ge);return(Be==null?void 0:Be.label)||ge},O=(ge,Be)=>{if(!ge)return{fee:0,percentage:0,fixed:0};const Pe=D.find(we=>we.code===ge);return Pe?{fee:Be*(Pe.percentage_fee/100)+Pe.fixed_fee,percentage:Pe.percentage_fee,fixed:Pe.fixed_fee}:{fee:0,percentage:0,fixed:0}},V=ge=>{if(!ge)return" ";const Be=i.find(Pe=>Pe.id===ge);return(Be==null?void 0:Be.name)||" "},M=ge=>ge==="store"?"store":"customer",U=ge=>M(ge)==="store"?"":"",Q=ge=>M(ge)==="customer"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",W=ge=>{var Ve;const Be=ge.total_price||0,Pe=((Ve=ge.products)==null?void 0:Ve.reduce((Qe,Ke)=>Qe+(Ke.cost_subtotal||0),0))||0,gt=(ge.shipping_cost||0)*(1+Qk),{fee:we}=O(ge.payment_method,Be),Oe=Be-we-gt-Pe,at=(ge.subtotal_before_tax||0)>0?Oe/(ge.subtotal_before_tax||0)*100:0;return{netProfit:Oe,margin:at,productCostInclTax:Pe,shippingWithTax:gt,shippingBearer:M(ge.shipping_bearer)}},j=r.filter(ge=>ge.is_locked===!0).filter(ge=>{if(!o)return!0;const Be=o.toLowerCase(),Pe=(ge.customer_name||"").toLowerCase(),st=(ge.phone_number||"").toString(),gt=(ge.order_number||"").toString().toLowerCase();return Pe.includes(Be)||st.includes(Be)||gt.includes(Be)}).sort((ge,Be)=>new Date(Be.order_date).getTime()-new Date(ge.order_date).getTime()),X=Math.ceil(j.length/E),z=j.slice((u-1)*E,u*E),H=ge=>{var Be;if(!s){Er.error("     ");return}A({...ge,products:((Be=ge.products)==null?void 0:Be.map(Pe=>({...Pe})))||[],shipping_bearer:ge.shipping_bearer||"customer"}),h(ge),g(!0)},K=()=>{if(!d)return;const ge={id:`new-${Date.now()}`,name:"",quantity:1,unit_price:0,cost_subtotal:0,subtotal:0,cost_price:0,supplier_id:void 0,supplier_name:""};A({...d,products:[...d.products||[],ge]})},Z=async()=>{var ge,Be,Pe,st,gt;if(d){C(!0);try{const{error:we}=await Ct.from("orders").update({customer_name:((ge=d.customer_name)==null?void 0:ge.trim())||null,phone_number:((Be=d.phone_number)==null?void 0:Be.trim())||null,shipping_company:((Pe=d.shipping_company)==null?void 0:Pe.trim())||null,shipping_cost:parseFloat(((st=d.shipping_cost)==null?void 0:st.toString())||"0")||0,total_price:d.total_price||0,payment_method:d.payment_method||null,shipping_bearer:d.shipping_bearer||"customer"}).eq("id",d.id);if(we)throw we;if(d.products&&d.products.length>0){const Ve=d.products.filter(Ke=>{var Ue;return(Ue=Ke.id)==null?void 0:Ue.toString().startsWith("new-")}),Qe=d.products.filter(Ke=>{var Ue;return!((Ue=Ke.id)!=null&&Ue.toString().startsWith("new-"))});if(Qe.length>0){const Ke=Qe.map(We=>{var yt,Ne,et,ft,lt,St,ut;return{id:We.id,order_id:d.id,product_name:We.name||"  ",quantity:Math.max(1,parseInt(((yt=We.quantity)==null?void 0:yt.toString())||"1",10)),unit_price:parseFloat(((Ne=We.unit_price)==null?void 0:Ne.toString())||"0")||0,cost_price:(parseFloat(((et=We.cost_subtotal)==null?void 0:et.toString())||"0")||0)/Math.max(1,parseInt(((ft=We.quantity)==null?void 0:ft.toString())||"1",10)),subtotal:(parseFloat(((lt=We.unit_price)==null?void 0:lt.toString())||"0")||0)*Math.max(1,parseInt(((St=We.quantity)==null?void 0:St.toString())||"1",10)),cost_subtotal:parseFloat(((ut=We.cost_subtotal)==null?void 0:ut.toString())||"0")||0,supplier_id:We.supplier_id||null,supplier_name:V(We.supplier_id),receivable_id:null}}),{error:Ue}=await Ct.from("order_products").upsert(Ke,{onConflict:"id"});if(Ue)throw Ue}if(Ve.length>0){const Ke=Ve.map(We=>{var yt,Ne,et,ft,lt,St,ut;return{order_id:d.id,product_name:We.name||"  ",quantity:Math.max(1,parseInt(((yt=We.quantity)==null?void 0:yt.toString())||"1",10)),unit_price:parseFloat(((Ne=We.unit_price)==null?void 0:Ne.toString())||"0")||0,cost_price:(parseFloat(((et=We.cost_subtotal)==null?void 0:et.toString())||"0")||0)/Math.max(1,parseInt(((ft=We.quantity)==null?void 0:ft.toString())||"1",10)),subtotal:(parseFloat(((lt=We.unit_price)==null?void 0:lt.toString())||"0")||0)*Math.max(1,parseInt(((St=We.quantity)==null?void 0:St.toString())||"1",10)),cost_subtotal:parseFloat(((ut=We.cost_subtotal)==null?void 0:ut.toString())||"0")||0,supplier_id:We.supplier_id||null,supplier_name:V(We.supplier_id),receivable_id:null}}),{error:Ue}=await Ct.from("order_products").insert(Ke);if(Ue)throw Ue}}if(d.products&&d.products.length>0){const Ve={};d.products.forEach(Qe=>{var We;const Ke=Qe.supplier_id,Ue=parseFloat(((We=Qe.cost_subtotal)==null?void 0:We.toString())||"0")||0;Ke&&Ue>0&&(Ve[Ke]||(Ve[Ke]={cost:0,productIds:[]}),Ve[Ke].cost+=Ue,Ve[Ke].productIds.push(Qe.id))}),await Ct.from("receivables").delete().ilike("description",` #${d.order_number}%`);for(const[Qe,{cost:Ke,productIds:Ue}]of Object.entries(Ve)){const{data:We,error:yt}=await Ct.from("receivables").insert({entity_id:Qe,description:` #${d.order_number} -  `,total_amount:parseFloat(Ke.toFixed(2)),remaining_amount:parseFloat(Ke.toFixed(2)),purchase_date:new Date().toISOString().split("T")[0],due_date:new Date(Date.now()+2592e6).toISOString().split("T")[0],notes:`      -  #${d.order_number}`}).select().single();if(yt){console.error("   :",yt);continue}We!=null&&We.id&&Ue.length>0&&await Ct.from("order_products").update({receivable_id:We.id}).in("id",Ue)}}const Oe=[];f&&(f.customer_name!==d.customer_name&&Oe.push(`    "${f.customer_name}"  "${d.customer_name}"`),f.phone_number!==d.phone_number&&Oe.push(`    "${f.phone_number}"  "${d.phone_number}"`),f.shipping_company!==d.shipping_company&&Oe.push(`    "${f.shipping_company}"  "${d.shipping_company}"`),f.shipping_cost!==d.shipping_cost&&Oe.push(`    ${f.shipping_cost}  ${d.shipping_cost}`),f.shipping_bearer!==d.shipping_bearer&&Oe.push("  "),f.payment_method!==d.payment_method&&Oe.push("  "),f.total_price!==d.total_price&&Oe.push(`    ${f.total_price}  ${d.total_price}`),(gt=d.products)==null||gt.forEach(Ve=>{var Ke;const Qe=(Ke=f.products)==null?void 0:Ke.find(Ue=>Ue.id===Ve.id);Qe&&(Qe.quantity!==Ve.quantity&&Oe.push(`  ${Ve.name}  ${Qe.quantity}  ${Ve.quantity}`),Qe.unit_price!==Ve.unit_price&&Oe.push(`  ${Ve.name}  ${Qe.unit_price}  ${Ve.unit_price}`),Qe.cost_subtotal!==Ve.cost_subtotal&&Oe.push(`  ${Ve.name}  ${Qe.cost_subtotal}  ${Ve.cost_subtotal}`))}));const at=Oe.length>0?Oe.join(" "):`   #${d.order_number}`;await Ct.from("order_logs").insert({order_id:d.id,user_name:(a==null?void 0:a.full_name)||(a==null?void 0:a.email)||"Unknown",action:"edit",details:at}),Er.success("        !"),g(!1),A(null),h(null),await n()}catch(we){console.error("  :",we),Er.error("  : "+(we.message||"  "))}finally{C(!1)}}},ie=()=>{g(!1),A(null)},ee=ge=>{if(!s){Er.error("     ");return}b(ge.id),P({reason:"",fee:0,feeBearer:"customer",cancelledBy:(a==null?void 0:a.email)||(a==null?void 0:a.full_name)||""}),v(!0)},ne=async()=>{if(!y||!F.reason||F.fee<0){Er.error("     ");return}try{const ge=r.find(Pe=>Pe.id===y),{error:Be}=await Ct.from("orders").update({status:"",is_locked:!1,cancelled_by:F.cancelledBy,cancellation_reason:F.reason,cancellation_fee:F.fee,fee_bearer:F.feeBearer,updated_at:new Date().toISOString()}).eq("id",y);if(Be)throw Be;if(F.feeBearer==="store"&&F.fee>0){const{error:Pe}=await Ct.from("expenses").insert([{description:`    ${(ge==null?void 0:ge.order_number)||y}`,amount:F.fee,category:" ",date:new Date().toISOString().split("T")[0]}]);Pe&&console.error("   :",Pe)}Er.success("     "),v(!1),b(null),h(null),await n()}catch(ge){console.error("  :",ge),Er.error("   : "+ge.message)}},te=ge=>{if(!s){Er.error("    ");return}N(ge.id),T(!0)},le=async()=>{if(I)try{const ge=r.find(Be=>Be.id===I);await Ct.from("receivables").delete().ilike("description",` #${ge==null?void 0:ge.order_number}%`),await Ct.from("order_products").delete().eq("order_id",I),await Ct.from("orders").delete().eq("id",I),Er.success("    "),T(!1),N(null),h(null),await n()}catch(ge){console.error("  :",ge),Er.error("   : "+(ge.message||"  "))}},re=()=>{const ge=[" "," "," "," "," ","  "," "," "," ","   "," ","  %"],Be=j.map(gt=>{const{netProfit:we,margin:Oe,productCostInclTax:at,shippingWithTax:Ve}=W(gt),{fee:Qe}=O(gt.payment_method,gt.total_price||0);return[`#${gt.order_number}`,S(gt.order_date),gt.customer_name||"",gt.phone_number||"",B(gt.payment_method),U(gt.shipping_bearer),(gt.total_price||0).toFixed(2),Qe.toFixed(2),at.toFixed(2),Ve.toFixed(2),we.toFixed(2),Oe.toFixed(1)+"%"]}),Pe=Hk.book_new(),st=Hk.aoa_to_sheet([ge,...Be]);st["!cols"]=ge.map(()=>({wch:22})),Hk.book_append_sheet(Pe,st," "),BQe(Pe,`__${new Date().toISOString().split("T")[0]}.xlsx`)};if(t)return x.jsx("div",{className:"p-6 text-center",children:" ..."});if(e)return x.jsxs("div",{className:"p-6 text-red-600",children:[": ",e]});const de=(ge,Be=2)=>ge.toLocaleString("en-US",{minimumFractionDigits:Be,maximumFractionDigits:Be}),ue=ge=>ge.toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:1});return x.jsxs("div",{className:"p-6 min-h-screen bg-gray-50",children:[x.jsxs("div",{className:"mb-8",children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:" "}),x.jsx("p",{className:"text-gray-600 mt-2",children:"       "})]}),x.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:x.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[x.jsxs("div",{className:"relative flex-1 max-w-md",children:[x.jsx(u0,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 h-5 w-5"}),x.jsx("input",{type:"text",placeholder:"       ...",value:o,onChange:ge=>l(ge.target.value),className:"w-full pr-12 pl-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500"})]}),x.jsxs("button",{onClick:re,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700",children:[x.jsx(Pi,{className:"h-5 w-5"}),"  Excel"]})]})}),x.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-4 text-right",children:""}),x.jsx("th",{className:"px-6 py-4 text-right",children:""}),x.jsx("th",{className:"px-6 py-4 text-right",children:""}),x.jsx("th",{className:"px-6 py-4 text-right",children:""}),x.jsx("th",{className:"px-6 py-4 text-right",children:""}),x.jsx("th",{className:"px-6 py-4 text-right",children:""}),x.jsx("th",{className:"px-6 py-4 text-right",children:""}),x.jsx("th",{className:"px-6 py-4 text-right",children:" "}),x.jsx("th",{className:"px-6 py-4 text-right",children:""})]})}),x.jsx("tbody",{className:"divide-y divide-gray-200",children:z.map(ge=>{const{netProfit:Be,margin:Pe,productCostInclTax:st,shippingWithTax:gt}=W(ge),{fee:we}=O(ge.payment_method,ge.total_price||0),Oe=st+gt,at=ge.shipping_bearer;return x.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[x.jsx("td",{className:"px-6 py-4",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(Uv,{className:"h-5 w-5 text-green-600"}),x.jsxs("div",{children:[x.jsxs("div",{className:"font-bold",children:["#",ge.order_number]}),x.jsx("div",{className:"text-xs text-gray-500",children:S(ge.order_date).split(" - ")[0]})]})]})}),x.jsx("td",{className:"px-6 py-4",children:x.jsxs("div",{children:[x.jsx("div",{className:"font-medium",children:ge.customer_name}),x.jsx("div",{className:"text-sm text-gray-500",children:ge.phone_number})]})}),x.jsx("td",{className:"px-6 py-4 text-center",children:x.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:B(ge.payment_method)})}),x.jsx("td",{className:"px-6 py-4 text-center",children:x.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${Q(at)}`,children:U(at)})}),x.jsxs("td",{className:"px-6 py-4 text-right font-bold text-indigo-700",children:[de(ge.total_price||0)," ."]}),x.jsx("td",{className:"px-6 py-4 text-right text-orange-700",children:we>0?de(we)+" .":""}),x.jsxs("td",{className:"px-6 py-4 text-right text-red-700 font-medium",children:[de(Oe)," ."]}),x.jsxs("td",{className:"px-6 py-4 text-right",children:[x.jsxs("div",{className:`font-bold ${Be>=0?"text-green-700":"text-red-700"}`,children:[de(Be)," ."]}),x.jsxs("div",{className:"text-xs",children:[ue(Pe),"%"]})]}),x.jsx("td",{className:"px-6 py-4",children:x.jsxs("div",{className:"flex items-center justify-end gap-2",children:[x.jsx("button",{onClick:()=>h(ge),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg",children:x.jsx(Cf,{className:"h-5 w-5"})}),s&&x.jsx("button",{onClick:()=>H(ge),className:"p-2 text-amber-600 hover:bg-amber-100 rounded-lg",children:x.jsx(D7,{className:"h-5 w-5"})}),s&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>ee(ge),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg",title:" ",children:x.jsx(qB,{className:"h-5 w-5"})}),x.jsx("button",{onClick:()=>te(ge),className:"p-2 text-red-800 hover:bg-red-100 rounded-lg",title:" ",children:x.jsx(No,{className:"h-5 w-5"})})]})]})})]},ge.id)})})]})}),X>1&&x.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-between items-center",children:[x.jsxs("span",{className:"text-sm text-gray-600",children:[" ",(u-1)*E+1," - ",Math.min(u*E,j.length),"  ",j.length]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>c(ge=>Math.max(1,ge-1)),disabled:u===1,className:"px-4 py-2 border rounded-lg disabled:opacity-50",children:""}),[...Array(Math.min(5,X))].map((ge,Be)=>{const Pe=Be+Math.max(1,u-2);return Pe>X?null:x.jsx("button",{onClick:()=>c(Pe),className:`px-4 py-2 rounded-lg ${u===Pe?"bg-indigo-600 text-white":"border"}`,children:Pe},Pe)}),x.jsx("button",{onClick:()=>c(ge=>Math.min(X,ge+1)),disabled:u===X,className:"px-4 py-2 border rounded-lg disabled:opacity-50",children:""})]})]})]}),f&&!p&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[95vh] overflow-y-auto",children:[x.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white px-8 py-5 rounded-t-2xl flex justify-between items-center",children:[x.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-3",children:[x.jsx(Uv,{className:"h-9 w-9"}),"   #",f.order_number]}),x.jsx("button",{onClick:()=>h(null),className:"p-2.5 bg-white/20 hover:bg-white/30 rounded-full transition-all",children:x.jsx(vi,{className:"h-7 w-7"})})]}),x.jsxs("div",{className:"p-8 space-y-10",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[x.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[x.jsx("h4",{className:"text-gray-600 font-medium mb-2",children:""}),x.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.customer_name}),x.jsx("p",{className:"text-blue-600 mt-1",children:f.phone_number})]}),x.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[x.jsx("h4",{className:"text-gray-600 font-medium mb-2",children:" "}),x.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S(f.order_date)})]}),x.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[x.jsx("h4",{className:"text-gray-600 font-medium mb-2",children:" "}),x.jsxs("p",{className:"text-xl font-bold text-gray-900 flex items-center justify-center gap-2",children:[x.jsx(Ul,{className:"h-6 w-6 text-amber-600"}),B(f.payment_method)]})]}),x.jsxs("div",{className:`bg-white border-2 rounded-xl p-6 shadow-sm text-center ${M(f.shipping_bearer)==="customer"?"border-green-500":"border-red-500"}`,children:[x.jsx("h4",{className:"text-gray-600 font-medium mb-3",children:"  "}),x.jsx("p",{className:`text-3xl font-bold ${M(f.shipping_bearer)==="customer"?"text-green-600":"text-red-600"}`,children:U(f.shipping_bearer)}),x.jsxs("div",{className:"mt-4 text-sm",children:[x.jsxs("p",{className:"text-gray-600",children:[": ",de(f.shipping_cost||0)," ."]}),x.jsxs("p",{className:"font-semibold text-red-600",children:[" : ",de((f.shipping_cost||0)*1.15)," ."]})]})]})]}),x.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:[x.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:x.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-3",children:[x.jsx(Li,{className:"h-7 w-7 text-blue-600"})," (",((Fe=f.products)==null?void 0:Fe.length)||0,")"]})}),x.jsx("div",{className:"divide-y divide-gray-200",children:(Se=f.products)==null?void 0:Se.map((ge,Be)=>{const Pe=(ge.unit_price||0)*(1+Qk),st=(ge.subtotal||0)*(1+Qk);return x.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 text-center",children:[x.jsxs("div",{className:"lg:text-right lg:col-span-2",children:[x.jsx("h4",{className:"text-lg font-bold text-gray-900",children:ge.name}),x.jsxs("p",{className:"text-sm text-gray-500",children:[": ",V(ge.supplier_id)]}),x.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[": ",ge.quantity]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500",children:"  ( )"}),x.jsxs("p",{className:"font-bold text-blue-700",children:[de(Pe)," ."]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500",children:" ( )"}),x.jsxs("p",{className:"font-bold text-green-700",children:[de(st)," ."]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500",children:"  "}),x.jsxs("p",{className:"font-bold text-red-700 text-lg",children:[de(ge.cost_subtotal||0)," ."]})]})]})},Be)})})]}),x.jsxs("div",{className:"bg-gray-50 rounded-2xl p-8 border border-gray-200",children:[x.jsxs("h3",{className:"text-2xl font-bold text-center mb-8 text-gray-800",children:[x.jsx(Zi,{className:"inline h-9 w-9 text-blue-600 mr-2"}),"  "]}),(()=>{const{netProfit:ge,margin:Be,productCostInclTax:Pe,shippingWithTax:st}=W(f),gt=f.total_price||0,{fee:we,percentage:Oe,fixed:at}=O(f.payment_method,gt),Ve=we+st+Pe;return x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"bg-white rounded-xl p-6 border border-blue-200 shadow-sm",children:[x.jsx("h4",{className:"font-bold text-blue-800 mb-4 text-lg",children:""}),x.jsxs("p",{className:"text-3xl font-bold text-blue-900",children:[de(gt)," ."]})]}),x.jsxs("div",{className:"bg-white rounded-xl p-6 border border-red-200 shadow-sm",children:[x.jsx("h4",{className:"font-bold text-red-800 mb-4 text-lg",children:" "}),x.jsxs("div",{className:"space-y-3 text-right text-sm",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:" :"}),x.jsxs("span",{className:"font-bold text-orange-600",children:[de(we)," ."]})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:" + :"}),x.jsxs("span",{className:"font-bold text-red-600",children:[de(st)," ."]})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:" :"}),x.jsxs("span",{className:"font-bold text-red-600",children:[de(Pe)," ."]})]})]}),x.jsx("div",{className:"border-t border-gray-300 mt-4 pt-3",children:x.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[x.jsx("span",{children:":"}),x.jsxs("span",{className:"text-red-700",children:[de(Ve)," ."]})]})})]}),x.jsxs("div",{className:`rounded-xl p-8 text-center text-white shadow-lg ${ge>=0?"bg-gradient-to-br from-green-500 to-emerald-600":"bg-gradient-to-br from-red-500 to-rose-600"}`,children:[x.jsx("h4",{className:"text-xl font-bold mb-3",children:" "}),x.jsxs("div",{className:"text-5xl font-bold mb-3",children:[de(ge)," ."]}),x.jsxs("div",{className:"text-2xl",children:[": ",x.jsxs("strong",{children:[ue(Be),"%"]})]}),x.jsx("p",{className:"mt-4 text-white/90",children:ge>=0?" ":" "})]})]})})()]}),x.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:[x.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[x.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-3",children:[x.jsx(q0e,{className:"h-6 w-6 text-purple-600"})," "]}),f.locked_by&&x.jsxs("div",{className:"text-sm text-gray-600 bg-purple-50 px-3 py-1 rounded-full border border-purple-100 flex items-center gap-2",children:[x.jsxs("span",{children:["  : ",x.jsx("span",{className:"font-semibold text-purple-700",children:f.locked_by})]}),f.locked_at&&x.jsxs("span",{className:"text-xs text-gray-500 dir-ltr",children:["(",new Date(f.locked_at).toLocaleString("en-US"),")"]})]})]}),x.jsx("div",{className:"divide-y divide-gray-100",children:L.length>0?L.map(ge=>x.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors flex items-start gap-4",children:[x.jsx("div",{className:"mt-1 bg-blue-100 p-2 rounded-full",children:x.jsx(vf,{className:"h-4 w-4 text-blue-600"})}),x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsx("p",{className:"font-semibold text-gray-800",children:ge.user_name}),x.jsx("span",{className:"text-xs text-gray-500 dir-ltr",children:new Date(ge.created_at).toLocaleString("en-US")})]}),x.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ge.details}),x.jsx("span",{className:"inline-block mt-2 text-xs px-2 py-0.5 bg-gray-100 text-gray-600 rounded border border-gray-200",children:ge.action})]})]},ge.id)):x.jsx("div",{className:"p-8 text-center text-gray-500",children:"    "})})]}),x.jsx("div",{className:"text-center pt-4",children:x.jsx("button",{onClick:()=>h(null),className:"px-10 py-4 bg-gray-700 text-white rounded-xl hover:bg-gray-800 text-lg font-medium transition-all",children:" "})})]})]})}),p&&d&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-7xl w-full max-h-[95vh] overflow-y-auto",children:[x.jsxs("div",{className:"sticky top-0 bg-white border-b px-8 py-5 flex justify-between items-center z-10",children:[x.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-3",children:[x.jsx(D7,{className:"h-7 w-7 text-amber-600"}),"   #",d.order_number]}),x.jsx("button",{onClick:ie,className:"p-2 hover:bg-gray-100 rounded-lg",children:x.jsx(vi,{className:"h-6 w-6"})})]}),x.jsxs("div",{className:"p-8 space-y-8",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"col-span-1",children:[x.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),x.jsx("input",{type:"text",value:d.customer_name||"",onChange:ge=>A({...d,customer_name:ge.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-amber-500 focus:ring-2 focus:ring-amber-200"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),x.jsx("input",{type:"text",value:d.phone_number||"",onChange:ge=>A({...d,phone_number:ge.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-amber-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),x.jsx("input",{type:"text",value:d.shipping_company||"",onChange:ge=>A({...d,shipping_company:ge.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-amber-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  (.)"}),x.jsx("input",{type:"number",value:d.shipping_cost||0,onChange:ge=>A({...d,shipping_cost:parseFloat(ge.target.value)||0}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-amber-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"   "}),x.jsxs("select",{value:d.shipping_bearer||"customer",onChange:ge=>A({...d,shipping_bearer:ge.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-amber-500",children:[x.jsx("option",{value:"customer",children:""}),x.jsx("option",{value:"store",children:""})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),x.jsxs("select",{value:d.payment_method||"",onChange:ge=>A({...d,payment_method:ge.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-amber-500",children:[x.jsx("option",{value:"",children:" "}),iq.map(ge=>x.jsx("option",{value:ge.value,children:ge.label},ge.value))]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  (.)"}),x.jsx("input",{type:"number",value:d.total_price||0,onChange:ge=>A({...d,total_price:parseFloat(ge.target.value)||0}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-amber-500 font-bold text-green-700"})]})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsxs("h4",{className:"text-2xl font-bold flex items-center gap-3",children:[x.jsx(Li,{className:"h-7 w-7 text-indigo-600"})," "]}),x.jsxs("button",{onClick:K,className:"flex items-center gap-2 px-4 py-2 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 transition-colors",children:[x.jsx(ao,{className:"h-5 w-5"})," "]})]}),x.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 mb-6 flex items-start gap-3",children:[x.jsx(iee,{className:"h-6 w-6 text-amber-600 flex-shrink-0 mt-0.5"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-bold text-amber-800",children:" :"}),x.jsx("p",{className:"text-amber-700 text-sm",children:'         " "                .'})]})]}),x.jsx("div",{className:"space-y-6",children:(De=d.products)==null?void 0:De.map((ge,Be)=>x.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl p-6 border-2 border-gray-300",children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 items-end",children:[x.jsxs("div",{className:"lg:col-span-2",children:[x.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),x.jsx("input",{type:"text",value:ge.name,onChange:Pe=>{const st=[...d.products];st[Be].name=Pe.target.value,A({...d,products:st})},className:"w-full px-4 py-2 border-2 border-gray-300 rounded-xl focus:border-indigo-500 mb-2 font-bold text-gray-900",placeholder:" "}),x.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 mt-2",children:""}),x.jsxs("select",{value:ge.supplier_id||"",onChange:Pe=>{const st=[...d.products];st[Be].supplier_id=Pe.target.value||void 0,st[Be].supplier_name=V(Pe.target.value),A({...d,products:st})},className:"w-full px-4 py-2 border-2 border-gray-300 rounded-xl focus:border-indigo-500",children:[x.jsx("option",{value:"",children:" "}),i.filter(Pe=>Pe.type==="").map(Pe=>x.jsx("option",{value:Pe.id,children:Pe.name},Pe.id))]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  (.)"}),x.jsx("input",{type:"number",value:ge.unit_price||0,onChange:Pe=>{const st=[...d.products];st[Be].unit_price=parseFloat(Pe.target.value)||0,A({...d,products:st})},className:"w-full px-4 py-3 border-2 border-indigo-300 rounded-xl focus:border-indigo-600 font-bold text-indigo-700"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""}),x.jsx("input",{type:"number",min:"1",value:ge.quantity||1,onChange:Pe=>{const st=[...d.products];st[Be].quantity=parseInt(Pe.target.value,10)||1,A({...d,products:st})},className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-red-700 mb-2",children:"   (.)"}),x.jsx("input",{type:"number",value:ge.cost_subtotal||0,onChange:Pe=>{const st=[...d.products];st[Be].cost_subtotal=parseFloat(Pe.target.value)||0,A({...d,products:st})},className:"w-full px-4 py-3 border-2 border-red-400 rounded-xl focus:border-red-600 font-bold text-red-700 bg-red-50"})]})]})},ge.id))})]}),x.jsxs("div",{className:"sticky bottom-0 bg-white border-t pt-6 flex justify-end gap-4",children:[x.jsx("button",{onClick:ie,className:"px-8 py-4 bg-gray-300 text-gray-800 rounded-xl hover:bg-gray-400 text-lg font-bold",children:""}),x.jsx("button",{onClick:Z,disabled:w,className:"px-8 py-4 bg-green-600 text-white rounded-xl hover:bg-green-700 text-lg font-bold flex items-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:w?x.jsxs(x.Fragment,{children:[x.jsx(Jp,{className:"h-6 w-6 animate-spin"})," ..."]}):x.jsxs(x.Fragment,{children:[x.jsx(wb,{className:"h-6 w-6"}),"  "]})})]})]})]})}),m&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full",children:[x.jsxs("div",{className:"text-center mb-6",children:[x.jsx(qB,{className:"h-16 w-16 text-red-600 mx-auto mb-4"}),x.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:" "})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  *"}),x.jsx("textarea",{value:F.reason,onChange:ge=>P({...F,reason:ge.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",rows:3,placeholder:"   ..."})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),x.jsx("input",{type:"number",value:F.fee,onChange:ge=>P({...F,fee:parseFloat(ge.target.value)||0}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",min:"0",step:"0.01"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"   "}),x.jsxs("select",{value:F.feeBearer,onChange:ge=>P({...F,feeBearer:ge.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",children:[x.jsx("option",{value:"customer",children:""}),x.jsx("option",{value:"store",children:""})]})]}),x.jsxs("div",{className:"text-xs text-gray-500",children:[" : ",F.cancelledBy]})]}),x.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[x.jsx("button",{onClick:()=>v(!1),className:"px-8 py-3 bg-gray-300 rounded-xl hover:bg-gray-400 font-bold",children:""}),x.jsxs("button",{onClick:ne,className:"px-8 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 font-bold flex items-center gap-2",children:[x.jsx(qB,{className:"h-5 w-5"})," "]})]})]})}),_&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full",children:[x.jsxs("div",{className:"text-center mb-6",children:[x.jsx(No,{className:"h-16 w-16 text-red-600 mx-auto mb-4"}),x.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"  "}),x.jsx("p",{className:"text-gray-600 mt-2",children:"                  ."})]}),x.jsxs("div",{className:"flex justify-center gap-4",children:[x.jsx("button",{onClick:()=>T(!1),className:"px-8 py-3 bg-gray-300 rounded-xl hover:bg-gray-400 font-bold",children:""}),x.jsxs("button",{onClick:le,className:"px-8 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 font-bold flex items-center gap-2",children:[x.jsx(No,{className:"h-5 w-5"})," "]})]})]})}),j.length===0&&x.jsxs("div",{className:"text-center py-20",children:[x.jsx(Uv,{className:"h-20 w-20 text-gray-300 mx-auto mb-6"}),x.jsx("h3",{className:"text-2xl font-bold text-gray-700",children:"    "}),x.jsx("p",{className:"text-gray-500 mt-3",children:"        "})]})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kM=function(r,t){return kM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},kM(r,t)};function Tc(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");kM(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var NM=function(){return NM=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},NM.apply(this,arguments)};function bo(r,t,e,n){function i(a){return a instanceof e?a:new e(function(s){s(a)})}return new(e||(e=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(r,[])).next())})}function eo(r,t){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){e.label=u[1];break}if(u[0]===6&&e.label<a[1]){e.label=a[1],a=u;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(u);break}a[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(r,e)}catch(c){u=[6,c],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function R4(r,t,e){if(arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return r.concat(a||t)}var Zh=function(){function r(t,e,n,i){this.left=t,this.top=e,this.width=n,this.height=i}return r.prototype.add=function(t,e,n,i){return new r(this.left+t,this.top+e,this.width+n,this.height+i)},r.fromClientRect=function(t,e){return new r(e.left+t.windowBounds.left,e.top+t.windowBounds.top,e.width,e.height)},r.fromDOMRectList=function(t,e){var n=Array.from(e).find(function(i){return i.width!==0});return n?new r(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r}(),V8=function(r,t){return Zh.fromClientRect(r,t.getBoundingClientRect())},UQe=function(r){var t=r.body,e=r.documentElement;if(!t||!e)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,e.scrollWidth),Math.max(t.offsetWidth,e.offsetWidth),Math.max(t.clientWidth,e.clientWidth)),i=Math.max(Math.max(t.scrollHeight,e.scrollHeight),Math.max(t.offsetHeight,e.offsetHeight),Math.max(t.clientHeight,e.clientHeight));return new Zh(0,0,n,i)},G8=function(r){for(var t=[],e=0,n=r.length;e<n;){var i=r.charCodeAt(e++);if(i>=55296&&i<=56319&&e<n){var a=r.charCodeAt(e++);(a&64512)===56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),e--)}else t.push(i)}return t},fa=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var e=r.length;if(!e)return"";for(var n=[],i=-1,a="";++i<e;){var s=r[i];s<=65535?n.push(s):(s-=65536,n.push((s>>10)+55296,s%1024+56320)),(i+1===e||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},aq="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",HQe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var O4=0;O4<aq.length;O4++)HQe[aq.charCodeAt(O4)]=O4;var sq="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s2=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var j4=0;j4<sq.length;j4++)s2[sq.charCodeAt(j4)]=j4;var QQe=function(r){var t=r.length*.75,e=r.length,n,i=0,a,s,o,l;r[r.length-1]==="="&&(t--,r[r.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),c=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<e;n+=4)a=s2[r.charCodeAt(n)],s=s2[r.charCodeAt(n+1)],o=s2[r.charCodeAt(n+2)],l=s2[r.charCodeAt(n+3)],c[i++]=a<<2|s>>4,c[i++]=(s&15)<<4|o>>2,c[i++]=(o&3)<<6|l&63;return u},zQe=function(r){for(var t=r.length,e=[],n=0;n<t;n+=2)e.push(r[n+1]<<8|r[n]);return e},VQe=function(r){for(var t=r.length,e=[],n=0;n<t;n+=4)e.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return e},cg=5,RR=11,zk=2,GQe=RR-cg,lce=65536>>cg,WQe=1<<cg,Vk=WQe-1,$Qe=1024>>cg,KQe=lce+$Qe,qQe=KQe,XQe=32,YQe=qQe+XQe,ZQe=65536>>RR,JQe=1<<GQe,eze=JQe-1,oq=function(r,t,e){return r.slice?r.slice(t,e):new Uint16Array(Array.prototype.slice.call(r,t,e))},tze=function(r,t,e){return r.slice?r.slice(t,e):new Uint32Array(Array.prototype.slice.call(r,t,e))},rze=function(r,t){var e=QQe(r),n=Array.isArray(e)?VQe(e):new Uint32Array(e),i=Array.isArray(e)?zQe(e):new Uint16Array(e),a=24,s=oq(i,a/2,n[4]/2),o=n[5]===2?oq(i,(a+n[4])/2):tze(n,Math.ceil((a+n[4])/4));return new nze(n[0],n[1],n[2],n[3],s,o)},nze=function(){function r(t,e,n,i,a,s){this.initialValue=t,this.errorValue=e,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=s}return r.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=this.index[t>>cg],e=(e<<zk)+(t&Vk),this.data[e];if(t<=65535)return e=this.index[lce+(t-55296>>cg)],e=(e<<zk)+(t&Vk),this.data[e];if(t<this.highStart)return e=YQe-ZQe+(t>>RR),e=this.index[e],e+=t>>cg&eze,e=this.index[e],e=(e<<zk)+(t&Vk),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r}(),lq="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ize=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var U4=0;U4<lq.length;U4++)ize[lq.charCodeAt(U4)]=U4;var aze="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",uq=50,sze=1,uce=2,cce=3,oze=4,lze=5,cq=7,fce=8,fq=9,vA=10,FM=11,hq=12,IM=13,uze=14,o2=15,MM=16,H4=17,Mx=18,cze=19,dq=20,LM=21,Lx=22,Gk=23,zm=24,bl=25,l2=26,u2=27,Vm=28,fze=29,Cp=30,hze=31,Q4=32,z4=33,DM=34,PM=35,RM=36,Aw=37,OM=38,X3=39,Y3=40,Wk=41,hce=42,dze=43,Aze=[9001,65288],dce="!",Sn="",V4="",jM=rze(aze),th=[Cp,RM],UM=[sze,uce,cce,lze],Ace=[vA,fce],Aq=[u2,l2],pze=UM.concat(Ace),pq=[OM,X3,Y3,DM,PM],gze=[o2,IM],mze=function(r,t){t===void 0&&(t="strict");var e=[],n=[],i=[];return r.forEach(function(a,s){var o=jM.get(a);if(o>uq?(i.push(!0),o-=uq):i.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return n.push(s),e.push(MM);if(o===oze||o===FM){if(s===0)return n.push(s),e.push(Cp);var l=e[s-1];return pze.indexOf(l)===-1?(n.push(n[s-1]),e.push(l)):(n.push(s),e.push(Cp))}if(n.push(s),o===hze)return e.push(t==="strict"?LM:Aw);if(o===hce||o===fze)return e.push(Cp);if(o===dze)return a>=131072&&a<=196605||a>=196608&&a<=262141?e.push(Aw):e.push(Cp);e.push(o)}),[n,e,i]},$k=function(r,t,e,n){var i=n[e];if(Array.isArray(r)?r.indexOf(i)!==-1:r===i)for(var a=e;a<=n.length;){a++;var s=n[a];if(s===t)return!0;if(s!==vA)break}if(i===vA)for(var a=e;a>0;){a--;var o=n[a];if(Array.isArray(r)?r.indexOf(o)!==-1:r===o)for(var l=e;l<=n.length;){l++;var s=n[l];if(s===t)return!0;if(s!==vA)break}if(o!==vA)break}return!1},gq=function(r,t){for(var e=r;e>=0;){var n=t[e];if(n===vA)e--;else return n}return 0},vze=function(r,t,e,n,i){if(e[n]===0)return Sn;var a=n-1;if(Array.isArray(i)&&i[a]===!0)return Sn;var s=a-1,o=a+1,l=t[a],u=s>=0?t[s]:0,c=t[o];if(l===uce&&c===cce)return Sn;if(UM.indexOf(l)!==-1)return dce;if(UM.indexOf(c)!==-1||Ace.indexOf(c)!==-1)return Sn;if(gq(a,t)===fce)return V4;if(jM.get(r[a])===FM||(l===Q4||l===z4)&&jM.get(r[o])===FM||l===cq||c===cq||l===fq||[vA,IM,o2].indexOf(l)===-1&&c===fq||[H4,Mx,cze,zm,Vm].indexOf(c)!==-1||gq(a,t)===Lx||$k(Gk,Lx,a,t)||$k([H4,Mx],LM,a,t)||$k(hq,hq,a,t))return Sn;if(l===vA)return V4;if(l===Gk||c===Gk)return Sn;if(c===MM||l===MM)return V4;if([IM,o2,LM].indexOf(c)!==-1||l===uze||u===RM&&gze.indexOf(l)!==-1||l===Vm&&c===RM||c===dq||th.indexOf(c)!==-1&&l===bl||th.indexOf(l)!==-1&&c===bl||l===u2&&[Aw,Q4,z4].indexOf(c)!==-1||[Aw,Q4,z4].indexOf(l)!==-1&&c===l2||th.indexOf(l)!==-1&&Aq.indexOf(c)!==-1||Aq.indexOf(l)!==-1&&th.indexOf(c)!==-1||[u2,l2].indexOf(l)!==-1&&(c===bl||[Lx,o2].indexOf(c)!==-1&&t[o+1]===bl)||[Lx,o2].indexOf(l)!==-1&&c===bl||l===bl&&[bl,Vm,zm].indexOf(c)!==-1)return Sn;if([bl,Vm,zm,H4,Mx].indexOf(c)!==-1)for(var f=a;f>=0;){var h=t[f];if(h===bl)return Sn;if([Vm,zm].indexOf(h)!==-1)f--;else break}if([u2,l2].indexOf(c)!==-1)for(var f=[H4,Mx].indexOf(l)!==-1?s:a;f>=0;){var h=t[f];if(h===bl)return Sn;if([Vm,zm].indexOf(h)!==-1)f--;else break}if(OM===l&&[OM,X3,DM,PM].indexOf(c)!==-1||[X3,DM].indexOf(l)!==-1&&[X3,Y3].indexOf(c)!==-1||[Y3,PM].indexOf(l)!==-1&&c===Y3||pq.indexOf(l)!==-1&&[dq,l2].indexOf(c)!==-1||pq.indexOf(c)!==-1&&l===u2||th.indexOf(l)!==-1&&th.indexOf(c)!==-1||l===zm&&th.indexOf(c)!==-1||th.concat(bl).indexOf(l)!==-1&&c===Lx&&Aze.indexOf(r[o])===-1||th.concat(bl).indexOf(c)!==-1&&l===Mx)return Sn;if(l===Wk&&c===Wk){for(var d=e[a],A=1;d>0&&(d--,t[d]===Wk);)A++;if(A%2!==0)return Sn}return l===Q4&&c===z4?Sn:V4},yze=function(r,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var e=mze(r,t.lineBreak),n=e[0],i=e[1],a=e[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(i=i.map(function(o){return[bl,Cp,hce].indexOf(o)!==-1?Aw:o}));var s=t.wordBreak==="keep-all"?a.map(function(o,l){return o&&r[l]>=19968&&r[l]<=40959}):void 0;return[n,i,s]},xze=function(){function r(t,e,n,i){this.codePoints=t,this.required=e===dce,this.start=n,this.end=i}return r.prototype.slice=function(){return fa.apply(void 0,this.codePoints.slice(this.start,this.end))},r}(),bze=function(r,t){var e=G8(r),n=yze(e,t),i=n[0],a=n[1],s=n[2],o=e.length,l=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var c=Sn;u<o&&(c=vze(e,a,i,++u,s))===Sn;);if(c!==Sn||u===o){var f=new xze(e,c,l,u);return l=u,{value:f,done:!1}}return{done:!0,value:null}}}},wze=1,_ze=2,h_=4,mq=8,sC=10,vq=47,q2=92,Sze=9,Cze=32,G4=34,Dx=61,Bze=35,Tze=36,Eze=37,W4=39,$4=40,Px=41,kze=95,Go=45,Nze=33,Fze=60,Ize=62,Mze=64,Lze=91,Dze=93,Pze=61,Rze=123,K4=63,Oze=125,yq=124,jze=126,Uze=128,xq=65533,Kk=42,Op=43,Hze=44,Qze=58,zze=59,pw=46,Vze=0,Gze=8,Wze=11,$ze=14,Kze=31,qze=127,Vc=-1,pce=48,gce=97,mce=101,Xze=102,Yze=117,Zze=122,vce=65,yce=69,xce=70,Jze=85,eVe=90,no=function(r){return r>=pce&&r<=57},tVe=function(r){return r>=55296&&r<=57343},Gm=function(r){return no(r)||r>=vce&&r<=xce||r>=gce&&r<=Xze},rVe=function(r){return r>=gce&&r<=Zze},nVe=function(r){return r>=vce&&r<=eVe},iVe=function(r){return rVe(r)||nVe(r)},aVe=function(r){return r>=Uze},q4=function(r){return r===sC||r===Sze||r===Cze},oC=function(r){return iVe(r)||aVe(r)||r===kze},bq=function(r){return oC(r)||no(r)||r===Go},sVe=function(r){return r>=Vze&&r<=Gze||r===Wze||r>=$ze&&r<=Kze||r===qze},$d=function(r,t){return r!==q2?!1:t!==sC},X4=function(r,t,e){return r===Go?oC(t)||$d(t,e):oC(r)?!0:!!(r===q2&&$d(r,t))},qk=function(r,t,e){return r===Op||r===Go?no(t)?!0:t===pw&&no(e):no(r===pw?t:r)},oVe=function(r){var t=0,e=1;(r[t]===Op||r[t]===Go)&&(r[t]===Go&&(e=-1),t++);for(var n=[];no(r[t]);)n.push(r[t++]);var i=n.length?parseInt(fa.apply(void 0,n),10):0;r[t]===pw&&t++;for(var a=[];no(r[t]);)a.push(r[t++]);var s=a.length,o=s?parseInt(fa.apply(void 0,a),10):0;(r[t]===yce||r[t]===mce)&&t++;var l=1;(r[t]===Op||r[t]===Go)&&(r[t]===Go&&(l=-1),t++);for(var u=[];no(r[t]);)u.push(r[t++]);var c=u.length?parseInt(fa.apply(void 0,u),10):0;return e*(i+o*Math.pow(10,-s))*Math.pow(10,l*c)},lVe={type:2},uVe={type:3},cVe={type:4},fVe={type:13},hVe={type:8},dVe={type:21},AVe={type:9},pVe={type:10},gVe={type:11},mVe={type:12},vVe={type:14},Y4={type:23},yVe={type:1},xVe={type:25},bVe={type:24},wVe={type:26},_Ve={type:27},SVe={type:28},CVe={type:29},BVe={type:31},HM={type:32},bce=function(){function r(){this._value=[]}return r.prototype.write=function(t){this._value=this._value.concat(G8(t))},r.prototype.read=function(){for(var t=[],e=this.consumeToken();e!==HM;)t.push(e),e=this.consumeToken();return t},r.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case G4:return this.consumeStringToken(G4);case Bze:var e=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(bq(e)||$d(n,i)){var a=X4(e,n,i)?_ze:wze,s=this.consumeName();return{type:5,value:s,flags:a}}break;case Tze:if(this.peekCodePoint(0)===Dx)return this.consumeCodePoint(),fVe;break;case W4:return this.consumeStringToken(W4);case $4:return lVe;case Px:return uVe;case Kk:if(this.peekCodePoint(0)===Dx)return this.consumeCodePoint(),vVe;break;case Op:if(qk(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case Hze:return cVe;case Go:var o=t,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(qk(o,l,u))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(X4(o,l,u))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(l===Go&&u===Ize)return this.consumeCodePoint(),this.consumeCodePoint(),bVe;break;case pw:if(qk(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case vq:if(this.peekCodePoint(0)===Kk)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===Kk&&(c=this.consumeCodePoint(),c===vq))return this.consumeToken();if(c===Vc)return this.consumeToken()}break;case Qze:return wVe;case zze:return _Ve;case Fze:if(this.peekCodePoint(0)===Nze&&this.peekCodePoint(1)===Go&&this.peekCodePoint(2)===Go)return this.consumeCodePoint(),this.consumeCodePoint(),xVe;break;case Mze:var f=this.peekCodePoint(0),h=this.peekCodePoint(1),d=this.peekCodePoint(2);if(X4(f,h,d)){var s=this.consumeName();return{type:7,value:s}}break;case Lze:return SVe;case q2:if($d(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case Dze:return CVe;case Pze:if(this.peekCodePoint(0)===Dx)return this.consumeCodePoint(),hVe;break;case Rze:return gVe;case Oze:return mVe;case Yze:case Jze:var A=this.peekCodePoint(0),p=this.peekCodePoint(1);return A===Op&&(Gm(p)||p===K4)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case yq:if(this.peekCodePoint(0)===Dx)return this.consumeCodePoint(),AVe;if(this.peekCodePoint(0)===yq)return this.consumeCodePoint(),dVe;break;case jze:if(this.peekCodePoint(0)===Dx)return this.consumeCodePoint(),pVe;break;case Vc:return HM}return q4(t)?(this.consumeWhiteSpace(),BVe):no(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):oC(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:fa(t)}},r.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},r.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},r.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},r.prototype.consumeUnicodeRangeToken=function(){for(var t=[],e=this.consumeCodePoint();Gm(e)&&t.length<6;)t.push(e),e=this.consumeCodePoint();for(var n=!1;e===K4&&t.length<6;)t.push(e),e=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(fa.apply(void 0,t.map(function(l){return l===K4?pce:l})),16),a=parseInt(fa.apply(void 0,t.map(function(l){return l===K4?xce:l})),16);return{type:30,start:i,end:a}}var s=parseInt(fa.apply(void 0,t),16);if(this.peekCodePoint(0)===Go&&Gm(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var o=[];Gm(e)&&o.length<6;)o.push(e),e=this.consumeCodePoint();var a=parseInt(fa.apply(void 0,o),16);return{type:30,start:s,end:a}}else return{type:30,start:s,end:s}},r.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===$4?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===$4?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},r.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Vc)return{type:22,value:""};var e=this.peekCodePoint(0);if(e===W4||e===G4){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Vc||this.peekCodePoint(0)===Px)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Y4)}for(;;){var i=this.consumeCodePoint();if(i===Vc||i===Px)return{type:22,value:fa.apply(void 0,t)};if(q4(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Vc||this.peekCodePoint(0)===Px?(this.consumeCodePoint(),{type:22,value:fa.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Y4);if(i===G4||i===W4||i===$4||sVe(i))return this.consumeBadUrlRemnants(),Y4;if(i===q2)if($d(i,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Y4;else t.push(i)}},r.prototype.consumeWhiteSpace=function(){for(;q4(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Px||t===Vc)return;$d(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(t){for(var e=5e4,n="";t>0;){var i=Math.min(e,t);n+=fa.apply(void 0,this._value.splice(0,i)),t-=i}return this._value.shift(),n},r.prototype.consumeStringToken=function(t){var e="",n=0;do{var i=this._value[n];if(i===Vc||i===void 0||i===t)return e+=this.consumeStringSlice(n),{type:0,value:e};if(i===sC)return this._value.splice(0,n),yVe;if(i===q2){var a=this._value[n+1];a!==Vc&&a!==void 0&&(a===sC?(e+=this.consumeStringSlice(n),n=-1,this._value.shift()):$d(i,a)&&(e+=this.consumeStringSlice(n),e+=fa(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},r.prototype.consumeNumber=function(){var t=[],e=h_,n=this.peekCodePoint(0);for((n===Op||n===Go)&&t.push(this.consumeCodePoint());no(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===pw&&no(i))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=mq;no(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((n===yce||n===mce)&&((i===Op||i===Go)&&no(a)||no(i)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=mq;no(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[oVe(t),e]},r.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],n=t[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),s=this.peekCodePoint(2);if(X4(i,a,s)){var o=this.consumeName();return{type:15,number:e,flags:n,unit:o}}return i===Eze?(this.consumeCodePoint(),{type:16,number:e,flags:n}):{type:17,number:e,flags:n}},r.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Gm(t)){for(var e=fa(t);Gm(this.peekCodePoint(0))&&e.length<6;)e+=fa(this.consumeCodePoint());q4(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(e,16);return n===0||tVe(n)||n>1114111?xq:n}return t===Vc?xq:t},r.prototype.consumeName=function(){for(var t="";;){var e=this.consumeCodePoint();if(bq(e))t+=fa(e);else if($d(e,this.peekCodePoint(0)))t+=fa(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(e),t}},r}(),wce=function(){function r(t){this._tokens=t}return r.create=function(t){var e=new bce;return e.write(t),new r(e.read())},r.parseValue=function(t){return r.create(t).parseComponentValue()},r.parseValues=function(t){return r.create(t).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var t=[];;){var e=this.consumeComponentValue();if(e.type===32)return t;t.push(e),t.push()}},r.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},r.prototype.consumeSimpleBlock=function(t){for(var e={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||EVe(n,t))return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue()),n=this.consumeToken()}},r.prototype.consumeFunction=function(t){for(var e={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?HM:t},r.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},r}(),d_=function(r){return r.type===15},Sy=function(r){return r.type===17},oi=function(r){return r.type===20},TVe=function(r){return r.type===0},QM=function(r,t){return oi(r)&&r.value===t},_ce=function(r){return r.type!==31},z1=function(r){return r.type!==31&&r.type!==4},Pf=function(r){var t=[],e=[];return r.forEach(function(n){if(n.type===4){if(e.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(e),e=[];return}n.type!==31&&e.push(n)}),e.length&&t.push(e),t},EVe=function(r,t){return t===11&&r.type===12||t===28&&r.type===29?!0:t===2&&r.type===3},i0=function(r){return r.type===17||r.type===15},Ea=function(r){return r.type===16||i0(r)},Sce=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},Ms={type:17,number:0,flags:h_},OR={type:16,number:50,flags:h_},yA={type:16,number:100,flags:h_},c2=function(r,t,e){var n=r[0],i=r[1];return[yi(n,t),yi(typeof i<"u"?i:n,e)]},yi=function(r,t){if(r.type===16)return r.number/100*t;if(d_(r))switch(r.unit){case"rem":case"em":return 16*r.number;case"px":default:return r.number}return r.number},Cce="deg",Bce="grad",Tce="rad",Ece="turn",W8={name:"angle",parse:function(r,t){if(t.type===15)switch(t.unit){case Cce:return Math.PI*t.number/180;case Bce:return Math.PI/200*t.number;case Tce:return t.number;case Ece:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},kce=function(r){return r.type===15&&(r.unit===Cce||r.unit===Bce||r.unit===Tce||r.unit===Ece)},Nce=function(r){var t=r.filter(oi).map(function(e){return e.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ms,Ms];case"to top":case"bottom":return bu(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ms,yA];case"to right":case"left":return bu(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[yA,yA];case"to bottom":case"top":return bu(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[yA,Ms];case"to left":case"right":return bu(270)}return 0},bu=function(r){return Math.PI*r/180},QA={name:"color",parse:function(r,t){if(t.type===18){var e=kVe[t.name];if(typeof e>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return e(r,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);return xA(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3),s=t.value.substring(3,4);return xA(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(s+s,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6);return xA(parseInt(n,16),parseInt(i,16),parseInt(a,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),s=t.value.substring(6,8);return xA(parseInt(n,16),parseInt(i,16),parseInt(a,16),parseInt(s,16)/255)}}if(t.type===20){var o=Ph[t.value.toUpperCase()];if(typeof o<"u")return o}return Ph.TRANSPARENT}},zA=function(r){return(255&r)===0},is=function(r){var t=255&r,e=255&r>>8,n=255&r>>16,i=255&r>>24;return t<255?"rgba("+i+","+n+","+e+","+t/255+")":"rgb("+i+","+n+","+e+")"},xA=function(r,t,e,n){return(r<<24|t<<16|e<<8|Math.round(n*255)<<0)>>>0},wq=function(r,t){if(r.type===17)return r.number;if(r.type===16){var e=t===3?1:255;return t===3?r.number/100*e:Math.round(r.number/100*e)}return 0},_q=function(r,t){var e=t.filter(z1);if(e.length===3){var n=e.map(wq),i=n[0],a=n[1],s=n[2];return xA(i,a,s,1)}if(e.length===4){var o=e.map(wq),i=o[0],a=o[1],s=o[2],l=o[3];return xA(i,a,s,l)}return 0};function Xk(r,t,e){return e<0&&(e+=1),e>=1&&(e-=1),e<1/6?(t-r)*e*6+r:e<1/2?t:e<2/3?(t-r)*6*(2/3-e)+r:r}var Sq=function(r,t){var e=t.filter(z1),n=e[0],i=e[1],a=e[2],s=e[3],o=(n.type===17?bu(n.number):W8.parse(r,n))/(Math.PI*2),l=Ea(i)?i.number/100:0,u=Ea(a)?a.number/100:0,c=typeof s<"u"&&Ea(s)?yi(s,1):1;if(l===0)return xA(u*255,u*255,u*255,1);var f=u<=.5?u*(l+1):u+l-u*l,h=u*2-f,d=Xk(h,f,o+1/3),A=Xk(h,f,o),p=Xk(h,f,o-1/3);return xA(d*255,A*255,p*255,c)},kVe={hsl:Sq,hsla:Sq,rgb:_q,rgba:_q},X2=function(r,t){return QA.parse(r,wce.create(t).parseComponentValue())},Ph={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},NVe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,t){return t.map(function(e){if(oi(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},FVe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},$8=function(r,t){var e=QA.parse(r,t[0]),n=t[1];return n&&Ea(n)?{color:e,stop:n}:{color:e,stop:null}},Cq=function(r,t){var e=r[0],n=r[r.length-1];e.stop===null&&(e.stop=Ms),n.stop===null&&(n.stop=yA);for(var i=[],a=0,s=0;s<r.length;s++){var o=r[s].stop;if(o!==null){var l=yi(o,t);l>a?i.push(l):i.push(a),a=l}else i.push(null)}for(var u=null,s=0;s<i.length;s++){var c=i[s];if(c===null)u===null&&(u=s);else if(u!==null){for(var f=s-u,h=i[u-1],d=(c-h)/(f+1),A=1;A<=f;A++)i[u+A-1]=d*A;u=null}}return r.map(function(p,g){var m=p.color;return{color:m,stop:Math.max(Math.min(1,i[g]/t),0)}})},IVe=function(r,t,e){var n=t/2,i=e/2,a=yi(r[0],t)-n,s=i-yi(r[1],e);return(Math.atan2(s,a)+Math.PI*2)%(Math.PI*2)},MVe=function(r,t,e){var n=typeof r=="number"?r:IVe(r,t,e),i=Math.abs(t*Math.sin(n))+Math.abs(e*Math.cos(n)),a=t/2,s=e/2,o=i/2,l=Math.sin(n-Math.PI/2)*o,u=Math.cos(n-Math.PI/2)*o;return[i,a-u,a+u,s-l,s+l]},qu=function(r,t){return Math.sqrt(r*r+t*t)},Bq=function(r,t,e,n,i){var a=[[0,0],[0,t],[r,0],[r,t]];return a.reduce(function(s,o){var l=o[0],u=o[1],c=qu(e-l,n-u);return(i?c<s.optimumDistance:c>s.optimumDistance)?{optimumCorner:o,optimumDistance:c}:s},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},LVe=function(r,t,e,n,i){var a=0,s=0;switch(r.size){case 0:r.shape===0?a=s=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(e),Math.abs(e-i)):r.shape===1&&(a=Math.min(Math.abs(t),Math.abs(t-n)),s=Math.min(Math.abs(e),Math.abs(e-i)));break;case 2:if(r.shape===0)a=s=Math.min(qu(t,e),qu(t,e-i),qu(t-n,e),qu(t-n,e-i));else if(r.shape===1){var o=Math.min(Math.abs(e),Math.abs(e-i))/Math.min(Math.abs(t),Math.abs(t-n)),l=Bq(n,i,t,e,!0),u=l[0],c=l[1];a=qu(u-t,(c-e)/o),s=o*a}break;case 1:r.shape===0?a=s=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(e),Math.abs(e-i)):r.shape===1&&(a=Math.max(Math.abs(t),Math.abs(t-n)),s=Math.max(Math.abs(e),Math.abs(e-i)));break;case 3:if(r.shape===0)a=s=Math.max(qu(t,e),qu(t,e-i),qu(t-n,e),qu(t-n,e-i));else if(r.shape===1){var o=Math.max(Math.abs(e),Math.abs(e-i))/Math.max(Math.abs(t),Math.abs(t-n)),f=Bq(n,i,t,e,!1),u=f[0],c=f[1];a=qu(u-t,(c-e)/o),s=o*a}break}return Array.isArray(r.size)&&(a=yi(r.size[0],n),s=r.size.length===2?yi(r.size[1],i):a),[a,s]},DVe=function(r,t){var e=bu(180),n=[];return Pf(t).forEach(function(i,a){if(a===0){var s=i[0];if(s.type===20&&s.value==="to"){e=Nce(i);return}else if(kce(s)){e=W8.parse(r,s);return}}var o=$8(r,i);n.push(o)}),{angle:e,stops:n,type:1}},Z4=function(r,t){var e=bu(180),n=[];return Pf(t).forEach(function(i,a){if(a===0){var s=i[0];if(s.type===20&&["top","left","right","bottom"].indexOf(s.value)!==-1){e=Nce(i);return}else if(kce(s)){e=(W8.parse(r,s)+bu(270))%bu(360);return}}var o=$8(r,i);n.push(o)}),{angle:e,stops:n,type:1}},PVe=function(r,t){var e=bu(180),n=[],i=1,a=0,s=3,o=[];return Pf(t).forEach(function(l,u){var c=l[0];if(u===0){if(oi(c)&&c.value==="linear"){i=1;return}else if(oi(c)&&c.value==="radial"){i=2;return}}if(c.type===18){if(c.name==="from"){var f=QA.parse(r,c.values[0]);n.push({stop:Ms,color:f})}else if(c.name==="to"){var f=QA.parse(r,c.values[0]);n.push({stop:yA,color:f})}else if(c.name==="color-stop"){var h=c.values.filter(z1);if(h.length===2){var f=QA.parse(r,h[1]),d=h[0];Sy(d)&&n.push({stop:{type:16,number:d.number*100,flags:d.flags},color:f})}}}}),i===1?{angle:(e+bu(180))%bu(360),stops:n,type:i}:{size:s,shape:a,stops:n,position:o,type:i}},Fce="closest-side",Ice="farthest-side",Mce="closest-corner",Lce="farthest-corner",Dce="circle",Pce="ellipse",Rce="cover",Oce="contain",RVe=function(r,t){var e=0,n=3,i=[],a=[];return Pf(t).forEach(function(s,o){var l=!0;if(o===0){var u=!1;l=s.reduce(function(f,h){if(u)if(oi(h))switch(h.value){case"center":return a.push(OR),f;case"top":case"left":return a.push(Ms),f;case"right":case"bottom":return a.push(yA),f}else(Ea(h)||i0(h))&&a.push(h);else if(oi(h))switch(h.value){case Dce:return e=0,!1;case Pce:return e=1,!1;case"at":return u=!0,!1;case Fce:return n=0,!1;case Rce:case Ice:return n=1,!1;case Oce:case Mce:return n=2,!1;case Lce:return n=3,!1}else if(i0(h)||Ea(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return f},l)}if(l){var c=$8(r,s);i.push(c)}}),{size:n,shape:e,stops:i,position:a,type:2}},J4=function(r,t){var e=0,n=3,i=[],a=[];return Pf(t).forEach(function(s,o){var l=!0;if(o===0?l=s.reduce(function(c,f){if(oi(f))switch(f.value){case"center":return a.push(OR),!1;case"top":case"left":return a.push(Ms),!1;case"right":case"bottom":return a.push(yA),!1}else if(Ea(f)||i0(f))return a.push(f),!1;return c},l):o===1&&(l=s.reduce(function(c,f){if(oi(f))switch(f.value){case Dce:return e=0,!1;case Pce:return e=1,!1;case Oce:case Fce:return n=0,!1;case Ice:return n=1,!1;case Mce:return n=2,!1;case Rce:case Lce:return n=3,!1}else if(i0(f)||Ea(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return c},l)),l){var u=$8(r,s);i.push(u)}}),{size:n,shape:e,stops:i,position:a,type:2}},OVe=function(r){return r.type===1},jVe=function(r){return r.type===2},jR={name:"image",parse:function(r,t){if(t.type===22){var e={url:t.value,type:0};return r.cache.addImage(t.value),e}if(t.type===18){var n=jce[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(r,t.values)}throw new Error("Unsupported image type "+t.type)}};function UVe(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!jce[r.name])}var jce={"linear-gradient":DVe,"-moz-linear-gradient":Z4,"-ms-linear-gradient":Z4,"-o-linear-gradient":Z4,"-webkit-linear-gradient":Z4,"radial-gradient":RVe,"-moz-radial-gradient":J4,"-ms-radial-gradient":J4,"-o-radial-gradient":J4,"-webkit-radial-gradient":J4,"-webkit-gradient":PVe},HVe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,t){if(t.length===0)return[];var e=t[0];return e.type===20&&e.value==="none"?[]:t.filter(function(n){return z1(n)&&UVe(n)}).map(function(n){return jR.parse(r,n)})}},QVe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,t){return t.map(function(e){if(oi(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},zVe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,t){return Pf(t).map(function(e){return e.filter(Ea)}).map(Sce)}},VVe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,t){return Pf(t).map(function(e){return e.filter(oi).map(function(n){return n.value}).join(" ")}).map(GVe)}},GVe=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Zv;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(Zv||(Zv={}));var WVe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,t){return Pf(t).map(function(e){return e.filter($Ve)})}},$Ve=function(r){return oi(r)||Ea(r)},K8=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},KVe=K8("top"),qVe=K8("right"),XVe=K8("bottom"),YVe=K8("left"),q8=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(t,e){return Sce(e.filter(Ea))}}},ZVe=q8("top-left"),JVe=q8("top-right"),eGe=q8("bottom-right"),tGe=q8("bottom-left"),X8=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},rGe=X8("top"),nGe=X8("right"),iGe=X8("bottom"),aGe=X8("left"),Y8=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return d_(e)?e.number:0}}},sGe=Y8("top"),oGe=Y8("right"),lGe=Y8("bottom"),uGe=Y8("left"),cGe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fGe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},hGe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,t){return t.filter(oi).reduce(function(e,n){return e|dGe(n.value)},0)}},dGe=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},AGe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},pGe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},lC;(function(r){r.NORMAL="normal",r.STRICT="strict"})(lC||(lC={}));var gGe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,t){switch(t){case"strict":return lC.STRICT;case"normal":default:return lC.NORMAL}}},mGe={name:"line-height",initialValue:"normal",prefix:!1,type:4},Tq=function(r,t){return oi(r)&&r.value==="normal"?1.2*t:r.type===17?t*r.number:Ea(r)?yi(r,t):t},vGe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,t){return t.type===20&&t.value==="none"?null:jR.parse(r,t)}},yGe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},zM={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Z8=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},xGe=Z8("top"),bGe=Z8("right"),wGe=Z8("bottom"),_Ge=Z8("left"),SGe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,t){return t.filter(oi).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},CGe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},J8=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},BGe=J8("top"),TGe=J8("right"),EGe=J8("bottom"),kGe=J8("left"),NGe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},FGe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},IGe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,t){return t.length===1&&QM(t[0],"none")?[]:Pf(t).map(function(e){for(var n={color:Ph.TRANSPARENT,offsetX:Ms,offsetY:Ms,blur:Ms},i=0,a=0;a<e.length;a++){var s=e[a];i0(s)?(i===0?n.offsetX=s:i===1?n.offsetY=s:n.blur=s,i++):n.color=QA.parse(r,s)}return n})}},MGe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},LGe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var e=RGe[t.name];if(typeof e>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return e(t.values)}return null}},DGe=function(r){var t=r.filter(function(e){return e.type===17}).map(function(e){return e.number});return t.length===6?t:null},PGe=function(r){var t=r.filter(function(l){return l.type===17}).map(function(l){return l.number}),e=t[0],n=t[1];t[2],t[3];var i=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var s=t[12],o=t[13];return t[14],t[15],t.length===16?[e,n,i,a,s,o]:null},RGe={matrix:DGe,matrix3d:PGe},Eq={type:16,number:50,flags:h_},OGe=[Eq,Eq],jGe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,t){var e=t.filter(Ea);return e.length!==2?OGe:[e[0],e[1]]}},UGe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Y2;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(Y2||(Y2={}));var HGe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,t){switch(t){case"break-all":return Y2.BREAK_ALL;case"keep-all":return Y2.KEEP_ALL;case"normal":default:return Y2.NORMAL}}},QGe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,t){if(t.type===20)return{auto:!0,order:0};if(Sy(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Uce={name:"time",parse:function(r,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},zGe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,t){return Sy(t)?t.number:1}},VGe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},GGe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,t){return t.filter(oi).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return e!==0})}},WGe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,t){var e=[],n=[];return t.forEach(function(i){switch(i.type){case 20:case 0:e.push(i.value);break;case 17:e.push(i.number.toString());break;case 4:n.push(e.join(" ")),e.length=0;break}}),e.length&&n.push(e.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},$Ge={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},KGe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,t){if(Sy(t))return t.number;if(oi(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},qGe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,t){return t.filter(oi).map(function(e){return e.value})}},XGe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ka=function(r,t){return(r&t)!==0},YGe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,t){if(t.length===0)return[];var e=t[0];return e.type===20&&e.value==="none"?[]:t}},ZGe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,t){if(t.length===0)return null;var e=t[0];if(e.type===20&&e.value==="none")return null;for(var n=[],i=t.filter(_ce),a=0;a<i.length;a++){var s=i[a],o=i[a+1];if(s.type===20){var l=o&&Sy(o)?o.number:1;n.push({counter:s.value,increment:l})}}return n}},JGe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,t){if(t.length===0)return[];for(var e=[],n=t.filter(_ce),i=0;i<n.length;i++){var a=n[i],s=n[i+1];if(oi(a)&&a.value!=="none"){var o=s&&Sy(s)?s.number:0;e.push({counter:a.value,reset:o})}}return e}},eWe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,t){return t.filter(d_).map(function(e){return Uce.parse(r,e)})}},tWe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,t){if(t.length===0)return null;var e=t[0];if(e.type===20&&e.value==="none")return null;var n=[],i=t.filter(TVe);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var s=i[a].value,o=i[a+1].value;n.push({open:s,close:o})}return n}},kq=function(r,t,e){if(!r)return"";var n=r[Math.min(t,r.length-1)];return n?e?n.open:n.close:""},rWe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,t){return t.length===1&&QM(t[0],"none")?[]:Pf(t).map(function(e){for(var n={color:255,offsetX:Ms,offsetY:Ms,blur:Ms,spread:Ms,inset:!1},i=0,a=0;a<e.length;a++){var s=e[a];QM(s,"inset")?n.inset=!0:i0(s)?(i===0?n.offsetX=s:i===1?n.offsetY=s:i===2?n.blur=s:n.spread=s,i++):n.color=QA.parse(r,s)}return n})}},nWe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,t){var e=[0,1,2],n=[];return t.filter(oi).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),e.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},iWe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},aWe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,t){return d_(t)?t.number:0}},sWe=function(){function r(t,e){var n,i;this.animationDuration=hr(t,eWe,e.animationDuration),this.backgroundClip=hr(t,NVe,e.backgroundClip),this.backgroundColor=hr(t,FVe,e.backgroundColor),this.backgroundImage=hr(t,HVe,e.backgroundImage),this.backgroundOrigin=hr(t,QVe,e.backgroundOrigin),this.backgroundPosition=hr(t,zVe,e.backgroundPosition),this.backgroundRepeat=hr(t,VVe,e.backgroundRepeat),this.backgroundSize=hr(t,WVe,e.backgroundSize),this.borderTopColor=hr(t,KVe,e.borderTopColor),this.borderRightColor=hr(t,qVe,e.borderRightColor),this.borderBottomColor=hr(t,XVe,e.borderBottomColor),this.borderLeftColor=hr(t,YVe,e.borderLeftColor),this.borderTopLeftRadius=hr(t,ZVe,e.borderTopLeftRadius),this.borderTopRightRadius=hr(t,JVe,e.borderTopRightRadius),this.borderBottomRightRadius=hr(t,eGe,e.borderBottomRightRadius),this.borderBottomLeftRadius=hr(t,tGe,e.borderBottomLeftRadius),this.borderTopStyle=hr(t,rGe,e.borderTopStyle),this.borderRightStyle=hr(t,nGe,e.borderRightStyle),this.borderBottomStyle=hr(t,iGe,e.borderBottomStyle),this.borderLeftStyle=hr(t,aGe,e.borderLeftStyle),this.borderTopWidth=hr(t,sGe,e.borderTopWidth),this.borderRightWidth=hr(t,oGe,e.borderRightWidth),this.borderBottomWidth=hr(t,lGe,e.borderBottomWidth),this.borderLeftWidth=hr(t,uGe,e.borderLeftWidth),this.boxShadow=hr(t,rWe,e.boxShadow),this.color=hr(t,cGe,e.color),this.direction=hr(t,fGe,e.direction),this.display=hr(t,hGe,e.display),this.float=hr(t,AGe,e.cssFloat),this.fontFamily=hr(t,WGe,e.fontFamily),this.fontSize=hr(t,$Ge,e.fontSize),this.fontStyle=hr(t,XGe,e.fontStyle),this.fontVariant=hr(t,qGe,e.fontVariant),this.fontWeight=hr(t,KGe,e.fontWeight),this.letterSpacing=hr(t,pGe,e.letterSpacing),this.lineBreak=hr(t,gGe,e.lineBreak),this.lineHeight=hr(t,mGe,e.lineHeight),this.listStyleImage=hr(t,vGe,e.listStyleImage),this.listStylePosition=hr(t,yGe,e.listStylePosition),this.listStyleType=hr(t,zM,e.listStyleType),this.marginTop=hr(t,xGe,e.marginTop),this.marginRight=hr(t,bGe,e.marginRight),this.marginBottom=hr(t,wGe,e.marginBottom),this.marginLeft=hr(t,_Ge,e.marginLeft),this.opacity=hr(t,zGe,e.opacity);var a=hr(t,SGe,e.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=hr(t,CGe,e.overflowWrap),this.paddingTop=hr(t,BGe,e.paddingTop),this.paddingRight=hr(t,TGe,e.paddingRight),this.paddingBottom=hr(t,EGe,e.paddingBottom),this.paddingLeft=hr(t,kGe,e.paddingLeft),this.paintOrder=hr(t,nWe,e.paintOrder),this.position=hr(t,FGe,e.position),this.textAlign=hr(t,NGe,e.textAlign),this.textDecorationColor=hr(t,VGe,(n=e.textDecorationColor)!==null&&n!==void 0?n:e.color),this.textDecorationLine=hr(t,GGe,(i=e.textDecorationLine)!==null&&i!==void 0?i:e.textDecoration),this.textShadow=hr(t,IGe,e.textShadow),this.textTransform=hr(t,MGe,e.textTransform),this.transform=hr(t,LGe,e.transform),this.transformOrigin=hr(t,jGe,e.transformOrigin),this.visibility=hr(t,UGe,e.visibility),this.webkitTextStrokeColor=hr(t,iWe,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=hr(t,aWe,e.webkitTextStrokeWidth),this.wordBreak=hr(t,HGe,e.wordBreak),this.zIndex=hr(t,QGe,e.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return zA(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return Ka(this.display,4)||Ka(this.display,33554432)||Ka(this.display,268435456)||Ka(this.display,536870912)||Ka(this.display,67108864)||Ka(this.display,134217728)},r}(),oWe=function(){function r(t,e){this.content=hr(t,YGe,e.content),this.quotes=hr(t,tWe,e.quotes)}return r}(),Nq=function(){function r(t,e){this.counterIncrement=hr(t,ZGe,e.counterIncrement),this.counterReset=hr(t,JGe,e.counterReset)}return r}(),hr=function(r,t,e){var n=new bce,i=e!==null&&typeof e<"u"?e.toString():t.initialValue;n.write(i);var a=new wce(n.read());switch(t.type){case 2:var s=a.parseComponentValue();return t.parse(r,oi(s)?s.value:t.initialValue);case 0:return t.parse(r,a.parseComponentValue());case 1:return t.parse(r,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return W8.parse(r,a.parseComponentValue());case"color":return QA.parse(r,a.parseComponentValue());case"image":return jR.parse(r,a.parseComponentValue());case"length":var o=a.parseComponentValue();return i0(o)?o:Ms;case"length-percentage":var l=a.parseComponentValue();return Ea(l)?l:Ms;case"time":return Uce.parse(r,a.parseComponentValue())}break}},lWe="data-html2canvas-debug",uWe=function(r){var t=r.getAttribute(lWe);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},VM=function(r,t){var e=uWe(r);return e===1||t===e},Rf=function(){function r(t,e){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,VM(e,3))debugger;this.styles=new sWe(t,window.getComputedStyle(e,null)),$M(e)&&(this.styles.animationDuration.some(function(n){return n>0})&&(e.style.animationDuration="0s"),this.styles.transform!==null&&(e.style.transform="none")),this.bounds=V8(this.context,e),VM(e,4)&&(this.flags|=16)}return r}(),cWe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Fq="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f2=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var e3=0;e3<Fq.length;e3++)f2[Fq.charCodeAt(e3)]=e3;var fWe=function(r){var t=r.length*.75,e=r.length,n,i=0,a,s,o,l;r[r.length-1]==="="&&(t--,r[r.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),c=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<e;n+=4)a=f2[r.charCodeAt(n)],s=f2[r.charCodeAt(n+1)],o=f2[r.charCodeAt(n+2)],l=f2[r.charCodeAt(n+3)],c[i++]=a<<2|s>>4,c[i++]=(s&15)<<4|o>>2,c[i++]=(o&3)<<6|l&63;return u},hWe=function(r){for(var t=r.length,e=[],n=0;n<t;n+=2)e.push(r[n+1]<<8|r[n]);return e},dWe=function(r){for(var t=r.length,e=[],n=0;n<t;n+=4)e.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return e},fg=5,UR=11,Yk=2,AWe=UR-fg,Hce=65536>>fg,pWe=1<<fg,Zk=pWe-1,gWe=1024>>fg,mWe=Hce+gWe,vWe=mWe,yWe=32,xWe=vWe+yWe,bWe=65536>>UR,wWe=1<<AWe,_We=wWe-1,Iq=function(r,t,e){return r.slice?r.slice(t,e):new Uint16Array(Array.prototype.slice.call(r,t,e))},SWe=function(r,t,e){return r.slice?r.slice(t,e):new Uint32Array(Array.prototype.slice.call(r,t,e))},CWe=function(r,t){var e=fWe(r),n=Array.isArray(e)?dWe(e):new Uint32Array(e),i=Array.isArray(e)?hWe(e):new Uint16Array(e),a=24,s=Iq(i,a/2,n[4]/2),o=n[5]===2?Iq(i,(a+n[4])/2):SWe(n,Math.ceil((a+n[4])/4));return new BWe(n[0],n[1],n[2],n[3],s,o)},BWe=function(){function r(t,e,n,i,a,s){this.initialValue=t,this.errorValue=e,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=s}return r.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=this.index[t>>fg],e=(e<<Yk)+(t&Zk),this.data[e];if(t<=65535)return e=this.index[Hce+(t-55296>>fg)],e=(e<<Yk)+(t&Zk),this.data[e];if(t<this.highStart)return e=xWe-bWe+(t>>UR),e=this.index[e],e+=t>>fg&_We,e=this.index[e],e=(e<<Yk)+(t&Zk),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r}(),Mq="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",TWe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var t3=0;t3<Mq.length;t3++)TWe[Mq.charCodeAt(t3)]=t3;var EWe=1,Jk=2,eN=3,Lq=4,Dq=5,kWe=7,Pq=8,tN=9,rN=10,Rq=11,Oq=12,jq=13,Uq=14,nN=15,NWe=function(r){for(var t=[],e=0,n=r.length;e<n;){var i=r.charCodeAt(e++);if(i>=55296&&i<=56319&&e<n){var a=r.charCodeAt(e++);(a&64512)===56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),e--)}else t.push(i)}return t},FWe=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var e=r.length;if(!e)return"";for(var n=[],i=-1,a="";++i<e;){var s=r[i];s<=65535?n.push(s):(s-=65536,n.push((s>>10)+55296,s%1024+56320)),(i+1===e||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},IWe=CWe(cWe),ou="",iN="",MWe=function(r){return IWe.get(r)},LWe=function(r,t,e){var n=e-2,i=t[n],a=t[e-1],s=t[e];if(a===Jk&&s===eN)return ou;if(a===Jk||a===eN||a===Lq||s===Jk||s===eN||s===Lq)return iN;if(a===Pq&&[Pq,tN,Rq,Oq].indexOf(s)!==-1||(a===Rq||a===tN)&&(s===tN||s===rN)||(a===Oq||a===rN)&&s===rN||s===jq||s===Dq||s===kWe||a===EWe)return ou;if(a===jq&&s===Uq){for(;i===Dq;)i=t[--n];if(i===Uq)return ou}if(a===nN&&s===nN){for(var o=0;i===nN;)o++,i=t[--n];if(o%2===0)return ou}return iN},DWe=function(r){var t=NWe(r),e=t.length,n=0,i=0,a=t.map(MWe);return{next:function(){if(n>=e)return{done:!0,value:null};for(var s=ou;n<e&&(s=LWe(t,a,++n))===ou;);if(s!==ou||n===e){var o=FWe.apply(null,t.slice(i,n));return i=n,{value:o,done:!1}}return{done:!0,value:null}}}},PWe=function(r){for(var t=DWe(r),e=[],n;!(n=t.next()).done;)n.value&&e.push(n.value.slice());return e},RWe=function(r){var t=123;if(r.createRange){var e=r.createRange();if(e.getBoundingClientRect){var n=r.createElement("boundtest");n.style.height=t+"px",n.style.display="block",r.body.appendChild(n),e.selectNode(n);var i=e.getBoundingClientRect(),a=Math.round(i.height);if(r.body.removeChild(n),a===t)return!0}}return!1},OWe=function(r){var t=r.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",r.body.appendChild(t);var e=r.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,i=G8(n.data).map(function(l){return fa(l)}),a=0,s={},o=i.every(function(l,u){e.setStart(n,a),e.setEnd(n,a+l.length);var c=e.getBoundingClientRect();a+=l.length;var f=c.x>s.x||c.y>s.y;return s=c,u===0?!0:f});return r.body.removeChild(t),o},jWe=function(){return typeof new Image().crossOrigin<"u"},UWe=function(){return typeof new XMLHttpRequest().responseType=="string"},HWe=function(r){var t=new Image,e=r.createElement("canvas"),n=e.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),e.toDataURL()}catch{return!1}return!0},Hq=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},QWe=function(r){var t=r.createElement("canvas"),e=100;t.width=e,t.height=e;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,e,e);var i=new Image,a=t.toDataURL();i.src=a;var s=GM(e,e,0,0,i);return n.fillStyle="red",n.fillRect(0,0,e,e),Qq(s).then(function(o){n.drawImage(o,0,0);var l=n.getImageData(0,0,e,e).data;n.fillStyle="red",n.fillRect(0,0,e,e);var u=r.createElement("div");return u.style.backgroundImage="url("+a+")",u.style.height=e+"px",Hq(l)?Qq(GM(e,e,0,0,u)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),Hq(n.getImageData(0,0,e,e).data)}).catch(function(){return!1})},GM=function(r,t,e,n,i){var a="http://www.w3.org/2000/svg",s=document.createElementNS(a,"svg"),o=document.createElementNS(a,"foreignObject");return s.setAttributeNS(null,"width",r.toString()),s.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(o),o.appendChild(i),s},Qq=function(r){return new Promise(function(t,e){var n=new Image;n.onload=function(){return t(n)},n.onerror=e,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},Es={get SUPPORT_RANGE_BOUNDS(){var r=RWe(document);return Object.defineProperty(Es,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=Es.SUPPORT_RANGE_BOUNDS&&OWe(document);return Object.defineProperty(Es,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=HWe(document);return Object.defineProperty(Es,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?QWe(document):Promise.resolve(!1);return Object.defineProperty(Es,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=jWe();return Object.defineProperty(Es,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=UWe();return Object.defineProperty(Es,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Es,"SUPPORT_CORS_XHR",{value:r}),r},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var r=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Es,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:r}),r}},Z2=function(){function r(t,e){this.text=t,this.bounds=e}return r}(),zWe=function(r,t,e,n){var i=WWe(t,e),a=[],s=0;return i.forEach(function(o){if(e.textDecorationLine.length||o.trim().length>0)if(Es.SUPPORT_RANGE_BOUNDS){var l=zq(n,s,o.length).getClientRects();if(l.length>1){var u=HR(o),c=0;u.forEach(function(h){a.push(new Z2(h,Zh.fromDOMRectList(r,zq(n,c+s,h.length).getClientRects()))),c+=h.length})}else a.push(new Z2(o,Zh.fromDOMRectList(r,l)))}else{var f=n.splitText(o.length);a.push(new Z2(o,VWe(r,n))),n=f}else Es.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));s+=o.length}),a},VWe=function(r,t){var e=t.ownerDocument;if(e){var n=e.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(n,t);var a=V8(r,n);return n.firstChild&&i.replaceChild(n.firstChild,n),a}}return Zh.EMPTY},zq=function(r,t,e){var n=r.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(r,t),i.setEnd(r,t+e),i},HR=function(r){if(Es.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(r)).map(function(e){return e.segment})}return PWe(r)},GWe=function(r,t){if(Es.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(e.segment(r)).map(function(n){return n.segment})}return KWe(r,t)},WWe=function(r,t){return t.letterSpacing!==0?HR(r):GWe(r,t)},$We=[32,160,4961,65792,65793,4153,4241],KWe=function(r,t){for(var e=bze(r,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],i,a=function(){if(i.value){var s=i.value.slice(),o=G8(s),l="";o.forEach(function(u){$We.indexOf(u)===-1?l+=fa(u):(l.length&&n.push(l),n.push(fa(u)),l="")}),l.length&&n.push(l)}};!(i=e.next()).done;)a();return n},qWe=function(){function r(t,e,n){this.text=XWe(e.data,n.textTransform),this.textBounds=zWe(t,this.text,n,e)}return r}(),XWe=function(r,t){switch(t){case 1:return r.toLowerCase();case 3:return r.replace(YWe,ZWe);case 2:return r.toUpperCase();default:return r}},YWe=/(^|\s|:|-|\(|\))([a-z])/g,ZWe=function(r,t,e){return r.length>0?t+e.toUpperCase():r},Qce=function(r){Tc(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return t}(Rf),zce=function(r){Tc(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return t}(Rf),Vce=function(r){Tc(t,r);function t(e,n){var i=r.call(this,e,n)||this,a=new XMLSerializer,s=V8(e,n);return n.setAttribute("width",s.width+"px"),n.setAttribute("height",s.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return t}(Rf),Gce=function(r){Tc(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.value=n.value,i}return t}(Rf),WM=function(r){Tc(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return t}(Rf),JWe=[{type:15,flags:0,unit:"px",number:3}],e$e=[{type:16,flags:0,number:50}],t$e=function(r){return r.width>r.height?new Zh(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new Zh(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},r$e=function(r){var t=r.type===n$e?new Array(r.value.length+1).join(""):r.value;return t.length===0?r.placeholder||"":t},uC="checkbox",cC="radio",n$e="password",Vq=707406591,QR=function(r){Tc(t,r);function t(e,n){var i=r.call(this,e,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=r$e(n),(i.type===uC||i.type===cC)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=t$e(i.bounds)),i.type){case uC:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=JWe;break;case cC:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=e$e;break}return i}return t}(Rf),Wce=function(r){Tc(t,r);function t(e,n){var i=r.call(this,e,n)||this,a=n.options[n.selectedIndex||0];return i.value=a&&a.text||"",i}return t}(Rf),$ce=function(r){Tc(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.value=n.value,i}return t}(Rf),Kce=function(r){Tc(t,r);function t(e,n){var i=r.call(this,e,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=Xce(e,n.contentWindow.document.documentElement);var a=n.contentWindow.document.documentElement?X2(e,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Ph.TRANSPARENT,s=n.contentWindow.document.body?X2(e,getComputedStyle(n.contentWindow.document.body).backgroundColor):Ph.TRANSPARENT;i.backgroundColor=zA(a)?zA(s)?i.styles.backgroundColor:s:a}}catch{}return i}return t}(Rf),i$e=["OL","UL","MENU"],Z3=function(r,t,e,n){for(var i=t.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,Yce(i)&&i.data.trim().length>0)e.textNodes.push(new qWe(r,i,e.styles));else if(Iv(i))if(tfe(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return Z3(r,o,e,n)});else{var s=qce(r,i);s.styles.isVisible()&&(a$e(i,s,n)?s.flags|=4:s$e(s.styles)&&(s.flags|=2),i$e.indexOf(i.tagName)!==-1&&(s.flags|=8),e.elements.push(s),i.slot,i.shadowRoot?Z3(r,i.shadowRoot,s,n):!fC(i)&&!Zce(i)&&!hC(i)&&Z3(r,i,s,n))}},qce=function(r,t){return KM(t)?new Qce(r,t):Jce(t)?new zce(r,t):Zce(t)?new Vce(r,t):o$e(t)?new Gce(r,t):l$e(t)?new WM(r,t):u$e(t)?new QR(r,t):hC(t)?new Wce(r,t):fC(t)?new $ce(r,t):efe(t)?new Kce(r,t):new Rf(r,t)},Xce=function(r,t){var e=qce(r,t);return e.flags|=4,Z3(r,t,e,e),e},a$e=function(r,t,e){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||zR(r)&&e.styles.isTransparent()},s$e=function(r){return r.isPositioned()||r.isFloating()},Yce=function(r){return r.nodeType===Node.TEXT_NODE},Iv=function(r){return r.nodeType===Node.ELEMENT_NODE},$M=function(r){return Iv(r)&&typeof r.style<"u"&&!J3(r)},J3=function(r){return typeof r.className=="object"},o$e=function(r){return r.tagName==="LI"},l$e=function(r){return r.tagName==="OL"},u$e=function(r){return r.tagName==="INPUT"},c$e=function(r){return r.tagName==="HTML"},Zce=function(r){return r.tagName==="svg"},zR=function(r){return r.tagName==="BODY"},Jce=function(r){return r.tagName==="CANVAS"},Gq=function(r){return r.tagName==="VIDEO"},KM=function(r){return r.tagName==="IMG"},efe=function(r){return r.tagName==="IFRAME"},Wq=function(r){return r.tagName==="STYLE"},f$e=function(r){return r.tagName==="SCRIPT"},fC=function(r){return r.tagName==="TEXTAREA"},hC=function(r){return r.tagName==="SELECT"},tfe=function(r){return r.tagName==="SLOT"},$q=function(r){return r.tagName.indexOf("-")>0},h$e=function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},r.prototype.getCounterValues=function(t){var e=this.counters[t];return e||[]},r.prototype.pop=function(t){var e=this;t.forEach(function(n){return e.counters[n].pop()})},r.prototype.parse=function(t){var e=this,n=t.counterIncrement,i=t.counterReset,a=!0;n!==null&&n.forEach(function(o){var l=e.counters[o.counter];l&&o.increment!==0&&(a=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var s=[];return a&&i.forEach(function(o){var l=e.counters[o.counter];s.push(o.counter),l||(l=e.counters[o.counter]=[]),l.push(o.reset)}),s},r}(),Kq={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},qq={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},d$e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},A$e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Wm=function(r,t,e,n,i,a){return r<t||r>e?gw(r,i,a.length>0):n.integers.reduce(function(s,o,l){for(;r>=o;)r-=o,s+=n.values[l];return s},"")+a},rfe=function(r,t,e,n){var i="";do e||r--,i=n(r)+i,r/=t;while(r*t>=t);return i},ca=function(r,t,e,n,i){var a=e-t+1;return(r<0?"-":"")+(rfe(Math.abs(r),a,n,function(s){return fa(Math.floor(s%a)+t)})+i)},op=function(r,t,e){e===void 0&&(e=". ");var n=t.length;return rfe(Math.abs(r),n,!1,function(i){return t[Math.floor(i%n)]})+e},ov=1,Ud=2,Hd=4,h2=8,rh=function(r,t,e,n,i,a){if(r<-9999||r>9999)return gw(r,4,i.length>0);var s=Math.abs(r),o=i;if(s===0)return t[0]+o;for(var l=0;s>0&&l<=4;l++){var u=s%10;u===0&&Ka(a,ov)&&o!==""?o=t[u]+o:u>1||u===1&&l===0||u===1&&l===1&&Ka(a,Ud)||u===1&&l===1&&Ka(a,Hd)&&r>100||u===1&&l>1&&Ka(a,h2)?o=t[u]+(l>0?e[l-1]:"")+o:u===1&&l>0&&(o=e[l-1]+o),s=Math.floor(s/10)}return(r<0?n:"")+o},Xq="",Yq="",Zq="",aN="",gw=function(r,t,e){var n=e?". ":"",i=e?"":"",a=e?", ":"",s=e?" ":"";switch(t){case 0:return""+s;case 1:return""+s;case 2:return""+s;case 5:var o=ca(r,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return op(r,"",i);case 6:return Wm(r,1,3999,Kq,3,n).toLowerCase();case 7:return Wm(r,1,3999,Kq,3,n);case 8:return ca(r,945,969,!1,n);case 9:return ca(r,97,122,!1,n);case 10:return ca(r,65,90,!1,n);case 11:return ca(r,1632,1641,!0,n);case 12:case 49:return Wm(r,1,9999,qq,3,n);case 35:return Wm(r,1,9999,qq,3,n).toLowerCase();case 13:return ca(r,2534,2543,!0,n);case 14:case 30:return ca(r,6112,6121,!0,n);case 15:return op(r,"",i);case 16:return op(r,"",i);case 17:case 48:return rh(r,"",Xq,"",i,Ud|Hd|h2);case 47:return rh(r,"",Yq,"",i,ov|Ud|Hd|h2);case 42:return rh(r,"",Xq,"",i,Ud|Hd|h2);case 41:return rh(r,"",Yq,"",i,ov|Ud|Hd|h2);case 26:return rh(r,"","",Zq,i,0);case 25:return rh(r,"","",Zq,i,ov|Ud|Hd);case 31:return rh(r,"","",aN,a,ov|Ud|Hd);case 33:return rh(r,"","",aN,a,0);case 32:return rh(r,"","",aN,a,ov|Ud|Hd);case 18:return ca(r,2406,2415,!0,n);case 20:return Wm(r,1,19999,A$e,3,n);case 21:return ca(r,2790,2799,!0,n);case 22:return ca(r,2662,2671,!0,n);case 22:return Wm(r,1,10999,d$e,3,n);case 23:return op(r,"");case 24:return op(r,"");case 27:return ca(r,3302,3311,!0,n);case 28:return op(r,"",i);case 29:return op(r,"",i);case 34:return ca(r,3792,3801,!0,n);case 37:return ca(r,6160,6169,!0,n);case 38:return ca(r,4160,4169,!0,n);case 39:return ca(r,2918,2927,!0,n);case 40:return ca(r,1776,1785,!0,n);case 43:return ca(r,3046,3055,!0,n);case 44:return ca(r,3174,3183,!0,n);case 45:return ca(r,3664,3673,!0,n);case 46:return ca(r,3872,3881,!0,n);case 3:default:return ca(r,48,57,!0,n)}},nfe="data-html2canvas-ignore",Jq=function(){function r(t,e,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=e,this.counters=new h$e,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement,!1)}return r.prototype.toIFrame=function(t,e){var n=this,i=p$e(t,e);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=t.defaultView.pageXOffset,s=t.defaultView.pageYOffset,o=i.contentWindow,l=o.document,u=v$e(i).then(function(){return bo(n,void 0,void 0,function(){var c,f;return eo(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(w$e),o&&(o.scrollTo(e.left,e.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==e.top||o.scrollX!==e.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-e.left,o.scrollY-e.top,0,0))),c=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,m$e(l)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(l,f)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(x$e(document.doctype)+"<html></html>"),b$e(this.referenceElement.ownerDocument,a,s),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},r.prototype.createElementClone=function(t){if(VM(t,2))debugger;if(Jce(t))return this.createCanvasClone(t);if(Gq(t))return this.createVideoClone(t);if(Wq(t))return this.createStyleClone(t);var e=t.cloneNode(!1);return KM(e)&&(KM(t)&&t.currentSrc&&t.currentSrc!==t.src&&(e.src=t.currentSrc,e.srcset=""),e.loading==="lazy"&&(e.loading="eager")),$q(e)?this.createCustomElementClone(e):e},r.prototype.createCustomElementClone=function(t){var e=document.createElement("html2canvascustomelement");return sN(t.style,e),e},r.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var n=[].slice.call(e.cssRules,0).reduce(function(a,s){return s&&typeof s.cssText=="string"?a+s.cssText:a},""),i=t.cloneNode(!1);return i.textContent=n,i}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return t.cloneNode(!1)},r.prototype.createCanvasClone=function(t){var e;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var i=t.cloneNode(!1);try{i.width=t.width,i.height=t.height;var a=t.getContext("2d"),s=i.getContext("2d");if(s)if(!this.options.allowTaint&&a)s.putImageData(a.getImageData(0,0,t.width,t.height),0,0);else{var o=(e=t.getContext("webgl2"))!==null&&e!==void 0?e:t.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}s.drawImage(t,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return i},r.prototype.createVideoClone=function(t){var e=t.ownerDocument.createElement("canvas");e.width=t.offsetWidth,e.height=t.offsetHeight;var n=e.getContext("2d");try{return n&&(n.drawImage(t,0,0,e.width,e.height),this.options.allowTaint||n.getImageData(0,0,e.width,e.height)),e}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var i=t.ownerDocument.createElement("canvas");return i.width=t.offsetWidth,i.height=t.offsetHeight,i},r.prototype.appendChildNode=function(t,e,n){(!Iv(e)||!f$e(e)&&!e.hasAttribute(nfe)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(e)))&&(!this.options.copyStyles||!Iv(e)||!Wq(e))&&t.appendChild(this.cloneNode(e,n))},r.prototype.cloneChildNodes=function(t,e,n){for(var i=this,a=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;a;a=a.nextSibling)if(Iv(a)&&tfe(a)&&typeof a.assignedNodes=="function"){var s=a.assignedNodes();s.length&&s.forEach(function(o){return i.appendChildNode(e,o,n)})}else this.appendChildNode(e,a,n)},r.prototype.cloneNode=function(t,e){if(Yce(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&Iv(t)&&($M(t)||J3(t))){var i=this.createElementClone(t);i.style.transitionProperty="none";var a=n.getComputedStyle(t),s=n.getComputedStyle(t,":before"),o=n.getComputedStyle(t,":after");this.referenceElement===t&&$M(i)&&(this.clonedReferenceElement=i),zR(i)&&C$e(i);var l=this.counters.parse(new Nq(this.context,a)),u=this.resolvePseudoContent(t,i,s,J2.BEFORE);$q(t)&&(e=!0),Gq(t)||this.cloneChildNodes(t,i,e),u&&i.insertBefore(u,i.firstChild);var c=this.resolvePseudoContent(t,i,o,J2.AFTER);return c&&i.appendChild(c),this.counters.pop(l),(a&&(this.options.copyStyles||J3(t))&&!efe(t)||e)&&sN(a,i),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([i,t.scrollLeft,t.scrollTop]),(fC(t)||hC(t))&&(fC(i)||hC(i))&&(i.value=t.value),i}return t.cloneNode(!1)},r.prototype.resolvePseudoContent=function(t,e,n,i){var a=this;if(n){var s=n.content,o=e.ownerDocument;if(!(!o||!s||s==="none"||s==="-moz-alt-content"||n.display==="none")){this.counters.parse(new Nq(this.context,n));var l=new oWe(this.context,n),u=o.createElement("html2canvaspseudoelement");sN(n,u),l.content.forEach(function(f){if(f.type===0)u.appendChild(o.createTextNode(f.value));else if(f.type===22){var h=o.createElement("img");h.src=f.value,h.style.opacity="1",u.appendChild(h)}else if(f.type===18){if(f.name==="attr"){var d=f.values.filter(oi);d.length&&u.appendChild(o.createTextNode(t.getAttribute(d[0].value)||""))}else if(f.name==="counter"){var A=f.values.filter(z1),p=A[0],g=A[1];if(p&&oi(p)){var m=a.counters.getCounterValue(p.value),v=g&&oi(g)?zM.parse(a.context,g.value):3;u.appendChild(o.createTextNode(gw(m,v,!1)))}}else if(f.name==="counters"){var y=f.values.filter(z1),p=y[0],b=y[1],g=y[2];if(p&&oi(p)){var _=a.counters.getCounterValues(p.value),T=g&&oi(g)?zM.parse(a.context,g.value):3,I=b&&b.type===0?b.value:"",N=_.map(function(D){return gw(D,T,!1)}).join(I);u.appendChild(o.createTextNode(N))}}}else if(f.type===20)switch(f.value){case"open-quote":u.appendChild(o.createTextNode(kq(l.quotes,a.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(kq(l.quotes,--a.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(f.value))}}),u.className=qM+" "+XM;var c=i===J2.BEFORE?" "+qM:" "+XM;return J3(e)?e.className.baseValue+=c:e.className+=c,u}}},r.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},r}(),J2;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(J2||(J2={}));var p$e=function(r,t){var e=r.createElement("iframe");return e.className="html2canvas-container",e.style.visibility="hidden",e.style.position="fixed",e.style.left="-10000px",e.style.top="0px",e.style.border="0",e.width=t.width.toString(),e.height=t.height.toString(),e.scrolling="no",e.setAttribute(nfe,"true"),r.body.appendChild(e),e},g$e=function(r){return new Promise(function(t){if(r.complete){t();return}if(!r.src){t();return}r.onload=t,r.onerror=t})},m$e=function(r){return Promise.all([].slice.call(r.images,0).map(g$e))},v$e=function(r){return new Promise(function(t,e){var n=r.contentWindow;if(!n)return e("No window assigned for iframe");var i=n.document;n.onload=r.onload=function(){n.onload=r.onload=null;var a=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(a),t(r))},50)}})},y$e=["all","d","content"],sN=function(r,t){for(var e=r.length-1;e>=0;e--){var n=r.item(e);y$e.indexOf(n)===-1&&t.style.setProperty(n,r.getPropertyValue(n))}return t},x$e=function(r){var t="";return r&&(t+="<!DOCTYPE ",r.name&&(t+=r.name),r.internalSubset&&(t+=r.internalSubset),r.publicId&&(t+='"'+r.publicId+'"'),r.systemId&&(t+='"'+r.systemId+'"'),t+=">"),t},b$e=function(r,t,e){r&&r.defaultView&&(t!==r.defaultView.pageXOffset||e!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(t,e)},w$e=function(r){var t=r[0],e=r[1],n=r[2];t.scrollLeft=e,t.scrollTop=n},_$e=":before",S$e=":after",qM="___html2canvas___pseudoelement_before",XM="___html2canvas___pseudoelement_after",eX=`{
    content: "" !important;
    display: none !important;
}`,C$e=function(r){B$e(r,"."+qM+_$e+eX+`
         .`+XM+S$e+eX)},B$e=function(r,t){var e=r.ownerDocument;if(e){var n=e.createElement("style");n.textContent=t,r.appendChild(n)}},ife=function(){function r(){}return r.getOrigin=function(t){var e=r._link;return e?(e.href=t,e.href=e.href,e.protocol+e.hostname+e.port):"about:blank"},r.isSameOrigin=function(t){return r.getOrigin(t)===r._origin},r.setContext=function(t){r._link=t.document.createElement("a"),r._origin=r.getOrigin(t.location.href)},r._origin="about:blank",r}(),T$e=function(){function r(t,e){this.context=t,this._options=e,this._cache={}}return r.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)||(lN(t)||F$e(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),e},r.prototype.match=function(t){return this._cache[t]},r.prototype.loadImage=function(t){return bo(this,void 0,void 0,function(){var e,n,i,a,s=this;return eo(this,function(o){switch(o.label){case 0:return e=ife.isSameOrigin(t),n=!oN(t)&&this._options.useCORS===!0&&Es.SUPPORT_CORS_IMAGES&&!e,i=!oN(t)&&!e&&!lN(t)&&typeof this._options.proxy=="string"&&Es.SUPPORT_CORS_XHR&&!n,!e&&this._options.allowTaint===!1&&!oN(t)&&!lN(t)&&!i&&!n?[2]:(a=t,i?[4,this.proxy(a)]:[3,2]);case 1:a=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(l,u){var c=new Image;c.onload=function(){return l(c)},c.onerror=u,(I$e(a)||n)&&(c.crossOrigin="anonymous"),c.src=a,c.complete===!0&&setTimeout(function(){return l(c)},500),s._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},r.prototype.has=function(t){return typeof this._cache[t]<"u"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(t){var e=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=t.substring(0,256);return new Promise(function(a,s){var o=Es.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")a(l.response);else{var f=new FileReader;f.addEventListener("load",function(){return a(f.result)},!1),f.addEventListener("error",function(h){return s(h)},!1),f.readAsDataURL(l.response)}else s("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=s;var u=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+u+"url="+encodeURIComponent(t)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),e._options.imageTimeout){var c=e._options.imageTimeout;l.timeout=c,l.ontimeout=function(){return s("Timed out ("+c+"ms) proxying "+i)}}l.send()})},r}(),E$e=/^data:image\/svg\+xml/i,k$e=/^data:image\/.*;base64,/i,N$e=/^data:image\/.*/i,F$e=function(r){return Es.SUPPORT_SVG_DRAWING||!M$e(r)},oN=function(r){return N$e.test(r)},I$e=function(r){return k$e.test(r)},lN=function(r){return r.substr(0,4)==="blob"},M$e=function(r){return r.substr(-3).toLowerCase()==="svg"||E$e.test(r)},ur=function(){function r(t,e){this.type=0,this.x=t,this.y=e}return r.prototype.add=function(t,e){return new r(this.x+t,this.y+e)},r}(),$m=function(r,t,e){return new ur(r.x+(t.x-r.x)*e,r.y+(t.y-r.y)*e)},r3=function(){function r(t,e,n,i){this.type=1,this.start=t,this.startControl=e,this.endControl=n,this.end=i}return r.prototype.subdivide=function(t,e){var n=$m(this.start,this.startControl,t),i=$m(this.startControl,this.endControl,t),a=$m(this.endControl,this.end,t),s=$m(n,i,t),o=$m(i,a,t),l=$m(s,o,t);return e?new r(this.start,n,s,l):new r(l,o,a,this.end)},r.prototype.add=function(t,e){return new r(this.start.add(t,e),this.startControl.add(t,e),this.endControl.add(t,e),this.end.add(t,e))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r}(),mu=function(r){return r.type===1},L$e=function(){function r(t){var e=t.styles,n=t.bounds,i=c2(e.borderTopLeftRadius,n.width,n.height),a=i[0],s=i[1],o=c2(e.borderTopRightRadius,n.width,n.height),l=o[0],u=o[1],c=c2(e.borderBottomRightRadius,n.width,n.height),f=c[0],h=c[1],d=c2(e.borderBottomLeftRadius,n.width,n.height),A=d[0],p=d[1],g=[];g.push((a+l)/n.width),g.push((A+f)/n.width),g.push((s+p)/n.height),g.push((u+h)/n.height);var m=Math.max.apply(Math,g);m>1&&(a/=m,s/=m,l/=m,u/=m,f/=m,h/=m,A/=m,p/=m);var v=n.width-l,y=n.height-h,b=n.width-f,_=n.height-p,T=e.borderTopWidth,I=e.borderRightWidth,N=e.borderBottomWidth,F=e.borderLeftWidth,P=yi(e.paddingTop,t.bounds.width),D=yi(e.paddingRight,t.bounds.width),R=yi(e.paddingBottom,t.bounds.width),E=yi(e.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||s>0?Ti(n.left+F/3,n.top+T/3,a-F/3,s-T/3,Wn.TOP_LEFT):new ur(n.left+F/3,n.top+T/3),this.topRightBorderDoubleOuterBox=a>0||s>0?Ti(n.left+v,n.top+T/3,l-I/3,u-T/3,Wn.TOP_RIGHT):new ur(n.left+n.width-I/3,n.top+T/3),this.bottomRightBorderDoubleOuterBox=f>0||h>0?Ti(n.left+b,n.top+y,f-I/3,h-N/3,Wn.BOTTOM_RIGHT):new ur(n.left+n.width-I/3,n.top+n.height-N/3),this.bottomLeftBorderDoubleOuterBox=A>0||p>0?Ti(n.left+F/3,n.top+_,A-F/3,p-N/3,Wn.BOTTOM_LEFT):new ur(n.left+F/3,n.top+n.height-N/3),this.topLeftBorderDoubleInnerBox=a>0||s>0?Ti(n.left+F*2/3,n.top+T*2/3,a-F*2/3,s-T*2/3,Wn.TOP_LEFT):new ur(n.left+F*2/3,n.top+T*2/3),this.topRightBorderDoubleInnerBox=a>0||s>0?Ti(n.left+v,n.top+T*2/3,l-I*2/3,u-T*2/3,Wn.TOP_RIGHT):new ur(n.left+n.width-I*2/3,n.top+T*2/3),this.bottomRightBorderDoubleInnerBox=f>0||h>0?Ti(n.left+b,n.top+y,f-I*2/3,h-N*2/3,Wn.BOTTOM_RIGHT):new ur(n.left+n.width-I*2/3,n.top+n.height-N*2/3),this.bottomLeftBorderDoubleInnerBox=A>0||p>0?Ti(n.left+F*2/3,n.top+_,A-F*2/3,p-N*2/3,Wn.BOTTOM_LEFT):new ur(n.left+F*2/3,n.top+n.height-N*2/3),this.topLeftBorderStroke=a>0||s>0?Ti(n.left+F/2,n.top+T/2,a-F/2,s-T/2,Wn.TOP_LEFT):new ur(n.left+F/2,n.top+T/2),this.topRightBorderStroke=a>0||s>0?Ti(n.left+v,n.top+T/2,l-I/2,u-T/2,Wn.TOP_RIGHT):new ur(n.left+n.width-I/2,n.top+T/2),this.bottomRightBorderStroke=f>0||h>0?Ti(n.left+b,n.top+y,f-I/2,h-N/2,Wn.BOTTOM_RIGHT):new ur(n.left+n.width-I/2,n.top+n.height-N/2),this.bottomLeftBorderStroke=A>0||p>0?Ti(n.left+F/2,n.top+_,A-F/2,p-N/2,Wn.BOTTOM_LEFT):new ur(n.left+F/2,n.top+n.height-N/2),this.topLeftBorderBox=a>0||s>0?Ti(n.left,n.top,a,s,Wn.TOP_LEFT):new ur(n.left,n.top),this.topRightBorderBox=l>0||u>0?Ti(n.left+v,n.top,l,u,Wn.TOP_RIGHT):new ur(n.left+n.width,n.top),this.bottomRightBorderBox=f>0||h>0?Ti(n.left+b,n.top+y,f,h,Wn.BOTTOM_RIGHT):new ur(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=A>0||p>0?Ti(n.left,n.top+_,A,p,Wn.BOTTOM_LEFT):new ur(n.left,n.top+n.height),this.topLeftPaddingBox=a>0||s>0?Ti(n.left+F,n.top+T,Math.max(0,a-F),Math.max(0,s-T),Wn.TOP_LEFT):new ur(n.left+F,n.top+T),this.topRightPaddingBox=l>0||u>0?Ti(n.left+Math.min(v,n.width-I),n.top+T,v>n.width+I?0:Math.max(0,l-I),Math.max(0,u-T),Wn.TOP_RIGHT):new ur(n.left+n.width-I,n.top+T),this.bottomRightPaddingBox=f>0||h>0?Ti(n.left+Math.min(b,n.width-F),n.top+Math.min(y,n.height-N),Math.max(0,f-I),Math.max(0,h-N),Wn.BOTTOM_RIGHT):new ur(n.left+n.width-I,n.top+n.height-N),this.bottomLeftPaddingBox=A>0||p>0?Ti(n.left+F,n.top+Math.min(_,n.height-N),Math.max(0,A-F),Math.max(0,p-N),Wn.BOTTOM_LEFT):new ur(n.left+F,n.top+n.height-N),this.topLeftContentBox=a>0||s>0?Ti(n.left+F+E,n.top+T+P,Math.max(0,a-(F+E)),Math.max(0,s-(T+P)),Wn.TOP_LEFT):new ur(n.left+F+E,n.top+T+P),this.topRightContentBox=l>0||u>0?Ti(n.left+Math.min(v,n.width+F+E),n.top+T+P,v>n.width+F+E?0:l-F+E,u-(T+P),Wn.TOP_RIGHT):new ur(n.left+n.width-(I+D),n.top+T+P),this.bottomRightContentBox=f>0||h>0?Ti(n.left+Math.min(b,n.width-(F+E)),n.top+Math.min(y,n.height+T+P),Math.max(0,f-(I+D)),h-(N+R),Wn.BOTTOM_RIGHT):new ur(n.left+n.width-(I+D),n.top+n.height-(N+R)),this.bottomLeftContentBox=A>0||p>0?Ti(n.left+F+E,n.top+_,Math.max(0,A-(F+E)),p-(N+R),Wn.BOTTOM_LEFT):new ur(n.left+F+E,n.top+n.height-(N+R))}return r}(),Wn;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Wn||(Wn={}));var Ti=function(r,t,e,n,i){var a=4*((Math.sqrt(2)-1)/3),s=e*a,o=n*a,l=r+e,u=t+n;switch(i){case Wn.TOP_LEFT:return new r3(new ur(r,u),new ur(r,u-o),new ur(l-s,t),new ur(l,t));case Wn.TOP_RIGHT:return new r3(new ur(r,t),new ur(r+s,t),new ur(l,u-o),new ur(l,u));case Wn.BOTTOM_RIGHT:return new r3(new ur(l,t),new ur(l,t+o),new ur(r+s,u),new ur(r,u));case Wn.BOTTOM_LEFT:default:return new r3(new ur(l,u),new ur(l-s,u),new ur(r,t+o),new ur(r,t))}},dC=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},D$e=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},AC=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},P$e=function(){function r(t,e,n){this.offsetX=t,this.offsetY=e,this.matrix=n,this.type=0,this.target=6}return r}(),n3=function(){function r(t,e){this.path=t,this.target=e,this.type=1}return r}(),R$e=function(){function r(t){this.opacity=t,this.type=2,this.target=6}return r}(),O$e=function(r){return r.type===0},afe=function(r){return r.type===1},j$e=function(r){return r.type===2},tX=function(r,t){return r.length===t.length?r.some(function(e,n){return e===t[n]}):!1},U$e=function(r,t,e,n,i){return r.map(function(a,s){switch(s){case 0:return a.add(t,e);case 1:return a.add(t+n,e);case 2:return a.add(t+n,e+i);case 3:return a.add(t,e+i)}return a})},sfe=function(){function r(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r}(),ofe=function(){function r(t,e){if(this.container=t,this.parent=e,this.effects=[],this.curves=new L$e(this.container),this.container.styles.opacity<1&&this.effects.push(new R$e(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new P$e(n,i,a))}if(this.container.styles.overflowX!==0){var s=dC(this.curves),o=AC(this.curves);tX(s,o)?this.effects.push(new n3(s,6)):(this.effects.push(new n3(s,2)),this.effects.push(new n3(o,4)))}}return r.prototype.getEffects=function(t){for(var e=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var a=n.effects.filter(function(l){return!afe(l)});if(e||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,a),e=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var s=dC(n.curves),o=AC(n.curves);tX(s,o)||i.unshift(new n3(o,6))}}else i.unshift.apply(i,a);n=n.parent}return i.filter(function(l){return Ka(l.target,t)})},r}(),YM=function(r,t,e,n){r.container.elements.forEach(function(i){var a=Ka(i.flags,4),s=Ka(i.flags,2),o=new ofe(i,r);Ka(i.styles.display,2048)&&n.push(o);var l=Ka(i.flags,8)?[]:n;if(a||s){var u=a||i.styles.isPositioned()?e:t,c=new sfe(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var f=i.styles.zIndex.order;if(f<0){var h=0;u.negativeZIndex.some(function(A,p){return f>A.element.container.styles.zIndex.order?(h=p,!1):h>0}),u.negativeZIndex.splice(h,0,c)}else if(f>0){var d=0;u.positiveZIndex.some(function(A,p){return f>=A.element.container.styles.zIndex.order?(d=p+1,!1):d>0}),u.positiveZIndex.splice(d,0,c)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?u.nonPositionedFloats.push(c):u.nonPositionedInlineLevel.push(c);YM(o,c,a?c:e,l)}else i.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),YM(o,t,e,l);Ka(i.flags,8)&&lfe(i,l)})},lfe=function(r,t){for(var e=r instanceof WM?r.start:1,n=r instanceof WM?r.reversed:!1,i=0;i<t.length;i++){var a=t[i];a.container instanceof Gce&&typeof a.container.value=="number"&&a.container.value!==0&&(e=a.container.value),a.listValue=gw(e,a.container.styles.listStyleType,!0),e+=n?-1:1}},H$e=function(r){var t=new ofe(r,null),e=new sfe(t),n=[];return YM(t,e,e,n),lfe(t.container,n),e},rX=function(r,t){switch(t){case 0:return wu(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return wu(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return wu(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);case 3:default:return wu(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},Q$e=function(r,t){switch(t){case 0:return wu(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return wu(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return wu(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);case 3:default:return wu(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},z$e=function(r,t){switch(t){case 0:return wu(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return wu(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return wu(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);case 3:default:return wu(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},V$e=function(r,t){switch(t){case 0:return i3(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return i3(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return i3(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);case 3:default:return i3(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},i3=function(r,t){var e=[];return mu(r)?e.push(r.subdivide(.5,!1)):e.push(r),mu(t)?e.push(t.subdivide(.5,!0)):e.push(t),e},wu=function(r,t,e,n){var i=[];return mu(r)?i.push(r.subdivide(.5,!1)):i.push(r),mu(e)?i.push(e.subdivide(.5,!0)):i.push(e),mu(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),mu(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},ufe=function(r){var t=r.bounds,e=r.styles;return t.add(e.borderLeftWidth,e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth),-(e.borderTopWidth+e.borderBottomWidth))},pC=function(r){var t=r.styles,e=r.bounds,n=yi(t.paddingLeft,e.width),i=yi(t.paddingRight,e.width),a=yi(t.paddingTop,e.width),s=yi(t.paddingBottom,e.width);return e.add(n+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+i),-(t.borderTopWidth+t.borderBottomWidth+a+s))},G$e=function(r,t){return r===0?t.bounds:r===2?pC(t):ufe(t)},W$e=function(r,t){return r===0?t.bounds:r===2?pC(t):ufe(t)},uN=function(r,t,e){var n=G$e(lv(r.styles.backgroundOrigin,t),r),i=W$e(lv(r.styles.backgroundClip,t),r),a=$$e(lv(r.styles.backgroundSize,t),e,n),s=a[0],o=a[1],l=c2(lv(r.styles.backgroundPosition,t),n.width-s,n.height-o),u=K$e(lv(r.styles.backgroundRepeat,t),l,a,n,i),c=Math.round(n.left+l[0]),f=Math.round(n.top+l[1]);return[u,c,f,s,o]},Km=function(r){return oi(r)&&r.value===Zv.AUTO},a3=function(r){return typeof r=="number"},$$e=function(r,t,e){var n=t[0],i=t[1],a=t[2],s=r[0],o=r[1];if(!s)return[0,0];if(Ea(s)&&o&&Ea(o))return[yi(s,e.width),yi(o,e.height)];var l=a3(a);if(oi(s)&&(s.value===Zv.CONTAIN||s.value===Zv.COVER)){if(a3(a)){var u=e.width/e.height;return u<a!=(s.value===Zv.COVER)?[e.width,e.width/a]:[e.height*a,e.height]}return[e.width,e.height]}var c=a3(n),f=a3(i),h=c||f;if(Km(s)&&(!o||Km(o))){if(c&&f)return[n,i];if(!l&&!h)return[e.width,e.height];if(h&&l){var d=c?n:i*a,A=f?i:n/a;return[d,A]}var p=c?n:e.width,g=f?i:e.height;return[p,g]}if(l){var m=0,v=0;return Ea(s)?m=yi(s,e.width):Ea(o)&&(v=yi(o,e.height)),Km(s)?m=v*a:(!o||Km(o))&&(v=m/a),[m,v]}var y=null,b=null;if(Ea(s)?y=yi(s,e.width):o&&Ea(o)&&(b=yi(o,e.height)),y!==null&&(!o||Km(o))&&(b=c&&f?y/n*i:e.height),b!==null&&Km(s)&&(y=c&&f?b/i*n:e.width),y!==null&&b!==null)return[y,b];throw new Error("Unable to calculate background-size for element")},lv=function(r,t){var e=r[t];return typeof e>"u"?r[0]:e},K$e=function(r,t,e,n,i){var a=t[0],s=t[1],o=e[0],l=e[1];switch(r){case 2:return[new ur(Math.round(n.left),Math.round(n.top+s)),new ur(Math.round(n.left+n.width),Math.round(n.top+s)),new ur(Math.round(n.left+n.width),Math.round(l+n.top+s)),new ur(Math.round(n.left),Math.round(l+n.top+s))];case 3:return[new ur(Math.round(n.left+a),Math.round(n.top)),new ur(Math.round(n.left+a+o),Math.round(n.top)),new ur(Math.round(n.left+a+o),Math.round(n.height+n.top)),new ur(Math.round(n.left+a),Math.round(n.height+n.top))];case 1:return[new ur(Math.round(n.left+a),Math.round(n.top+s)),new ur(Math.round(n.left+a+o),Math.round(n.top+s)),new ur(Math.round(n.left+a+o),Math.round(n.top+s+l)),new ur(Math.round(n.left+a),Math.round(n.top+s+l))];default:return[new ur(Math.round(i.left),Math.round(i.top)),new ur(Math.round(i.left+i.width),Math.round(i.top)),new ur(Math.round(i.left+i.width),Math.round(i.height+i.top)),new ur(Math.round(i.left),Math.round(i.height+i.top))]}},q$e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",nX="Hidden Text",X$e=function(){function r(t){this._data={},this._document=t}return r.prototype.parseMetrics=function(t,e){var n=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),s=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=e,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",s.appendChild(n),i.src=q$e,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=e,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(nX)),n.appendChild(a),n.appendChild(i);var o=i.offsetTop-a.offsetTop+2;n.removeChild(a),n.appendChild(this._document.createTextNode(nX)),n.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-n.offsetTop+2;return s.removeChild(n),{baseline:o,middle:l}},r.prototype.getMetrics=function(t,e){var n=t+" "+e;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,e)),this._data[n]},r}(),cfe=function(){function r(t,e){this.context=t,this.options=e}return r}(),Y$e=1e4,Z$e=function(r){Tc(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new X$e(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return t.prototype.applyEffects=function(e){for(var n=this;this._activeEffects.length;)this.popEffect();e.forEach(function(i){return n.applyEffect(i)})},t.prototype.applyEffect=function(e){this.ctx.save(),j$e(e)&&(this.ctx.globalAlpha=e.opacity),O$e(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),afe(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(e){return bo(this,void 0,void 0,function(){var n;return eo(this,function(i){switch(i.label){case 0:return n=e.element.container.styles,n.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(e){return bo(this,void 0,void 0,function(){return eo(this,function(n){switch(n.label){case 0:if(Ka(e.container.flags,16))debugger;return e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(e)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(e,n,i){var a=this;if(n===0)this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+i);else{var s=HR(e.text);s.reduce(function(o,l){return a.ctx.fillText(l,o,e.bounds.top+i),o+a.ctx.measureText(l).width},e.bounds.left)}},t.prototype.createFontStyle=function(e){var n=e.fontVariant.filter(function(s){return s==="normal"||s==="small-caps"}).join(""),i=nKe(e.fontFamily).join(", "),a=d_(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,n,e.fontWeight,a,i].join(" "),i,a]},t.prototype.renderTextNode=function(e,n){return bo(this,void 0,void 0,function(){var i,a,s,o,l,u,c,f,h=this;return eo(this,function(d){return i=this.createFontStyle(n),a=i[0],s=i[1],o=i[2],this.ctx.font=a,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(s,o),u=l.baseline,c=l.middle,f=n.paintOrder,e.textBounds.forEach(function(A){f.forEach(function(p){switch(p){case 0:h.ctx.fillStyle=is(n.color),h.renderTextWithLetterSpacing(A,n.letterSpacing,u);var g=n.textShadow;g.length&&A.text.trim().length&&(g.slice(0).reverse().forEach(function(m){h.ctx.shadowColor=is(m.color),h.ctx.shadowOffsetX=m.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=m.offsetY.number*h.options.scale,h.ctx.shadowBlur=m.blur.number,h.renderTextWithLetterSpacing(A,n.letterSpacing,u)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),n.textDecorationLine.length&&(h.ctx.fillStyle=is(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(m){switch(m){case 1:h.ctx.fillRect(A.bounds.left,Math.round(A.bounds.top+u),A.bounds.width,1);break;case 2:h.ctx.fillRect(A.bounds.left,Math.round(A.bounds.top),A.bounds.width,1);break;case 3:h.ctx.fillRect(A.bounds.left,Math.ceil(A.bounds.top+c),A.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&A.text.trim().length&&(h.ctx.strokeStyle=is(n.webkitTextStrokeColor),h.ctx.lineWidth=n.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(A.text,A.bounds.left,A.bounds.top+u)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(e,n,i){if(i&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var a=pC(e),s=AC(n);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,e.intrinsicWidth,e.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(e){return bo(this,void 0,void 0,function(){var n,i,a,s,o,l,v,v,u,c,f,h,b,d,A,_,p,g,m,v,y,b,_;return eo(this,function(T){switch(T.label){case 0:this.applyEffects(e.getEffects(4)),n=e.container,i=e.curves,a=n.styles,s=0,o=n.textNodes,T.label=1;case 1:return s<o.length?(l=o[s],[4,this.renderTextNode(l,a)]):[3,4];case 2:T.sent(),T.label=3;case 3:return s++,[3,1];case 4:if(!(n instanceof Qce))return[3,8];T.label=5;case 5:return T.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return v=T.sent(),this.renderReplacedElement(n,i,v),[3,8];case 7:return T.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof zce&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof Vce))return[3,12];T.label=9;case 9:return T.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return v=T.sent(),this.renderReplacedElement(n,i,v),[3,12];case 11:return T.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof Kce&&n.tree?(u=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:c=T.sent(),n.width&&n.height&&this.ctx.drawImage(c,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),T.label=14;case 14:if(n instanceof QR&&(f=Math.min(n.bounds.width,n.bounds.height),n.type===uC?n.checked&&(this.ctx.save(),this.path([new ur(n.bounds.left+f*.39363,n.bounds.top+f*.79),new ur(n.bounds.left+f*.16,n.bounds.top+f*.5549),new ur(n.bounds.left+f*.27347,n.bounds.top+f*.44071),new ur(n.bounds.left+f*.39694,n.bounds.top+f*.5649),new ur(n.bounds.left+f*.72983,n.bounds.top+f*.23),new ur(n.bounds.left+f*.84,n.bounds.top+f*.34085),new ur(n.bounds.left+f*.39363,n.bounds.top+f*.79)]),this.ctx.fillStyle=is(Vq),this.ctx.fill(),this.ctx.restore()):n.type===cC&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+f/2,n.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=is(Vq),this.ctx.fill(),this.ctx.restore())),J$e(n)&&n.value.length){switch(h=this.createFontStyle(a),b=h[0],d=h[1],A=this.fontMetrics.getMetrics(b,d).baseline,this.ctx.font=b,this.ctx.fillStyle=is(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=tKe(n.styles.textAlign),_=pC(n),p=0,n.styles.textAlign){case 1:p+=_.width/2;break;case 2:p+=_.width;break}g=_.add(p,0,0,-_.height/2+1),this.ctx.save(),this.path([new ur(_.left,_.top),new ur(_.left+_.width,_.top),new ur(_.left+_.width,_.top+_.height),new ur(_.left,_.top+_.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Z2(n.value,g),a.letterSpacing,A),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ka(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(m=n.styles.listStyleImage,m.type!==0)return[3,18];v=void 0,y=m.url,T.label=15;case 15:return T.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return v=T.sent(),this.ctx.drawImage(v,n.bounds.left-(v.width+10),n.bounds.top),[3,18];case 17:return T.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:e.listValue&&n.styles.listStyleType!==-1&&(b=this.createFontStyle(a)[0],this.ctx.font=b,this.ctx.fillStyle=is(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",_=new Zh(n.bounds.left,n.bounds.top+yi(n.styles.paddingTop,n.bounds.width),n.bounds.width,Tq(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Z2(e.listValue,_),a.letterSpacing,Tq(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),T.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(e){return bo(this,void 0,void 0,function(){var n,i,m,a,s,m,o,l,m,u,c,m,f,h,m,d,A,m,p,g,m;return eo(this,function(v){switch(v.label){case 0:if(Ka(e.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:v.sent(),n=0,i=e.negativeZIndex,v.label=2;case 2:return n<i.length?(m=i[n],[4,this.renderStack(m)]):[3,5];case 3:v.sent(),v.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:v.sent(),a=0,s=e.nonInlineLevel,v.label=7;case 7:return a<s.length?(m=s[a],[4,this.renderNode(m)]):[3,10];case 8:v.sent(),v.label=9;case 9:return a++,[3,7];case 10:o=0,l=e.nonPositionedFloats,v.label=11;case 11:return o<l.length?(m=l[o],[4,this.renderStack(m)]):[3,14];case 12:v.sent(),v.label=13;case 13:return o++,[3,11];case 14:u=0,c=e.nonPositionedInlineLevel,v.label=15;case 15:return u<c.length?(m=c[u],[4,this.renderStack(m)]):[3,18];case 16:v.sent(),v.label=17;case 17:return u++,[3,15];case 18:f=0,h=e.inlineLevel,v.label=19;case 19:return f<h.length?(m=h[f],[4,this.renderNode(m)]):[3,22];case 20:v.sent(),v.label=21;case 21:return f++,[3,19];case 22:d=0,A=e.zeroOrAutoZIndexOrTransformedOrOpacity,v.label=23;case 23:return d<A.length?(m=A[d],[4,this.renderStack(m)]):[3,26];case 24:v.sent(),v.label=25;case 25:return d++,[3,23];case 26:p=0,g=e.positiveZIndex,v.label=27;case 27:return p<g.length?(m=g[p],[4,this.renderStack(m)]):[3,30];case 28:v.sent(),v.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},t.prototype.formatPath=function(e){var n=this;e.forEach(function(i,a){var s=mu(i)?i.start:i;a===0?n.ctx.moveTo(s.x,s.y):n.ctx.lineTo(s.x,s.y),mu(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},t.prototype.renderRepeat=function(e,n,i,a){this.path(e),this.ctx.fillStyle=n,this.ctx.translate(i,a),this.ctx.fill(),this.ctx.translate(-i,-a)},t.prototype.resizeImage=function(e,n,i){var a;if(e.width===n&&e.height===i)return e;var s=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,o=s.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,i);var l=o.getContext("2d");return l.drawImage(e,0,0,e.width,e.height,0,0,n,i),o},t.prototype.renderBackgroundImage=function(e){return bo(this,void 0,void 0,function(){var n,i,a,s,o,l;return eo(this,function(u){switch(u.label){case 0:n=e.styles.backgroundImage.length-1,i=function(c){var f,h,d,P,w,C,E,L,N,A,P,w,C,E,L,p,g,m,v,y,b,_,T,I,N,F,P,D,R,E,L,k,w,C,S,B,O,V,M,U,Q,W;return eo(this,function(j){switch(j.label){case 0:if(c.type!==0)return[3,5];f=void 0,h=c.url,j.label=1;case 1:return j.trys.push([1,3,,4]),[4,a.context.cache.match(h)];case 2:return f=j.sent(),[3,4];case 3:return j.sent(),a.context.logger.error("Error loading background-image "+h),[3,4];case 4:return f&&(d=uN(e,n,[f.width,f.height,f.width/f.height]),P=d[0],w=d[1],C=d[2],E=d[3],L=d[4],N=a.ctx.createPattern(a.resizeImage(f,E,L),"repeat"),a.renderRepeat(P,N,w,C)),[3,6];case 5:OVe(c)?(A=uN(e,n,[null,null,null]),P=A[0],w=A[1],C=A[2],E=A[3],L=A[4],p=MVe(c.angle,E,L),g=p[0],m=p[1],v=p[2],y=p[3],b=p[4],_=document.createElement("canvas"),_.width=E,_.height=L,T=_.getContext("2d"),I=T.createLinearGradient(m,y,v,b),Cq(c.stops,g).forEach(function(X){return I.addColorStop(X.stop,is(X.color))}),T.fillStyle=I,T.fillRect(0,0,E,L),E>0&&L>0&&(N=a.ctx.createPattern(_,"repeat"),a.renderRepeat(P,N,w,C))):jVe(c)&&(F=uN(e,n,[null,null,null]),P=F[0],D=F[1],R=F[2],E=F[3],L=F[4],k=c.position.length===0?[OR]:c.position,w=yi(k[0],E),C=yi(k[k.length-1],L),S=LVe(c,w,C,E,L),B=S[0],O=S[1],B>0&&O>0&&(V=a.ctx.createRadialGradient(D+w,R+C,0,D+w,R+C,B),Cq(c.stops,B*2).forEach(function(X){return V.addColorStop(X.stop,is(X.color))}),a.path(P),a.ctx.fillStyle=V,B!==O?(M=e.bounds.left+.5*e.bounds.width,U=e.bounds.top+.5*e.bounds.height,Q=O/B,W=1/Q,a.ctx.save(),a.ctx.translate(M,U),a.ctx.transform(1,0,0,Q,0,0),a.ctx.translate(-M,-U),a.ctx.fillRect(D,W*(R-U)+U,E,L*W),a.ctx.restore()):a.ctx.fill())),j.label=6;case 6:return n--,[2]}})},a=this,s=0,o=e.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return s<o.length?(l=o[s],[5,i(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(e,n,i){return bo(this,void 0,void 0,function(){return eo(this,function(a){return this.path(rX(i,n)),this.ctx.fillStyle=is(e),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(e,n,i,a){return bo(this,void 0,void 0,function(){var s,o;return eo(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(e,i,a)]:[3,2];case 1:return l.sent(),[2];case 2:return s=Q$e(a,i),this.path(s),this.ctx.fillStyle=is(e),this.ctx.fill(),o=z$e(a,i),this.path(o),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(e){return bo(this,void 0,void 0,function(){var n,i,a,s,o,l,u,c,f=this;return eo(this,function(h){switch(h.label){case 0:return this.applyEffects(e.getEffects(2)),n=e.container.styles,i=!zA(n.backgroundColor)||n.backgroundImage.length,a=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],s=eKe(lv(n.backgroundClip,0),e.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),zA(n.backgroundColor)||(this.ctx.fillStyle=is(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(d){f.ctx.save();var A=dC(e.curves),p=d.inset?0:Y$e,g=U$e(A,-p+(d.inset?1:-1)*d.spread.number,(d.inset?1:-1)*d.spread.number,d.spread.number*(d.inset?-2:2),d.spread.number*(d.inset?-2:2));d.inset?(f.path(A),f.ctx.clip(),f.mask(g)):(f.mask(A),f.ctx.clip(),f.path(g)),f.ctx.shadowOffsetX=d.offsetX.number+p,f.ctx.shadowOffsetY=d.offsetY.number,f.ctx.shadowColor=is(d.color),f.ctx.shadowBlur=d.blur.number,f.ctx.fillStyle=d.inset?is(d.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),h.label=2;case 2:o=0,l=0,u=a,h.label=3;case 3:return l<u.length?(c=u[l],c.style!==0&&!zA(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,o,e.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,o,e.curves,3)];case 6:return h.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,o,e.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,o,e.curves)];case 10:h.sent(),h.label=11;case 11:o++,h.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(e,n,i,a,s){return bo(this,void 0,void 0,function(){var o,l,u,c,f,h,d,A,p,g,m,v,y,b,_,T,_,T;return eo(this,function(I){return this.ctx.save(),o=V$e(a,i),l=rX(a,i),s===2&&(this.path(l),this.ctx.clip()),mu(l[0])?(u=l[0].start.x,c=l[0].start.y):(u=l[0].x,c=l[0].y),mu(l[1])?(f=l[1].end.x,h=l[1].end.y):(f=l[1].x,h=l[1].y),i===0||i===2?d=Math.abs(u-f):d=Math.abs(c-h),this.ctx.beginPath(),s===3?this.formatPath(o):this.formatPath(l.slice(0,2)),A=n<3?n*3:n*2,p=n<3?n*2:n,s===3&&(A=n,p=n),g=!0,d<=A*2?g=!1:d<=A*2+p?(m=d/(2*A+p),A*=m,p*=m):(v=Math.floor((d+p)/(A+p)),y=(d-v*A)/(v-1),b=(d-(v+1)*A)/v,p=b<=0||Math.abs(p-y)<Math.abs(p-b)?y:b),g&&(s===3?this.ctx.setLineDash([0,A+p]):this.ctx.setLineDash([A,p])),s===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=is(e),this.ctx.stroke(),this.ctx.setLineDash([]),s===2&&(mu(l[0])&&(_=l[3],T=l[0],this.ctx.beginPath(),this.formatPath([new ur(_.end.x,_.end.y),new ur(T.start.x,T.start.y)]),this.ctx.stroke()),mu(l[1])&&(_=l[1],T=l[2],this.ctx.beginPath(),this.formatPath([new ur(_.end.x,_.end.y),new ur(T.start.x,T.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(e){return bo(this,void 0,void 0,function(){var n;return eo(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=is(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=H$e(e),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(cfe),J$e=function(r){return r instanceof $ce||r instanceof Wce?!0:r instanceof QR&&r.type!==cC&&r.type!==uC},eKe=function(r,t){switch(r){case 0:return dC(t);case 2:return D$e(t);case 1:default:return AC(t)}},tKe=function(r){switch(r){case 1:return"center";case 2:return"right";case 0:default:return"left"}},rKe=["-apple-system","system-ui"],nKe=function(r){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?r.filter(function(t){return rKe.indexOf(t)===-1}):r},iKe=function(r){Tc(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return t.prototype.render=function(e){return bo(this,void 0,void 0,function(){var n,i;return eo(this,function(a){switch(a.label){case 0:return n=GM(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,aKe(n)];case 1:return i=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=is(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(cfe),aKe=function(r){return new Promise(function(t,e){var n=new Image;n.onload=function(){t(n)},n.onerror=e,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},sKe=function(){function r(t){var e=t.id,n=t.enabled;this.id=e,this.enabled=n,this.start=Date.now()}return r.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,R4([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,R4([this.id,this.getTime()+"ms"],t))},r.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,R4([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},r.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,R4([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},r.instances={},r}(),oKe=function(){function r(t,e){var n;this.windowBounds=e,this.instanceName="#"+r.instanceCount++,this.logger=new sKe({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new T$e(this,t)}return r.instanceCount=1,r}(),ad=function(r,t){return t===void 0&&(t={}),lKe(r,t)};typeof window<"u"&&ife.setContext(window);var lKe=function(r,t){return bo(void 0,void 0,void 0,function(){var e,n,i,a,s,o,l,u,c,f,h,d,A,p,g,m,v,y,b,_,I,T,I,N,F,P,D,R,E,L,k,w,C,S,B,O,V,M,U,Q;return eo(this,function(W){switch(W.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(e=r.ownerDocument,!e)throw new Error("Element is not attached to a Document");if(n=e.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(N=t.allowTaint)!==null&&N!==void 0?N:!1,imageTimeout:(F=t.imageTimeout)!==null&&F!==void 0?F:15e3,proxy:t.proxy,useCORS:(P=t.useCORS)!==null&&P!==void 0?P:!1},a=NM({logging:(D=t.logging)!==null&&D!==void 0?D:!0,cache:t.cache},i),s={windowWidth:(R=t.windowWidth)!==null&&R!==void 0?R:n.innerWidth,windowHeight:(E=t.windowHeight)!==null&&E!==void 0?E:n.innerHeight,scrollX:(L=t.scrollX)!==null&&L!==void 0?L:n.pageXOffset,scrollY:(k=t.scrollY)!==null&&k!==void 0?k:n.pageYOffset},o=new Zh(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),l=new oKe(a,o),u=(w=t.foreignObjectRendering)!==null&&w!==void 0?w:!1,c={allowTaint:(C=t.allowTaint)!==null&&C!==void 0?C:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),f=new Jq(l,r,c),h=f.clonedReferenceElement,h?[4,f.toIFrame(e,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return d=W.sent(),A=zR(h)||c$e(h)?UQe(h.ownerDocument):V8(l,h),p=A.width,g=A.height,m=A.left,v=A.top,y=uKe(l,h,t.backgroundColor),b={canvas:t.canvas,backgroundColor:y,scale:(B=(S=t.scale)!==null&&S!==void 0?S:n.devicePixelRatio)!==null&&B!==void 0?B:1,x:((O=t.x)!==null&&O!==void 0?O:0)+m,y:((V=t.y)!==null&&V!==void 0?V:0)+v,width:(M=t.width)!==null&&M!==void 0?M:Math.ceil(p),height:(U=t.height)!==null&&U!==void 0?U:Math.ceil(g)},u?(l.logger.debug("Document cloned, using foreign object rendering"),I=new iKe(l,b),[4,I.render(h)]):[3,3];case 2:return _=W.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+m+","+v+" with size "+p+"x"+g+" using computed rendering"),l.logger.debug("Starting DOM parsing"),T=Xce(l,h),y===T.styles.backgroundColor&&(T.styles.backgroundColor=Ph.TRANSPARENT),l.logger.debug("Starting renderer for element at "+b.x+","+b.y+" with size "+b.width+"x"+b.height),I=new Z$e(l,b),[4,I.render(T)];case 4:_=W.sent(),W.label=5;case 5:return(!((Q=t.removeContainer)!==null&&Q!==void 0)||Q)&&(Jq.destroy(d)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,_]}})})},uKe=function(r,t,e){var n=t.ownerDocument,i=n.documentElement?X2(r,getComputedStyle(n.documentElement).backgroundColor):Ph.TRANSPARENT,a=n.body?X2(r,getComputedStyle(n.body).backgroundColor):Ph.TRANSPARENT,s=typeof e=="string"?X2(r,e):e===null?Ph.TRANSPARENT:4294967295;return t===n.documentElement?zA(i)?zA(a)?s:a:i:s};const cKe=Object.freeze(Object.defineProperty({__proto__:null,default:ad},Symbol.toStringTag,{value:"Module"}));function ei(r){"@babel/helpers - typeof";return ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ei(r)}var Sc=Uint8Array,Rl=Uint16Array,VR=Int32Array,GR=new Sc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),WR=new Sc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),iX=new Sc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ffe=function(r,t){for(var e=new Rl(31),n=0;n<31;++n)e[n]=t+=1<<r[n-1];for(var i=new VR(e[30]),n=1;n<30;++n)for(var a=e[n];a<e[n+1];++a)i[a]=a-e[n]<<5|n;return{b:e,r:i}},hfe=ffe(GR,2),fKe=hfe.b,ZM=hfe.r;fKe[28]=258,ZM[258]=28;var hKe=ffe(WR,0),aX=hKe.r,JM=new Rl(32768);for(var Si=0;Si<32768;++Si){var Ld=(Si&43690)>>1|(Si&21845)<<1;Ld=(Ld&52428)>>2|(Ld&13107)<<2,Ld=(Ld&61680)>>4|(Ld&3855)<<4,JM[Si]=((Ld&65280)>>8|(Ld&255)<<8)>>1}var eb=function(r,t,e){for(var n=r.length,i=0,a=new Rl(t);i<n;++i)r[i]&&++a[r[i]-1];var s=new Rl(t);for(i=1;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(e){o=new Rl(1<<t);var l=15-t;for(i=0;i<n;++i)if(r[i])for(var u=i<<4|r[i],c=t-r[i],f=s[r[i]-1]++<<c,h=f|(1<<c)-1;f<=h;++f)o[JM[f]>>l]=u}else for(o=new Rl(n),i=0;i<n;++i)r[i]&&(o[i]=JM[s[r[i]-1]++]>>15-r[i]);return o},Mg=new Sc(288);for(var Si=0;Si<144;++Si)Mg[Si]=8;for(var Si=144;Si<256;++Si)Mg[Si]=9;for(var Si=256;Si<280;++Si)Mg[Si]=7;for(var Si=280;Si<288;++Si)Mg[Si]=8;var gC=new Sc(32);for(var Si=0;Si<32;++Si)gC[Si]=5;var dKe=eb(Mg,9,0),AKe=eb(gC,5,0),dfe=function(r){return(r+7)/8|0},pKe=function(r,t,e){return(e==null||e>r.length)&&(e=r.length),new Sc(r.subarray(t,e))},nh=function(r,t,e){e<<=t&7;var n=t/8|0;r[n]|=e,r[n+1]|=e>>8},Rx=function(r,t,e){e<<=t&7;var n=t/8|0;r[n]|=e,r[n+1]|=e>>8,r[n+2]|=e>>16},cN=function(r,t){for(var e=[],n=0;n<r.length;++n)r[n]&&e.push({s:n,f:r[n]});var i=e.length,a=e.slice();if(!i)return{t:pfe,l:0};if(i==1){var s=new Sc(e[0].s+1);return s[e[0].s]=1,{t:s,l:1}}e.sort(function(_,T){return _.f-T.f}),e.push({s:-1,f:25001});var o=e[0],l=e[1],u=0,c=1,f=2;for(e[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=i-1;)o=e[e[u].f<e[f].f?u++:f++],l=e[u!=c&&e[u].f<e[f].f?u++:f++],e[c++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=a[0].s,n=1;n<i;++n)a[n].s>h&&(h=a[n].s);var d=new Rl(h+1),A=eL(e[c-1],d,0);if(A>t){var n=0,p=0,g=A-t,m=1<<g;for(a.sort(function(T,I){return d[I.s]-d[T.s]||T.f-I.f});n<i;++n){var v=a[n].s;if(d[v]>t)p+=m-(1<<A-d[v]),d[v]=t;else break}for(p>>=g;p>0;){var y=a[n].s;d[y]<t?p-=1<<t-d[y]++-1:++n}for(;n>=0&&p;--n){var b=a[n].s;d[b]==t&&(--d[b],++p)}A=t}return{t:new Sc(d),l:A}},eL=function(r,t,e){return r.s==-1?Math.max(eL(r.l,t,e+1),eL(r.r,t,e+1)):t[r.s]=e},sX=function(r){for(var t=r.length;t&&!r[--t];);for(var e=new Rl(++t),n=0,i=r[0],a=1,s=function(l){e[n++]=l},o=1;o<=t;++o)if(r[o]==i&&o!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=r[o]}return{c:e.subarray(0,n),n:t}},Ox=function(r,t){for(var e=0,n=0;n<t.length;++n)e+=r[n]*t[n];return e},Afe=function(r,t,e){var n=e.length,i=dfe(t+2);r[i]=n&255,r[i+1]=n>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var a=0;a<n;++a)r[i+a+4]=e[a];return(i+4+n)*8},oX=function(r,t,e,n,i,a,s,o,l,u,c){nh(t,c++,e),++i[256];for(var f=cN(i,15),h=f.t,d=f.l,A=cN(a,15),p=A.t,g=A.l,m=sX(h),v=m.c,y=m.n,b=sX(p),_=b.c,T=b.n,I=new Rl(19),N=0;N<v.length;++N)++I[v[N]&31];for(var N=0;N<_.length;++N)++I[_[N]&31];for(var F=cN(I,7),P=F.t,D=F.l,R=19;R>4&&!P[iX[R-1]];--R);var E=u+5<<3,L=Ox(i,Mg)+Ox(a,gC)+s,k=Ox(i,h)+Ox(a,p)+s+14+3*R+Ox(I,P)+2*I[16]+3*I[17]+7*I[18];if(l>=0&&E<=L&&E<=k)return Afe(t,c,r.subarray(l,l+u));var w,C,S,B;if(nh(t,c,1+(k<L)),c+=2,k<L){w=eb(h,d,0),C=h,S=eb(p,g,0),B=p;var O=eb(P,D,0);nh(t,c,y-257),nh(t,c+5,T-1),nh(t,c+10,R-4),c+=14;for(var N=0;N<R;++N)nh(t,c+3*N,P[iX[N]]);c+=3*R;for(var V=[v,_],M=0;M<2;++M)for(var U=V[M],N=0;N<U.length;++N){var Q=U[N]&31;nh(t,c,O[Q]),c+=P[Q],Q>15&&(nh(t,c,U[N]>>5&127),c+=U[N]>>12)}}else w=dKe,C=Mg,S=AKe,B=gC;for(var N=0;N<o;++N){var W=n[N];if(W>255){var Q=W>>18&31;Rx(t,c,w[Q+257]),c+=C[Q+257],Q>7&&(nh(t,c,W>>23&31),c+=GR[Q]);var j=W&31;Rx(t,c,S[j]),c+=B[j],j>3&&(Rx(t,c,W>>5&8191),c+=WR[j])}else Rx(t,c,w[W]),c+=C[W]}return Rx(t,c,w[256]),c+C[256]},gKe=new VR([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),pfe=new Sc(0),mKe=function(r,t,e,n,i,a){var s=a.z||r.length,o=new Sc(n+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(n,o.length-i),u=a.l,c=(a.r||0)&7;if(t){c&&(l[0]=a.r>>3);for(var f=gKe[t-1],h=f>>13,d=f&8191,A=(1<<e)-1,p=a.p||new Rl(32768),g=a.h||new Rl(A+1),m=Math.ceil(e/3),v=2*m,y=function(ne){return(r[ne]^r[ne+1]<<m^r[ne+2]<<v)&A},b=new VR(25e3),_=new Rl(288),T=new Rl(32),I=0,N=0,F=a.i||0,P=0,D=a.w||0,R=0;F+2<s;++F){var E=y(F),L=F&32767,k=g[E];if(p[L]=k,g[E]=L,D<=F){var w=s-F;if((I>7e3||P>24576)&&(w>423||!u)){c=oX(r,l,0,b,_,T,N,P,R,F-R,c),P=I=N=0,R=F;for(var C=0;C<286;++C)_[C]=0;for(var C=0;C<30;++C)T[C]=0}var S=2,B=0,O=d,V=L-k&32767;if(w>2&&E==y(F-V))for(var M=Math.min(h,w)-1,U=Math.min(32767,F),Q=Math.min(258,w);V<=U&&--O&&L!=k;){if(r[F+S]==r[F+S-V]){for(var W=0;W<Q&&r[F+W]==r[F+W-V];++W);if(W>S){if(S=W,B=V,W>M)break;for(var j=Math.min(V,W-2),X=0,C=0;C<j;++C){var z=F-V+C&32767,H=p[z],K=z-H&32767;K>X&&(X=K,k=z)}}}L=k,k=p[L],V+=L-k&32767}if(B){b[P++]=268435456|ZM[S]<<18|aX[B];var Z=ZM[S]&31,ie=aX[B]&31;N+=GR[Z]+WR[ie],++_[257+Z],++T[ie],D=F+S,++I}else b[P++]=r[F],++_[r[F]]}}for(F=Math.max(F,D);F<s;++F)b[P++]=r[F],++_[r[F]];c=oX(r,l,u,b,_,T,N,P,R,F-R,c),u||(a.r=c&7|l[c/8|0]<<3,c-=7,a.h=g,a.p=p,a.i=F,a.w=D)}else{for(var F=a.w||0;F<s+u;F+=65535){var ee=F+65535;ee>=s&&(l[c/8|0]=u,ee=s),c=Afe(l,c+1,r.subarray(F,ee))}a.i=s}return pKe(o,0,n+dfe(c)+i)},gfe=function(){var r=1,t=0;return{p:function(e){for(var n=r,i=t,a=e.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=e[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,t=i},d:function(){return r%=65521,t%=65521,(r&255)<<24|(r&65280)<<8|(t&255)<<8|t>>8}}},vKe=function(r,t,e,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),s=new Sc(a.length+r.length);s.set(a),s.set(r,a.length),r=s,i.w=a.length}return mKe(r,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+t.mem,e,n,i)},mfe=function(r,t,e){for(;e;++t)r[t]=e,e>>>=8},yKe=function(r,t){var e=t.level,n=e==0?0:e<6?1:e==9?3:2;if(r[0]=120,r[1]=n<<6|(t.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,t.dictionary){var i=gfe();i.p(t.dictionary),mfe(r,2,i.d())}};function tL(r,t){t||(t={});var e=gfe();e.p(r);var n=vKe(r,t,t.dictionary?6:2,4);return yKe(n,t),mfe(n,n.length-4,e.d()),n}var xKe=typeof TextDecoder<"u"&&new TextDecoder,bKe=0;try{xKe.decode(pfe,{stream:!0}),bKe=1}catch{}function wKe(r){if(Array.isArray(r))return r}function _Ke(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(e=e.call(r)).next,t!==0)for(;!(l=(n=a.call(e)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function lX(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=Array(t);e<t;e++)n[e]=r[e];return n}function SKe(r,t){if(r){if(typeof r=="string")return lX(r,t);var e={}.toString.call(r).slice(8,-1);return e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set"?Array.from(r):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?lX(r,t):void 0}}function CKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uX(r,t){return wKe(r)||_Ke(r,t)||SKe(r,t)||CKe()}function cX(r,t="utf8"){return new TextDecoder(t).decode(r)}const BKe=new TextEncoder;function TKe(r){return BKe.encode(r)}const EKe=1024*8,kKe=(()=>{const r=new Uint8Array(4),t=new Uint32Array(r.buffer);return!((t[0]=1)&r[0])})(),fN={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class $R{constructor(t=EKe,e={}){Xn(this,"buffer");Xn(this,"byteLength");Xn(this,"byteOffset");Xn(this,"length");Xn(this,"offset");Xn(this,"lastWrittenByte");Xn(this,"littleEndian");Xn(this,"_data");Xn(this,"_mark");Xn(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=e.offset?e.offset>>>0:0,a=t.byteLength-i;let s=i;(ArrayBuffer.isView(t)||t instanceof $R)&&(t.byteLength!==t.buffer.byteLength&&(s=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const n=fN[e].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===kKe&&e!=="uint8"&&e!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new fN[e](o.buffer);return this.offset+=n,l.reverse(),l}const s=new fN[e](a);return this.offset+=n,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let n=0;n<t;n++)e+=this.readChar();return e}readUtf8(t=1){return cX(this.readBytes(t))}decodeText(t=1,e="utf8"){return cX(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(TKe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const NKe=4,fX=0,hX=1,FKe=2;function Cy(r){let t=r.length;for(;--t>=0;)r[t]=0}const IKe=0,vfe=1,MKe=2,LKe=3,DKe=258,KR=29,A_=256,mw=A_+1+KR,Jv=30,qR=19,yfe=2*mw+1,jp=15,hN=16,PKe=7,XR=256,xfe=16,bfe=17,wfe=18,rL=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),eS=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),RKe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),_fe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),OKe=512,dh=new Array((mw+2)*2);Cy(dh);const tb=new Array(Jv*2);Cy(tb);const vw=new Array(OKe);Cy(vw);const yw=new Array(DKe-LKe+1);Cy(yw);const YR=new Array(KR);Cy(YR);const mC=new Array(Jv);Cy(mC);function dN(r,t,e,n,i){this.static_tree=r,this.extra_bits=t,this.extra_base=e,this.elems=n,this.max_length=i,this.has_stree=r&&r.length}let Sfe,Cfe,Bfe;function AN(r,t){this.dyn_tree=r,this.max_code=0,this.stat_desc=t}const Tfe=r=>r<256?vw[r]:vw[256+(r>>>7)],xw=(r,t)=>{r.pending_buf[r.pending++]=t&255,r.pending_buf[r.pending++]=t>>>8&255},Zo=(r,t,e)=>{r.bi_valid>hN-e?(r.bi_buf|=t<<r.bi_valid&65535,xw(r,r.bi_buf),r.bi_buf=t>>hN-r.bi_valid,r.bi_valid+=e-hN):(r.bi_buf|=t<<r.bi_valid&65535,r.bi_valid+=e)},lf=(r,t,e)=>{Zo(r,e[t*2],e[t*2+1])},Efe=(r,t)=>{let e=0;do e|=r&1,r>>>=1,e<<=1;while(--t>0);return e>>>1},jKe=r=>{r.bi_valid===16?(xw(r,r.bi_buf),r.bi_buf=0,r.bi_valid=0):r.bi_valid>=8&&(r.pending_buf[r.pending++]=r.bi_buf&255,r.bi_buf>>=8,r.bi_valid-=8)},UKe=(r,t)=>{const e=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,l=t.stat_desc.max_length;let u,c,f,h,d,A,p=0;for(h=0;h<=jp;h++)r.bl_count[h]=0;for(e[r.heap[r.heap_max]*2+1]=0,u=r.heap_max+1;u<yfe;u++)c=r.heap[u],h=e[e[c*2+1]*2+1]+1,h>l&&(h=l,p++),e[c*2+1]=h,!(c>n)&&(r.bl_count[h]++,d=0,c>=o&&(d=s[c-o]),A=e[c*2],r.opt_len+=A*(h+d),a&&(r.static_len+=A*(i[c*2+1]+d)));if(p!==0){do{for(h=l-1;r.bl_count[h]===0;)h--;r.bl_count[h]--,r.bl_count[h+1]+=2,r.bl_count[l]--,p-=2}while(p>0);for(h=l;h!==0;h--)for(c=r.bl_count[h];c!==0;)f=r.heap[--u],!(f>n)&&(e[f*2+1]!==h&&(r.opt_len+=(h-e[f*2+1])*e[f*2],e[f*2+1]=h),c--)}},kfe=(r,t,e)=>{const n=new Array(jp+1);let i=0,a,s;for(a=1;a<=jp;a++)i=i+e[a-1]<<1,n[a]=i;for(s=0;s<=t;s++){let o=r[s*2+1];o!==0&&(r[s*2]=Efe(n[o]++,o))}},HKe=()=>{let r,t,e,n,i;const a=new Array(jp+1);for(e=0,n=0;n<KR-1;n++)for(YR[n]=e,r=0;r<1<<rL[n];r++)yw[e++]=n;for(yw[e-1]=n,i=0,n=0;n<16;n++)for(mC[n]=i,r=0;r<1<<eS[n];r++)vw[i++]=n;for(i>>=7;n<Jv;n++)for(mC[n]=i<<7,r=0;r<1<<eS[n]-7;r++)vw[256+i++]=n;for(t=0;t<=jp;t++)a[t]=0;for(r=0;r<=143;)dh[r*2+1]=8,r++,a[8]++;for(;r<=255;)dh[r*2+1]=9,r++,a[9]++;for(;r<=279;)dh[r*2+1]=7,r++,a[7]++;for(;r<=287;)dh[r*2+1]=8,r++,a[8]++;for(kfe(dh,mw+1,a),r=0;r<Jv;r++)tb[r*2+1]=5,tb[r*2]=Efe(r,5);Sfe=new dN(dh,rL,A_+1,mw,jp),Cfe=new dN(tb,eS,0,Jv,jp),Bfe=new dN(new Array(0),RKe,0,qR,PKe)},Nfe=r=>{let t;for(t=0;t<mw;t++)r.dyn_ltree[t*2]=0;for(t=0;t<Jv;t++)r.dyn_dtree[t*2]=0;for(t=0;t<qR;t++)r.bl_tree[t*2]=0;r.dyn_ltree[XR*2]=1,r.opt_len=r.static_len=0,r.sym_next=r.matches=0},Ffe=r=>{r.bi_valid>8?xw(r,r.bi_buf):r.bi_valid>0&&(r.pending_buf[r.pending++]=r.bi_buf),r.bi_buf=0,r.bi_valid=0},dX=(r,t,e,n)=>{const i=t*2,a=e*2;return r[i]<r[a]||r[i]===r[a]&&n[t]<=n[e]},pN=(r,t,e)=>{const n=r.heap[e];let i=e<<1;for(;i<=r.heap_len&&(i<r.heap_len&&dX(t,r.heap[i+1],r.heap[i],r.depth)&&i++,!dX(t,n,r.heap[i],r.depth));)r.heap[e]=r.heap[i],e=i,i<<=1;r.heap[e]=n},AX=(r,t,e)=>{let n,i,a=0,s,o;if(r.sym_next!==0)do n=r.pending_buf[r.sym_buf+a++]&255,n+=(r.pending_buf[r.sym_buf+a++]&255)<<8,i=r.pending_buf[r.sym_buf+a++],n===0?lf(r,i,t):(s=yw[i],lf(r,s+A_+1,t),o=rL[s],o!==0&&(i-=YR[s],Zo(r,i,o)),n--,s=Tfe(n),lf(r,s,e),o=eS[s],o!==0&&(n-=mC[s],Zo(r,n,o)));while(a<r.sym_next);lf(r,XR,t)},nL=(r,t)=>{const e=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems;let s,o,l=-1,u;for(r.heap_len=0,r.heap_max=yfe,s=0;s<a;s++)e[s*2]!==0?(r.heap[++r.heap_len]=l=s,r.depth[s]=0):e[s*2+1]=0;for(;r.heap_len<2;)u=r.heap[++r.heap_len]=l<2?++l:0,e[u*2]=1,r.depth[u]=0,r.opt_len--,i&&(r.static_len-=n[u*2+1]);for(t.max_code=l,s=r.heap_len>>1;s>=1;s--)pN(r,e,s);u=a;do s=r.heap[1],r.heap[1]=r.heap[r.heap_len--],pN(r,e,1),o=r.heap[1],r.heap[--r.heap_max]=s,r.heap[--r.heap_max]=o,e[u*2]=e[s*2]+e[o*2],r.depth[u]=(r.depth[s]>=r.depth[o]?r.depth[s]:r.depth[o])+1,e[s*2+1]=e[o*2+1]=u,r.heap[1]=u++,pN(r,e,1);while(r.heap_len>=2);r.heap[--r.heap_max]=r.heap[1],UKe(r,t),kfe(e,l,r.bl_count)},pX=(r,t,e)=>{let n,i=-1,a,s=t[0*2+1],o=0,l=7,u=4;for(s===0&&(l=138,u=3),t[(e+1)*2+1]=65535,n=0;n<=e;n++)a=s,s=t[(n+1)*2+1],!(++o<l&&a===s)&&(o<u?r.bl_tree[a*2]+=o:a!==0?(a!==i&&r.bl_tree[a*2]++,r.bl_tree[xfe*2]++):o<=10?r.bl_tree[bfe*2]++:r.bl_tree[wfe*2]++,o=0,i=a,s===0?(l=138,u=3):a===s?(l=6,u=3):(l=7,u=4))},gX=(r,t,e)=>{let n,i=-1,a,s=t[0*2+1],o=0,l=7,u=4;for(s===0&&(l=138,u=3),n=0;n<=e;n++)if(a=s,s=t[(n+1)*2+1],!(++o<l&&a===s)){if(o<u)do lf(r,a,r.bl_tree);while(--o!==0);else a!==0?(a!==i&&(lf(r,a,r.bl_tree),o--),lf(r,xfe,r.bl_tree),Zo(r,o-3,2)):o<=10?(lf(r,bfe,r.bl_tree),Zo(r,o-3,3)):(lf(r,wfe,r.bl_tree),Zo(r,o-11,7));o=0,i=a,s===0?(l=138,u=3):a===s?(l=6,u=3):(l=7,u=4)}},QKe=r=>{let t;for(pX(r,r.dyn_ltree,r.l_desc.max_code),pX(r,r.dyn_dtree,r.d_desc.max_code),nL(r,r.bl_desc),t=qR-1;t>=3&&r.bl_tree[_fe[t]*2+1]===0;t--);return r.opt_len+=3*(t+1)+5+5+4,t},zKe=(r,t,e,n)=>{let i;for(Zo(r,t-257,5),Zo(r,e-1,5),Zo(r,n-4,4),i=0;i<n;i++)Zo(r,r.bl_tree[_fe[i]*2+1],3);gX(r,r.dyn_ltree,t-1),gX(r,r.dyn_dtree,e-1)},VKe=r=>{let t=4093624447,e;for(e=0;e<=31;e++,t>>>=1)if(t&1&&r.dyn_ltree[e*2]!==0)return fX;if(r.dyn_ltree[9*2]!==0||r.dyn_ltree[10*2]!==0||r.dyn_ltree[13*2]!==0)return hX;for(e=32;e<A_;e++)if(r.dyn_ltree[e*2]!==0)return hX;return fX};let mX=!1;const GKe=r=>{mX||(HKe(),mX=!0),r.l_desc=new AN(r.dyn_ltree,Sfe),r.d_desc=new AN(r.dyn_dtree,Cfe),r.bl_desc=new AN(r.bl_tree,Bfe),r.bi_buf=0,r.bi_valid=0,Nfe(r)},Ife=(r,t,e,n)=>{Zo(r,(IKe<<1)+(n?1:0),3),Ffe(r),xw(r,e),xw(r,~e),e&&r.pending_buf.set(r.window.subarray(t,t+e),r.pending),r.pending+=e},WKe=r=>{Zo(r,vfe<<1,3),lf(r,XR,dh),jKe(r)},$Ke=(r,t,e,n)=>{let i,a,s=0;r.level>0?(r.strm.data_type===FKe&&(r.strm.data_type=VKe(r)),nL(r,r.l_desc),nL(r,r.d_desc),s=QKe(r),i=r.opt_len+3+7>>>3,a=r.static_len+3+7>>>3,a<=i&&(i=a)):i=a=e+5,e+4<=i&&t!==-1?Ife(r,t,e,n):r.strategy===NKe||a===i?(Zo(r,(vfe<<1)+(n?1:0),3),AX(r,dh,tb)):(Zo(r,(MKe<<1)+(n?1:0),3),zKe(r,r.l_desc.max_code+1,r.d_desc.max_code+1,s+1),AX(r,r.dyn_ltree,r.dyn_dtree)),Nfe(r),n&&Ffe(r)},KKe=(r,t,e)=>(r.pending_buf[r.sym_buf+r.sym_next++]=t,r.pending_buf[r.sym_buf+r.sym_next++]=t>>8,r.pending_buf[r.sym_buf+r.sym_next++]=e,t===0?r.dyn_ltree[e*2]++:(r.matches++,t--,r.dyn_ltree[(yw[e]+A_+1)*2]++,r.dyn_dtree[Tfe(t)*2]++),r.sym_next===r.sym_end);var qKe=GKe,XKe=Ife,YKe=$Ke,ZKe=KKe,JKe=WKe,eqe={_tr_init:qKe,_tr_stored_block:XKe,_tr_flush_block:YKe,_tr_tally:ZKe,_tr_align:JKe};const tqe=(r,t,e,n)=>{let i=r&65535|0,a=r>>>16&65535|0,s=0;for(;e!==0;){s=e>2e3?2e3:e,e-=s;do i=i+t[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var bw=tqe;const rqe=()=>{let r,t=[];for(var e=0;e<256;e++){r=e;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;t[e]=r}return t},nqe=new Uint32Array(rqe()),iqe=(r,t,e,n)=>{const i=nqe,a=n+e;r^=-1;for(let s=n;s<a;s++)r=r>>>8^i[(r^t[s])&255];return r^-1};var os=iqe,V1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},p_={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:aqe,_tr_stored_block:iL,_tr_flush_block:sqe,_tr_tally:VA,_tr_align:oqe}=eqe,{Z_NO_FLUSH:GA,Z_PARTIAL_FLUSH:lqe,Z_FULL_FLUSH:uqe,Z_FINISH:yu,Z_BLOCK:vX,Z_OK:Ss,Z_STREAM_END:yX,Z_STREAM_ERROR:_f,Z_DATA_ERROR:cqe,Z_BUF_ERROR:gN,Z_DEFAULT_COMPRESSION:fqe,Z_FILTERED:hqe,Z_HUFFMAN_ONLY:s3,Z_RLE:dqe,Z_FIXED:Aqe,Z_DEFAULT_STRATEGY:pqe,Z_UNKNOWN:gqe,Z_DEFLATED:eB}=p_,mqe=9,vqe=15,yqe=8,xqe=29,bqe=256,aL=bqe+1+xqe,wqe=30,_qe=19,Sqe=2*aL+1,Cqe=15,kn=3,bA=258,Sf=bA+kn+1,Bqe=32,G1=42,ZR=57,sL=69,oL=73,lL=91,uL=103,Up=113,d2=666,Eo=1,By=2,Lg=3,Ty=4,Tqe=3,Hp=(r,t)=>(r.msg=V1[t],t),xX=r=>r*2-(r>4?9:0),Zd=r=>{let t=r.length;for(;--t>=0;)r[t]=0},Eqe=r=>{let t,e,n,i=r.w_size;t=r.hash_size,n=t;do e=r.head[--n],r.head[n]=e>=i?e-i:0;while(--t);t=i,n=t;do e=r.prev[--n],r.prev[n]=e>=i?e-i:0;while(--t)};let kqe=(r,t,e)=>(t<<r.hash_shift^e)&r.hash_mask,WA=kqe;const wl=r=>{const t=r.state;let e=t.pending;e>r.avail_out&&(e=r.avail_out),e!==0&&(r.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+e),r.next_out),r.next_out+=e,t.pending_out+=e,r.total_out+=e,r.avail_out-=e,t.pending-=e,t.pending===0&&(t.pending_out=0))},Ol=(r,t)=>{sqe(r,r.block_start>=0?r.block_start:-1,r.strstart-r.block_start,t),r.block_start=r.strstart,wl(r.strm)},Rn=(r,t)=>{r.pending_buf[r.pending++]=t},jx=(r,t)=>{r.pending_buf[r.pending++]=t>>>8&255,r.pending_buf[r.pending++]=t&255},cL=(r,t,e,n)=>{let i=r.avail_in;return i>n&&(i=n),i===0?0:(r.avail_in-=i,t.set(r.input.subarray(r.next_in,r.next_in+i),e),r.state.wrap===1?r.adler=bw(r.adler,t,i,e):r.state.wrap===2&&(r.adler=os(r.adler,t,i,e)),r.next_in+=i,r.total_in+=i,i)},Mfe=(r,t)=>{let e=r.max_chain_length,n=r.strstart,i,a,s=r.prev_length,o=r.nice_match;const l=r.strstart>r.w_size-Sf?r.strstart-(r.w_size-Sf):0,u=r.window,c=r.w_mask,f=r.prev,h=r.strstart+bA;let d=u[n+s-1],A=u[n+s];r.prev_length>=r.good_match&&(e>>=2),o>r.lookahead&&(o=r.lookahead);do if(i=t,!(u[i+s]!==A||u[i+s-1]!==d||u[i]!==u[n]||u[++i]!==u[n+1])){n+=2,i++;do;while(u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&n<h);if(a=bA-(h-n),n=h-bA,a>s){if(r.match_start=t,s=a,a>=o)break;d=u[n+s-1],A=u[n+s]}}while((t=f[t&c])>l&&--e!==0);return s<=r.lookahead?s:r.lookahead},W1=r=>{const t=r.w_size;let e,n,i;do{if(n=r.window_size-r.lookahead-r.strstart,r.strstart>=t+(t-Sf)&&(r.window.set(r.window.subarray(t,t+t-n),0),r.match_start-=t,r.strstart-=t,r.block_start-=t,r.insert>r.strstart&&(r.insert=r.strstart),Eqe(r),n+=t),r.strm.avail_in===0)break;if(e=cL(r.strm,r.window,r.strstart+r.lookahead,n),r.lookahead+=e,r.lookahead+r.insert>=kn)for(i=r.strstart-r.insert,r.ins_h=r.window[i],r.ins_h=WA(r,r.ins_h,r.window[i+1]);r.insert&&(r.ins_h=WA(r,r.ins_h,r.window[i+kn-1]),r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++,r.insert--,!(r.lookahead+r.insert<kn)););}while(r.lookahead<Sf&&r.strm.avail_in!==0)},Lfe=(r,t)=>{let e=r.pending_buf_size-5>r.w_size?r.w_size:r.pending_buf_size-5,n,i,a,s=0,o=r.strm.avail_in;do{if(n=65535,a=r.bi_valid+42>>3,r.strm.avail_out<a||(a=r.strm.avail_out-a,i=r.strstart-r.block_start,n>i+r.strm.avail_in&&(n=i+r.strm.avail_in),n>a&&(n=a),n<e&&(n===0&&t!==yu||t===GA||n!==i+r.strm.avail_in)))break;s=t===yu&&n===i+r.strm.avail_in?1:0,iL(r,0,0,s),r.pending_buf[r.pending-4]=n,r.pending_buf[r.pending-3]=n>>8,r.pending_buf[r.pending-2]=~n,r.pending_buf[r.pending-1]=~n>>8,wl(r.strm),i&&(i>n&&(i=n),r.strm.output.set(r.window.subarray(r.block_start,r.block_start+i),r.strm.next_out),r.strm.next_out+=i,r.strm.avail_out-=i,r.strm.total_out+=i,r.block_start+=i,n-=i),n&&(cL(r.strm,r.strm.output,r.strm.next_out,n),r.strm.next_out+=n,r.strm.avail_out-=n,r.strm.total_out+=n)}while(s===0);return o-=r.strm.avail_in,o&&(o>=r.w_size?(r.matches=2,r.window.set(r.strm.input.subarray(r.strm.next_in-r.w_size,r.strm.next_in),0),r.strstart=r.w_size,r.insert=r.strstart):(r.window_size-r.strstart<=o&&(r.strstart-=r.w_size,r.window.set(r.window.subarray(r.w_size,r.w_size+r.strstart),0),r.matches<2&&r.matches++,r.insert>r.strstart&&(r.insert=r.strstart)),r.window.set(r.strm.input.subarray(r.strm.next_in-o,r.strm.next_in),r.strstart),r.strstart+=o,r.insert+=o>r.w_size-r.insert?r.w_size-r.insert:o),r.block_start=r.strstart),r.high_water<r.strstart&&(r.high_water=r.strstart),s?Ty:t!==GA&&t!==yu&&r.strm.avail_in===0&&r.strstart===r.block_start?By:(a=r.window_size-r.strstart,r.strm.avail_in>a&&r.block_start>=r.w_size&&(r.block_start-=r.w_size,r.strstart-=r.w_size,r.window.set(r.window.subarray(r.w_size,r.w_size+r.strstart),0),r.matches<2&&r.matches++,a+=r.w_size,r.insert>r.strstart&&(r.insert=r.strstart)),a>r.strm.avail_in&&(a=r.strm.avail_in),a&&(cL(r.strm,r.window,r.strstart,a),r.strstart+=a,r.insert+=a>r.w_size-r.insert?r.w_size-r.insert:a),r.high_water<r.strstart&&(r.high_water=r.strstart),a=r.bi_valid+42>>3,a=r.pending_buf_size-a>65535?65535:r.pending_buf_size-a,e=a>r.w_size?r.w_size:a,i=r.strstart-r.block_start,(i>=e||(i||t===yu)&&t!==GA&&r.strm.avail_in===0&&i<=a)&&(n=i>a?a:i,s=t===yu&&r.strm.avail_in===0&&n===i?1:0,iL(r,r.block_start,n,s),r.block_start+=n,wl(r.strm)),s?Lg:Eo)},mN=(r,t)=>{let e,n;for(;;){if(r.lookahead<Sf){if(W1(r),r.lookahead<Sf&&t===GA)return Eo;if(r.lookahead===0)break}if(e=0,r.lookahead>=kn&&(r.ins_h=WA(r,r.ins_h,r.window[r.strstart+kn-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),e!==0&&r.strstart-e<=r.w_size-Sf&&(r.match_length=Mfe(r,e)),r.match_length>=kn)if(n=VA(r,r.strstart-r.match_start,r.match_length-kn),r.lookahead-=r.match_length,r.match_length<=r.max_lazy_match&&r.lookahead>=kn){r.match_length--;do r.strstart++,r.ins_h=WA(r,r.ins_h,r.window[r.strstart+kn-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart;while(--r.match_length!==0);r.strstart++}else r.strstart+=r.match_length,r.match_length=0,r.ins_h=r.window[r.strstart],r.ins_h=WA(r,r.ins_h,r.window[r.strstart+1]);else n=VA(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++;if(n&&(Ol(r,!1),r.strm.avail_out===0))return Eo}return r.insert=r.strstart<kn-1?r.strstart:kn-1,t===yu?(Ol(r,!0),r.strm.avail_out===0?Lg:Ty):r.sym_next&&(Ol(r,!1),r.strm.avail_out===0)?Eo:By},qm=(r,t)=>{let e,n,i;for(;;){if(r.lookahead<Sf){if(W1(r),r.lookahead<Sf&&t===GA)return Eo;if(r.lookahead===0)break}if(e=0,r.lookahead>=kn&&(r.ins_h=WA(r,r.ins_h,r.window[r.strstart+kn-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),r.prev_length=r.match_length,r.prev_match=r.match_start,r.match_length=kn-1,e!==0&&r.prev_length<r.max_lazy_match&&r.strstart-e<=r.w_size-Sf&&(r.match_length=Mfe(r,e),r.match_length<=5&&(r.strategy===hqe||r.match_length===kn&&r.strstart-r.match_start>4096)&&(r.match_length=kn-1)),r.prev_length>=kn&&r.match_length<=r.prev_length){i=r.strstart+r.lookahead-kn,n=VA(r,r.strstart-1-r.prev_match,r.prev_length-kn),r.lookahead-=r.prev_length-1,r.prev_length-=2;do++r.strstart<=i&&(r.ins_h=WA(r,r.ins_h,r.window[r.strstart+kn-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart);while(--r.prev_length!==0);if(r.match_available=0,r.match_length=kn-1,r.strstart++,n&&(Ol(r,!1),r.strm.avail_out===0))return Eo}else if(r.match_available){if(n=VA(r,0,r.window[r.strstart-1]),n&&Ol(r,!1),r.strstart++,r.lookahead--,r.strm.avail_out===0)return Eo}else r.match_available=1,r.strstart++,r.lookahead--}return r.match_available&&(n=VA(r,0,r.window[r.strstart-1]),r.match_available=0),r.insert=r.strstart<kn-1?r.strstart:kn-1,t===yu?(Ol(r,!0),r.strm.avail_out===0?Lg:Ty):r.sym_next&&(Ol(r,!1),r.strm.avail_out===0)?Eo:By},Nqe=(r,t)=>{let e,n,i,a;const s=r.window;for(;;){if(r.lookahead<=bA){if(W1(r),r.lookahead<=bA&&t===GA)return Eo;if(r.lookahead===0)break}if(r.match_length=0,r.lookahead>=kn&&r.strstart>0&&(i=r.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){a=r.strstart+bA;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);r.match_length=bA-(a-i),r.match_length>r.lookahead&&(r.match_length=r.lookahead)}if(r.match_length>=kn?(e=VA(r,1,r.match_length-kn),r.lookahead-=r.match_length,r.strstart+=r.match_length,r.match_length=0):(e=VA(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++),e&&(Ol(r,!1),r.strm.avail_out===0))return Eo}return r.insert=0,t===yu?(Ol(r,!0),r.strm.avail_out===0?Lg:Ty):r.sym_next&&(Ol(r,!1),r.strm.avail_out===0)?Eo:By},Fqe=(r,t)=>{let e;for(;;){if(r.lookahead===0&&(W1(r),r.lookahead===0)){if(t===GA)return Eo;break}if(r.match_length=0,e=VA(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++,e&&(Ol(r,!1),r.strm.avail_out===0))return Eo}return r.insert=0,t===yu?(Ol(r,!0),r.strm.avail_out===0?Lg:Ty):r.sym_next&&(Ol(r,!1),r.strm.avail_out===0)?Eo:By};function Gc(r,t,e,n,i){this.good_length=r,this.max_lazy=t,this.nice_length=e,this.max_chain=n,this.func=i}const A2=[new Gc(0,0,0,0,Lfe),new Gc(4,4,8,4,mN),new Gc(4,5,16,8,mN),new Gc(4,6,32,32,mN),new Gc(4,4,16,16,qm),new Gc(8,16,32,32,qm),new Gc(8,16,128,128,qm),new Gc(8,32,128,256,qm),new Gc(32,128,258,1024,qm),new Gc(32,258,258,4096,qm)],Iqe=r=>{r.window_size=2*r.w_size,Zd(r.head),r.max_lazy_match=A2[r.level].max_lazy,r.good_match=A2[r.level].good_length,r.nice_match=A2[r.level].nice_length,r.max_chain_length=A2[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=kn-1,r.match_available=0,r.ins_h=0};function Mqe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=eB,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Sqe*2),this.dyn_dtree=new Uint16Array((2*wqe+1)*2),this.bl_tree=new Uint16Array((2*_qe+1)*2),Zd(this.dyn_ltree),Zd(this.dyn_dtree),Zd(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Cqe+1),this.heap=new Uint16Array(2*aL+1),Zd(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*aL+1),Zd(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const g_=r=>{if(!r)return 1;const t=r.state;return!t||t.strm!==r||t.status!==G1&&t.status!==ZR&&t.status!==sL&&t.status!==oL&&t.status!==lL&&t.status!==uL&&t.status!==Up&&t.status!==d2?1:0},Dfe=r=>{if(g_(r))return Hp(r,_f);r.total_in=r.total_out=0,r.data_type=gqe;const t=r.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?ZR:t.wrap?G1:Up,r.adler=t.wrap===2?0:1,t.last_flush=-2,aqe(t),Ss},Pfe=r=>{const t=Dfe(r);return t===Ss&&Iqe(r.state),t},Lqe=(r,t)=>g_(r)||r.state.wrap!==2?_f:(r.state.gzhead=t,Ss),Rfe=(r,t,e,n,i,a)=>{if(!r)return _f;let s=1;if(t===fqe&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>mqe||e!==eB||n<8||n>15||t<0||t>9||a<0||a>Aqe||n===8&&s!==1)return Hp(r,_f);n===8&&(n=9);const o=new Mqe;return r.state=o,o.strm=r,o.status=G1,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+kn-1)/kn),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=t,o.strategy=a,o.method=e,Pfe(r)},Dqe=(r,t)=>Rfe(r,t,eB,vqe,yqe,pqe),Pqe=(r,t)=>{if(g_(r)||t>vX||t<0)return r?Hp(r,_f):_f;const e=r.state;if(!r.output||r.avail_in!==0&&!r.input||e.status===d2&&t!==yu)return Hp(r,r.avail_out===0?gN:_f);const n=e.last_flush;if(e.last_flush=t,e.pending!==0){if(wl(r),r.avail_out===0)return e.last_flush=-1,Ss}else if(r.avail_in===0&&xX(t)<=xX(n)&&t!==yu)return Hp(r,gN);if(e.status===d2&&r.avail_in!==0)return Hp(r,gN);if(e.status===G1&&e.wrap===0&&(e.status=Up),e.status===G1){let i=eB+(e.w_bits-8<<4)<<8,a=-1;if(e.strategy>=s3||e.level<2?a=0:e.level<6?a=1:e.level===6?a=2:a=3,i|=a<<6,e.strstart!==0&&(i|=Bqe),i+=31-i%31,jx(e,i),e.strstart!==0&&(jx(e,r.adler>>>16),jx(e,r.adler&65535)),r.adler=1,e.status=Up,wl(r),e.pending!==0)return e.last_flush=-1,Ss}if(e.status===ZR){if(r.adler=0,Rn(e,31),Rn(e,139),Rn(e,8),e.gzhead)Rn(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),Rn(e,e.gzhead.time&255),Rn(e,e.gzhead.time>>8&255),Rn(e,e.gzhead.time>>16&255),Rn(e,e.gzhead.time>>24&255),Rn(e,e.level===9?2:e.strategy>=s3||e.level<2?4:0),Rn(e,e.gzhead.os&255),e.gzhead.extra&&e.gzhead.extra.length&&(Rn(e,e.gzhead.extra.length&255),Rn(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(r.adler=os(r.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=sL;else if(Rn(e,0),Rn(e,0),Rn(e,0),Rn(e,0),Rn(e,0),Rn(e,e.level===9?2:e.strategy>=s3||e.level<2?4:0),Rn(e,Tqe),e.status=Up,wl(r),e.pending!==0)return e.last_flush=-1,Ss}if(e.status===sL){if(e.gzhead.extra){let i=e.pending,a=(e.gzhead.extra.length&65535)-e.gzindex;for(;e.pending+a>e.pending_buf_size;){let o=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+o),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>i&&(r.adler=os(r.adler,e.pending_buf,e.pending-i,i)),e.gzindex+=o,wl(r),e.pending!==0)return e.last_flush=-1,Ss;i=0,a-=o}let s=new Uint8Array(e.gzhead.extra);e.pending_buf.set(s.subarray(e.gzindex,e.gzindex+a),e.pending),e.pending+=a,e.gzhead.hcrc&&e.pending>i&&(r.adler=os(r.adler,e.pending_buf,e.pending-i,i)),e.gzindex=0}e.status=oL}if(e.status===oL){if(e.gzhead.name){let i=e.pending,a;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>i&&(r.adler=os(r.adler,e.pending_buf,e.pending-i,i)),wl(r),e.pending!==0)return e.last_flush=-1,Ss;i=0}e.gzindex<e.gzhead.name.length?a=e.gzhead.name.charCodeAt(e.gzindex++)&255:a=0,Rn(e,a)}while(a!==0);e.gzhead.hcrc&&e.pending>i&&(r.adler=os(r.adler,e.pending_buf,e.pending-i,i)),e.gzindex=0}e.status=lL}if(e.status===lL){if(e.gzhead.comment){let i=e.pending,a;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>i&&(r.adler=os(r.adler,e.pending_buf,e.pending-i,i)),wl(r),e.pending!==0)return e.last_flush=-1,Ss;i=0}e.gzindex<e.gzhead.comment.length?a=e.gzhead.comment.charCodeAt(e.gzindex++)&255:a=0,Rn(e,a)}while(a!==0);e.gzhead.hcrc&&e.pending>i&&(r.adler=os(r.adler,e.pending_buf,e.pending-i,i))}e.status=uL}if(e.status===uL){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(wl(r),e.pending!==0))return e.last_flush=-1,Ss;Rn(e,r.adler&255),Rn(e,r.adler>>8&255),r.adler=0}if(e.status=Up,wl(r),e.pending!==0)return e.last_flush=-1,Ss}if(r.avail_in!==0||e.lookahead!==0||t!==GA&&e.status!==d2){let i=e.level===0?Lfe(e,t):e.strategy===s3?Fqe(e,t):e.strategy===dqe?Nqe(e,t):A2[e.level].func(e,t);if((i===Lg||i===Ty)&&(e.status=d2),i===Eo||i===Lg)return r.avail_out===0&&(e.last_flush=-1),Ss;if(i===By&&(t===lqe?oqe(e):t!==vX&&(iL(e,0,0,!1),t===uqe&&(Zd(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),wl(r),r.avail_out===0))return e.last_flush=-1,Ss}return t!==yu?Ss:e.wrap<=0?yX:(e.wrap===2?(Rn(e,r.adler&255),Rn(e,r.adler>>8&255),Rn(e,r.adler>>16&255),Rn(e,r.adler>>24&255),Rn(e,r.total_in&255),Rn(e,r.total_in>>8&255),Rn(e,r.total_in>>16&255),Rn(e,r.total_in>>24&255)):(jx(e,r.adler>>>16),jx(e,r.adler&65535)),wl(r),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?Ss:yX)},Rqe=r=>{if(g_(r))return _f;const t=r.state.status;return r.state=null,t===Up?Hp(r,cqe):Ss},Oqe=(r,t)=>{let e=t.length;if(g_(r))return _f;const n=r.state,i=n.wrap;if(i===2||i===1&&n.status!==G1||n.lookahead)return _f;if(i===1&&(r.adler=bw(r.adler,t,e,0)),n.wrap=0,e>=n.w_size){i===0&&(Zd(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(t.subarray(e-n.w_size,e),0),t=l,e=n.w_size}const a=r.avail_in,s=r.next_in,o=r.input;for(r.avail_in=e,r.next_in=0,r.input=t,W1(n);n.lookahead>=kn;){let l=n.strstart,u=n.lookahead-(kn-1);do n.ins_h=WA(n,n.ins_h,n.window[l+kn-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--u);n.strstart=l,n.lookahead=kn-1,W1(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=kn-1,n.match_available=0,r.next_in=s,r.input=o,r.avail_in=a,n.wrap=i,Ss};var jqe=Dqe,Uqe=Rfe,Hqe=Pfe,Qqe=Dfe,zqe=Lqe,Vqe=Pqe,Gqe=Rqe,Wqe=Oqe,$qe="pako deflate (from Nodeca project)",rb={deflateInit:jqe,deflateInit2:Uqe,deflateReset:Hqe,deflateResetKeep:Qqe,deflateSetHeader:zqe,deflate:Vqe,deflateEnd:Gqe,deflateSetDictionary:Wqe,deflateInfo:$qe};const Kqe=(r,t)=>Object.prototype.hasOwnProperty.call(r,t);var qqe=function(r){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const n in e)Kqe(e,n)&&(r[n]=e[n])}}return r},Xqe=r=>{let t=0;for(let n=0,i=r.length;n<i;n++)t+=r[n].length;const e=new Uint8Array(t);for(let n=0,i=0,a=r.length;n<a;n++){let s=r[n];e.set(s,i),i+=s.length}return e},tB={assign:qqe,flattenChunks:Xqe};let Ofe=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Ofe=!1}const ww=new Uint8Array(256);for(let r=0;r<256;r++)ww[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;ww[254]=ww[254]=1;var Yqe=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let t,e,n,i,a,s=r.length,o=0;for(i=0;i<s;i++)e=r.charCodeAt(i),(e&64512)===55296&&i+1<s&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),i++)),o+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(o),a=0,i=0;a<o;i++)e=r.charCodeAt(i),(e&64512)===55296&&i+1<s&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),i++)),e<128?t[a++]=e:e<2048?(t[a++]=192|e>>>6,t[a++]=128|e&63):e<65536?(t[a++]=224|e>>>12,t[a++]=128|e>>>6&63,t[a++]=128|e&63):(t[a++]=240|e>>>18,t[a++]=128|e>>>12&63,t[a++]=128|e>>>6&63,t[a++]=128|e&63);return t};const Zqe=(r,t)=>{if(t<65534&&r.subarray&&Ofe)return String.fromCharCode.apply(null,r.length===t?r:r.subarray(0,t));let e="";for(let n=0;n<t;n++)e+=String.fromCharCode(r[n]);return e};var Jqe=(r,t)=>{const e=t||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,t));let n,i;const a=new Array(e*2);for(i=0,n=0;n<e;){let s=r[n++];if(s<128){a[i++]=s;continue}let o=ww[s];if(o>4){a[i++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<e;)s=s<<6|r[n++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return Zqe(a,i)},eXe=(r,t)=>{t=t||r.length,t>r.length&&(t=r.length);let e=t-1;for(;e>=0&&(r[e]&192)===128;)e--;return e<0||e===0?t:e+ww[r[e]]>t?e:t},_w={string2buf:Yqe,buf2string:Jqe,utf8border:eXe};function tXe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var jfe=tXe;const Ufe=Object.prototype.toString,{Z_NO_FLUSH:rXe,Z_SYNC_FLUSH:nXe,Z_FULL_FLUSH:iXe,Z_FINISH:aXe,Z_OK:vC,Z_STREAM_END:sXe,Z_DEFAULT_COMPRESSION:oXe,Z_DEFAULT_STRATEGY:lXe,Z_DEFLATED:uXe}=p_;function JR(r){this.options=tB.assign({level:oXe,method:uXe,chunkSize:16384,windowBits:15,memLevel:8,strategy:lXe},r||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new jfe,this.strm.avail_out=0;let e=rb.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==vC)throw new Error(V1[e]);if(t.header&&rb.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=_w.string2buf(t.dictionary):Ufe.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,e=rb.deflateSetDictionary(this.strm,n),e!==vC)throw new Error(V1[e]);this._dict_set=!0}}JR.prototype.push=function(r,t){const e=this.strm,n=this.options.chunkSize;let i,a;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?aXe:rXe,typeof r=="string"?e.input=_w.string2buf(r):Ufe.call(r)==="[object ArrayBuffer]"?e.input=new Uint8Array(r):e.input=r,e.next_in=0,e.avail_in=e.input.length;;){if(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),(a===nXe||a===iXe)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(i=rb.deflate(e,a),i===sXe)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),i=rb.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===vC;if(e.avail_out===0){this.onData(e.output);continue}if(a>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(e.avail_in===0)break}return!0};JR.prototype.onData=function(r){this.chunks.push(r)};JR.prototype.onEnd=function(r){r===vC&&(this.result=tB.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};const o3=16209,cXe=16191;var fXe=function(t,e){let n,i,a,s,o,l,u,c,f,h,d,A,p,g,m,v,y,b,_,T,I,N,F,P;const D=t.state;n=t.next_in,F=t.input,i=n+(t.avail_in-5),a=t.next_out,P=t.output,s=a-(e-t.avail_out),o=a+(t.avail_out-257),l=D.dmax,u=D.wsize,c=D.whave,f=D.wnext,h=D.window,d=D.hold,A=D.bits,p=D.lencode,g=D.distcode,m=(1<<D.lenbits)-1,v=(1<<D.distbits)-1;e:do{A<15&&(d+=F[n++]<<A,A+=8,d+=F[n++]<<A,A+=8),y=p[d&m];t:for(;;){if(b=y>>>24,d>>>=b,A-=b,b=y>>>16&255,b===0)P[a++]=y&65535;else if(b&16){_=y&65535,b&=15,b&&(A<b&&(d+=F[n++]<<A,A+=8),_+=d&(1<<b)-1,d>>>=b,A-=b),A<15&&(d+=F[n++]<<A,A+=8,d+=F[n++]<<A,A+=8),y=g[d&v];r:for(;;){if(b=y>>>24,d>>>=b,A-=b,b=y>>>16&255,b&16){if(T=y&65535,b&=15,A<b&&(d+=F[n++]<<A,A+=8,A<b&&(d+=F[n++]<<A,A+=8)),T+=d&(1<<b)-1,T>l){t.msg="invalid distance too far back",D.mode=o3;break e}if(d>>>=b,A-=b,b=a-s,T>b){if(b=T-b,b>c&&D.sane){t.msg="invalid distance too far back",D.mode=o3;break e}if(I=0,N=h,f===0){if(I+=u-b,b<_){_-=b;do P[a++]=h[I++];while(--b);I=a-T,N=P}}else if(f<b){if(I+=u+f-b,b-=f,b<_){_-=b;do P[a++]=h[I++];while(--b);if(I=0,f<_){b=f,_-=b;do P[a++]=h[I++];while(--b);I=a-T,N=P}}}else if(I+=f-b,b<_){_-=b;do P[a++]=h[I++];while(--b);I=a-T,N=P}for(;_>2;)P[a++]=N[I++],P[a++]=N[I++],P[a++]=N[I++],_-=3;_&&(P[a++]=N[I++],_>1&&(P[a++]=N[I++]))}else{I=a-T;do P[a++]=P[I++],P[a++]=P[I++],P[a++]=P[I++],_-=3;while(_>2);_&&(P[a++]=P[I++],_>1&&(P[a++]=P[I++]))}}else if(b&64){t.msg="invalid distance code",D.mode=o3;break e}else{y=g[(y&65535)+(d&(1<<b)-1)];continue r}break}}else if(b&64)if(b&32){D.mode=cXe;break e}else{t.msg="invalid literal/length code",D.mode=o3;break e}else{y=p[(y&65535)+(d&(1<<b)-1)];continue t}break}}while(n<i&&a<o);_=A>>3,n-=_,A-=_<<3,d&=(1<<A)-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=a<o?257+(o-a):257-(a-o),D.hold=d,D.bits=A};const Xm=15,bX=852,wX=592,_X=0,vN=1,SX=2,hXe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),dXe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),AXe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),pXe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),gXe=(r,t,e,n,i,a,s,o)=>{const l=o.bits;let u=0,c=0,f=0,h=0,d=0,A=0,p=0,g=0,m=0,v=0,y,b,_,T,I,N=null,F;const P=new Uint16Array(Xm+1),D=new Uint16Array(Xm+1);let R=null,E,L,k;for(u=0;u<=Xm;u++)P[u]=0;for(c=0;c<n;c++)P[t[e+c]]++;for(d=l,h=Xm;h>=1&&P[h]===0;h--);if(d>h&&(d=h),h===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<h&&P[f]===0;f++);for(d<f&&(d=f),g=1,u=1;u<=Xm;u++)if(g<<=1,g-=P[u],g<0)return-1;if(g>0&&(r===_X||h!==1))return-1;for(D[1]=0,u=1;u<Xm;u++)D[u+1]=D[u]+P[u];for(c=0;c<n;c++)t[e+c]!==0&&(s[D[t[e+c]]++]=c);if(r===_X?(N=R=s,F=20):r===vN?(N=hXe,R=dXe,F=257):(N=AXe,R=pXe,F=0),v=0,c=0,u=f,I=a,A=d,p=0,_=-1,m=1<<d,T=m-1,r===vN&&m>bX||r===SX&&m>wX)return 1;for(;;){E=u-p,s[c]+1<F?(L=0,k=s[c]):s[c]>=F?(L=R[s[c]-F],k=N[s[c]-F]):(L=96,k=0),y=1<<u-p,b=1<<A,f=b;do b-=y,i[I+(v>>p)+b]=E<<24|L<<16|k|0;while(b!==0);for(y=1<<u-1;v&y;)y>>=1;if(y!==0?(v&=y-1,v+=y):v=0,c++,--P[u]===0){if(u===h)break;u=t[e+s[c]]}if(u>d&&(v&T)!==_){for(p===0&&(p=d),I+=f,A=u-p,g=1<<A;A+p<h&&(g-=P[A+p],!(g<=0));)A++,g<<=1;if(m+=1<<A,r===vN&&m>bX||r===SX&&m>wX)return 1;_=v&T,i[_]=d<<24|A<<16|I-a|0}}return v!==0&&(i[I+v]=u-p<<24|64<<16|0),o.bits=d,0};var nb=gXe;const mXe=0,Hfe=1,Qfe=2,{Z_FINISH:CX,Z_BLOCK:vXe,Z_TREES:l3,Z_OK:Dg,Z_STREAM_END:yXe,Z_NEED_DICT:xXe,Z_STREAM_ERROR:Iu,Z_DATA_ERROR:zfe,Z_MEM_ERROR:Vfe,Z_BUF_ERROR:bXe,Z_DEFLATED:BX}=p_,rB=16180,TX=16181,EX=16182,kX=16183,NX=16184,FX=16185,IX=16186,MX=16187,LX=16188,DX=16189,yC=16190,ih=16191,yN=16192,PX=16193,xN=16194,RX=16195,OX=16196,jX=16197,UX=16198,u3=16199,c3=16200,HX=16201,QX=16202,zX=16203,VX=16204,GX=16205,bN=16206,WX=16207,$X=16208,Ei=16209,Gfe=16210,Wfe=16211,wXe=852,_Xe=592,SXe=15,CXe=SXe,KX=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function BXe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Jg=r=>{if(!r)return 1;const t=r.state;return!t||t.strm!==r||t.mode<rB||t.mode>Wfe?1:0},$fe=r=>{if(Jg(r))return Iu;const t=r.state;return r.total_in=r.total_out=t.total=0,r.msg="",t.wrap&&(r.adler=t.wrap&1),t.mode=rB,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(wXe),t.distcode=t.distdyn=new Int32Array(_Xe),t.sane=1,t.back=-1,Dg},Kfe=r=>{if(Jg(r))return Iu;const t=r.state;return t.wsize=0,t.whave=0,t.wnext=0,$fe(r)},qfe=(r,t)=>{let e;if(Jg(r))return Iu;const n=r.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Iu:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=e,n.wbits=t,Kfe(r))},Xfe=(r,t)=>{if(!r)return Iu;const e=new BXe;r.state=e,e.strm=r,e.window=null,e.mode=rB;const n=qfe(r,t);return n!==Dg&&(r.state=null),n},TXe=r=>Xfe(r,CXe);let qX=!0,wN,_N;const EXe=r=>{if(qX){wN=new Int32Array(512),_N=new Int32Array(32);let t=0;for(;t<144;)r.lens[t++]=8;for(;t<256;)r.lens[t++]=9;for(;t<280;)r.lens[t++]=7;for(;t<288;)r.lens[t++]=8;for(nb(Hfe,r.lens,0,288,wN,0,r.work,{bits:9}),t=0;t<32;)r.lens[t++]=5;nb(Qfe,r.lens,0,32,_N,0,r.work,{bits:5}),qX=!1}r.lencode=wN,r.lenbits=9,r.distcode=_N,r.distbits=5},Yfe=(r,t,e,n)=>{let i;const a=r.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(e-a.wsize,e),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(t.subarray(e-n,e-n+i),a.wnext),n-=i,n?(a.window.set(t.subarray(e-n,e),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},kXe=(r,t)=>{let e,n,i,a,s,o,l,u,c,f,h,d,A,p,g=0,m,v,y,b,_,T,I,N;const F=new Uint8Array(4);let P,D;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Jg(r)||!r.output||!r.input&&r.avail_in!==0)return Iu;e=r.state,e.mode===ih&&(e.mode=yN),s=r.next_out,i=r.output,l=r.avail_out,a=r.next_in,n=r.input,o=r.avail_in,u=e.hold,c=e.bits,f=o,h=l,N=Dg;e:for(;;)switch(e.mode){case rB:if(e.wrap===0){e.mode=yN;break}for(;c<16;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}if(e.wrap&2&&u===35615){e.wbits===0&&(e.wbits=15),e.check=0,F[0]=u&255,F[1]=u>>>8&255,e.check=os(e.check,F,2,0),u=0,c=0,e.mode=TX;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((u&255)<<8)+(u>>8))%31){r.msg="incorrect header check",e.mode=Ei;break}if((u&15)!==BX){r.msg="unknown compression method",e.mode=Ei;break}if(u>>>=4,c-=4,I=(u&15)+8,e.wbits===0&&(e.wbits=I),I>15||I>e.wbits){r.msg="invalid window size",e.mode=Ei;break}e.dmax=1<<e.wbits,e.flags=0,r.adler=e.check=1,e.mode=u&512?DX:ih,u=0,c=0;break;case TX:for(;c<16;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}if(e.flags=u,(e.flags&255)!==BX){r.msg="unknown compression method",e.mode=Ei;break}if(e.flags&57344){r.msg="unknown header flags set",e.mode=Ei;break}e.head&&(e.head.text=u>>8&1),e.flags&512&&e.wrap&4&&(F[0]=u&255,F[1]=u>>>8&255,e.check=os(e.check,F,2,0)),u=0,c=0,e.mode=EX;case EX:for(;c<32;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}e.head&&(e.head.time=u),e.flags&512&&e.wrap&4&&(F[0]=u&255,F[1]=u>>>8&255,F[2]=u>>>16&255,F[3]=u>>>24&255,e.check=os(e.check,F,4,0)),u=0,c=0,e.mode=kX;case kX:for(;c<16;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}e.head&&(e.head.xflags=u&255,e.head.os=u>>8),e.flags&512&&e.wrap&4&&(F[0]=u&255,F[1]=u>>>8&255,e.check=os(e.check,F,2,0)),u=0,c=0,e.mode=NX;case NX:if(e.flags&1024){for(;c<16;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}e.length=u,e.head&&(e.head.extra_len=u),e.flags&512&&e.wrap&4&&(F[0]=u&255,F[1]=u>>>8&255,e.check=os(e.check,F,2,0)),u=0,c=0}else e.head&&(e.head.extra=null);e.mode=FX;case FX:if(e.flags&1024&&(d=e.length,d>o&&(d=o),d&&(e.head&&(I=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(a,a+d),I)),e.flags&512&&e.wrap&4&&(e.check=os(e.check,n,d,a)),o-=d,a+=d,e.length-=d),e.length))break e;e.length=0,e.mode=IX;case IX:if(e.flags&2048){if(o===0)break e;d=0;do I=n[a+d++],e.head&&I&&e.length<65536&&(e.head.name+=String.fromCharCode(I));while(I&&d<o);if(e.flags&512&&e.wrap&4&&(e.check=os(e.check,n,d,a)),o-=d,a+=d,I)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=MX;case MX:if(e.flags&4096){if(o===0)break e;d=0;do I=n[a+d++],e.head&&I&&e.length<65536&&(e.head.comment+=String.fromCharCode(I));while(I&&d<o);if(e.flags&512&&e.wrap&4&&(e.check=os(e.check,n,d,a)),o-=d,a+=d,I)break e}else e.head&&(e.head.comment=null);e.mode=LX;case LX:if(e.flags&512){for(;c<16;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}if(e.wrap&4&&u!==(e.check&65535)){r.msg="header crc mismatch",e.mode=Ei;break}u=0,c=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),r.adler=e.check=0,e.mode=ih;break;case DX:for(;c<32;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}r.adler=e.check=KX(u),u=0,c=0,e.mode=yC;case yC:if(e.havedict===0)return r.next_out=s,r.avail_out=l,r.next_in=a,r.avail_in=o,e.hold=u,e.bits=c,xXe;r.adler=e.check=1,e.mode=ih;case ih:if(t===vXe||t===l3)break e;case yN:if(e.last){u>>>=c&7,c-=c&7,e.mode=bN;break}for(;c<3;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}switch(e.last=u&1,u>>>=1,c-=1,u&3){case 0:e.mode=PX;break;case 1:if(EXe(e),e.mode=u3,t===l3){u>>>=2,c-=2;break e}break;case 2:e.mode=OX;break;case 3:r.msg="invalid block type",e.mode=Ei}u>>>=2,c-=2;break;case PX:for(u>>>=c&7,c-=c&7;c<32;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){r.msg="invalid stored block lengths",e.mode=Ei;break}if(e.length=u&65535,u=0,c=0,e.mode=xN,t===l3)break e;case xN:e.mode=RX;case RX:if(d=e.length,d){if(d>o&&(d=o),d>l&&(d=l),d===0)break e;i.set(n.subarray(a,a+d),s),o-=d,a+=d,l-=d,s+=d,e.length-=d;break}e.mode=ih;break;case OX:for(;c<14;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}if(e.nlen=(u&31)+257,u>>>=5,c-=5,e.ndist=(u&31)+1,u>>>=5,c-=5,e.ncode=(u&15)+4,u>>>=4,c-=4,e.nlen>286||e.ndist>30){r.msg="too many length or distance symbols",e.mode=Ei;break}e.have=0,e.mode=jX;case jX:for(;e.have<e.ncode;){for(;c<3;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}e.lens[R[e.have++]]=u&7,u>>>=3,c-=3}for(;e.have<19;)e.lens[R[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,P={bits:e.lenbits},N=nb(mXe,e.lens,0,19,e.lencode,0,e.work,P),e.lenbits=P.bits,N){r.msg="invalid code lengths set",e.mode=Ei;break}e.have=0,e.mode=UX;case UX:for(;e.have<e.nlen+e.ndist;){for(;g=e.lencode[u&(1<<e.lenbits)-1],m=g>>>24,v=g>>>16&255,y=g&65535,!(m<=c);){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}if(y<16)u>>>=m,c-=m,e.lens[e.have++]=y;else{if(y===16){for(D=m+2;c<D;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}if(u>>>=m,c-=m,e.have===0){r.msg="invalid bit length repeat",e.mode=Ei;break}I=e.lens[e.have-1],d=3+(u&3),u>>>=2,c-=2}else if(y===17){for(D=m+3;c<D;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}u>>>=m,c-=m,I=0,d=3+(u&7),u>>>=3,c-=3}else{for(D=m+7;c<D;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}u>>>=m,c-=m,I=0,d=11+(u&127),u>>>=7,c-=7}if(e.have+d>e.nlen+e.ndist){r.msg="invalid bit length repeat",e.mode=Ei;break}for(;d--;)e.lens[e.have++]=I}}if(e.mode===Ei)break;if(e.lens[256]===0){r.msg="invalid code -- missing end-of-block",e.mode=Ei;break}if(e.lenbits=9,P={bits:e.lenbits},N=nb(Hfe,e.lens,0,e.nlen,e.lencode,0,e.work,P),e.lenbits=P.bits,N){r.msg="invalid literal/lengths set",e.mode=Ei;break}if(e.distbits=6,e.distcode=e.distdyn,P={bits:e.distbits},N=nb(Qfe,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,P),e.distbits=P.bits,N){r.msg="invalid distances set",e.mode=Ei;break}if(e.mode=u3,t===l3)break e;case u3:e.mode=c3;case c3:if(o>=6&&l>=258){r.next_out=s,r.avail_out=l,r.next_in=a,r.avail_in=o,e.hold=u,e.bits=c,fXe(r,h),s=r.next_out,i=r.output,l=r.avail_out,a=r.next_in,n=r.input,o=r.avail_in,u=e.hold,c=e.bits,e.mode===ih&&(e.back=-1);break}for(e.back=0;g=e.lencode[u&(1<<e.lenbits)-1],m=g>>>24,v=g>>>16&255,y=g&65535,!(m<=c);){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}if(v&&!(v&240)){for(b=m,_=v,T=y;g=e.lencode[T+((u&(1<<b+_)-1)>>b)],m=g>>>24,v=g>>>16&255,y=g&65535,!(b+m<=c);){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}u>>>=b,c-=b,e.back+=b}if(u>>>=m,c-=m,e.back+=m,e.length=y,v===0){e.mode=GX;break}if(v&32){e.back=-1,e.mode=ih;break}if(v&64){r.msg="invalid literal/length code",e.mode=Ei;break}e.extra=v&15,e.mode=HX;case HX:if(e.extra){for(D=e.extra;c<D;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}e.length+=u&(1<<e.extra)-1,u>>>=e.extra,c-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=QX;case QX:for(;g=e.distcode[u&(1<<e.distbits)-1],m=g>>>24,v=g>>>16&255,y=g&65535,!(m<=c);){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}if(!(v&240)){for(b=m,_=v,T=y;g=e.distcode[T+((u&(1<<b+_)-1)>>b)],m=g>>>24,v=g>>>16&255,y=g&65535,!(b+m<=c);){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}u>>>=b,c-=b,e.back+=b}if(u>>>=m,c-=m,e.back+=m,v&64){r.msg="invalid distance code",e.mode=Ei;break}e.offset=y,e.extra=v&15,e.mode=zX;case zX:if(e.extra){for(D=e.extra;c<D;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}e.offset+=u&(1<<e.extra)-1,u>>>=e.extra,c-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){r.msg="invalid distance too far back",e.mode=Ei;break}e.mode=VX;case VX:if(l===0)break e;if(d=h-l,e.offset>d){if(d=e.offset-d,d>e.whave&&e.sane){r.msg="invalid distance too far back",e.mode=Ei;break}d>e.wnext?(d-=e.wnext,A=e.wsize-d):A=e.wnext-d,d>e.length&&(d=e.length),p=e.window}else p=i,A=s-e.offset,d=e.length;d>l&&(d=l),l-=d,e.length-=d;do i[s++]=p[A++];while(--d);e.length===0&&(e.mode=c3);break;case GX:if(l===0)break e;i[s++]=e.length,l--,e.mode=c3;break;case bN:if(e.wrap){for(;c<32;){if(o===0)break e;o--,u|=n[a++]<<c,c+=8}if(h-=l,r.total_out+=h,e.total+=h,e.wrap&4&&h&&(r.adler=e.check=e.flags?os(e.check,i,h,s-h):bw(e.check,i,h,s-h)),h=l,e.wrap&4&&(e.flags?u:KX(u))!==e.check){r.msg="incorrect data check",e.mode=Ei;break}u=0,c=0}e.mode=WX;case WX:if(e.wrap&&e.flags){for(;c<32;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}if(e.wrap&4&&u!==(e.total&4294967295)){r.msg="incorrect length check",e.mode=Ei;break}u=0,c=0}e.mode=$X;case $X:N=yXe;break e;case Ei:N=zfe;break e;case Gfe:return Vfe;case Wfe:default:return Iu}return r.next_out=s,r.avail_out=l,r.next_in=a,r.avail_in=o,e.hold=u,e.bits=c,(e.wsize||h!==r.avail_out&&e.mode<Ei&&(e.mode<bN||t!==CX))&&Yfe(r,r.output,r.next_out,h-r.avail_out),f-=r.avail_in,h-=r.avail_out,r.total_in+=f,r.total_out+=h,e.total+=h,e.wrap&4&&h&&(r.adler=e.check=e.flags?os(e.check,i,h,r.next_out-h):bw(e.check,i,h,r.next_out-h)),r.data_type=e.bits+(e.last?64:0)+(e.mode===ih?128:0)+(e.mode===u3||e.mode===xN?256:0),(f===0&&h===0||t===CX)&&N===Dg&&(N=bXe),N},NXe=r=>{if(Jg(r))return Iu;let t=r.state;return t.window&&(t.window=null),r.state=null,Dg},FXe=(r,t)=>{if(Jg(r))return Iu;const e=r.state;return e.wrap&2?(e.head=t,t.done=!1,Dg):Iu},IXe=(r,t)=>{const e=t.length;let n,i,a;return Jg(r)||(n=r.state,n.wrap!==0&&n.mode!==yC)?Iu:n.mode===yC&&(i=1,i=bw(i,t,e,0),i!==n.check)?zfe:(a=Yfe(r,t,e,e),a?(n.mode=Gfe,Vfe):(n.havedict=1,Dg))};var MXe=Kfe,LXe=qfe,DXe=$fe,PXe=TXe,RXe=Xfe,OXe=kXe,jXe=NXe,UXe=FXe,HXe=IXe,QXe="pako inflate (from Nodeca project)",Ah={inflateReset:MXe,inflateReset2:LXe,inflateResetKeep:DXe,inflateInit:PXe,inflateInit2:RXe,inflate:OXe,inflateEnd:jXe,inflateGetHeader:UXe,inflateSetDictionary:HXe,inflateInfo:QXe};function zXe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var VXe=zXe;const Zfe=Object.prototype.toString,{Z_NO_FLUSH:GXe,Z_FINISH:WXe,Z_OK:Sw,Z_STREAM_END:SN,Z_NEED_DICT:CN,Z_STREAM_ERROR:$Xe,Z_DATA_ERROR:XX,Z_MEM_ERROR:KXe}=p_;function m_(r){this.options=tB.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(r&&r.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new jfe,this.strm.avail_out=0;let e=Ah.inflateInit2(this.strm,t.windowBits);if(e!==Sw)throw new Error(V1[e]);if(this.header=new VXe,Ah.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=_w.string2buf(t.dictionary):Zfe.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=Ah.inflateSetDictionary(this.strm,t.dictionary),e!==Sw)))throw new Error(V1[e])}m_.prototype.push=function(r,t){const e=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?WXe:GXe,Zfe.call(r)==="[object ArrayBuffer]"?e.input=new Uint8Array(r):e.input=r,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),a=Ah.inflate(e,s),a===CN&&i&&(a=Ah.inflateSetDictionary(e,i),a===Sw?a=Ah.inflate(e,s):a===XX&&(a=CN));e.avail_in>0&&a===SN&&e.state.wrap>0&&r[e.next_in]!==0;)Ah.inflateReset(e),a=Ah.inflate(e,s);switch(a){case $Xe:case XX:case CN:case KXe:return this.onEnd(a),this.ended=!0,!1}if(o=e.avail_out,e.next_out&&(e.avail_out===0||a===SN))if(this.options.to==="string"){let l=_w.utf8border(e.output,e.next_out),u=e.next_out-l,c=_w.buf2string(e.output,l);e.next_out=u,e.avail_out=n-u,u&&e.output.set(e.output.subarray(l,l+u),0),this.onData(c)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(a===Sw&&o===0)){if(a===SN)return a=Ah.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};m_.prototype.onData=function(r){this.chunks.push(r)};m_.prototype.onEnd=function(r){r===Sw&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=tB.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function eO(r,t){const e=new m_(t);if(e.push(r),e.err)throw e.msg||V1[e.err];return e.result}function qXe(r,t){return t=t||{},t.raw=!0,eO(r,t)}var XXe=m_,YXe=eO,ZXe=qXe,JXe=eO,eYe=p_,tYe={Inflate:XXe,inflate:YXe,inflateRaw:ZXe,ungzip:JXe,constants:eYe};const{Inflate:rYe,inflate:nYe,inflateRaw:CJe,ungzip:BJe}=tYe;var YX=rYe,iYe=nYe;const Jfe=[];for(let r=0;r<256;r++){let t=r;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;Jfe[r]=t}const ZX=4294967295;function aYe(r,t,e){let n=r;for(let i=0;i<e;i++)n=Jfe[(n^t[i])&255]^n>>>8;return n}function sYe(r,t){return(aYe(ZX,r,t)^ZX)>>>0}function JX(r,t,e){const n=r.readUint32(),i=sYe(new Uint8Array(r.buffer,r.byteOffset+r.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${e}. Expected ${n}, found ${i}`)}function ehe(r,t,e){for(let n=0;n<e;n++)t[n]=r[n]}function the(r,t,e,n){let i=0;for(;i<n;i++)t[i]=r[i];for(;i<e;i++)t[i]=r[i]+t[i-n]&255}function rhe(r,t,e,n){let i=0;if(e.length===0)for(;i<n;i++)t[i]=r[i];else for(;i<n;i++)t[i]=r[i]+e[i]&255}function nhe(r,t,e,n,i){let a=0;if(e.length===0){for(;a<i;a++)t[a]=r[a];for(;a<n;a++)t[a]=r[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=r[a]+(e[a]>>1)&255;for(;a<n;a++)t[a]=r[a]+(t[a-i]+e[a]>>1)&255}}function ihe(r,t,e,n,i){let a=0;if(e.length===0){for(;a<i;a++)t[a]=r[a];for(;a<n;a++)t[a]=r[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=r[a]+e[a]&255;for(;a<n;a++)t[a]=r[a]+oYe(t[a-i],e[a],e[a-i])&255}}function oYe(r,t,e){const n=r+t-e,i=Math.abs(n-r),a=Math.abs(n-t),s=Math.abs(n-e);return i<=a&&i<=s?r:a<=s?t:e}function lYe(r,t,e,n,i,a){switch(r){case 0:ehe(t,e,i);break;case 1:the(t,e,i,a);break;case 2:rhe(t,e,n,i);break;case 3:nhe(t,e,n,i,a);break;case 4:ihe(t,e,n,i,a);break;default:throw new Error(`Unsupported filter: ${r}`)}}const uYe=new Uint16Array([255]),cYe=new Uint8Array(uYe.buffer),fYe=cYe[0]===255;function hYe(r){const{data:t,width:e,height:n,channels:i,depth:a}=r,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(n*e*o);let u=0;for(let c=0;c<7;c++){const f=s[c],h=Math.ceil((e-f.x)/f.xStep),d=Math.ceil((n-f.y)/f.yStep);if(h<=0||d<=0)continue;const A=h*o,p=new Uint8Array(A);for(let g=0;g<d;g++){const m=t[u++],v=t.subarray(u,u+A);u+=A;const y=new Uint8Array(A);lYe(m,v,y,p,A,o),p.set(y);for(let b=0;b<h;b++){const _=f.x+b*f.xStep,T=f.y+g*f.yStep;if(!(_>=e||T>=n))for(let I=0;I<o;I++)l[(T*e+_)*o+I]=y[b*o+I]}}}if(a===16){const c=new Uint16Array(l.buffer);if(fYe)for(let f=0;f<c.length;f++)c[f]=dYe(c[f]);return c}else return l}function dYe(r){return(r&255)<<8|r>>8&255}const AYe=new Uint16Array([255]),pYe=new Uint8Array(AYe.buffer),gYe=pYe[0]===255,mYe=new Uint8Array(0);function eY(r){const{data:t,width:e,height:n,channels:i,depth:a}=r,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*e),l=new Uint8Array(n*o);let u=mYe,c=0,f,h;for(let d=0;d<n;d++){switch(f=t.subarray(c+1,c+1+o),h=l.subarray(d*o,(d+1)*o),t[c]){case 0:ehe(f,h,o);break;case 1:the(f,h,o,s);break;case 2:rhe(f,h,u,o);break;case 3:nhe(f,h,u,o,s);break;case 4:ihe(f,h,u,o,s);break;default:throw new Error(`Unsupported filter: ${t[c]}`)}u=h,c+=o+1}if(a===16){const d=new Uint16Array(l.buffer);if(gYe)for(let A=0;A<d.length;A++)d[A]=vYe(d[A]);return d}else return l}function vYe(r){return(r&255)<<8|r>>8&255}const tS=Uint8Array.of(137,80,78,71,13,10,26,10);function tY(r){if(!yYe(r.readBytes(tS.length)))throw new Error("wrong PNG signature")}function yYe(r){if(r.length<tS.length)return!1;for(let t=0;t<tS.length;t++)if(r[t]!==tS[t])return!1;return!0}const xYe="tEXt",bYe=0,ahe=new TextDecoder("latin1");function wYe(r){if(SYe(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const _Ye=/^[\u0000-\u00FF]*$/;function SYe(r){if(!_Ye.test(r))throw new Error("invalid latin1 text")}function CYe(r,t,e){const n=she(t);r[n]=BYe(t,e-n.length-1)}function she(r){for(r.mark();r.readByte()!==bYe;);const t=r.offset;r.reset();const e=ahe.decode(r.readBytes(t-r.offset-1));return r.skip(1),wYe(e),e}function BYe(r,t){return ahe.decode(r.readBytes(t))}const xl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},BN={UNKNOWN:-1,DEFLATE:0},rY={UNKNOWN:-1,ADAPTIVE:0},TN={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},f3={NONE:0,BACKGROUND:1,PREVIOUS:2},EN={SOURCE:0,OVER:1};class TYe extends $R{constructor(e,n={}){super(e);Xn(this,"_checkCrc");Xn(this,"_inflator");Xn(this,"_png");Xn(this,"_apng");Xn(this,"_end");Xn(this,"_hasPalette");Xn(this,"_palette");Xn(this,"_hasTransparency");Xn(this,"_transparency");Xn(this,"_compressionMethod");Xn(this,"_filterMethod");Xn(this,"_interlaceMethod");Xn(this,"_colorType");Xn(this,"_isAnimated");Xn(this,"_numberOfFrames");Xn(this,"_numberOfPlays");Xn(this,"_frames");Xn(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new YX,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=BN.UNKNOWN,this._filterMethod=rY.UNKNOWN,this._interlaceMethod=TN.UNKNOWN,this._colorType=xl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(tY(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(tY(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case xYe:CYe(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?JX(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=i+e;break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?JX(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=EYe(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case xl.GREYSCALE:i=1;break;case xl.TRUECOLOUR:i=3;break;case xl.INDEXED_COLOUR:i=1;break;case xl.GREYSCALE_ALPHA:i=2;break;case xl.TRUECOLOUR_ALPHA:i=4;break;case xl.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==BN.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case xl.GREYSCALE:case xl.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case xl.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case xl.UNKNOWN:case xl.GREYSCALE_ALPHA:case xl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=she(this),i=this.readUint8();if(i!==BN.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:iYe(a)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:e,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(e);if(i){if(i.data=eY({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,i){switch(e.disposeOp){case f3.NONE:break;case f3.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*e.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case f3.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,u=(s*n.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(n.blendOp){case EN.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=a(s,o);for(let c=0;c<this._png.channels;c++)e.data[l+c]=n.data[u+c]}break;case EN.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=a(s,o);for(let c=0;c<this._png.channels;c++){const f=n.data[u+this._png.channels-1]/i,h=c%(this._png.channels-1)===0?1:n.data[u+c],d=Math.floor(f*h+(1-f)*e.data[l+c]);e.data[l+c]+=d}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==rY.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===TN.NO_INTERLACE)this._png.data=eY({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===TN.ADAM7)this._png.data=hYe({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:f3.NONE,blendOp:EN.SOURCE,data:e}),this._inflator=new YX,this._writingDataChunks=!1}}function EYe(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var nY;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(nY||(nY={}));function kYe(r,t){return new TYe(r,t).decode()}var Yr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function kN(){Yr.console&&typeof Yr.console.log=="function"&&Yr.console.log.apply(Yr.console,arguments)}var hi={log:kN,warn:function(r){Yr.console&&(typeof Yr.console.warn=="function"?Yr.console.warn.apply(Yr.console,arguments):kN.call(null,arguments))},error:function(r){Yr.console&&(typeof Yr.console.error=="function"?Yr.console.error.apply(Yr.console,arguments):kN(r))}};function NN(r,t,e){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){mp(n.response,t,e)},n.onerror=function(){hi.error("could not download file")},n.send()}function iY(r){var t=new XMLHttpRequest;t.open("HEAD",r,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function h3(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(t)}}var mp=Yr.saveAs||((typeof window>"u"?"undefined":ei(window))!=="object"||window!==Yr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,t,e){var n=Yr.URL||Yr.webkitURL,i=document.createElement("a");t=t||r.name||"download",i.download=t,i.rel="noopener",typeof r=="string"?(i.href=r,i.origin!==location.origin?iY(i.href)?NN(r,t,e):h3(i,i.target="_blank"):h3(i)):(i.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){h3(i)},0))}:"msSaveOrOpenBlob"in navigator?function(r,t,e){if(t=t||r.name||"download",typeof r=="string")if(iY(r))NN(r,t,e);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){h3(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:ei(a)!=="object"&&(hi.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(r,e),t)}:function(r,t,e,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return NN(r,t,e);var i=r.type==="application/octet-stream",a=/constructor/i.test(Yr.HTMLElement)||Yr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":ei(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var c=o.result;c=s?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},o.readAsDataURL(r)}else{var l=Yr.URL||Yr.webkitURL,u=l.createObjectURL(r);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function ohe(r){var t;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<e.length;n++){var i=e[n].re,a=e[n].process,s=i.exec(r);s&&(t=a(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var rS=Yr.atob.bind(Yr),aY=Yr.btoa.bind(Yr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function FN(r,t){var e=r[0],n=r[1],i=r[2],a=r[3];e=Xs(e,n,i,a,t[0],7,-680876936),a=Xs(a,e,n,i,t[1],12,-389564586),i=Xs(i,a,e,n,t[2],17,606105819),n=Xs(n,i,a,e,t[3],22,-1044525330),e=Xs(e,n,i,a,t[4],7,-176418897),a=Xs(a,e,n,i,t[5],12,1200080426),i=Xs(i,a,e,n,t[6],17,-1473231341),n=Xs(n,i,a,e,t[7],22,-45705983),e=Xs(e,n,i,a,t[8],7,1770035416),a=Xs(a,e,n,i,t[9],12,-1958414417),i=Xs(i,a,e,n,t[10],17,-42063),n=Xs(n,i,a,e,t[11],22,-1990404162),e=Xs(e,n,i,a,t[12],7,1804603682),a=Xs(a,e,n,i,t[13],12,-40341101),i=Xs(i,a,e,n,t[14],17,-1502002290),e=Ys(e,n=Xs(n,i,a,e,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Ys(a,e,n,i,t[6],9,-1069501632),i=Ys(i,a,e,n,t[11],14,643717713),n=Ys(n,i,a,e,t[0],20,-373897302),e=Ys(e,n,i,a,t[5],5,-701558691),a=Ys(a,e,n,i,t[10],9,38016083),i=Ys(i,a,e,n,t[15],14,-660478335),n=Ys(n,i,a,e,t[4],20,-405537848),e=Ys(e,n,i,a,t[9],5,568446438),a=Ys(a,e,n,i,t[14],9,-1019803690),i=Ys(i,a,e,n,t[3],14,-187363961),n=Ys(n,i,a,e,t[8],20,1163531501),e=Ys(e,n,i,a,t[13],5,-1444681467),a=Ys(a,e,n,i,t[2],9,-51403784),i=Ys(i,a,e,n,t[7],14,1735328473),e=Zs(e,n=Ys(n,i,a,e,t[12],20,-1926607734),i,a,t[5],4,-378558),a=Zs(a,e,n,i,t[8],11,-2022574463),i=Zs(i,a,e,n,t[11],16,1839030562),n=Zs(n,i,a,e,t[14],23,-35309556),e=Zs(e,n,i,a,t[1],4,-1530992060),a=Zs(a,e,n,i,t[4],11,1272893353),i=Zs(i,a,e,n,t[7],16,-155497632),n=Zs(n,i,a,e,t[10],23,-1094730640),e=Zs(e,n,i,a,t[13],4,681279174),a=Zs(a,e,n,i,t[0],11,-358537222),i=Zs(i,a,e,n,t[3],16,-722521979),n=Zs(n,i,a,e,t[6],23,76029189),e=Zs(e,n,i,a,t[9],4,-640364487),a=Zs(a,e,n,i,t[12],11,-421815835),i=Zs(i,a,e,n,t[15],16,530742520),e=Js(e,n=Zs(n,i,a,e,t[2],23,-995338651),i,a,t[0],6,-198630844),a=Js(a,e,n,i,t[7],10,1126891415),i=Js(i,a,e,n,t[14],15,-1416354905),n=Js(n,i,a,e,t[5],21,-57434055),e=Js(e,n,i,a,t[12],6,1700485571),a=Js(a,e,n,i,t[3],10,-1894986606),i=Js(i,a,e,n,t[10],15,-1051523),n=Js(n,i,a,e,t[1],21,-2054922799),e=Js(e,n,i,a,t[8],6,1873313359),a=Js(a,e,n,i,t[15],10,-30611744),i=Js(i,a,e,n,t[6],15,-1560198380),n=Js(n,i,a,e,t[13],21,1309151649),e=Js(e,n,i,a,t[4],6,-145523070),a=Js(a,e,n,i,t[11],10,-1120210379),i=Js(i,a,e,n,t[2],15,718787259),n=Js(n,i,a,e,t[9],21,-343485551),r[0]=wA(e,r[0]),r[1]=wA(n,r[1]),r[2]=wA(i,r[2]),r[3]=wA(a,r[3])}function nB(r,t,e,n,i,a){return t=wA(wA(t,r),wA(n,a)),wA(t<<i|t>>>32-i,e)}function Xs(r,t,e,n,i,a,s){return nB(t&e|~t&n,r,t,i,a,s)}function Ys(r,t,e,n,i,a,s){return nB(t&n|e&~n,r,t,i,a,s)}function Zs(r,t,e,n,i,a,s){return nB(t^e^n,r,t,i,a,s)}function Js(r,t,e,n,i,a,s){return nB(e^(t|~n),r,t,i,a,s)}function lhe(r){var t,e=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=r.length;t+=64)FN(n,NYe(r.substring(t-64,t)));r=r.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r.length;t++)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(FN(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*e,FN(n,i),n}function NYe(r){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=r.charCodeAt(t)+(r.charCodeAt(t+1)<<8)+(r.charCodeAt(t+2)<<16)+(r.charCodeAt(t+3)<<24);return e}var sY="0123456789abcdef".split("");function FYe(r){for(var t="",e=0;e<4;e++)t+=sY[r>>8*e+4&15]+sY[r>>8*e&15];return t}function IYe(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function fL(r){return lhe(r).map(IYe).join("")}var MYe=function(r){for(var t=0;t<r.length;t++)r[t]=FYe(r[t]);return r.join("")}(lhe("hello"))!="5d41402abc4b2a76b9719d911017c592";function wA(r,t){if(MYe){var e=(65535&r)+(65535&t);return(r>>16)+(t>>16)+(e>>16)<<16|65535&e}return r+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function hL(r,t){var e,n,i,a;if(r!==e){for(var s=(i=r,a=1+(256/r.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var c=o[l];u=(u+c+s.charCodeAt(l))%256,o[l]=o[u],o[u]=c}e=r,n=o}else o=n;var f=t.length,h=0,d=0,A="";for(l=0;l<f;l++)d=(d+(c=o[h=(h+1)%256]))%256,o[h]=o[d],o[d]=c,s=o[(o[h]+o[d])%256],A+=String.fromCharCode(t.charCodeAt(l)^s);return A}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var oY={print:4,modify:8,copy:16,"annot-forms":32};function uv(r,t,e,n){this.v=1,this.r=2;var i=192;r.forEach(function(o){if(oY.perm!==void 0)throw new Error("Invalid permission: "+o);i+=oY[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),s=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=fL(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=hL(this.encryptionKey,this.padding)}function cv(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var t="",e=r.length,n=0;n<e;n++){var i=r.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):r[n]}return t}function lY(r){if(ei(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,i){if(i=i||!1,typeof e!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var a=Math.random().toString(35);return t[e][a]=[n,!!i],a},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[e]){var s=t[e][a];try{s[0].apply(r,n)}catch(o){Yr.console&&hi.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function xC(r){if(!(this instanceof xC))return new xC(r);var t="opacity,stroke-opacity".split(",");for(var e in r)r.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=r[e]);this.id="",this.objectNumber=-1}function uhe(r,t){this.gState=r,this.matrix=t,this.id="",this.objectNumber=-1}function Bp(r,t,e,n,i){if(!(this instanceof Bp))return new Bp(r,t,e,n,i);this.type=r==="axial"?2:3,this.coords=t,this.colors=e,uhe.call(this,n,i)}function Mv(r,t,e,n,i){if(!(this instanceof Mv))return new Mv(r,t,e,n,i);this.boundingBox=r,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,uhe.call(this,n,i)}function br(r){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,u="S",c=null;ei(r=r||{})==="object"&&(e=r.orientation,n=r.unit||n,i=r.format||i,a=r.compress||r.compressPdf||a,(c=r.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),o=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(t=r.precision),r.floatPrecision!==void 0&&(l=r.floatPrecision),u=r.defaultPathOperation||"S"),s=r.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",e=(""+(e||"P")).toLowerCase();var f=r.putOnlyUsedFonts||!1,h={},d={internal:{},__private__:{}};d.__private__.PubSub=lY;var A="1.3",p=d.__private__.getPdfVersion=function(){return A};d.__private__.setPdfVersion=function(Y){A=Y};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return g};var m=d.__private__.getPageFormat=function(Y){return g[Y]};i=i||"a4";var v="compat",y="advanced",b=v;function _(){this.saveGraphicsState(),te(new It(at,0,0,-at,0,b0()*at).toString()+" cm"),this.setFontSize(this.getFontSize()/at),u="n",b=y}function T(){this.restoreGraphicsState(),u="S",b=v}var I=d.__private__.combineFontStyleAndFontWeight=function(Y,ce){if(Y=="bold"&&ce=="normal"||Y=="bold"&&ce==400||Y=="normal"&&ce=="italic"||Y=="bold"&&ce=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ce&&(Y=ce==400||ce==="normal"?Y==="italic"?"italic":"normal":ce!=700&&ce!=="bold"||Y!=="normal"?(ce==700?"bold":ce)+""+Y:"bold"),Y};d.advancedAPI=function(Y){var ce=b===v;return ce&&_.call(this),typeof Y!="function"||(Y(this),ce&&T.call(this)),this},d.compatAPI=function(Y){var ce=b===y;return ce&&T.call(this),typeof Y!="function"||(Y(this),ce&&_.call(this)),this},d.isAdvancedAPI=function(){return b===y};var N,F=function(Y){if(b!==y)throw new Error(Y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},P=d.roundToPrecision=d.__private__.roundToPrecision=function(Y,ce){var Le=t||ce;if(isNaN(Y)||isNaN(Le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Y.toFixed(Le).replace(/0+$/,"")};N=d.hpf=d.__private__.hpf=typeof l=="number"?function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.hpf");return P(Y,l)}:l==="smart"?function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.hpf");return P(Y,Y>-1&&Y<1?16:5)}:function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.hpf");return P(Y,16)};var D=d.f2=d.__private__.f2=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.f2");return P(Y,2)},R=d.__private__.f3=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.f3");return P(Y,3)},E=d.scale=d.__private__.scale=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.scale");return b===v?Y*at:b===y?Y:void 0},L=function(Y){return E(function(ce){return b===v?b0()-ce:b===y?ce:void 0}(Y))};d.__private__.setPrecision=d.setPrecision=function(Y){typeof parseInt(Y,10)=="number"&&(t=parseInt(Y,10))};var k,w="00000000000000000000000000000000",C=d.__private__.getFileId=function(){return w},S=d.__private__.setFileId=function(Y){return w=Y!==void 0&&/^[a-fA-F0-9]{32}$/.test(Y)?Y.toUpperCase():w.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(zn=new uv(c.userPermissions,c.userPassword,c.ownerPassword,w)),w};d.setFileId=function(Y){return S(Y),this},d.getFileId=function(){return C()};var B=d.__private__.convertDateToPDFDate=function(Y){var ce=Y.getTimezoneOffset(),Le=ce<0?"+":"-",ze=Math.floor(Math.abs(ce/60)),ot=Math.abs(ce%60),Nt=[Le,Q(ze),"'",Q(ot),"'"].join("");return["D:",Y.getFullYear(),Q(Y.getMonth()+1),Q(Y.getDate()),Q(Y.getHours()),Q(Y.getMinutes()),Q(Y.getSeconds()),Nt].join("")},O=d.__private__.convertPDFDateToDate=function(Y){var ce=parseInt(Y.substr(2,4),10),Le=parseInt(Y.substr(6,2),10)-1,ze=parseInt(Y.substr(8,2),10),ot=parseInt(Y.substr(10,2),10),Nt=parseInt(Y.substr(12,2),10),Ot=parseInt(Y.substr(14,2),10);return new Date(ce,Le,ze,ot,Nt,Ot,0)},V=d.__private__.setCreationDate=function(Y){var ce;if(Y===void 0&&(Y=new Date),Y instanceof Date)ce=B(Y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ce=Y}return k=ce},M=d.__private__.getCreationDate=function(Y){var ce=k;return Y==="jsDate"&&(ce=O(k)),ce};d.setCreationDate=function(Y){return V(Y),this},d.getCreationDate=function(Y){return M(Y)};var U,Q=d.__private__.padd2=function(Y){return("0"+parseInt(Y)).slice(-2)},W=d.__private__.padd2Hex=function(Y){return("00"+(Y=Y.toString())).substr(Y.length)},j=0,X=[],z=[],H=0,K=[],Z=[],ie=!1,ee=z;d.__private__.setCustomOutputDestination=function(Y){ie=!0,ee=Y};var ne=function(Y){ie||(ee=Y)};d.__private__.resetCustomOutputDestination=function(){ie=!1,ee=z};var te=d.__private__.out=function(Y){return Y=Y.toString(),H+=Y.length+1,ee.push(Y),ee},le=d.__private__.write=function(Y){return te(arguments.length===1?Y.toString():Array.prototype.join.call(arguments," "))},re=d.__private__.getArrayBuffer=function(Y){for(var ce=Y.length,Le=new ArrayBuffer(ce),ze=new Uint8Array(Le);ce--;)ze[ce]=Y.charCodeAt(ce);return Le},de=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return de};var ue=r.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(Y){return ue=b===y?Y/at:Y,this};var Fe,Se=d.__private__.getFontSize=d.getFontSize=function(){return b===v?ue:ue*at},De=r.R2L||!1;d.__private__.setR2L=d.setR2L=function(Y){return De=Y,this},d.__private__.getR2L=d.getR2L=function(){return De};var ge,Be=d.__private__.setZoomMode=function(Y){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Y))Fe=Y;else if(isNaN(Y)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(Y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Y+'" is not recognized.');Fe=Y}else Fe=parseInt(Y,10)};d.__private__.getZoomMode=function(){return Fe};var Pe,st=d.__private__.setPageMode=function(Y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Y+'" is not recognized.');ge=Y};d.__private__.getPageMode=function(){return ge};var gt=d.__private__.setLayoutMode=function(Y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Y+'" is not recognized.');Pe=Y};d.__private__.getLayoutMode=function(){return Pe},d.__private__.setDisplayMode=d.setDisplayMode=function(Y,ce,Le){return Be(Y),gt(ce),st(Le),this};var we={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(Y){if(Object.keys(we).indexOf(Y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return we[Y]},d.__private__.getDocumentProperties=function(){return we},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(Y){for(var ce in we)we.hasOwnProperty(ce)&&Y[ce]&&(we[ce]=Y[ce]);return this},d.__private__.setDocumentProperty=function(Y,ce){if(Object.keys(we).indexOf(Y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return we[Y]=ce};var Oe,at,Ve,Qe,Ke,Ue={},We={},yt=[],Ne={},et={},ft={},lt={},St=null,ut=0,vt=[],Lt=new lY(d),zt=r.hotfixes||[],_t={},ar={},Tr=[],It=function Y(ce,Le,ze,ot,Nt,Ot){if(!(this instanceof Y))return new Y(ce,Le,ze,ot,Nt,Ot);isNaN(ce)&&(ce=1),isNaN(Le)&&(Le=0),isNaN(ze)&&(ze=0),isNaN(ot)&&(ot=1),isNaN(Nt)&&(Nt=0),isNaN(Ot)&&(Ot=0),this._matrix=[ce,Le,ze,ot,Nt,Ot]};Object.defineProperty(It.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Y){this._matrix[0]=Y}}),Object.defineProperty(It.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Y){this._matrix[1]=Y}}),Object.defineProperty(It.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Y){this._matrix[2]=Y}}),Object.defineProperty(It.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Y){this._matrix[3]=Y}}),Object.defineProperty(It.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Y){this._matrix[4]=Y}}),Object.defineProperty(It.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Y){this._matrix[5]=Y}}),Object.defineProperty(It.prototype,"a",{get:function(){return this._matrix[0]},set:function(Y){this._matrix[0]=Y}}),Object.defineProperty(It.prototype,"b",{get:function(){return this._matrix[1]},set:function(Y){this._matrix[1]=Y}}),Object.defineProperty(It.prototype,"c",{get:function(){return this._matrix[2]},set:function(Y){this._matrix[2]=Y}}),Object.defineProperty(It.prototype,"d",{get:function(){return this._matrix[3]},set:function(Y){this._matrix[3]=Y}}),Object.defineProperty(It.prototype,"e",{get:function(){return this._matrix[4]},set:function(Y){this._matrix[4]=Y}}),Object.defineProperty(It.prototype,"f",{get:function(){return this._matrix[5]},set:function(Y){this._matrix[5]=Y}}),Object.defineProperty(It.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(It.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(It.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(It.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),It.prototype.join=function(Y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(Y)},It.prototype.multiply=function(Y){var ce=Y.sx*this.sx+Y.shy*this.shx,Le=Y.sx*this.shy+Y.shy*this.sy,ze=Y.shx*this.sx+Y.sy*this.shx,ot=Y.shx*this.shy+Y.sy*this.sy,Nt=Y.tx*this.sx+Y.ty*this.shx+this.tx,Ot=Y.tx*this.shy+Y.ty*this.sy+this.ty;return new It(ce,Le,ze,ot,Nt,Ot)},It.prototype.decompose=function(){var Y=this.sx,ce=this.shy,Le=this.shx,ze=this.sy,ot=this.tx,Nt=this.ty,Ot=Math.sqrt(Y*Y+ce*ce),wr=(Y/=Ot)*Le+(ce/=Ot)*ze;Le-=Y*wr,ze-=ce*wr;var kr=Math.sqrt(Le*Le+ze*ze);return wr/=kr,Y*(ze/=kr)<ce*(Le/=kr)&&(Y=-Y,ce=-ce,wr=-wr,Ot=-Ot),{scale:new It(Ot,0,0,kr,0,0),translate:new It(1,0,0,1,ot,Nt),rotate:new It(Y,ce,-ce,Y,0,0),skew:new It(1,0,wr,1,0,0)}},It.prototype.toString=function(Y){return this.join(" ")},It.prototype.inversed=function(){var Y=this.sx,ce=this.shy,Le=this.shx,ze=this.sy,ot=this.tx,Nt=this.ty,Ot=1/(Y*ze-ce*Le),wr=ze*Ot,kr=-ce*Ot,Jr=-Le*Ot,tn=Y*Ot;return new It(wr,kr,Jr,tn,-wr*ot-Jr*Nt,-kr*ot-tn*Nt)},It.prototype.applyToPoint=function(Y){var ce=Y.x*this.sx+Y.y*this.shx+this.tx,Le=Y.x*this.shy+Y.y*this.sy+this.ty;return new rs(ce,Le)},It.prototype.applyToRectangle=function(Y){var ce=this.applyToPoint(Y),Le=this.applyToPoint(new rs(Y.x+Y.w,Y.y+Y.h));return new x0(ce.x,ce.y,Le.x-ce.x,Le.y-ce.y)},It.prototype.clone=function(){var Y=this.sx,ce=this.shy,Le=this.shx,ze=this.sy,ot=this.tx,Nt=this.ty;return new It(Y,ce,Le,ze,ot,Nt)},d.Matrix=It;var Ir=d.matrixMult=function(Y,ce){return ce.multiply(Y)},_r=new It(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=_r;var tr=function(Y,ce){if(!et[Y]){var Le=(ce instanceof Bp?"Sh":"P")+(Object.keys(Ne).length+1).toString(10);ce.id=Le,et[Y]=Le,Ne[Le]=ce,Lt.publish("addPattern",ce)}};d.ShadingPattern=Bp,d.TilingPattern=Mv,d.addShadingPattern=function(Y,ce){return F("addShadingPattern()"),tr(Y,ce),this},d.beginTilingPattern=function(Y){F("beginTilingPattern()"),Uf(Y.boundingBox[0],Y.boundingBox[1],Y.boundingBox[2]-Y.boundingBox[0],Y.boundingBox[3]-Y.boundingBox[1],Y.matrix)},d.endTilingPattern=function(Y,ce){F("endTilingPattern()"),ce.stream=Z[U].join(`
`),tr(Y,ce),Lt.publish("endTilingPattern",ce),Tr.pop().restore()};var je,Ye=d.__private__.newObject=function(){var Y=ht();return oe(Y,!0),Y},ht=d.__private__.newObjectDeferred=function(){return j++,X[j]=function(){return H},j},oe=function(Y,ce){return ce=typeof ce=="boolean"&&ce,X[Y]=H,ce&&te(Y+" 0 obj"),Y},ye=d.__private__.newAdditionalObject=function(){var Y={objId:ht(),content:""};return K.push(Y),Y},he=ht(),me=ht(),xe=d.__private__.decodeColorString=function(Y){var ce=Y.split(" ");if(ce.length!==2||ce[1]!=="g"&&ce[1]!=="G")ce.length!==5||ce[4]!=="k"&&ce[4]!=="K"||(ce=[(1-ce[0])*(1-ce[3]),(1-ce[1])*(1-ce[3]),(1-ce[2])*(1-ce[3]),"r"]);else{var Le=parseFloat(ce[0]);ce=[Le,Le,Le,"r"]}for(var ze="#",ot=0;ot<3;ot++)ze+=("0"+Math.floor(255*parseFloat(ce[ot])).toString(16)).slice(-2);return ze},be=d.__private__.encodeColorString=function(Y){var ce;typeof Y=="string"&&(Y={ch1:Y});var Le=Y.ch1,ze=Y.ch2,ot=Y.ch3,Nt=Y.ch4,Ot=Y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Le=="string"&&Le.charAt(0)!=="#"){var wr=new ohe(Le);if(wr.ok)Le=wr.toHex();else if(!/^\d*\.?\d*$/.test(Le))throw new Error('Invalid color "'+Le+'" passed to jsPDF.encodeColorString.')}if(typeof Le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Le)&&(Le="#"+Le[1]+Le[1]+Le[2]+Le[2]+Le[3]+Le[3]),typeof Le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Le)){var kr=parseInt(Le.substr(1),16);Le=kr>>16&255,ze=kr>>8&255,ot=255&kr}if(ze===void 0||Nt===void 0&&Le===ze&&ze===ot)ce=typeof Le=="string"?Le+" "+Ot[0]:Y.precision===2?D(Le/255)+" "+Ot[0]:R(Le/255)+" "+Ot[0];else if(Nt===void 0||ei(Nt)==="object"){if(Nt&&!isNaN(Nt.a)&&Nt.a===0)return["1.","1.","1.",Ot[1]].join(" ");ce=typeof Le=="string"?[Le,ze,ot,Ot[1]].join(" "):Y.precision===2?[D(Le/255),D(ze/255),D(ot/255),Ot[1]].join(" "):[R(Le/255),R(ze/255),R(ot/255),Ot[1]].join(" ")}else ce=typeof Le=="string"?[Le,ze,ot,Nt,Ot[2]].join(" "):Y.precision===2?[D(Le),D(ze),D(ot),D(Nt),Ot[2]].join(" "):[R(Le),R(ze),R(ot),R(Nt),Ot[2]].join(" ");return ce},He=d.__private__.getFilters=function(){return s},Ze=d.__private__.putStream=function(Y){var ce=(Y=Y||{}).data||"",Le=Y.filters||He(),ze=Y.alreadyAppliedFilters||[],ot=Y.addLength1||!1,Nt=ce.length,Ot=Y.objectId,wr=function(Pa){return Pa};if(c!==null&&Ot===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(wr=zn.encryptor(Ot,0));var kr={};Le===!0&&(Le=["FlateEncode"]);var Jr=Y.additionalKeyValues||[],tn=(kr=br.API.processDataByFilters!==void 0?br.API.processDataByFilters(ce,Le):{data:ce,reverseChain:[]}).reverseChain+(Array.isArray(ze)?ze.join(" "):ze.toString());if(kr.data.length!==0&&(Jr.push({key:"Length",value:kr.data.length}),ot===!0&&Jr.push({key:"Length1",value:Nt})),tn.length!=0)if(tn.split("/").length-1==1)Jr.push({key:"Filter",value:tn});else{Jr.push({key:"Filter",value:"["+tn+"]"});for(var Pn=0;Pn<Jr.length;Pn+=1)if(Jr[Pn].key==="DecodeParms"){for(var Ii=[],Sa=0;Sa<kr.reverseChain.split("/").length-1;Sa+=1)Ii.push("null");Ii.push(Jr[Pn].value),Jr[Pn].value="["+Ii.join(" ")+"]"}}te("<<");for(var Ai=0;Ai<Jr.length;Ai++)te("/"+Jr[Ai].key+" "+Jr[Ai].value);te(">>"),kr.data.length!==0&&(te("stream"),te(wr(kr.data)),te("endstream"))},$e=d.__private__.putPage=function(Y){var ce=Y.number,Le=Y.data,ze=Y.objId,ot=Y.contentsObjId;oe(ze,!0),te("<</Type /Page"),te("/Parent "+Y.rootDictionaryObjId+" 0 R"),te("/Resources "+Y.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(N(Y.mediaBox.bottomLeftX))+" "+parseFloat(N(Y.mediaBox.bottomLeftY))+" "+N(Y.mediaBox.topRightX)+" "+N(Y.mediaBox.topRightY)+"]"),Y.cropBox!==null&&te("/CropBox ["+N(Y.cropBox.bottomLeftX)+" "+N(Y.cropBox.bottomLeftY)+" "+N(Y.cropBox.topRightX)+" "+N(Y.cropBox.topRightY)+"]"),Y.bleedBox!==null&&te("/BleedBox ["+N(Y.bleedBox.bottomLeftX)+" "+N(Y.bleedBox.bottomLeftY)+" "+N(Y.bleedBox.topRightX)+" "+N(Y.bleedBox.topRightY)+"]"),Y.trimBox!==null&&te("/TrimBox ["+N(Y.trimBox.bottomLeftX)+" "+N(Y.trimBox.bottomLeftY)+" "+N(Y.trimBox.topRightX)+" "+N(Y.trimBox.topRightY)+"]"),Y.artBox!==null&&te("/ArtBox ["+N(Y.artBox.bottomLeftX)+" "+N(Y.artBox.bottomLeftY)+" "+N(Y.artBox.topRightX)+" "+N(Y.artBox.topRightY)+"]"),typeof Y.userUnit=="number"&&Y.userUnit!==1&&te("/UserUnit "+Y.userUnit),Lt.publish("putPage",{objId:ze,pageContext:vt[ce],pageNumber:ce,page:Le}),te("/Contents "+ot+" 0 R"),te(">>"),te("endobj");var Nt=Le.join(`
`);return b===y&&(Nt+=`
Q`),oe(ot,!0),Ze({data:Nt,filters:He(),objectId:ot}),te("endobj"),ze},nt=d.__private__.putPages=function(){var Y,ce,Le=[];for(Y=1;Y<=ut;Y++)vt[Y].objId=ht(),vt[Y].contentsObjId=ht();for(Y=1;Y<=ut;Y++)Le.push($e({number:Y,data:Z[Y],objId:vt[Y].objId,contentsObjId:vt[Y].contentsObjId,mediaBox:vt[Y].mediaBox,cropBox:vt[Y].cropBox,bleedBox:vt[Y].bleedBox,trimBox:vt[Y].trimBox,artBox:vt[Y].artBox,userUnit:vt[Y].userUnit,rootDictionaryObjId:he,resourceDictionaryObjId:me}));oe(he,!0),te("<</Type /Pages");var ze="/Kids [";for(ce=0;ce<ut;ce++)ze+=Le[ce]+" 0 R ";te(ze+"]"),te("/Count "+ut),te(">>"),te("endobj"),Lt.publish("postPutPages")},Ee=function(Y){Lt.publish("putFont",{font:Y,out:te,newObject:Ye,putStream:Ze}),Y.isAlreadyPutted!==!0&&(Y.objectNumber=Ye(),te("<<"),te("/Type /Font"),te("/BaseFont /"+cv(Y.postScriptName)),te("/Subtype /Type1"),typeof Y.encoding=="string"&&te("/Encoding /"+Y.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},rt=function(Y){Y.objectNumber=Ye();var ce=[];ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Form"}),ce.push({key:"BBox",value:"["+[N(Y.x),N(Y.y),N(Y.x+Y.width),N(Y.y+Y.height)].join(" ")+"]"}),ce.push({key:"Matrix",value:"["+Y.matrix.toString()+"]"});var Le=Y.pages[1].join(`
`);Ze({data:Le,additionalKeyValues:ce,objectId:Y.objectNumber}),te("endobj")},Bt=function(Y,ce){ce||(ce=21);var Le=Ye(),ze=function(Ot,wr){var kr,Jr=[],tn=1/(wr-1);for(kr=0;kr<1;kr+=tn)Jr.push(kr);if(Jr.push(1),Ot[0].offset!=0){var Pn={offset:0,color:Ot[0].color};Ot.unshift(Pn)}if(Ot[Ot.length-1].offset!=1){var Ii={offset:1,color:Ot[Ot.length-1].color};Ot.push(Ii)}for(var Sa="",Ai=0,Pa=0;Pa<Jr.length;Pa++){for(kr=Jr[Pa];kr>Ot[Ai+1].offset;)Ai++;var Ca=Ot[Ai].offset,vs=(kr-Ca)/(Ot[Ai+1].offset-Ca),ql=Ot[Ai].color,jo=Ot[Ai+1].color;Sa+=W(Math.round((1-vs)*ql[0]+vs*jo[0]).toString(16))+W(Math.round((1-vs)*ql[1]+vs*jo[1]).toString(16))+W(Math.round((1-vs)*ql[2]+vs*jo[2]).toString(16))}return Sa.trim()}(Y.colors,ce),ot=[];ot.push({key:"FunctionType",value:"0"}),ot.push({key:"Domain",value:"[0.0 1.0]"}),ot.push({key:"Size",value:"["+ce+"]"}),ot.push({key:"BitsPerSample",value:"8"}),ot.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ot.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ze({data:ze,additionalKeyValues:ot,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Le}),te("endobj"),Y.objectNumber=Ye(),te("<< /ShadingType "+Y.type),te("/ColorSpace /DeviceRGB");var Nt="/Coords ["+N(parseFloat(Y.coords[0]))+" "+N(parseFloat(Y.coords[1]))+" ";Y.type===2?Nt+=N(parseFloat(Y.coords[2]))+" "+N(parseFloat(Y.coords[3])):Nt+=N(parseFloat(Y.coords[2]))+" "+N(parseFloat(Y.coords[3]))+" "+N(parseFloat(Y.coords[4]))+" "+N(parseFloat(Y.coords[5])),te(Nt+="]"),Y.matrix&&te("/Matrix ["+Y.matrix.toString()+"]"),te("/Function "+Le+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},jt=function(Y,ce){var Le=ht(),ze=Ye();ce.push({resourcesOid:Le,objectOid:ze}),Y.objectNumber=ze;var ot=[];ot.push({key:"Type",value:"/Pattern"}),ot.push({key:"PatternType",value:"1"}),ot.push({key:"PaintType",value:"1"}),ot.push({key:"TilingType",value:"1"}),ot.push({key:"BBox",value:"["+Y.boundingBox.map(N).join(" ")+"]"}),ot.push({key:"XStep",value:N(Y.xStep)}),ot.push({key:"YStep",value:N(Y.yStep)}),ot.push({key:"Resources",value:Le+" 0 R"}),Y.matrix&&ot.push({key:"Matrix",value:"["+Y.matrix.toString()+"]"}),Ze({data:Y.stream,additionalKeyValues:ot,objectId:Y.objectNumber}),te("endobj")},Ae=function(Y){for(var ce in Y.objectNumber=Ye(),te("<<"),Y)switch(ce){case"opacity":te("/ca "+D(Y[ce]));break;case"stroke-opacity":te("/CA "+D(Y[ce]))}te(">>"),te("endobj")},Re=function(Y){oe(Y.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var ce in te("/Font <<"),Ue)Ue.hasOwnProperty(ce)&&(f===!1||f===!0&&h.hasOwnProperty(ce))&&te("/"+ce+" "+Ue[ce].objectNumber+" 0 R");te(">>")}(),function(){if(Object.keys(Ne).length>0){for(var ce in te("/Shading <<"),Ne)Ne.hasOwnProperty(ce)&&Ne[ce]instanceof Bp&&Ne[ce].objectNumber>=0&&te("/"+ce+" "+Ne[ce].objectNumber+" 0 R");Lt.publish("putShadingPatternDict"),te(">>")}}(),function(ce){if(Object.keys(Ne).length>0){for(var Le in te("/Pattern <<"),Ne)Ne.hasOwnProperty(Le)&&Ne[Le]instanceof d.TilingPattern&&Ne[Le].objectNumber>=0&&Ne[Le].objectNumber<ce&&te("/"+Le+" "+Ne[Le].objectNumber+" 0 R");Lt.publish("putTilingPatternDict"),te(">>")}}(Y.objectOid),function(){if(Object.keys(ft).length>0){var ce;for(ce in te("/ExtGState <<"),ft)ft.hasOwnProperty(ce)&&ft[ce].objectNumber>=0&&te("/"+ce+" "+ft[ce].objectNumber+" 0 R");Lt.publish("putGStateDict"),te(">>")}}(),function(){for(var ce in te("/XObject <<"),_t)_t.hasOwnProperty(ce)&&_t[ce].objectNumber>=0&&te("/"+ce+" "+_t[ce].objectNumber+" 0 R");Lt.publish("putXobjectDict"),te(">>")}(),te(">>"),te("endobj")},it=function(Y){We[Y.fontName]=We[Y.fontName]||{},We[Y.fontName][Y.fontStyle]=Y.id},bt=function(Y,ce,Le,ze,ot){var Nt={id:"F"+(Object.keys(Ue).length+1).toString(10),postScriptName:Y,fontName:ce,fontStyle:Le,encoding:ze,isStandardFont:ot||!1,metadata:{}};return Lt.publish("addFont",{font:Nt,instance:this}),Ue[Nt.id]=Nt,it(Nt),Nt.id},Pt=d.__private__.pdfEscape=d.pdfEscape=function(Y,ce){return function(Le,ze){var ot,Nt,Ot,wr,kr,Jr,tn,Pn,Ii;if(Ot=(ze=ze||{}).sourceEncoding||"Unicode",kr=ze.outputEncoding,(ze.autoencode||kr)&&Ue[Oe].metadata&&Ue[Oe].metadata[Ot]&&Ue[Oe].metadata[Ot].encoding&&(wr=Ue[Oe].metadata[Ot].encoding,!kr&&Ue[Oe].encoding&&(kr=Ue[Oe].encoding),!kr&&wr.codePages&&(kr=wr.codePages[0]),typeof kr=="string"&&(kr=wr[kr]),kr)){for(tn=!1,Jr=[],ot=0,Nt=Le.length;ot<Nt;ot++)(Pn=kr[Le.charCodeAt(ot)])?Jr.push(String.fromCharCode(Pn)):Jr.push(Le[ot]),Jr[ot].charCodeAt(0)>>8&&(tn=!0);Le=Jr.join("")}for(ot=Le.length;tn===void 0&&ot!==0;)Le.charCodeAt(ot-1)>>8&&(tn=!0),ot--;if(!tn)return Le;for(Jr=ze.noBOM?[]:[254,255],ot=0,Nt=Le.length;ot<Nt;ot++){if((Ii=(Pn=Le.charCodeAt(ot))>>8)>>8)throw new Error("Character at position "+ot+" of string '"+Le+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Jr.push(Ii),Jr.push(Pn-(Ii<<8))}return String.fromCharCode.apply(void 0,Jr)}(Y,ce).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Mt=d.__private__.beginPage=function(Y){Z[++ut]=[],vt[ut]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Y[0]),topRightY:Number(Y[1])}},Pr(ut),ne(Z[U])},Gt=function(Y,ce){var Le,ze,ot;switch(e=ce||e,typeof Y=="string"&&(Le=m(Y.toLowerCase()),Array.isArray(Le)&&(ze=Le[0],ot=Le[1])),Array.isArray(Y)&&(ze=Y[0]*at,ot=Y[1]*at),isNaN(ze)&&(ze=i[0],ot=i[1]),(ze>14400||ot>14400)&&(hi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ze=Math.min(14400,ze),ot=Math.min(14400,ot)),i=[ze,ot],e.substr(0,1)){case"l":ot>ze&&(i=[ot,ze]);break;case"p":ze>ot&&(i=[ot,ze])}Mt(i),Ou(ul),te(dr),sd!==0&&te(sd+" J"),od!==0&&te(od+" j"),Lt.publish("addPage",{pageNumber:ut})},jr=function(Y){Y>0&&Y<=ut&&(Z.splice(Y,1),vt.splice(Y,1),ut--,U>ut&&(U=ut),this.setPage(U))},Pr=function(Y){Y>0&&Y<=ut&&(U=Y)},Rr=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return Z.length-1},vr=function(Y,ce,Le){var ze,ot=void 0;return Le=Le||{},Y=Y!==void 0?Y:Ue[Oe].fontName,ce=ce!==void 0?ce:Ue[Oe].fontStyle,ze=Y.toLowerCase(),We[ze]!==void 0&&We[ze][ce]!==void 0?ot=We[ze][ce]:We[Y]!==void 0&&We[Y][ce]!==void 0?ot=We[Y][ce]:Le.disableWarning===!1&&hi.warn("Unable to look up font label for font '"+Y+"', '"+ce+"'. Refer to getFontList() for available fonts."),ot||Le.noFallback||(ot=We.times[ce])==null&&(ot=We.times.normal),ot},Wr=d.__private__.putInfo=function(){var Y=Ye(),ce=function(ze){return ze};for(var Le in c!==null&&(ce=zn.encryptor(Y,0)),te("<<"),te("/Producer ("+Pt(ce("jsPDF "+br.version))+")"),we)we.hasOwnProperty(Le)&&we[Le]&&te("/"+Le.substr(0,1).toUpperCase()+Le.substr(1)+" ("+Pt(ce(we[Le]))+")");te("/CreationDate ("+Pt(ce(k))+")"),te(">>"),te("endobj")},xn=d.__private__.putCatalog=function(Y){var ce=(Y=Y||{}).rootDictionaryObjId||he;switch(Ye(),te("<<"),te("/Type /Catalog"),te("/Pages "+ce+" 0 R"),Fe||(Fe="fullwidth"),Fe){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Le=""+Fe;Le.substr(Le.length-1)==="%"&&(Fe=parseInt(Fe)/100),typeof Fe=="number"&&te("/OpenAction [3 0 R /XYZ null null "+D(Fe)+"]")}switch(Pe||(Pe="continuous"),Pe){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}ge&&te("/PageMode /"+ge),Lt.publish("putCatalog"),te(">>"),te("endobj")},Qr=d.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(j+1)),te("/Root "+j+" 0 R"),te("/Info "+(j-1)+" 0 R"),c!==null&&te("/Encrypt "+zn.oid+" 0 R"),te("/ID [ <"+w+"> <"+w+"> ]"),te(">>")},Qn=d.__private__.putHeader=function(){te("%PDF-"+A),te("%")},bi=d.__private__.putXRef=function(){var Y="0000000000";te("xref"),te("0 "+(j+1)),te("0000000000 65535 f ");for(var ce=1;ce<=j;ce++)typeof X[ce]=="function"?te((Y+X[ce]()).slice(-10)+" 00000 n "):X[ce]!==void 0?te((Y+X[ce]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},ui=d.__private__.buildDocument=function(){var Y;j=0,H=0,z=[],X=[],K=[],he=ht(),me=ht(),ne(z),Lt.publish("buildDocument"),Qn(),nt(),function(){Lt.publish("putAdditionalObjects");for(var Le=0;Le<K.length;Le++){var ze=K[Le];oe(ze.objId,!0),te(ze.content),te("endobj")}Lt.publish("postPutAdditionalObjects")}(),Y=[],function(){for(var Le in Ue)Ue.hasOwnProperty(Le)&&(f===!1||f===!0&&h.hasOwnProperty(Le))&&Ee(Ue[Le])}(),function(){var Le;for(Le in ft)ft.hasOwnProperty(Le)&&Ae(ft[Le])}(),function(){for(var Le in _t)_t.hasOwnProperty(Le)&&rt(_t[Le])}(),function(Le){var ze;for(ze in Ne)Ne.hasOwnProperty(ze)&&(Ne[ze]instanceof Bp?Bt(Ne[ze]):Ne[ze]instanceof Mv&&jt(Ne[ze],Le))}(Y),Lt.publish("putResources"),Y.forEach(Re),Re({resourcesOid:me,objectOid:Number.MAX_SAFE_INTEGER}),Lt.publish("postPutResources"),c!==null&&(zn.oid=Ye(),te("<<"),te("/Filter /Standard"),te("/V "+zn.v),te("/R "+zn.r),te("/U <"+zn.toHexString(zn.U)+">"),te("/O <"+zn.toHexString(zn.O)+">"),te("/P "+zn.P),te(">>"),te("endobj")),Wr(),xn();var ce=H;return bi(),Qr(),te("startxref"),te(""+ce),te("%%EOF"),ne(Z[U]),z.join(`
`)},aa=d.__private__.getBlob=function(Y){return new Blob([re(Y)],{type:"application/pdf"})},Hi=d.output=d.__private__.output=(je=function(Y,ce){switch(typeof(ce=ce||{})=="string"?ce={filename:ce}:ce.filename=ce.filename||"generated.pdf",Y){case void 0:return ui();case"save":d.save(ce.filename);break;case"arraybuffer":return re(ui());case"blob":return aa(ui());case"bloburi":case"bloburl":if(Yr.URL!==void 0&&typeof Yr.URL.createObjectURL=="function")return Yr.URL&&Yr.URL.createObjectURL(aa(ui()))||void 0;hi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Le="",ze=ui();try{Le=aY(ze)}catch{Le=aY(unescape(encodeURIComponent(ze)))}return"data:application/pdf;filename="+ce.filename+";base64,"+Le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Yr)==="[object Window]"){var ot="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Nt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ce.pdfObjectUrl&&(ot=ce.pdfObjectUrl,Nt="");var Ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ot+'"'+Nt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ce)+");<\/script></body></html>",wr=Yr.open();return wr!==null&&wr.document.write(Ot),wr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Yr)==="[object Window]"){var kr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ce.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ce.filename+'" width="500px" height="400px" /></body></html>',Jr=Yr.open();if(Jr!==null){Jr.document.write(kr);var tn=this;Jr.document.documentElement.querySelector("#pdfViewer").onload=function(){Jr.document.title=ce.filename,Jr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(tn.output("bloburl"))}}return Jr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Yr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Pn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ce)+'"></iframe></body></html>',Ii=Yr.open();if(Ii!==null&&(Ii.document.write(Pn),Ii.document.title=ce.filename),Ii||typeof safari>"u")return Ii;break;case"datauri":case"dataurl":return Yr.document.location.href=this.output("datauristring",ce);default:return null}},je.foo=function(){try{return je.apply(this,arguments)}catch(Le){var Y=Le.stack||"";~Y.indexOf(" at ")&&(Y=Y.split(" at ")[1]);var ce="Error in function "+Y.split(`
`)[0].split("<")[0]+": "+Le.message;if(!Yr.console)throw new Error(ce);Yr.console.error(ce,Le),Yr.alert&&alert(ce)}},je.foo.bar=je,je.foo),zs=function(Y){return Array.isArray(zt)===!0&&zt.indexOf(Y)>-1};switch(n){case"pt":at=1;break;case"mm":at=72/25.4;break;case"cm":at=72/2.54;break;case"in":at=72;break;case"px":at=zs("px_scaling")==1?.75:96/72;break;case"pc":case"em":at=12;break;case"ex":at=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);at=n}var zn=null;V(),S();var Ro=d.__private__.getPageInfo=d.getPageInfo=function(Y){if(isNaN(Y)||Y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:vt[Y].objId,pageNumber:Y,pageContext:vt[Y]}},bn=d.__private__.getPageInfoByObjId=function(Y){if(isNaN(Y)||Y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ce in vt)if(vt[ce].objId===Y)break;return Ro(ce)},fn=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:vt[U].objId,pageNumber:U,pageContext:vt[U]}};d.addPage=function(){return Gt.apply(this,arguments),this},d.setPage=function(){return Pr.apply(this,arguments),ne.call(this,Z[U]),this},d.insertPage=function(Y){return this.addPage(),this.movePage(U,Y),this},d.movePage=function(Y,ce){var Le,ze;if(Y>ce){Le=Z[Y],ze=vt[Y];for(var ot=Y;ot>ce;ot--)Z[ot]=Z[ot-1],vt[ot]=vt[ot-1];Z[ce]=Le,vt[ce]=ze,this.setPage(ce)}else if(Y<ce){Le=Z[Y],ze=vt[Y];for(var Nt=Y;Nt<ce;Nt++)Z[Nt]=Z[Nt+1],vt[Nt]=vt[Nt+1];Z[ce]=Le,vt[ce]=ze,this.setPage(ce)}return this},d.deletePage=function(){return jr.apply(this,arguments),this},d.__private__.text=d.text=function(Y,ce,Le,ze,ot){var Nt,Ot,wr,kr,Jr,tn,Pn,Ii,Sa,Ai=(ze=ze||{}).scope||this;if(typeof Y=="number"&&typeof ce=="number"&&(typeof Le=="string"||Array.isArray(Le))){var Pa=Le;Le=ce,ce=Y,Y=Pa}if(arguments[3]instanceof It==0?(wr=arguments[4],kr=arguments[5],ei(Pn=arguments[3])==="object"&&Pn!==null||(typeof wr=="string"&&(kr=wr,wr=null),typeof Pn=="string"&&(kr=Pn,Pn=null),typeof Pn=="number"&&(wr=Pn,Pn=null),ze={flags:Pn,angle:wr,align:kr})):(F("The transform parameter of text() with a Matrix value"),Sa=ot),isNaN(ce)||isNaN(Le)||Y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Y.length===0)return Ai;var Ca,vs="",ql=typeof ze.lineHeightFactor=="number"?ze.lineHeightFactor:ho,jo=Ai.internal.scaleFactor;function __(Vn){return Vn=Vn.split("	").join(Array(ze.TabLen||9).join(" ")),Pt(Vn,Pn)}function tm(Vn){for(var ci,oa=Vn.concat(),Ra=[],Gf=oa.length;Gf--;)typeof(ci=oa.shift())=="string"?Ra.push(ci):Array.isArray(Vn)&&(ci.length===1||ci[1]===void 0&&ci[2]===void 0)?Ra.push(ci[0]):Ra.push([ci[0],ci[1],ci[2]]);return Ra}function w0(Vn,ci){var oa;if(typeof Vn=="string")oa=ci(Vn)[0];else if(Array.isArray(Vn)){for(var Ra,Gf,Ry=Vn.concat(),im=[],B_=Ry.length;B_--;)typeof(Ra=Ry.shift())=="string"?im.push(ci(Ra)[0]):Array.isArray(Ra)&&typeof Ra[0]=="string"&&(Gf=ci(Ra[0],Ra[1],Ra[2]),im.push([Gf[0],Gf[1],Gf[2]]));oa=im}return oa}var ld=!1,_0=!0;if(typeof Y=="string")ld=!0;else if(Array.isArray(Y)){var S0=Y.concat();Ot=[];for(var C0,Gs=S0.length;Gs--;)(typeof(C0=S0.shift())!="string"||Array.isArray(C0)&&typeof C0[0]!="string")&&(_0=!1);ld=_0}if(ld===!1)throw new Error('Type of text must be string or Array. "'+Y+'" is not recognized.');typeof Y=="string"&&(Y=Y.match(/[\r?\n]/)?Y.split(/\r\n|\r|\n/g):[Y]);var B0=ue/Ai.internal.scaleFactor,T0=B0*(ql-1);switch(ze.baseline){case"bottom":Le-=T0;break;case"top":Le+=B0-T0;break;case"hanging":Le+=B0-2*T0;break;case"middle":Le+=B0/2-T0}if((tn=ze.maxWidth||0)>0&&(typeof Y=="string"?Y=Ai.splitTextToSize(Y,tn):Object.prototype.toString.call(Y)==="[object Array]"&&(Y=Y.reduce(function(Vn,ci){return Vn.concat(Ai.splitTextToSize(ci,tn))},[]))),Nt={text:Y,x:ce,y:Le,options:ze,mutex:{pdfEscape:Pt,activeFontKey:Oe,fonts:Ue,activeFontSize:ue}},Lt.publish("preProcessText",Nt),Y=Nt.text,wr=(ze=Nt.options).angle,Sa instanceof It==0&&wr&&typeof wr=="number"){wr*=Math.PI/180,ze.rotationDirection===0&&(wr=-wr),b===y&&(wr=-wr);var Ey=Math.cos(wr),ky=Math.sin(wr);Sa=new It(Ey,ky,-ky,Ey,0,0)}else wr&&wr instanceof It&&(Sa=wr);b!==y||Sa||(Sa=_r),(Jr=ze.charSpace||_n)!==void 0&&(vs+=N(E(Jr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ii=ze.horizontalScale)!==void 0&&(vs+=N(100*Ii)+` Tz
`),ze.lang;var Qi=-1,zf=ze.renderingMode!==void 0?ze.renderingMode:ze.stroke,rm=Ai.internal.getCurrentPageInfo().pageContext;switch(zf){case 0:case!1:case"fill":Qi=0;break;case 1:case!0:case"stroke":Qi=1;break;case 2:case"fillThenStroke":Qi=2;break;case 3:case"invisible":Qi=3;break;case 4:case"fillAndAddForClipping":Qi=4;break;case 5:case"strokeAndAddPathForClipping":Qi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Qi=6;break;case 7:case"addToPathForClipping":Qi=7}var S_=rm.usedRenderingMode!==void 0?rm.usedRenderingMode:-1;Qi!==-1?vs+=Qi+` Tr
`:S_!==-1&&(vs+=`0 Tr
`),Qi!==-1&&(rm.usedRenderingMode=Qi),kr=ze.align||"left";var Xl,E0=ue*ql,Ny=Ai.internal.pageSize.getWidth(),Fy=Ue[Oe];Jr=ze.charSpace||_n,tn=ze.maxWidth||0,Pn=Object.assign({autoencode:!0,noBOM:!0},ze.flags);var ud=[],k0=function(Vn){return Ai.getStringUnitWidth(Vn,{font:Fy,charSpace:Jr,fontSize:ue,doKerning:!1})*ue/jo};if(Object.prototype.toString.call(Y)==="[object Array]"){var fl;Ot=tm(Y),kr!=="left"&&(Xl=Ot.map(k0));var hl,cd=0;if(kr==="right"){ce-=Xl[0],Y=[],Gs=Ot.length;for(var Vf=0;Vf<Gs;Vf++)Vf===0?(hl=Jt(ce),fl=yr(Le)):(hl=E(cd-Xl[Vf]),fl=-E0),Y.push([Ot[Vf],hl,fl]),cd=Xl[Vf]}else if(kr==="center"){ce-=Xl[0]/2,Y=[],Gs=Ot.length;for(var fd=0;fd<Gs;fd++)fd===0?(hl=Jt(ce),fl=yr(Le)):(hl=E((cd-Xl[fd])/2),fl=-E0),Y.push([Ot[fd],hl,fl]),cd=Xl[fd]}else if(kr==="left"){Y=[],Gs=Ot.length;for(var Iy=0;Iy<Gs;Iy++)Y.push(Ot[Iy])}else if(kr==="justify"&&Fy.encoding==="Identity-H"){Y=[],Gs=Ot.length,tn=tn!==0?tn:Ny;for(var nm=0,sa=0;sa<Gs;sa++)if(fl=sa===0?yr(Le):-E0,hl=sa===0?Jt(ce):nm,sa<Gs-1){var C_=E((tn-Xl[sa])/(Ot[sa].split(" ").length-1)),Mc=Ot[sa].split(" ");Y.push([Mc[0]+" ",hl,fl]),nm=0;for(var Lc=1;Lc<Mc.length;Lc++){var My=(k0(Mc[Lc-1]+" "+Mc[Lc])-k0(Mc[Lc]))*jo+C_;Lc==Mc.length-1?Y.push([Mc[Lc],My,0]):Y.push([Mc[Lc]+" ",My,0]),nm-=My}}else Y.push([Ot[sa],hl,fl]);Y.push(["",nm,0])}else{if(kr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Y=[],Gs=Ot.length,tn=tn!==0?tn:Ny,sa=0;sa<Gs;sa++){fl=sa===0?yr(Le):-E0,hl=sa===0?Jt(ce):0;var Ly=Ot[sa].split(" ").length-1,Dy=Ly>0?(tn-Xl[sa])/Ly:0;sa<Gs-1?ud.push(N(E(Dy))):ud.push(0),Y.push([Ot[sa],hl,fl])}}}(typeof ze.R2L=="boolean"?ze.R2L:De)===!0&&(Y=w0(Y,function(Vn,ci,oa){return[Vn.split("").reverse().join(""),ci,oa]})),Nt={text:Y,x:ce,y:Le,options:ze,mutex:{pdfEscape:Pt,activeFontKey:Oe,fonts:Ue,activeFontSize:ue}},Lt.publish("postProcessText",Nt),Y=Nt.text,Ca=Nt.mutex.isHex||!1;var Py=Ue[Oe].encoding;Py!=="WinAnsiEncoding"&&Py!=="StandardEncoding"||(Y=w0(Y,function(Vn,ci,oa){return[__(Vn),ci,oa]})),Ot=tm(Y),Y=[];for(var hd,dd,Ad,N0=Array.isArray(Ot[0])?1:0,pd="",F0=function(Vn,ci,oa){var Ra="";return oa instanceof It?(oa=typeof ze.angle=="number"?Ir(oa,new It(1,0,0,1,Vn,ci)):Ir(new It(1,0,0,1,Vn,ci),oa),b===y&&(oa=Ir(new It(1,0,0,-1,0,0),oa)),Ra=oa.join(" ")+` Tm
`):Ra=N(Vn)+" "+N(ci)+` Td
`,Ra},Yl=0;Yl<Ot.length;Yl++){switch(pd="",N0){case 1:Ad=(Ca?"<":"(")+Ot[Yl][0]+(Ca?">":")"),hd=parseFloat(Ot[Yl][1]),dd=parseFloat(Ot[Yl][2]);break;case 0:Ad=(Ca?"<":"(")+Ot[Yl]+(Ca?">":")"),hd=Jt(ce),dd=yr(Le)}ud!==void 0&&ud[Yl]!==void 0&&(pd=ud[Yl]+` Tw
`),Yl===0?Y.push(pd+F0(hd,dd,Sa)+Ad):N0===0?Y.push(pd+Ad):N0===1&&Y.push(pd+F0(hd,dd,Sa)+Ad)}Y=N0===0?Y.join(` Tj
T* `):Y.join(` Tj
`),Y+=` Tj
`;var Dc=`BT
/`;return Dc+=Oe+" "+ue+` Tf
`,Dc+=N(ue*ql)+` TL
`,Dc+=Cn+`
`,Dc+=vs,Dc+=Y,te(Dc+="ET"),h[Oe]=!0,Ai};var Oo=d.__private__.clip=d.clip=function(Y){return te(Y==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return Oo("evenodd")},d.__private__.discardPath=d.discardPath=function(){return te("n"),this};var xa=d.__private__.isValidStyle=function(Y){var ce=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Y)!==-1&&(ce=!0),ce};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(Y){return xa(Y)&&(u=Y),this};var ll=d.__private__.getStyle=d.getStyle=function(Y){var ce=u;switch(Y){case"D":case"S":ce="S";break;case"F":ce="f";break;case"FD":case"DF":ce="B";break;case"f":case"f*":case"B":case"B*":ce=Y}return ce},ba=d.close=function(){return te("h"),this};d.stroke=function(){return te("S"),this},d.fill=function(Y){return wa("f",Y),this},d.fillEvenOdd=function(Y){return wa("f*",Y),this},d.fillStroke=function(Y){return wa("B",Y),this},d.fillStrokeEvenOdd=function(Y){return wa("B*",Y),this};var wa=function(Y,ce){ei(ce)==="object"?Nc(ce,Y):te(Y)},_a=function(Y){Y===null||b===y&&Y===void 0||(Y=ll(Y),te(Y))};function Ru(Y,ce,Le,ze,ot){var Nt=new Mv(ce||this.boundingBox,Le||this.xStep,ze||this.yStep,this.gState,ot||this.matrix);Nt.stream=this.stream;var Ot=Y+"$$"+this.cloneIndex+++"$$";return tr(Ot,Nt),Nt}var Nc=function(Y,ce){var Le=et[Y.key],ze=Ne[Le];if(ze instanceof Bp)te("q"),te(An(ce)),ze.gState&&d.setGState(ze.gState),te(Y.matrix.toString()+" cm"),te("/"+Le+" sh"),te("Q");else if(ze instanceof Mv){var ot=new It(1,0,0,-1,0,b0());Y.matrix&&(ot=ot.multiply(Y.matrix||_r),Le=Ru.call(ze,Y.key,Y.boundingBox,Y.xStep,Y.yStep,ot).id),te("q"),te("/Pattern cs"),te("/"+Le+" scn"),ze.gState&&d.setGState(ze.gState),te(ce),te("Q")}},An=function(Y){switch(Y){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ts=d.moveTo=function(Y,ce){return te(N(E(Y))+" "+N(L(ce))+" m"),this},Kl=d.lineTo=function(Y,ce){return te(N(E(Y))+" "+N(L(ce))+" l"),this},Vs=d.curveTo=function(Y,ce,Le,ze,ot,Nt){return te([N(E(Y)),N(L(ce)),N(E(Le)),N(L(ze)),N(E(ot)),N(L(Nt)),"c"].join(" ")),this};d.__private__.line=d.line=function(Y,ce,Le,ze,ot){if(isNaN(Y)||isNaN(ce)||isNaN(Le)||isNaN(ze)||!xa(ot))throw new Error("Invalid arguments passed to jsPDF.line");return b===v?this.lines([[Le-Y,ze-ce]],Y,ce,[1,1],ot||"S"):this.lines([[Le-Y,ze-ce]],Y,ce,[1,1]).stroke()},d.__private__.lines=d.lines=function(Y,ce,Le,ze,ot,Nt){var Ot,wr,kr,Jr,tn,Pn,Ii,Sa,Ai,Pa,Ca,vs;if(typeof Y=="number"&&(vs=Le,Le=ce,ce=Y,Y=vs),ze=ze||[1,1],Nt=Nt||!1,isNaN(ce)||isNaN(Le)||!Array.isArray(Y)||!Array.isArray(ze)||!xa(ot)||typeof Nt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ts(ce,Le),Ot=ze[0],wr=ze[1],Jr=Y.length,Pa=ce,Ca=Le,kr=0;kr<Jr;kr++)(tn=Y[kr]).length===2?(Pa=tn[0]*Ot+Pa,Ca=tn[1]*wr+Ca,Kl(Pa,Ca)):(Pn=tn[0]*Ot+Pa,Ii=tn[1]*wr+Ca,Sa=tn[2]*Ot+Pa,Ai=tn[3]*wr+Ca,Pa=tn[4]*Ot+Pa,Ca=tn[5]*wr+Ca,Vs(Pn,Ii,Sa,Ai,Pa,Ca));return Nt&&ba(),_a(ot),this},d.path=function(Y){for(var ce=0;ce<Y.length;ce++){var Le=Y[ce],ze=Le.c;switch(Le.op){case"m":ts(ze[0],ze[1]);break;case"l":Kl(ze[0],ze[1]);break;case"c":Vs.apply(this,ze);break;case"h":ba()}}return this},d.__private__.rect=d.rect=function(Y,ce,Le,ze,ot){if(isNaN(Y)||isNaN(ce)||isNaN(Le)||isNaN(ze)||!xa(ot))throw new Error("Invalid arguments passed to jsPDF.rect");return b===v&&(ze=-ze),te([N(E(Y)),N(L(ce)),N(E(Le)),N(E(ze)),"re"].join(" ")),_a(ot),this},d.__private__.triangle=d.triangle=function(Y,ce,Le,ze,ot,Nt,Ot){if(isNaN(Y)||isNaN(ce)||isNaN(Le)||isNaN(ze)||isNaN(ot)||isNaN(Nt)||!xa(Ot))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Le-Y,ze-ce],[ot-Le,Nt-ze],[Y-ot,ce-Nt]],Y,ce,[1,1],Ot,!0),this},d.__private__.roundedRect=d.roundedRect=function(Y,ce,Le,ze,ot,Nt,Ot){if(isNaN(Y)||isNaN(ce)||isNaN(Le)||isNaN(ze)||isNaN(ot)||isNaN(Nt)||!xa(Ot))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var wr=4/3*(Math.SQRT2-1);return ot=Math.min(ot,.5*Le),Nt=Math.min(Nt,.5*ze),this.lines([[Le-2*ot,0],[ot*wr,0,ot,Nt-Nt*wr,ot,Nt],[0,ze-2*Nt],[0,Nt*wr,-ot*wr,Nt,-ot,Nt],[2*ot-Le,0],[-ot*wr,0,-ot,-Nt*wr,-ot,-Nt],[0,2*Nt-ze],[0,-Nt*wr,ot*wr,-Nt,ot,-Nt]],Y+ot,ce,[1,1],Ot,!0),this},d.__private__.ellipse=d.ellipse=function(Y,ce,Le,ze,ot){if(isNaN(Y)||isNaN(ce)||isNaN(Le)||isNaN(ze)||!xa(ot))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Nt=4/3*(Math.SQRT2-1)*Le,Ot=4/3*(Math.SQRT2-1)*ze;return ts(Y+Le,ce),Vs(Y+Le,ce-Ot,Y+Nt,ce-ze,Y,ce-ze),Vs(Y-Nt,ce-ze,Y-Le,ce-Ot,Y-Le,ce),Vs(Y-Le,ce+Ot,Y-Nt,ce+ze,Y,ce+ze),Vs(Y+Nt,ce+ze,Y+Le,ce+Ot,Y+Le,ce),_a(ot),this},d.__private__.circle=d.circle=function(Y,ce,Le,ze){if(isNaN(Y)||isNaN(ce)||isNaN(Le)||!xa(ze))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Y,ce,Le,Le,ze)},d.setFont=function(Y,ce,Le){return Le&&(ce=I(ce,Le)),Oe=vr(Y,ce,{disableWarning:!1}),this};var Fc=d.__private__.getFont=d.getFont=function(){return Ue[vr.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var Y,ce,Le={};for(Y in We)if(We.hasOwnProperty(Y))for(ce in Le[Y]=[],We[Y])We[Y].hasOwnProperty(ce)&&Le[Y].push(ce);return Le},d.addFont=function(Y,ce,Le,ze,ot){var Nt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Nt.indexOf(arguments[3])!==-1?ot=arguments[3]:arguments[3]&&Nt.indexOf(arguments[3])==-1&&(Le=I(Le,ze)),bt.call(this,Y,ce,Le,ot=ot||"Identity-H")};var ho,ul=r.lineWidth||.200025,Vr=d.__private__.getLineWidth=d.getLineWidth=function(){return ul},Ou=d.__private__.setLineWidth=d.setLineWidth=function(Y){return ul=Y,te(N(E(Y))+" w"),this};d.__private__.setLineDash=br.API.setLineDash=br.API.setLineDashPattern=function(Y,ce){if(Y=Y||[],ce=ce||0,isNaN(ce)||!Array.isArray(Y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Y=Y.map(function(Le){return N(E(Le))}).join(" "),ce=N(E(ce)),te("["+Y+"] "+ce+" d"),this};var ke=d.__private__.getLineHeight=d.getLineHeight=function(){return ue*ho};d.__private__.getLineHeight=d.getLineHeight=function(){return ue*ho};var dt=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(Y){return typeof(Y=Y||1.15)=="number"&&(ho=Y),this},$t=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return ho};dt(r.lineHeight);var Jt=d.__private__.getHorizontalCoordinate=function(Y){return E(Y)},yr=d.__private__.getVerticalCoordinate=function(Y){return b===y?Y:vt[U].mediaBox.topRightY-vt[U].mediaBox.bottomLeftY-E(Y)},wn=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(Y){return N(Jt(Y))},Ur=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(Y){return N(yr(Y))},dr=r.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return xe(dr)},d.__private__.setStrokeColor=d.setDrawColor=function(Y,ce,Le,ze){return dr=be({ch1:Y,ch2:ce,ch3:Le,ch4:ze,pdfColorType:"draw",precision:2}),te(dr),this};var pn=r.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return xe(pn)},d.__private__.setFillColor=d.setFillColor=function(Y,ce,Le,ze){return pn=be({ch1:Y,ch2:ce,ch3:Le,ch4:ze,pdfColorType:"fill",precision:2}),te(pn),this};var Cn=r.textColor||"0 g",Fi=d.__private__.getTextColor=d.getTextColor=function(){return xe(Cn)};d.__private__.setTextColor=d.setTextColor=function(Y,ce,Le,ze){return Cn=be({ch1:Y,ch2:ce,ch3:Le,ch4:ze,pdfColorType:"text",precision:3}),this};var _n=r.charSpace,y0=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(_n||0)};d.__private__.setCharSpace=d.setCharSpace=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return _n=Y,this};var sd=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(Y){var ce=d.CapJoinStyles[Y];if(ce===void 0)throw new Error("Line cap style of '"+Y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return sd=ce,te(ce+" J"),this};var od=0;d.__private__.setLineJoin=d.setLineJoin=function(Y){var ce=d.CapJoinStyles[Y];if(ce===void 0)throw new Error("Line join style of '"+Y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return od=ce,te(ce+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(Y){if(Y=Y||0,isNaN(Y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(N(E(Y))+" M"),this},d.GState=xC,d.setGState=function(Y){(Y=typeof Y=="string"?ft[lt[Y]]:cl(null,Y)).equals(St)||(te("/"+Y.id+" gs"),St=Y)};var cl=function(Y,ce){if(!Y||!lt[Y]){var Le=!1;for(var ze in ft)if(ft.hasOwnProperty(ze)&&ft[ze].equals(ce)){Le=!0;break}if(Le)ce=ft[ze];else{var ot="GS"+(Object.keys(ft).length+1).toString(10);ft[ot]=ce,ce.id=ot}return Y&&(lt[Y]=ce.id),Lt.publish("addGState",ce),ce}};d.addGState=function(Y,ce){return cl(Y,ce),this},d.saveGraphicsState=function(){return te("q"),yt.push({key:Oe,size:ue,color:Cn}),this},d.restoreGraphicsState=function(){te("Q");var Y=yt.pop();return Oe=Y.key,ue=Y.size,Cn=Y.color,St=null,this},d.setCurrentTransformationMatrix=function(Y){return te(Y.toString()+" cm"),this},d.comment=function(Y){return te("#"+Y),this};var rs=function(Y,ce){var Le=Y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Le},set:function(Nt){isNaN(Nt)||(Le=parseFloat(Nt))}});var ze=ce||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ze},set:function(Nt){isNaN(Nt)||(ze=parseFloat(Nt))}});var ot="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ot},set:function(Nt){ot=Nt.toString()}}),this},x0=function(Y,ce,Le,ze){rs.call(this,Y,ce),this.type="rect";var ot=Le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ot},set:function(Ot){isNaN(Ot)||(ot=parseFloat(Ot))}});var Nt=ze||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Nt},set:function(Ot){isNaN(Ot)||(Nt=parseFloat(Ot))}}),this},jf=function(){this.page=ut,this.currentPage=U,this.pages=Z.slice(0),this.pagesContext=vt.slice(0),this.x=Ve,this.y=Qe,this.matrix=Ke,this.width=v_(U),this.height=Hf(U),this.outputDestination=ee,this.id="",this.objectNumber=-1};jf.prototype.restore=function(){ut=this.page,U=this.currentPage,vt=this.pagesContext,Z=this.pages,Ve=this.x,Qe=this.y,Ke=this.matrix,y_(U,this.width),Qf(U,this.height),ee=this.outputDestination};var Uf=function(Y,ce,Le,ze,ot){Tr.push(new jf),ut=U=0,Z=[],Ve=Y,Qe=ce,Ke=ot,Mt([Le,ze])};for(var Ic in d.beginFormObject=function(Y,ce,Le,ze,ot){return Uf(Y,ce,Le,ze,ot),this},d.endFormObject=function(Y){return function(ce){if(ar[ce])Tr.pop().restore();else{var Le=new jf,ze="Xo"+(Object.keys(_t).length+1).toString(10);Le.id=ze,ar[ce]=ze,_t[ze]=Le,Lt.publish("addFormObject",Le),Tr.pop().restore()}}(Y),this},d.doFormObject=function(Y,ce){var Le=_t[ar[Y]];return te("q"),te(ce.toString()+" cm"),te("/"+Le.id+" Do"),te("Q"),this},d.getFormObject=function(Y){var ce=_t[ar[Y]];return{x:ce.x,y:ce.y,width:ce.width,height:ce.height,matrix:ce.matrix}},d.save=function(Y,ce){return Y=Y||"generated.pdf",(ce=ce||{}).returnPromise=ce.returnPromise||!1,ce.returnPromise===!1?(mp(aa(ui()),Y),typeof mp.unload=="function"&&Yr.setTimeout&&setTimeout(mp.unload,911),this):new Promise(function(Le,ze){try{var ot=mp(aa(ui()),Y);typeof mp.unload=="function"&&Yr.setTimeout&&setTimeout(mp.unload,911),Le(ot)}catch(Nt){ze(Nt.message)}})},br.API)br.API.hasOwnProperty(Ic)&&(Ic==="events"&&br.API.events.length?function(Y,ce){var Le,ze,ot;for(ot=ce.length-1;ot!==-1;ot--)Le=ce[ot][0],ze=ce[ot][1],Y.subscribe.apply(Y,[Le].concat(typeof ze=="function"?[ze]:ze))}(Lt,br.API.events):d[Ic]=br.API[Ic]);function v_(Y){return vt[Y].mediaBox.topRightX-vt[Y].mediaBox.bottomLeftX}function y_(Y,ce){vt[Y].mediaBox.topRightX=ce+vt[Y].mediaBox.bottomLeftX}function Hf(Y){return vt[Y].mediaBox.topRightY-vt[Y].mediaBox.bottomLeftY}function Qf(Y,ce){vt[Y].mediaBox.topRightY=ce+vt[Y].mediaBox.bottomLeftY}var x_=d.getPageWidth=function(Y){return v_(Y=Y||U)/at},b_=d.setPageWidth=function(Y,ce){y_(Y,ce*at)},b0=d.getPageHeight=function(Y){return Hf(Y=Y||U)/at},w_=d.setPageHeight=function(Y,ce){Qf(Y,ce*at)};return d.internal={pdfEscape:Pt,getStyle:ll,getFont:Fc,getFontSize:Se,getCharSpace:y0,getTextColor:Fi,getLineHeight:ke,getLineHeightFactor:$t,getLineWidth:Vr,write:le,getHorizontalCoordinate:Jt,getVerticalCoordinate:yr,getCoordinateString:wn,getVerticalCoordinateString:Ur,collections:{},newObject:Ye,newAdditionalObject:ye,newObjectDeferred:ht,newObjectDeferredBegin:oe,getFilters:He,putStream:Ze,events:Lt,scaleFactor:at,pageSize:{getWidth:function(){return x_(U)},setWidth:function(Y){b_(U,Y)},getHeight:function(){return b0(U)},setHeight:function(Y){w_(U,Y)}},encryptionOptions:c,encryption:zn,getEncryptor:function(Y){return c!==null?zn.encryptor(Y,0):function(ce){return ce}},output:Hi,getNumberOfPages:Rr,pages:Z,out:te,f2:D,f3:R,getPageInfo:Ro,getPageInfoByObjId:bn,getCurrentPageInfo:fn,getPDFVersion:p,Point:rs,Rectangle:x0,Matrix:It,hasHotfix:zs},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return x_(U)},set:function(Y){b_(U,Y)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return b0(U)},set:function(Y){w_(U,Y)},enumerable:!0,configurable:!0}),(function(Y){for(var ce=0,Le=de.length;ce<Le;ce++){var ze=bt.call(this,Y[ce][0],Y[ce][1],Y[ce][2],de[ce][3],!0);f===!1&&(h[ze]=!0);var ot=Y[ce][0].split("-");it({id:ze,fontName:ot[0],fontStyle:ot[1]||""})}Lt.publish("addFonts",{fonts:Ue,dictionary:We})}).call(d,de),Oe="F1",Gt(i,e),Lt.publish("initialized"),d}uv.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},uv.prototype.toHexString=function(r){return r.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},uv.prototype.hexToBytes=function(r){for(var t=[],e=0;e<r.length;e+=2)t.push(String.fromCharCode(parseInt(r.substr(e,2),16)));return t.join("")},uv.prototype.processOwnerPassword=function(r,t){return hL(fL(t).substr(0,5),r)},uv.prototype.encryptor=function(r,t){var e=fL(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return hL(e,n)}},xC.prototype.equals=function(r){var t,e="id,objectNumber,equals";if(!r||ei(r)!==ei(this))return!1;var n=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!r.hasOwnProperty(t)||this[t]!==r[t])return!1;n++}for(t in r)r.hasOwnProperty(t)&&e.indexOf(t)<0&&n--;return n===0},br.API={events:[]},br.version="3.0.3";var Ki=br.API,tO=1,em=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ym=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},rn=function(r){return r.toFixed(2)},Dd=function(r){return r.toFixed(5)};Ki.__acroform__={};var ol=function(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r},uY=function(r){return r*tO},Xc=function(r){var t=new fhe,e=xr.internal.getHeight(r)||0,n=xr.internal.getWidth(r)||0;return t.BBox=[0,0,Number(rn(n)),Number(rn(e))],t},LYe=Ki.__acroform__.setBit=function(r,t){if(r=r||0,t=t||0,isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<t},DYe=Ki.__acroform__.clearBit=function(r,t){if(r=r||0,t=t||0,isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<t)},PYe=Ki.__acroform__.getBit=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<t?1:0},Aa=Ki.__acroform__.getBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return PYe(r,t-1)},pa=Ki.__acroform__.setBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return LYe(r,t-1)},ga=Ki.__acroform__.clearBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return DYe(r,t-1)},RYe=Ki.__acroform__.calculateCoordinates=function(r,t){var e=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=r[0],a=r[1],s=r[2],o=r[3],l={};return l.lowerLeft_X=e(i)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=e(i+s)||0,l.upperRight_Y=n(a)||0,[Number(rn(l.lowerLeft_X)),Number(rn(l.lowerLeft_Y)),Number(rn(l.upperRight_X)),Number(rn(l.upperRight_Y))]},OYe=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var t=[],e=r._V||r.DV,n=dL(r,e),i=r.scope.internal.getFont(r.fontName,r.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(r.scope.__private__.encodeColorString(r.color)),t.push("/"+i+" "+rn(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Xc(r);return a.scope=r.scope,a.stream=t.join(`
`),a}},dL=function(r,t){var e=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=r.multiline?i.map(function(D){return D.split(`
`)}):i.map(function(D){return[D]});var a=e,s=xr.internal.getHeight(r)||0;s=s<0?-s:s;var o=xr.internal.getWidth(r)||0;o=o<0?-o:o;var l=function(D,R,E){if(D+1<i.length){var L=R+" "+i[D+1][0];return d3(L,r,E).width<=o-4}return!1};a++;e:for(;a>0;){t="",a--;var u,c,f=d3("3",r,a).height,h=r.multiline?s-a:(s-f)/2,d=h+=2,A=0,p=0,g=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+d3(t,r,a=12).width+", FieldWidth:"+o+`
`;break}for(var m="",v=0,y=0;y<i.length;y++)if(i.hasOwnProperty(y)){var b=!1;if(i[y].length!==1&&g!==i[y].length-1){if((f+2)*(v+2)+2>s)continue e;m+=i[y][g],b=!0,p=y,y--}else{m=(m+=i[y][g]+" ").substr(m.length-1)==" "?m.substr(0,m.length-1):m;var _=parseInt(y),T=l(_,m,a),I=y>=i.length-1;if(T&&!I){m+=" ",g=0;continue}if(T||I){if(I)p=_;else if(r.multiline&&(f+2)*(v+2)+2>s)continue e}else{if(!r.multiline||(f+2)*(v+2)+2>s)continue e;p=_}}for(var N="",F=A;F<=p;F++){var P=i[F];if(r.multiline){if(F===p){N+=P[g]+" ",g=(g+1)%P.length;continue}if(F===A){N+=P[P.length-1]+" ";continue}}N+=P[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,c=d3(N,r,a).width,r.textAlign){case"right":u=o-c-2;break;case"center":u=(o-c)/2;break;default:u=2}t+=rn(u)+" "+rn(d)+` Td
`,t+="("+em(N)+`) Tj
`,t+=-rn(u)+` 0 Td
`,d=-(a+2),c=0,A=b?p:p+1,v++,m=""}break}return n.text=t,n.fontSize=a,n},d3=function(r,t,e){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:i}},jYe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},UYe=function(r,t){var e={type:"reference",object:r};t.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===e.type&&n.object===e.object})===void 0&&t.internal.getPageInfo(r.page).pageContext.annotations.push(e)},HYe=function(r,t){if(t.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(Ec.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(jYe)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");tO=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new hhe,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&UYe(a,e)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(e){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],u=o.Rect;if(o.Rect&&(o.Rect=RYe(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=xr.createDefaultAppearanceStream(o),ei(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var c=OYe(o);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var d=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var s in d)if(d.hasOwnProperty(s)){var A=d[s];typeof A=="function"&&(A=A.call(i,o)),f+="/"+s+" "+A+" ",i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A)}}else typeof(A=d)=="function"&&(A=A.call(i,o)),f+="/"+s+" "+A,i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&function(p,g){for(var m in p)if(p.hasOwnProperty(m)){var v=m,y=p[m];g.internal.newObjectDeferredBegin(y.objId,!0),ei(y)==="object"&&typeof y.putStream=="function"&&y.putStream(),delete p[v]}}(i.internal.acroformPlugin.xForms,i)})(e,r)}),r.internal.acroformPlugin.isInitialized=!0}},che=Ki.__acroform__.arrayToPdfArray=function(r,t,e){var n=function(s){return s};if(Array.isArray(r)){for(var i="[",a=0;a<r.length;a++)switch(a!==0&&(i+=" "),ei(r[a])){case"boolean":case"number":case"object":i+=r[a].toString();break;case"string":r[a].substr(0,1)!=="/"?(t!==void 0&&e&&(n=e.internal.getEncryptor(t)),i+="("+em(n(r[a].toString()))+")"):i+=r[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},IN=function(r,t,e){var n=function(i){return i};return t!==void 0&&e&&(n=e.internal.getEncryptor(t)),(r=r||"").toString(),"("+em(n(r))+")"},pf=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};pf.prototype.toString=function(){return this.objId+" 0 R"},pf.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},pf.prototype.getKeyValueListForStream=function(){var r=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var n=t[e],i=this[n];i&&(Array.isArray(i)?r.push({key:n,value:che(i,this.objId,this.scope)}):i instanceof pf?(i.scope=this.scope,r.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&r.push({key:n,value:i}))}return r};var fhe=function(){pf.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){r=e.trim()},get:function(){return r||null}})};ol(fhe,pf);var hhe=function(){pf.call(this);var r,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var e=function(n){return n};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+em(e(r))+")"}},set:function(e){r=e}})};ol(hhe,pf);var Ec=function r(){pf.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');t=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Aa(t,3)},set:function(m){m?this.F=pa(t,3):this.F=ga(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');e=m}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(m){n=m!==void 0?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(m){n[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(m){n[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(m){n[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(m){n[3]=m}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof bC)return;a="FieldObject"+r.FieldNum++}var m=function(v){return v};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+em(m(a))+")"},set:function(m){a=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(m){a=m}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(m){s=m}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(m){o=m}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(m){l=m}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/tO:u},set:function(m){u=m}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(m){c=m}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof bC||this instanceof hg))return IN(f,this.objId,this.scope)},set:function(m){m=m.toString(),f=m}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof cs==0?IN(h,this.objId,this.scope):h},set:function(m){m=m.toString(),h=this instanceof cs==0?m.substr(0,1)==="("?Ym(m.substr(1,m.length-2)):Ym(m):m}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof cs==1?Ym(h.substr(1,h.length-1)):h},set:function(m){m=m.toString(),h=this instanceof cs==1?"/"+m:m}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof cs==0?IN(d,this.objId,this.scope):d},set:function(m){m=m.toString(),d=this instanceof cs==0?m.substr(0,1)==="("?Ym(m.substr(1,m.length-2)):Ym(m):m}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof cs==1?Ym(d.substr(1,d.length-1)):d},set:function(m){m=m.toString(),d=this instanceof cs==1?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(m){m=!!m,p=m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(m){A=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,1)},set:function(m){m?this.Ff=pa(this.Ff,1):this.Ff=ga(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,2)},set:function(m){m?this.Ff=pa(this.Ff,2):this.Ff=ga(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,3)},set:function(m){m?this.Ff=pa(this.Ff,3):this.Ff=ga(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(m){if([0,1,2].indexOf(m)===-1)throw new Error('Invalid value "'+m+'" for attribute Q supplied.');g=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(g){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};ol(Ec,pf);var e1=function(){Ec.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){r=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return che(t,this.objId,this.scope)},set:function(e){var n,i;i=[],typeof(n=e)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,u=[];l=s.exec(a);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,18)},set:function(e){e?this.Ff=pa(this.Ff,18):this.Ff=ga(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=pa(this.Ff,19):this.Ff=ga(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,20)},set:function(e){e?(this.Ff=pa(this.Ff,20),t.sort()):this.Ff=ga(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,22)},set:function(e){e?this.Ff=pa(this.Ff,22):this.Ff=ga(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,23)},set:function(e){e?this.Ff=pa(this.Ff,23):this.Ff=ga(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,27)},set:function(e){e?this.Ff=pa(this.Ff,27):this.Ff=ga(this.Ff,27)}}),this.hasAppearanceStream=!1};ol(e1,Ec);var t1=function(){e1.call(this),this.fontName="helvetica",this.combo=!1};ol(t1,e1);var r1=function(){t1.call(this),this.combo=!0};ol(r1,t1);var nS=function(){r1.call(this),this.edit=!0};ol(nS,r1);var cs=function(){Ec.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,15)},set:function(e){e?this.Ff=pa(this.Ff,15):this.Ff=ga(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,16)},set:function(e){e?this.Ff=pa(this.Ff,16):this.Ff=ga(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,17)},set:function(e){e?this.Ff=pa(this.Ff,17):this.Ff=ga(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,26)},set:function(e){e?this.Ff=pa(this.Ff,26):this.Ff=ga(this.Ff,26)}});var r,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(a){return a};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+em(e(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(e){ei(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(e){r="/"+e}})};ol(cs,Ec);var iS=function(){cs.call(this),this.pushButton=!0};ol(iS,cs);var n1=function(){cs.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t!==void 0?t:[]}})};ol(n1,cs);var bC=function(){var r,t;Ec.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+em(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){ei(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(i){e="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=xr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ol(bC,Ec),n1.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=r.createAppearanceStream(e.optionName),e.caption=r.getCA()}},n1.prototype.createOption=function(r){var t=new bC;return t.Parent=this,t.optionName=r,this.Kids.push(t),QYe.call(this.scope,t),t};var aS=function(){cs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=xr.CheckBox.createAppearanceStream()};ol(aS,cs);var hg=function(){Ec.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,13)},set:function(t){t?this.Ff=pa(this.Ff,13):this.Ff=ga(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,21)},set:function(t){t?this.Ff=pa(this.Ff,21):this.Ff=ga(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,23)},set:function(t){t?this.Ff=pa(this.Ff,23):this.Ff=ga(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,24)},set:function(t){t?this.Ff=pa(this.Ff,24):this.Ff=ga(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,25)},set:function(t){t?this.Ff=pa(this.Ff,25):this.Ff=ga(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,26)},set:function(t){t?this.Ff=pa(this.Ff,26):this.Ff=ga(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){Number.isInteger(t)&&(r=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ol(hg,Ec);var sS=function(){hg.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,14)},set:function(r){r?this.Ff=pa(this.Ff,14):this.Ff=ga(this.Ff,14)}}),this.password=!0};ol(sS,hg);var xr={CheckBox:{createAppearanceStream:function(){return{N:{On:xr.CheckBox.YesNormal},D:{On:xr.CheckBox.YesPushDown,Off:xr.CheckBox.OffPushDown}}},YesPushDown:function(r){var t=Xc(r);t.scope=r.scope;var e=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),a=dL(r,r.caption);return e.push("0.749023 g"),e.push("0 0 "+rn(xr.internal.getWidth(r))+" "+rn(xr.internal.getHeight(r))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+n+" "+rn(a.fontSize)+" Tf "+i),e.push("BT"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(r){var t=Xc(r);t.scope=r.scope;var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),i=[],a=xr.internal.getHeight(r),s=xr.internal.getWidth(r),o=dL(r,r.caption);return i.push("1 g"),i.push("0 0 "+rn(s)+" "+rn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+rn(s-1)+" "+rn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+e+" "+rn(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(r){var t=Xc(r);t.scope=r.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+rn(xr.internal.getWidth(r))+" "+rn(xr.internal.getHeight(r))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(r){var t={D:{Off:xr.RadioButton.Circle.OffPushDown},N:{}};return t.N[r]=xr.RadioButton.Circle.YesNormal,t.D[r]=xr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(r){var t=Xc(r);t.scope=r.scope;var e=[],n=xr.internal.getWidth(r)<=xr.internal.getHeight(r)?xr.internal.getWidth(r)/4:xr.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=xr.internal.Bezier_C,a=Number((n*i).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Dd(xr.internal.getWidth(r)/2)+" "+Dd(xr.internal.getHeight(r)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),e.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),e.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),e.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(r){var t=Xc(r);t.scope=r.scope;var e=[],n=xr.internal.getWidth(r)<=xr.internal.getHeight(r)?xr.internal.getWidth(r)/4:xr.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*xr.internal.Bezier_C).toFixed(5)),s=Number((n*xr.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Dd(xr.internal.getWidth(r)/2)+" "+Dd(xr.internal.getHeight(r)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),e.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),e.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),e.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Dd(xr.internal.getWidth(r)/2)+" "+Dd(xr.internal.getHeight(r)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),e.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),e.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),e.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(r){var t=Xc(r);t.scope=r.scope;var e=[],n=xr.internal.getWidth(r)<=xr.internal.getHeight(r)?xr.internal.getWidth(r)/4:xr.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*xr.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Dd(xr.internal.getWidth(r)/2)+" "+Dd(xr.internal.getHeight(r)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),e.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),e.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),e.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(r){var t={D:{Off:xr.RadioButton.Cross.OffPushDown},N:{}};return t.N[r]=xr.RadioButton.Cross.YesNormal,t.D[r]=xr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(r){var t=Xc(r);t.scope=r.scope;var e=[],n=xr.internal.calculateCross(r);return e.push("q"),e.push("1 1 "+rn(xr.internal.getWidth(r)-2)+" "+rn(xr.internal.getHeight(r)-2)+" re"),e.push("W"),e.push("n"),e.push(rn(n.x1.x)+" "+rn(n.x1.y)+" m"),e.push(rn(n.x2.x)+" "+rn(n.x2.y)+" l"),e.push(rn(n.x4.x)+" "+rn(n.x4.y)+" m"),e.push(rn(n.x3.x)+" "+rn(n.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(r){var t=Xc(r);t.scope=r.scope;var e=xr.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+rn(xr.internal.getWidth(r))+" "+rn(xr.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+rn(xr.internal.getWidth(r)-2)+" "+rn(xr.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(rn(e.x1.x)+" "+rn(e.x1.y)+" m"),n.push(rn(e.x2.x)+" "+rn(e.x2.y)+" l"),n.push(rn(e.x4.x)+" "+rn(e.x4.y)+" m"),n.push(rn(e.x3.x)+" "+rn(e.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(r){var t=Xc(r);t.scope=r.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+rn(xr.internal.getWidth(r))+" "+rn(xr.internal.getHeight(r))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(r){var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,e=r.scope.__private__.encodeColorString(r.color);return"/"+t+" "+r.fontSize+" Tf "+e}};xr.internal={Bezier_C:.551915024494,calculateCross:function(r){var t=xr.internal.getWidth(r),e=xr.internal.getHeight(r),n=Math.min(t,e);return{x1:{x:(t-n)/2,y:(e-n)/2+n},x2:{x:(t-n)/2+n,y:(e-n)/2},x3:{x:(t-n)/2,y:(e-n)/2},x4:{x:(t-n)/2+n,y:(e-n)/2+n}}}},xr.internal.getWidth=function(r){var t=0;return ei(r)==="object"&&(t=uY(r.Rect[2])),t},xr.internal.getHeight=function(r){var t=0;return ei(r)==="object"&&(t=uY(r.Rect[3])),t};var QYe=Ki.addField=function(r){if(HYe(this,r),!(r instanceof Ec))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=r).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Ki.AcroFormChoiceField=e1,Ki.AcroFormListBox=t1,Ki.AcroFormComboBox=r1,Ki.AcroFormEditBox=nS,Ki.AcroFormButton=cs,Ki.AcroFormPushButton=iS,Ki.AcroFormRadioButton=n1,Ki.AcroFormCheckBox=aS,Ki.AcroFormTextField=hg,Ki.AcroFormPasswordField=sS,Ki.AcroFormAppearance=xr,Ki.AcroForm={ChoiceField:e1,ListBox:t1,ComboBox:r1,EditBox:nS,Button:cs,PushButton:iS,RadioButton:n1,CheckBox:aS,TextField:hg,PasswordField:sS,Appearance:xr},br.AcroForm={ChoiceField:e1,ListBox:t1,ComboBox:r1,EditBox:nS,Button:cs,PushButton:iS,RadioButton:n1,CheckBox:aS,TextField:hg,PasswordField:sS,Appearance:xr};function dhe(r){return r.reduce(function(t,e,n){return t[e]=n,t},{})}(function(r){var t="addImage_";r.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=r.__addimage__.getImageFileTypeByImageData=function(D,R){var E,L,k,w,C,S=e;if((R=R||e)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(T(D))for(C in n)for(k=n[C],E=0;E<k.length;E+=1){for(w=!0,L=0;L<k[E].length;L+=1)if(k[E][L]!==void 0&&k[E][L]!==D[L]){w=!1;break}if(w===!0){S=C;break}}else for(C in n)for(k=n[C],E=0;E<k.length;E+=1){for(w=!0,L=0;L<k[E].length;L+=1)if(k[E][L]!==void 0&&k[E][L]!==D.charCodeAt(L)){w=!1;break}if(w===!0){S=C;break}}return S===e&&R!==e&&(S=R),S},a=function D(R){for(var E=this.internal.write,L=this.internal.putStream,k=(0,this.internal.getFilters)();k.indexOf("FlateEncode")!==-1;)k.splice(k.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var w=[];if(w.push({key:"Type",value:"/XObject"}),w.push({key:"Subtype",value:"/Image"}),w.push({key:"Width",value:R.width}),w.push({key:"Height",value:R.height}),R.colorSpace===m.INDEXED?w.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(w.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===m.DEVICE_CMYK&&w.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),w.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&w.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)&&R.transparency.length>0){for(var C="",S=0,B=R.transparency.length;S<B;S++)C+=R.transparency[S]+" "+R.transparency[S]+" ";w.push({key:"Mask",value:"["+C+"]"})}R.sMask!==void 0&&w.push({key:"SMask",value:R.objectId+1+" 0 R"});var O=R.filter!==void 0?["/"+R.filter]:void 0;if(L({data:R.data,additionalKeyValues:w,alreadyAppliedFilters:O,objectId:R.objectId}),E("endobj"),"sMask"in R&&R.sMask!==void 0){var V,M=(V=R.sMaskBitsPerComponent)!==null&&V!==void 0?V:R.bitsPerComponent,U={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:R.sMask};"filter"in R&&(U.decodeParameters="/Predictor ".concat(R.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(R.width),U.filter=R.filter),D.call(this,U)}if(R.colorSpace===m.INDEXED){var Q=this.internal.newObject();L({data:N(new Uint8Array(R.palette)),objectId:Q}),E("endobj")}},s=function(){var D=this.internal.collections[t+"images"];for(var R in D)a.call(this,D[R])},o=function(){var D,R=this.internal.collections[t+"images"],E=this.internal.write;for(var L in R)E("/I"+(D=R[L]).index,D.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var D=this.internal.collections[t+"images"];return l.call(this),D},c=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(D){return typeof r["process"+D.toUpperCase()]=="function"},h=function(D){return ei(D)==="object"&&D.nodeType===1},d=function(D,R){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var E=""+D.getAttribute("src");if(E.indexOf("data:image/")===0)return rS(unescape(E).split("base64,").pop());var L=r.loadFile(E,!0);if(L!==void 0)return L}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var k;switch(R){case"PNG":k="image/png";break;case"WEBP":k="image/webp";break;default:k="image/jpeg"}return rS(D.toDataURL(k,1).split("base64,").pop())}},A=function(D){var R=this.internal.collections[t+"images"];if(R){for(var E in R)if(D===R[E].alias)return R[E]}},p=function(D,R,E){return D||R||(D=-96,R=-96),D<0&&(D=-1*E.width*72/D/this.internal.scaleFactor),R<0&&(R=-1*E.height*72/R/this.internal.scaleFactor),D===0&&(D=R*E.width/E.height),R===0&&(R=D*E.height/E.width),[D,R]},g=function(D,R,E,L,k,w){var C=p.call(this,E,L,k),S=this.internal.getCoordinateString,B=this.internal.getVerticalCoordinateString,O=u.call(this);if(E=C[0],L=C[1],O[k.index]=k,w){w*=Math.PI/180;var V=Math.cos(w),M=Math.sin(w),U=function(W){return W.toFixed(4)},Q=[U(V),U(M),U(-1*M),U(V),0,0,"cm"]}this.internal.write("q"),w?(this.internal.write([1,"0","0",1,S(D),B(R+L),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([S(E),"0","0",S(L),"0","0","cm"].join(" "))):this.internal.write([S(E),"0","0",S(L),S(D),B(R+L),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+k.index+" Do"),this.internal.write("Q")},m=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=r.__addimage__.sHashCode=function(D){var R,E,L=0;if(typeof D=="string")for(E=D.length,R=0;R<E;R++)L=(L<<5)-L+D.charCodeAt(R),L|=0;else if(T(D))for(E=D.byteLength/2,R=0;R<E;R++)L=(L<<5)-L+D[R],L|=0;return L},b=r.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var R=!0;return D.length===0&&(R=!1),D.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(R=!1),R},_=r.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var R=D.indexOf(",");return R<0?null:D.substring(0,R).trim().endsWith("base64")?D.substring(R+1):null};r.__addimage__.isArrayBuffer=function(D){return D instanceof ArrayBuffer};var T=r.__addimage__.isArrayBufferView=function(D){return D instanceof Int8Array||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array},I=r.__addimage__.binaryStringToUint8Array=function(D){for(var R=D.length,E=new Uint8Array(R),L=0;L<R;L++)E[L]=D.charCodeAt(L);return E},N=r.__addimage__.arrayBufferToBinaryString=function(D){for(var R="",E=T(D)?D:new Uint8Array(D),L=0;L<E.length;L+=8192)R+=String.fromCharCode.apply(null,E.subarray(L,L+8192));return R};r.addImage=function(){var D,R,E,L,k,w,C,S,B;if(typeof arguments[1]=="number"?(R=e,E=arguments[1],L=arguments[2],k=arguments[3],w=arguments[4],C=arguments[5],S=arguments[6],B=arguments[7]):(R=arguments[1],E=arguments[2],L=arguments[3],k=arguments[4],w=arguments[5],C=arguments[6],S=arguments[7],B=arguments[8]),ei(D=arguments[0])==="object"&&!h(D)&&"imageData"in D){var O=D;D=O.imageData,R=O.format||R||e,E=O.x||E||0,L=O.y||L||0,k=O.w||O.width||k,w=O.h||O.height||w,C=O.alias||C,S=O.compression||S,B=O.rotation||O.angle||B}var V=this.internal.getFilters();if(S===void 0&&V.indexOf("FlateEncode")!==-1&&(S="SLOW"),isNaN(E)||isNaN(L))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var M=F.call(this,D,R,C,S);return g.call(this,E,L,k,w,M,B),this};var F=function(D,R,E,L){var k,w,C;if(typeof D=="string"&&i(D)===e){D=unescape(D);var S=P(D,!1);(S!==""||(S=r.loadFile(D,!0))!==void 0)&&(D=S)}if(h(D)&&(D=d(D,R)),R=i(D,R),!f(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((C=E)==null||C.length===0)&&(E=function(B){return typeof B=="string"||T(B)?y(B):T(B.data)?y(B.data):null}(D)),(k=A.call(this,E))||(D instanceof Uint8Array||R==="RGBA"||(w=D,D=I(D)),k=this["process"+R.toUpperCase()](D,c.call(this),E,function(B){return B&&typeof B=="string"&&(B=B.toUpperCase()),B in r.image_compression?B:v.NONE}(L),w)),!k)throw new Error("An unknown error occurred whilst processing the image.");return k},P=r.__addimage__.convertBase64ToBinaryString=function(D,R){R=typeof R!="boolean"||R;var E,L="";if(typeof D=="string"){var k;E=(k=_(D))!==null&&k!==void 0?k:D;try{L=rS(E)}catch(w){if(R)throw b(E)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+w.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return L};r.getImageProperties=function(D){var R,E,L="";if(h(D)&&(D=d(D)),typeof D=="string"&&i(D)===e&&((L=P(D,!1))===""&&(L=r.loadFile(D)||""),D=L),E=i(D),!f(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(D instanceof Uint8Array||(D=I(D)),!(R=this["process"+E.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=E,R}})(br.API),function(r){var t=function(e){if(e!==void 0&&e!="")return!0};br.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(e){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(e.objId),u=e.pageContext.annotations,c=!1,f=0;f<u.length&&!c;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var d=this.internal.pdfEscape,A=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(p.objId),v=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+d(m(n.contents))+")",a+=" /Popup "+g.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+d(m(v))+") >>",p.content=a;var y=p.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+y,n.open&&(a+=" /Open true"),a+=" >>",g.content=a,this.internal.write(p.objId,"0 R",g.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var b=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+d(A(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+b+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var _=this.annotations._nameMap[n.options.name];n.options.pageNumber=_.page,n.options.top=_.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+d(A(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var T=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+T+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),r.createAnnotation=function(e){var n=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":n.pageContext.annotations.push(e)}},r.link=function(e,n,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(e),y:u(n),w:l(e+i),h:u(n+a)},options:s,type:"link"})},r.textWithLink=function(e,n,i,a){var s,o,l=this.getTextWidth(e),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var c=this.splitTextToSize(e,o).length;s=Math.ceil(u*c)}else o=l,s=u;return this.text(e,n,i,a),i+=.2*u,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-u,o,s,a),l},r.getTextWidth=function(e){var n=this.internal.getFontSize();return this.getStringUnitWidth(e)*n/this.internal.scaleFactor}}(br.API),function(r){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];r.__arabicParser__={};var a=r.__arabicParser__.isInArabicSubstitutionA=function(p){return t[p.charCodeAt(0)]!==void 0},s=r.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},o=r.__arabicParser__.isArabicEndLetter=function(p){return s(p)&&a(p)&&t[p.charCodeAt(0)].length<=2},l=r.__arabicParser__.isArabicAlfLetter=function(p){return s(p)&&i.indexOf(p.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return s(p)&&a(p)&&t[p.charCodeAt(0)].length>=1};var u=r.__arabicParser__.arabicLetterHasFinalForm=function(p){return s(p)&&a(p)&&t[p.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(p){return s(p)&&a(p)&&t[p.charCodeAt(0)].length>=3};var c=r.__arabicParser__.arabicLetterHasMedialForm=function(p){return s(p)&&a(p)&&t[p.charCodeAt(0)].length==4},f=r.__arabicParser__.resolveLigatures=function(p){var g=0,m=e,v="",y=0;for(g=0;g<p.length;g+=1)m[p.charCodeAt(g)]!==void 0?(y++,typeof(m=m[p.charCodeAt(g)])=="number"&&(v+=String.fromCharCode(m),m=e,y=0),g===p.length-1&&(m=e,v+=p.charAt(g-(y-1)),g-=y-1,y=0)):(m=e,v+=p.charAt(g-y),g-=y,y=0);return v};r.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&n[p.charCodeAt(0)]!==void 0};var h=r.__arabicParser__.getCorrectForm=function(p,g,m){return s(p)?a(p)===!1?-1:!u(p)||!s(g)&&!s(m)||!s(m)&&o(g)||o(p)&&!s(g)||o(p)&&l(g)||o(p)&&o(g)?0:c(p)&&s(g)&&!o(g)&&s(m)&&u(m)?3:o(p)||!s(m)?1:2:-1},d=function(p){var g=0,m=0,v=0,y="",b="",_="",T=(p=p||"").split("\\s+"),I=[];for(g=0;g<T.length;g+=1){for(I.push(""),m=0;m<T[g].length;m+=1)y=T[g][m],b=T[g][m-1],_=T[g][m+1],s(y)?(v=h(y,b,_),I[g]+=v!==-1?String.fromCharCode(t[y.charCodeAt(0)][v]):y):I[g]+=y;I[g]=f(I[g])}return I.join(" ")},A=r.__arabicParser__.processArabic=r.processArabic=function(){var p,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,m=[];if(Array.isArray(g)){var v=0;for(m=[],v=0;v<g.length;v+=1)Array.isArray(g[v])?m.push([d(g[v][0]),g[v][1],g[v][2]]):m.push([d(g[v])]);p=m}else p=d(g);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};r.events.push(["preProcessText",A])}(br.API),br.API.autoPrint=function(r){var t;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(r){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(o){e=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,n){var i;if((e=e||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(br.API),function(r){var t={left:0,top:0,bottom:0,right:0},e=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(p){l=p}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(p){A=p}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},r.getTextDimensions=function(l,u){n.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,d=0,A=0,p=0,g=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var m=u.maxWidth;m>0?typeof l=="string"?l=this.splitTextToSize(l,m):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(y,b){return y.concat(g.splitTextToSize(b,m))},[])):l=Array.isArray(l)?l:[l];for(var v=0;v<l.length;v++)d<(p=this.getStringUnitWidth(l[v],{font:f})*c)&&(d=p);return d!==0&&(A=l.length),{w:d/=h,h:Math.max((A*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/h,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=r.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,d&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,e===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};r.table=function(l,u,c,f,h){if(n.call(this),!c)throw new Error("No data for PDF table.");var d,A,p,g,m=[],v=[],y=[],b={},_={},T=[],I=[],N=(h=h||{}).autoSize||!1,F=h.printHeaders!==!1,P=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,D=h.margins||Object.assign({width:this.getPageWidth()},t),R=typeof h.padding=="number"?h.padding:3,E=h.headerBackgroundColor||"#c8c8c8",L=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=P,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=E,this.internal.__cell__.headerTextColor=L,this.setFontSize(P),f==null)v=m=Object.keys(c[0]),y=m.map(function(){return"left"});else if(Array.isArray(f)&&ei(f[0])==="object")for(m=f.map(function(O){return O.name}),v=f.map(function(O){return O.prompt||O.name||""}),y=f.map(function(O){return O.align||"left"}),d=0;d<f.length;d+=1)_[f[d].name]=.7499990551181103*f[d].width;else Array.isArray(f)&&typeof f[0]=="string"&&(v=m=f,y=m.map(function(){return"left"}));if(N||Array.isArray(f)&&typeof f[0]=="string")for(d=0;d<m.length;d+=1){for(b[g=m[d]]=c.map(function(O){return O[g]}),this.setFont(void 0,"bold"),T.push(this.getTextDimensions(v[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=b[g],this.setFont(void 0,"normal"),p=0;p<A.length;p+=1)T.push(this.getTextDimensions(A[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[g]=Math.max.apply(null,T)+R+R,T=[]}if(F){var k={};for(d=0;d<m.length;d+=1)k[m[d]]={},k[m[d]].text=v[d],k[m[d]].align=y[d];var w=o.call(this,k,_);I=m.map(function(O){return new a(l,u,_[O],w,k[O].text,void 0,k[O].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var C=f.reduce(function(O,V){return O[V.name]=V.align,O},{});for(d=0;d<c.length;d+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:d,data:c[d]},this);var S=o.call(this,c[d],_);for(p=0;p<m.length;p+=1){var B=c[d][m[p]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:d,col:p,data:B},this),s.call(this,new a(l,u,_[m[p]],S,B,d+2,C[m[p]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var c=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(d){var A=l[d];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,u[d]-c-c)},this).map(function(d){return this.getLineHeightFactor()*d.length*f/h+c+c},this).reduce(function(d,A){return Math.max(d,A)},0)};r.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},r.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){c=this.internal.__cell__.tableHeaderRow[d].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,h.push(c)),c.lineNumber=l;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,c),this.setTextColor(A)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),e=!1}}(br.API);var Ahe={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},phe=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],AL=dhe(phe),ghe=[100,200,300,400,500,600,700,800,900],zYe=dhe(ghe);function MN(r){var t=r.family.replace(/"|'/g,"").toLowerCase(),e=function(a){return Ahe[a=a||"normal"]?a:"normal"}(r.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(r.weight),i=function(a){return typeof AL[a=a||"normal"]=="number"?a:"normal"}(r.stretch);return{family:t,style:e,weight:n,stretch:i,src:r.src||[],ref:r.ref||{name:t,style:[i,e,n].join(" ")}}}function cY(r,t,e,n){var i;for(i=e;i>=0&&i<t.length;i+=n)if(r[t[i]])return r[t[i]];for(i=e;i>=0&&i<t.length;i-=n)if(r[t[i]])return r[t[i]]}var VYe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},fY={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function hY(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function dY(r){return r.trimLeft()}function GYe(r,t){for(var e=0;e<r.length;){if(r.charAt(e)===t)return[r.substring(0,e),r.substring(e+1)];e+=1}return null}function WYe(r){var t=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],r.substring(t[0].length)]}var A3,AY,pY,Zm,p3,gY,mY,vY,LN=["times"];function yY(r,t,e,n,i){var a=4,s=bY;switch(i){case br.API.image_compression.FAST:a=1,s=xY;break;case br.API.image_compression.MEDIUM:a=6,s=wY;break;case br.API.image_compression.SLOW:a=9,s=_Y}r=function(l,u,c,f){for(var h,d=l.length/u,A=new Uint8Array(l.length+d),p=[$Ye,xY,bY,wY,_Y],g=0;g<d;g+=1){var m=g*u,v=l.subarray(m,m+u);if(f)A.set(f(v,c,h),m+g);else{for(var y=p.length,b=[],_=0;_<y;_+=1)b[_]=p[_](v,c,h);var T=qYe(b.concat());A.set(b[T],m+g)}h=v}return A}(r,t,Math.ceil(e*n/8),s);var o=tL(r,{level:a});return br.API.__addimage__.arrayBufferToBinaryString(o)}function $Ye(r){var t=Array.apply([],r);return t.unshift(0),t}function xY(r,t){var e=r.length,n=[];n[0]=1;for(var i=0;i<e;i+=1){var a=r[i-t]||0;n[i+1]=r[i]-a+256&255}return n}function bY(r,t,e){var n=r.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=e&&e[a]||0;i[a+1]=r[a]-s+256&255}return i}function wY(r,t,e){var n=r.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=r[a-t]||0,o=e&&e[a]||0;i[a+1]=r[a]+256-(s+o>>>1)&255}return i}function _Y(r,t,e){var n=r.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=KYe(r[a-t]||0,e&&e[a]||0,e&&e[a-t]||0);i[a+1]=r[a]-s+256&255}return i}function KYe(r,t,e){if(r===t&&t===e)return r;var n=Math.abs(t-e),i=Math.abs(r-e),a=Math.abs(r+t-e-e);return n<=i&&n<=a?r:i<=a?t:e}function qYe(r){var t=r.map(function(e){return e.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function DN(r,t,e){var n=t*e,i=Math.floor(n/8),a=16-(n-8*i+e),s=(1<<e)-1;return mhe(r,i)>>a&s}function SY(r,t,e,n){var i=e*n,a=Math.floor(i/8),s=16-(i-8*a+n),o=(1<<n)-1,l=(t&o)<<s;(function(u,c,f){if(c+1<u.byteLength)u.setUint16(c,f,!1);else{var h=f>>8&255;u.setUint8(c,h)}})(r,a,mhe(r,a)&~(o<<s)&65535|l)}function mhe(r,t){return t+1<r.byteLength?r.getUint16(t,!1):r.getUint8(t)<<8}function XYe(r){var t=0;if(r[t++]!==71||r[t++]!==73||r[t++]!==70||r[t++]!==56||(r[t++]+1&253)!=56||r[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=r[t++]|r[t++]<<8,n=r[t++]|r[t++]<<8,i=r[t++],a=i>>7,s=1<<1+(7&i);r[t++],r[t++];var o=null,l=null;a&&(o=t,l=s,t+=3*s);var u=!0,c=[],f=0,h=null,d=0,A=null;for(this.width=e,this.height=n;u&&t<r.length;)switch(r[t++]){case 33:switch(r[t++]){case 255:if(r[t]!==11||r[t+1]==78&&r[t+2]==69&&r[t+3]==84&&r[t+4]==83&&r[t+5]==67&&r[t+6]==65&&r[t+7]==80&&r[t+8]==69&&r[t+9]==50&&r[t+10]==46&&r[t+11]==48&&r[t+12]==3&&r[t+13]==1&&r[t+16]==0)t+=14,A=r[t++]|r[t++]<<8,t++;else for(t+=12;;){if(!((D=r[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;case 249:if(r[t++]!==4||r[t+4]!==0)throw new Error("Invalid graphics extension block.");var p=r[t++];f=r[t++]|r[t++]<<8,h=r[t++],1&p||(h=null),d=p>>2&7,t++;break;case 254:for(;;){if(!((D=r[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;default:throw new Error("Unknown graphic control label: 0x"+r[t-1].toString(16))}break;case 44:var g=r[t++]|r[t++]<<8,m=r[t++]|r[t++]<<8,v=r[t++]|r[t++]<<8,y=r[t++]|r[t++]<<8,b=r[t++],_=b>>6&1,T=1<<1+(7&b),I=o,N=l,F=!1;b>>7&&(F=!0,I=t,N=T,t+=3*T);var P=t;for(t++;;){var D;if(!((D=r[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}c.push({x:g,y:m,width:v,height:y,has_local_palette:F,palette_offset:I,palette_size:N,data_offset:P,data_length:t-P,transparent_index:h,interlaced:!!_,delay:f,disposal:d});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+r[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return A},this.frameInfo=function(R){if(R<0||R>=c.length)throw new Error("Frame index out of range.");return c[R]},this.decodeAndBlitFrameBGRA=function(R,E){var L=this.frameInfo(R),k=L.width*L.height,w=new Uint8Array(k);CY(r,L.data_offset,w,k);var C=L.palette_offset,S=L.transparent_index;S===null&&(S=256);var B=L.width,O=e-B,V=B,M=4*(L.y*e+L.x),U=4*((L.y+L.height)*e+L.x),Q=M,W=4*O;L.interlaced===!0&&(W+=4*e*7);for(var j=8,X=0,z=w.length;X<z;++X){var H=w[X];if(V===0&&(V=B,(Q+=W)>=U&&(W=4*O+4*e*(j-1),Q=M+(B+O)*(j<<1),j>>=1)),H===S)Q+=4;else{var K=r[C+3*H],Z=r[C+3*H+1],ie=r[C+3*H+2];E[Q++]=ie,E[Q++]=Z,E[Q++]=K,E[Q++]=255}--V}},this.decodeAndBlitFrameRGBA=function(R,E){var L=this.frameInfo(R),k=L.width*L.height,w=new Uint8Array(k);CY(r,L.data_offset,w,k);var C=L.palette_offset,S=L.transparent_index;S===null&&(S=256);var B=L.width,O=e-B,V=B,M=4*(L.y*e+L.x),U=4*((L.y+L.height)*e+L.x),Q=M,W=4*O;L.interlaced===!0&&(W+=4*e*7);for(var j=8,X=0,z=w.length;X<z;++X){var H=w[X];if(V===0&&(V=B,(Q+=W)>=U&&(W=4*O+4*e*(j-1),Q=M+(B+O)*(j<<1),j>>=1)),H===S)Q+=4;else{var K=r[C+3*H],Z=r[C+3*H+1],ie=r[C+3*H+2];E[Q++]=K,E[Q++]=Z,E[Q++]=ie,E[Q++]=255}--V}}}function CY(r,t,e,n){for(var i=r[t++],a=1<<i,s=a+1,o=s+1,l=i+1,u=(1<<l)-1,c=0,f=0,h=0,d=r[t++],A=new Int32Array(4096),p=null;;){for(;c<16&&d!==0;)f|=r[t++]<<c,c+=8,d===1?d=r[t++]:--d;if(c<l)break;var g=f&u;if(f>>=l,c-=l,g!==a){if(g===s)break;for(var m=g<o?g:p,v=0,y=m;y>a;)y=A[y]>>8,++v;var b=y;if(h+v+(m!==g?1:0)>n)return void hi.log("Warning, gif stream longer than expected.");e[h++]=b;var _=h+=v;for(m!==g&&(e[h++]=b),y=m;v--;)y=A[y],e[--_]=255&y,y>>=8;p!==null&&o<4096&&(A[o++]=p<<8|b,o>=u+1&&l<12&&(++l,u=u<<1|1)),p=g}else o=s+1,u=(1<<(l=i+1))-1,p=null}return h!==n&&hi.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function PN(r){var t,e,n,i,a,s=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),f=new Array(65535),h=new Array(65535),d=new Array(64),A=new Array(64),p=[],g=0,m=7,v=new Array(64),y=new Array(64),b=new Array(64),_=new Array(256),T=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],k=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function w(M,U){for(var Q=0,W=0,j=new Array,X=1;X<=16;X++){for(var z=1;z<=M[X];z++)j[U[W]]=[],j[U[W]][0]=Q,j[U[W]][1]=X,W++,Q++;Q*=2}return j}function C(M){for(var U=M[0],Q=M[1]-1;Q>=0;)U&1<<Q&&(g|=1<<m),Q--,--m<0&&(g==255?(S(255),S(0)):S(g),m=7,g=0)}function S(M){p.push(M)}function B(M){S(M>>8&255),S(255&M)}function O(M,U,Q,W,j){for(var X,z=j[0],H=j[240],K=function(ue,Fe){var Se,De,ge,Be,Pe,st,gt,we,Oe,at,Ve=0;for(Oe=0;Oe<8;++Oe){Se=ue[Ve],De=ue[Ve+1],ge=ue[Ve+2],Be=ue[Ve+3],Pe=ue[Ve+4],st=ue[Ve+5],gt=ue[Ve+6];var Qe=Se+(we=ue[Ve+7]),Ke=Se-we,Ue=De+gt,We=De-gt,yt=ge+st,Ne=ge-st,et=Be+Pe,ft=Be-Pe,lt=Qe+et,St=Qe-et,ut=Ue+yt,vt=Ue-yt;ue[Ve]=lt+ut,ue[Ve+4]=lt-ut;var Lt=.707106781*(vt+St);ue[Ve+2]=St+Lt,ue[Ve+6]=St-Lt;var zt=.382683433*((lt=ft+Ne)-(vt=We+Ke)),_t=.5411961*lt+zt,ar=1.306562965*vt+zt,Tr=.707106781*(ut=Ne+We),It=Ke+Tr,Ir=Ke-Tr;ue[Ve+5]=Ir+_t,ue[Ve+3]=Ir-_t,ue[Ve+1]=It+ar,ue[Ve+7]=It-ar,Ve+=8}for(Ve=0,Oe=0;Oe<8;++Oe){Se=ue[Ve],De=ue[Ve+8],ge=ue[Ve+16],Be=ue[Ve+24],Pe=ue[Ve+32],st=ue[Ve+40],gt=ue[Ve+48];var _r=Se+(we=ue[Ve+56]),tr=Se-we,je=De+gt,Ye=De-gt,ht=ge+st,oe=ge-st,ye=Be+Pe,he=Be-Pe,me=_r+ye,xe=_r-ye,be=je+ht,He=je-ht;ue[Ve]=me+be,ue[Ve+32]=me-be;var Ze=.707106781*(He+xe);ue[Ve+16]=xe+Ze,ue[Ve+48]=xe-Ze;var $e=.382683433*((me=he+oe)-(He=Ye+tr)),nt=.5411961*me+$e,Ee=1.306562965*He+$e,rt=.707106781*(be=oe+Ye),Bt=tr+rt,jt=tr-rt;ue[Ve+40]=jt+nt,ue[Ve+24]=jt-nt,ue[Ve+8]=Bt+Ee,ue[Ve+56]=Bt-Ee,Ve++}for(Oe=0;Oe<64;++Oe)at=ue[Oe]*Fe[Oe],d[Oe]=at>0?at+.5|0:at-.5|0;return d}(M,U),Z=0;Z<64;++Z)A[I[Z]]=K[Z];var ie=A[0]-Q;Q=A[0],ie==0?C(W[0]):(C(W[h[X=32767+ie]]),C(f[X]));for(var ee=63;ee>0&&A[ee]==0;)ee--;if(ee==0)return C(z),Q;for(var ne,te=1;te<=ee;){for(var le=te;A[te]==0&&te<=ee;)++te;var re=te-le;if(re>=16){ne=re>>4;for(var de=1;de<=ne;++de)C(H);re&=15}X=32767+A[te],C(j[(re<<4)+h[X]]),C(f[X]),te++}return ee!=63&&C(z),Q}function V(M){M=Math.min(Math.max(M,1),100),a!=M&&(function(U){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],W=0;W<64;W++){var j=s((Q[W]*U+50)/100);j=Math.min(Math.max(j,1),255),o[I[W]]=j}for(var X=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],z=0;z<64;z++){var H=s((X[z]*U+50)/100);H=Math.min(Math.max(H,1),255),l[I[z]]=H}for(var K=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Z=0,ie=0;ie<8;ie++)for(var ee=0;ee<8;ee++)u[Z]=1/(o[I[Z]]*K[ie]*K[ee]*8),c[Z]=1/(l[I[Z]]*K[ie]*K[ee]*8),Z++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),a=M)}this.encode=function(M,U){U&&V(U),p=new Array,g=0,m=7,B(65496),B(65504),B(16),S(74),S(70),S(73),S(70),S(0),S(1),S(1),S(0),B(1),B(1),S(0),S(0),function(){B(65499),B(132),S(0);for(var De=0;De<64;De++)S(o[De]);S(1);for(var ge=0;ge<64;ge++)S(l[ge])}(),function(De,ge){B(65472),B(17),S(8),B(ge),B(De),S(3),S(1),S(17),S(0),S(2),S(17),S(1),S(3),S(17),S(1)}(M.width,M.height),function(){B(65476),B(418),S(0);for(var De=0;De<16;De++)S(N[De+1]);for(var ge=0;ge<=11;ge++)S(F[ge]);S(16);for(var Be=0;Be<16;Be++)S(P[Be+1]);for(var Pe=0;Pe<=161;Pe++)S(D[Pe]);S(1);for(var st=0;st<16;st++)S(R[st+1]);for(var gt=0;gt<=11;gt++)S(E[gt]);S(17);for(var we=0;we<16;we++)S(L[we+1]);for(var Oe=0;Oe<=161;Oe++)S(k[Oe])}(),B(65498),B(12),S(3),S(1),S(0),S(2),S(17),S(3),S(17),S(0),S(63),S(0);var Q=0,W=0,j=0;g=0,m=7,this.encode.displayName="_encode_";for(var X,z,H,K,Z,ie,ee,ne,te,le=M.data,re=M.width,de=M.height,ue=4*re,Fe=0;Fe<de;){for(X=0;X<ue;){for(Z=ue*Fe+X,ee=-1,ne=0,te=0;te<64;te++)ie=Z+(ne=te>>3)*ue+(ee=4*(7&te)),Fe+ne>=de&&(ie-=ue*(Fe+1+ne-de)),X+ee>=ue&&(ie-=X+ee-ue+4),z=le[ie++],H=le[ie++],K=le[ie++],v[te]=(T[z]+T[H+256|0]+T[K+512|0]>>16)-128,y[te]=(T[z+768|0]+T[H+1024|0]+T[K+1280|0]>>16)-128,b[te]=(T[z+1280|0]+T[H+1536|0]+T[K+1792|0]>>16)-128;Q=O(v,u,Q,t,n),W=O(y,c,W,e,i),j=O(b,c,j,e,i),X+=32}Fe+=8}if(m>=0){var Se=[];Se[1]=m+1,Se[0]=(1<<m+1)-1,C(Se)}return B(65497),new Uint8Array(p)},r=r||50,function(){for(var M=String.fromCharCode,U=0;U<256;U++)_[U]=M(U)}(),t=w(N,F),e=w(R,E),n=w(P,D),i=w(L,k),function(){for(var M=1,U=2,Q=1;Q<=15;Q++){for(var W=M;W<U;W++)h[32767+W]=Q,f[32767+W]=[],f[32767+W][1]=Q,f[32767+W][0]=W;for(var j=-(U-1);j<=-M;j++)h[32767+j]=Q,f[32767+j]=[],f[32767+j][1]=Q,f[32767+j][0]=U-1+j;M<<=1,U<<=1}}(),function(){for(var M=0;M<256;M++)T[M]=19595*M,T[M+256|0]=38470*M,T[M+512|0]=7471*M+32768,T[M+768|0]=-11059*M,T[M+1024|0]=-21709*M,T[M+1280|0]=32768*M+8421375,T[M+1536|0]=-27439*M,T[M+1792|0]=-5329*M}(),V(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Wu(r,t){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function BY(r){function t(F){if(!F)throw Error("assert :P")}function e(F,P,D){for(var R=0;4>R;R++)if(F[P+R]!=D.charCodeAt(R))return!0;return!1}function n(F,P,D,R,E){for(var L=0;L<E;L++)F[P+L]=D[R+L]}function i(F,P,D,R){for(var E=0;E<R;E++)F[P+E]=D}function a(F){return new Int32Array(F)}function s(F,P){for(var D=[],R=0;R<F;R++)D.push(new P);return D}function o(F,P){var D=[];return function R(E,L,k){for(var w=k[L],C=0;C<w&&(E.push(k.length>L+1?[]:new P),!(k.length<L+1));C++)R(E[C],L+1,k)}(D,0,F),D}var l=function(){var F=this;function P(G,q){for(var J=1<<q-1>>>0;G&J;)J>>>=1;return J?(G&J-1)+J:G}function D(G,q,J,ae,fe){t(!(ae%J));do G[q+(ae-=J)]=fe;while(0<ae)}function R(G,q,J,ae,fe){if(t(2328>=fe),512>=fe)var pe=a(512);else if((pe=a(fe))==null)return 0;return function(ve,_e,Te,Ie,qe,mt){var Me,tt,ct=_e,Et=1<<Te,At=a(16),kt=a(16);for(t(qe!=0),t(Ie!=null),t(ve!=null),t(0<Te),tt=0;tt<qe;++tt){if(15<Ie[tt])return 0;++At[Ie[tt]]}if(At[0]==qe)return 0;for(kt[1]=0,Me=1;15>Me;++Me){if(At[Me]>1<<Me)return 0;kt[Me+1]=kt[Me]+At[Me]}for(tt=0;tt<qe;++tt)Me=Ie[tt],0<Ie[tt]&&(mt[kt[Me]++]=tt);if(kt[15]==1)return(Ie=new E).g=0,Ie.value=mt[0],D(ve,ct,1,Et,Ie),Et;var Ft,Vt=-1,Rt=Et-1,Mr=0,mr=1,un=1,Cr=1<<Te;for(tt=0,Me=1,qe=2;Me<=Te;++Me,qe<<=1){if(mr+=un<<=1,0>(un-=At[Me]))return 0;for(;0<At[Me];--At[Me])(Ie=new E).g=Me,Ie.value=mt[tt++],D(ve,ct+Mr,qe,Cr,Ie),Mr=P(Mr,Me)}for(Me=Te+1,qe=2;15>=Me;++Me,qe<<=1){if(mr+=un<<=1,0>(un-=At[Me]))return 0;for(;0<At[Me];--At[Me]){if(Ie=new E,(Mr&Rt)!=Vt){for(ct+=Cr,Ft=1<<(Vt=Me)-Te;15>Vt&&!(0>=(Ft-=At[Vt]));)++Vt,Ft<<=1;Et+=Cr=1<<(Ft=Vt-Te),ve[_e+(Vt=Mr&Rt)].g=Ft+Te,ve[_e+Vt].value=ct-_e-Vt}Ie.g=Me-Te,Ie.value=mt[tt++],D(ve,ct+(Mr>>Te),qe,Cr,Ie),Mr=P(Mr,Me)}}return mr!=2*kt[15]-1?0:Et}(G,q,J,ae,fe,pe)}function E(){this.value=this.g=0}function L(){this.value=this.g=0}function k(){this.G=s(5,E),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(k0,L)}function w(G,q,J,ae){t(G!=null),t(q!=null),t(2147483648>ae),G.Ca=254,G.I=0,G.b=-8,G.Ka=0,G.oa=q,G.pa=J,G.Jd=q,G.Yc=J+ae,G.Zc=4<=ae?J+ae-4+1:J,z(G)}function C(G,q){for(var J=0;0<q--;)J|=K(G,128)<<q;return J}function S(G,q){var J=C(G,q);return H(G)?-J:J}function B(G,q,J,ae){var fe,pe=0;for(t(G!=null),t(q!=null),t(4294967288>ae),G.Sb=ae,G.Ra=0,G.u=0,G.h=0,4<ae&&(ae=4),fe=0;fe<ae;++fe)pe+=q[J+fe]<<8*fe;G.Ra=pe,G.bb=ae,G.oa=q,G.pa=J}function O(G){for(;8<=G.u&&G.bb<G.Sb;)G.Ra>>>=8,G.Ra+=G.oa[G.pa+G.bb]<<cd-8>>>0,++G.bb,G.u-=8;W(G)&&(G.h=1,G.u=0)}function V(G,q){if(t(0<=q),!G.h&&q<=hl){var J=Q(G)&fl[q];return G.u+=q,O(G),J}return G.h=1,G.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(G){return G.Ra>>>(G.u&cd-1)>>>0}function W(G){return t(G.bb<=G.Sb),G.h||G.bb==G.Sb&&G.u>cd}function j(G,q){G.u=q,G.h=W(G)}function X(G){G.u>=Vf&&(t(G.u>=Vf),O(G))}function z(G){t(G!=null&&G.oa!=null),G.pa<G.Zc?(G.I=(G.oa[G.pa++]|G.I<<8)>>>0,G.b+=8):(t(G!=null&&G.oa!=null),G.pa<G.Yc?(G.b+=8,G.I=G.oa[G.pa++]|G.I<<8):G.Ka?G.b=0:(G.I<<=8,G.b+=8,G.Ka=1))}function H(G){return C(G,1)}function K(G,q){var J=G.Ca;0>G.b&&z(G);var ae=G.b,fe=J*q>>>8,pe=(G.I>>>ae>fe)+0;for(pe?(J-=fe,G.I-=fe+1<<ae>>>0):J=fe+1,ae=J,fe=0;256<=ae;)fe+=8,ae>>=8;return ae=7^fe+fd[ae],G.b-=ae,G.Ca=(J<<ae)-1,pe}function Z(G,q,J){G[q+0]=J>>24&255,G[q+1]=J>>16&255,G[q+2]=J>>8&255,G[q+3]=255&J}function ie(G,q){return G[q+0]|G[q+1]<<8}function ee(G,q){return ie(G,q)|G[q+2]<<16}function ne(G,q){return ie(G,q)|ie(G,q+2)<<16}function te(G,q){var J=1<<q;return t(G!=null),t(0<q),G.X=a(J),G.X==null?0:(G.Mb=32-q,G.Xa=q,1)}function le(G,q){t(G!=null),t(q!=null),t(G.Xa==q.Xa),n(q.X,0,G.X,0,1<<q.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function de(G,q,J,ae){t(J!=null),t(ae!=null);var fe=J[0],pe=ae[0];return fe==0&&(fe=(G*pe+q/2)/q),pe==0&&(pe=(q*fe+G/2)/G),0>=fe||0>=pe?0:(J[0]=fe,ae[0]=pe,1)}function ue(G,q){return G+(1<<q)-1>>>q}function Fe(G,q){return((4278255360&G)+(4278255360&q)>>>0&4278255360)+((16711935&G)+(16711935&q)>>>0&16711935)>>>0}function Se(G,q){F[q]=function(J,ae,fe,pe,ve,_e,Te){var Ie;for(Ie=0;Ie<ve;++Ie){var qe=F[G](_e[Te+Ie-1],fe,pe+Ie);_e[Te+Ie]=Fe(J[ae+Ie],qe)}}}function De(){this.ud=this.hd=this.jd=0}function ge(G,q){return((4278124286&(G^q))>>>1)+(G&q)>>>0}function Be(G){return 0<=G&&256>G?G:0>G?0:255<G?255:void 0}function Pe(G,q){return Be(G+(G-q+.5>>1))}function st(G,q,J){return Math.abs(q-J)-Math.abs(G-J)}function gt(G,q,J,ae,fe,pe,ve){for(ae=pe[ve-1],J=0;J<fe;++J)pe[ve+J]=ae=Fe(G[q+J],ae)}function we(G,q,J,ae,fe){var pe;for(pe=0;pe<J;++pe){var ve=G[q+pe],_e=ve>>8&255,Te=16711935&(Te=(Te=16711935&ve)+((_e<<16)+_e));ae[fe+pe]=(4278255360&ve)+Te>>>0}}function Oe(G,q){q.jd=255&G,q.hd=G>>8&255,q.ud=G>>16&255}function at(G,q,J,ae,fe,pe){var ve;for(ve=0;ve<ae;++ve){var _e=q[J+ve],Te=_e>>>8,Ie=_e,qe=255&(qe=(qe=_e>>>16)+((G.jd<<24>>24)*(Te<<24>>24)>>>5));Ie=255&(Ie=(Ie+=(G.hd<<24>>24)*(Te<<24>>24)>>>5)+((G.ud<<24>>24)*(qe<<24>>24)>>>5)),fe[pe+ve]=(4278255360&_e)+(qe<<16)+Ie}}function Ve(G,q,J,ae,fe){F[q]=function(pe,ve,_e,Te,Ie,qe,mt,Me,tt){for(Te=mt;Te<Me;++Te)for(mt=0;mt<tt;++mt)Ie[qe++]=fe(_e[ae(pe[ve++])])},F[G]=function(pe,ve,_e,Te,Ie,qe,mt){var Me=8>>pe.b,tt=pe.Ea,ct=pe.K[0],Et=pe.w;if(8>Me)for(pe=(1<<pe.b)-1,Et=(1<<Me)-1;ve<_e;++ve){var At,kt=0;for(At=0;At<tt;++At)At&pe||(kt=ae(Te[Ie++])),qe[mt++]=fe(ct[kt&Et]),kt>>=Me}else F["VP8LMapColor"+J](Te,Ie,ct,Et,qe,mt,ve,_e,tt)}}function Qe(G,q,J,ae,fe){for(J=q+J;q<J;){var pe=G[q++];ae[fe++]=pe>>16&255,ae[fe++]=pe>>8&255,ae[fe++]=255&pe}}function Ke(G,q,J,ae,fe){for(J=q+J;q<J;){var pe=G[q++];ae[fe++]=pe>>16&255,ae[fe++]=pe>>8&255,ae[fe++]=255&pe,ae[fe++]=pe>>24&255}}function Ue(G,q,J,ae,fe){for(J=q+J;q<J;){var pe=(ve=G[q++])>>16&240|ve>>12&15,ve=240&ve|ve>>28&15;ae[fe++]=pe,ae[fe++]=ve}}function We(G,q,J,ae,fe){for(J=q+J;q<J;){var pe=(ve=G[q++])>>16&248|ve>>13&7,ve=ve>>5&224|ve>>3&31;ae[fe++]=pe,ae[fe++]=ve}}function yt(G,q,J,ae,fe){for(J=q+J;q<J;){var pe=G[q++];ae[fe++]=255&pe,ae[fe++]=pe>>8&255,ae[fe++]=pe>>16&255}}function Ne(G,q,J,ae,fe,pe){if(pe==0)for(J=q+J;q<J;)Z(ae,((pe=G[q++])[0]>>24|pe[1]>>8&65280|pe[2]<<8&16711680|pe[3]<<24)>>>0),fe+=32;else n(ae,fe,G,q,J)}function et(G,q){F[q][0]=F[G+"0"],F[q][1]=F[G+"1"],F[q][2]=F[G+"2"],F[q][3]=F[G+"3"],F[q][4]=F[G+"4"],F[q][5]=F[G+"5"],F[q][6]=F[G+"6"],F[q][7]=F[G+"7"],F[q][8]=F[G+"8"],F[q][9]=F[G+"9"],F[q][10]=F[G+"10"],F[q][11]=F[G+"11"],F[q][12]=F[G+"12"],F[q][13]=F[G+"13"],F[q][14]=F[G+"0"],F[q][15]=F[G+"0"]}function ft(G){return G==oB||G==lB||G==I_||G==uB}function lt(){this.eb=[],this.size=this.A=this.fb=0}function St(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ut(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new lt,this.f.kb=new St,this.sd=null}function vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Lt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function zt(G){return alert("todo:WebPSamplerProcessPlane"),G.T}function _t(G,q){var J=G.T,ae=q.ba.f.RGBA,fe=ae.eb,pe=ae.fb+G.ka*ae.A,ve=Jl[q.ba.S],_e=G.y,Te=G.O,Ie=G.f,qe=G.N,mt=G.ea,Me=G.W,tt=q.cc,ct=q.dc,Et=q.Mc,At=q.Nc,kt=G.ka,Ft=G.ka+G.T,Vt=G.U,Rt=Vt+1>>1;for(kt==0?ve(_e,Te,null,null,Ie,qe,mt,Me,Ie,qe,mt,Me,fe,pe,null,null,Vt):(ve(q.ec,q.fc,_e,Te,tt,ct,Et,At,Ie,qe,mt,Me,fe,pe-ae.A,fe,pe,Vt),++J);kt+2<Ft;kt+=2)tt=Ie,ct=qe,Et=mt,At=Me,qe+=G.Rc,Me+=G.Rc,pe+=2*ae.A,ve(_e,(Te+=2*G.fa)-G.fa,_e,Te,tt,ct,Et,At,Ie,qe,mt,Me,fe,pe-ae.A,fe,pe,Vt);return Te+=G.fa,G.j+Ft<G.o?(n(q.ec,q.fc,_e,Te,Vt),n(q.cc,q.dc,Ie,qe,Rt),n(q.Mc,q.Nc,mt,Me,Rt),J--):1&Ft||ve(_e,Te,null,null,Ie,qe,mt,Me,Ie,qe,mt,Me,fe,pe+ae.A,null,null,Vt),J}function ar(G,q,J){var ae=G.F,fe=[G.J];if(ae!=null){var pe=G.U,ve=q.ba.S,_e=ve==F_||ve==I_;q=q.ba.f.RGBA;var Te=[0],Ie=G.ka;Te[0]=G.T,G.Kb&&(Ie==0?--Te[0]:(--Ie,fe[0]-=G.width),G.j+G.ka+G.T==G.o&&(Te[0]=G.o-G.j-Ie));var qe=q.eb;Ie=q.fb+Ie*q.A,G=uO(ae,fe[0],G.width,pe,Te,qe,Ie+(_e?0:3),q.A),t(J==Te),G&&ft(ve)&&Oy(qe,Ie,_e,pe,Te,q.A)}return 0}function Tr(G){var q=G.ma,J=q.ba.S,ae=11>J,fe=J==k_||J==N_||J==F_||J==sB||J==12||ft(J);if(q.memory=null,q.Ib=null,q.Jb=null,q.Nd=null,!Ny(q.Oa,G,fe?11:12))return 0;if(fe&&ft(J)&&__(),G.da)alert("todo:use_scaling");else{if(ae){if(q.Ib=zt,G.Kb){if(J=G.U+1>>1,q.memory=a(G.U+2*J),q.memory==null)return 0;q.ec=q.memory,q.fc=0,q.cc=q.ec,q.dc=q.fc+G.U,q.Mc=q.cc,q.Nc=q.dc+J,q.Ib=_t,__()}}else alert("todo:EmitYUV");fe&&(q.Jb=ar,ae&&ql())}if(ae&&!BO){for(G=0;256>G;++G)Xhe[G]=89858*(G-128)+L_>>M_,Jhe[G]=-22014*(G-128)+L_,Zhe[G]=-45773*(G-128),Yhe[G]=113618*(G-128)+L_>>M_;for(G=Uy;G<hB;++G)q=76283*(G-16)+L_>>M_,ede[G-Uy]=Qi(q,255),tde[G-Uy]=Qi(q+8>>4,15);BO=1}return 1}function It(G){var q=G.ma,J=G.U,ae=G.T;return t(!(1&G.ka)),0>=J||0>=ae?0:(J=q.Ib(G,q),q.Jb!=null&&q.Jb(G,q,J),q.Dc+=J,1)}function Ir(G){G.ma.memory=null}function _r(G,q,J,ae){return V(G,8)!=47?0:(q[0]=V(G,14)+1,J[0]=V(G,14)+1,ae[0]=V(G,1),V(G,3)!=0?0:!G.h)}function tr(G,q){if(4>G)return G+1;var J=G-2>>1;return(2+(1&G)<<J)+V(q,J)+1}function je(G,q){return 120<q?q-120:1<=(J=((J=Phe[q-1])>>4)*G+(8-(15&J)))?J:1;var J}function Ye(G,q,J){var ae=Q(J),fe=G[q+=255&ae].g-8;return 0<fe&&(j(J,J.u+8),ae=Q(J),q+=G[q].value,q+=ae&(1<<fe)-1),j(J,J.u+G[q].g),G[q].value}function ht(G,q,J){return J.g+=G.g,J.value+=G.value<<q>>>0,t(8>=J.g),G.g}function oe(G,q,J){var ae=G.xc;return t((q=ae==0?0:G.vc[G.md*(J>>ae)+(q>>ae)])<G.Wb),G.Ya[q]}function ye(G,q,J,ae){var fe=G.ab,pe=G.c*q,ve=G.C;q=ve+q;var _e=J,Te=ae;for(ae=G.Ta,J=G.Ua;0<fe--;){var Ie=G.gc[fe],qe=ve,mt=q,Me=_e,tt=Te,ct=(Te=ae,_e=J,Ie.Ea);switch(t(qe<mt),t(mt<=Ie.nc),Ie.hc){case 2:sa(Me,tt,(mt-qe)*ct,Te,_e);break;case 0:var Et=qe,At=mt,kt=Te,Ft=_e,Vt=(Cr=Ie).Ea;Et==0&&(Iy(Me,tt,null,null,1,kt,Ft),gt(Me,tt+1,0,0,Vt-1,kt,Ft+1),tt+=Vt,Ft+=Vt,++Et);for(var Rt=1<<Cr.b,Mr=Rt-1,mr=ue(Vt,Cr.b),un=Cr.K,Cr=Cr.w+(Et>>Cr.b)*mr;Et<At;){var Bn=un,Oa=Cr,cn=1;for(nm(Me,tt,kt,Ft-Vt,1,kt,Ft);cn<Vt;){var Br=(cn&~Mr)+Rt;Br>Vt&&(Br=Vt),(0,Ly[Bn[Oa++]>>8&15])(Me,tt+ +cn,kt,Ft+cn-Vt,Br-cn,kt,Ft+cn),cn=Br}tt+=Vt,Ft+=Vt,++Et&Mr||(Cr+=mr)}mt!=Ie.nc&&n(Te,_e-ct,Te,_e+(mt-qe-1)*ct,ct);break;case 1:for(ct=Me,At=tt,Vt=(Me=Ie.Ea)-(Ft=Me&~(kt=(tt=1<<Ie.b)-1)),Et=ue(Me,Ie.b),Rt=Ie.K,Ie=Ie.w+(qe>>Ie.b)*Et;qe<mt;){for(Mr=Rt,mr=Ie,un=new De,Cr=At+Ft,Bn=At+Me;At<Cr;)Oe(Mr[mr++],un),Dy(un,ct,At,tt,Te,_e),At+=tt,_e+=tt;At<Bn&&(Oe(Mr[mr++],un),Dy(un,ct,At,Vt,Te,_e),At+=Vt,_e+=Vt),++qe&kt||(Ie+=Et)}break;case 3:if(Me==Te&&tt==_e&&0<Ie.b){for(At=Te,Me=ct=_e+(mt-qe)*ct-(Ft=(mt-qe)*ue(Ie.Ea,Ie.b)),tt=Te,kt=_e,Et=[],Ft=(Vt=Ft)-1;0<=Ft;--Ft)Et[Ft]=tt[kt+Ft];for(Ft=Vt-1;0<=Ft;--Ft)At[Me+Ft]=Et[Ft];C_(Ie,qe,mt,Te,ct,Te,_e)}else C_(Ie,qe,mt,Me,tt,Te,_e)}_e=ae,Te=J}Te!=J&&n(ae,J,_e,Te,pe)}function he(G,q){var J=G.V,ae=G.Ba+G.c*G.C,fe=q-G.C;if(t(q<=G.l.o),t(16>=fe),0<fe){var pe=G.l,ve=G.Ta,_e=G.Ua,Te=pe.width;if(ye(G,fe,J,ae),fe=_e=[_e],t((J=G.C)<(ae=q)),t(pe.v<pe.va),ae>pe.o&&(ae=pe.o),J<pe.j){var Ie=pe.j-J;J=pe.j,fe[0]+=Ie*Te}if(J>=ae?J=0:(fe[0]+=4*pe.v,pe.ka=J-pe.j,pe.U=pe.va-pe.v,pe.T=ae-J,J=1),J){if(_e=_e[0],11>(J=G.ca).S){var qe=J.f.RGBA,mt=(ae=J.S,fe=pe.U,pe=pe.T,Ie=qe.eb,qe.A),Me=pe;for(qe=qe.fb+G.Ma*qe.A;0<Me--;){var tt=ve,ct=_e,Et=fe,At=Ie,kt=qe;switch(ae){case E_:Py(tt,ct,Et,At,kt);break;case k_:hd(tt,ct,Et,At,kt);break;case oB:hd(tt,ct,Et,At,kt),Oy(At,kt,0,Et,1,0);break;case gO:N0(tt,ct,Et,At,kt);break;case N_:Ne(tt,ct,Et,At,kt,1);break;case lB:Ne(tt,ct,Et,At,kt,1),Oy(At,kt,0,Et,1,0);break;case F_:Ne(tt,ct,Et,At,kt,0);break;case I_:Ne(tt,ct,Et,At,kt,0),Oy(At,kt,1,Et,1,0);break;case sB:dd(tt,ct,Et,At,kt);break;case uB:dd(tt,ct,Et,At,kt),lO(At,kt,Et,1,0);break;case mO:Ad(tt,ct,Et,At,kt);break;default:t(0)}_e+=Te,qe+=mt}G.Ma+=pe}else alert("todo:EmitRescaledRowsYUVA");t(G.Ma<=J.height)}}G.C=q,t(G.C<=G.i)}function me(G){var q;if(0<G.ua)return 0;for(q=0;q<G.Wb;++q){var J=G.Ya[q].G,ae=G.Ya[q].H;if(0<J[1][ae[1]+0].g||0<J[2][ae[2]+0].g||0<J[3][ae[3]+0].g)return 0}return 1}function xe(G,q,J,ae,fe,pe){if(G.Z!=0){var ve=G.qd,_e=G.rd;for(t(md[G.Z]!=null);q<J;++q)md[G.Z](ve,_e,ae,fe,ae,fe,pe),ve=ae,_e=fe,fe+=pe;G.qd=ve,G.rd=_e}}function be(G,q){var J=G.l.ma,ae=J.Z==0||J.Z==1?G.l.j:G.C;if(ae=G.C<ae?ae:G.C,t(q<=G.l.o),q>ae){var fe=G.l.width,pe=J.ca,ve=J.tb+fe*ae,_e=G.V,Te=G.Ba+G.c*ae,Ie=G.gc;t(G.ab==1),t(Ie[0].hc==3),Lc(Ie[0],ae,q,_e,Te,pe,ve),xe(J,ae,q,pe,ve,fe)}G.C=G.Ma=q}function He(G,q,J,ae,fe,pe,ve){var _e=G.$/ae,Te=G.$%ae,Ie=G.m,qe=G.s,mt=J+G.$,Me=mt;fe=J+ae*fe;var tt=J+ae*pe,ct=280+qe.ua,Et=G.Pb?_e:16777216,At=0<qe.ua?qe.Wa:null,kt=qe.wc,Ft=mt<tt?oe(qe,Te,_e):null;t(G.C<pe),t(tt<=fe);var Vt=!1;e:for(;;){for(;Vt||mt<tt;){var Rt=0;if(_e>=Et){var Mr=mt-J;t((Et=G).Pb),Et.wd=Et.m,Et.xd=Mr,0<Et.s.ua&&le(Et.s.Wa,Et.s.vb),Et=_e+Ohe}if(Te&kt||(Ft=oe(qe,Te,_e)),t(Ft!=null),Ft.Qb&&(q[mt]=Ft.qb,Vt=!0),!Vt)if(X(Ie),Ft.jc){Rt=Ie,Mr=q;var mr=mt,un=Ft.pd[Q(Rt)&k0-1];t(Ft.jc),256>un.g?(j(Rt,Rt.u+un.g),Mr[mr]=un.value,Rt=0):(j(Rt,Rt.u+un.g-256),t(256<=un.value),Rt=un.value),Rt==0&&(Vt=!0)}else Rt=Ye(Ft.G[0],Ft.H[0],Ie);if(Ie.h)break;if(Vt||256>Rt){if(!Vt)if(Ft.nd)q[mt]=(Ft.qb|Rt<<8)>>>0;else{if(X(Ie),Vt=Ye(Ft.G[1],Ft.H[1],Ie),X(Ie),Mr=Ye(Ft.G[2],Ft.H[2],Ie),mr=Ye(Ft.G[3],Ft.H[3],Ie),Ie.h)break;q[mt]=(mr<<24|Vt<<16|Rt<<8|Mr)>>>0}if(Vt=!1,++mt,++Te>=ae&&(Te=0,++_e,ve!=null&&_e<=pe&&!(_e%16)&&ve(G,_e),At!=null))for(;Me<mt;)Rt=q[Me++],At.X[(506832829*Rt&4294967295)>>>At.Mb]=Rt}else if(280>Rt){if(Rt=tr(Rt-256,Ie),Mr=Ye(Ft.G[4],Ft.H[4],Ie),X(Ie),Mr=je(ae,Mr=tr(Mr,Ie)),Ie.h)break;if(mt-J<Mr||fe-mt<Rt)break e;for(mr=0;mr<Rt;++mr)q[mt+mr]=q[mt+mr-Mr];for(mt+=Rt,Te+=Rt;Te>=ae;)Te-=ae,++_e,ve!=null&&_e<=pe&&!(_e%16)&&ve(G,_e);if(t(mt<=fe),Te&kt&&(Ft=oe(qe,Te,_e)),At!=null)for(;Me<mt;)Rt=q[Me++],At.X[(506832829*Rt&4294967295)>>>At.Mb]=Rt}else{if(!(Rt<ct))break e;for(Vt=Rt-280,t(At!=null);Me<mt;)Rt=q[Me++],At.X[(506832829*Rt&4294967295)>>>At.Mb]=Rt;Rt=mt,t(!(Vt>>>(Mr=At).Xa)),q[Rt]=Mr.X[Vt],Vt=!0}Vt||t(Ie.h==W(Ie))}if(G.Pb&&Ie.h&&mt<fe)t(G.m.h),G.a=5,G.m=G.wd,G.$=G.xd,0<G.s.ua&&le(G.s.vb,G.s.Wa);else{if(Ie.h)break e;ve!=null&&ve(G,_e>pe?pe:_e),G.a=0,G.$=mt-J}return 1}return G.a=3,0}function Ze(G){t(G!=null),G.vc=null,G.yc=null,G.Ya=null;var q=G.Wa;q!=null&&(q.X=null),G.vb=null,t(G!=null)}function $e(){var G=new kr;return G==null?null:(G.a=0,G.xb=xO,et("Predictor","VP8LPredictors"),et("Predictor","VP8LPredictors_C"),et("PredictorAdd","VP8LPredictorsAdd"),et("PredictorAdd","VP8LPredictorsAdd_C"),sa=we,Dy=at,Py=Qe,hd=Ke,dd=Ue,Ad=We,N0=yt,F.VP8LMapColor32b=Mc,F.VP8LMapColor8b=My,G)}function nt(G,q,J,ae,fe){var pe=1,ve=[G],_e=[q],Te=ae.m,Ie=ae.s,qe=null,mt=0;e:for(;;){if(J)for(;pe&&V(Te,1);){var Me=ve,tt=_e,ct=ae,Et=1,At=ct.m,kt=ct.gc[ct.ab],Ft=V(At,2);if(ct.Oc&1<<Ft)pe=0;else{switch(ct.Oc|=1<<Ft,kt.hc=Ft,kt.Ea=Me[0],kt.nc=tt[0],kt.K=[null],++ct.ab,t(4>=ct.ab),Ft){case 0:case 1:kt.b=V(At,3)+2,Et=nt(ue(kt.Ea,kt.b),ue(kt.nc,kt.b),0,ct,kt.K),kt.K=kt.K[0];break;case 3:var Vt,Rt=V(At,8)+1,Mr=16<Rt?0:4<Rt?1:2<Rt?2:3;if(Me[0]=ue(kt.Ea,Mr),kt.b=Mr,Vt=Et=nt(Rt,1,0,ct,kt.K)){var mr,un=Rt,Cr=kt,Bn=1<<(8>>Cr.b),Oa=a(Bn);if(Oa==null)Vt=0;else{var cn=Cr.K[0],Br=Cr.w;for(Oa[0]=Cr.K[0][0],mr=1;mr<1*un;++mr)Oa[mr]=Fe(cn[Br+mr],Oa[mr-1]);for(;mr<4*Bn;++mr)Oa[mr]=0;Cr.K[0]=null,Cr.K[0]=Oa,Vt=1}}Et=Vt;break;case 2:break;default:t(0)}pe=Et}}if(ve=ve[0],_e=_e[0],pe&&V(Te,1)&&!(pe=1<=(mt=V(Te,4))&&11>=mt)){ae.a=3;break e}var er;if(er=pe)t:{var la,sn,Fn,wi=ae,ys=ve,Ao=_e,zi=mt,Ws=J,po=wi.m,ja=wi.s,In=[null],Kn=1,Vi=0,qn=Rhe[zi];r:for(;;){if(Ws&&V(po,1)){var xs=V(po,3)+2,Uu=ue(ys,xs),ua=ue(Ao,xs),Uo=Uu*ua;if(!nt(Uu,ua,0,wi,In))break r;for(In=In[0],ja.xc=xs,la=0;la<Uo;++la){var fi=In[la]>>8&65535;In[la]=fi,fi>=Kn&&(Kn=fi+1)}}if(po.h)break r;for(sn=0;5>sn;++sn){var Ua=vO[sn];!sn&&0<zi&&(Ua+=1<<zi),Vi<Ua&&(Vi=Ua)}var Al=s(Kn*qn,E),go=Kn,pl=s(go,k);if(pl==null)var gl=null;else t(65536>=go),gl=pl;var Ho=a(Vi);if(gl==null||Ho==null||Al==null){wi.a=1;break r}var ml=Al;for(la=Fn=0;la<Kn;++la){var pi=gl[la],vl=pi.G,Hu=pi.H,I0=0,$f=1,bs=0;for(sn=0;5>sn;++sn){Ua=vO[sn],vl[sn]=ml,Hu[sn]=Fn,!sn&&0<zi&&(Ua+=1<<zi);i:{var P_,dB=Ua,R_=wi,Hy=Ho,ide=ml,ade=Fn,AB=0,vd=R_.m,sde=V(vd,1);if(i(Hy,0,0,dB),sde){var ode=V(vd,1)+1,lde=V(vd,1),kO=V(vd,lde==0?1:8);Hy[kO]=1,ode==2&&(Hy[kO=V(vd,8)]=1);var O_=1}else{var NO=a(19),FO=V(vd,4)+4;if(19<FO){R_.a=3;var j_=0;break i}for(P_=0;P_<FO;++P_)NO[Dhe[P_]]=V(vd,3);var pB=void 0,Qy=void 0,IO=R_,ude=NO,U_=dB,MO=Hy,gB=0,yd=IO.m,LO=8,DO=s(128,E);n:for(;R(DO,0,7,ude,19);){if(V(yd,1)){var cde=2+2*V(yd,3);if((pB=2+V(yd,cde))>U_)break n}else pB=U_;for(Qy=0;Qy<U_&&pB--;){X(yd);var PO=DO[0+(127&Q(yd))];j(yd,yd.u+PO.g);var am=PO.value;if(16>am)MO[Qy++]=am,am!=0&&(LO=am);else{var fde=am==16,RO=am-16,hde=Mhe[RO],OO=V(yd,Ihe[RO])+hde;if(Qy+OO>U_)break n;for(var dde=fde?LO:0;0<OO--;)MO[Qy++]=dde}}gB=1;break n}gB||(IO.a=3),O_=gB}(O_=O_&&!vd.h)&&(AB=R(ide,ade,8,Hy,dB)),O_&&AB!=0?j_=AB:(R_.a=3,j_=0)}if(j_==0)break r;if($f&&Lhe[sn]==1&&($f=ml[Fn].g==0),I0+=ml[Fn].g,Fn+=j_,3>=sn){var zy,mB=Ho[0];for(zy=1;zy<Ua;++zy)Ho[zy]>mB&&(mB=Ho[zy]);bs+=mB}}if(pi.nd=$f,pi.Qb=0,$f&&(pi.qb=(vl[3][Hu[3]+0].value<<24|vl[1][Hu[1]+0].value<<16|vl[2][Hu[2]+0].value)>>>0,I0==0&&256>vl[0][Hu[0]+0].value&&(pi.Qb=1,pi.qb+=vl[0][Hu[0]+0].value<<8)),pi.jc=!pi.Qb&&6>bs,pi.jc){var H_,Kf=pi;for(H_=0;H_<k0;++H_){var xd=H_,bd=Kf.pd[xd],Q_=Kf.G[0][Kf.H[0]+xd];256<=Q_.value?(bd.g=Q_.g+256,bd.value=Q_.value):(bd.g=0,bd.value=0,xd>>=ht(Q_,8,bd),xd>>=ht(Kf.G[1][Kf.H[1]+xd],16,bd),xd>>=ht(Kf.G[2][Kf.H[2]+xd],0,bd),ht(Kf.G[3][Kf.H[3]+xd],24,bd))}}}ja.vc=In,ja.Wb=Kn,ja.Ya=gl,ja.yc=Al,er=1;break t}er=0}if(!(pe=er)){ae.a=3;break e}if(0<mt){if(Ie.ua=1<<mt,!te(Ie.Wa,mt)){ae.a=1,pe=0;break e}}else Ie.ua=0;var vB=ae,jO=ve,Ade=_e,yB=vB.s,xB=yB.xc;if(vB.c=jO,vB.i=Ade,yB.md=ue(jO,xB),yB.wc=xB==0?-1:(1<<xB)-1,J){ae.xb=Ghe;break e}if((qe=a(ve*_e))==null){ae.a=1,pe=0;break e}pe=(pe=He(ae,qe,0,ve,_e,_e,null))&&!Te.h;break e}return pe?(fe!=null?fe[0]=qe:(t(qe==null),t(J)),ae.$=0,J||Ze(Ie)):Ze(Ie),pe}function Ee(G,q){var J=G.c*G.i,ae=J+q+16*q;return t(G.c<=q),G.V=a(ae),G.V==null?(G.Ta=null,G.Ua=0,G.a=1,0):(G.Ta=G.V,G.Ua=G.Ba+J+q,1)}function rt(G,q){var J=G.C,ae=q-J,fe=G.V,pe=G.Ba+G.c*J;for(t(q<=G.l.o);0<ae;){var ve=16<ae?16:ae,_e=G.l.ma,Te=G.l.width,Ie=Te*ve,qe=_e.ca,mt=_e.tb+Te*J,Me=G.Ta,tt=G.Ua;ye(G,ve,fe,pe),cO(Me,tt,qe,mt,Ie),xe(_e,J,J+ve,qe,mt,Te),ae-=ve,fe+=ve*G.c,J+=ve}t(J==q),G.C=G.Ma=q}function Bt(){this.ub=this.yd=this.td=this.Rb=0}function jt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ae(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Re(){this.Yb=function(){var G=[];return function q(J,ae,fe){for(var pe=fe[ae],ve=0;ve<pe&&(J.push(fe.length>ae+1?[]:0),!(fe.length<ae+1));ve++)q(J[ve],ae+1,fe)}(G,0,[3,11]),G}()}function it(){this.jb=a(3),this.Wc=o([4,8],Re),this.Xc=o([4,17],Re)}function bt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Pt(){this.ld=this.La=this.dd=this.tc=0}function Mt(){this.Na=this.la=0}function Gt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function jr(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Pr(){this.uc=this.M=this.Nb=0,this.wa=Array(new Pt),this.Y=0,this.ya=Array(new jr),this.aa=0,this.l=new Wr}function Rr(){this.y=a(16),this.f=a(8),this.ea=a(8)}function vr(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new Bt,this.Kc=new jt,this.ed=new bt,this.Qa=new Ae,this.Ic=this.$c=this.Aa=0,this.D=new Pr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,M),this.ia=0,this.pb=s(4,Gt),this.Pa=new it,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Rr),this.Hd=0,this.rb=Array(new Mt),this.sb=0,this.wa=Array(new Pt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new jr),this.L=this.aa=0,this.gd=o([4,2],Pt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Wr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function xn(){var G=new vr;return G!=null&&(G.a=0,G.sc="OK",G.cb=0,G.Xb=0,jy||(jy=ui)),G}function Qr(G,q,J){return G.a==0&&(G.a=q,G.sc=J,G.cb=0),0}function Qn(G,q,J){return 3<=J&&G[q+0]==157&&G[q+1]==1&&G[q+2]==42}function bi(G,q){if(G==null)return 0;if(G.a=0,G.sc="OK",q==null)return Qr(G,2,"null VP8Io passed to VP8GetHeaders()");var J=q.data,ae=q.w,fe=q.ha;if(4>fe)return Qr(G,7,"Truncated header.");var pe=J[ae+0]|J[ae+1]<<8|J[ae+2]<<16,ve=G.Od;if(ve.Rb=!(1&pe),ve.td=pe>>1&7,ve.yd=pe>>4&1,ve.ub=pe>>5,3<ve.td)return Qr(G,3,"Incorrect keyframe parameters.");if(!ve.yd)return Qr(G,4,"Frame not displayable.");ae+=3,fe-=3;var _e=G.Kc;if(ve.Rb){if(7>fe)return Qr(G,7,"cannot parse picture header");if(!Qn(J,ae,fe))return Qr(G,3,"Bad code word");_e.c=16383&(J[ae+4]<<8|J[ae+3]),_e.Td=J[ae+4]>>6,_e.i=16383&(J[ae+6]<<8|J[ae+5]),_e.Ud=J[ae+6]>>6,ae+=7,fe-=7,G.za=_e.c+15>>4,G.Ub=_e.i+15>>4,q.width=_e.c,q.height=_e.i,q.Da=0,q.j=0,q.v=0,q.va=q.width,q.o=q.height,q.da=0,q.ib=q.width,q.hb=q.height,q.U=q.width,q.T=q.height,i((pe=G.Pa).jb,0,255,pe.jb.length),t((pe=G.Qa)!=null),pe.Cb=0,pe.Bb=0,pe.Fb=1,i(pe.Zb,0,0,pe.Zb.length),i(pe.Lb,0,0,pe.Lb)}if(ve.ub>fe)return Qr(G,7,"bad partition length");w(pe=G.m,J,ae,ve.ub),ae+=ve.ub,fe-=ve.ub,ve.Rb&&(_e.Ld=H(pe),_e.Kd=H(pe)),_e=G.Qa;var Te,Ie=G.Pa;if(t(pe!=null),t(_e!=null),_e.Cb=H(pe),_e.Cb){if(_e.Bb=H(pe),H(pe)){for(_e.Fb=H(pe),Te=0;4>Te;++Te)_e.Zb[Te]=H(pe)?S(pe,7):0;for(Te=0;4>Te;++Te)_e.Lb[Te]=H(pe)?S(pe,6):0}if(_e.Bb)for(Te=0;3>Te;++Te)Ie.jb[Te]=H(pe)?C(pe,8):255}else _e.Bb=0;if(pe.Ka)return Qr(G,3,"cannot parse segment header");if((_e=G.ed).zd=H(pe),_e.Tb=C(pe,6),_e.wb=C(pe,3),_e.Pc=H(pe),_e.Pc&&H(pe)){for(Ie=0;4>Ie;++Ie)H(pe)&&(_e.vd[Ie]=S(pe,6));for(Ie=0;4>Ie;++Ie)H(pe)&&(_e.od[Ie]=S(pe,6))}if(G.L=_e.Tb==0?0:_e.zd?1:2,pe.Ka)return Qr(G,3,"cannot parse filter header");var qe=fe;if(fe=Te=ae,ae=Te+qe,_e=qe,G.Xb=(1<<C(G.m,2))-1,qe<3*(Ie=G.Xb))J=7;else{for(Te+=3*Ie,_e-=3*Ie,qe=0;qe<Ie;++qe){var mt=J[fe+0]|J[fe+1]<<8|J[fe+2]<<16;mt>_e&&(mt=_e),w(G.Jc[+qe],J,Te,mt),Te+=mt,_e-=mt,fe+=3}w(G.Jc[+Ie],J,Te,_e),J=Te<ae?0:5}if(J!=0)return Qr(G,J,"cannot parse partitions");for(J=C(Te=G.m,7),fe=H(Te)?S(Te,4):0,ae=H(Te)?S(Te,4):0,_e=H(Te)?S(Te,4):0,Ie=H(Te)?S(Te,4):0,Te=H(Te)?S(Te,4):0,qe=G.Qa,mt=0;4>mt;++mt){if(qe.Cb){var Me=qe.Zb[mt];qe.Fb||(Me+=J)}else{if(0<mt){G.pb[mt]=G.pb[0];continue}Me=J}var tt=G.pb[mt];tt.Sc[0]=cB[Qi(Me+fe,127)],tt.Sc[1]=fB[Qi(Me+0,127)],tt.Eb[0]=2*cB[Qi(Me+ae,127)],tt.Eb[1]=101581*fB[Qi(Me+_e,127)]>>16,8>tt.Eb[1]&&(tt.Eb[1]=8),tt.Qc[0]=cB[Qi(Me+Ie,117)],tt.Qc[1]=fB[Qi(Me+Te,127)],tt.lc=Me+Te}if(!ve.Rb)return Qr(G,4,"Not a key frame.");for(H(pe),ve=G.Pa,J=0;4>J;++J){for(fe=0;8>fe;++fe)for(ae=0;3>ae;++ae)for(_e=0;11>_e;++_e)Ie=K(pe,zhe[J][fe][ae][_e])?C(pe,8):Hhe[J][fe][ae][_e],ve.Wc[J][fe].Yb[ae][_e]=Ie;for(fe=0;17>fe;++fe)ve.Xc[J][fe]=ve.Wc[J][Vhe[fe]]}return G.kc=H(pe),G.kc&&(G.Bd=C(pe,8)),G.cb=1}function ui(G,q,J,ae,fe,pe,ve){var _e=q[fe].Yb[J];for(J=0;16>fe;++fe){if(!K(G,_e[J+0]))return fe;for(;!K(G,_e[J+1]);)if(_e=q[++fe].Yb[0],J=0,fe==16)return 16;var Te=q[fe+1].Yb;if(K(G,_e[J+2])){var Ie=G,qe=0;if(K(Ie,(Me=_e)[(mt=J)+3]))if(K(Ie,Me[mt+6])){for(_e=0,mt=2*(qe=K(Ie,Me[mt+8]))+(Me=K(Ie,Me[mt+9+qe])),qe=0,Me=jhe[mt];Me[_e];++_e)qe+=qe+K(Ie,Me[_e]);qe+=3+(8<<mt)}else K(Ie,Me[mt+7])?(qe=7+2*K(Ie,165),qe+=K(Ie,145)):qe=5+K(Ie,159);else qe=K(Ie,Me[mt+4])?3+K(Ie,Me[mt+5]):2;_e=Te[2]}else qe=1,_e=Te[1];Te=ve+Uhe[fe],0>(Ie=G).b&&z(Ie);var mt,Me=Ie.b,tt=(mt=Ie.Ca>>1)-(Ie.I>>Me)>>31;--Ie.b,Ie.Ca+=tt,Ie.Ca|=1,Ie.I-=(mt+1&tt)<<Me,pe[Te]=((qe^tt)-tt)*ae[(0<fe)+0]}return 16}function aa(G){var q=G.rb[G.sb-1];q.la=0,q.Na=0,i(G.zc,0,0,G.zc.length),G.ja=0}function Hi(G,q,J,ae,fe){fe=G[q+J+32*ae]+(fe>>3),G[q+J+32*ae]=-256&fe?0>fe?0:255:fe}function zs(G,q,J,ae,fe,pe){Hi(G,q,0,J,ae+fe),Hi(G,q,1,J,ae+pe),Hi(G,q,2,J,ae-pe),Hi(G,q,3,J,ae-fe)}function zn(G){return(20091*G>>16)+G}function Ro(G,q,J,ae){var fe,pe=0,ve=a(16);for(fe=0;4>fe;++fe){var _e=G[q+0]+G[q+8],Te=G[q+0]-G[q+8],Ie=(35468*G[q+4]>>16)-zn(G[q+12]),qe=zn(G[q+4])+(35468*G[q+12]>>16);ve[pe+0]=_e+qe,ve[pe+1]=Te+Ie,ve[pe+2]=Te-Ie,ve[pe+3]=_e-qe,pe+=4,q++}for(fe=pe=0;4>fe;++fe)_e=(G=ve[pe+0]+4)+ve[pe+8],Te=G-ve[pe+8],Ie=(35468*ve[pe+4]>>16)-zn(ve[pe+12]),Hi(J,ae,0,0,_e+(qe=zn(ve[pe+4])+(35468*ve[pe+12]>>16))),Hi(J,ae,1,0,Te+Ie),Hi(J,ae,2,0,Te-Ie),Hi(J,ae,3,0,_e-qe),pe++,ae+=32}function bn(G,q,J,ae){var fe=G[q+0]+4,pe=35468*G[q+4]>>16,ve=zn(G[q+4]),_e=35468*G[q+1]>>16;zs(J,ae,0,fe+ve,G=zn(G[q+1]),_e),zs(J,ae,1,fe+pe,G,_e),zs(J,ae,2,fe-pe,G,_e),zs(J,ae,3,fe-ve,G,_e)}function fn(G,q,J,ae,fe){Ro(G,q,J,ae),fe&&Ro(G,q+16,J,ae+4)}function Oo(G,q,J,ae){F0(G,q+0,J,ae,1),F0(G,q+32,J,ae+128,1)}function xa(G,q,J,ae){var fe;for(G=G[q+0]+4,fe=0;4>fe;++fe)for(q=0;4>q;++q)Hi(J,ae,q,fe,G)}function ll(G,q,J,ae){G[q+0]&&Vn(G,q+0,J,ae),G[q+16]&&Vn(G,q+16,J,ae+4),G[q+32]&&Vn(G,q+32,J,ae+128),G[q+48]&&Vn(G,q+48,J,ae+128+4)}function ba(G,q,J,ae){var fe,pe=a(16);for(fe=0;4>fe;++fe){var ve=G[q+0+fe]+G[q+12+fe],_e=G[q+4+fe]+G[q+8+fe],Te=G[q+4+fe]-G[q+8+fe],Ie=G[q+0+fe]-G[q+12+fe];pe[0+fe]=ve+_e,pe[8+fe]=ve-_e,pe[4+fe]=Ie+Te,pe[12+fe]=Ie-Te}for(fe=0;4>fe;++fe)ve=(G=pe[0+4*fe]+3)+pe[3+4*fe],_e=pe[1+4*fe]+pe[2+4*fe],Te=pe[1+4*fe]-pe[2+4*fe],Ie=G-pe[3+4*fe],J[ae+0]=ve+_e>>3,J[ae+16]=Ie+Te>>3,J[ae+32]=ve-_e>>3,J[ae+48]=Ie-Te>>3,ae+=64}function wa(G,q,J){var ae,fe=q-32,pe=dl,ve=255-G[fe-1];for(ae=0;ae<J;++ae){var _e,Te=pe,Ie=ve+G[q-1];for(_e=0;_e<J;++_e)G[q+_e]=Te[Ie+G[fe+_e]];q+=32}}function _a(G,q){wa(G,q,4)}function Ru(G,q){wa(G,q,8)}function Nc(G,q){wa(G,q,16)}function An(G,q){var J;for(J=0;16>J;++J)n(G,q+32*J,G,q-32,16)}function ts(G,q){var J;for(J=16;0<J;--J)i(G,q,G[q-1],16),q+=32}function Kl(G,q,J){var ae;for(ae=0;16>ae;++ae)i(q,J+32*ae,G,16)}function Vs(G,q){var J,ae=16;for(J=0;16>J;++J)ae+=G[q-1+32*J]+G[q+J-32];Kl(ae>>5,G,q)}function Fc(G,q){var J,ae=8;for(J=0;16>J;++J)ae+=G[q-1+32*J];Kl(ae>>4,G,q)}function ho(G,q){var J,ae=8;for(J=0;16>J;++J)ae+=G[q+J-32];Kl(ae>>4,G,q)}function ul(G,q){Kl(128,G,q)}function Vr(G,q,J){return G+2*q+J+2>>2}function Ou(G,q){var J,ae=q-32;for(ae=new Uint8Array([Vr(G[ae-1],G[ae+0],G[ae+1]),Vr(G[ae+0],G[ae+1],G[ae+2]),Vr(G[ae+1],G[ae+2],G[ae+3]),Vr(G[ae+2],G[ae+3],G[ae+4])]),J=0;4>J;++J)n(G,q+32*J,ae,0,ae.length)}function ke(G,q){var J=G[q-1],ae=G[q-1+32],fe=G[q-1+64],pe=G[q-1+96];Z(G,q+0,16843009*Vr(G[q-1-32],J,ae)),Z(G,q+32,16843009*Vr(J,ae,fe)),Z(G,q+64,16843009*Vr(ae,fe,pe)),Z(G,q+96,16843009*Vr(fe,pe,pe))}function dt(G,q){var J,ae=4;for(J=0;4>J;++J)ae+=G[q+J-32]+G[q-1+32*J];for(ae>>=3,J=0;4>J;++J)i(G,q+32*J,ae,4)}function $t(G,q){var J=G[q-1+0],ae=G[q-1+32],fe=G[q-1+64],pe=G[q-1-32],ve=G[q+0-32],_e=G[q+1-32],Te=G[q+2-32],Ie=G[q+3-32];G[q+0+96]=Vr(ae,fe,G[q-1+96]),G[q+1+96]=G[q+0+64]=Vr(J,ae,fe),G[q+2+96]=G[q+1+64]=G[q+0+32]=Vr(pe,J,ae),G[q+3+96]=G[q+2+64]=G[q+1+32]=G[q+0+0]=Vr(ve,pe,J),G[q+3+64]=G[q+2+32]=G[q+1+0]=Vr(_e,ve,pe),G[q+3+32]=G[q+2+0]=Vr(Te,_e,ve),G[q+3+0]=Vr(Ie,Te,_e)}function Jt(G,q){var J=G[q+1-32],ae=G[q+2-32],fe=G[q+3-32],pe=G[q+4-32],ve=G[q+5-32],_e=G[q+6-32],Te=G[q+7-32];G[q+0+0]=Vr(G[q+0-32],J,ae),G[q+1+0]=G[q+0+32]=Vr(J,ae,fe),G[q+2+0]=G[q+1+32]=G[q+0+64]=Vr(ae,fe,pe),G[q+3+0]=G[q+2+32]=G[q+1+64]=G[q+0+96]=Vr(fe,pe,ve),G[q+3+32]=G[q+2+64]=G[q+1+96]=Vr(pe,ve,_e),G[q+3+64]=G[q+2+96]=Vr(ve,_e,Te),G[q+3+96]=Vr(_e,Te,Te)}function yr(G,q){var J=G[q-1+0],ae=G[q-1+32],fe=G[q-1+64],pe=G[q-1-32],ve=G[q+0-32],_e=G[q+1-32],Te=G[q+2-32],Ie=G[q+3-32];G[q+0+0]=G[q+1+64]=pe+ve+1>>1,G[q+1+0]=G[q+2+64]=ve+_e+1>>1,G[q+2+0]=G[q+3+64]=_e+Te+1>>1,G[q+3+0]=Te+Ie+1>>1,G[q+0+96]=Vr(fe,ae,J),G[q+0+64]=Vr(ae,J,pe),G[q+0+32]=G[q+1+96]=Vr(J,pe,ve),G[q+1+32]=G[q+2+96]=Vr(pe,ve,_e),G[q+2+32]=G[q+3+96]=Vr(ve,_e,Te),G[q+3+32]=Vr(_e,Te,Ie)}function wn(G,q){var J=G[q+0-32],ae=G[q+1-32],fe=G[q+2-32],pe=G[q+3-32],ve=G[q+4-32],_e=G[q+5-32],Te=G[q+6-32],Ie=G[q+7-32];G[q+0+0]=J+ae+1>>1,G[q+1+0]=G[q+0+64]=ae+fe+1>>1,G[q+2+0]=G[q+1+64]=fe+pe+1>>1,G[q+3+0]=G[q+2+64]=pe+ve+1>>1,G[q+0+32]=Vr(J,ae,fe),G[q+1+32]=G[q+0+96]=Vr(ae,fe,pe),G[q+2+32]=G[q+1+96]=Vr(fe,pe,ve),G[q+3+32]=G[q+2+96]=Vr(pe,ve,_e),G[q+3+64]=Vr(ve,_e,Te),G[q+3+96]=Vr(_e,Te,Ie)}function Ur(G,q){var J=G[q-1+0],ae=G[q-1+32],fe=G[q-1+64],pe=G[q-1+96];G[q+0+0]=J+ae+1>>1,G[q+2+0]=G[q+0+32]=ae+fe+1>>1,G[q+2+32]=G[q+0+64]=fe+pe+1>>1,G[q+1+0]=Vr(J,ae,fe),G[q+3+0]=G[q+1+32]=Vr(ae,fe,pe),G[q+3+32]=G[q+1+64]=Vr(fe,pe,pe),G[q+3+64]=G[q+2+64]=G[q+0+96]=G[q+1+96]=G[q+2+96]=G[q+3+96]=pe}function dr(G,q){var J=G[q-1+0],ae=G[q-1+32],fe=G[q-1+64],pe=G[q-1+96],ve=G[q-1-32],_e=G[q+0-32],Te=G[q+1-32],Ie=G[q+2-32];G[q+0+0]=G[q+2+32]=J+ve+1>>1,G[q+0+32]=G[q+2+64]=ae+J+1>>1,G[q+0+64]=G[q+2+96]=fe+ae+1>>1,G[q+0+96]=pe+fe+1>>1,G[q+3+0]=Vr(_e,Te,Ie),G[q+2+0]=Vr(ve,_e,Te),G[q+1+0]=G[q+3+32]=Vr(J,ve,_e),G[q+1+32]=G[q+3+64]=Vr(ae,J,ve),G[q+1+64]=G[q+3+96]=Vr(fe,ae,J),G[q+1+96]=Vr(pe,fe,ae)}function pn(G,q){var J;for(J=0;8>J;++J)n(G,q+32*J,G,q-32,8)}function Cn(G,q){var J;for(J=0;8>J;++J)i(G,q,G[q-1],8),q+=32}function Fi(G,q,J){var ae;for(ae=0;8>ae;++ae)i(q,J+32*ae,G,8)}function _n(G,q){var J,ae=8;for(J=0;8>J;++J)ae+=G[q+J-32]+G[q-1+32*J];Fi(ae>>4,G,q)}function y0(G,q){var J,ae=4;for(J=0;8>J;++J)ae+=G[q+J-32];Fi(ae>>3,G,q)}function sd(G,q){var J,ae=4;for(J=0;8>J;++J)ae+=G[q-1+32*J];Fi(ae>>3,G,q)}function od(G,q){Fi(128,G,q)}function cl(G,q,J){var ae=G[q-J],fe=G[q+0],pe=3*(fe-ae)+aB[1020+G[q-2*J]-G[q+J]],ve=T_[112+(pe+4>>3)];G[q-J]=dl[255+ae+T_[112+(pe+3>>3)]],G[q+0]=dl[255+fe-ve]}function rs(G,q,J,ae){var fe=G[q+0],pe=G[q+J];return Zl[255+G[q-2*J]-G[q-J]]>ae||Zl[255+pe-fe]>ae}function x0(G,q,J,ae){return 4*Zl[255+G[q-J]-G[q+0]]+Zl[255+G[q-2*J]-G[q+J]]<=ae}function jf(G,q,J,ae,fe){var pe=G[q-3*J],ve=G[q-2*J],_e=G[q-J],Te=G[q+0],Ie=G[q+J],qe=G[q+2*J],mt=G[q+3*J];return 4*Zl[255+_e-Te]+Zl[255+ve-Ie]>ae?0:Zl[255+G[q-4*J]-pe]<=fe&&Zl[255+pe-ve]<=fe&&Zl[255+ve-_e]<=fe&&Zl[255+mt-qe]<=fe&&Zl[255+qe-Ie]<=fe&&Zl[255+Ie-Te]<=fe}function Uf(G,q,J,ae){var fe=2*ae+1;for(ae=0;16>ae;++ae)x0(G,q+ae,J,fe)&&cl(G,q+ae,J)}function Ic(G,q,J,ae){var fe=2*ae+1;for(ae=0;16>ae;++ae)x0(G,q+ae*J,1,fe)&&cl(G,q+ae*J,1)}function v_(G,q,J,ae){var fe;for(fe=3;0<fe;--fe)Uf(G,q+=4*J,J,ae)}function y_(G,q,J,ae){var fe;for(fe=3;0<fe;--fe)Ic(G,q+=4,J,ae)}function Hf(G,q,J,ae,fe,pe,ve,_e){for(pe=2*pe+1;0<fe--;){if(jf(G,q,J,pe,ve))if(rs(G,q,J,_e))cl(G,q,J);else{var Te=G,Ie=q,qe=J,mt=Te[Ie-2*qe],Me=Te[Ie-qe],tt=Te[Ie+0],ct=Te[Ie+qe],Et=Te[Ie+2*qe],At=27*(Ft=aB[1020+3*(tt-Me)+aB[1020+mt-ct]])+63>>7,kt=18*Ft+63>>7,Ft=9*Ft+63>>7;Te[Ie-3*qe]=dl[255+Te[Ie-3*qe]+Ft],Te[Ie-2*qe]=dl[255+mt+kt],Te[Ie-qe]=dl[255+Me+At],Te[Ie+0]=dl[255+tt-At],Te[Ie+qe]=dl[255+ct-kt],Te[Ie+2*qe]=dl[255+Et-Ft]}q+=ae}}function Qf(G,q,J,ae,fe,pe,ve,_e){for(pe=2*pe+1;0<fe--;){if(jf(G,q,J,pe,ve))if(rs(G,q,J,_e))cl(G,q,J);else{var Te=G,Ie=q,qe=J,mt=Te[Ie-qe],Me=Te[Ie+0],tt=Te[Ie+qe],ct=T_[112+(4+(Et=3*(Me-mt))>>3)],Et=T_[112+(Et+3>>3)],At=ct+1>>1;Te[Ie-2*qe]=dl[255+Te[Ie-2*qe]+At],Te[Ie-qe]=dl[255+mt+Et],Te[Ie+0]=dl[255+Me-ct],Te[Ie+qe]=dl[255+tt-At]}q+=ae}}function x_(G,q,J,ae,fe,pe){Hf(G,q,J,1,16,ae,fe,pe)}function b_(G,q,J,ae,fe,pe){Hf(G,q,1,J,16,ae,fe,pe)}function b0(G,q,J,ae,fe,pe){var ve;for(ve=3;0<ve;--ve)Qf(G,q+=4*J,J,1,16,ae,fe,pe)}function w_(G,q,J,ae,fe,pe){var ve;for(ve=3;0<ve;--ve)Qf(G,q+=4,1,J,16,ae,fe,pe)}function Y(G,q,J,ae,fe,pe,ve,_e){Hf(G,q,fe,1,8,pe,ve,_e),Hf(J,ae,fe,1,8,pe,ve,_e)}function ce(G,q,J,ae,fe,pe,ve,_e){Hf(G,q,1,fe,8,pe,ve,_e),Hf(J,ae,1,fe,8,pe,ve,_e)}function Le(G,q,J,ae,fe,pe,ve,_e){Qf(G,q+4*fe,fe,1,8,pe,ve,_e),Qf(J,ae+4*fe,fe,1,8,pe,ve,_e)}function ze(G,q,J,ae,fe,pe,ve,_e){Qf(G,q+4,1,fe,8,pe,ve,_e),Qf(J,ae+4,1,fe,8,pe,ve,_e)}function ot(){this.ba=new ut,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Lt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Nt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ot(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wr(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new k,this.yc=new E}function kr(){this.xb=this.a=0,this.l=new Wr,this.ca=new ut,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wr,this.ab=0,this.gc=s(4,Ot),this.Oc=0}function Jr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Wr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function tn(G,q,J,ae,fe,pe,ve){for(G=G==null?0:G[q+0],q=0;q<ve;++q)fe[pe+q]=G+J[ae+q]&255,G=fe[pe+q]}function Pn(G,q,J,ae,fe,pe,ve){var _e;if(G==null)tn(null,null,J,ae,fe,pe,ve);else for(_e=0;_e<ve;++_e)fe[pe+_e]=G[q+_e]+J[ae+_e]&255}function Ii(G,q,J,ae,fe,pe,ve){if(G==null)tn(null,null,J,ae,fe,pe,ve);else{var _e,Te=G[q+0],Ie=Te,qe=Te;for(_e=0;_e<ve;++_e)Ie=qe+(Te=G[q+_e])-Ie,qe=J[ae+_e]+(-256&Ie?0>Ie?0:255:Ie)&255,Ie=Te,fe[pe+_e]=qe}}function Sa(G,q,J,ae){var fe=q.width,pe=q.o;if(t(G!=null&&q!=null),0>J||0>=ae||J+ae>pe)return null;if(!G.Cc){if(G.ga==null){var ve;if(G.ga=new Jr,(ve=G.ga==null)||(ve=q.width*q.o,t(G.Gb.length==0),G.Gb=a(ve),G.Uc=0,G.Gb==null?ve=0:(G.mb=G.Gb,G.nb=G.Uc,G.rc=null,ve=1),ve=!ve),!ve){ve=G.ga;var _e=G.Fa,Te=G.P,Ie=G.qc,qe=G.mb,mt=G.nb,Me=Te+1,tt=Ie-1,ct=ve.l;if(t(_e!=null&&qe!=null&&q!=null),md[0]=null,md[1]=tn,md[2]=Pn,md[3]=Ii,ve.ca=qe,ve.tb=mt,ve.c=q.width,ve.i=q.height,t(0<ve.c&&0<ve.i),1>=Ie)q=0;else if(ve.$a=3&_e[Te+0],ve.Z=_e[Te+0]>>2&3,ve.Lc=_e[Te+0]>>4&3,Te=_e[Te+0]>>6&3,0>ve.$a||1<ve.$a||4<=ve.Z||1<ve.Lc||Te)q=0;else if(ct.put=It,ct.ac=Tr,ct.bc=Ir,ct.ma=ve,ct.width=q.width,ct.height=q.height,ct.Da=q.Da,ct.v=q.v,ct.va=q.va,ct.j=q.j,ct.o=q.o,ve.$a)e:{t(ve.$a==1),q=$e();t:for(;;){if(q==null){q=0;break e}if(t(ve!=null),ve.mc=q,q.c=ve.c,q.i=ve.i,q.l=ve.l,q.l.ma=ve,q.l.width=ve.c,q.l.height=ve.i,q.a=0,B(q.m,_e,Me,tt),!nt(ve.c,ve.i,1,q,null)||(q.ab==1&&q.gc[0].hc==3&&me(q.s)?(ve.ic=1,_e=q.c*q.i,q.Ta=null,q.Ua=0,q.V=a(_e),q.Ba=0,q.V==null?(q.a=1,q=0):q=1):(ve.ic=0,q=Ee(q,ve.c)),!q))break t;q=1;break e}ve.mc=null,q=0}else q=tt>=ve.c*ve.i;ve=!q}if(ve)return null;G.ga.Lc!=1?G.Ga=0:ae=pe-J}t(G.ga!=null),t(J+ae<=pe);e:{if(q=(_e=G.ga).c,pe=_e.l.o,_e.$a==0){if(Me=G.rc,tt=G.Vc,ct=G.Fa,Te=G.P+1+J*q,Ie=G.mb,qe=G.nb+J*q,t(Te<=G.P+G.qc),_e.Z!=0)for(t(md[_e.Z]!=null),ve=0;ve<ae;++ve)md[_e.Z](Me,tt,ct,Te,Ie,qe,q),Me=Ie,tt=qe,qe+=q,Te+=q;else for(ve=0;ve<ae;++ve)n(Ie,qe,ct,Te,q),Me=Ie,tt=qe,qe+=q,Te+=q;G.rc=Me,G.Vc=tt}else{if(t(_e.mc!=null),q=J+ae,t((ve=_e.mc)!=null),t(q<=ve.i),ve.C>=q)q=1;else if(_e.ic||ql(),_e.ic){_e=ve.V,Me=ve.Ba,tt=ve.c;var Et=ve.i,At=(ct=1,Te=ve.$/tt,Ie=ve.$%tt,qe=ve.m,mt=ve.s,ve.$),kt=tt*Et,Ft=tt*q,Vt=mt.wc,Rt=At<Ft?oe(mt,Ie,Te):null;t(At<=kt),t(q<=Et),t(me(mt));t:for(;;){for(;!qe.h&&At<Ft;){if(Ie&Vt||(Rt=oe(mt,Ie,Te)),t(Rt!=null),X(qe),256>(Et=Ye(Rt.G[0],Rt.H[0],qe)))_e[Me+At]=Et,++At,++Ie>=tt&&(Ie=0,++Te<=q&&!(Te%16)&&be(ve,Te));else{if(!(280>Et)){ct=0;break t}Et=tr(Et-256,qe);var Mr,mr=Ye(Rt.G[4],Rt.H[4],qe);if(X(qe),!(At>=(mr=je(tt,mr=tr(mr,qe)))&&kt-At>=Et)){ct=0;break t}for(Mr=0;Mr<Et;++Mr)_e[Me+At+Mr]=_e[Me+At+Mr-mr];for(At+=Et,Ie+=Et;Ie>=tt;)Ie-=tt,++Te<=q&&!(Te%16)&&be(ve,Te);At<Ft&&Ie&Vt&&(Rt=oe(mt,Ie,Te))}t(qe.h==W(qe))}be(ve,Te>q?q:Te);break t}!ct||qe.h&&At<kt?(ct=0,ve.a=qe.h?5:3):ve.$=At,q=ct}else q=He(ve,ve.V,ve.Ba,ve.c,ve.i,q,rt);if(!q){ae=0;break e}}J+ae>=pe&&(G.Cc=1),ae=1}if(!ae)return null;if(G.Cc&&((ae=G.ga)!=null&&(ae.mc=null),G.ga=null,0<G.Ga))return alert("todo:WebPDequantizeLevels"),null}return G.nb+J*fe}function Ai(G,q,J,ae,fe,pe){for(;0<fe--;){var ve,_e=G,Te=q+(J?1:0),Ie=G,qe=q+(J?0:3);for(ve=0;ve<ae;++ve){var mt=Ie[qe+4*ve];mt!=255&&(mt*=32897,_e[Te+4*ve+0]=_e[Te+4*ve+0]*mt>>23,_e[Te+4*ve+1]=_e[Te+4*ve+1]*mt>>23,_e[Te+4*ve+2]=_e[Te+4*ve+2]*mt>>23)}q+=pe}}function Pa(G,q,J,ae,fe){for(;0<ae--;){var pe;for(pe=0;pe<J;++pe){var ve=G[q+2*pe+0],_e=15&(Ie=G[q+2*pe+1]),Te=4369*_e,Ie=(240&Ie|Ie>>4)*Te>>16;G[q+2*pe+0]=(240&ve|ve>>4)*Te>>16&240|(15&ve|ve<<4)*Te>>16>>4&15,G[q+2*pe+1]=240&Ie|_e}q+=fe}}function Ca(G,q,J,ae,fe,pe,ve,_e){var Te,Ie,qe=255;for(Ie=0;Ie<fe;++Ie){for(Te=0;Te<ae;++Te){var mt=G[q+Te];pe[ve+4*Te]=mt,qe&=mt}q+=J,ve+=_e}return qe!=255}function vs(G,q,J,ae,fe){var pe;for(pe=0;pe<fe;++pe)J[ae+pe]=G[q+pe]>>8}function ql(){Oy=Ai,lO=Pa,uO=Ca,cO=vs}function jo(G,q,J){F[G]=function(ae,fe,pe,ve,_e,Te,Ie,qe,mt,Me,tt,ct,Et,At,kt,Ft,Vt){var Rt,Mr=Vt-1>>1,mr=_e[Te+0]|Ie[qe+0]<<16,un=mt[Me+0]|tt[ct+0]<<16;t(ae!=null);var Cr=3*mr+un+131074>>2;for(q(ae[fe+0],255&Cr,Cr>>16,Et,At),pe!=null&&(Cr=3*un+mr+131074>>2,q(pe[ve+0],255&Cr,Cr>>16,kt,Ft)),Rt=1;Rt<=Mr;++Rt){var Bn=_e[Te+Rt]|Ie[qe+Rt]<<16,Oa=mt[Me+Rt]|tt[ct+Rt]<<16,cn=mr+Bn+un+Oa+524296,Br=cn+2*(Bn+un)>>3;Cr=Br+mr>>1,mr=(cn=cn+2*(mr+Oa)>>3)+Bn>>1,q(ae[fe+2*Rt-1],255&Cr,Cr>>16,Et,At+(2*Rt-1)*J),q(ae[fe+2*Rt-0],255&mr,mr>>16,Et,At+(2*Rt-0)*J),pe!=null&&(Cr=cn+un>>1,mr=Br+Oa>>1,q(pe[ve+2*Rt-1],255&Cr,Cr>>16,kt,Ft+(2*Rt-1)*J),q(pe[ve+2*Rt+0],255&mr,mr>>16,kt,Ft+(2*Rt+0)*J)),mr=Bn,un=Oa}1&Vt||(Cr=3*mr+un+131074>>2,q(ae[fe+Vt-1],255&Cr,Cr>>16,Et,At+(Vt-1)*J),pe!=null&&(Cr=3*un+mr+131074>>2,q(pe[ve+Vt-1],255&Cr,Cr>>16,kt,Ft+(Vt-1)*J)))}}function __(){Jl[E_]=Whe,Jl[k_]=bO,Jl[gO]=$he,Jl[N_]=wO,Jl[F_]=_O,Jl[sB]=SO,Jl[mO]=Khe,Jl[oB]=bO,Jl[lB]=wO,Jl[I_]=_O,Jl[uB]=SO}function tm(G){return G&~qhe?0>G?0:255:G>>CO}function w0(G,q){return tm((19077*G>>8)+(26149*q>>8)-14234)}function ld(G,q,J){return tm((19077*G>>8)-(6419*q>>8)-(13320*J>>8)+8708)}function _0(G,q){return tm((19077*G>>8)+(33050*q>>8)-17685)}function S0(G,q,J,ae,fe){ae[fe+0]=w0(G,J),ae[fe+1]=ld(G,q,J),ae[fe+2]=_0(G,q)}function C0(G,q,J,ae,fe){ae[fe+0]=_0(G,q),ae[fe+1]=ld(G,q,J),ae[fe+2]=w0(G,J)}function Gs(G,q,J,ae,fe){var pe=ld(G,q,J);q=pe<<3&224|_0(G,q)>>3,ae[fe+0]=248&w0(G,J)|pe>>5,ae[fe+1]=q}function B0(G,q,J,ae,fe){var pe=240&_0(G,q)|15;ae[fe+0]=240&w0(G,J)|ld(G,q,J)>>4,ae[fe+1]=pe}function T0(G,q,J,ae,fe){ae[fe+0]=255,S0(G,q,J,ae,fe+1)}function Ey(G,q,J,ae,fe){C0(G,q,J,ae,fe),ae[fe+3]=255}function ky(G,q,J,ae,fe){S0(G,q,J,ae,fe),ae[fe+3]=255}function Qi(G,q){return 0>G?0:G>q?q:G}function zf(G,q,J){F[G]=function(ae,fe,pe,ve,_e,Te,Ie,qe,mt){for(var Me=qe+(-2&mt)*J;qe!=Me;)q(ae[fe+0],pe[ve+0],_e[Te+0],Ie,qe),q(ae[fe+1],pe[ve+0],_e[Te+0],Ie,qe+J),fe+=2,++ve,++Te,qe+=2*J;1&mt&&q(ae[fe+0],pe[ve+0],_e[Te+0],Ie,qe)}}function rm(G,q,J){return J==0?G==0?q==0?6:5:q==0?4:0:J}function S_(G,q,J,ae,fe){switch(G>>>30){case 3:F0(q,J,ae,fe,0);break;case 2:Yl(q,J,ae,fe);break;case 1:Vn(q,J,ae,fe)}}function Xl(G,q){var J,ae,fe=q.M,pe=q.Nb,ve=G.oc,_e=G.pc+40,Te=G.oc,Ie=G.pc+584,qe=G.oc,mt=G.pc+600;for(J=0;16>J;++J)ve[_e+32*J-1]=129;for(J=0;8>J;++J)Te[Ie+32*J-1]=129,qe[mt+32*J-1]=129;for(0<fe?ve[_e-1-32]=Te[Ie-1-32]=qe[mt-1-32]=129:(i(ve,_e-32-1,127,21),i(Te,Ie-32-1,127,9),i(qe,mt-32-1,127,9)),ae=0;ae<G.za;++ae){var Me=q.ya[q.aa+ae];if(0<ae){for(J=-1;16>J;++J)n(ve,_e+32*J-4,ve,_e+32*J+12,4);for(J=-1;8>J;++J)n(Te,Ie+32*J-4,Te,Ie+32*J+4,4),n(qe,mt+32*J-4,qe,mt+32*J+4,4)}var tt=G.Gd,ct=G.Hd+ae,Et=Me.ad,At=Me.Hc;if(0<fe&&(n(ve,_e-32,tt[ct].y,0,16),n(Te,Ie-32,tt[ct].f,0,8),n(qe,mt-32,tt[ct].ea,0,8)),Me.Za){var kt=ve,Ft=_e-32+16;for(0<fe&&(ae>=G.za-1?i(kt,Ft,tt[ct].y[15],4):n(kt,Ft,tt[ct+1].y,0,4)),J=0;4>J;J++)kt[Ft+128+J]=kt[Ft+256+J]=kt[Ft+384+J]=kt[Ft+0+J];for(J=0;16>J;++J,At<<=2)kt=ve,Ft=_e+TO[J],ju[Me.Ob[J]](kt,Ft),S_(At,Et,16*+J,kt,Ft)}else if(kt=rm(ae,fe,Me.Ob[0]),gd[kt](ve,_e),At!=0)for(J=0;16>J;++J,At<<=2)S_(At,Et,16*+J,ve,_e+TO[J]);for(J=Me.Gc,kt=rm(ae,fe,Me.Dd),Wf[kt](Te,Ie),Wf[kt](qe,mt),At=Et,kt=Te,Ft=Ie,255&(Me=0|J)&&(170&Me?Dc(At,256,kt,Ft):ci(At,256,kt,Ft)),Me=qe,At=mt,255&(J>>=8)&&(170&J?Dc(Et,320,Me,At):ci(Et,320,Me,At)),fe<G.Ub-1&&(n(tt[ct].y,0,ve,_e+480,16),n(tt[ct].f,0,Te,Ie+224,8),n(tt[ct].ea,0,qe,mt+224,8)),J=8*pe*G.B,tt=G.sa,ct=G.ta+16*ae+16*pe*G.R,Et=G.qa,Me=G.ra+8*ae+J,At=G.Ha,kt=G.Ia+8*ae+J,J=0;16>J;++J)n(tt,ct+J*G.R,ve,_e+32*J,16);for(J=0;8>J;++J)n(Et,Me+J*G.B,Te,Ie+32*J,8),n(At,kt+J*G.B,qe,mt+32*J,8)}}function E0(G,q,J,ae,fe,pe,ve,_e,Te){var Ie=[0],qe=[0],mt=0,Me=Te!=null?Te.kd:0,tt=Te??new Nt;if(G==null||12>J)return 7;tt.data=G,tt.w=q,tt.ha=J,q=[q],J=[J],tt.gb=[tt.gb];e:{var ct=q,Et=J,At=tt.gb;if(t(G!=null),t(Et!=null),t(At!=null),At[0]=0,12<=Et[0]&&!e(G,ct[0],"RIFF")){if(e(G,ct[0]+8,"WEBP")){At=3;break e}var kt=ne(G,ct[0]+4);if(12>kt||4294967286<kt){At=3;break e}if(Me&&kt>Et[0]-8){At=7;break e}At[0]=kt,ct[0]+=12,Et[0]-=12}At=0}if(At!=0)return At;for(kt=0<tt.gb[0],J=J[0];;){e:{var Ft=G;Et=q,At=J;var Vt=Ie,Rt=qe,Mr=ct=[0];if((Cr=mt=[mt])[0]=0,8>At[0])At=7;else{if(!e(Ft,Et[0],"VP8X")){if(ne(Ft,Et[0]+4)!=10){At=3;break e}if(18>At[0]){At=7;break e}var mr=ne(Ft,Et[0]+8),un=1+ee(Ft,Et[0]+12);if(2147483648<=un*(Ft=1+ee(Ft,Et[0]+15))){At=3;break e}Mr!=null&&(Mr[0]=mr),Vt!=null&&(Vt[0]=un),Rt!=null&&(Rt[0]=Ft),Et[0]+=18,At[0]-=18,Cr[0]=1}At=0}}if(mt=mt[0],ct=ct[0],At!=0)return At;if(Et=!!(2&ct),!kt&&mt)return 3;if(pe!=null&&(pe[0]=!!(16&ct)),ve!=null&&(ve[0]=Et),_e!=null&&(_e[0]=0),ve=Ie[0],ct=qe[0],mt&&Et&&Te==null){At=0;break}if(4>J){At=7;break}if(kt&&mt||!kt&&!mt&&!e(G,q[0],"ALPH")){J=[J],tt.na=[tt.na],tt.P=[tt.P],tt.Sa=[tt.Sa];e:{mr=G,At=q,kt=J;var Cr=tt.gb;Vt=tt.na,Rt=tt.P,Mr=tt.Sa,un=22,t(mr!=null),t(kt!=null),Ft=At[0];var Bn=kt[0];for(t(Vt!=null),t(Mr!=null),Vt[0]=null,Rt[0]=null,Mr[0]=0;;){if(At[0]=Ft,kt[0]=Bn,8>Bn){At=7;break e}var Oa=ne(mr,Ft+4);if(4294967286<Oa){At=3;break e}var cn=8+Oa+1&-2;if(un+=cn,0<Cr&&un>Cr){At=3;break e}if(!e(mr,Ft,"VP8 ")||!e(mr,Ft,"VP8L")){At=0;break e}if(Bn[0]<cn){At=7;break e}e(mr,Ft,"ALPH")||(Vt[0]=mr,Rt[0]=Ft+8,Mr[0]=Oa),Ft+=cn,Bn-=cn}}if(J=J[0],tt.na=tt.na[0],tt.P=tt.P[0],tt.Sa=tt.Sa[0],At!=0)break}J=[J],tt.Ja=[tt.Ja],tt.xa=[tt.xa];e:if(Cr=G,At=q,kt=J,Vt=tt.gb[0],Rt=tt.Ja,Mr=tt.xa,mr=At[0],Ft=!e(Cr,mr,"VP8 "),un=!e(Cr,mr,"VP8L"),t(Cr!=null),t(kt!=null),t(Rt!=null),t(Mr!=null),8>kt[0])At=7;else{if(Ft||un){if(Cr=ne(Cr,mr+4),12<=Vt&&Cr>Vt-12){At=3;break e}if(Me&&Cr>kt[0]-8){At=7;break e}Rt[0]=Cr,At[0]+=8,kt[0]-=8,Mr[0]=un}else Mr[0]=5<=kt[0]&&Cr[mr+0]==47&&!(Cr[mr+4]>>5),Rt[0]=kt[0];At=0}if(J=J[0],tt.Ja=tt.Ja[0],tt.xa=tt.xa[0],q=q[0],At!=0)break;if(4294967286<tt.Ja)return 3;if(_e==null||Et||(_e[0]=tt.xa?2:1),ve=[ve],ct=[ct],tt.xa){if(5>J){At=7;break}_e=ve,Me=ct,Et=pe,G==null||5>J?G=0:5<=J&&G[q+0]==47&&!(G[q+4]>>5)?(kt=[0],Cr=[0],Vt=[0],B(Rt=new U,G,q,J),_r(Rt,kt,Cr,Vt)?(_e!=null&&(_e[0]=kt[0]),Me!=null&&(Me[0]=Cr[0]),Et!=null&&(Et[0]=Vt[0]),G=1):G=0):G=0}else{if(10>J){At=7;break}_e=ct,G==null||10>J||!Qn(G,q+3,J-3)?G=0:(Me=G[q+0]|G[q+1]<<8|G[q+2]<<16,Et=16383&(G[q+7]<<8|G[q+6]),G=16383&(G[q+9]<<8|G[q+8]),1&Me||3<(Me>>1&7)||!(Me>>4&1)||Me>>5>=tt.Ja||!Et||!G?G=0:(ve&&(ve[0]=Et),_e&&(_e[0]=G),G=1))}if(!G||(ve=ve[0],ct=ct[0],mt&&(Ie[0]!=ve||qe[0]!=ct)))return 3;Te!=null&&(Te[0]=tt,Te.offset=q-Te.w,t(4294967286>q-Te.w),t(Te.offset==Te.ha-J));break}return At==0||At==7&&mt&&Te==null?(pe!=null&&(pe[0]|=tt.na!=null&&0<tt.na.length),ae!=null&&(ae[0]=ve),fe!=null&&(fe[0]=ct),0):At}function Ny(G,q,J){var ae=q.width,fe=q.height,pe=0,ve=0,_e=ae,Te=fe;if(q.Da=G!=null&&0<G.Da,q.Da&&(_e=G.cd,Te=G.bd,pe=G.v,ve=G.j,11>J||(pe&=-2,ve&=-2),0>pe||0>ve||0>=_e||0>=Te||pe+_e>ae||ve+Te>fe))return 0;if(q.v=pe,q.j=ve,q.va=pe+_e,q.o=ve+Te,q.U=_e,q.T=Te,q.da=G!=null&&0<G.da,q.da){if(!de(_e,Te,J=[G.ib],pe=[G.hb]))return 0;q.ib=J[0],q.hb=pe[0]}return q.ob=G!=null&&G.ob,q.Kb=G==null||!G.Sd,q.da&&(q.ob=q.ib<3*ae/4&&q.hb<3*fe/4,q.Kb=0),1}function Fy(G){if(G==null)return 2;if(11>G.S){var q=G.f.RGBA;q.fb+=(G.height-1)*q.A,q.A=-q.A}else q=G.f.kb,G=G.height,q.O+=(G-1)*q.fa,q.fa=-q.fa,q.N+=(G-1>>1)*q.Ab,q.Ab=-q.Ab,q.W+=(G-1>>1)*q.Db,q.Db=-q.Db,q.F!=null&&(q.J+=(G-1)*q.lb,q.lb=-q.lb);return 0}function ud(G,q,J,ae){if(ae==null||0>=G||0>=q)return 2;if(J!=null){if(J.Da){var fe=J.cd,pe=J.bd,ve=-2&J.v,_e=-2&J.j;if(0>ve||0>_e||0>=fe||0>=pe||ve+fe>G||_e+pe>q)return 2;G=fe,q=pe}if(J.da){if(!de(G,q,fe=[J.ib],pe=[J.hb]))return 2;G=fe[0],q=pe[0]}}ae.width=G,ae.height=q;e:{var Te=ae.width,Ie=ae.height;if(G=ae.S,0>=Te||0>=Ie||!(G>=E_&&13>G))G=2;else{if(0>=ae.Rd&&ae.sd==null){ve=pe=fe=q=0;var qe=(_e=Te*EO[G])*Ie;if(11>G||(pe=(Ie+1)/2*(q=(Te+1)/2),G==12&&(ve=(fe=Te)*Ie)),(Ie=a(qe+2*pe+ve))==null){G=1;break e}ae.sd=Ie,11>G?((Te=ae.f.RGBA).eb=Ie,Te.fb=0,Te.A=_e,Te.size=qe):((Te=ae.f.kb).y=Ie,Te.O=0,Te.fa=_e,Te.Fd=qe,Te.f=Ie,Te.N=0+qe,Te.Ab=q,Te.Cd=pe,Te.ea=Ie,Te.W=0+qe+pe,Te.Db=q,Te.Ed=pe,G==12&&(Te.F=Ie,Te.J=0+qe+2*pe),Te.Tc=ve,Te.lb=fe)}if(q=1,fe=ae.S,pe=ae.width,ve=ae.height,fe>=E_&&13>fe)if(11>fe)G=ae.f.RGBA,q&=(_e=Math.abs(G.A))*(ve-1)+pe<=G.size,q&=_e>=pe*EO[fe],q&=G.eb!=null;else{G=ae.f.kb,_e=(pe+1)/2,qe=(ve+1)/2,Te=Math.abs(G.fa),Ie=Math.abs(G.Ab);var mt=Math.abs(G.Db),Me=Math.abs(G.lb),tt=Me*(ve-1)+pe;q&=Te*(ve-1)+pe<=G.Fd,q&=Ie*(qe-1)+_e<=G.Cd,q=(q&=mt*(qe-1)+_e<=G.Ed)&Te>=pe&Ie>=_e&mt>=_e,q&=G.y!=null,q&=G.f!=null,q&=G.ea!=null,fe==12&&(q&=Me>=pe,q&=tt<=G.Tc,q&=G.F!=null)}else q=0;G=q?0:2}}return G!=0||J!=null&&J.fd&&(G=Fy(ae)),G}var k0=64,fl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],hl=24,cd=32,Vf=8,fd=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Se("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(G){return G},F.Predictor2=function(G,q,J){return q[J+0]},F.Predictor3=function(G,q,J){return q[J+1]},F.Predictor4=function(G,q,J){return q[J-1]},F.Predictor5=function(G,q,J){return ge(ge(G,q[J+1]),q[J+0])},F.Predictor6=function(G,q,J){return ge(G,q[J-1])},F.Predictor7=function(G,q,J){return ge(G,q[J+0])},F.Predictor8=function(G,q,J){return ge(q[J-1],q[J+0])},F.Predictor9=function(G,q,J){return ge(q[J+0],q[J+1])},F.Predictor10=function(G,q,J){return ge(ge(G,q[J-1]),ge(q[J+0],q[J+1]))},F.Predictor11=function(G,q,J){var ae=q[J+0];return 0>=st(ae>>24&255,G>>24&255,(q=q[J-1])>>24&255)+st(ae>>16&255,G>>16&255,q>>16&255)+st(ae>>8&255,G>>8&255,q>>8&255)+st(255&ae,255&G,255&q)?ae:G},F.Predictor12=function(G,q,J){var ae=q[J+0];return(Be((G>>24&255)+(ae>>24&255)-((q=q[J-1])>>24&255))<<24|Be((G>>16&255)+(ae>>16&255)-(q>>16&255))<<16|Be((G>>8&255)+(ae>>8&255)-(q>>8&255))<<8|Be((255&G)+(255&ae)-(255&q)))>>>0},F.Predictor13=function(G,q,J){var ae=q[J-1];return(Pe((G=ge(G,q[J+0]))>>24&255,ae>>24&255)<<24|Pe(G>>16&255,ae>>16&255)<<16|Pe(G>>8&255,ae>>8&255)<<8|Pe(255&G,255&ae))>>>0};var Iy=F.PredictorAdd0;F.PredictorAdd1=gt,Se("Predictor2","PredictorAdd2"),Se("Predictor3","PredictorAdd3"),Se("Predictor4","PredictorAdd4"),Se("Predictor5","PredictorAdd5"),Se("Predictor6","PredictorAdd6"),Se("Predictor7","PredictorAdd7"),Se("Predictor8","PredictorAdd8"),Se("Predictor9","PredictorAdd9"),Se("Predictor10","PredictorAdd10"),Se("Predictor11","PredictorAdd11"),Se("Predictor12","PredictorAdd12"),Se("Predictor13","PredictorAdd13");var nm=F.PredictorAdd2;Ve("ColorIndexInverseTransform","MapARGB","32b",function(G){return G>>8&255},function(G){return G}),Ve("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(G){return G},function(G){return G>>8&255});var sa,C_=F.ColorIndexInverseTransform,Mc=F.MapARGB,Lc=F.VP8LColorIndexInverseTransformAlpha,My=F.MapAlpha,Ly=F.VP8LPredictorsAdd=[];Ly.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var Dy,Py,hd,dd,Ad,N0,pd,F0,Yl,Dc,Vn,ci,oa,Ra,Gf,Ry,im,B_,rO,nO,iO,aO,sO,oO,Oy,lO,uO,cO,fO=a(511),hO=a(2041),dO=a(225),AO=a(767),pO=0,aB=hO,T_=dO,dl=AO,Zl=fO,E_=0,k_=1,gO=2,N_=3,F_=4,sB=5,mO=6,oB=7,lB=8,I_=9,uB=10,Ihe=[2,3,7],Mhe=[3,3,11],vO=[280,256,256,256,40],Lhe=[0,1,1,1,0],Dhe=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Phe=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Rhe=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ohe=8,cB=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],fB=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],jy=null,jhe=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Uhe=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],yO=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Hhe=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Qhe=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],zhe=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Vhe=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],gd=[],ju=[],Wf=[],Ghe=1,xO=2,md=[],Jl=[];jo("UpsampleRgbLinePair",S0,3),jo("UpsampleBgrLinePair",C0,3),jo("UpsampleRgbaLinePair",ky,4),jo("UpsampleBgraLinePair",Ey,4),jo("UpsampleArgbLinePair",T0,4),jo("UpsampleRgba4444LinePair",B0,2),jo("UpsampleRgb565LinePair",Gs,2);var Whe=F.UpsampleRgbLinePair,$he=F.UpsampleBgrLinePair,bO=F.UpsampleRgbaLinePair,wO=F.UpsampleBgraLinePair,_O=F.UpsampleArgbLinePair,SO=F.UpsampleRgba4444LinePair,Khe=F.UpsampleRgb565LinePair,M_=16,L_=1<<M_-1,Uy=-227,hB=482,CO=6,qhe=(256<<CO)-1,BO=0,Xhe=a(256),Yhe=a(256),Zhe=a(256),Jhe=a(256),ede=a(hB-Uy),tde=a(hB-Uy);zf("YuvToRgbRow",S0,3),zf("YuvToBgrRow",C0,3),zf("YuvToRgbaRow",ky,4),zf("YuvToBgraRow",Ey,4),zf("YuvToArgbRow",T0,4),zf("YuvToRgba4444Row",B0,2),zf("YuvToRgb565Row",Gs,2);var TO=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],D_=[0,2,8],rde=[8,7,6,4,4,2,2,2,1,1,1,1],nde=1;this.WebPDecodeRGBA=function(G,q,J,ae,fe){var pe=k_,ve=new ot,_e=new ut;ve.ba=_e,_e.S=pe,_e.width=[_e.width],_e.height=[_e.height];var Te=_e.width,Ie=_e.height,qe=new vt;if(qe==null||G==null)var mt=2;else t(qe!=null),mt=E0(G,q,J,qe.width,qe.height,qe.Pd,qe.Qd,qe.format,null);if(mt!=0?Te=0:(Te!=null&&(Te[0]=qe.width[0]),Ie!=null&&(Ie[0]=qe.height[0]),Te=1),Te){_e.width=_e.width[0],_e.height=_e.height[0],ae!=null&&(ae[0]=_e.width),fe!=null&&(fe[0]=_e.height);e:{if(ae=new Wr,(fe=new Nt).data=G,fe.w=q,fe.ha=J,fe.kd=1,q=[0],t(fe!=null),((G=E0(fe.data,fe.w,fe.ha,null,null,null,q,null,fe))==0||G==7)&&q[0]&&(G=4),(q=G)==0){if(t(ve!=null),ae.data=fe.data,ae.w=fe.w+fe.offset,ae.ha=fe.ha-fe.offset,ae.put=It,ae.ac=Tr,ae.bc=Ir,ae.ma=ve,fe.xa){if((G=$e())==null){ve=1;break e}if(function(Me,tt){var ct=[0],Et=[0],At=[0];t:for(;;){if(Me==null)return 0;if(tt==null)return Me.a=2,0;if(Me.l=tt,Me.a=0,B(Me.m,tt.data,tt.w,tt.ha),!_r(Me.m,ct,Et,At)){Me.a=3;break t}if(Me.xb=xO,tt.width=ct[0],tt.height=Et[0],!nt(ct[0],Et[0],1,Me,null))break t;return 1}return t(Me.a!=0),0}(G,ae)){if(ae=(q=ud(ae.width,ae.height,ve.Oa,ve.ba))==0){t:{ae=G;r:for(;;){if(ae==null){ae=0;break t}if(t(ae.s.yc!=null),t(ae.s.Ya!=null),t(0<ae.s.Wb),t((J=ae.l)!=null),t((fe=J.ma)!=null),ae.xb!=0){if(ae.ca=fe.ba,ae.tb=fe.tb,t(ae.ca!=null),!Ny(fe.Oa,J,N_)){ae.a=2;break r}if(!Ee(ae,J.width)||J.da)break r;if((J.da||ft(ae.ca.S))&&ql(),11>ae.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ae.ca.f.kb.F!=null&&ql()),ae.Pb&&0<ae.s.ua&&ae.s.vb.X==null&&!te(ae.s.vb,ae.s.Wa.Xa)){ae.a=1;break r}ae.xb=0}if(!He(ae,ae.V,ae.Ba,ae.c,ae.i,J.o,he))break r;fe.Dc=ae.Ma,ae=1;break t}t(ae.a!=0),ae=0}ae=!ae}ae&&(q=G.a)}else q=G.a}else{if((G=new xn)==null){ve=1;break e}if(G.Fa=fe.na,G.P=fe.P,G.qc=fe.Sa,bi(G,ae)){if((q=ud(ae.width,ae.height,ve.Oa,ve.ba))==0){if(G.Aa=0,J=ve.Oa,t((fe=G)!=null),J!=null){if(0<(Te=0>(Te=J.Md)?0:100<Te?255:255*Te/100)){for(Ie=qe=0;4>Ie;++Ie)12>(mt=fe.pb[Ie]).lc&&(mt.ia=Te*rde[0>mt.lc?0:mt.lc]>>3),qe|=mt.ia;qe&&(alert("todo:VP8InitRandom"),fe.ia=1)}fe.Ga=J.Id,100<fe.Ga?fe.Ga=100:0>fe.Ga&&(fe.Ga=0)}(function(Me,tt){if(Me==null)return 0;if(tt==null)return Qr(Me,2,"NULL VP8Io parameter in VP8Decode().");if(!Me.cb&&!bi(Me,tt))return 0;if(t(Me.cb),tt.ac==null||tt.ac(tt)){tt.ob&&(Me.L=0);var ct=D_[Me.L];if(Me.L==2?(Me.yb=0,Me.zb=0):(Me.yb=tt.v-ct>>4,Me.zb=tt.j-ct>>4,0>Me.yb&&(Me.yb=0),0>Me.zb&&(Me.zb=0)),Me.Va=tt.o+15+ct>>4,Me.Hb=tt.va+15+ct>>4,Me.Hb>Me.za&&(Me.Hb=Me.za),Me.Va>Me.Ub&&(Me.Va=Me.Ub),0<Me.L){var Et=Me.ed;for(ct=0;4>ct;++ct){var At;if(Me.Qa.Cb){var kt=Me.Qa.Lb[ct];Me.Qa.Fb||(kt+=Et.Tb)}else kt=Et.Tb;for(At=0;1>=At;++At){var Ft=Me.gd[ct][At],Vt=kt;if(Et.Pc&&(Vt+=Et.vd[0],At&&(Vt+=Et.od[0])),0<(Vt=0>Vt?0:63<Vt?63:Vt)){var Rt=Vt;0<Et.wb&&(Rt=4<Et.wb?Rt>>2:Rt>>1)>9-Et.wb&&(Rt=9-Et.wb),1>Rt&&(Rt=1),Ft.dd=Rt,Ft.tc=2*Vt+Rt,Ft.ld=40<=Vt?2:15<=Vt?1:0}else Ft.tc=0;Ft.La=At}}}ct=0}else Qr(Me,6,"Frame setup failed"),ct=Me.a;if(ct=ct==0){if(ct){Me.$c=0,0<Me.Aa||(Me.Ic=nde);t:{ct=Me.Ic,Et=4*(Rt=Me.za);var Mr=32*Rt,mr=Rt+1,un=0<Me.L?Rt*(0<Me.Aa?2:1):0,Cr=(Me.Aa==2?2:1)*Rt;if((Ft=Et+832+(At=3*(16*ct+D_[Me.L])/2*Mr)+(kt=Me.Fa!=null&&0<Me.Fa.length?Me.Kc.c*Me.Kc.i:0))!=Ft)ct=0;else{if(Ft>Me.Vb){if(Me.Vb=0,Me.Ec=a(Ft),Me.Fc=0,Me.Ec==null){ct=Qr(Me,1,"no memory during frame initialization.");break t}Me.Vb=Ft}Ft=Me.Ec,Vt=Me.Fc,Me.Ac=Ft,Me.Bc=Vt,Vt+=Et,Me.Gd=s(Mr,Rr),Me.Hd=0,Me.rb=s(mr+1,Mt),Me.sb=1,Me.wa=un?s(un,Pt):null,Me.Y=0,Me.D.Nb=0,Me.D.wa=Me.wa,Me.D.Y=Me.Y,0<Me.Aa&&(Me.D.Y+=Rt),t(!0),Me.oc=Ft,Me.pc=Vt,Vt+=832,Me.ya=s(Cr,jr),Me.aa=0,Me.D.ya=Me.ya,Me.D.aa=Me.aa,Me.Aa==2&&(Me.D.aa+=Rt),Me.R=16*Rt,Me.B=8*Rt,Rt=(Mr=D_[Me.L])*Me.R,Mr=Mr/2*Me.B,Me.sa=Ft,Me.ta=Vt+Rt,Me.qa=Me.sa,Me.ra=Me.ta+16*ct*Me.R+Mr,Me.Ha=Me.qa,Me.Ia=Me.ra+8*ct*Me.B+Mr,Me.$c=0,Vt+=At,Me.mb=kt?Ft:null,Me.nb=kt?Vt:null,t(Vt+kt<=Me.Fc+Me.Vb),aa(Me),i(Me.Ac,Me.Bc,0,Et),ct=1}}if(ct){if(tt.ka=0,tt.y=Me.sa,tt.O=Me.ta,tt.f=Me.qa,tt.N=Me.ra,tt.ea=Me.Ha,tt.Vd=Me.Ia,tt.fa=Me.R,tt.Rc=Me.B,tt.F=null,tt.J=0,!pO){for(ct=-255;255>=ct;++ct)fO[255+ct]=0>ct?-ct:ct;for(ct=-1020;1020>=ct;++ct)hO[1020+ct]=-128>ct?-128:127<ct?127:ct;for(ct=-112;112>=ct;++ct)dO[112+ct]=-16>ct?-16:15<ct?15:ct;for(ct=-255;510>=ct;++ct)AO[255+ct]=0>ct?0:255<ct?255:ct;pO=1}pd=ba,F0=fn,Dc=Oo,Vn=xa,ci=ll,Yl=bn,oa=x_,Ra=b_,Gf=Y,Ry=ce,im=b0,B_=w_,rO=Le,nO=ze,iO=Uf,aO=Ic,sO=v_,oO=y_,ju[0]=dt,ju[1]=_a,ju[2]=Ou,ju[3]=ke,ju[4]=$t,ju[5]=yr,ju[6]=Jt,ju[7]=wn,ju[8]=dr,ju[9]=Ur,gd[0]=Vs,gd[1]=Nc,gd[2]=An,gd[3]=ts,gd[4]=Fc,gd[5]=ho,gd[6]=ul,Wf[0]=_n,Wf[1]=Ru,Wf[2]=pn,Wf[3]=Cn,Wf[4]=sd,Wf[5]=y0,Wf[6]=od,ct=1}else ct=0}ct&&(ct=function(Bn,Oa){for(Bn.M=0;Bn.M<Bn.Va;++Bn.M){var cn,Br=Bn.Jc[Bn.M&Bn.Xb],er=Bn.m,la=Bn;for(cn=0;cn<la.za;++cn){var sn=er,Fn=la,wi=Fn.Ac,ys=Fn.Bc+4*cn,Ao=Fn.zc,zi=Fn.ya[Fn.aa+cn];if(Fn.Qa.Bb?zi.$b=K(sn,Fn.Pa.jb[0])?2+K(sn,Fn.Pa.jb[2]):K(sn,Fn.Pa.jb[1]):zi.$b=0,Fn.kc&&(zi.Ad=K(sn,Fn.Bd)),zi.Za=!K(sn,145)+0,zi.Za){var Ws=zi.Ob,po=0;for(Fn=0;4>Fn;++Fn){var ja,In=Ao[0+Fn];for(ja=0;4>ja;++ja){In=Qhe[wi[ys+ja]][In];for(var Kn=yO[K(sn,In[0])];0<Kn;)Kn=yO[2*Kn+K(sn,In[Kn])];In=-Kn,wi[ys+ja]=In}n(Ws,po,wi,ys,4),po+=4,Ao[0+Fn]=In}}else In=K(sn,156)?K(sn,128)?1:3:K(sn,163)?2:0,zi.Ob[0]=In,i(wi,ys,In,4),i(Ao,0,In,4);zi.Dd=K(sn,142)?K(sn,114)?K(sn,183)?1:3:2:0}if(la.m.Ka)return Qr(Bn,7,"Premature end-of-partition0 encountered.");for(;Bn.ja<Bn.za;++Bn.ja){if(la=Br,sn=(er=Bn).rb[er.sb-1],wi=er.rb[er.sb+er.ja],cn=er.ya[er.aa+er.ja],ys=er.kc?cn.Ad:0)sn.la=wi.la=0,cn.Za||(sn.Na=wi.Na=0),cn.Hc=0,cn.Gc=0,cn.ia=0;else{var Vi,qn;if(sn=wi,wi=la,ys=er.Pa.Xc,Ao=er.ya[er.aa+er.ja],zi=er.pb[Ao.$b],Fn=Ao.ad,Ws=0,po=er.rb[er.sb-1],In=ja=0,i(Fn,Ws,0,384),Ao.Za)var xs=0,Uu=ys[3];else{Kn=a(16);var ua=sn.Na+po.Na;if(ua=jy(wi,ys[1],ua,zi.Eb,0,Kn,0),sn.Na=po.Na=(0<ua)+0,1<ua)pd(Kn,0,Fn,Ws);else{var Uo=Kn[0]+3>>3;for(Kn=0;256>Kn;Kn+=16)Fn[Ws+Kn]=Uo}xs=1,Uu=ys[0]}var fi=15&sn.la,Ua=15&po.la;for(Kn=0;4>Kn;++Kn){var Al=1&Ua;for(Uo=qn=0;4>Uo;++Uo)fi=fi>>1|(Al=(ua=jy(wi,Uu,ua=Al+(1&fi),zi.Sc,xs,Fn,Ws))>xs)<<7,qn=qn<<2|(3<ua?3:1<ua?2:Fn[Ws+0]!=0),Ws+=16;fi>>=4,Ua=Ua>>1|Al<<7,ja=(ja<<8|qn)>>>0}for(Uu=fi,xs=Ua>>4,Vi=0;4>Vi;Vi+=2){for(qn=0,fi=sn.la>>4+Vi,Ua=po.la>>4+Vi,Kn=0;2>Kn;++Kn){for(Al=1&Ua,Uo=0;2>Uo;++Uo)ua=Al+(1&fi),fi=fi>>1|(Al=0<(ua=jy(wi,ys[2],ua,zi.Qc,0,Fn,Ws)))<<3,qn=qn<<2|(3<ua?3:1<ua?2:Fn[Ws+0]!=0),Ws+=16;fi>>=2,Ua=Ua>>1|Al<<5}In|=qn<<4*Vi,Uu|=fi<<4<<Vi,xs|=(240&Ua)<<Vi}sn.la=Uu,po.la=xs,Ao.Hc=ja,Ao.Gc=In,Ao.ia=43690&In?0:zi.ia,ys=!(ja|In)}if(0<er.L&&(er.wa[er.Y+er.ja]=er.gd[cn.$b][cn.Za],er.wa[er.Y+er.ja].La|=!ys),la.Ka)return Qr(Bn,7,"Premature end-of-file encountered.")}if(aa(Bn),er=Oa,la=1,cn=(Br=Bn).D,sn=0<Br.L&&Br.M>=Br.zb&&Br.M<=Br.Va,Br.Aa==0)t:{if(cn.M=Br.M,cn.uc=sn,Xl(Br,cn),la=1,cn=(qn=Br.D).Nb,sn=(In=D_[Br.L])*Br.R,wi=In/2*Br.B,Kn=16*cn*Br.R,Uo=8*cn*Br.B,ys=Br.sa,Ao=Br.ta-sn+Kn,zi=Br.qa,Fn=Br.ra-wi+Uo,Ws=Br.Ha,po=Br.Ia-wi+Uo,Ua=(fi=qn.M)==0,ja=fi>=Br.Va-1,Br.Aa==2&&Xl(Br,qn),qn.uc)for(Al=(ua=Br).D.M,t(ua.D.uc),qn=ua.yb;qn<ua.Hb;++qn){xs=qn,Uu=Al;var go=(pl=(bs=ua).D).Nb;Vi=bs.R;var pl=pl.wa[pl.Y+xs],gl=bs.sa,Ho=bs.ta+16*go*Vi+16*xs,ml=pl.dd,pi=pl.tc;if(pi!=0)if(t(3<=pi),bs.L==1)0<xs&&aO(gl,Ho,Vi,pi+4),pl.La&&oO(gl,Ho,Vi,pi),0<Uu&&iO(gl,Ho,Vi,pi+4),pl.La&&sO(gl,Ho,Vi,pi);else{var vl=bs.B,Hu=bs.qa,I0=bs.ra+8*go*vl+8*xs,$f=bs.Ha,bs=bs.Ia+8*go*vl+8*xs;go=pl.ld,0<xs&&(Ra(gl,Ho,Vi,pi+4,ml,go),Ry(Hu,I0,$f,bs,vl,pi+4,ml,go)),pl.La&&(B_(gl,Ho,Vi,pi,ml,go),nO(Hu,I0,$f,bs,vl,pi,ml,go)),0<Uu&&(oa(gl,Ho,Vi,pi+4,ml,go),Gf(Hu,I0,$f,bs,vl,pi+4,ml,go)),pl.La&&(im(gl,Ho,Vi,pi,ml,go),rO(Hu,I0,$f,bs,vl,pi,ml,go))}}if(Br.ia&&alert("todo:DitherRow"),er.put!=null){if(qn=16*fi,fi=16*(fi+1),Ua?(er.y=Br.sa,er.O=Br.ta+Kn,er.f=Br.qa,er.N=Br.ra+Uo,er.ea=Br.Ha,er.W=Br.Ia+Uo):(qn-=In,er.y=ys,er.O=Ao,er.f=zi,er.N=Fn,er.ea=Ws,er.W=po),ja||(fi-=In),fi>er.o&&(fi=er.o),er.F=null,er.J=null,Br.Fa!=null&&0<Br.Fa.length&&qn<fi&&(er.J=Sa(Br,er,qn,fi-qn),er.F=Br.mb,er.F==null&&er.F.length==0)){la=Qr(Br,3,"Could not decode alpha data.");break t}qn<er.j&&(In=er.j-qn,qn=er.j,t(!(1&In)),er.O+=Br.R*In,er.N+=Br.B*(In>>1),er.W+=Br.B*(In>>1),er.F!=null&&(er.J+=er.width*In)),qn<fi&&(er.O+=er.v,er.N+=er.v>>1,er.W+=er.v>>1,er.F!=null&&(er.J+=er.v),er.ka=qn-er.j,er.U=er.va-er.v,er.T=fi-qn,la=er.put(er))}cn+1!=Br.Ic||ja||(n(Br.sa,Br.ta-sn,ys,Ao+16*Br.R,sn),n(Br.qa,Br.ra-wi,zi,Fn+8*Br.B,wi),n(Br.Ha,Br.Ia-wi,Ws,po+8*Br.B,wi))}if(!la)return Qr(Bn,6,"Output aborted.")}return 1}(Me,tt)),tt.bc!=null&&tt.bc(tt),ct&=1}return ct?(Me.cb=0,ct):0})(G,ae)||(q=G.a)}}else q=G.a}q==0&&ve.Oa!=null&&ve.Oa.fd&&(q=Fy(ve.ba))}ve=q}pe=ve!=0?null:11>pe?_e.f.RGBA.eb:_e.f.kb.y}else pe=null;return pe};var EO=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(F,P){for(var D="",R=0;R<4;R++)D+=String.fromCharCode(F[P++]);return D}function c(F,P){return F[P+0]|F[P+1]<<8}function f(F,P){return(F[P+0]|F[P+1]<<8|F[P+2]<<16)>>>0}function h(F,P){return(F[P+0]|F[P+1]<<8|F[P+2]<<16|F[P+3]<<24)>>>0}new l;var d=[0],A=[0],p=[],g=new l,m=r,v=function(F,P){var D={},R=0,E=!1,L=0,k=0;if(D.frames=[],!function(M,U){for(var Q=0;Q<4;Q++)if(M[U+Q]!="RIFF".charCodeAt(Q))return!0;return!1}(F,P)){for(h(F,P+=4),P+=8;P<F.length;){var w=u(F,P),C=h(F,P+=4);P+=4;var S=C+(1&C);switch(w){case"VP8 ":case"VP8L":D.frames[R]===void 0&&(D.frames[R]={}),(V=D.frames[R]).src_off=E?k:P-8,V.src_size=L+C+8,R++,E&&(E=!1,L=0,k=0);break;case"VP8X":(V=D.header={}).feature_flags=F[P];var B=P+4;V.canvas_width=1+f(F,B),B+=3,V.canvas_height=1+f(F,B),B+=3;break;case"ALPH":E=!0,L=S+8,k=P-8;break;case"ANIM":(V=D.header).bgcolor=h(F,P),B=P+4,V.loop_count=c(F,B),B+=2;break;case"ANMF":var O,V;(V=D.frames[R]={}).offset_x=2*f(F,P),P+=3,V.offset_y=2*f(F,P),P+=3,V.width=1+f(F,P),P+=3,V.height=1+f(F,P),P+=3,V.duration=f(F,P),P+=3,O=F[P++],V.dispose=1&O,V.blend=O>>1&1}w!="ANMF"&&(P+=S)}return D}}(m,0);v.response=m,v.rgbaoutput=!0,v.dataurl=!1;var y=v.header?v.header:null,b=v.frames?v.frames:null;if(y){y.loop_counter=y.loop_count,d=[y.canvas_height],A=[y.canvas_width];for(var _=0;_<b.length&&b[_].blend!=0;_++);}var T=b[0],I=g.WebPDecodeRGBA(m,T.src_off,T.src_size,A,d);T.rgba=I,T.imgwidth=A[0],T.imgheight=d[0];for(var N=0;N<A[0]*d[0]*4;N++)p[N]=I[N];return this.width=A,this.height=d,this.data=p,this}(function(r){var t,e,n,i,a,s,o,l,u,c=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new s,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new s,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,e=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var f=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=M;Object.defineProperty(this,"pdf",{get:function(){return U}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(ne){Q=!!ne}});var W=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return W},set:function(ne){W=!!ne}});var j=0;Object.defineProperty(this,"posX",{get:function(){return j},set:function(ne){isNaN(ne)||(j=ne)}});var X=0;Object.defineProperty(this,"posY",{get:function(){return X},set:function(ne){isNaN(ne)||(X=ne)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ne){var te;typeof ne=="number"?te=[ne,ne,ne,ne]:((te=new Array(4))[0]=ne[0],te[1]=ne.length>=2?ne[1]:te[0],te[2]=ne.length>=3?ne[2]:te[0],te[3]=ne.length>=4?ne[3]:te[1]),u.margin=te}});var z=!1;Object.defineProperty(this,"autoPaging",{get:function(){return z},set:function(ne){z=ne}});var H=0;Object.defineProperty(this,"lastBreak",{get:function(){return H},set:function(ne){H=ne}});var K=[];Object.defineProperty(this,"pageBreaks",{get:function(){return K},set:function(ne){K=ne}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ne){ne instanceof c&&(u=ne)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ne){u.path=ne}});var Z=[];Object.defineProperty(this,"ctxStack",{get:function(){return Z},set:function(ne){Z=ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ne){var te;te=h(ne),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ne){var te=h(ne);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ne){["butt","round","square"].indexOf(ne)!==-1&&(this.ctx.lineCap=ne,this.pdf.setLineCap(ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ne){isNaN(ne)||(this.ctx.lineWidth=ne,this.pdf.setLineWidth(ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ne){["bevel","round","miter"].indexOf(ne)!==-1&&(this.ctx.lineJoin=ne,this.pdf.setLineJoin(ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ne){isNaN(ne)||(this.ctx.miterLimit=ne,this.pdf.setMiterLimit(ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ne){this.ctx.textBaseline=ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ne){["right","end","center","left","start"].indexOf(ne)!==-1&&(this.ctx.textAlign=ne)}});var ie=null,ee=null;Object.defineProperty(this,"fontFaces",{get:function(){return ee},set:function(ne){ie=null,ee=ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ne){var te;if(this.ctx.font=ne,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ne))!==null){var le=te[1];te[2];var re=te[3],de=te[4];te[5];var ue=te[6],Fe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(de)[2];de=Math.floor(Fe==="px"?parseFloat(de)*this.pdf.internal.scaleFactor:Fe==="em"?parseFloat(de)*this.pdf.getFontSize():parseFloat(de)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(de);var Se=function(at){var Ve,Qe,Ke=[],Ue=at.trim();if(Ue==="")return LN;if(Ue in fY)return[fY[Ue]];for(;Ue!=="";){switch(Qe=null,Ve=(Ue=dY(Ue)).charAt(0)){case'"':case"'":Qe=GYe(Ue.substring(1),Ve);break;default:Qe=WYe(Ue)}if(Qe===null||(Ke.push(Qe[0]),(Ue=dY(Qe[1]))!==""&&Ue.charAt(0)!==","))return LN;Ue=Ue.replace(/^,/,"")}return Ke}(ue);if(this.fontFaces){var De=function(at,Ve){if(ie===null){var Qe=function(Ke){var Ue=[];return Object.keys(Ke).forEach(function(We){Ke[We].forEach(function(yt){var Ne=null;switch(yt){case"bold":Ne={family:We,weight:"bold"};break;case"italic":Ne={family:We,style:"italic"};break;case"bolditalic":Ne={family:We,weight:"bold",style:"italic"};break;case"":case"normal":Ne={family:We}}Ne!==null&&(Ne.ref={name:We,style:yt},Ue.push(Ne))})}),Ue}(at.getFontList());ie=function(Ke){for(var Ue={},We=0;We<Ke.length;++We){var yt=MN(Ke[We]),Ne=yt.family,et=yt.stretch,ft=yt.style,lt=yt.weight;Ue[Ne]=Ue[Ne]||{},Ue[Ne][et]=Ue[Ne][et]||{},Ue[Ne][et][ft]=Ue[Ne][et][ft]||{},Ue[Ne][et][ft][lt]=yt}return Ue}(Qe.concat(Ve))}return ie}(this.pdf,this.fontFaces),ge=Se.map(function(at){return{family:at,stretch:"normal",weight:re,style:le}}),Be=function(at,Ve,Qe){for(var Ke=(Qe=Qe||{}).defaultFontFamily||"times",Ue=Object.assign({},VYe,Qe.genericFontFamilies||{}),We=null,yt=null,Ne=0;Ne<Ve.length;++Ne)if(Ue[(We=MN(Ve[Ne])).family]&&(We.family=Ue[We.family]),at.hasOwnProperty(We.family)){yt=at[We.family];break}if(!(yt=yt||at[Ke]))throw new Error("Could not find a font-family for the rule '"+hY(We)+"' and default family '"+Ke+"'.");if(yt=function(et,ft){if(ft[et])return ft[et];var lt=AL[et],St=lt<=AL.normal?-1:1,ut=cY(ft,phe,lt,St);if(!ut)throw new Error("Could not find a matching font-stretch value for "+et);return ut}(We.stretch,yt),yt=function(et,ft){if(ft[et])return ft[et];for(var lt=Ahe[et],St=0;St<lt.length;++St)if(ft[lt[St]])return ft[lt[St]];throw new Error("Could not find a matching font-style for "+et)}(We.style,yt),!(yt=function(et,ft){if(ft[et])return ft[et];if(et===400&&ft[500])return ft[500];if(et===500&&ft[400])return ft[400];var lt=zYe[et],St=cY(ft,ghe,lt,et<400?-1:1);if(!St)throw new Error("Could not find a matching font-weight for value "+et);return St}(We.weight,yt)))throw new Error("Failed to resolve a font for the rule '"+hY(We)+"'.");return yt}(De,ge);this.pdf.setFont(Be.ref.name,Be.ref.style)}else{var Pe="";(re==="bold"||parseInt(re,10)>=700||le==="bold")&&(Pe="bold"),le==="italic"&&(Pe+="italic"),Pe.length===0&&(Pe="normal");for(var st="",gt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},we=0;we<Se.length;we++){if(this.pdf.internal.getFont(Se[we],Pe,{noFallback:!0,disableWarning:!0})!==void 0){st=Se[we];break}if(Pe==="bolditalic"&&this.pdf.internal.getFont(Se[we],"bold",{noFallback:!0,disableWarning:!0})!==void 0)st=Se[we],Pe="bold";else if(this.pdf.internal.getFont(Se[we],"normal",{noFallback:!0,disableWarning:!0})!==void 0){st=Se[we],Pe="normal";break}}if(st===""){for(var Oe=0;Oe<Se.length;Oe++)if(gt[Se[Oe]]){st=gt[Se[Oe]];break}}st=st===""?"Times":st,this.pdf.setFont(st,Pe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ne){this.ctx.globalCompositeOperation=ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ne){this.ctx.globalAlpha=ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ne){this.ctx.lineDashOffset=ne,V.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ne){this.ctx.lineDash=ne,V.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ne){this.ctx.ignoreClearRect=!!ne}})};f.prototype.setLineDash=function(M){this.lineDash=M},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){b.call(this,"fill",!1)},f.prototype.stroke=function(){b.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(M,U){if(isNaN(M)||isNaN(U))throw hi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new s(M,U));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(M,U)},f.prototype.closePath=function(){var M=new s(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&ei(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){M=new s(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(M.x,M.y)},f.prototype.lineTo=function(M,U){if(isNaN(M)||isNaN(U))throw hi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new s(M,U));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(Q.x,Q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),b.call(this,null,!0)},f.prototype.quadraticCurveTo=function(M,U,Q,W){if(isNaN(Q)||isNaN(W)||isNaN(M)||isNaN(U))throw hi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var j=this.ctx.transform.applyToPoint(new s(Q,W)),X=this.ctx.transform.applyToPoint(new s(M,U));this.path.push({type:"qct",x1:X.x,y1:X.y,x:j.x,y:j.y}),this.ctx.lastPoint=new s(j.x,j.y)},f.prototype.bezierCurveTo=function(M,U,Q,W,j,X){if(isNaN(j)||isNaN(X)||isNaN(M)||isNaN(U)||isNaN(Q)||isNaN(W))throw hi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var z=this.ctx.transform.applyToPoint(new s(j,X)),H=this.ctx.transform.applyToPoint(new s(M,U)),K=this.ctx.transform.applyToPoint(new s(Q,W));this.path.push({type:"bct",x1:H.x,y1:H.y,x2:K.x,y2:K.y,x:z.x,y:z.y}),this.ctx.lastPoint=new s(z.x,z.y)},f.prototype.arc=function(M,U,Q,W,j,X){if(isNaN(M)||isNaN(U)||isNaN(Q)||isNaN(W)||isNaN(j))throw hi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(X=!!X,!this.ctx.transform.isIdentity){var z=this.ctx.transform.applyToPoint(new s(M,U));M=z.x,U=z.y;var H=this.ctx.transform.applyToPoint(new s(0,Q)),K=this.ctx.transform.applyToPoint(new s(0,0));Q=Math.sqrt(Math.pow(H.x-K.x,2)+Math.pow(H.y-K.y,2))}Math.abs(j-W)>=2*Math.PI&&(W=0,j=2*Math.PI),this.path.push({type:"arc",x:M,y:U,radius:Q,startAngle:W,endAngle:j,counterclockwise:X})},f.prototype.arcTo=function(M,U,Q,W,j){throw new Error("arcTo not implemented.")},f.prototype.rect=function(M,U,Q,W){if(isNaN(M)||isNaN(U)||isNaN(Q)||isNaN(W))throw hi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,U),this.lineTo(M+Q,U),this.lineTo(M+Q,U+W),this.lineTo(M,U+W),this.lineTo(M,U),this.lineTo(M+Q,U),this.lineTo(M,U)},f.prototype.fillRect=function(M,U,Q,W){if(isNaN(M)||isNaN(U)||isNaN(Q)||isNaN(W))throw hi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var j={};this.lineCap!=="butt"&&(j.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(j.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,U,Q,W),this.fill(),j.hasOwnProperty("lineCap")&&(this.lineCap=j.lineCap),j.hasOwnProperty("lineJoin")&&(this.lineJoin=j.lineJoin)}},f.prototype.strokeRect=function(M,U,Q,W){if(isNaN(M)||isNaN(U)||isNaN(Q)||isNaN(W))throw hi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(M,U,Q,W),this.stroke())},f.prototype.clearRect=function(M,U,Q,W){if(isNaN(M)||isNaN(U)||isNaN(Q)||isNaN(W))throw hi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,U,Q,W))},f.prototype.save=function(M){M=typeof M!="boolean"||M;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var W=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=W}},f.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(U),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(M){var U,Q,W,j;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))U=0,Q=0,W=0,j=0;else{var X=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(X!==null)U=parseInt(X[1]),Q=parseInt(X[2]),W=parseInt(X[3]),j=1;else if((X=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)U=parseInt(X[1]),Q=parseInt(X[2]),W=parseInt(X[3]),j=parseFloat(X[4]);else{if(j=1,typeof M=="string"&&M.charAt(0)!=="#"){var z=new ohe(M);M=z.ok?z.toHex():"#000000"}M.length===4?(U=M.substring(1,2),U+=U,Q=M.substring(2,3),Q+=Q,W=M.substring(3,4),W+=W):(U=M.substring(1,3),Q=M.substring(3,5),W=M.substring(5,7)),U=parseInt(U,16),Q=parseInt(Q,16),W=parseInt(W,16)}}return{r:U,g:Q,b:W,a:j,style:M}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(M,U,Q,W){if(isNaN(U)||isNaN(Q)||typeof M!="string")throw hi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(W=isNaN(W)?void 0:W,!d.call(this)){var j=S(this.ctx.transform.rotation),X=this.ctx.transform.scaleX;R.call(this,{text:M,x:U,y:Q,scale:X,angle:j,align:this.textAlign,maxWidth:W})}},f.prototype.strokeText=function(M,U,Q,W){if(isNaN(U)||isNaN(Q)||typeof M!="string")throw hi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){W=isNaN(W)?void 0:W;var j=S(this.ctx.transform.rotation),X=this.ctx.transform.scaleX;R.call(this,{text:M,x:U,y:Q,scale:X,renderingMode:"stroke",angle:j,align:this.textAlign,maxWidth:W})}},f.prototype.measureText=function(M){if(typeof M!="string")throw hi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,Q=this.pdf.internal.scaleFactor,W=U.internal.getFontSize(),j=U.getStringUnitWidth(M)*W/U.internal.scaleFactor;return new function(X){var z=(X=X||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return z}}),this}({width:j*=Math.round(96*Q/72*1e4)/1e4})},f.prototype.scale=function(M,U){if(isNaN(M)||isNaN(U))throw hi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(M,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.rotate=function(M){if(isNaN(M))throw hi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.translate=function(M,U){if(isNaN(M)||isNaN(U))throw hi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,M,U);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.transform=function(M,U,Q,W,j,X){if(isNaN(M)||isNaN(U)||isNaN(Q)||isNaN(W)||isNaN(j)||isNaN(X))throw hi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var z=new l(M,U,Q,W,j,X);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.setTransform=function(M,U,Q,W,j,X){M=isNaN(M)?1:M,U=isNaN(U)?0:U,Q=isNaN(Q)?0:Q,W=isNaN(W)?1:W,j=isNaN(j)?0:j,X=isNaN(X)?0:X,this.ctx.transform=new l(M,U,Q,W,j,X)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(M,U,Q,W,j,X,z,H,K){var Z=this.pdf.getImageProperties(M),ie=1,ee=1,ne=1,te=1;W!==void 0&&H!==void 0&&(ne=H/W,te=K/j,ie=Z.width/W*H/W,ee=Z.height/j*K/j),X===void 0&&(X=U,z=Q,U=0,Q=0),W!==void 0&&H===void 0&&(H=W,K=j),W===void 0&&H===void 0&&(H=Z.width,K=Z.height);for(var le,re=this.ctx.transform.decompose(),de=S(re.rotate.shx),ue=new l,Fe=(ue=(ue=(ue=ue.multiply(re.translate)).multiply(re.skew)).multiply(re.scale)).applyToRectangle(new o(X-U*ne,z-Q*te,W*ie,j*ee)),Se=g.call(this,Fe),De=[],ge=0;ge<Se.length;ge+=1)De.indexOf(Se[ge])===-1&&De.push(Se[ge]);if(y(De),this.autoPaging)for(var Be=De[0],Pe=De[De.length-1],st=Be;st<Pe+1;st++){this.pdf.setPage(st);var gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],we=st===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=st===1?0:Oe+(st-2)*at;if(this.ctx.clip_path.length!==0){var Qe=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(le,this.posX+this.margin[3],-Ve+we+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=Qe}var Ke=JSON.parse(JSON.stringify(Fe));Ke=v([Ke],this.posX+this.margin[3],-Ve+we+this.ctx.prevPageLastElemOffset)[0];var Ue=(st>Be||st<Pe)&&p.call(this);Ue&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,at,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,de),Ue&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,de)};var g=function(M,U,Q){var W=[];U=U||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var j=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":W.push(Math.floor((M.y+j)/Q)+1);break;case"arc":W.push(Math.floor((M.y+j-M.radius)/Q)+1),W.push(Math.floor((M.y+j+M.radius)/Q)+1);break;case"qct":var X=B(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);W.push(Math.floor((X.y+j)/Q)+1),W.push(Math.floor((X.y+X.h+j)/Q)+1);break;case"bct":var z=O(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);W.push(Math.floor((z.y+j)/Q)+1),W.push(Math.floor((z.y+z.h+j)/Q)+1);break;case"rect":W.push(Math.floor((M.y+j)/Q)+1),W.push(Math.floor((M.y+M.h+j)/Q)+1)}for(var H=0;H<W.length;H+=1)for(;this.pdf.internal.getNumberOfPages()<W[H];)m.call(this);return W},m=function(){var M=this.fillStyle,U=this.strokeStyle,Q=this.font,W=this.lineCap,j=this.lineWidth,X=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=U,this.font=Q,this.lineCap=W,this.lineWidth=j,this.lineJoin=X},v=function(M,U,Q){for(var W=0;W<M.length;W++)switch(M[W].type){case"bct":M[W].x2+=U,M[W].y2+=Q;case"qct":M[W].x1+=U,M[W].y1+=Q;default:M[W].x+=U,M[W].y+=Q}return M},y=function(M){return M.sort(function(U,Q){return U-Q})},b=function(M,U){for(var Q,W,j=this.fillStyle,X=this.strokeStyle,z=this.lineCap,H=this.lineWidth,K=Math.abs(H*this.ctx.transform.scaleX),Z=this.lineJoin,ie=JSON.parse(JSON.stringify(this.path)),ee=JSON.parse(JSON.stringify(this.path)),ne=[],te=0;te<ee.length;te++)if(ee[te].x!==void 0)for(var le=g.call(this,ee[te]),re=0;re<le.length;re+=1)ne.indexOf(le[re])===-1&&ne.push(le[re]);for(var de=0;de<ne.length;de++)for(;this.pdf.internal.getNumberOfPages()<ne[de];)m.call(this);if(y(ne),this.autoPaging)for(var ue=ne[0],Fe=ne[ne.length-1],Se=ue;Se<Fe+1;Se++){this.pdf.setPage(Se),this.fillStyle=j,this.strokeStyle=X,this.lineCap=z,this.lineWidth=K,this.lineJoin=Z;var De=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ge=Se===1?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=Se===1?0:Be+(Se-2)*Pe;if(this.ctx.clip_path.length!==0){var gt=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Q,this.posX+this.margin[3],-st+ge+this.ctx.prevPageLastElemOffset),_.call(this,M,!0),this.path=gt}if(W=JSON.parse(JSON.stringify(ie)),this.path=v(W,this.posX+this.margin[3],-st+ge+this.ctx.prevPageLastElemOffset),U===!1||Se===0){var we=(Se>ue||Se<Fe)&&p.call(this);we&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,Pe,null).clip().discardPath()),_.call(this,M,U),we&&this.pdf.restoreGraphicsState()}this.lineWidth=H}else this.lineWidth=K,_.call(this,M,U),this.lineWidth=H;this.path=ie},_=function(M,U){if((M!=="stroke"||U||!A.call(this))&&(M==="stroke"||U||!d.call(this))){for(var Q,W,j=[],X=this.path,z=0;z<X.length;z++){var H=X[z];switch(H.type){case"begin":j.push({begin:!0});break;case"close":j.push({close:!0});break;case"mt":j.push({start:H,deltas:[],abs:[]});break;case"lt":var K=j.length;if(X[z-1]&&!isNaN(X[z-1].x)&&(Q=[H.x-X[z-1].x,H.y-X[z-1].y],K>0)){for(;K>=0;K--)if(j[K-1].close!==!0&&j[K-1].begin!==!0){j[K-1].deltas.push(Q),j[K-1].abs.push(H);break}}break;case"bct":Q=[H.x1-X[z-1].x,H.y1-X[z-1].y,H.x2-X[z-1].x,H.y2-X[z-1].y,H.x-X[z-1].x,H.y-X[z-1].y],j[j.length-1].deltas.push(Q);break;case"qct":var Z=X[z-1].x+2/3*(H.x1-X[z-1].x),ie=X[z-1].y+2/3*(H.y1-X[z-1].y),ee=H.x+2/3*(H.x1-H.x),ne=H.y+2/3*(H.y1-H.y),te=H.x,le=H.y;Q=[Z-X[z-1].x,ie-X[z-1].y,ee-X[z-1].x,ne-X[z-1].y,te-X[z-1].x,le-X[z-1].y],j[j.length-1].deltas.push(Q);break;case"arc":j.push({deltas:[],abs:[],arc:!0}),Array.isArray(j[j.length-1].abs)&&j[j.length-1].abs.push(H)}}W=U?null:M==="stroke"?"stroke":"fill";for(var re=!1,de=0;de<j.length;de++)if(j[de].arc)for(var ue=j[de].abs,Fe=0;Fe<ue.length;Fe++){var Se=ue[Fe];Se.type==="arc"?N.call(this,Se.x,Se.y,Se.radius,Se.startAngle,Se.endAngle,Se.counterclockwise,void 0,U,!re):E.call(this,Se.x,Se.y),re=!0}else if(j[de].close===!0)this.pdf.internal.out("h"),re=!1;else if(j[de].begin!==!0){var De=j[de].start.x,ge=j[de].start.y;L.call(this,j[de].deltas,De,ge),re=!0}W&&F.call(this,W),U&&P.call(this)}},T=function(M){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-Q;case"top":return M+U-Q;case"hanging":return M+U-2*Q;case"middle":return M+U/2-Q;default:return M}},I=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(U,Q){this.colorStops.push([U,Q])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(M,U,Q,W,j,X,z,H,K){for(var Z=w.call(this,Q,W,j,X),ie=0;ie<Z.length;ie++){var ee=Z[ie];ie===0&&(K?D.call(this,ee.x1+M,ee.y1+U):E.call(this,ee.x1+M,ee.y1+U)),k.call(this,M,U,ee.x2,ee.y2,ee.x3,ee.y3,ee.x4,ee.y4)}H?P.call(this):F.call(this,z)},F=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},P=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(M,U){this.pdf.internal.out(e(M)+" "+n(U)+" m")},R=function(M){var U;switch(M.align){case"right":case"end":U="right";break;case"center":U="center";break;default:U="left"}var Q=this.pdf.getTextDimensions(M.text),W=T.call(this,M.y),j=I.call(this,W)-Q.h,X=this.ctx.transform.applyToPoint(new s(M.x,W)),z=this.ctx.transform.decompose(),H=new l;H=(H=(H=H.multiply(z.translate)).multiply(z.skew)).multiply(z.scale);for(var K,Z,ie,ee=this.ctx.transform.applyToRectangle(new o(M.x,W,Q.w,Q.h)),ne=H.applyToRectangle(new o(M.x,j,Q.w,Q.h)),te=g.call(this,ne),le=[],re=0;re<te.length;re+=1)le.indexOf(te[re])===-1&&le.push(te[re]);if(y(le),this.autoPaging)for(var de=le[0],ue=le[le.length-1],Fe=de;Fe<ue+1;Fe++){this.pdf.setPage(Fe);var Se=Fe===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ge=this.pdf.internal.pageSize.height-this.margin[2],Be=ge-this.margin[0],Pe=this.pdf.internal.pageSize.width-this.margin[1],st=Pe-this.margin[3],gt=Fe===1?0:De+(Fe-2)*Be;if(this.ctx.clip_path.length!==0){var we=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(K,this.posX+this.margin[3],-1*gt+Se),_.call(this,"fill",!0),this.path=we}var Oe=v([JSON.parse(JSON.stringify(ne))],this.posX+this.margin[3],-gt+Se+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*M.scale),ie=this.lineWidth,this.lineWidth=ie*M.scale);var at=this.autoPaging!=="text";if(at||Oe.y+Oe.h<=ge){if(at||Oe.y>=Se&&Oe.x<=Pe){var Ve=at?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Pe-Oe.x)[0],Qe=v([JSON.parse(JSON.stringify(ee))],this.posX+this.margin[3],-gt+Se+this.ctx.prevPageLastElemOffset)[0],Ke=at&&(Fe>de||Fe<ue)&&p.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,Be,null).clip().discardPath()),this.pdf.text(Ve,Qe.x,Qe.y,{angle:M.angle,align:U,renderingMode:M.renderingMode}),Ke&&this.pdf.restoreGraphicsState()}}else Oe.y<ge&&(this.ctx.prevPageLastElemOffset+=ge-Oe.y);M.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=ie)}else M.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*M.scale),ie=this.lineWidth,this.lineWidth=ie*M.scale),this.pdf.text(M.text,X.x+this.posX,X.y+this.posY,{angle:M.angle,align:U,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=ie)},E=function(M,U,Q,W){Q=Q||0,W=W||0,this.pdf.internal.out(e(M+Q)+" "+n(U+W)+" l")},L=function(M,U,Q){return this.pdf.lines(M,U,Q,null,null)},k=function(M,U,Q,W,j,X,z,H){this.pdf.internal.out([t(i(Q+M)),t(a(W+U)),t(i(j+M)),t(a(X+U)),t(i(z+M)),t(a(H+U)),"c"].join(" "))},w=function(M,U,Q,W){for(var j=2*Math.PI,X=Math.PI/2;U>Q;)U-=j;var z=Math.abs(Q-U);z<j&&W&&(z=j-z);for(var H=[],K=W?-1:1,Z=U;z>1e-5;){var ie=Z+K*Math.min(z,X);H.push(C.call(this,M,Z,ie)),z-=Math.abs(ie-Z),Z=ie}return H},C=function(M,U,Q){var W=(Q-U)/2,j=M*Math.cos(W),X=M*Math.sin(W),z=j,H=-X,K=z*z+H*H,Z=K+z*j+H*X,ie=4/3*(Math.sqrt(2*K*Z)-Z)/(z*X-H*j),ee=z-ie*H,ne=H+ie*z,te=ee,le=-ne,re=W+U,de=Math.cos(re),ue=Math.sin(re);return{x1:M*Math.cos(U),y1:M*Math.sin(U),x2:ee*de-ne*ue,y2:ee*ue+ne*de,x3:te*de-le*ue,y3:te*ue+le*de,x4:M*Math.cos(Q),y4:M*Math.sin(Q)}},S=function(M){return 180*M/Math.PI},B=function(M,U,Q,W,j,X){var z=M+.5*(Q-M),H=U+.5*(W-U),K=j+.5*(Q-j),Z=X+.5*(W-X),ie=Math.min(M,j,z,K),ee=Math.max(M,j,z,K),ne=Math.min(U,X,H,Z),te=Math.max(U,X,H,Z);return new o(ie,ne,ee-ie,te-ne)},O=function(M,U,Q,W,j,X,z,H){var K,Z,ie,ee,ne,te,le,re,de,ue,Fe,Se,De,ge,Be=Q-M,Pe=W-U,st=j-Q,gt=X-W,we=z-j,Oe=H-X;for(Z=0;Z<41;Z++)de=(le=(ie=M+(K=Z/40)*Be)+K*((ne=Q+K*st)-ie))+K*(ne+K*(j+K*we-ne)-le),ue=(re=(ee=U+K*Pe)+K*((te=W+K*gt)-ee))+K*(te+K*(X+K*Oe-te)-re),Z==0?(Fe=de,Se=ue,De=de,ge=ue):(Fe=Math.min(Fe,de),Se=Math.min(Se,ue),De=Math.max(De,de),ge=Math.max(ge,ue));return new o(Math.round(Fe),Math.round(Se),Math.round(De-Fe),Math.round(ge-Se))},V=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,U,Q=(M=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:U}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(br.API),function(r){var t=function(s){var o,l,u,c,f,h,d,A,p,g;for(l=[],u=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>u;u+=4)(f=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(h=(f=((f=((f=((f=(f-(g=f%85))/85)-(p=f%85))/85)-(A=f%85))/85)-(d=f%85))/85)%85,l.push(h+33,d+33,A+33,p+33,g+33)):l.push(122);return function(m,v){for(var y=v;y>0;y--)m.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},e=function(s){var o,l,u,c,f,h=String,d="length",A=255,p="charCodeAt",g="slice",m="replace";for(s[g](-2),s=s[g](0,-2)[m](/\s/g,"")[m]("z","!!!!!"),u=[],c=0,f=(s+=o="uuuuu"[g](s[d]%5||5))[d];f>c;c+=5)l=52200625*(s[p](c)-33)+614125*(s[p](c+1)-33)+7225*(s[p](c+2)-33)+85*(s[p](c+3)-33)+(s[p](c+4)-33),u.push(A&l>>24,A&l>>16,A&l>>8,A&l);return function(v,y){for(var b=y;b>0;b--)v.pop()}(u,o[d]),h.fromCharCode.apply(h,u)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",u=0;u<s.length;u+=2)l+=String.fromCharCode("0x"+(s[u]+s[u+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=tL(o)).reduce(function(u,c){return u+String.fromCharCode(c)},"")};r.processDataByFilters=function(s,o){var l=0,u=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=e(u),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:c.reverse().join(" ")}}}(br.API),function(r){r.loadFile=function(t,e,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,u,c){var f=new XMLHttpRequest,h=0,d=function(A){var p=A.length,g=[],m=String.fromCharCode;for(h=0;h<p;h+=1)g.push(m(255&A.charCodeAt(h)));return g.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?c(d(this.responseText)):c(void 0)}),f.send(null),u&&f.status===200)return d(f.responseText)}(i,a,s)}catch{}return o}(t,e,n)},r.loadImageFile=r.loadFile}(br.API),function(r){function t(){return(Yr.html2canvas?Promise.resolve(Yr.html2canvas):UA(()=>Promise.resolve().then(()=>cKe),void 0)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function e(){return(Yr.DOMPurify?Promise.resolve(Yr.DOMPurify):UA(()=>import("./purify.es-sOfw8HaZ.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=ei(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var c in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[c]=l.style[c];return u},a=function o(l,u){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||c.appendChild(o(f,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c},s=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),u);return(c=c.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(e).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var u=this.opt.jsPDF,c=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=c,c)for(var d=0;d<c.length;++d){var A=c[d],p=A.src.find(function(g){return g.format==="truetype"});p&&u.addFont(p.url,A.ref.name,A.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,u.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(u,c){return Math.floor(u*c/72*96)}return this.then(function(){(o=o||br.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,u,c){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,u,c){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(c,f){return u.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return u.updateProgress(null,c),h}).then(c,f).then(function(h){return u.updateProgress(1),h})})},s.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var c=this;o&&(o=o.bind(c)),l&&(l=l.bind(c));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:s.convert(Object.assign({},c),Promise.prototype),h=u.call(f,o,l);return s.convert(h,c.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,br.getPageSize=function(o,l,u){if(ei(o)==="object"){var c=o;o=c.orientation,l=c.unit||l,u=c.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var f,h=(""+u).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var A,p=0,g=0;if(d.hasOwnProperty(h))p=d[h][1]/f,g=d[h][0]/f;else try{p=u[1],g=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",g>p&&(A=g,g=p,p=A);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",p>g&&(A=g,g=p,p=A)}return{width:g,height:p,unit:l,k:f,orientation:o}},r.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(MN):null;var u=new s(l);return l.worker?u:u.from(o).doCallback()}}(br.API),br.API.addJS=function(r){return pY=r,this.internal.events.subscribe("postPutResources",function(){A3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(A3+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),AY=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+pY+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){A3!==void 0&&AY!==void 0&&this.internal.out("/Names <</JavaScript "+A3+" 0 R>>")}),this},function(r){var t;r.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=e.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var l=o[1];e.internal.newObjectDeferredBegin(l,!1)}e.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(a=0;a<u;a++){var f=e.internal.newObject();c.push(f);var h=e.internal.getPageInfo(a+1);e.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var d=e.internal.newObject();for(e.internal.write("<< /Names [ "),a=0;a<c.length;a++)e.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+d+" 0 R"),e.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),r.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(n){n.id=e.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},e.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},e.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=e.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},e.outline.line=function(n){this.ctx.val+=n+`\r
`},e.outline.makeRef=function(n){return n.id+" 0 R"},e.outline.makeString=function(n){return"("+e.internal.pdfEscape(n)+")"},e.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(br.API),function(r){var t=[192,193,194,195,196,197,198,199];r.processJPEG=function(e,n,i,a,s,o){var l,u=this.decode.DCT_DECODE,c=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=s||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,l=function(f){for(var h,d=256*f.charCodeAt(4)+f.charCodeAt(5),A=f.length,p={width:0,height:0,numcomponents:1},g=4;g<A;g+=2){if(g+=d,t.indexOf(f.charCodeAt(g+1))!==-1){h=256*f.charCodeAt(g+5)+f.charCodeAt(g+6),p={width:256*f.charCodeAt(g+7)+f.charCodeAt(g+8),height:h,numcomponents:f.charCodeAt(g+9)};break}d=256*f.charCodeAt(g+2)+f.charCodeAt(g+3)}return p}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:e,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return c}}(br.API),br.API.processPNG=function(r,t,e,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var i,a=kYe(r,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,u=a.palette,c=a.depth;i=u&&l===1?function(N){for(var F=N.width,P=N.height,D=N.data,R=N.palette,E=N.depth,L=!1,k=[],w=[],C=void 0,S=!1,B=0,O=0;O<R.length;O++){var V=uX(R[O],4),M=V[0],U=V[1],Q=V[2],W=V[3];k.push(M,U,Q),W!=null&&(W===0?(B++,w.length<1&&w.push(O)):W<255&&(S=!0))}if(S||B>1){L=!0,w=void 0;var j=F*P;C=new Uint8Array(j);for(var X=new DataView(D.buffer),z=0;z<j;z++){var H=DN(X,z,E),K=uX(R[H],4)[3];C[z]=K}}else B===0&&(w=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:L?8:void 0,colorBytes:D,alphaBytes:C,needSMask:L,palette:k,mask:w}}(a):l===2||l===4?function(N){for(var F=N.data,P=N.width,D=N.height,R=N.channels,E=N.depth,L=R===2?"DeviceGray":"DeviceRGB",k=R-1,w=P*D,C=k,S=w*C,B=1*w,O=Math.ceil(S*E/8),V=Math.ceil(B*E/8),M=new Uint8Array(O),U=new Uint8Array(V),Q=new DataView(F.buffer),W=new DataView(M.buffer),j=new DataView(U.buffer),X=!1,z=0;z<w;z++){for(var H=z*R,K=0;K<C;K++)SY(W,DN(Q,H+K,E),z*C+K,E);var Z=DN(Q,H+C,E);Z<(1<<E)-1&&(X=!0),SY(j,Z,1*z,E)}return{colorSpace:L,colorsPerPixel:k,sMaskBitsPerComponent:X?E:void 0,colorBytes:M,alphaBytes:U,needSMask:X}}(a):function(N){var F=N.data,P=N.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:P,colorsPerPixel:P==="DeviceGray"?1:3,colorBytes:F instanceof Uint16Array?function(D){for(var R=D.length,E=new Uint8Array(2*R),L=new DataView(E.buffer,E.byteOffset,E.byteLength),k=0;k<R;k++)L.setUint16(2*k,D[k],!1);return E}(F):F,needSMask:!1}}(a);var f,h,d,A=i,p=A.colorSpace,g=A.colorsPerPixel,m=A.sMaskBitsPerComponent,v=A.colorBytes,y=A.alphaBytes,b=A.needSMask,_=A.palette,T=A.mask,I=null;return n!==br.API.image_compression.NONE&&typeof tL=="function"?(I=function(N){var F;switch(N){case br.API.image_compression.FAST:F=11;break;case br.API.image_compression.MEDIUM:F=13;break;case br.API.image_compression.SLOW:F=14;break;default:F=12}return F}(n),f=this.decode.FLATE_DECODE,h="/Predictor ".concat(I," /Colors ").concat(g," /BitsPerComponent ").concat(c," /Columns ").concat(s),r=yY(v,Math.ceil(s*g*c/8),g,c,n),b&&(d=yY(y,Math.ceil(s*m/8),1,m,n))):(f=void 0,h=void 0,r=v,b&&(d=y)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:e,data:r,index:t,filter:f,decodeParameters:h,transparency:T,palette:_,sMask:d,predictor:I,width:s,height:o,bitsPerComponent:c,sMaskBitsPerComponent:m,colorSpace:p}}},function(r){r.processGIF89A=function(t,e,n,i){var a=new XYe(t),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:s,height:o},c=new PN(100).encode(u,100);return r.processJPEG.call(this,c,e,n,i)},r.processGIF87A=r.processGIF89A}(br.API),Wu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var t=0;t<r;t++){var e=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:e,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Wu.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[r]()}catch(e){hi.log("bit decode error:"+e)}},Wu.prototype.bit1=function(){var r,t=Math.ceil(this.width/8),e=t%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}e!==0&&(this.pos+=4-e)}},Wu.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),t=r%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<r;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,l=15&a,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Wu.prototype.bit8=function(){for(var r=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}r!==0&&(this.pos+=4-r)}},Wu.prototype.bit15=function(){for(var r=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,o=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,u=a>>15?255:0,c=n*this.width*4+4*i;this.data[c]=l,this.data[c+1]=o,this.data[c+2]=s,this.data[c+3]=u}this.pos+=r}},Wu.prototype.bit16=function(){for(var r=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&e)/e*255|0,u=(s>>11)/t*255|0,c=i*this.width*4+4*a;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=o,this.data[c+3]=255}this.pos+=r}},Wu.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*e;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Wu.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},Wu.prototype.getData=function(){return this.data},function(r){r.processBMP=function(t,e,n,i){var a=new Wu(t,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},u=new PN(100).encode(l,100);return r.processJPEG.call(this,u,e,n,i)}}(br.API),BY.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(t,e,n,i){var a=new BY(t),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},u=new PN(100).encode(l,100);return r.processJPEG.call(this,u,e,n,i)}}(br.API),br.API.processRGBA=function(r,t,e){for(var n=r.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var c=n[u],f=n[u+1],h=n[u+2],d=n[u+3];a[o++]=c,a[o++]=f,a[o++]=h,s[l++]=d}var A=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:A,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},br.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Zm=br.API,p3=Zm.getCharWidthsArray=function(r,t){var e,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,d=r.length,A=0,p=o[0]||l,g=[];for(e=0;e<d;e++)n=r.charCodeAt(e),typeof i.metadata.widthOfString=="function"?g.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(h=f&&ei(u[n])==="object"&&!isNaN(parseInt(u[n][A],10))?u[n][A]/c:0,g.push((o[n]||p)/l+h)),A=n;return g},gY=Zm.getStringUnitWidth=function(r,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Zm.processArabic&&(r=Zm.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,e,i)/e:p3.apply(this,arguments).reduce(function(a,s){return a+s},0)},mY=function(r,t,e,n){for(var i=[],a=0,s=r.length,o=0;a!==s&&o+t[a]<e;)o+=t[a],a++;i.push(r.slice(0,a));var l=a;for(o=0;a!==s;)o+t[a]>n&&(i.push(r.slice(l,a)),o=0,l=a),o+=t[a],a++;return l!==a&&i.push(r.slice(l,a)),i},vY=function(r,t,e){e||(e={});var n,i,a,s,o,l,u,c=[],f=[c],h=e.textIndent||0,d=0,A=0,p=r.split(" "),g=p3.apply(this,[" ",e])[0];if(l=e.lineIndent===-1?p[0].length+2:e.lineIndent||0){var m=Array(l).join(" "),v=[];p.map(function(b){(b=b.split(/\s*\n/)).length>1?v=v.concat(b.map(function(_,T){return(T&&_.length?`
`:"")+_})):v.push(b[0])}),p=v,l=gY.apply(this,[m,e])}for(a=0,s=p.length;a<s;a++){var y=0;if(n=p[a],l&&n[0]==`
`&&(n=n.substr(1),y=1),h+d+(A=(i=p3.apply(this,[n,e])).reduce(function(b,_){return b+_},0))>t||y){if(A>t){for(o=mY.apply(this,[n,i,t-(h+d),t]),c.push(o.shift()),c=[o.pop()];o.length;)f.push([o.shift()]);A=i.slice(n.length-(c[0]?c[0].length:0)).reduce(function(b,_){return b+_},0)}else c=[n];f.push(c),h=A+l,d=g}else c.push(n),h+=d+A,d=g}return u=l?function(b,_){return(_?m:"")+b.join(" ")}:function(b){return b.join(" ")},f.map(u)},Zm.splitTextToSize=function(r,t,e){var n,i=(e=e||{}).fontSize||this.internal.getFontSize(),a=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var f=this.internal.getFont(c.fontName,c.fontStyle),h="Unicode";return f.metadata[h]?{widths:f.metadata[h].widths||{0:1},kerning:f.metadata[h].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;a.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=e.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(vY.apply(this,[n[o],s,a]));return u},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[e[a]]=t[a],i[t[a]]=e[a];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=r.__fontmetrics__.compress=function(h){var d,A,p,g,m=["{"];for(var v in h){if(d=h[v],isNaN(parseInt(v,10))?A="'"+v+"'":(v=parseInt(v,10),A=(A=s(v).slice(2)).slice(0,-1)+i[A.slice(-1)]),typeof d=="number")d<0?(p=s(d).slice(3),g="-"):(p=s(d).slice(2),g=""),p=g+p.slice(0,-1)+i[p.slice(-1)];else{if(ei(d)!=="object")throw new Error("Don't know what to do with value type "+ei(d)+".");p=o(d)}m.push(A+p)}return m.push("}"),m.join("")},l=r.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,A,p,g,m={},v=1,y=m,b=[],_="",T="",I=h.length-1,N=1;N<I;N+=1)(g=h[N])=="'"?d?(p=d.join(""),d=void 0):d=[]:d?d.push(g):g=="{"?(b.push([y,p]),y={},p=void 0):g=="}"?((A=b.pop())[0][A[1]]=y,p=void 0,y=A[0]):g=="-"?v=-1:p===void 0?n.hasOwnProperty(g)?(_+=n[g],p=parseInt(_,16)*v,v=1,_=""):_+=g:n.hasOwnProperty(g)?(T+=n[g],y[p]=parseInt(T,16)*v,v=1,p=void 0,T=""):T+=g;return m},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(h){var d=h.font,A=f.Unicode[d.postScriptName];A&&(d.metadata.Unicode={},d.metadata.Unicode.widths=A.widths,d.metadata.Unicode.kerning=A.kerning);var p=c.Unicode[d.postScriptName];p&&(d.metadata.Unicode.encoding=p,d.encoding=p.codePages[0])}])}(br.API),function(r){var t=function(e){for(var n=e.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=e.charCodeAt(a);return i};r.API.events.push(["addFont",function(e){var n=void 0,i=e.font,a=e.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(rS(o)),s.metadata=r.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(br),br.API.addSvgAsImage=function(r,t,e,n,i,a,s,o){if(isNaN(t)||isNaN(e))throw hi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw hi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Yr.canvg?Promise.resolve(Yr.canvg):UA(()=>import("./index.es-Cw6fVNe7.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(u,r,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(c)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),t,e,n,i,s,o)})},br.API.putTotalPages=function(r){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(r,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,e);return this},br.API.viewerPreferences=function(r,t){var e;r=r||{},t=t||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],u=0,c=0,f=0;function h(A,p){var g,m=!1;for(g=0;g<A.length;g+=1)A[g]===p&&(m=!0);return m}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,r==="reset"||t===!0){var d=o.length;for(f=0;f<d;f+=1)e[o[f]].value=e[o[f]].defaultValue,e[o[f]].explicitSet=!1}if(ei(r)==="object"){for(i in r)if(a=r[i],h(o,i)&&a!==void 0){if(e[i].type==="boolean"&&typeof a=="boolean")e[i].value=a;else if(e[i].type==="name"&&h(e[i].valueSet,a))e[i].value=a;else if(e[i].type==="integer"&&Number.isInteger(a))e[i].value=a;else if(e[i].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(c=0;c<a[u].length;c+=1)typeof a[u][c]!="number"&&(n=!1);n===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}e[i].value="["+l.join(" ")+"]"}else e[i].value=e[i].defaultValue;e[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,p=[];for(A in e)e[A].explicitSet===!0&&(e[A].type==="name"?p.push("/"+A+" /"+e[A].value):p.push("/"+A+" "+e[A].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(r){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(br.API),function(r){var t=r.API,e=t.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],f=0,h=a.length;f<h;++f){if(o=s.metadata.characterToGlyph(a.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return c.join("");o=o.toString(16),c.push(u[4-o.length],o)}return c.join("")},n=function(a){var s,o,l,u,c,f,h;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(o=Object.keys(a).sort(function(d,A){return d-A})).length;f<h;f++)s=o[f],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(u=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,u=s.newObject,c=s.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),d="",A=0;A<h.length;A++)d+=String.fromCharCode(h[A]);var p=u();c({data:d,addLength1:!0,objectId:p}),l("endobj");var g=u();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var m=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+cv(o.fontName)),l("/FontFile2 "+p+" 0 R"),l("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var v=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+cv(o.fontName)),l("/FontDescriptor "+m+" 0 R"),l("/W "+r.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+g+" 0 R"),l("/BaseFont /"+cv(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+v+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,u=s.newObject,c=s.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",d=0;d<f.length;d++)h+=String.fromCharCode(f[d]);var A=u();c({data:h,addLength1:!0,objectId:A}),l("endobj");var p=u();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:p}),l("endobj");var g=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+A+" 0 R"),l("/Flags 96"),l("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+cv(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var m=0;m<o.metadata.hmtx.widths.length;m++)o.metadata.hmtx.widths[m]=parseInt(o.metadata.hmtx.widths[m]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+cv(o.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,u=a.y,c=a.options||{},f=a.mutex||{},h=f.pdfEscape,d=f.activeFontKey,A=f.fonts,p=d,g="",m=0,v="",y=A[p].encoding;if(A[p].encoding!=="Identity-H")return{text:o,x:l,y:u,options:c,mutex:f};for(v=o,p=d,Array.isArray(o)&&(v=o[0]),m=0;m<v.length;m+=1)A[p].metadata.hasOwnProperty("cmap")&&(s=A[p].metadata.cmap.unicode.codeMap[v[m].charCodeAt(0)]),s||v[m].charCodeAt(0)<256&&A[p].metadata.hasOwnProperty("Unicode")?g+=v[m]:g+="";var b="";return parseInt(p.slice(1))<14||y==="WinAnsiEncoding"?b=h(g,p).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):y==="Identity-H"&&(b=e(g,A[p])),f.isHex=!0,{text:b,x:l,y:u,options:c,mutex:f}};t.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([i(Object.assign({},l,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(i(Object.assign({},l,{text:s[u]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(br),function(r){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},r.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},r.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(br.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var i,a,s,o,l,u,c,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,y=0;this.__bidiEngine__={};var b=function(D){var R=D.charCodeAt(),E=R>>8,L=p[E];return L!==void 0?f[256*L+(255&R)]:E===252||E===253?"AL":m.test(E)?"L":E===8?"R":"N"},_=function(D){for(var R,E=0;E<D.length;E++){if((R=b(D.charAt(E)))==="L")return!1;if(R==="R")return!0}return!1},T=function(D,R,E,L){var k,w,C,S,B=R[L];switch(B){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"N":case"AN":break;case"EN":v&&(B="AN");break;case"AL":v=!0,B="R";break;case"WS":case"BN":B="N";break;case"CS":L<1||L+1>=R.length||(k=E[L-1])!=="EN"&&k!=="AN"||(w=R[L+1])!=="EN"&&w!=="AN"?B="N":v&&(w="AN"),B=w===k?w:"N";break;case"ES":B=(k=L>0?E[L-1]:"B")==="EN"&&L+1<R.length&&R[L+1]==="EN"?"EN":"N";break;case"ET":if(L>0&&E[L-1]==="EN"){B="EN";break}if(v){B="N";break}for(C=L+1,S=R.length;C<S&&R[C]==="ET";)C++;B=C<S&&R[C]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(S=R.length,C=L+1;C<S&&R[C]==="NSM";)C++;if(C<S){var O=D[L],V=O>=1425&&O<=2303||O===64286;if(k=R[C],V&&(k==="R"||k==="AL")){B="R";break}}}B=L<1||(k=R[L-1])==="B"?"N":E[L-1];break;case"B":v=!1,i=!0,B=y;break;case"S":a=!0,B="N"}return B},I=function(D,R,E){var L=D.split("");return E&&N(L,E,{hiLevel:y}),L.reverse(),R&&R.reverse(),L.join("")},N=function(D,R,E){var L,k,w,C,S,B=-1,O=D.length,V=0,M=[],U=y?d:h,Q=[];for(v=!1,i=!1,a=!1,k=0;k<O;k++)Q[k]=b(D[k]);for(w=0;w<O;w++){if(S=V,M[w]=T(D,Q,M,w),L=240&(V=U[S][A[M[w]]]),V&=15,R[w]=C=U[V][5],L>0)if(L===16){for(k=B;k<w;k++)R[k]=1;B=-1}else B=-1;if(U[V][6])B===-1&&(B=w);else if(B>-1){for(k=B;k<w;k++)R[k]=C;B=-1}Q[w]==="B"&&(R[w]=0),E.hiLevel|=C}a&&function(W,j,X){for(var z=0;z<X;z++)if(W[z]==="S"){j[z]=y;for(var H=z-1;H>=0&&W[H]==="WS";H--)j[H]=y}}(Q,R,O)},F=function(D,R,E,L,k){if(!(k.hiLevel<D)){if(D===1&&y===1&&!i)return R.reverse(),void(E&&E.reverse());for(var w,C,S,B,O=R.length,V=0;V<O;){if(L[V]>=D){for(S=V+1;S<O&&L[S]>=D;)S++;for(B=V,C=S-1;B<C;B++,C--)w=R[B],R[B]=R[C],R[C]=w,E&&(w=E[B],E[B]=E[C],E[C]=w);V=S}V++}}},P=function(D,R,E){var L=D.split(""),k={hiLevel:y};return E||(E=[]),N(L,E,k),function(w,C,S){if(S.hiLevel!==0&&c)for(var B,O=0;O<w.length;O++)C[O]===1&&(B=g.indexOf(w[O]))>=0&&(w[O]=g[B+1])}(L,E,k),F(2,L,R,E,k),F(1,L,R,E,k),L.join("")};return this.__bidiEngine__.doBidiReorder=function(D,R,E){if(function(k,w){if(w)for(var C=0;C<k.length;C++)w[C]=C;o===void 0&&(o=_(k)),u===void 0&&(u=_(k))}(D,R),s||!l||u)if(s&&l&&o^u)y=o?1:0,D=I(D,R,E);else if(!s&&l&&u)y=o?1:0,D=P(D,R,E),D=I(D,R);else if(!s||o||l||u){if(s&&!l&&o^u)D=I(D,R),o?(y=0,D=P(D,R,E)):(y=1,D=P(D,R,E),D=I(D,R));else if(s&&o&&!l&&u)y=1,D=P(D,R,E),D=I(D,R);else if(!s&&!l&&o^u){var L=c;o?(y=1,D=P(D,R,E),y=0,c=!1,D=P(D,R,E),c=L):(y=0,D=P(D,R,E),D=I(D,R),y=1,c=!1,D=P(D,R,E),c=L,D=I(D,R))}}else y=0,D=P(D,R,E);else y=o?1:0,D=P(D,R,E);return D},this.__bidiEngine__.setOptions=function(D){D&&(s=D.isInputVisual,l=D.isOutputVisual,o=D.isInputRtl,u=D.isOutputRtl,c=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,e.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([e.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([e.doBidiReorder(i[o])]);n.text=s}else n.text=e.doBidiReorder(i);e.setOptions({isInputVisual:!0})}])}(br),br.API.TTFFont=function(){function r(t){var e;if(this.rawData=t,e=this.contents=new a0(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new fZe(this),this.registerTTF()}return r.open=function(t){return new r(t)},r.prototype.parse=function(){return this.directory=new YYe(this.contents),this.head=new JYe(this),this.name=new iZe(this),this.cmap=new vhe(this),this.toUnicode={},this.hhea=new eZe(this),this.maxp=new aZe(this),this.hmtx=new sZe(this),this.post=new rZe(this),this.os2=new tZe(this),this.loca=new cZe(this),this.glyf=new oZe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var t,e,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,u;for(u=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(e=i>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},r.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},r.prototype.widthOfString=function(t,e,n){var i,a,s,o;for(s=0,a=0,o=(t=""+t).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=t.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/e)||0;return s*(e/1e3)},r.prototype.lineHeight=function(t,e){var n;return e==null&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},r}();var kc,a0=function(){function r(t){this.data=t??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(t){return this.data[this.pos++]=t},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},r.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},r.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},r.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(t){var e,n,i;for(i=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)i.push(this.writeByte(t.charCodeAt(e)));return i},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(t){return this.writeInt16(t)},r.prototype.readLongLong=function(){var t,e,n,i,a,s,o,l;return t=this.readByte(),e=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+l},r.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(t){return this.writeInt32(t)},r.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},r.prototype.write=function(t){var e,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)e=t[n],a.push(this.writeByte(e));return a},r}(),YYe=function(){var r;function t(e){var n,i,a;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(e){var n,i,a,s,o,l,u,c,f,h,d,A,p;for(p in d=Object.keys(e).length,l=Math.log(2),f=16*Math.floor(Math.log(d)/l),s=Math.floor(f/l),c=16*d-f,(i=new a0).writeInt(this.scalarType),i.writeShort(d),i.writeShort(f),i.writeShort(s),i.writeShort(c),a=16*d,u=i.pos+a,o=null,A=[],e)for(h=e[p],i.writeString(p),i.writeInt(r(h)),i.writeInt(u),i.writeInt(h.length),A=A.concat(h),p==="head"&&(o=u),u+=h.length;u%4;)A.push(0),u++;return i.write(A),n=2981146554-r(i.data),i.pos=o+8,i.writeUInt32(n),i.data},r=function(e){var n,i,a,s;for(e=yhe.call(e);e.length%4;)e.push(0);for(a=new a0(e),i=0,n=0,s=e.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),ZYe={}.hasOwnProperty,Of=function(r,t){for(var e in t)ZYe.call(t,e)&&(r[e]=t[e]);function n(){this.constructor=r}return n.prototype=t.prototype,r.prototype=new n,r.__super__=t.prototype,r};kc=function(){function r(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var JYe=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Of(r,kc),r.prototype.tag="head",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},r.prototype.encode=function(t){var e;return(e=new a0).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},r}(),TY=function(){function r(t,e){var n,i,a,s,o,l,u,c,f,h,d,A,p,g,m,v,y;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(d=t.readUInt16(),h=d/2,t.pos+=6,a=function(){var b,_;for(_=[],l=b=0;0<=h?b<h:b>h;l=0<=h?++b:--b)_.push(t.readUInt16());return _}(),t.pos+=2,p=function(){var b,_;for(_=[],l=b=0;0<=h?b<h:b>h;l=0<=h?++b:--b)_.push(t.readUInt16());return _}(),u=function(){var b,_;for(_=[],l=b=0;0<=h?b<h:b>h;l=0<=h?++b:--b)_.push(t.readUInt16());return _}(),c=function(){var b,_;for(_=[],l=b=0;0<=h?b<h:b>h;l=0<=h?++b:--b)_.push(t.readUInt16());return _}(),i=(this.length-t.pos+this.offset)/2,o=function(){var b,_;for(_=[],l=b=0;0<=i?b<i:b>i;l=0<=i?++b:--b)_.push(t.readUInt16());return _}(),l=m=0,y=a.length;m<y;l=++m)for(g=a[l],n=v=A=p[l];A<=g?v<=g:v>=g;n=A<=g?++v:--v)c[l]===0?s=n+u[l]:(s=o[c[l]/2+(n-A)-(h-l)]||0)!==0&&(s+=u[l]),this.codeMap[n]=65535&s}t.pos=f}return r.encode=function(t,e){var n,i,a,s,o,l,u,c,f,h,d,A,p,g,m,v,y,b,_,T,I,N,F,P,D,R,E,L,k,w,C,S,B,O,V,M,U,Q,W,j,X,z,H,K,Z,ie;switch(L=new a0,s=Object.keys(t).sort(function(ee,ne){return ee-ne}),e){case"macroman":for(p=0,g=function(){var ee=[];for(A=0;A<256;++A)ee.push(0);return ee}(),v={0:0},a={},k=0,B=s.length;k<B;k++)v[H=t[i=s[k]]]==null&&(v[H]=++p),a[i]={old:t[i],new:v[t[i]]},g[i]=v[t[i]];return L.writeUInt16(1),L.writeUInt16(0),L.writeUInt32(12),L.writeUInt16(0),L.writeUInt16(262),L.writeUInt16(0),L.write(g),{charMap:a,subtable:L.data,maxGlyphID:p+1};case"unicode":for(R=[],f=[],y=0,v={},n={},m=u=null,w=0,O=s.length;w<O;w++)v[_=t[i=s[w]]]==null&&(v[_]=++y),n[i]={old:_,new:v[_]},o=v[_]-i,m!=null&&o===u||(m&&f.push(m),R.push(i),u=o),m=i;for(m&&f.push(m),f.push(65535),R.push(65535),P=2*(F=R.length),N=2*Math.pow(Math.log(F)/Math.LN2,2),h=Math.log(N/2)/Math.LN2,I=2*F-N,l=[],T=[],d=[],A=C=0,V=R.length;C<V;A=++C){if(D=R[A],c=f[A],D===65535){l.push(0),T.push(0);break}if(D-(E=n[D].new)>=32768)for(l.push(0),T.push(2*(d.length+F-A)),i=S=D;D<=c?S<=c:S>=c;i=D<=c?++S:--S)d.push(n[i].new);else l.push(E-D),T.push(0)}for(L.writeUInt16(3),L.writeUInt16(1),L.writeUInt32(12),L.writeUInt16(4),L.writeUInt16(16+8*F+2*d.length),L.writeUInt16(0),L.writeUInt16(P),L.writeUInt16(N),L.writeUInt16(h),L.writeUInt16(I),X=0,M=f.length;X<M;X++)i=f[X],L.writeUInt16(i);for(L.writeUInt16(0),z=0,U=R.length;z<U;z++)i=R[z],L.writeUInt16(i);for(K=0,Q=l.length;K<Q;K++)o=l[K],L.writeUInt16(o);for(Z=0,W=T.length;Z<W;Z++)b=T[Z],L.writeUInt16(b);for(ie=0,j=d.length;ie<j;ie++)p=d[ie],L.writeUInt16(p);return{charMap:n,subtable:L.data,maxGlyphID:y+1}}},r}(),vhe=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Of(r,kc),r.prototype.tag="cmap",r.prototype.parse=function(t){var e,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)e=new TY(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},r.encode=function(t,e){var n,i;return e==null&&(e="macroman"),n=TY.encode(t,e),(i=new a0).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},r}(),eZe=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Of(r,kc),r.prototype.tag="hhea",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},r}(),tZe=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Of(r,kc),r.prototype.tag="OS/2",r.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var e,n;for(n=[],e=0;e<10;++e)n.push(t.readByte());return n}(),this.charRange=function(){var e,n;for(n=[],e=0;e<4;++e)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var e,n;for(n=[],e=0;e<2;e=++e)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},r}(),rZe=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Of(r,kc),r.prototype.tag="post",r.prototype.parse=function(t){var e,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)e=t.readByte(),i.push(this.names.push(t.readString(e)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(t.readUInt32());return l}).call(this)}},r}(),nZe=function(r,t){this.raw=r,this.length=r.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},iZe=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Of(r,kc),r.prototype.tag="name",r.prototype.parse=function(t){var e,n,i,a,s,o,l,u,c,f,h;for(t.pos=this.offset,t.readShort(),e=t.readShort(),o=t.readShort(),n=[],a=0;0<=e?a<e:a>e;a=0<=e?++a:--a)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(l={},a=c=0,f=n.length;c<f;a=++c)i=n[a],t.pos=i.offset,u=t.readString(i.length),s=new nZe(u,i),l[h=i.nameID]==null&&(l[h]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},r}(),aZe=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Of(r,kc),r.prototype.tag="maxp",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},r}(),sZe=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Of(r,kc),r.prototype.tag="hmtx",r.prototype.parse=function(t){var e,n,i,a,s,o,l;for(t.pos=this.offset,this.metrics=[],e=0,o=this.file.hhea.numberOfMetrics;0<=o?e<o:e>o;e=0<=o?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,c;for(c=[],e=u=0;0<=i?u<i:u>i;e=0<=i?++u:--u)c.push(t.readInt16());return c}(),this.widths=(function(){var u,c,f,h;for(h=[],u=0,c=(f=this.metrics).length;u<c;u++)a=f[u],h.push(a.advance);return h}).call(this),n=this.widths[this.widths.length-1],l=[],e=s=0;0<=i?s<i:s>i;e=0<=i?++s:--s)l.push(this.widths.push(n));return l},r.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},r}(),yhe=[].slice,oZe=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Of(r,kc),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(t){var e,n,i,a,s,o,l,u,c,f;return t in this.cache?this.cache[t]:(a=this.file.loca,e=this.file.contents,n=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+n,s=(o=new a0(e.read(i))).readShort(),u=o.readShort(),f=o.readShort(),l=o.readShort(),c=o.readShort(),this.cache[t]=s===-1?new uZe(o,u,f,l,c):new lZe(o,s,u,f,l,c),this.cache[t]))},r.prototype.encode=function(t,e,n){var i,a,s,o,l;for(s=[],a=[],o=0,l=e.length;o<l;o++)i=t[e[o]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},r}(),lZe=function(){function r(t,e,n,i,a,s){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),uZe=function(){function r(t,e,n,i,a){var s,o;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return r.prototype.encode=function(){var t,e,n;for(e=new a0(yhe.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},r}(),cZe=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Of(r,kc),r.prototype.tag="loca",r.prototype.parse=function(t){var e,n;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(t.readUInt32());return a}).call(this)},r.prototype.indexOf=function(t){return this.offsets[t]},r.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},r.prototype.encode=function(t,e){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<e.length&&e[a]==s){++a,n[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var u=new Array(4*n.length),c=0;c<n.length;++c)u[4*c+3]=255&n[c],u[4*c+2]=(65280&n[c])>>8,u[4*c+1]=(16711680&n[c])>>16,u[4*c]=(4278190080&n[c])>>24;return u},r}(),fZe=function(){function r(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var t,e,n,i,a;for(e in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[e],t[e]=i[n];return t},r.prototype.glyphsFor=function(t){var e,n,i,a,s,o,l;for(i={},s=0,o=t.length;s<o;s++)i[a=t[s]]=this.font.glyf.glyphFor(a);for(a in e=[],i)(n=i[a])!=null&&n.compound&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(a in l=this.glyphsFor(e))n=l[a],i[a]=n;return i},r.prototype.encode=function(t,e){var n,i,a,s,o,l,u,c,f,h,d,A,p,g,m;for(i in n=vhe.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),d={0:0},m=n.charMap)d[(l=m[i]).old]=l.new;for(A in h=n.maxGlyphID,s)A in d||(d[A]=h++);return c=function(v){var y,b;for(y in b={},v)b[v[y]]=y;return b}(d),f=Object.keys(c).sort(function(v,y){return v-y}),p=function(){var v,y,b;for(b=[],v=0,y=f.length;v<y;v++)o=f[v],b.push(c[o]);return b}(),a=this.font.glyf.encode(s,p,d),u=this.font.loca.encode(a.offsets,p),g={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},r}();br.API.PDFObject=function(){var r;function t(){}return r=function(e,n){return(Array(n+1).join("0")+e).slice(-n)},t.convert=function(e){var n,i,a,s;if(Array.isArray(e))return"["+function(){var o,l,u;for(u=[],o=0,l=e.length;o<l;o++)n=e[o],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+r(e.getUTCFullYear(),4)+r(e.getUTCMonth(),2)+r(e.getUTCDate(),2)+r(e.getUTCHours(),2)+r(e.getUTCMinutes(),2)+r(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(i in a=["<<"],e)s=e[i],a.push("/"+i+" "+t.convert(s));return a.push(">>"),a.join(`
`)}return""+e},t}();const hZe=()=>{const[r,t]=Ce.useState([]),[e,n]=Ce.useState([]),[i,a]=Ce.useState(!0),[s,o]=Ce.useState(null),[l,u]=Ce.useState(!1),[c,f]=Ce.useState(!1),[h,d]=Ce.useState(!1),[A,p]=Ce.useState(null),[g,m]=Ce.useState(null),[v,y]=Ce.useState(""),[b,_]=Ce.useState("all"),[T,I]=Ce.useState("all"),[N,F]=Ce.useState(""),[P,D]=Ce.useState(""),[R,E]=Ce.useState(1),L=10,[k,w]=Ce.useState({description:"",amount:"",category:"",date:""}),[C,S]=Ce.useState({name:""}),B=le=>{const re=new Date(le);return new Intl.DateTimeFormat("ar-SA",{calendar:"gregory",day:"2-digit",month:"2-digit",year:"numeric"}).format(re)},O=le=>new Intl.DateTimeFormat("ar-SA",{calendar:"gregory",timeZone:"Asia/Riyadh",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(le),V=async()=>{try{const{data:le,error:re}=await Ct.from("expenses").select("*").order("date",{ascending:!1});if(re)throw re;t(le||[])}catch(le){o(le instanceof Error?le.message:"    ")}},M=async()=>{try{const{data:le,error:re}=await Ct.from("categories").select("*").order("name",{ascending:!0});if(re)throw re;n(le||[])}catch(le){o(le instanceof Error?le.message:"    ")}};Ce.useEffect(()=>{(async()=>{a(!0),await Promise.all([V(),M()]),a(!1)})()},[]);const U=async le=>{if(le.preventDefault(),!!C.name.trim())try{const{error:re}=await Ct.from("categories").insert([{name:C.name.trim()}]);if(re)throw re;S({name:""}),await M()}catch(re){o(re instanceof Error?re.message:"    ")}},Q=async le=>{if(le.preventDefault(),!(!g||!C.name.trim()))try{const{error:re}=await Ct.from("categories").update({name:C.name.trim()}).eq("id",g.id);if(re)throw re;m(null),S({name:""}),await M()}catch(re){o(re instanceof Error?re.message:"    ")}},W=async le=>{if(confirm("                ."))try{const{error:re}=await Ct.from("categories").delete().eq("id",le);if(re)throw re;await M()}catch(re){o(re instanceof Error?re.message:"    ")}},j=async()=>{if(z.length===0)return;const le=new wc.Workbook,re=["","","",""],de=le.addWorksheet(" ",{pageSetup:{paperSize:9,orientation:"landscape",fitToPage:!0},properties:{defaultColWidth:20},views:[{rightToLeft:!0}]});de.mergeCells("A1:D1");const ue=de.getCell("A1");ue.value=" ",ue.font={size:16,bold:!0,color:{argb:"FFFFFFFF"}},ue.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1E40AF"}},ue.alignment={horizontal:"center",vertical:"middle"};const Fe=new Date;de.mergeCells("A2:D2");const Se=de.getCell("A2");Se.value=` : ${O(Fe)}`,Se.font={size:12,italic:!0},Se.alignment={horizontal:"center"};const De=de.addRow(re);De.font={bold:!0,color:{argb:"FFFFFFFF"}},De.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2563EB"}},De.eachCell(we=>{we.alignment={horizontal:"center",vertical:"middle"},we.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}});let ge=0;z.forEach((we,Oe)=>{const at=de.addRow([we.description,we.category,`${we.amount.toLocaleString("EN-US")} .`,B(we.date)]);ge+=we.amount,at.eachCell((Ve,Qe)=>{Ve.alignment={horizontal:"right",vertical:"middle"},Qe===3&&(Ve.numFmt="#,##0.00"),Ve.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),Oe%2===0&&(at.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF3F4F6"}})}),de.addRow([]);const Be=de.addRow(["","",`: ${ge.toLocaleString("EN-US")} .`,""]);Be.font={bold:!0},Be.getCell(3).font={bold:!0,color:{argb:"FF166534"}},Be.getCell(3).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF0FDF4"}},Be.eachCell(we=>{we.alignment={horizontal:"right",vertical:"middle"}});const Pe={};z.forEach(we=>{Pe[we.category]||(Pe[we.category]=[]),Pe[we.category].push(we)}),Object.keys(Pe).forEach(we=>{const Oe=Pe[we],at=le.addWorksheet(we,{pageSetup:{paperSize:9,orientation:"landscape",fitToPage:!0},properties:{defaultColWidth:20},views:[{rightToLeft:!0}]});at.mergeCells("A1:D1");const Ve=at.getCell("A1");Ve.value=`: ${we}`,Ve.font={size:16,bold:!0,color:{argb:"FFFFFFFF"}},Ve.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1E40AF"}},Ve.alignment={horizontal:"center",vertical:"middle"},at.mergeCells("A2:D2");const Qe=at.getCell("A2");Qe.value=` : ${O(Fe)}`,Qe.font={size:12,italic:!0},Qe.alignment={horizontal:"center"};const Ke=at.addRow(re);Ke.font={bold:!0,color:{argb:"FFFFFFFF"}},Ke.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2563EB"}},Ke.eachCell(yt=>{yt.alignment={horizontal:"center",vertical:"middle"},yt.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}});let Ue=0;Oe.forEach((yt,Ne)=>{const et=at.addRow([yt.description,yt.category,`${yt.amount.toLocaleString("EN-US")} .`,B(yt.date)]);Ue+=yt.amount,et.eachCell((ft,lt)=>{ft.alignment={horizontal:"right",vertical:"middle"},lt===3&&(ft.numFmt="#,##0.00"),ft.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),Ne%2===0&&(et.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF3F4F6"}})}),at.addRow([]);const We=at.addRow(["","",`: ${Ue.toLocaleString("EN-US")} .`,""]);We.font={bold:!0},We.getCell(3).font={bold:!0,color:{argb:"FF166534"}},We.getCell(3).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF0FDF4"}},We.eachCell(yt=>{yt.alignment={horizontal:"right",vertical:"middle"}})});const st=await le.xlsx.writeBuffer(),gt=`_${new Date().toISOString().split("T")[0]}.xlsx`;_c.saveAs(new Blob([st]),gt)},X=async()=>{const le=document.getElementById("expenses-preview-content");if(le)try{const re=await ad(le,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"}),de=re.toDataURL("image/png"),ue=new br("p","mm","a4"),Fe=ue.internal.pageSize.getWidth(),Se=ue.internal.pageSize.getHeight(),De=Fe-20,ge=re.height*De/re.width;let Be=ge,Pe=10;for(ue.addImage(de,"PNG",10,Pe,De,ge),Be-=Se-20;Be>0;)Pe=Be-ge+10,ue.addPage(),ue.addImage(de,"PNG",10,Pe,De,ge),Be-=Se-20;const st=`_${new Date().toISOString().split("T")[0]}.pdf`;ue.save(st)}catch(re){console.error("Error generating PDF:",re)}},z=Ce.useMemo(()=>r.filter(re=>{const de=re.description.toLowerCase().includes(v.toLowerCase())||re.category.toLowerCase().includes(v.toLowerCase()),ue=b==="all"||re.category===b,Fe=new Date(re.date);let Se=!0;const De=new Date;De.setHours(0,0,0,0);const ge=new Date(De);ge.setDate(ge.getDate()-1);const Be=new Date(De);switch(Be.setDate(Be.getDate()-7),T){case"today":Se=Fe.toDateString()===De.toDateString();break;case"yesterday":Se=Fe.toDateString()===ge.toDateString();break;case"last_week":Se=Fe>=Be&&Fe<=De;break;case"custom":const Pe=N?new Date(N):null,st=P?new Date(P):null;Pe&&st&&(Se=Fe>=Pe&&Fe<=st);break;default:Se=!0}return de&&ue&&Se}),[r,v,b,T,N,P]),H=Math.ceil(z.length/L),K=z.slice((R-1)*L,R*L),Z=z.reduce((le,re)=>le+re.amount,0),ie=async le=>{le.preventDefault();try{const re={description:k.description,amount:parseFloat(k.amount),category:k.category,date:k.date};if(A){const{error:de}=await Ct.from("expenses").update(re).eq("id",A.id);if(de)throw de}else{const de=Wa.getCurrentUser();console.log(" Current User:",de);let ue=" ";de?(ue=de.full_name||de.email||" ",console.log(" Final created_by value:",ue)):console.log(" No current user found");const Fe={...re,created_by:ue};console.log(" Inserting expense:",Fe);const{error:Se}=await Ct.from("expenses").insert([Fe]);if(Se)throw Se}await V(),w({description:"",amount:"",category:"",date:""}),u(!1),p(null)}catch(re){o(re instanceof Error?re.message:"    ")}},ee=le=>{p(le),w({description:le.description,amount:le.amount.toString(),category:le.category,date:le.date}),u(!0)},ne=async le=>{if(confirm("      "))try{const{error:re}=await Ct.from("expenses").delete().eq("id",le);if(re)throw re;await V()}catch(re){o(re instanceof Error?re.message:"    ")}},te=()=>{const le=new Date,re=new Date(le);return re.setDate(re.getDate()-7),{from:re.toISOString().split("T")[0],to:le.toISOString().split("T")[0]}};return Ce.useEffect(()=>{if(T==="last_week"){const le=te();F(le.from),D(le.to)}},[T]),i?x.jsx("div",{className:"p-6 min-h-screen bg-gray-50",children:x.jsxs("div",{className:"animate-pulse",children:[x.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6 mb-8",children:[...Array(1)].map((le,re)=>x.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[x.jsx("div",{className:"h-12 bg-gray-200 rounded mb-4"}),x.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"}),x.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]},re))})]})}):s?x.jsx("div",{className:"p-6 min-h-screen bg-gray-50",children:x.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:x.jsxs("p",{className:"text-red-800",children:[": ",s]})})}):x.jsxs("div",{className:"p-6 min-h-screen bg-gray-50",children:[x.jsx("div",{className:"mb-8",children:x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),x.jsx("p",{className:"text-gray-600",children:"   "})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:()=>f(!0),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors duration-200 flex items-center space-x-2 space-x-reverse",children:[x.jsx(Y0e,{className:"h-4 w-4"}),x.jsx("span",{children:""})]}),x.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center space-x-2 space-x-reverse",children:[x.jsx(ao,{className:"h-4 w-4"}),x.jsx("span",{children:" "})]})]})]})}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6 mb-8",children:x.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("div",{className:"bg-blue-100 text-blue-600 p-3 rounded-lg",children:x.jsx(Zi,{className:"h-6 w-6"})}),x.jsx(Is,{className:"h-5 w-5 text-blue-500"})]}),x.jsxs("div",{children:[x.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:[Z.toLocaleString("EN-US")," ."]}),x.jsx("p",{className:"text-gray-600 text-sm",children:" "})]})]})}),x.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4 mb-6",children:x.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[x.jsxs("div",{className:"flex-1 relative",children:[x.jsx(u0,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),x.jsx("input",{type:"text",placeholder:"  ...",value:v,onChange:le=>y(le.target.value),className:"w-full pl-4 pr-12 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("select",{value:b,onChange:le=>{_(le.target.value),E(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[x.jsx("option",{value:"all",children:" "}),e.map(le=>x.jsx("option",{value:le.name,children:le.name},le.id))]}),x.jsxs("select",{value:T,onChange:le=>{I(le.target.value),E(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[x.jsx("option",{value:"all",children:" "}),x.jsx("option",{value:"today",children:""}),x.jsx("option",{value:"yesterday",children:""}),x.jsx("option",{value:"last_week",children:" "}),x.jsx("option",{value:"custom",children:" "})]}),T==="custom"&&x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"date",value:N,onChange:le=>F(le.target.value),className:"px-2 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),x.jsx("span",{className:"text-gray-500 self-center",children:"-"}),x.jsx("input",{type:"date",value:P,onChange:le=>D(le.target.value),className:"px-2 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),T==="last_week"&&x.jsxs("span",{className:"text-sm text-gray-500 self-center px-2",children:[" ",B(te().from),"  ",B(te().to)]}),x.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors duration-200 flex items-center space-x-2 space-x-reverse",children:[x.jsx(Ji,{className:"h-4 w-4"}),x.jsx("span",{children:" "})]})]})]})}),x.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:[x.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:x.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" "})}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),x.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),x.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),x.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),x.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),x.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),x.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:K.map(le=>x.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx(Ji,{className:"h-4 w-4 text-gray-400 ml-3"}),x.jsx("span",{className:"text-sm font-medium text-gray-900",children:le.description})]})}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsx("span",{className:"inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:le.category})}),x.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[le.amount.toLocaleString("EN-US")," ."]}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:B(le.date)}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:le.created_by||" "}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:x.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[x.jsx("button",{onClick:()=>ee(le),className:"text-blue-600 hover:text-blue-900 p-1 rounded transition-colors duration-150",children:x.jsx(Ul,{className:"h-4 w-4"})}),x.jsx("button",{onClick:()=>ne(le.id),className:"text-red-600 hover:text-red-900 p-1 rounded transition-colors duration-150",children:x.jsx(No,{className:"h-4 w-4"})})]})})]},le.id))})]})}),H>1&&x.jsxs("div",{className:"bg-gray-50 px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[x.jsxs("div",{className:"text-sm text-gray-700",children:[" ",(R-1)*L+1,"  ",Math.min(R*L,z.length),"  ",z.length," "]}),x.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[x.jsx("button",{onClick:()=>E(le=>Math.max(1,le-1)),disabled:R===1,className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:""}),[...Array(Math.min(5,H))].map((le,re)=>{const de=re+1;return x.jsx("button",{onClick:()=>E(de),className:`px-3 py-1 text-sm border border-gray-300 rounded-md ${R===de?"bg-blue-600 text-white border-blue-600":"hover:bg-gray-50"}`,children:de},de)}),x.jsx("button",{onClick:()=>E(le=>Math.min(H,le+1)),disabled:R===H,className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]})]}),z.length===0&&x.jsxs("div",{className:"text-center py-12",children:[x.jsx(Zi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),x.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"  "}),x.jsx("p",{className:"text-gray-600",children:"   "})]}),l&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[x.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-200 pb-4",children:[x.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[x.jsx(Zi,{className:"h-6 w-6 text-blue-600"}),x.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:A?" ":"  "})]}),x.jsx("button",{onClick:()=>{u(!1),p(null),w({description:"",amount:"",category:"",date:""})},className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:""})]}),x.jsxs("form",{onSubmit:ie,className:"space-y-6",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center space-x-2 space-x-reverse",children:[x.jsx(Ji,{className:"h-4 w-4 text-gray-500"}),x.jsx("span",{children:""})]}),x.jsx("input",{type:"text",required:!0,value:k.description,onChange:le=>w({...k,description:le.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"  "})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center space-x-2 space-x-reverse",children:[x.jsx(Zi,{className:"h-4 w-4 text-gray-500"}),x.jsx("span",{children:""})]}),x.jsx("input",{type:"number",step:"0.01",required:!0,value:k.amount,onChange:le=>w({...k,amount:le.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-right",placeholder:"0.00"})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center space-x-2 space-x-reverse",children:[x.jsx(P7,{className:"h-4 w-4 text-gray-500"}),x.jsx("span",{children:""})]}),x.jsxs("select",{required:!0,value:k.category,onChange:le=>w({...k,category:le.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[x.jsx("option",{value:"",children:" "}),e.map(le=>x.jsx("option",{value:le.name,children:le.name},le.id))]})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center space-x-2 space-x-reverse",children:[x.jsx(UC,{className:"h-4 w-4 text-gray-500"}),x.jsx("span",{children:""})]}),x.jsx("input",{type:"date",required:!0,value:k.date,onChange:le=>w({...k,date:le.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]}),x.jsxs("div",{className:"flex gap-4 pt-6",children:[x.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-xl hover:bg-blue-700 transition-all duration-200 font-semibold flex items-center justify-center space-x-2 space-x-reverse",children:[x.jsx(ao,{className:"h-5 w-5"}),x.jsx("span",{children:A?" ":" "})]}),x.jsx("button",{type:"button",onClick:()=>{u(!1),p(null),w({description:"",amount:"",category:"",date:""})},className:"flex-1 bg-gray-200 text-gray-700 py-3 px-6 rounded-xl hover:bg-gray-300 transition-all duration-200 font-semibold",children:""})]})]})]})}),c&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[x.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-200 pb-4",children:[x.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[x.jsx(P7,{className:"h-6 w-6 text-blue-600"}),x.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:" "})]}),x.jsx("button",{onClick:()=>{f(!1),m(null),S({name:""})},className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:""})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsx("div",{className:"grid gap-4",children:e.map(le=>x.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4 flex items-center justify-between hover:bg-gray-100 transition-all duration-200",children:[x.jsx("span",{className:"text-lg font-medium text-gray-900",children:le.name}),x.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[x.jsx("button",{onClick:()=>{m(le),S({name:le.name})},className:"text-blue-600 hover:text-blue-900 p-2 rounded transition-colors duration-150",children:x.jsx(Ul,{className:"h-4 w-4"})}),x.jsx("button",{onClick:()=>W(le.id),className:"text-red-600 hover:text-red-900 p-2 rounded transition-colors duration-150",children:x.jsx(No,{className:"h-4 w-4"})})]})]},le.id))}),x.jsx("div",{className:"border-t border-gray-200 pt-6",children:x.jsxs("form",{onSubmit:g?Q:U,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:g?" ":"  "}),x.jsx("input",{type:"text",required:!0,value:C.name,onChange:le=>S({...C,name:le.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:g?"  ":"  "})]}),x.jsxs("div",{className:"flex gap-4 pt-4",children:[x.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-xl hover:bg-blue-700 transition-all duration-200 font-semibold flex items-center justify-center space-x-2 space-x-reverse",children:[x.jsx(Ul,{className:"h-5 w-5"}),x.jsx("span",{children:g?" ":" "})]}),g&&x.jsx("button",{type:"button",onClick:()=>{m(null),S({name:""})},className:"flex-1 bg-gray-200 text-gray-700 py-3 px-6 rounded-xl hover:bg-gray-300 transition-all duration-200 font-semibold",children:""})]})]})})]})]})}),h&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[95vh] overflow-y-auto shadow-2xl",children:[x.jsxs("div",{className:"sticky top-0 bg-white border-b px-8 py-5 flex justify-between items-center z-10 rounded-t-2xl",children:[x.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-3",children:[x.jsx(Ji,{className:"h-7 w-7 text-indigo-600"}),"  "]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:X,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2 space-x-reverse",children:[x.jsx(Pi,{className:"h-4 w-4"}),x.jsx("span",{children:"PDF"})]}),x.jsxs("button",{onClick:j,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2 space-x-reverse",children:[x.jsx(Pi,{className:"h-4 w-4"}),x.jsx("span",{children:"Excel"})]}),x.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:x.jsx("span",{className:"text-2xl",children:""})})]})]}),x.jsx("div",{className:"p-8",children:x.jsxs("div",{id:"expenses-preview-content",className:"bg-white",dir:"rtl",children:[x.jsxs("div",{className:"text-center mb-8 border-b pb-6",children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:" "}),x.jsxs("p",{className:"text-gray-600",children:[" : ",O(new Date)]})]}),x.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8 text-center",children:[x.jsx("p",{className:"text-lg text-gray-700 mb-2",children:" "}),x.jsxs("p",{className:"text-4xl font-bold text-blue-600",children:[z.reduce((le,re)=>le+re.amount,0).toLocaleString("EN-US")," ."]}),x.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[" : ",z.length]})]}),e.map(le=>{const re=z.filter(ue=>ue.category===le.name);if(re.length===0)return null;const de=re.reduce((ue,Fe)=>ue+Fe.amount,0);return x.jsxs("div",{className:"mb-8",children:[x.jsx("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4 mb-4",children:x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h2",{className:"text-xl font-bold text-indigo-800",children:le.name}),x.jsxs("div",{className:"text-right",children:[x.jsxs("p",{className:"text-sm text-gray-600",children:[" : ",re.length]}),x.jsxs("p",{className:"text-lg font-bold text-indigo-600",children:[de.toLocaleString("EN-US")," ."]})]})]})}),x.jsxs("table",{className:"w-full border-collapse mb-6",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"bg-indigo-600 text-white",children:[x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:""}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:""}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:""})]})}),x.jsx("tbody",{children:re.map((ue,Fe)=>x.jsxs("tr",{className:Fe%2===0?"bg-gray-50":"bg-white",children:[x.jsx("td",{className:"border border-gray-300 px-4 py-3",children:ue.description}),x.jsxs("td",{className:"border border-gray-300 px-4 py-3 text-right font-bold text-blue-700",children:[ue.amount.toLocaleString("EN-US")," ."]}),x.jsx("td",{className:"border border-gray-300 px-4 py-3",children:B(ue.date)})]},ue.id))})]})]},le.id)})]})})]})})]})},dZe=()=>{const[r,t]=Ce.useState([]),[e,n]=Ce.useState(!0),[i,a]=Ce.useState(null),[s,o]=Ce.useState(!1),[l,u]=Ce.useState(null),[c,f]=Ce.useState(""),[h,d]=Ce.useState("all"),[A,p]=Ce.useState(""),[g,m]=Ce.useState(""),[v,y]=Ce.useState(1),b=10,[_,T]=Ce.useState(!1),[I,N]=Ce.useState({product_name:"",cost_price:"",purchase_date:"",quantity:""}),F=U=>{const Q=new Date(U);return new Intl.DateTimeFormat("ar-SA",{calendar:"gregory",day:"2-digit",month:"2-digit",year:"numeric"}).format(Q)},P=U=>new Intl.DateTimeFormat("ar-SA",{calendar:"gregory",timeZone:"Asia/Riyadh",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(U),D=async()=>{try{const{data:U,error:Q}=await Ct.from("inventory").select("*").order("purchase_date",{ascending:!1});if(Q)throw Q;t(U||[])}catch(U){a(U instanceof Error?U.message:"    ")}};Ce.useEffect(()=>{(async()=>{n(!0),await D(),n(!1)})()},[]);const R=async()=>{if(L.length===0)return;const U=new wc.Workbook,Q=[" "," ",""," "],W=U.addWorksheet("",{pageSetup:{paperSize:9,orientation:"landscape",fitToPage:!0},properties:{defaultColWidth:20},views:[{rightToLeft:!0}]});W.mergeCells("A1:D1");const j=W.getCell("A1");j.value=" ",j.font={size:16,bold:!0,color:{argb:"FFFFFFFF"}},j.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1E40AF"}},j.alignment={horizontal:"center",vertical:"middle"};const X=new Date;W.mergeCells("A2:D2");const z=W.getCell("A2");z.value=` : ${P(X)}`,z.font={size:12,italic:!0},z.alignment={horizontal:"center"};const H=W.addRow(Q);H.font={bold:!0,color:{argb:"FFFFFFFF"}},H.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2563EB"}},H.eachCell(te=>{te.alignment={horizontal:"center",vertical:"middle"},te.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}});let K=0,Z=0;L.forEach((te,le)=>{const re=W.addRow([te.product_name,`${te.cost_price.toLocaleString("EN-US")} .`,te.quantity,F(te.purchase_date)]);K+=te.cost_price*te.quantity,Z+=te.quantity,re.eachCell((de,ue)=>{de.alignment={horizontal:"right",vertical:"middle"},ue===2&&(de.numFmt="#,##0.00"),de.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),le%2===0&&(re.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF3F4F6"}})}),W.addRow([]);const ie=W.addRow(["","",`: ${Z}  - ${K.toLocaleString("EN-US")} .`,""]);ie.font={bold:!0},ie.getCell(3).font={bold:!0,color:{argb:"FF166534"}},ie.getCell(3).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF0FDF4"}},ie.eachCell(te=>{te.alignment={horizontal:"right",vertical:"middle"}});const ee=await U.xlsx.writeBuffer(),ne=`_${new Date().toISOString().split("T")[0]}.xlsx`;_c.saveAs(new Blob([ee]),ne)},E=async()=>{const U=document.getElementById("inventory-preview-content");if(U)try{const Q=await ad(U,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"}),W=Q.toDataURL("image/png"),j=new br("p","mm","a4"),X=j.internal.pageSize.getWidth(),z=j.internal.pageSize.getHeight(),H=X-20,K=Q.height*H/Q.width;let Z=K,ie=10;for(j.addImage(W,"PNG",10,ie,H,K),Z-=z-20;Z>0;)ie=Z-K+10,j.addPage(),j.addImage(W,"PNG",10,ie,H,K),Z-=z-20;const ee=`_${new Date().toISOString().split("T")[0]}.pdf`;j.save(ee)}catch(Q){console.error("Error generating PDF:",Q)}},L=Ce.useMemo(()=>r.filter(Q=>{const W=Q.product_name.toLowerCase().includes(c.toLowerCase()),j=new Date(Q.purchase_date);let X=!0;const z=new Date;z.setHours(0,0,0,0);const H=new Date(z);H.setDate(H.getDate()-1);const K=new Date(z);switch(K.setDate(K.getDate()-7),h){case"today":X=j.toDateString()===z.toDateString();break;case"yesterday":X=j.toDateString()===H.toDateString();break;case"last_week":X=j>=K&&j<=z;break;case"custom":const Z=A?new Date(A):null,ie=g?new Date(g):null;Z&&ie&&(X=j>=Z&&j<=ie);break;default:X=!0}return W&&X}),[r,c,h,A,g]),k=Math.ceil(L.length/b),w=L.slice((v-1)*b,v*b),C=r.reduce((U,Q)=>U+Q.cost_price*Q.quantity,0),S=r.reduce((U,Q)=>U+Q.quantity,0),B=async U=>{U.preventDefault();try{const Q={product_name:I.product_name,cost_price:parseFloat(I.cost_price),purchase_date:I.purchase_date,quantity:parseInt(I.quantity)};if(l){const{error:W}=await Ct.from("inventory").update(Q).eq("id",l.id);if(W)throw W}else{const W=Wa.getCurrentUser();let j=" ";W&&(j=W.full_name||W.email||" ");const{error:X}=await Ct.from("inventory").insert([{...Q,created_by:j}]);if(X)throw X}await D(),N({product_name:"",cost_price:"",purchase_date:"",quantity:""}),o(!1),u(null)}catch(Q){a(Q instanceof Error?Q.message:"    ")}},O=U=>{u(U),N({product_name:U.product_name,cost_price:U.cost_price.toString(),purchase_date:U.purchase_date,quantity:U.quantity.toString()}),o(!0)},V=async U=>{if(confirm("        "))try{const{error:Q}=await Ct.from("inventory").delete().eq("id",U);if(Q)throw Q;await D()}catch(Q){a(Q instanceof Error?Q.message:"    ")}},M=()=>{const U=new Date,Q=new Date(U);return Q.setDate(Q.getDate()-7),{from:Q.toISOString().split("T")[0],to:U.toISOString().split("T")[0]}};return Ce.useEffect(()=>{if(h==="last_week"){const U=M();p(U.from),m(U.to)}},[h]),e?x.jsx("div",{className:"p-6 min-h-screen bg-gray-50",children:x.jsxs("div",{className:"animate-pulse",children:[x.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[...Array(2)].map((U,Q)=>x.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[x.jsx("div",{className:"h-12 bg-gray-200 rounded mb-4"}),x.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"})]},Q))})]})}):i?x.jsx("div",{className:"p-6 min-h-screen bg-gray-50",children:x.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:x.jsxs("p",{className:"text-red-800",children:[": ",i]})})}):x.jsxs("div",{className:"p-6 min-h-screen bg-gray-50",children:[x.jsx("div",{className:"mb-8",children:x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),x.jsx("p",{className:"text-gray-600",children:"   "})]}),x.jsxs("button",{onClick:()=>o(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center space-x-2 space-x-reverse",children:[x.jsx(ao,{className:"h-4 w-4"}),x.jsx("span",{children:" "})]})]})}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[x.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("div",{className:"bg-blue-100 text-blue-600 p-3 rounded-lg",children:x.jsx(Li,{className:"h-6 w-6"})}),x.jsx(Is,{className:"h-5 w-5 text-blue-500"})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:S.toLocaleString("EN-US")}),x.jsx("p",{className:"text-gray-600 text-sm",children:" "})]})]}),x.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("div",{className:"bg-green-100 text-green-600 p-3 rounded-lg",children:x.jsx(Zi,{className:"h-6 w-6"})}),x.jsx(Is,{className:"h-5 w-5 text-green-500"})]}),x.jsxs("div",{children:[x.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:[C.toLocaleString("EN-US")," ."]}),x.jsx("p",{className:"text-gray-600 text-sm",children:"  "})]})]})]}),x.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4 mb-6",children:x.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[x.jsxs("div",{className:"flex-1 relative",children:[x.jsx(u0,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),x.jsx("input",{type:"text",placeholder:"  ...",value:c,onChange:U=>f(U.target.value),className:"w-full pl-4 pr-12 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("select",{value:h,onChange:U=>{d(U.target.value),y(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[x.jsx("option",{value:"all",children:" "}),x.jsx("option",{value:"today",children:""}),x.jsx("option",{value:"yesterday",children:""}),x.jsx("option",{value:"last_week",children:" "}),x.jsx("option",{value:"custom",children:" "})]}),h==="custom"&&x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"date",value:A,onChange:U=>p(U.target.value),className:"px-2 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),x.jsx("span",{className:"text-gray-500 self-center",children:"-"}),x.jsx("input",{type:"date",value:g,onChange:U=>m(U.target.value),className:"px-2 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),h==="last_week"&&x.jsxs("span",{className:"text-sm text-gray-500 self-center px-2",children:[" ",F(M().from),"  ",F(M().to)]}),x.jsxs("button",{onClick:()=>T(!0),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors duration-200 flex items-center space-x-2 space-x-reverse",children:[x.jsx(Ji,{className:"h-4 w-4"}),x.jsx("span",{children:" "})]})]})]})}),x.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:[x.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:x.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" "})}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),x.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),x.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),x.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),x.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),x.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),x.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(U=>x.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx(Li,{className:"h-4 w-4 text-gray-400 ml-3"}),x.jsx("span",{className:"text-sm font-medium text-gray-900",children:U.product_name})]})}),x.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[U.cost_price.toLocaleString("EN-US")," ."]}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:U.quantity}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:F(U.purchase_date)}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:U.created_by||" "}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:x.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[x.jsx("button",{onClick:()=>O(U),className:"text-blue-600 hover:text-blue-900 p-1 rounded transition-colors duration-150",children:x.jsx(Ul,{className:"h-4 w-4"})}),x.jsx("button",{onClick:()=>V(U.id),className:"text-red-600 hover:text-red-900 p-1 rounded transition-colors duration-150",children:x.jsx(No,{className:"h-4 w-4"})})]})})]},U.id))})]})}),k>1&&x.jsxs("div",{className:"bg-gray-50 px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[x.jsxs("div",{className:"text-sm text-gray-700",children:[" ",(v-1)*b+1,"  ",Math.min(v*b,L.length),"  ",L.length," "]}),x.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[x.jsx("button",{onClick:()=>y(U=>Math.max(1,U-1)),disabled:v===1,className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:""}),[...Array(Math.min(5,k))].map((U,Q)=>{const W=Q+1;return x.jsx("button",{onClick:()=>y(W),className:`px-3 py-1 text-sm border border-gray-300 rounded-md ${v===W?"bg-green-600 text-white border-green-600":"hover:bg-gray-50"}`,children:W},W)}),x.jsx("button",{onClick:()=>y(U=>Math.min(k,U+1)),disabled:v===k,className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]})]}),L.length===0&&x.jsxs("div",{className:"text-center py-12",children:[x.jsx(Li,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),x.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"    "}),x.jsx("p",{className:"text-gray-600",children:"   "})]}),s&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[x.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-200 pb-4",children:[x.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[x.jsx(Li,{className:"h-6 w-6 text-green-600"}),x.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:l?" ":"   "})]}),x.jsx("button",{onClick:()=>{o(!1),u(null),N({product_name:"",cost_price:"",purchase_date:"",quantity:""})},className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:""})]}),x.jsxs("form",{onSubmit:B,className:"space-y-6",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center space-x-2 space-x-reverse",children:[x.jsx(rpe,{className:"h-4 w-4 text-gray-500"}),x.jsx("span",{children:" "})]}),x.jsx("input",{type:"text",required:!0,value:I.product_name,onChange:U=>N({...I,product_name:U.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200",placeholder:"  "})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center space-x-2 space-x-reverse",children:[x.jsx(Zi,{className:"h-4 w-4 text-gray-500"}),x.jsx("span",{children:" "})]}),x.jsx("input",{type:"number",step:"0.01",required:!0,value:I.cost_price,onChange:U=>N({...I,cost_price:U.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 text-right",placeholder:"0.00"})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center space-x-2 space-x-reverse",children:[x.jsx(Li,{className:"h-4 w-4 text-gray-500"}),x.jsx("span",{children:""})]}),x.jsx("input",{type:"number",required:!0,value:I.quantity,onChange:U=>N({...I,quantity:U.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 text-right",placeholder:"0",min:"0"})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center space-x-2 space-x-reverse",children:[x.jsx(UC,{className:"h-4 w-4 text-gray-500"}),x.jsx("span",{children:" "})]}),x.jsx("input",{type:"date",required:!0,value:I.purchase_date,onChange:U=>N({...I,purchase_date:U.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200"})]})]}),x.jsxs("div",{className:"flex gap-4 pt-6",children:[x.jsxs("button",{type:"submit",className:"flex-1 bg-green-600 text-white py-3 px-6 rounded-xl hover:bg-green-700 transition-all duration-200 font-semibold flex items-center justify-center space-x-2 space-x-reverse",children:[x.jsx(ao,{className:"h-5 w-5"}),x.jsx("span",{children:l?" ":" "})]}),x.jsx("button",{type:"button",onClick:()=>{o(!1),u(null),N({product_name:"",cost_price:"",purchase_date:"",quantity:""})},className:"flex-1 bg-gray-200 text-gray-700 py-3 px-6 rounded-xl hover:bg-gray-300 transition-all duration-200 font-semibold",children:""})]})]})]})}),_&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[95vh] overflow-y-auto shadow-2xl",children:[x.jsxs("div",{className:"sticky top-0 bg-white border-b px-8 py-5 flex justify-between items-center z-10 rounded-t-2xl",children:[x.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-3",children:[x.jsx(Ji,{className:"h-7 w-7 text-green-600"}),"  "]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:E,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2 space-x-reverse",children:[x.jsx(Pi,{className:"h-4 w-4"}),x.jsx("span",{children:"PDF"})]}),x.jsxs("button",{onClick:R,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2 space-x-reverse",children:[x.jsx(Pi,{className:"h-4 w-4"}),x.jsx("span",{children:"Excel"})]}),x.jsx("button",{onClick:()=>T(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:x.jsx("span",{className:"text-2xl",children:""})})]})]}),x.jsx("div",{className:"p-8",children:x.jsxs("div",{id:"inventory-preview-content",className:"bg-white",dir:"rtl",children:[x.jsxs("div",{className:"text-center mb-8 border-b pb-6",children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:" "}),x.jsxs("p",{className:"text-gray-600",children:[" : ",P(new Date)]})]}),x.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-8",children:[x.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 text-center",children:[x.jsx("p",{className:"text-lg text-gray-700 mb-2",children:" "}),x.jsx("p",{className:"text-4xl font-bold text-green-600",children:L.length})]}),x.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:[x.jsx("p",{className:"text-lg text-gray-700 mb-2",children:" "}),x.jsxs("p",{className:"text-4xl font-bold text-blue-600",children:[L.reduce((U,Q)=>U+Q.quantity,0)," "]})]}),x.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6 text-center",children:[x.jsx("p",{className:"text-lg text-gray-700 mb-2",children:" "}),x.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:[L.reduce((U,Q)=>U+Q.cost_price*Q.quantity,0).toLocaleString("EN-US")," ."]})]})]}),x.jsxs("table",{className:"w-full border-collapse",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"bg-green-600 text-white",children:[x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:" "}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:" "}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:""}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:""}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:" "})]})}),x.jsx("tbody",{children:L.map((U,Q)=>x.jsxs("tr",{className:Q%2===0?"bg-gray-50":"bg-white",children:[x.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:U.product_name}),x.jsxs("td",{className:"border border-gray-300 px-4 py-3 text-right text-blue-700",children:[U.cost_price.toLocaleString("EN-US")," ."]}),x.jsxs("td",{className:"border border-gray-300 px-4 py-3 text-right font-bold text-green-700",children:[U.quantity," "]}),x.jsxs("td",{className:"border border-gray-300 px-4 py-3 text-right font-bold text-orange-700",children:[(U.cost_price*U.quantity).toLocaleString("EN-US")," ."]}),x.jsx("td",{className:"border border-gray-300 px-4 py-3",children:F(U.purchase_date)})]},U.id))})]})]})})]})})]})},AZe=()=>{const[r,t]=Ce.useState([]),[e,n]=Ce.useState(!0),[i,a]=Ce.useState(null),[s,o]=Ce.useState(""),[l,u]=Ce.useState("all"),[c,f]=Ce.useState(""),[h,d]=Ce.useState(""),[A,p]=Ce.useState(1),g=10,[m,v]=Ce.useState(!1),[y,b]=Ce.useState(!1),[_,T]=Ce.useState(null),[I,N]=Ce.useState(null),F=Wa.getCurrentUser(),P=(F==null?void 0:F.role)==="admin",D=Q=>{const W=new Date(Q);return new Intl.DateTimeFormat("en-US",{calendar:"gregory",day:"2-digit",month:"2-digit",year:"numeric"}).format(W)},R=Q=>new Intl.DateTimeFormat("en-US",{calendar:"gregory",timeZone:"Asia/Riyadh",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}).format(Q),E=Q=>Q.replace(/[-]/g,W=>"0123456789"["".indexOf(W)]),L=async()=>{try{const{data:Q,error:W}=await Ct.from("orders").select("id, order_number, customer_name, phone_number, total_price, order_date, cancellation_reason, cancelled_by, cancellation_fee, fee_bearer, updated_at").eq("status","").order("updated_at",{ascending:!1});if(W)throw W;t(Q||[])}catch(Q){a(Q instanceof Error?Q.message:"    ")}};Ce.useEffect(()=>{(async()=>{n(!0),await L(),n(!1)})()},[]);const k=async()=>{if(B.length!==0){N("excel");try{const Q=new wc.Workbook,W=[" "," ","",""," "," "," "," "," "],j=Q.addWorksheet(" ",{pageSetup:{paperSize:9,orientation:"landscape",fitToPage:!0},properties:{defaultColWidth:20},views:[{rightToLeft:!0}]});j.mergeCells("A1:I1");const X=j.getCell("A1");X.value="  ",X.font={size:16,bold:!0,color:{argb:"FFFFFFFF"}},X.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1E40AF"}},X.alignment={horizontal:"center",vertical:"middle"};const z=new Date;j.mergeCells("A2:I2");const H=j.getCell("A2");H.value=` : ${R(z)}`,H.font={size:12,italic:!0},H.alignment={horizontal:"center"};const K=j.addRow(W);K.font={bold:!0,color:{argb:"FFFFFFFF"}},K.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2563EB"}},K.eachCell(te=>{te.alignment={horizontal:"center",vertical:"middle"},te.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}});let Z=0;B.forEach((te,le)=>{const re=j.addRow([`#${te.order_number}`,te.customer_name,te.phone_number,`${te.total_price.toLocaleString("EN-US")} .`,D(te.updated_at||te.order_date),te.cancellation_reason,te.cancelled_by,`${te.cancellation_fee.toLocaleString("EN-US")} .`,te.fee_bearer==="customer"?"":""]);Z+=te.cancellation_fee,re.eachCell((de,ue)=>{de.alignment={horizontal:"right",vertical:"middle"},(ue===4||ue===8)&&(de.numFmt="#,##0.00"),de.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),le%2===0&&(re.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF3F4F6"}})}),j.addRow([]);const ie=j.addRow(["","","","","","","",` : ${Z.toLocaleString("EN-US")} .`,""]);ie.font={bold:!0},ie.getCell(8).font={bold:!0,color:{argb:"FF166534"}},ie.getCell(8).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF0FDF4"}},ie.eachCell(te=>{te.alignment={horizontal:"right",vertical:"middle"}});const ee=await Q.xlsx.writeBuffer(),ne=`__${new Date().toISOString().split("T")[0]}.xlsx`;_c.saveAs(new Blob([ee]),ne),Er.success("   ")}catch{Er.error("   ")}finally{N(null)}}},w=async()=>{const Q=document.getElementById("cancelled-orders-preview-content");if(Q){N("pdf");try{const W=await ad(Q,{scale:window.innerWidth<768?1.5:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff",width:Q.scrollWidth,height:Q.scrollHeight}),j=W.toDataURL("image/png"),X=new br("p","mm","a4"),z=X.internal.pageSize.getWidth(),H=X.internal.pageSize.getHeight(),K=z-20,Z=W.height*K/W.width;let ie=Z,ee=10;for(X.addImage(j,"PNG",10,ee,K,Z),ie-=H-20;ie>0;)ee=ie-Z+10,X.addPage(),X.addImage(j,"PNG",10,ee,K,Z),ie-=H-20;const ne=`__${new Date().toISOString().split("T")[0]}.pdf`;X.save(ne),Er.success("   ")}catch(W){console.error("Error generating PDF:",W),Er.error("   ")}finally{N(null)}}},C=Q=>{T(Q),b(!0)},S=async()=>{if(_)try{const{error:Q}=await Ct.from("orders").delete().eq("id",_);if(Q)throw Q;Er.success("   "),t(W=>W.filter(j=>j.id!==_)),b(!1),T(null)}catch(Q){console.error("Error deleting order:",Q),Er.error("    ")}},B=Ce.useMemo(()=>r.filter(W=>{const j=W.customer_name.toLowerCase().includes(s.toLowerCase())||W.order_number.toLowerCase().includes(s.toLowerCase())||W.cancellation_reason.toLowerCase().includes(s.toLowerCase()),X=new Date(W.updated_at||W.order_date);let z=!0;const H=new Date;H.setHours(0,0,0,0);const K=new Date(H);K.setDate(K.getDate()-1);const Z=new Date(H);switch(Z.setDate(Z.getDate()-7),l){case"today":z=X.toDateString()===H.toDateString();break;case"yesterday":z=X.toDateString()===K.toDateString();break;case"last_week":z=X>=Z&&X<=H;break;case"custom":const ie=c?new Date(c):null,ee=h?new Date(h):null;ie&&ee&&(z=X>=ie&&X<=ee);break;default:z=!0}return j&&z}),[r,s,l,c,h]),O=Math.ceil(B.length/g),V=B.slice((A-1)*g,A*g),M=r.reduce((Q,W)=>Q+W.cancellation_fee,0),U=()=>{const Q=new Date,W=new Date(Q);return W.setDate(W.getDate()-7),{from:W.toISOString().split("T")[0],to:Q.toISOString().split("T")[0]}};return Ce.useEffect(()=>{if(l==="last_week"){const Q=U();f(Q.from),d(Q.to)}},[l]),e?x.jsx("div",{className:"p-4 sm:p-6 min-h-screen bg-gray-50 flex items-center justify-center",children:x.jsxs("div",{className:"text-center animate-pulse",children:[x.jsx("div",{className:"h-12 bg-gray-200 rounded-xl w-48 mx-auto mb-8"}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 max-w-2xl w-full",children:[...Array(4)].map((Q,W)=>x.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 sm:p-6",children:[x.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),x.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mx-auto"})]},W))})]})}):i?x.jsx("div",{className:"p-4 sm:p-6 min-h-screen bg-gray-50 flex items-center justify-center",children:x.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 sm:p-8 max-w-md w-full text-center",children:[x.jsx(vi,{className:"h-12 w-12 text-red-400 mx-auto mb-4"}),x.jsx("p",{className:"text-red-800 text-lg font-medium mb-2",children:"  "}),x.jsx("p",{className:"text-red-600",children:i}),x.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:" "})]})}):x.jsxs("div",{className:"p-6 min-h-screen bg-gray-50",children:[x.jsx("div",{className:"mb-8",children:x.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 mb-1",children:" "}),x.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"      "})]}),x.jsxs("button",{onClick:()=>v(!0),className:"w-full lg:w-auto bg-red-600 hover:bg-red-700 text-white px-4 sm:px-6 py-2.5 sm:py-3 rounded-xl transition-all duration-200 flex items-center justify-center gap-2 shadow-sm hover:shadow-md","aria-label":"  ",children:[x.jsx(Ji,{className:"h-4 w-4"}),x.jsx("span",{children:" "})]})]})}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[x.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("div",{className:"bg-red-100 text-red-600 p-3 rounded-xl",children:x.jsx(vi,{className:"h-6 w-6"})}),x.jsx(Is,{className:"h-5 w-5 text-red-500"})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-1",children:r.length.toLocaleString("EN-US")}),x.jsx("p",{className:"text-gray-600 text-sm",children:"  "})]})]}),x.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("div",{className:"bg-orange-100 text-orange-600 p-3 rounded-xl",children:x.jsx(Zi,{className:"h-6 w-6"})}),x.jsx(Is,{className:"h-5 w-5 text-orange-500"})]}),x.jsxs("div",{children:[x.jsxs("h3",{className:"text-3xl font-bold text-gray-900 mb-1",children:[M.toLocaleString("EN-US")," ",x.jsx("span",{className:"text-lg font-normal text-gray-500",children:"."})]}),x.jsx("p",{className:"text-gray-600 text-sm",children:"  "})]})]}),x.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sm:col-span-2 lg:col-span-1",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("div",{className:"bg-purple-100 text-purple-600 p-3 rounded-xl",children:x.jsx(see,{className:"h-6 w-6"})}),x.jsx(Is,{className:"h-5 w-5 text-purple-500"})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-1",children:B.length.toLocaleString("EN-US")}),x.jsx("p",{className:"text-gray-600 text-sm",children:" "})]})]})]}),x.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:x.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[x.jsxs("div",{className:"flex-1 relative",children:[x.jsx(u0,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),x.jsx("input",{type:"search",placeholder:"      ...",value:s,onChange:Q=>{o(Q.target.value),p(1)},className:"w-full pl-4 pr-12 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200","aria-label":"  "})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[x.jsxs("select",{value:l,onChange:Q=>{u(Q.target.value),p(1)},className:"px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200 bg-white","aria-label":"  ",children:[x.jsx("option",{value:"all",children:" "}),x.jsx("option",{value:"today",children:""}),x.jsx("option",{value:"yesterday",children:""}),x.jsx("option",{value:"last_week",children:" "}),x.jsx("option",{value:"custom",children:" "})]}),l==="custom"&&x.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-1.5 rounded-xl border border-gray-200",children:[x.jsx("input",{type:"date",value:c,onChange:Q=>f(Q.target.value),className:"px-2 py-2 bg-transparent border-none focus:ring-0 text-sm"}),x.jsx("span",{className:"text-gray-400",children:"-"}),x.jsx("input",{type:"date",value:h,onChange:Q=>d(Q.target.value),className:"px-2 py-2 bg-transparent border-none focus:ring-0 text-sm"})]}),l==="last_week"&&x.jsxs("div",{className:"flex items-center px-4 bg-gray-50 rounded-xl border border-gray-200 text-sm text-gray-600",children:[" ",D(U().from),"  ",D(U().to)]})]})]})}),x.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[x.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:["  ",x.jsxs("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded-full",children:[V.length,"  ",B.length]})]})}),x.jsx("div",{className:"block sm:hidden space-y-3 sm:space-y-4 p-4 bg-gray-50",children:V.map(Q=>x.jsxs("article",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 space-y-3 transition-shadow duration-200 hover:shadow-md",children:[x.jsxs("div",{className:"flex justify-between items-start gap-3",children:[x.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[x.jsx("div",{className:"bg-red-50 p-2 rounded-lg flex-shrink-0",children:x.jsx(vi,{className:"h-5 w-5 text-red-500"})}),x.jsxs("div",{className:"min-w-0 flex-1",children:[x.jsxs("p",{className:"font-bold text-gray-900 text-sm truncate",title:`#${Q.order_number}`,children:["#",E(Q.order_number)]}),x.jsx("p",{className:"text-xs text-gray-500",children:D(Q.updated_at||Q.order_date)})]})]}),P&&x.jsx("button",{onClick:()=>C(Q.id),className:"p-2 hover:bg-red-50 rounded-lg transition-colors duration-200 flex-shrink-0 text-red-500","aria-label":`   ${Q.order_number}`,title:" ",children:x.jsx(No,{className:"h-5 w-5"})})]}),x.jsxs("div",{className:"space-y-2 text-sm",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500 text-xs mb-1",children:""}),x.jsx("p",{className:"font-medium text-gray-900 truncate",title:Q.customer_name,children:Q.customer_name}),x.jsx("p",{className:"text-xs text-gray-400 truncate",title:Q.phone_number,children:E(Q.phone_number)})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500 text-xs mb-1",children:""}),x.jsxs("p",{className:"font-medium text-gray-900",children:[Q.total_price.toLocaleString("EN-US")," ."]})]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500 text-xs mb-1",children:" "}),x.jsx("p",{className:"font-medium text-gray-700 bg-gray-50 p-2 rounded-lg text-xs leading-relaxed border border-gray-100 overflow-hidden",title:Q.cancellation_reason,children:Q.cancellation_reason})]}),x.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500 text-xs mb-1",children:" "}),x.jsxs("p",{className:"font-bold text-red-600 text-sm",children:[Q.cancellation_fee.toLocaleString("EN-US")," ."]})]}),x.jsx("span",{className:`inline-flex px-2 py-1 rounded-md text-xs font-medium ${Q.fee_bearer==="customer"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Q.fee_bearer==="customer"?"":""})]}),x.jsx("div",{className:"pt-1",children:x.jsxs("p",{className:"text-gray-400 text-[10px]",children:[" : ",Q.cancelled_by]})})]})]},Q.id))}),x.jsx("div",{className:"hidden sm:block overflow-x-auto",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-4 sm:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),x.jsx("th",{className:"px-4 sm:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),x.jsx("th",{className:"px-4 sm:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),x.jsx("th",{className:"px-4 sm:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),x.jsx("th",{className:"px-4 sm:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),x.jsx("th",{className:"px-4 sm:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),x.jsx("th",{className:"px-4 sm:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),x.jsx("th",{className:"px-4 sm:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),x.jsx("th",{className:"px-4 sm:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),x.jsx("th",{className:"px-4 sm:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),x.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:V.map(Q=>x.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[x.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx(vi,{className:"h-4 w-4 text-red-400 ml-2 sm:ml-3"}),x.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["#",E(Q.order_number)]})]})}),x.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 max-w-xs truncate",title:Q.customer_name,children:Q.customer_name}),x.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:E(Q.phone_number)}),x.jsxs("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[Q.total_price.toLocaleString("EN-US")," ."]}),x.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:D(Q.updated_at||Q.order_date)}),x.jsx("td",{className:"px-4 sm:px-6 py-4 text-sm text-gray-600",children:x.jsx("div",{className:"max-w-[200px] overflow-x-auto whitespace-nowrap pb-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",title:Q.cancellation_reason,children:Q.cancellation_reason})}),x.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Q.cancelled_by}),x.jsxs("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[Q.cancellation_fee.toLocaleString("EN-US")," ."]}),x.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap",children:x.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${Q.fee_bearer==="customer"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Q.fee_bearer==="customer"?"":""})}),x.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-left",children:P&&x.jsx("button",{onClick:()=>C(Q.id),className:"text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded-full transition-all duration-200","aria-label":`   ${Q.order_number}`,title:" ",children:x.jsx(No,{className:"h-5 w-5"})})})]},Q.id))})]})}),O>1&&x.jsxs("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 flex flex-col sm:flex-row items-center justify-between border-t border-gray-200 gap-3 sm:gap-0",children:[x.jsxs("div",{className:"text-xs sm:text-sm text-gray-700 order-2 sm:order-1",children:[" ",(A-1)*g+1,"  ",Math.min(A*g,B.length),"  ",B.length," "]}),x.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 order-1 sm:order-2 justify-center sm:justify-end w-full sm:w-auto",children:[x.jsx("button",{onClick:()=>p(Q=>Math.max(1,Q-1)),disabled:A===1,className:"px-2.5 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 min-w-[80px]",children:""}),x.jsx("div",{className:"flex gap-1",children:[...Array(Math.min(5,O))].map((Q,W)=>{const j=A-2+W;return j<1||j>O?null:x.jsx("button",{onClick:()=>p(j),className:`px-2.5 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm border border-gray-300 rounded-md transition-all duration-200 min-w-[40px] ${A===j?"bg-red-600 text-white border-red-600 shadow-sm":"hover:bg-gray-50"}`,children:j},j)})}),x.jsx("button",{onClick:()=>p(Q=>Math.min(O,Q+1)),disabled:A===O,className:"px-2.5 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 min-w-[80px]",children:""})]})]})]}),B.length===0&&!e&&x.jsxs("div",{className:"text-center py-12 sm:py-16",children:[x.jsx(vi,{className:"h-12 w-12 sm:h-16 sm:w-16 text-gray-400 mx-auto mb-4 sm:mb-6"}),x.jsx("h3",{className:"text-lg sm:text-xl font-medium text-gray-900 mb-2",children:"   "}),x.jsx("p",{className:"text-gray-600 text-sm sm:text-base mb-4",children:"     "}),x.jsx("button",{onClick:()=>o(""),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors duration-200",children:" "})]}),y&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"delete-title",children:x.jsx("div",{className:"bg-white rounded-xl max-w-sm w-full p-6 shadow-2xl animate-in fade-in-0 zoom-in-95 duration-200",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:x.jsx(No,{className:"h-6 w-6 text-red-600"})}),x.jsx("h3",{id:"delete-title",className:"text-lg font-medium text-gray-900 mb-2",children:"  "}),x.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"               ."}),x.jsxs("div",{className:"flex justify-center gap-3",children:[x.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors duration-200 flex-1 sm:flex-none",children:""}),x.jsx("button",{onClick:S,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200 flex-1 sm:flex-none",children:" "})]})]})})}),m&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true",children:x.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl sm:max-w-6xl w-full max-h-[95vh] overflow-y-auto shadow-2xl animate-in fade-in-0 slide-in-from-bottom-2 duration-200",children:[x.jsxs("div",{className:"sticky top-0 bg-white border-b px-4 sm:px-6 lg:px-8 py-4 sm:py-5 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 z-10 rounded-t-2xl",children:[x.jsxs("h3",{className:"text-xl sm:text-2xl font-bold flex items-center gap-2 sm:gap-3",children:[x.jsx(Ji,{className:"h-5 w-5 sm:h-6 sm:w-6 text-red-600"}),"   "]}),x.jsxs("div",{className:"flex flex-wrap gap-2 justify-center sm:justify-end w-full sm:w-auto",children:[x.jsxs("button",{onClick:w,disabled:I==="pdf",className:"px-4 py-2 bg-red-600 disabled:bg-red-400 text-white rounded-lg hover:bg-red-700 disabled:cursor-not-allowed transition-all duration-200 flex items-center gap-2 disabled:opacity-75",children:[I==="pdf"&&x.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),x.jsx(Pi,{className:"h-4 w-4"}),x.jsx("span",{children:"PDF"})]}),x.jsxs("button",{onClick:k,disabled:I==="excel",className:"px-4 py-2 bg-green-600 disabled:bg-green-400 text-white rounded-lg hover:bg-green-700 disabled:cursor-not-allowed transition-all duration-200 flex items-center gap-2 disabled:opacity-75",children:[I==="excel"&&x.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),x.jsx(Pi,{className:"h-4 w-4"}),x.jsx("span",{children:"Excel"})]}),x.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors duration-200 ml-auto sm:ml-0","aria-label":" ",children:x.jsx(vi,{className:"h-5 w-5 text-gray-500"})})]})]}),x.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:x.jsxs("div",{id:"cancelled-orders-preview-content",className:"bg-white print:bg-white",dir:"rtl",children:[x.jsxs("div",{className:"text-center mb-6 sm:mb-8 border-b pb-4 sm:pb-6",children:[x.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-2",children:"  "}),x.jsxs("p",{className:"text-gray-600 text-sm sm:text-base",children:[" : ",R(new Date)]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[x.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 sm:p-6 text-center",children:[x.jsx("p",{className:"text-base sm:text-lg text-gray-700 mb-2",children:"  "}),x.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-red-600",children:B.length})]}),x.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 sm:p-6 text-center",children:[x.jsx("p",{className:"text-base sm:text-lg text-gray-700 mb-2",children:"  "}),x.jsxs("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-orange-600",children:[B.reduce((Q,W)=>Q+W.total_price,0).toLocaleString("EN-US")," ."]})]}),x.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 sm:p-6 text-center",children:[x.jsx("p",{className:"text-base sm:text-lg text-gray-700 mb-2",children:"  "}),x.jsxs("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-blue-600",children:[B.reduce((Q,W)=>Q+W.cancellation_fee,0).toLocaleString("EN-US")," ."]})]})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full border-collapse border border-gray-300 min-w-[600px]",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"bg-red-600 text-white",children:[x.jsx("th",{className:"border border-gray-300 px-3 sm:px-4 py-3 text-right text-sm font-semibold",children:" "}),x.jsx("th",{className:"border border-gray-300 px-3 sm:px-4 py-3 text-right text-sm font-semibold",children:""}),x.jsx("th",{className:"border border-gray-300 px-3 sm:px-4 py-3 text-right text-sm font-semibold",children:""}),x.jsx("th",{className:"border border-gray-300 px-3 sm:px-4 py-3 text-right text-sm font-semibold",children:""}),x.jsx("th",{className:"border border-gray-300 px-3 sm:px-4 py-3 text-right text-sm font-semibold",children:""}),x.jsx("th",{className:"border border-gray-300 px-3 sm:px-4 py-3 text-right text-sm font-semibold",children:""}),x.jsx("th",{className:"border border-gray-300 px-3 sm:px-4 py-3 text-right text-sm font-semibold",children:" "})]})}),x.jsx("tbody",{children:B.map((Q,W)=>x.jsxs("tr",{className:W%2===0?"bg-gray-50":"bg-white",children:[x.jsxs("td",{className:"border border-gray-300 px-3 sm:px-4 py-3 font-mono text-right text-sm",children:["#",Q.order_number]}),x.jsx("td",{className:"border border-gray-300 px-3 sm:px-4 py-3 text-sm max-w-xs truncate",title:Q.customer_name,children:Q.customer_name}),x.jsxs("td",{className:"border border-gray-300 px-3 sm:px-4 py-3 text-right font-bold text-gray-900 text-sm",children:[Q.total_price.toLocaleString("EN-US")," ."]}),x.jsx("td",{className:"border border-gray-300 px-3 sm:px-4 py-3 text-sm",children:D(Q.updated_at||Q.order_date)}),x.jsx("td",{className:"border border-gray-300 px-3 sm:px-4 py-3 text-sm max-w-xs truncate",title:Q.cancellation_reason,children:Q.cancellation_reason}),x.jsxs("td",{className:"border border-gray-300 px-3 sm:px-4 py-3 text-right font-bold text-red-600 text-sm",children:[Q.cancellation_fee.toLocaleString("EN-US")," ."]}),x.jsx("td",{className:"border border-gray-300 px-3 sm:px-4 py-3 text-center",children:x.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${Q.fee_bearer==="customer"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:Q.fee_bearer==="customer"?"":""})})]},Q.id))})]})})]})})]})})]})},pZe=.15,gZe=()=>{const[r,t]=Ce.useState([]),[e,n]=Ce.useState([]),[i,a]=Ce.useState([]),[s,o]=Ce.useState(!0),[l,u]=Ce.useState(null),[c,f]=Ce.useState(""),[h,d]=Ce.useState(null),[A,p]=Ce.useState(!1),[g,m]=Ce.useState("all"),[v,y]=Ce.useState(!1),[b,_]=Ce.useState(!1),[T,I]=Ce.useState(""),[N,F]=Ce.useState({company_name:"",amount:"",payment_date:new Date().toISOString().split("T")[0],notes:""}),P=W=>`${W.toLocaleString("EN-US",{minimumFractionDigits:2,maximumFractionDigits:2})} .`,D=W=>{const j=new Date(W);return new Intl.DateTimeFormat("ar-SA",{calendar:"gregory",day:"2-digit",month:"2-digit",year:"numeric"}).format(j)},R=async()=>{try{const{data:W,error:j}=await Ct.from("shipping_companies").select("id, company_name").eq("is_active",!0).order("company_name");j&&console.error("Error fetching companies:",j),t(W||[]);const{data:X,error:z}=await Ct.from("orders").select("shipping_company, shipping_cost, shipping_bearer, is_locked").eq("is_locked",!0).not("shipping_company","is",null);if(z)throw z;const{data:H,error:K}=await Ct.from("shipping_company_payments").select("*").order("payment_date",{ascending:!1});K&&K.code!=="PGRST116"&&console.error("Error fetching payments:",K),a(H||[]);const Z=new Map;X==null||X.forEach(ee=>{const ne=ee.shipping_company||" ",le=parseFloat(ee.shipping_cost||"0")*(1+pZe),de=ee.shipping_bearer==="customer"?0:le;Z.has(ne)||Z.set(ne,{company:ne,shipmentCount:0,totalOwed:0,totalPaid:0,remaining:0,company_id:null});const ue=Z.get(ne);ue.shipmentCount+=1,ue.totalOwed+=de}),H==null||H.forEach(ee=>{const ne=ee.company_name;if(Z.has(ne)){const te=Z.get(ne);te.totalPaid+=parseFloat(ee.amount.toString())}});const ie=Array.from(Z.values()).map(ee=>{var ne;return{...ee,remaining:ee.totalOwed-ee.totalPaid,company_id:((ne=W==null?void 0:W.find(te=>te.company_name===ee.company))==null?void 0:ne.id)||null}});n(ie.sort((ee,ne)=>ne.totalOwed-ee.totalOwed))}catch(W){u(W instanceof Error?W.message:"    "),console.error("Error in fetchShippingData:",W)}finally{o(!1)}};Ce.useEffect(()=>{R()},[]);const E=Ce.useMemo(()=>e.filter(W=>W.company.toLowerCase().includes(c.toLowerCase())),[e,c]),L=e.reduce((W,j)=>W+j.shipmentCount,0),k=e.reduce((W,j)=>W+j.totalOwed,0),w=e.reduce((W,j)=>W+j.totalPaid,0),C=e.reduce((W,j)=>W+j.remaining,0),S=async W=>{if(W.preventDefault(),!T.trim()){Er.error("   ");return}try{const{error:j}=await Ct.from("shipping_companies").insert([{company_name:T.trim(),is_active:!0}]).select("id, company_name");if(j)throw j;Er.success("   "),_(!1),I(""),await R()}catch(j){console.error("Error adding company:",j),Er.error("   : "+(j instanceof Error?j.message:"  "))}},B=async W=>{const j=new wc.Workbook,X=W?E.filter(Se=>Se.company===W):E,z=[" "," ","","",""],H=j.addWorksheet(W||"  ",{pageSetup:{paperSize:9,orientation:"landscape",fitToPage:!0},properties:{defaultColWidth:20},views:[{rightToLeft:!0}]});H.mergeCells("A1:E1");const K=H.getCell("A1");K.value=W?`  ${W}`:"  ",K.font={size:16,bold:!0,color:{argb:"FFFFFFFF"}},K.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1E40AF"}},K.alignment={horizontal:"center",vertical:"middle"};const Z=new Date;H.mergeCells("A2:E2");const ie=H.getCell("A2");ie.value=` : ${D(Z.toISOString())}`,ie.font={size:12,italic:!0},ie.alignment={horizontal:"center"};const ee=H.addRow(z);ee.font={bold:!0,color:{argb:"FFFFFFFF"}},ee.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2563EB"}},ee.eachCell(Se=>{Se.alignment={horizontal:"center",vertical:"middle"},Se.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}});let ne=0,te=0,le=0,re=0;X.forEach((Se,De)=>{const ge=H.addRow([Se.company,Se.shipmentCount,Se.totalOwed.toFixed(2),Se.totalPaid.toFixed(2),Se.remaining.toFixed(2)]);ne+=Se.shipmentCount,te+=Se.totalOwed,le+=Se.totalPaid,re+=Se.remaining,ge.eachCell((Be,Pe)=>{Be.alignment={horizontal:"right",vertical:"middle"},Pe>=3&&(Be.numFmt="#,##0.00"),Be.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),De%2===0&&(ge.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF3F4F6"}})}),H.addRow([]);const de=H.addRow(["",ne,te.toFixed(2),le.toFixed(2),re.toFixed(2)]);de.font={bold:!0},de.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF0FDF4"}},de.eachCell((Se,De)=>{Se.alignment={horizontal:"right",vertical:"middle"},De>=3&&(Se.numFmt="#,##0.00",Se.font={bold:!0,color:{argb:"FF166534"}})});const ue=await j.xlsx.writeBuffer(),Fe=W?`_${W}_${new Date().toISOString().split("T")[0]}.xlsx`:`__${new Date().toISOString().split("T")[0]}.xlsx`;_c.saveAs(new Blob([ue]),Fe)},O=async()=>{const W=document.getElementById("pdf-preview-content");if(W)try{const j=await ad(W,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"}),X=j.toDataURL("image/png"),z=new br("p","mm","a4"),H=z.internal.pageSize.getWidth(),K=z.internal.pageSize.getHeight(),Z=H-20,ie=j.height*Z/j.width;let ee=ie,ne=10;for(z.addImage(X,"PNG",10,ne,Z,ie),ee-=K-20;ee>0;)ne=ee-ie+10,z.addPage(),z.addImage(X,"PNG",10,ne,Z,ie),ee-=K-20;const te=g==="single"&&h?`_${h.company}_${new Date().toISOString().split("T")[0]}.pdf`:`__${new Date().toISOString().split("T")[0]}.pdf`;z.save(te)}catch(j){console.error("Error generating PDF:",j),alert("     PDF")}},V=W=>{W?(d(W),m("single")):(d(null),m("all")),p(!0)},M=W=>{F({company_name:"",amount:"",payment_date:new Date().toISOString().split("T")[0],notes:""}),y(!0)},U=async W=>{W.preventDefault();const j=r.find(X=>X.company_name===N.company_name);if(!(j!=null&&j.id)){Er.error("    ");return}try{const{error:X}=await Ct.from("shipping_company_payments").insert([{company_id:j.id,company_name:N.company_name,amount:parseFloat(N.amount),payment_date:N.payment_date,notes:N.notes}]);if(X)throw X;Er.success("   "),y(!1),F({company_name:"",amount:"",payment_date:new Date().toISOString().split("T")[0],notes:""}),await R()}catch(X){console.error("Error adding payment:",X),Er.error("  : "+(X instanceof Error?X.message:"  "))}};if(s)return x.jsx("div",{className:"p-6 min-h-screen bg-gray-50",children:x.jsxs("div",{className:"animate-pulse",children:[x.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((W,j)=>x.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[x.jsx("div",{className:"h-12 bg-gray-200 rounded mb-4"}),x.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"})]},j))})]})});if(l)return x.jsx("div",{className:"p-6 min-h-screen bg-gray-50",children:x.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:x.jsxs("p",{className:"text-red-800",children:[": ",l]})})});const Q=()=>{const W=g==="single"&&h?[h]:E,j=W.reduce((K,Z)=>K+Z.shipmentCount,0),X=W.reduce((K,Z)=>K+Z.totalOwed,0),z=W.reduce((K,Z)=>K+Z.totalPaid,0),H=W.reduce((K,Z)=>K+Z.remaining,0);return x.jsxs("div",{id:"pdf-preview-content",className:"bg-white p-8",dir:"rtl",children:[x.jsxs("div",{className:"text-center mb-8 border-b pb-6",children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:g==="single"&&h?`  ${h.company}`:"  "}),x.jsxs("p",{className:"text-gray-600",children:[" : ",D(new Date().toISOString())]})]}),x.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-8",children:[x.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[x.jsx("p",{className:"text-sm text-blue-600 mb-1",children:" "}),x.jsx("p",{className:"text-2xl font-bold text-blue-900",children:j})]}),x.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 text-center",children:[x.jsx("p",{className:"text-sm text-orange-600 mb-1",children:""}),x.jsx("p",{className:"text-xl font-bold text-orange-900",children:P(X)})]}),x.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[x.jsx("p",{className:"text-sm text-green-600 mb-1",children:""}),x.jsx("p",{className:"text-xl font-bold text-green-900",children:P(z)})]}),x.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[x.jsx("p",{className:"text-sm text-red-600 mb-1",children:""}),x.jsx("p",{className:"text-xl font-bold text-red-900",children:P(H)})]})]}),x.jsxs("table",{className:"w-full border-collapse",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"bg-blue-600 text-white",children:[x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:" "}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:" "}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:""}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:""}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:""})]})}),x.jsxs("tbody",{children:[W.map((K,Z)=>x.jsxs("tr",{className:Z%2===0?"bg-gray-50":"bg-white",children:[x.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:K.company}),x.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:K.shipmentCount}),x.jsx("td",{className:"border border-gray-300 px-4 py-3 text-right",children:P(K.totalOwed)}),x.jsx("td",{className:"border border-gray-300 px-4 py-3 text-right text-green-700",children:P(K.totalPaid)}),x.jsx("td",{className:"border border-gray-300 px-4 py-3 text-right text-red-700 font-medium",children:P(K.remaining)})]},K.company)),x.jsxs("tr",{className:"bg-green-50 font-bold",children:[x.jsx("td",{className:"border border-gray-300 px-4 py-3",children:""}),x.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:j}),x.jsx("td",{className:"border border-gray-300 px-4 py-3 text-right",children:P(X)}),x.jsx("td",{className:"border border-gray-300 px-4 py-3 text-right text-green-700",children:P(z)}),x.jsx("td",{className:"border border-gray-300 px-4 py-3 text-right text-red-700",children:P(H)})]})]})]})]})};return x.jsxs("div",{className:"p-6 min-h-screen bg-gray-50",children:[x.jsx("div",{className:"mb-8",children:x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),x.jsx("p",{className:"text-gray-600",children:"     "})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:()=>_(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors duration-200 flex items-center space-x-2 space-x-reverse",children:[x.jsx(ao,{className:"h-4 w-4"}),x.jsx("span",{children:"  "})]}),x.jsxs("button",{onClick:()=>M(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center space-x-2 space-x-reverse",children:[x.jsx(ao,{className:"h-4 w-4"}),x.jsx("span",{children:" "})]}),x.jsxs("button",{onClick:()=>V(),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors duration-200 flex items-center space-x-2 space-x-reverse",children:[x.jsx(Cf,{className:"h-4 w-4"}),x.jsx("span",{children:" "})]}),x.jsxs("button",{onClick:()=>B(),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center space-x-2 space-x-reverse",children:[x.jsx(Pi,{className:"h-4 w-4"}),x.jsx("span",{children:" Excel"})]})]})]})}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[x.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("div",{className:"bg-blue-100 text-blue-600 p-3 rounded-lg",children:x.jsx(sc,{className:"h-6 w-6"})}),x.jsx(Is,{className:"h-5 w-5 text-blue-500"})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:L}),x.jsx("p",{className:"text-gray-600 text-sm",children:" "})]})]}),x.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("div",{className:"bg-orange-100 text-orange-600 p-3 rounded-lg",children:x.jsx(Zi,{className:"h-6 w-6"})}),x.jsx(Is,{className:"h-5 w-5 text-orange-500"})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:P(k)}),x.jsx("p",{className:"text-gray-600 text-sm",children:" "})]})]}),x.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("div",{className:"bg-green-100 text-green-600 p-3 rounded-lg",children:x.jsx(Zi,{className:"h-6 w-6"})}),x.jsx(Is,{className:"h-5 w-5 text-green-500"})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:P(w)}),x.jsx("p",{className:"text-gray-600 text-sm",children:" "})]})]}),x.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("div",{className:"bg-red-100 text-red-600 p-3 rounded-lg",children:x.jsx(Zi,{className:"h-6 w-6"})}),x.jsx(Is,{className:"h-5 w-5 text-red-500"})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:P(C)}),x.jsx("p",{className:"text-gray-600 text-sm",children:""})]})]})]}),x.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4 mb-6",children:x.jsx("div",{className:"flex items-center gap-4",children:x.jsxs("div",{className:"flex-1 relative",children:[x.jsx(u0,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),x.jsx("input",{type:"text",placeholder:"   ...",value:c,onChange:W=>f(W.target.value),className:"w-full pl-4 pr-12 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})})}),x.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:[x.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:x.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"  "})}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),x.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),x.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),x.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),x.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),x.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),x.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(W=>x.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx(sc,{className:"h-4 w-4 text-gray-400 ml-3"}),x.jsx("span",{className:"text-sm font-medium text-gray-900",children:W.company})]})}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:W.shipmentCount}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-orange-700",children:P(W.totalOwed)}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-700",children:P(W.totalPaid)}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-red-700",children:P(W.remaining)}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:x.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[x.jsx("button",{onClick:()=>V(W),className:"text-blue-600 hover:text-blue-900 p-1 rounded transition-colors duration-150",title:"",children:x.jsx(Cf,{className:"h-4 w-4"})}),x.jsx("button",{onClick:()=>B(W.company),className:"text-green-600 hover:text-green-900 p-1 rounded transition-colors duration-150",title:" Excel",children:x.jsx(Ji,{className:"h-4 w-4"})})]})})]},W.company))})]})})]}),E.length===0&&x.jsxs("div",{className:"text-center py-12",children:[x.jsx(sc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),x.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"   "}),x.jsx("p",{className:"text-gray-600",children:"     "})]}),A&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl max-w-6xl w-full max-h-[95vh] overflow-y-auto shadow-2xl",children:[x.jsxs("div",{className:"sticky top-0 bg-white border-b px-8 py-5 flex justify-between items-center z-10 rounded-t-2xl",children:[x.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-3",children:[x.jsx(Ji,{className:"h-7 w-7 text-blue-600"})," "]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:O,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200 flex items-center space-x-2 space-x-reverse",children:[x.jsx(Pi,{className:"h-4 w-4"}),x.jsx("span",{children:" PDF"})]}),x.jsxs("button",{onClick:()=>B(g==="single"&&h?h.company:void 0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center space-x-2 space-x-reverse",children:[x.jsx(Pi,{className:"h-4 w-4"}),x.jsx("span",{children:" Excel"})]}),x.jsx("button",{onClick:()=>p(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:x.jsx("span",{className:"text-2xl",children:""})})]})]}),x.jsx("div",{className:"p-8",children:x.jsx(Q,{})})]})}),v&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full shadow-2xl",children:[x.jsxs("div",{className:"bg-blue-600 text-white px-8 py-5 rounded-t-2xl flex justify-between items-center",children:[x.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-3",children:[x.jsx(Zi,{className:"h-7 w-7"}),"  "]}),x.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-blue-700 rounded-lg transition-colors duration-200",children:x.jsx(vi,{className:"h-5 w-5"})})]}),x.jsxs("form",{onSubmit:U,className:"p-8 space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),x.jsxs("select",{value:N.company_name,onChange:W=>F({...N,company_name:W.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[x.jsx("option",{value:"",children:"  "}),r.map(W=>{const j=e.find(z=>z.company===W.company_name),X=j?j.remaining:0;return x.jsxs("option",{value:W.company_name,children:[W.company_name," - : ",P(X)]},W.id)})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (.)"}),x.jsx("input",{type:"number",step:"0.01",min:"0.01",value:N.amount,onChange:W=>F({...N,amount:W.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),x.jsx("input",{type:"date",value:N.payment_date,onChange:W=>F({...N,payment_date:W.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" ()"}),x.jsx("textarea",{value:N.notes,onChange:W=>F({...N,notes:W.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3,placeholder:"  ..."})]}),x.jsxs("div",{className:"flex gap-3 pt-4",children:[x.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center justify-center space-x-2 space-x-reverse font-medium",children:[x.jsx(wb,{className:"h-5 w-5"}),x.jsx("span",{children:" "})]}),x.jsx("button",{type:"button",onClick:()=>y(!1),className:"flex-1 bg-gray-200 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-300 transition-colors duration-200 font-medium",children:""})]})]})]})}),b&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-2xl",children:[x.jsxs("div",{className:"bg-indigo-600 text-white px-6 py-5 rounded-t-2xl flex justify-between items-center",children:[x.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[x.jsx(sc,{className:"h-6 w-6"}),"   "]}),x.jsx("button",{onClick:()=>{_(!1),I("")},className:"p-1 hover:bg-indigo-700 rounded-lg transition-colors duration-200",children:x.jsx(vi,{className:"h-5 w-5"})})]}),x.jsxs("form",{onSubmit:S,className:"p-6 space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),x.jsx("input",{type:"text",value:T,onChange:W=>I(W.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"  ...",required:!0})]}),x.jsxs("div",{className:"flex gap-3 pt-2",children:[x.jsxs("button",{type:"submit",className:"flex-1 bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition-colors duration-200 flex items-center justify-center space-x-2 space-x-reverse font-medium",children:[x.jsx(wb,{className:"h-4 w-4"}),x.jsx("span",{children:" "})]}),x.jsx("button",{type:"button",onClick:()=>{_(!1),I("")},className:"flex-1 bg-gray-200 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-300 transition-colors duration-200 font-medium",children:""})]})]})]})})]})},mZe=()=>{const[r,t]=Ce.useState([]),[e,n]=Ce.useState(!0),[i,a]=Ce.useState(null),s=async()=>{try{n(!0);const{data:o,error:l}=await Ct.from("expenses").select("*").order("date",{ascending:!1});if(l)throw l;t(o||[])}catch(o){a(o instanceof Error?o.message:"    ")}finally{n(!1)}};return Ce.useEffect(()=>{s()},[]),{expenses:r,loading:e,error:i,refetch:s}},RN=.15,ai=r=>{const t=new Date(r);return new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()))},vZe=()=>{var Pe,st,gt;const{orders:r,loading:t,error:e}=yy(),{expenses:n,loading:i,error:a}=mZe(),[s,o]=Ce.useState("all"),[l,u]=Ce.useState(""),[c,f]=Ce.useState(""),[h,d]=Ce.useState(null),[A,p]=Ce.useState([]),[g,m]=Ce.useState([]),[v,y]=Ce.useState([]),[b,_]=Ce.useState([]),[T,I]=Ce.useState([]),N=Ce.useRef(null),[F,P]=Ce.useState(!1),D=Ce.useMemo(()=>r.filter(we=>we.is_locked===!0),[r]),R=Ce.useMemo(()=>r.filter(we=>!we.is_locked&&we.status!==""),[r]),E=Ce.useMemo(()=>r.filter(we=>we.status===""),[r]);Ce.useEffect(()=>{(async()=>{try{const[Oe,at,Ve,Qe,Ke]=await Promise.all([Ct.from("payment_methods").select("*").eq("is_active",!0).order("name",{ascending:!0}),Ct.from("payment_receipts").select("id, payment_method_code, amount_received"),Ct.from("receivables").select("id, entity_id, remaining_amount"),Ct.from("shipping_companies").select("id, company_name"),Ct.from("shipping_company_payments").select("id, company_id, amount")]);if(Oe.error)throw Oe.error;if(at.error)throw at.error;if(Ve.error)throw Ve.error;if(Qe.error)throw Qe.error;if(Ke.error)throw Ke.error;p(Oe.data||[]),m(at.data||[]),y(Ve.data||[]),_(Qe.data||[]),I(Ke.data||[])}catch(Oe){console.error("Error fetching data:",Oe)}})()},[]);const{filteredOrders:L,filteredExpenses:k,filteredCancelledOrders:w,daysCount:C}=Ce.useMemo(()=>{const we=new Date,Oe=ai(we),at=ai(we);at.setDate(Oe.getDate()-1);let Ve=new Date(0),Qe=new Date(864e13),Ke=0;s==="today"?(Ve=Oe,Qe=ai(Oe),Qe.setDate(Qe.getDate()+1),Ke=1):s==="yesterday"?(Ve=at,Qe=ai(Oe),Ke=1):s==="week"?(Ve=ai(new Date(we.getTime()-6*864e5)),Qe=ai(Oe),Qe.setDate(Qe.getDate()+1),Ke=7):s==="month"?(Ve=ai(new Date(we.getFullYear(),we.getMonth(),1)),Qe=ai(new Date(we.getFullYear(),we.getMonth()+1,1)),Ke=new Date(we.getFullYear(),we.getMonth()+1,0).getDate()):s==="custom"&&l&&c?(Ve=ai(new Date(l)),Qe=ai(new Date(c)),Qe.setDate(Qe.getDate()+1),Ke=Math.ceil((Qe.getTime()-Ve.getTime())/864e5)):Ke=9999;const Ue=We=>{const yt=ai(We);return yt>=Ve&&yt<Qe};return{filteredOrders:D.filter(We=>Ue(We.order_date)),filteredExpenses:n.filter(We=>Ue(We.date)),filteredCancelledOrders:E.filter(We=>Ue(We.order_date)),daysCount:Ke}},[D,n,E,s,l,c]),S=(we,Oe)=>{if(!we)return{fee:0,percentage:0,fixed:0};const at=A.find(Ke=>Ke.code===we);return at?{fee:Oe*(at.percentage_fee/100)+at.fixed_fee,percentage:at.percentage_fee,fixed:at.fixed_fee}:{fee:0,percentage:0,fixed:0}},B=Ce.useMemo(()=>we=>{var et;const Oe=we.total_price||0,at=((et=we.products)==null?void 0:et.reduce((ft,lt)=>ft+(lt.cost_subtotal||0),0))||0,Qe=(we.shipping_cost||0)*(1+RN),Ke=Qe,{fee:Ue}=S(we.payment_method,Oe),We=Oe-Ue-Ke-at,yt=(we.total_price||0)>0?We/(we.total_price||0)*100:0,Ne=we.shipping_bearer||"customer";return{netProfit:We,margin:yt,shippingBearer:Ne,productCostInclTax:at,shippingDeduction:Ke,shippingWithTax:Qe,paymentFee:Ue}},[A]),O=Ce.useMemo(()=>L.reduce((we,Oe)=>we+B(Oe).netProfit,0),[L,B]),V=Ce.useMemo(()=>{const we=L.reduce((Oe,at)=>Oe+(at.total_price||0),0);return we>0?O/we*100:0},[L,O]),M=Ce.useMemo(()=>L.reduce((we,Oe)=>we+B(Oe).paymentFee,0),[L,B]),U=Ce.useMemo(()=>L.reduce((we,Oe)=>we+B(Oe).productCostInclTax,0),[L,B]),Q=Ce.useMemo(()=>L.reduce((we,Oe)=>we+B(Oe).shippingDeduction,0),[L,B]),W=Ce.useMemo(()=>L.reduce((we,Oe)=>we+(Oe.total_price||0),0),[L]),j=Ce.useMemo(()=>k.reduce((we,Oe)=>we+(Oe.amount||0),0),[k]),X=Ce.useMemo(()=>U+Q+M+j,[U,Q,M,j]),z=Ce.useMemo(()=>W-U-Q-M,[W,U,Q,M]),H=Ce.useMemo(()=>z-j,[z,j]),K=Ce.useMemo(()=>L.reduce((we,Oe)=>{var at;return we+(((at=Oe.products)==null?void 0:at.reduce((Ve,Qe)=>Ve+(Qe.quantity||0),0))||0)},0),[L]),Z=w.length,ie=Ce.useMemo(()=>w.reduce((we,Oe)=>we+(Oe.cancellation_fee||0),0),[w]),ee=Ce.useMemo(()=>w.filter(we=>we.fee_bearer==="store").length,[w]),ne=Ce.useMemo(()=>w.filter(we=>we.fee_bearer==="customer").length,[w]),te=Ce.useMemo(()=>w.reduce((we,Oe)=>Oe.fee_bearer==="store"?we+(Oe.cancellation_fee||0):we,0),[w]),le=Ce.useMemo(()=>w.reduce((we,Oe)=>Oe.fee_bearer==="customer"?we+(Oe.cancellation_fee||0):we,0),[w]),re=Ce.useMemo(()=>v.reduce((we,Oe)=>we+(Oe.remaining_amount||0),0),[v]),de=Ce.useMemo(()=>{let we=0;const Oe=A.find(Ke=>Ke.code==="salla_basket"),at=A.find(Ke=>Ke.code==="mada"),Ve=A.find(Ke=>Ke.code==="credit_card");if(Oe&&(at||Ve)){const Ke=D.filter(St=>St.payment_method==="mada"),Ue=D.filter(St=>St.payment_method==="credit_card"),yt=[...Ke,...Ue].reduce((St,ut)=>St+ut.total_price,0),et=g.filter(St=>St.payment_method_code==="salla_basket").reduce((St,ut)=>St+ut.amount_received,0),ft=Math.max(0,yt-et);let lt=0;if(at&&Ke.length>0){const St=Ke.reduce((ut,vt)=>ut+vt.total_price,0);lt+=Ke.length*at.fixed_fee+St*at.percentage_fee/100}if(Ve&&Ue.length>0){const St=Ue.reduce((ut,vt)=>ut+vt.total_price,0);lt+=Ue.length*Ve.fixed_fee+St*Ve.percentage_fee/100}we=Math.max(0,ft-lt)}const Qe=A.filter(Ke=>!["mada","credit_card","salla_basket"].includes(Ke.code)).reduce((Ke,Ue)=>{const We=D.filter(zt=>zt.payment_method===Ue.code),yt=We.reduce((zt,_t)=>zt+_t.total_price,0),et=g.filter(zt=>zt.payment_method_code===Ue.code).reduce((zt,_t)=>zt+_t.amount_received,0),ft=Math.max(0,yt-et),St=We.length*Ue.fixed_fee,ut=yt*Ue.percentage_fee/100,vt=St+ut,Lt=Math.max(0,ft-vt);return Ke+Lt},0);return we+Qe},[D,A,g]),ue=Ce.useMemo(()=>b.reduce((we,Oe)=>{const Ve=D.filter(We=>We.shipping_company===Oe.company_name).reduce((We,yt)=>We+(yt.shipping_cost||0)*(1+RN),0),Ke=T.filter(We=>We.company_id===Oe.id).reduce((We,yt)=>We+(yt.amount||0),0),Ue=Math.max(0,Ve-Ke);return we+Ue},0),[D,b,T]),Fe=t||i,Se=e||a;Ce.useMemo(()=>{const we=new Date,Oe=ai(we),at=ai(we);at.setDate(Oe.getDate()-1);let Ve=new Date(0),Qe=new Date(864e13);if(s==="today")Ve=Oe,Qe=ai(Oe),Qe.setDate(Qe.getDate()+1);else if(s==="yesterday")Ve=at,Qe=ai(Oe);else if(s==="week")Ve=ai(new Date(we.getTime()-6*864e5)),Qe=ai(Oe),Qe.setDate(Qe.getDate()+1);else if(s==="month")Ve=ai(new Date(we.getFullYear(),we.getMonth(),1)),Qe=ai(new Date(we.getFullYear(),we.getMonth()+1,1));else if(s==="custom"&&l&&c)Ve=ai(new Date(l)),Qe=ai(new Date(c)),Qe.setDate(Qe.getDate()+1);else{const ft=[...r.map(lt=>ai(lt.order_date)),...n.map(lt=>ai(lt.date))];if(ft.length>0){const lt=Math.min(...ft.map(ut=>ut.getTime())),St=Math.max(...ft.map(ut=>ut.getTime()));Ve=new Date(lt),Qe=new Date(St),Qe.setDate(Qe.getDate()+1)}else return[]}const Ke=new Map,Ue=(ft,lt,St)=>{Ke.has(ft)||Ke.set(ft,{date:ft,locked:0,unlocked:0,sales:0,costs:0,profit:0,orders:0});const ut=Ke.get(ft);ut[lt]+=St,(lt==="locked"||lt==="unlocked")&&(ut.orders+=1)},We=ft=>{const lt=ai(ft);return lt>=ai(Ve)&&lt<ai(Qe)};r.forEach(ft=>{if(We(ft.order_date)){const lt=new Date(ft.order_date).toLocaleDateString("en-GB");if(ft.is_locked===!0){const{netProfit:St,paymentFee:ut,productCostInclTax:vt,shippingDeduction:Lt}=B(ft),zt=ft.total_price||0,_t=vt+Lt+ut;Ue(lt,"locked",1),Ue(lt,"sales",zt),Ue(lt,"costs",_t),Ue(lt,"profit",St)}else ft.status!==""&&Ue(lt,"unlocked",1)}});let yt=ai(Ve);const Ne=ai(Qe);for(;yt<Ne;){const ft=yt.toLocaleDateString("en-GB");Ke.has(ft)||Ke.set(ft,{date:ft,locked:0,unlocked:0,sales:0,costs:0,profit:0,orders:0}),yt.setDate(yt.getDate()+1)}const et=Array.from(Ke.values()).sort((ft,lt)=>{const[St,ut,vt]=ft.date.split("/").map(Number),[Lt,zt,_t]=lt.date.split("/").map(Number);return new Date(vt,ut-1,St).getTime()-new Date(_t,zt-1,Lt).getTime()});return et.length<=1&&C!==9999?[]:et},[r,n,s,l,c,C,B]);const De=async()=>{P(!0);try{const we=new wc.Workbook,Oe=new Date,at=Oe.toLocaleString("en-US",{timeZone:"Asia/Riyadh",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}),Ve=Oe.toISOString().split("T")[0],Qe=we.addWorksheet(" ",{views:[{rightToLeft:!0}]});Qe.mergeCells("A1:B1");const Ke=Qe.getCell("A1");Ke.value="  ",Ke.font={size:18,bold:!0,color:{argb:"FFFFFFFF"}},Ke.alignment={horizontal:"center",vertical:"middle"},Ke.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1E40AF"}},Qe.getRow(1).height=30,Qe.mergeCells("A2:B2");const Ue=Qe.getCell("A2");Ue.value=`  : ${at}`,Ue.font={size:12,bold:!0},Ue.alignment={horizontal:"center"},Ue.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE7E7E7"}},Qe.addRow([]),Qe.addRow(["  ",""]).font={bold:!0,size:14,color:{argb:"FF1E40AF"}},Qe.addRow(["  ",D.length]),Qe.addRow(["  ",R.length]),Qe.addRow(["  ",E.length]),Qe.addRow(["  ( )",`${W.toFixed(2)} .`]),Qe.addRow(["  ",K]),Qe.addRow([]),Qe.addRow(["  ",""]).font={bold:!0,size:14,color:{argb:"FF2E7D32"}},Qe.addRow([" ",`${z.toFixed(2)} .`]),Qe.addRow([" ",`${H.toFixed(2)} .`]),Qe.addRow([" ",`${V.toFixed(2)}%`]),Qe.addRow(["  ",`${U.toFixed(2)} .`]),Qe.addRow(["  ",`${Q.toFixed(2)} .`]),Qe.addRow(["  ",`${M.toFixed(2)} .`]),Qe.addRow(["  ",`${j.toFixed(2)} .`]),Qe.addRow([]),Qe.addRow([" ",""]).font={bold:!0,size:14,color:{argb:"FFFF9800"}},Qe.addRow([" ",`${re.toFixed(2)} .`]),Qe.addRow(["  ",`${de.toFixed(2)} .`]),Qe.addRow(["  ",`${ue.toFixed(2)} .`]),Qe.addRow([]),Qe.addRow(["  ",""]).font={bold:!0,size:14,color:{argb:"FFE74C3C"}},Qe.addRow(["  ",`${ie.toFixed(2)} .`]),Qe.addRow(["   ",`${te.toFixed(2)} .`]),Qe.addRow(["   ",`${le.toFixed(2)} .`]),Qe.addRow(["  ",ee]),Qe.addRow(["  ",ne]),Qe.addRow([]),Qe.addRow(["  ",""]).font={bold:!0,size:14,color:{argb:"FF9966FF"}};const We=Qe.addRow(["  "," ..."]);Qe.columns=[{width:35},{width:25}],Qe.eachRow((Ee,rt)=>{rt>2&&(Ee.getCell(1).font={bold:!0},Ee.getCell(2).alignment={horizontal:"left"})});const yt=we.addWorksheet(" ",{views:[{rightToLeft:!0}]});yt.columns=[{header:" ",key:"order_number",width:15},{header:"",key:"customer_name",width:25},{header:"",key:"phone_number",width:15},{header:"",key:"total_price",width:12},{header:" ",key:"payment_method",width:20},{header:" ",key:"shipping_company",width:15},{header:" ",key:"shipping_cost",width:12},{header:"",key:"order_date",width:15},{header:" ",key:"net_profit",width:12}],yt.getRow(1).font={bold:!0,color:{argb:"FFFFFFFF"}},yt.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF4472C4"}},D.forEach(Ee=>{const{netProfit:rt}=B(Ee);yt.addRow({order_number:Ee.order_number,customer_name:Ee.customer_name,phone_number:Ee.phone_number,total_price:Ee.total_price,payment_method:Ee.payment_method,shipping_company:Ee.shipping_company,shipping_cost:Ee.shipping_cost,order_date:new Date(Ee.order_date).toLocaleDateString("en-US"),net_profit:rt.toFixed(2)})});const Ne=we.addWorksheet(" ",{views:[{rightToLeft:!0}]});Ne.columns=[{header:" ",key:"order_number",width:15},{header:"",key:"customer_name",width:25},{header:"",key:"phone_number",width:15},{header:"",key:"total_price",width:12},{header:"",key:"status",width:15},{header:"",key:"order_date",width:15}],Ne.getRow(1).font={bold:!0,color:{argb:"FFFFFFFF"}},Ne.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFC000"}},R.forEach(Ee=>{Ne.addRow({order_number:Ee.order_number,customer_name:Ee.customer_name,phone_number:Ee.phone_number,total_price:Ee.total_price,status:Ee.status,order_date:new Date(Ee.order_date).toLocaleDateString("en-US")})});const et=we.addWorksheet("",{views:[{rightToLeft:!0}]});et.columns=[{header:"",key:"description",width:30},{header:"",key:"amount",width:12},{header:"",key:"category",width:20},{header:"",key:"date",width:15},{header:"",key:"notes",width:30}],et.getRow(1).font={bold:!0,color:{argb:"FFFFFFFF"}},et.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFED7D31"}},n.forEach(Ee=>{et.addRow({description:Ee.description,amount:Ee.amount,category:Ee.category,date:new Date(Ee.date).toLocaleDateString("en-US"),notes:Ee.notes||""})});const{data:ft}=await Ct.from("inventory").select("*"),lt=we.addWorksheet("",{views:[{rightToLeft:!0}]});lt.columns=[{header:" ",key:"product_name",width:30},{header:" ",key:"cost_price",width:12},{header:"",key:"quantity",width:10},{header:" ",key:"total_value",width:15},{header:" ",key:"purchase_date",width:15},{header:"",key:"notes",width:30}],lt.getRow(1).font={bold:!0,color:{argb:"FFFFFFFF"}},lt.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF70AD47"}};let St=0;ft==null||ft.forEach(Ee=>{const rt=(Ee.cost_price||0)*(Ee.quantity||0);St+=rt,lt.addRow({product_name:Ee.product_name,cost_price:Ee.cost_price,quantity:Ee.quantity,total_value:rt.toFixed(2),purchase_date:Ee.purchase_date?new Date(Ee.purchase_date).toLocaleDateString("en-US"):"",notes:Ee.notes||""})});const ut=lt.addRow({product_name:"",cost_price:"",quantity:(ft==null?void 0:ft.reduce((Ee,rt)=>Ee+(rt.quantity||0),0))||0,total_value:St.toFixed(2),purchase_date:"",notes:""});ut.font={bold:!0,color:{argb:"FFFFFFFF"}},ut.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF70AD47"}};const vt=we.addWorksheet(" ",{views:[{rightToLeft:!0}]});vt.columns=[{header:" ",key:"order_number",width:15},{header:"",key:"customer_name",width:25},{header:"",key:"total_price",width:12},{header:" ",key:"cancellation_reason",width:30},{header:" ",key:"cancellation_fee",width:12},{header:" ",key:"fee_bearer",width:12},{header:" ",key:"cancelled_by",width:20},{header:"",key:"order_date",width:15}],vt.getRow(1).font={bold:!0,color:{argb:"FFFFFFFF"}},vt.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFF0000"}},E.forEach(Ee=>{vt.addRow({order_number:Ee.order_number,customer_name:Ee.customer_name,total_price:Ee.total_price,cancellation_reason:Ee.cancellation_reason||"",cancellation_fee:Ee.cancellation_fee||0,fee_bearer:Ee.fee_bearer==="store"?"":"",cancelled_by:Ee.cancelled_by||"",order_date:new Date(Ee.order_date).toLocaleDateString("en-US")})});const Lt=we.addWorksheet(" ",{views:[{rightToLeft:!0}]});Lt.columns=[{header:"",key:"name",width:25},{header:"",key:"code",width:20},{header:"  %",key:"percentage_fee",width:15},{header:" ",key:"fixed_fee",width:12},{header:" ",key:"order_count",width:12},{header:" ",key:"total_amount",width:15},{header:" ",key:"total_paid",width:15},{header:"",key:"remaining",width:15}],Lt.getRow(1).font={bold:!0,color:{argb:"FFFFFFFF"}},Lt.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF5B9BD5"}},A.forEach(Ee=>{const rt=D.filter(it=>it.payment_method===Ee.code),Bt=rt.reduce((it,bt)=>it+bt.total_price,0),Ae=g.filter(it=>it.payment_method_code===Ee.code).reduce((it,bt)=>it+bt.amount_received,0),Re=Bt-Ae;Lt.addRow({name:Ee.name,code:Ee.code,percentage_fee:Ee.percentage_fee,fixed_fee:Ee.fixed_fee,order_count:rt.length,total_amount:Bt.toFixed(2),total_paid:Ae.toFixed(2),remaining:Re.toFixed(2)})});const{data:zt}=await Ct.from("entities").select("*").eq("type",""),{data:_t}=await Ct.from("receivables").select("*"),{data:ar}=await Ct.from("payments").select("*"),Tr=we.addWorksheet("",{views:[{rightToLeft:!0}]});Tr.columns=[{header:" ",key:"name",width:30},{header:"",key:"phone",width:15},{header:" ",key:"email",width:25},{header:"",key:"address",width:30},{header:" ",key:"total_receivables",width:18},{header:" ",key:"total_payments",width:18},{header:"",key:"remaining",width:15}],Tr.getRow(1).font={bold:!0,color:{argb:"FFFFFFFF"}},Tr.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFA5A5A5"}},zt==null||zt.forEach(Ee=>{var Re,it,bt;const rt=(_t==null?void 0:_t.filter(Pt=>Pt.entity_id===Ee.id))||[],Bt=rt.reduce((Pt,Mt)=>Pt+(Mt.total_amount||0),0),jt=rt.reduce((Pt,Mt)=>Pt+(Mt.remaining_amount||0),0),Ae=Bt-jt;Tr.addRow({name:Ee.name,phone:((Re=Ee.contact_info)==null?void 0:Re.phone)||"",email:((it=Ee.contact_info)==null?void 0:it.email)||"",address:((bt=Ee.contact_info)==null?void 0:bt.address)||"",total_receivables:Bt.toFixed(2),total_payments:Ae.toFixed(2),remaining:jt.toFixed(2)})});const It=we.addWorksheet("  ",{views:[{rightToLeft:!0}]});It.columns=[{header:"",key:"supplier_name",width:30},{header:"",key:"description",width:35},{header:" ",key:"total_amount",width:15},{header:" ",key:"remaining_amount",width:15},{header:" ",key:"created_at",width:15},{header:" ",key:"due_date",width:15},{header:"",key:"notes",width:30}],It.getRow(1).font={bold:!0,color:{argb:"FFFFFFFF"}},It.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFF9800"}};for(const Ee of _t||[]){const rt=zt==null?void 0:zt.find(Bt=>Bt.id===Ee.entity_id);It.addRow({supplier_name:(rt==null?void 0:rt.name)||" ",description:Ee.description,total_amount:Ee.total_amount,remaining_amount:Ee.remaining_amount,created_at:Ee.created_at?new Date(Ee.created_at).toLocaleDateString("en-US"):"",due_date:Ee.due_date?new Date(Ee.due_date).toLocaleDateString("en-US"):"",notes:Ee.notes||""})}const Ir=we.addWorksheet(" ",{views:[{rightToLeft:!0}]});Ir.columns=[{header:"",key:"supplier_name",width:30},{header:"",key:"amount",width:12},{header:" ",key:"payment_date",width:15},{header:" ",key:"receipt_number",width:15},{header:"",key:"notes",width:30}],Ir.getRow(1).font={bold:!0,color:{argb:"FFFFFFFF"}},Ir.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF92D050"}};for(const Ee of ar||[]){const rt=_t==null?void 0:_t.find(jt=>jt.id===Ee.receivable_id),Bt=zt==null?void 0:zt.find(jt=>jt.id===(rt==null?void 0:rt.entity_id));Ir.addRow({supplier_name:(Bt==null?void 0:Bt.name)||" ",amount:Ee.amount,payment_date:Ee.payment_date?new Date(Ee.payment_date).toLocaleDateString("en-US"):"",receipt_number:Ee.receipt_number||"",notes:Ee.notes||""})}const _r=we.addWorksheet(" ",{views:[{rightToLeft:!0}]});_r.columns=[{header:" ",key:"company_name",width:25},{header:" ",key:"contact_person",width:25},{header:"",key:"phone_number",width:15},{header:" ",key:"email",width:25},{header:"",key:"address",width:30},{header:" ",key:"order_count",width:12},{header:" ",key:"total_cost",width:15},{header:" ",key:"total_paid",width:15},{header:"",key:"remaining",width:15}],_r.getRow(1).font={bold:!0,color:{argb:"FFFFFFFF"}},_r.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFC000"}};const{data:tr}=await Ct.from("shipping_companies").select("*");tr==null||tr.forEach(Ee=>{const rt=D.filter(it=>it.shipping_company===Ee.company_name),Bt=rt.reduce((it,bt)=>it+(bt.shipping_cost||0)*(1+RN),0),Ae=T.filter(it=>it.company_id===Ee.id).reduce((it,bt)=>it+(bt.amount||0),0),Re=Bt-Ae;_r.addRow({company_name:Ee.company_name,contact_person:Ee.contact_person||"",phone_number:Ee.phone_number||"",email:Ee.email||"",address:Ee.address||"",order_count:rt.length,total_cost:Bt.toFixed(2),total_paid:Ae.toFixed(2),remaining:Re.toFixed(2)})});const{data:je,error:Ye}=await Ct.from("user_profiles").select("*").eq("role","user").eq("is_active",!0).order("full_name");Ye&&console.error("Error fetching users:",Ye);const{data:ht,error:oe}=await Ct.from("employee_balance_transactions").select(`
          *,
          user:user_profiles!employee_balance_transactions_user_id_fkey(full_name),
          created_by_user:user_profiles!employee_balance_transactions_created_by_fkey(full_name)
        `).order("transaction_date",{ascending:!1});oe&&console.error("Error fetching employee balances:",oe),console.log("Employee balances fetched:",(ht==null?void 0:ht.length)||0,"records");const ye=new Map;je==null||je.forEach(Ee=>{ye.set(Ee.id,{name:Ee.full_name,balance:0,transactionCount:0})}),ht==null||ht.forEach(Ee=>{const rt=ye.get(Ee.user_id);rt&&(rt.balance+=parseFloat(Ee.amount.toString()),rt.transactionCount+=1)});const he=we.addWorksheet("  ",{views:[{rightToLeft:!0}]});he.columns=[{header:"",key:"employee_name",width:30},{header:" ",key:"current_balance",width:15},{header:" ",key:"transaction_count",width:15}],he.getRow(1).font={bold:!0,color:{argb:"FFFFFFFF"}},he.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF9966FF"}};let me=0;ye.forEach(Ee=>{me+=Ee.balance,he.addRow({employee_name:Ee.name,current_balance:Ee.balance.toFixed(2),transaction_count:Ee.transactionCount})});const xe=he.addRow({employee_name:"",current_balance:me.toFixed(2),transaction_count:(ht==null?void 0:ht.length)||0});xe.font={bold:!0,color:{argb:"FFFFFFFF"}},xe.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF9966FF"}},We.getCell(2).value=`${me.toFixed(2)} .`;const be=we.addWorksheet("  ",{views:[{rightToLeft:!0}]});be.columns=[{header:"",key:"employee_name",width:25},{header:"",key:"amount",width:12},{header:"",key:"type",width:15},{header:"",key:"reason",width:30},{header:"",key:"transaction_date",width:15},{header:"  ",key:"created_by",width:20}],be.getRow(1).font={bold:!0,color:{argb:"FFFFFFFF"}},be.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF9966FF"}},ht&&ht.length>0?ht.forEach(Ee=>{var rt,Bt;be.addRow({employee_name:((rt=Ee.user)==null?void 0:rt.full_name)||" ",amount:Ee.amount,type:Ee.type==="credit"?" ":" ",reason:Ee.reason||"",transaction_date:new Date(Ee.transaction_date).toLocaleDateString("en-US"),created_by:((Bt=Ee.created_by_user)==null?void 0:Bt.full_name)||""})}):be.addRow({employee_name:"  ",amount:"",type:"",reason:"",transaction_date:"",created_by:""});const He=we.addWorksheet(" ",{views:[{rightToLeft:!0}]});He.columns=[{header:" ",key:"receipt_number",width:15},{header:" ",key:"payment_method",width:20},{header:" ",key:"amount_received",width:15},{header:" ",key:"received_date",width:15},{header:"",key:"notes",width:30}],He.getRow(1).font={bold:!0,color:{argb:"FFFFFFFF"}},He.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF00BCD4"}};const{data:Ze,error:$e}=await Ct.from("payment_receipts").select("*");$e&&console.error("Error fetching payment receipts:",$e),console.log("Payment receipts fetched:",(Ze==null?void 0:Ze.length)||0,"records"),Ze&&Ze.length>0?Ze.forEach(Ee=>{const rt=A.find(Bt=>Bt.code===Ee.payment_method_code);He.addRow({receipt_number:Ee.receipt_number||"",payment_method:(rt==null?void 0:rt.name)||Ee.payment_method_code,amount_received:Ee.amount_received,received_date:Ee.received_date?new Date(Ee.received_date).toLocaleDateString("en-US"):"",notes:Ee.notes||""})}):He.addRow({receipt_number:"  ",payment_method:"",amount_received:"",received_date:"",notes:""});const nt=await we.xlsx.writeBuffer();_c.saveAs(new Blob([nt]),`__${Ve}.xlsx`),alert("    !")}catch(we){console.error("Error exporting comprehensive data:",we),alert("   ")}finally{P(!1)}},ge=async()=>{const we=new wc.Workbook;we.creator=" ",we.lastModifiedBy="Report System",we.created=new Date,we.modified=new Date;const Oe=we.addWorksheet(" ",{properties:{defaultColWidth:22},views:[{rightToLeft:!0}]});Oe.mergeCells("A1:J1");const at=Oe.getCell("A1");at.value="  ",at.font={name:"Arial",size:16,bold:!0,color:{argb:"FFFFFFFF"}},at.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1E40AF"}},at.alignment={horizontal:"center",vertical:"middle"},Oe.getRow(1).height=35,Oe.addRow([]),Oe.mergeCells("A3:B3"),Oe.getCell("A3").value=" ",Oe.getCell("A3").font={name:"Arial",bold:!0,size:14},Oe.getCell("A3").fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFDDDDDD"}},[["  ",L.length],["  ",Z],["   ",`${W.toFixed(2)} .`],["   ( )",`${M.toFixed(2)} .`],["   ( )",`${U.toFixed(2)} .`],["     15%",`${Q.toFixed(2)} .`],["  ",`${j.toFixed(2)} .`],["  ",`${X.toFixed(2)} .`],[" ",`${z.toFixed(2)} .`],[" ",`${O.toFixed(2)} .`],["  (%)",`${V.toFixed(2)}%`],[" ",K],["  ",`${ie.toFixed(2)} .`],["   ",`${te.toFixed(2)} .`],["   ",`${le.toFixed(2)} .`],["  ",ee],["  ",ne]].forEach(([ut,vt])=>{const Lt=Oe.addRow([ut,vt]);Lt.getCell(1).font={bold:!0},Lt.getCell(2).alignment={horizontal:"left"},Lt.getCell(2).numFmt=typeof vt=="number"?"#,##0.00_);[Red](#,##0.00)":"@"}),Oe.addRow([]),Oe.addRow([]);const Qe=[" ","",""," "," ( )","  ( )","   ","  "," "];Oe.addRow(Qe).eachCell(ut=>{ut.font={name:"Arial",bold:!0,color:{argb:"FFFFFFFF"}},ut.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1E40AF"}},ut.alignment={horizontal:"center",vertical:"middle"},ut.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),L.forEach((ut,vt)=>{var Ir;const{netProfit:Lt,paymentFee:zt,productCostInclTax:_t,shippingDeduction:ar}=B(ut),Tr=ut.total_price||0;Oe.addRow([ut.order_number,ut.customer_name,new Date(ut.order_date).toLocaleDateString("en-GB"),((Ir=ut.products)==null?void 0:Ir.length)||0,_t.toFixed(2),zt.toFixed(2),ar.toFixed(2),Tr.toFixed(2),Lt.toFixed(2)]).eachCell((_r,tr)=>{tr>=5&&tr<=9?_r.numFmt="#,##0.00_);[Red](#,##0.00)":tr===4&&(_r.numFmt="0"),_r.alignment={horizontal:"center"},_r.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},vt%2===1&&(_r.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF5F5F5"}})})}),Oe.addRow(["","","",K,U.toFixed(2),M.toFixed(2),Q.toFixed(2),W.toFixed(2),O.toFixed(2)]).eachCell((ut,vt)=>{ut.font={name:"Arial",bold:!0,color:{argb:"FFFFFFFF"}},ut.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2E7D32"}},ut.alignment={horizontal:"center"},ut.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},vt>=5&&vt<=9?ut.numFmt="#,##0.00_);[Red](#,##0.00)":vt===4&&(ut.numFmt="0")});const We=we.addWorksheet(" ",{views:[{rightToLeft:!0}]});We.mergeCells("A1:G1");const yt=We.getCell("A1");yt.value="  ",yt.font={name:"Arial",size:16,bold:!0,color:{argb:"FFFFFFFF"}},yt.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE74C3C"}},yt.alignment={horizontal:"center",vertical:"middle"},We.getRow(1).height=35,We.addRow([]),We.mergeCells("A3:B3"),We.getCell("A3").value=" ",We.getCell("A3").font={name:"Arial",bold:!0,size:14},We.getCell("A3").fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFDDDDDD"}},[["   ",`${te.toFixed(2)} .`],["   ",`${le.toFixed(2)} .`],["   ",ee],["   ",ne]].forEach(([ut,vt])=>{const Lt=We.addRow([ut,vt]);Lt.getCell(1).font={bold:!0},Lt.getCell(2).alignment={horizontal:"left"}}),We.addRow([]);const et=[" ","",""," "," "," "," "];We.addRow(et).eachCell(ut=>{ut.font={bold:!0,color:{argb:"FFFFFFFF"}},ut.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE74C3C"}},ut.alignment={horizontal:"center"}}),w.forEach((ut,vt)=>{const Lt=We.addRow([ut.order_number,ut.customer_name,new Date(ut.order_date).toLocaleDateString("en-GB"),ut.cancellation_reason||" ",`${(ut.cancellation_fee||0).toFixed(2)} .`,ut.fee_bearer==="store"?"":"",`${(ut.total_price||0).toFixed(2)} .`]);vt%2===1&&Lt.eachCell(zt=>{zt.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF5F5F5"}}})}),We.addRow(["","","","",`${ie.toFixed(2)} .`,"",`${w.reduce((ut,vt)=>ut+(vt.total_price||0),0).toFixed(2)} .`]).eachCell(ut=>{ut.font={bold:!0,color:{argb:"FFFFFFFF"}},ut.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE74C3C"}}}),Oe.columns.forEach(ut=>{let vt=10;ut.eachCell({includeEmpty:!0},Lt=>{const _t=String(Lt.value).length*1;_t>vt&&(vt=_t)}),ut.width=Math.min(Math.max(vt+2,10),50)}),We.columns.forEach(ut=>{let vt=10;ut.eachCell({includeEmpty:!0},Lt=>{const _t=String(Lt.value).length*1;_t>vt&&(vt=_t)}),ut.width=Math.min(Math.max(vt+2,10),50)});const St=await we.xlsx.writeBuffer();_c.saveAs(new Blob([St]),`__${new Date().toISOString().split("T")[0]}.xlsx`)},Be=()=>{const we=window.open("","_blank");if(!we){alert("    ");return}const Oe=new Date,at=Oe.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),Ve=St=>{const ut=new Date(St),vt=ut.getFullYear(),Lt=String(ut.getMonth()+1).padStart(2,"0"),zt=String(ut.getDate()).padStart(2,"0");return`${vt}/${Lt}/${zt}`},Qe=s==="all"?"  ":s==="today"?" ":s==="yesterday"?" ":s==="week"?" 7 ":s==="month"?" ":`${Ve(l)} - ${Ve(c)}`,Ke={};L.forEach(St=>{const ut=new Date(St.order_date).toISOString().split("T")[0];Ke[ut]=(Ke[ut]||0)+(St.total_price||0)});const Ue=Object.keys(Ke).sort().slice(-8),We=Ue.map(St=>Ve(St)),yt=Ue.map(St=>Ke[St]),Ne=38,et=[];for(let St=0;St<L.length;St+=Ne)et.push(L.slice(St,St+Ne));const ft=et.length+2,lt=`
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>  - ${Oe.getFullYear()}/${String(Oe.getMonth()+1).padStart(2,"0")}/${String(Oe.getDate()).padStart(2,"0")}</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"><\/script>
  <style>
    @page { size: A4; margin: 0; }
    body { margin:0; padding:0; font-family: 'Cairo', sans-serif; color:#2d3436; background:#f9fafb; }
    .container { width: 210mm; margin: 0 auto; background: white; }
    .page { padding: 18mm 14mm 22mm; box-sizing: border-box; page-break-after: always; position: relative; }
    /*   */
    .header { position: absolute; top: 0; left: 0; right: 0; height: 75px; border-bottom: 3px solid #1e40af; padding: 10mm 14mm 8px; display: flex; justify-content: space-between; align-items: center; background: white; z-index: 10; }
    .logo { font-size: 22pt; font-weight: 900; color: #1e40af; }
    .report-info { font-size: 10.5pt; color: #555; text-align: left; }
    .footer { position: absolute; bottom: 0; left: 0; right: 0; height: 45px; border-top: 1px solid #e2e8f0; padding: 8px 14mm; font-size: 9pt; color: #636e72; display: flex; justify-content: space-between; background: white; }
    /*   */
    .cover { text-align: center; padding-top: 90px; }
    .cover h1 { font-size: 30pt; color: #1e40af; margin: 30px 0 12px; font-weight: 900; }
    .cover .period { background: #1e40af; color: white; padding: 16px 40px; border-radius: 10px; display: inline-block; font-size: 15pt; margin: 25px 0; }
    /*  */
    .cards { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; margin: 35px 0; }
    .card { background: #f8fafc; padding: 18px; border-radius: 10px; text-align: center; box-shadow: 0 3px 12px rgba(0,0,0,0.06); border: 1px solid #e2e8f0; }
    .card h3 { margin: 0 0 8px; color: #555; font-size: 12pt; }
    .card .val { font-size: 22pt; font-weight: 900; color: #1e40af; }
    .card.profit .val { color: ${O>=0?"#16a34a":"#dc2626"}; }
    /*    */
    .chart-box { margin: 30px 0; padding: 16px; background: white; border-radius: 12px; box-shadow: 0 4px 16px rgba(0,0,0,0.07); text-align: center; }
    .chart-title { font-size: 13pt; font-weight: 700; color: #1e40af; margin-bottom: 12px; }
    #salesChart { max-height: 220px; }
    /*   */
    table.detail { width: 100%; border-collapse: collapse; margin-top: 12px; font-size: 9.4pt; }
    table.detail th { background: #1e40af; color: white; padding: 11px 6px; font-weight: 600; }
    table.detail td { padding: 9px 5px; text-align: center; border-bottom: 1px solid #e2e8f0; }
    table.detail tr:nth-child(even) { background: #f8fafc; }
    .total-row { background: #dbeafe !important; font-weight: 900; font-size: 11.5pt; color: #1e40af; }
    .print-btn { position: fixed; bottom: 25px; left: 50%; transform: translateX(-50%); background: #1e40af; color: white; padding: 14px 55px; border: none; border-radius: 10px; font-size: 17px; font-weight: bold; cursor: pointer; box-shadow: 0 8px 25px rgba(30,64,175,0.35); z-index: 1000; }
    @media print { .print-btn, .header, .footer { display: none; } .page { padding: 12mm !important; } }
  </style>
</head>
<body>
  <!--   -->
  <div class="container">
    <div class="page cover">
      <div class="header">
        <div class="logo"></div>
        <div class="report-info">  </div>
      </div>
      <h1>  </h1>
      <div class="period">
        ${Qe}
        <br><small style="font-size:12pt;opacity:0.9;"> : ${at}</small>
      </div>
    </div>
    <!--   +     -->
    <div class="page">
      <div class="header">
        <div class="logo"></div>
        <div class="report-info"> </div>
      </div>
      <div class="cards">
        <div class="card"><h3> </h3><div class="val">${W.toLocaleString("EN-US")} .</div></div>
        <div class="card"><h3> </h3><div class="val">${L.length}</div></div>
        <div class="card profit"><h3> </h3><div class="val">${O.toLocaleString("EN-US",{minimumFractionDigits:0})} .</div></div>
        <div class="card"><h3> </h3><div class="val">${V.toFixed(1)}%</div></div>
        <div class="card" style="background:#fff5f5;border-color:#fca5a5;"><h3></h3><div class="val">${Z}</div></div>
      </div>
      <div class="chart-box">
        <div class="chart-title">  ( 8 )</div>
        <canvas id="salesChart"></canvas>
      </div>
      <div class="footer">
        <span>   </span>
        <span> 2  ${ft}</span>
      </div>
    </div>
    <!--   -->
    ${et.map((St,ut)=>{const vt=ut+3;return`
    <div class="page">
      <div class="header">
        <div class="logo"></div>
        <div class="report-info"> </div>
      </div>
      <table class="detail">
        <thead>
          <tr>
            <th></th>
            <th> </th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th> </th>
            <th> + </th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          ${St.map((Lt,zt)=>{var It;const _t=B(Lt),ar=ut*Ne+zt+1,Tr=_t.netProfit>=0?"#16a34a":"#dc2626";return`
            <tr>
              <td><strong>${ar}</strong></td>
              <td>#${Lt.order_number}</td>
              <td>${Lt.customer_name}</td>
              <td>${Ve(Lt.order_date)}</td>
              <td>${((It=Lt.products)==null?void 0:It.length)||0}</td>
              <td>${(Lt.total_price||0).toFixed(0)}</td>
              <td>${_t.productCostInclTax.toFixed(0)}</td>
              <td>${(_t.shippingWithTax+_t.paymentFee).toFixed(0)}</td>
              <td style="color:${Tr};font-weight:bold;">${_t.netProfit.toFixed(0)}</td>
            </tr>`}).join("")}
          ${ut===et.length-1?`
          <tr class="total-row">
            <td colspan="7" style="text-align:right;padding-right:15px;"><strong> </strong></td>
<td style="color:${O>=0?"#16a34a":"#dc2626"};font-weight:bold;font-size:13pt;">
  <strong>${O.toLocaleString("EN-US",{minimumFractionDigits:0})} .</strong>
</td>
          </tr>`:""}
        </tbody>
      </table>
      <div class="footer">
        <span>    ${at}</span>
        <span> ${vt}  ${ft}</span>
      </div>
    </div>`}).join("")}
  </div>
  <button onclick="window.print()" class="print-btn">  PDF</button>
  <script>
    new Chart(document.getElementById('salesChart'), {
      type: 'line',
      data: {
        labels: ${JSON.stringify(We)},
        datasets: [{
          label: ' ',
          data: ${JSON.stringify(yt)},
          borderColor: '#1e40af',
          backgroundColor: 'rgba(30, 64, 175, 0.1)',
          fill: true,
          tension: 0.4,
          pointRadius: 5
        }]
      },
      options: {
        responsive: true,
        plugins: { legend: { display: false } },
        scales: { y: { beginAtZero: true } }
      }
    });
  <\/script>
</body>
</html>`;we.document.write(lt),we.document.close(),we.focus()};return Fe?x.jsx("div",{className:"p-4",children:x.jsxs("div",{className:"animate-pulse",children:[x.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[...Array(6)].map((we,Oe)=>x.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[x.jsx("div",{className:"h-12 bg-gray-200 rounded mb-4"}),x.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"}),x.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]},Oe))})]})}):Se?x.jsx("div",{className:"p-4",children:x.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:x.jsxs("p",{className:"text-red-800",children:[": ",Se]})})}):x.jsxs("div",{className:"p-3 md:p-4 min-h-screen bg-gray-50",dir:"rtl",children:[x.jsxs("div",{className:"mb-4 md:mb-6 border-b border-gray-200 pb-3 md:pb-4",children:[x.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[x.jsx(aee,{className:"h-6 w-6 md:h-8 md:w-8 text-blue-600"}),x.jsx("h1",{className:"text-lg md:text-2xl font-bold text-gray-900",children:"  "})]}),x.jsx("p",{className:"text-sm md:text-base text-gray-600 mt-1 md:mt-2",children:"     "})]}),x.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 md:p-4 mb-4 md:mb-6 shadow-sm",children:[x.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 md:gap-4 items-start lg:items-center justify-between",children:[x.jsxs("div",{className:"flex flex-wrap gap-1.5 md:gap-2 w-full lg:w-auto flex-grow",children:[["all","today","yesterday","week","month"].map(we=>x.jsx("button",{onClick:()=>{o(we),we!=="custom"&&(u(""),f(""))},className:`px-2 md:px-3 py-1.5 md:py-2 rounded text-xs md:text-sm font-semibold transition-colors border ${s===we?"bg-blue-600 text-white border-blue-600":"bg-white border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50"}`,children:we==="all"?"":we==="today"?"":we==="yesterday"?"":we==="week"?"":""},we)),x.jsx("button",{onClick:()=>o("custom"),className:`px-2 md:px-3 py-1.5 md:py-2 rounded text-xs md:text-sm font-semibold transition-colors border flex items-center gap-1 ${s==="custom"?"bg-blue-600 text-white border-blue-600":"bg-white border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50"}`,children:""})]}),s==="custom"&&x.jsxs("div",{className:"flex items-center gap-2 w-full lg:w-auto",children:[x.jsx("input",{type:"date",value:l,onChange:we=>u(we.target.value),className:"px-2 py-2 border border-gray-300 rounded text-sm flex-1 focus:ring-2 focus:ring-blue-500"}),x.jsx("span",{className:"text-gray-600 font-medium text-sm whitespace-nowrap",children:""}),x.jsx("input",{type:"date",value:c,onChange:we=>f(we.target.value),className:"px-2 py-2 border border-gray-300 rounded text-sm flex-1 focus:ring-2 focus:ring-blue-500"})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full lg:w-auto",children:[x.jsxs("button",{onClick:ge,className:"px-3 md:px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 font-semibold shadow-sm text-xs md:text-sm",children:[x.jsx(Pi,{className:"h-3 w-3 md:h-4 md:w-4"}),x.jsx("span",{className:"hidden sm:inline",children:""})," Excel"]}),x.jsxs("button",{onClick:Be,className:"px-3 md:px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors flex items-center justify-center gap-2 font-semibold shadow-sm text-xs md:text-sm",children:[x.jsx(Pi,{className:"h-3 w-3 md:h-4 md:w-4"}),x.jsx("span",{className:"hidden sm:inline",children:""})," PDF"]}),x.jsx("button",{onClick:De,disabled:F,className:"px-3 md:px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center justify-center gap-2 font-semibold shadow-sm text-xs md:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:F?x.jsxs(x.Fragment,{children:[x.jsx(Jp,{className:"h-3 w-3 md:h-4 md:w-4 animate-spin"})," ..."]}):x.jsxs(x.Fragment,{children:[x.jsx(Pi,{className:"h-3 w-3 md:h-4 md:w-4"}),""]})})]})]}),s==="custom"&&x.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[" : ",l||" ","  ",c||" "]})]}),x.jsxs("div",{ref:N,className:"report-pdf-content",children:[x.jsxs("div",{className:"mb-6",children:[x.jsxs("h2",{className:"text-base md:text-lg font-semibold text-gray-900 mb-3 md:mb-4 flex items-center gap-2",children:[x.jsx(Ji,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-600"})," "]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:[x.jsxs("div",{className:"bg-white border border-blue-100 rounded-lg p-3 md:p-4 shadow-sm",children:[x.jsx(Ji,{className:"h-6 w-6 md:h-8 md:w-8 text-blue-600 mb-2 md:mb-3 mx-auto"}),x.jsx("h3",{className:"text-xl font-bold text-blue-900 text-center",children:L.length}),x.jsx("p",{className:"text-sm text-blue-700 text-center font-medium",children:" "})]}),x.jsxs("div",{className:"bg-white border border-green-100 rounded-lg p-4 shadow-sm",children:[x.jsx(Zi,{className:"h-8 w-8 text-green-600 mb-3 mx-auto"}),x.jsx("h3",{className:"text-xl font-bold text-green-900 text-center",children:W.toLocaleString("en-US",{minimumFractionDigits:2})}),x.jsx("p",{className:"text-sm text-green-700 text-center font-medium",children:"    (.)"})]}),x.jsxs("div",{className:`bg-white border rounded-lg p-4 shadow-sm ${O>=0?"border-green-100":"border-red-100"}`,children:[x.jsx(Is,{className:`h-8 w-8 mb-3 mx-auto ${O>=0?"text-green-600":"text-red-600"}`}),x.jsx("h3",{className:`text-xl font-bold text-center ${O>=0?"text-green-900":"text-red-900"}`,children:O.toLocaleString("en-US",{minimumFractionDigits:2})}),x.jsx("p",{className:`text-sm font-medium text-center ${O>=0?"text-green-700":"text-red-700"}`,children:"  (.)"})]}),x.jsxs("div",{className:"bg-white border border-red-100 rounded-lg p-4 shadow-sm",children:[x.jsx(uee,{className:"h-8 w-8 text-red-600 mb-3 mx-auto"}),x.jsx("h3",{className:"text-xl font-bold text-red-900 text-center",children:Z}),x.jsx("p",{className:"text-sm text-red-700 text-center font-medium",children:" "})]}),x.jsxs("div",{className:"bg-white border border-purple-100 rounded-lg p-4 shadow-sm",children:[x.jsx(Li,{className:"h-8 w-8 text-purple-600 mb-3 mx-auto"}),x.jsx("h3",{className:"text-xl font-bold text-purple-900 text-center",children:re.toLocaleString("en-US",{minimumFractionDigits:2})}),x.jsx("p",{className:"text-sm text-purple-700 text-center font-medium",children:"   (.)"})]}),x.jsxs("div",{className:"bg-white border border-indigo-100 rounded-lg p-4 shadow-sm",children:[x.jsx(Ul,{className:"h-8 w-8 text-indigo-600 mb-3 mx-auto"}),x.jsx("h3",{className:"text-xl font-bold text-indigo-900 text-center",children:de.toLocaleString("en-US",{minimumFractionDigits:2})}),x.jsx("p",{className:"text-sm text-indigo-700 text-center font-medium",children:"    (.)"})]}),x.jsxs("div",{className:"bg-white border border-orange-100 rounded-lg p-4 shadow-sm",children:[x.jsx(sc,{className:"h-8 w-8 text-orange-600 mb-3 mx-auto"}),x.jsx("h3",{className:"text-xl font-bold text-orange-900 text-center",children:ue.toLocaleString("en-US",{minimumFractionDigits:2})}),x.jsx("p",{className:"text-sm text-orange-700 text-center font-medium",children:"   (.)"})]}),x.jsxs("div",{className:"bg-white border border-gray-100 rounded-lg p-4 shadow-sm",children:[x.jsx(tU,{className:"h-8 w-8 text-gray-600 mb-3 mx-auto"}),x.jsx("h3",{className:"text-xl font-bold text-gray-900 text-center",children:j.toLocaleString("en-US",{minimumFractionDigits:2})}),x.jsx("p",{className:"text-sm text-gray-700 text-center font-medium",children:"  (.)"})]}),x.jsxs("div",{className:"bg-white border border-red-100 rounded-lg p-4 shadow-sm",children:[x.jsx(P7,{className:"h-8 w-8 text-red-600 mb-3 mx-auto"}),x.jsx("h3",{className:"text-xl font-bold text-red-900 text-center",children:U.toLocaleString("en-US",{minimumFractionDigits:2})}),x.jsx("p",{className:"text-sm text-red-700 text-center font-medium",children:"  ( ) (.)"})]})]})]}),Z>0&&x.jsxs("div",{className:"bg-white border border-red-100 rounded-lg p-4 mb-6 shadow-sm",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx(iee,{className:"h-6 w-6 text-red-600"}),x.jsx("h3",{className:"text-lg font-semibold text-red-900",children:"  "})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-center",children:[x.jsxs("div",{className:"bg-red-50 rounded-lg p-3 border border-red-200",children:[x.jsx("h4",{className:"text-xl font-bold text-red-700",children:Z}),x.jsx("p",{className:"text-sm text-red-600 mt-1",children:" "})]}),x.jsxs("div",{className:"bg-red-50 rounded-lg p-3 border border-red-200",children:[x.jsxs("h4",{className:"text-xl font-bold text-red-700",children:[te.toLocaleString("en-US",{minimumFractionDigits:2})," ."]}),x.jsx("p",{className:"text-sm text-red-600 mt-1",children:"  "}),x.jsxs("p",{className:"text-xs text-red-500 mt-0",children:["(",ee," )"]})]}),x.jsxs("div",{className:"bg-red-50 rounded-lg p-3 border border-red-200",children:[x.jsxs("h4",{className:"text-xl font-bold text-red-700",children:[le.toLocaleString("en-US",{minimumFractionDigits:2})," ."]}),x.jsx("p",{className:"text-sm text-red-600 mt-1",children:"  "}),x.jsxs("p",{className:"text-xs text-red-500 mt-0",children:["(",ne," )"]})]}),x.jsxs("div",{className:"bg-red-50 rounded-lg p-3 border border-red-200",children:[x.jsxs("h4",{className:"text-xl font-bold text-red-700",children:[ie.toLocaleString("en-US",{minimumFractionDigits:2})," ."]}),x.jsx("p",{className:"text-sm text-red-600 mt-1",children:" "})]})]})]}),x.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[x.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:[x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[x.jsx(Li,{className:"h-5 w-5 text-gray-600"}),"  "]}),x.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"     "})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full min-w-[700px]",children:[x.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-3 py-3 text-right text-sm font-semibold text-gray-700 uppercase tracking-wider",children:" "}),x.jsx("th",{className:"px-3 py-3 text-right text-sm font-semibold text-gray-700 uppercase tracking-wider",children:""}),x.jsx("th",{className:"px-3 py-3 text-right text-sm font-semibold text-gray-700 uppercase tracking-wider",children:""}),x.jsx("th",{className:"px-3 py-3 text-right text-sm font-semibold text-gray-700 uppercase tracking-wider",children:""}),x.jsx("th",{className:"px-3 py-3 text-right text-sm font-semibold text-gray-700 uppercase tracking-wider",children:" ( )"}),x.jsx("th",{className:"px-3 py-3 text-right text-sm font-semibold text-gray-700 uppercase tracking-wider",children:"  ( )"}),x.jsx("th",{className:"px-3 py-3 text-right text-sm font-semibold text-gray-700 uppercase tracking-wider",children:"   "}),x.jsx("th",{className:"px-3 py-3 text-right text-sm font-semibold text-gray-700 uppercase tracking-wider",children:"  "}),x.jsx("th",{className:"px-3 py-3 text-right text-sm font-semibold text-gray-700 uppercase tracking-wider",children:" "}),x.jsx("th",{className:"px-3 py-3 text-right text-sm font-semibold text-gray-700 uppercase tracking-wider",children:""})]})}),x.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map((we,Oe)=>{var We;const{netProfit:at,paymentFee:Ve,productCostInclTax:Qe,shippingDeduction:Ke}=B(we),Ue=we.total_price||0;return x.jsxs("tr",{className:`transition-colors ${Oe%2===0?"bg-gray-50":"bg-white"}`,children:[x.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm font-semibold text-gray-900",children:we.order_number}),x.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-gray-700",children:we.customer_name}),x.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-gray-600",children:new Date(we.order_date).toLocaleDateString("en-GB")}),x.jsxs("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-gray-600",children:[((We=we.products)==null?void 0:We.length)||0," "]}),x.jsxs("td",{className:"px-3 py-3 whitespace-nowrap text-sm font-semibold text-gray-900",children:[Qe.toLocaleString("en-US",{minimumFractionDigits:2})," ."]}),x.jsxs("td",{className:"px-3 py-3 whitespace-nowrap text-sm font-semibold text-red-700",children:[Ve.toLocaleString("en-US",{minimumFractionDigits:2})," ."]}),x.jsxs("td",{className:"px-3 py-3 whitespace-nowrap text-sm font-semibold text-orange-700",children:[Ke.toLocaleString("en-US",{minimumFractionDigits:2})," ."]}),x.jsxs("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-gray-600",children:[Ue.toLocaleString("en-US",{minimumFractionDigits:2})," ."]}),x.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm font-semibold",children:x.jsxs("span",{className:at>=0?"text-green-700":"text-red-700",children:[at.toLocaleString("en-US",{minimumFractionDigits:2})," ."]})}),x.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm",children:x.jsx("button",{onClick:()=>d(we),className:"text-blue-600 hover:text-blue-800 transition-colors p-2 rounded",children:x.jsx(Cf,{className:"h-4 w-4"})})})]},we.id)})})]})}),L.length===0&&x.jsxs("div",{className:"text-center py-8",children:[x.jsx(Ji,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"   "}),x.jsx("p",{className:"text-gray-600",children:"     "})]})]})]})," ",h&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[x.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex justify-between items-center",children:[x.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["  #",h.order_number]}),x.jsx("button",{onClick:()=>d(null),className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:""})]}),x.jsxs("div",{className:"p-4 space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[x.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:x.jsx(Li,{className:"h-6 w-6 text-blue-600"})}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-sm text-blue-600 font-semibold",children:""}),x.jsx("p",{className:"text-lg font-bold text-blue-900",children:h.customer_name}),x.jsx("p",{className:"text-sm text-blue-700",children:h.phone_number})]})]})}),x.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:x.jsx(UC,{className:"h-6 w-6 text-green-600"})}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-sm text-green-600 font-semibold",children:" "}),x.jsx("p",{className:"text-lg font-bold text-green-900",children:new Date(h.order_date).toLocaleDateString("en-GB")})]})]})}),x.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"bg-orange-100 p-3 rounded-lg",children:x.jsx(Vd,{className:"h-6 w-6 text-orange-600"})}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-sm text-orange-600 font-semibold",children:" "}),x.jsx("p",{className:"text-lg font-bold text-orange-900",dir:"ltr",children:(()=>{const we=new Date(h.order_date),Oe=we.getUTCHours(),at=we.getUTCMinutes().toString().padStart(2,"0"),Ve=we.getUTCSeconds().toString().padStart(2,"0"),Qe=Oe>=12?"":"";return`${Oe%12||12}:${at}:${Ve} ${Qe}`})()})]})]})}),x.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:x.jsx(sc,{className:"h-6 w-6 text-purple-600"})}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-sm text-purple-600 font-semibold",children:""}),x.jsx("p",{className:"text-lg font-bold text-purple-900",children:h.shipping_company||" "}),x.jsx("p",{className:"text-sm text-purple-700",children:h.shipping_cost?`${h.shipping_cost} .`:""})]})]})})]}),x.jsx("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"bg-indigo-100 p-3 rounded-lg",children:x.jsx(Ul,{className:"h-6 w-6 text-indigo-600"})}),x.jsxs("div",{className:"text-right flex-1",children:[x.jsx("p",{className:"text-sm text-indigo-600 font-semibold",children:" "}),x.jsx("p",{className:"text-lg font-bold text-indigo-900",children:((Pe=A.find(we=>we.code===h.payment_method))==null?void 0:Pe.name)||" "}),x.jsxs("p",{className:"text-sm text-indigo-700 mt-1",children:[" : ",B(h).paymentFee.toFixed(2)," ."]})]})]})}),x.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[x.jsxs("h4",{className:"text-lg font-semibold mb-3 flex items-center gap-2 text-gray-900",children:[x.jsx(Li,{className:"h-5 w-5 text-gray-600"})," (",((st=h.products)==null?void 0:st.length)||0,")"]}),x.jsx("div",{className:"space-y-3",children:(gt=h.products)==null?void 0:gt.map((we,Oe)=>{const at=we.unit_price||0,Ve=we.subtotal||0,Qe=we.cost_subtotal||0;return x.jsx("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-center",children:[x.jsxs("div",{className:"md:text-right",children:[x.jsx("p",{className:"font-bold text-gray-900 text-sm",children:we.name}),x.jsxs("p",{className:"text-sm text-gray-600",children:[": ",we.quantity]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-600",children:"   "}),x.jsxs("p",{className:"font-semibold text-gray-900 text-sm",children:[at.toLocaleString("EN-US")," ."]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-green-600",children:"   "}),x.jsxs("p",{className:"font-bold text-green-700 text-sm",children:[Ve.toLocaleString("EN-US")," ."]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-red-600",children:"  ( )"}),x.jsxs("p",{className:"font-bold text-red-700 text-sm",children:[Qe.toLocaleString("EN-US")," ."]})]})]})},Oe)})})]}),x.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-200",children:[x.jsxs("h4",{className:"text-lg font-bold text-blue-900 mb-4 text-center flex items-center justify-center gap-2",children:[x.jsx(Zi,{className:"h-5 w-5 text-blue-600"}),"  "]}),(()=>{const{netProfit:we,margin:Oe,shippingBearer:at,productCostInclTax:Ve,shippingWithTax:Qe,paymentFee:Ke}=B(h);h.subtotal_before_tax,h.shipping_cost;const We=Ve+Qe+Ke;return x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[x.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-100",children:[x.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2 justify-center",children:[x.jsx(Is,{className:"h-4 w-4 text-green-600"}),""]}),x.jsx("div",{className:"space-y-3 text-center",children:x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-600",children:"   "}),x.jsxs("p",{className:"text-lg font-bold text-blue-900",children:[(h.total_price||0).toLocaleString("EN-US",{minimumFractionDigits:2})," ."]})]})})]}),x.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-100",children:[x.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2 justify-center",children:[x.jsx(tU,{className:"h-4 w-4 text-red-600"})," "]}),x.jsxs("div",{className:"space-y-2 text-center text-sm",children:[x.jsxs("div",{className:"flex justify-between px-2",children:[x.jsx("span",{className:"text-gray-600",children:" :"}),x.jsxs("span",{className:"font-bold text-red-700",children:[Ke.toLocaleString("EN-US",{minimumFractionDigits:2})," ."]})]}),x.jsxs("div",{className:"flex justify-between px-2",children:[x.jsx("span",{className:"text-gray-600",children:"   :"}),x.jsxs("span",{className:"font-bold text-red-700",children:[Qe.toLocaleString("EN-US",{minimumFractionDigits:2})," ."]})]}),x.jsxs("div",{className:"flex justify-between px-2",children:[x.jsx("span",{className:"text-gray-600",children:" :"}),x.jsxs("span",{className:"font-bold text-red-700",children:[Ve.toLocaleString("EN-US",{minimumFractionDigits:2})," ."]})]}),x.jsxs("div",{className:"flex justify-between px-2 border-t border-gray-200 pt-2 font-bold",children:[x.jsx("span",{children:" :"}),x.jsxs("span",{className:"text-red-900",children:[We.toLocaleString("EN-US",{minimumFractionDigits:2})," ."]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-100",children:[x.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2 justify-center",children:[x.jsx(Is,{className:"h-4 w-4 text-green-600"}),""]}),x.jsxs("div",{className:"space-y-3 text-center",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-600",children:" "}),x.jsxs("p",{className:`text-lg font-bold ${we>=0?"text-green-900":"text-red-900"}`,children:[we.toLocaleString("EN-US",{minimumFractionDigits:2})," ."]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-600",children:" "}),x.jsxs("p",{className:`text-lg font-bold ${Oe>=0?"text-green-900":"text-red-900"}`,children:[Oe.toFixed(1),"%"]})]})]})]})]})})()]})]})]})})]})};function xhe(r,t,e,n,i){n=n||{};var a=1.15,s=i.internal.scaleFactor,o=i.internal.getFontSize()/s,l=i.getLineHeightFactor?i.getLineHeightFactor():a,u=o*l,c=/\r\n|\r|\n/g,f="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof r=="string"?r.split(c):r,h=f.length||1),e+=o*(2-a),n.valign==="middle"?e-=h/2*u:n.valign==="bottom"&&(e-=h*u),n.halign==="center"||n.halign==="right"){var d=o;if(n.halign==="center"&&(d*=.5),f&&h>=1){for(var A=0;A<f.length;A++)i.text(f[A],t-i.getStringUnitWidth(f[A])*d,e),e+=u;return i}t-=i.getStringUnitWidth(r)*d}return n.halign==="justify"?i.text(r,t,e,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(r,t,e),i}var EY={},i1=function(){function r(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return r.setDefaults=function(t,e){e===void 0&&(e=null),e?e.__autoTableDocumentDefaults=t:EY=t},r.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},r.prototype.applyStyles=function(t,e){var n,i,a;e===void 0&&(e=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!e){var c=r.unifyColor(t.fillColor);c&&(n=this.jsPDFDocument).setFillColor.apply(n,c),c=r.unifyColor(t.textColor),c&&(i=this.jsPDFDocument).setTextColor.apply(i,c),c=r.unifyColor(t.lineColor),c&&(a=this.jsPDFDocument).setDrawColor.apply(a,c),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},r.prototype.splitTextToSize=function(t,e,n){return this.jsPDFDocument.splitTextToSize(t,e,n)},r.prototype.rect=function(t,e,n,i,a){return this.jsPDFDocument.rect(t,e,n,i,a)},r.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},r.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},r.prototype.getDocument=function(){return this.jsPDFDocument},r.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},r.prototype.addPage=function(){return this.jsPDFDocument.addPage()},r.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},r.prototype.getGlobalOptions=function(){return EY||{}},r.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},r.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},r.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},r.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},r.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},r.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},r}(),pL=function(r,t){return pL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},pL(r,t)};function bhe(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");pL(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var whe=function(r){bhe(t,r);function t(e){var n=r.call(this)||this;return n._element=e,n}return t}(Array);function yZe(r){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/r,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function xZe(r){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[r]}function wC(r,t,e){e.applyStyles(t,!0);var n=Array.isArray(r)?r:[r],i=n.map(function(a){return e.getTextWidth(a)}).reduce(function(a,s){return Math.max(a,s)},0);return i}function _he(r,t,e,n){var i=t.settings.tableLineWidth,a=t.settings.tableLineColor;r.applyStyles({lineWidth:i,lineColor:a});var s=She(i,!1);s&&r.rect(e.x,e.y,t.getWidth(r.pageSize().width),n.y-e.y,s)}function She(r,t){var e=r>0,n=t||t===0;return e&&n?"DF":e?"S":n?"F":null}function iB(r,t){var e,n,i,a;if(r=r||t,Array.isArray(r)){if(r.length>=4)return{top:r[0],right:r[1],bottom:r[2],left:r[3]};if(r.length===3)return{top:r[0],right:r[1],bottom:r[2],left:r[1]};if(r.length===2)return{top:r[0],right:r[1],bottom:r[0],left:r[1]};r.length===1?r=r[0]:r=t}return typeof r=="object"?(typeof r.vertical=="number"&&(r.top=r.vertical,r.bottom=r.vertical),typeof r.horizontal=="number"&&(r.right=r.horizontal,r.left=r.horizontal),{left:(e=r.left)!==null&&e!==void 0?e:t,top:(n=r.top)!==null&&n!==void 0?n:t,right:(i=r.right)!==null&&i!==void 0?i:t,bottom:(a=r.bottom)!==null&&a!==void 0?a:t}):(typeof r!="number"&&(r=t),{top:r,right:r,bottom:r,left:r})}function Che(r,t){var e=iB(t.settings.margin,0);return r.pageSize().width-(e.left+e.right)}function bZe(r,t,e,n,i){var a={},s=1.3333333333333333,o=ON(t,function(y){return i.getComputedStyle(y).backgroundColor});o!=null&&(a.fillColor=o);var l=ON(t,function(y){return i.getComputedStyle(y).color});l!=null&&(a.textColor=l);var u=_Ze(n,e);u&&(a.cellPadding=u);var c="borderTopColor",f=s*e,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var d=(parseFloat(h)||0)/f;d&&(a.lineWidth=d)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},a.lineWidth.top||(a.lineWidth.right?c="borderRightColor":a.lineWidth.bottom?c="borderBottomColor":a.lineWidth.left&&(c="borderLeftColor"));var A=ON(t,function(y){return i.getComputedStyle(y)[c]});A!=null&&(a.lineColor=A);var p=["left","right","center","justify"];p.indexOf(n.textAlign)!==-1&&(a.halign=n.textAlign),p=["middle","bottom","top"],p.indexOf(n.verticalAlign)!==-1&&(a.valign=n.verticalAlign);var g=parseInt(n.fontSize||"");isNaN(g)||(a.fontSize=g/s);var m=wZe(n);m&&(a.fontStyle=m);var v=(n.fontFamily||"").toLowerCase();return r.indexOf(v)!==-1&&(a.font=v),a}function wZe(r){var t="";return(r.fontWeight==="bold"||r.fontWeight==="bolder"||parseInt(r.fontWeight)>=700)&&(t="bold"),(r.fontStyle==="italic"||r.fontStyle==="oblique")&&(t+="italic"),t}function ON(r,t){var e=Bhe(r,t);if(!e)return null;var n=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=parseInt(n[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function Bhe(r,t){var e=t(r);return e==="rgba(0, 0, 0, 0)"||e==="transparent"||e==="initial"||e==="inherit"?r.parentElement==null?null:Bhe(r.parentElement,t):e}function _Ze(r,t){var e=[r.paddingTop,r.paddingRight,r.paddingBottom,r.paddingLeft],n=96/(72/t),i=(parseInt(r.lineHeight)-parseInt(r.fontSize))/t/2,a=e.map(function(o){return parseInt(o||"0")/n}),s=iB(a,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function The(r,t,e,n,i){var a,s;n===void 0&&(n=!1),i===void 0&&(i=!1);var o;typeof t=="string"?o=e.document.querySelector(t):o=t;var l=Object.keys(r.getFontList()),u=r.scaleFactor(),c=[],f=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:c,body:f,foot:h};for(var d=0;d<o.rows.length;d++){var A=o.rows[d],p=(s=(a=A==null?void 0:A.parentElement)===null||a===void 0?void 0:a.tagName)===null||s===void 0?void 0:s.toLowerCase(),g=SZe(l,u,e,A,n,i);g&&(p==="thead"?c.push(g):p==="tfoot"?h.push(g):f.push(g))}return{head:c,body:f,foot:h}}function SZe(r,t,e,n,i,a){for(var s=new whe(n),o=0;o<n.cells.length;o++){var l=n.cells[o],u=e.getComputedStyle(l);if(i||u.display!=="none"){var c=void 0;a&&(c=bZe(r,l,t,u,e)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:c,_element:l,content:CZe(l)})}}var f=e.getComputedStyle(n);if(s.length>0&&(i||f.display!=="none"))return s}function CZe(r){var t=r.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join(`
`),t.innerText||t.textContent||""}function BZe(r,t,e){for(var n=0,i=[r,t,e];n<i.length;n++){var a=i[n];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Ch(r,t,e,n,i){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(r),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])}return a}function TZe(r,t){var e=new i1(r),n=e.getDocumentOptions(),i=e.getGlobalOptions();BZe(i,n,t);var a=Ch({},i,n,t),s;typeof window<"u"&&(s=window);var o=EZe(i,n,t),l=kZe(i,n,t),u=NZe(e,a),c=IZe(e,a,s);return{id:t.tableId,content:c,hooks:l,styles:o,settings:u}}function EZe(r,t,e){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=r[l],c=t[l],f=e[l];n.columnStyles=Ch({},u,c,f)}else{var h=[r,t,e],d=h.map(function(A){return A[l]||{}});n[l]=Ch({},d[0],d[1],d[2])}},a=0,s=Object.keys(n);a<s.length;a++){var o=s[a];i(o)}return n}function kZe(r,t,e){for(var n=[r,t,e],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,s=n;a<s.length;a++){var o=s[a];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function NZe(r,t){var e,n,i,a,s,o,l,u,c,f,h,d,A=iB(t.margin,40/r.scaleFactor()),p=(e=FZe(r,t.startY))!==null&&e!==void 0?e:A.top,g;t.showFoot===!0?g="everyPage":t.showFoot===!1?g="never":g=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var m;t.showHead===!0?m="everyPage":t.showHead===!1?m="never":m=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var v=(a=t.useCss)!==null&&a!==void 0?a:!1,y=t.theme||(v?"plain":"striped"),b=!!t.horizontalPageBreak,_=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:v,theme:y,startY:p,margin:A,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(c=t.tableWidth)!==null&&c!==void 0?c:"auto",showHead:m,showFoot:g,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:b,horizontalPageBreakRepeat:_,horizontalPageBreakBehaviour:(d=t.horizontalPageBreakBehaviour)!==null&&d!==void 0?d:"afterAllRows"}}function FZe(r,t){var e=r.getLastAutoTable(),n=r.scaleFactor(),i=r.pageNumber(),a=!1;if(e&&e.startPageNumber){var s=e.startPageNumber+e.pageNumber-1;a=s===i}return typeof t=="number"?t:(t==null||t===!1)&&a&&(e==null?void 0:e.finalY)!=null?e.finalY+20/n:null}function IZe(r,t,e){var n=t.head||[],i=t.body||[],a=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(e){var o=The(r,t.html,e,s,t.useCss)||{};n=o.head||n,i=o.body||n,a=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||MZe(n,i,a);return{columns:l,head:n,body:i,foot:a}}function MZe(r,t,e){var n=r[0]||t[0]||e[0]||[],i=[];return Object.keys(n).filter(function(a){return a!=="_element"}).forEach(function(a){var s=1,o;Array.isArray(n)?o=n[parseInt(a)]:o=n[a],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var l=0;l<s;l++){var u=void 0;Array.isArray(n)?u=i.length:u=a+(l>0?"_".concat(l):"");var c={dataKey:u};i.push(c)}}),i}var gL=function(){function r(t,e,n){this.table=e,this.pageNumber=e.pageNumber,this.settings=e.settings,this.cursor=n,this.doc=t.getDocument()}return r}(),LZe=function(r){bhe(t,r);function t(e,n,i,a,s,o){var l=r.call(this,e,n,o)||this;return l.cell=i,l.row=a,l.column=s,l.section=a.section,l}return t}(gL),DZe=function(){function r(t,e){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return r.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,n){return e+n.getMaxCellHeight(t)},0)},r.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,n){return e+n.getMaxCellHeight(t)},0)},r.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},r.prototype.callCellHooks=function(t,e,n,i,a,s){for(var o=0,l=e;o<l.length;o++){var u=l[o],c=new LZe(t,this,n,i,a,s),f=u(c)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},r.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var a=i[n];a(new gL(t,this,e))}},r.prototype.callWillDrawPageHooks=function(t,e){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var a=i[n];a(new gL(t,this,e))}},r.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var e=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return e}else{var n=this.settings.margin;return t-n.left-n.right}},r}(),Ehe=function(){function r(t,e,n,i,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof whe&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=n,this.cells=i,this.spansMultiplePages=a}return r.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(n,i){var a;return Math.max(n,((a=e.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},r.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(n){var i=e.cells[n.index];return i?i.rowSpan>1:!1}).length>0},r.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},r.prototype.getMinimumRowHeight=function(t,e){var n=this;return t.reduce(function(i,a){var s=n.cells[a.index];if(!s)return 0;var o=e.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),u=l+o;return u>i?u:i},0)},r}(),khe=function(){function r(t,e,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=n,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=a!=null?""+a:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return r.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var e=this.height-this.padding("vertical");t=this.y+e/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},r.prototype.getContentHeight=function(t,e){e===void 0&&(e=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*e,a=n*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},r.prototype.padding=function(t){var e=iB(this.styles.cellPadding,0);return t==="vertical"?e.top+e.bottom:t==="horizontal"?e.left+e.right:e[t]},r}(),PZe=function(){function r(t,e,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=n}return r.prototype.getMaxCustomCellWidth=function(t){for(var e=0,n=0,i=t.allRows();n<i.length;n++){var a=i[n],s=a.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(e=Math.max(e,s.styles.cellWidth))}return e},r}();function RZe(r,t){OZe(r,t);var e=[],n=0;t.columns.forEach(function(a){var s=a.getMaxCustomCellWidth(t);s?a.width=s:(a.width=a.wrappedWidth,e.push(a)),n+=a.width});var i=t.getWidth(r.pageSize().width)-n;i&&(i=mL(e,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=mL(e,i,function(a){return a.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/r.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),UZe(t),HZe(t,r),jZe(t)}function OZe(r,t){var e=r.scaleFactor(),n=t.settings.horizontalPageBreak,i=Che(r,t);t.allRows().forEach(function(a){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],u=a.cells[l.index];if(u){var c=t.hooks.didParseCell;t.callCellHooks(r,c,u,a,l,null);var f=u.padding("horizontal");u.contentWidth=wC(u.text,u.styles,r)+f;var h=wC(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,r);if(u.minReadableWidth=h+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var d=10/e;u.minWidth=u.styles.minCellWidth||d,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(a){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],u=a.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var c=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},f=c.cellWidth||c.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function mL(r,t,e){for(var n=t,i=r.reduce(function(d,A){return d+A.wrappedWidth},0),a=0;a<r.length;a++){var s=r[a],o=s.wrappedWidth/i,l=n*o,u=s.width+l,c=e(s),f=u<c?c:u;t-=f-s.width,s.width=f}if(t=Math.round(t*1e10)/1e10,t){var h=r.filter(function(d){return t<0?d.width>e(d):!0});h.length&&(t=mL(h,t,e))}return t}function jZe(r){for(var t={},e=1,n=r.allRows(),i=0;i<n.length;i++)for(var a=n[i],s=0,o=r.columns;s<o.length;s++){var l=o[s],u=t[l.index];if(e>1)e--,delete a.cells[l.index];else if(u)u.cell.height+=a.height,e=u.cell.colSpan,delete a.cells[l.index],u.left--,u.left<=1&&delete t[l.index];else{var c=a.cells[l.index];if(!c)continue;if(c.height=a.height,c.rowSpan>1){var f=n.length-i,h=c.rowSpan>f?f:c.rowSpan;t[l.index]={cell:c,left:h,row:a}}}}}function UZe(r){for(var t=r.allRows(),e=0;e<t.length;e++)for(var n=t[e],i=null,a=0,s=0,o=0;o<r.columns.length;o++){var l=r.columns[o];if(s-=1,s>1&&r.columns[o+1])a+=l.width,delete n.cells[l.index];else if(i){var u=i;delete n.cells[l.index],i=null,u.width=l.width+a}else{var u=n.cells[l.index];if(!u)continue;if(s=u.colSpan,a=0,u.colSpan>1){i=u,a+=l.width;continue}u.width=l.width+a}}}function HZe(r,t){for(var e={count:0,height:0},n=0,i=r.allRows();n<i.length;n++){for(var a=i[n],s=0,o=r.columns;s<o.length;s++){var l=o[s],u=a.cells[l.index];if(u){t.applyStyles(u.styles,!0);var c=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,c+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=kY(u.text,c,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=kY(u.text,c,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var f=u.styles.overflow(u.text,c);typeof f=="string"?u.text=[f]:u.text=f}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=u.contentHeight/u.rowSpan;u.rowSpan>1&&e.count*e.height<h*u.rowSpan?e={height:h,count:u.rowSpan}:e&&e.count>0&&e.height>h&&(h=e.height),h>a.height&&(a.height=h)}}e.count--}}function kY(r,t,e,n,i){return r.map(function(a){return QZe(a,t,e,n,i)})}function QZe(r,t,e,n,i){var a=1e4*n.scaleFactor();if(t=Math.ceil(t*a)/a,t>=wC(r,e,n))return r;for(;t<wC(r+i,e,n)&&!(r.length<=1);)r=r.substring(0,r.length-1);return r.trim()+i}function zZe(r,t){var e=new i1(r),n=VZe(t,e.scaleFactor()),i=new DZe(t,n);return RZe(e,i),e.applyStyles(e.userStyles),i}function VZe(r,t){var e=r.content,n=WZe(e.columns);if(e.head.length===0){var i=NY(n,"head");i&&e.head.push(i)}if(e.foot.length===0){var i=NY(n,"foot");i&&e.foot.push(i)}var a=r.settings.theme,s=r.styles;return{columns:n,head:jN("head",e.head,n,s,a,t),body:jN("body",e.body,n,s,a,t),foot:jN("foot",e.foot,n,s,a,t)}}function jN(r,t,e,n,i,a){var s={},o=t.map(function(l,u){for(var c=0,f={},h=0,d=0,A=0,p=e;A<p.length;A++){var g=p[A];if(s[g.index]==null||s[g.index].left===0)if(d===0){var m=void 0;Array.isArray(l)?m=l[g.index-h-c]:m=l[g.dataKey];var v={};typeof m=="object"&&!Array.isArray(m)&&(v=(m==null?void 0:m.styles)||{});var y=$Ze(r,g,u,i,n,a,v),b=new khe(m,y,r);f[g.dataKey]=b,f[g.index]=b,d=b.colSpan-1,s[g.index]={left:b.rowSpan-1,times:d}}else d--,h++;else s[g.index].left--,d=s[g.index].times,c++}return new Ehe(l,u,r,f)});return o}function NY(r,t){var e={};return r.forEach(function(n){if(n.raw!=null){var i=GZe(t,n.raw);i!=null&&(e[n.dataKey]=i)}}),Object.keys(e).length>0?e:null}function GZe(r,t){if(r==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(r==="foot"&&typeof t=="object")return t.footer;return null}function WZe(r){return r.map(function(t,e){var n,i;return typeof t=="object"?i=(n=t.dataKey)!==null&&n!==void 0?n:e:i=e,new PZe(i,t,e)})}function $Ze(r,t,e,n,i,a,s){var o=xZe(n),l;r==="head"?l=i.headStyles:r==="body"?l=i.bodyStyles:r==="foot"&&(l=i.footStyles);var u=Ch({},o.table,o[r],i.styles,l),c=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},f=r==="body"?c:{},h=r==="body"&&e%2===0?Ch({},o.alternateRow,i.alternateRowStyles):{},d=yZe(a),A=Ch({},d,u,h,f);return Ch(A,s)}function KZe(r,t,e){var n;e===void 0&&(e={});var i=Che(r,t),a=new Map,s=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var d=t.columns.find(function(A){return A.dataKey===h||A.index===h});d&&!a.has(d.index)&&(a.set(d.index,!0),s.push(d.index),o.push(t.columns[d.index]),i-=d.wrappedWidth)});for(var u=!0,c=(n=e==null?void 0:e.start)!==null&&n!==void 0?n:0;c<t.columns.length;){if(a.has(c)){c++;continue}var f=t.columns[c].wrappedWidth;if(u||i>=f)u=!1,s.push(c),o.push(t.columns[c]),i-=f;else break;c++}return{colIndexes:s,columns:o,lastIndex:c-1}}function qZe(r,t){for(var e=[],n=0;n<t.columns.length;n++){var i=KZe(r,t,{start:n});i.columns.length&&(e.push(i),n=i.lastIndex)}return e}function XZe(r,t){var e=t.settings,n=e.startY,i=e.margin,a={x:i.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+i.bottom+s;if(e.pageBreak==="avoid"){var l=t.body,u=l.reduce(function(h,d){return h+d.height},0);o+=u}var c=new i1(r);(e.pageBreak==="always"||e.startY!=null&&o>c.pageSize().height)&&(Fhe(c),a.y=i.top),t.callWillDrawPageHooks(c,a);var f=Ch({},a);t.startPageNumber=c.pageNumber(),e.horizontalPageBreak?YZe(c,t,f,a):(c.applyStyles(c.userStyles),(e.showHead==="firstPage"||e.showHead==="everyPage")&&t.head.forEach(function(h){return Jh(c,t,h,a,t.columns)}),c.applyStyles(c.userStyles),t.body.forEach(function(h,d){var A=d===t.body.length-1;_C(c,t,h,A,f,a,t.columns)}),c.applyStyles(c.userStyles),(e.showFoot==="lastPage"||e.showFoot==="everyPage")&&t.foot.forEach(function(h){return Jh(c,t,h,a,t.columns)})),_he(c,t,f,a),t.callEndPageHooks(c,a),t.finalY=a.y,r.lastAutoTable=t,c.applyStyles(c.userStyles)}function YZe(r,t,e,n){var i=qZe(r,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,c){r.applyStyles(r.userStyles),c>0?ib(r,t,e,n,u.columns,!0):FY(r,t,n,u.columns),ZZe(r,t,e,n,u.columns),UN(r,t,n,u.columns)});else for(var s=-1,o=i[0],l=function(){var u=s;if(o){r.applyStyles(r.userStyles);var c=o.columns;s>=0?ib(r,t,e,n,c,!0):FY(r,t,n,c),u=IY(r,t,s+1,n,c),UN(r,t,n,c)}var f=u-s;i.slice(1).forEach(function(h){r.applyStyles(r.userStyles),ib(r,t,e,n,h.columns,!0),IY(r,t,s+1,n,h.columns,f),UN(r,t,n,h.columns)}),s=u};s<t.body.length-1;)l()}function FY(r,t,e,n){var i=t.settings;r.applyStyles(r.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(a){return Jh(r,t,a,e,n)})}function ZZe(r,t,e,n,i){r.applyStyles(r.userStyles),t.body.forEach(function(a,s){var o=s===t.body.length-1;_C(r,t,a,o,e,n,i)})}function IY(r,t,e,n,i,a){r.applyStyles(r.userStyles),a=a??t.body.length;var s=Math.min(e+a,t.body.length),o=-1;return t.body.slice(e,s).forEach(function(l,u){var c=e+u===t.body.length-1,f=Nhe(r,t,c,n);l.canEntireRowFit(f,i)&&(Jh(r,t,l,n,i),o=e+u)}),o}function UN(r,t,e,n){var i=t.settings;r.applyStyles(r.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(a){return Jh(r,t,a,e,n)})}function JZe(r,t,e){var n=e.getLineHeight(r.styles.fontSize),i=r.padding("vertical"),a=Math.floor((t-i)/n);return Math.max(0,a)}function eJe(r,t,e,n){var i={};r.spansMultiplePages=!0,r.height=0;for(var a=0,s=0,o=e.columns;s<o.length;s++){var l=o[s],u=r.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var c=new khe(u.raw,u.styles,u.section);c=Ch(c,u),c.text=[];var f=JZe(u,t,n);u.text.length>f&&(c.text=u.text.splice(f,u.text.length));var h=n.scaleFactor(),d=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(h,d),u.contentHeight>=t&&(u.contentHeight=t,c.styles.minCellHeight-=t),u.contentHeight>r.height&&(r.height=u.contentHeight),c.contentHeight=c.getContentHeight(h,d),c.contentHeight>a&&(a=c.contentHeight),i[l.index]=c}}var A=new Ehe(r.raw,-1,r.section,i,!0);A.height=a;for(var p=0,g=e.columns;p<g.length;p++){var l=g[p],c=A.cells[l.index];c&&(c.height=A.height);var u=r.cells[l.index];u&&(u.height=r.height)}return A}function tJe(r,t,e,n){var i=r.pageSize().height,a=n.settings.margin,s=a.top+a.bottom,o=i-s;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,r),u=l<e;if(l>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var c=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>o;return f?(c&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(c||n.settings.rowPageBreak==="avoid")}function _C(r,t,e,n,i,a,s){var o=Nhe(r,t,n,a);if(e.canEntireRowFit(o,s))Jh(r,t,e,a,s);else if(tJe(r,e,o,t)){var l=eJe(e,o,t,r);Jh(r,t,e,a,s),ib(r,t,i,a,s),_C(r,t,l,n,i,a,s)}else ib(r,t,i,a,s),_C(r,t,e,n,i,a,s)}function Jh(r,t,e,n,i){n.x=t.settings.margin.left;for(var a=0,s=i;a<s.length;a++){var o=s[a],l=e.cells[o.index];if(!l){n.x+=o.width;continue}r.applyStyles(l.styles),l.x=n.x,l.y=n.y;var u=t.callCellHooks(r,t.hooks.willDrawCell,l,e,o,n);if(u===!1){n.x+=o.width;continue}rJe(r,l,n);var c=l.getTextPos();xhe(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},r.getDocument()),t.callCellHooks(r,t.hooks.didDrawCell,l,e,o,n),n.x+=o.width}n.y+=e.height}function rJe(r,t,e){var n=t.styles;if(r.getDocument().setFillColor(r.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=She(n.lineWidth,n.fillColor);i&&r.rect(t.x,e.y,t.width,t.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&r.rect(t.x,e.y,t.width,t.height,"F"),nJe(r,t,e,n.lineWidth))}function nJe(r,t,e,n){var i,a,s,o;n.top&&(i=e.x,a=e.y,s=e.x+t.width,o=e.y,n.right&&(s+=.5*n.right),n.left&&(i-=.5*n.left),l(n.top,i,a,s,o)),n.bottom&&(i=e.x,a=e.y+t.height,s=e.x+t.width,o=e.y+t.height,n.right&&(s+=.5*n.right),n.left&&(i-=.5*n.left),l(n.bottom,i,a,s,o)),n.left&&(i=e.x,a=e.y,s=e.x,o=e.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,i,a,s,o)),n.right&&(i=e.x+t.width,a=e.y,s=e.x+t.width,o=e.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,i,a,s,o));function l(u,c,f,h,d){r.getDocument().setLineWidth(u),r.getDocument().line(c,f,h,d,"S")}}function Nhe(r,t,e,n){var i=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&e)&&(i+=t.getFootHeight(t.columns)),r.pageSize().height-n.y-i}function ib(r,t,e,n,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),r.applyStyles(r.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(o){return Jh(r,t,o,n,i)}),t.callEndPageHooks(r,n);var s=t.settings.margin;_he(r,t,e,n),Fhe(r),t.pageNumber++,n.x=s.left,n.y=s.top,e.y=s.top,t.callWillDrawPageHooks(r,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return Jh(r,t,o,n,i)}),r.applyStyles(r.userStyles))}function Fhe(r){var t=r.pageNumber();r.setPage(t+1);var e=r.pageNumber();return e===t?(r.addPage(),!0):!1}function iJe(r){r.API.autoTable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],i=TZe(this,n),a=zZe(this,i);return XZe(this,a),this},r.API.lastAutoTable=!1,r.API.autoTableText=function(t,e,n,i){xhe(t,e,n,i,this)},r.API.autoTableSetDefaults=function(t){return i1.setDefaults(t,this),this},r.autoTableSetDefaults=function(t,e){i1.setDefaults(t,e)},r.API.autoTableHtmlToJson=function(t,e){var n;if(e===void 0&&(e=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new i1(this),a=The(i,t,window,e,!1),s=a.head,o=a.body,l=((n=s[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:l,rows:o,data:o}}}var HN;try{if(typeof window<"u"&&window){var MY=window,LY=MY.jsPDF||((HN=MY.jspdf)===null||HN===void 0?void 0:HN.jsPDF);LY&&iJe(LY)}}catch(r){console.error("Could not apply autoTable plugin",r)}const Gi=r=>`${(Math.round(r*100)/100).toLocaleString("en-SA",{minimumFractionDigits:2,maximumFractionDigits:2})} .`,fv=r=>{const t=new Date(r);return new Intl.DateTimeFormat("ar-SA",{calendar:"gregory",day:"2-digit",month:"2-digit",year:"numeric"}).format(t)},aJe=async r=>{const{fileName:t,sheetName:e,title:n,headers:i,data:a,columnWidths:s,summary:o}=r,l=new wc.Workbook,u=l.addWorksheet(e,{properties:{defaultColWidth:20},views:[{rightToLeft:!0}]});let c=1;u.mergeCells(c,1,c,i.length);const f=u.getCell(c,1);f.value=n,f.font={size:16,bold:!0,color:{argb:"FFFFFFFF"}},f.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1E40AF"}},f.alignment={horizontal:"center",vertical:"middle"},c++,u.mergeCells(c,1,c,i.length);const h=u.getCell(c,1);h.value=` : ${fv(new Date().toISOString())}`,h.font={size:12,italic:!0},h.alignment={horizontal:"center"},c++,o&&o.length>0&&(c++,o.forEach(p=>{u.mergeCells(c,1,c,i.length);const g=u.getCell(c,1);g.value=`${p.label}: ${p.value}`,g.font={size:13,bold:!0},g.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF3F4F6"}},g.alignment={horizontal:"center",vertical:"middle"},c++}),c++);const d=u.addRow(i);d.font={bold:!0,color:{argb:"FFFFFFFF"}},d.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2563EB"}},d.eachCell(p=>{p.alignment={horizontal:"center",vertical:"middle"},p.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),a.forEach((p,g)=>{const m=u.addRow(p);m.eachCell(v=>{v.alignment={horizontal:"right",vertical:"middle"},v.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),g%2===0&&(m.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF3F4F6"}})}),s&&s.forEach((p,g)=>{u.getColumn(g+1).width=p});const A=await l.xlsx.writeBuffer();_c.saveAs(new Blob([A]),`${t}_${new Date().toISOString().split("T")[0]}.xlsx`)},sJe=[{id:"expenses",name:"",description:"   ",icon:""},{id:"inventory",name:"",description:"  ",icon:""},{id:"employee_balances",name:" ",description:"   ",icon:""},{id:"payment_methods",name:" ",description:"   ",icon:""},{id:"shipping_companies",name:" ",description:"   ",icon:""},{id:"suppliers",name:" ",description:"  ",icon:""},{id:"cancelled_orders",name:" ",description:"  ",icon:""},{id:"new_orders",name:" ",description:"  ",icon:""},{id:"locked_orders",name:" ",description:"  ",icon:""}],oJe=()=>{const[r,t]=Ce.useState(""),[e,n]=Ce.useState(!1),[i,a]=Ce.useState(!1),[s,o]=Ce.useState(null),[l,u]=Ce.useState(""),[c,f]=Ce.useState(""),h=async g=>{n(!0);try{let m=null;switch(g){case"expenses":const{data:v}=await Ct.from("expenses").select("*").order("date",{ascending:!1});let y=v||[];l&&(y=y.filter(U=>U.date>=l)),c&&(y=y.filter(U=>U.date<=c)),m={title:" ",items:y,columns:["","","",""],dataMapping:U=>[U.description,U.category,Gi(U.amount),fv(U.date)],summary:{total:y.reduce((U,Q)=>U+Q.amount,0),count:y.length}};break;case"inventory":const{data:b}=await Ct.from("inventory").select("*").order("name");m={title:" ",items:b||[],columns:[" ","SKU",""," "," "],dataMapping:U=>[U.name,U.sku||"-",U.quantity.toString(),Gi(U.unit_cost),Gi(U.quantity*U.unit_cost)],summary:{totalValue:(b||[]).reduce((U,Q)=>U+Q.quantity*Q.unit_cost,0),totalItems:(b||[]).reduce((U,Q)=>U+Q.quantity,0),count:(b||[]).length}};break;case"employee_balances":const{data:_}=await Ct.from("user_profiles").select("*").eq("role","user").eq("is_active",!0),{data:T}=await Ct.from("employee_balance_transactions").select("*"),I=new Map;(_||[]).forEach(U=>{I.set(U.id,{user:U,current_balance:0,transactions:[]})}),(T||[]).forEach(U=>{const Q=I.get(U.user_id);Q&&(Q.transactions.push(U),Q.current_balance+=parseFloat(U.amount.toString()))});const N=Array.from(I.values());m={title:"  ",items:N,columns:[" "," "," "," "],dataMapping:U=>[U.user.full_name,U.user.email,Gi(U.current_balance),U.transactions.length.toString()],summary:{totalBalance:N.reduce((U,Q)=>U+Q.current_balance,0),count:N.length}};break;case"payment_methods":case"shipping_companies":const F=g==="payment_methods"?"payment_method":"shipping_company",{data:P}=await Ct.from("orders").select("*").eq("is_locked",!0);let D=P||[];l&&(D=D.filter(U=>U.order_date>=l)),c&&(D=D.filter(U=>U.order_date<=c));const R={};D.forEach(U=>{const Q=g==="payment_methods"?U.payment_method:U.shipping_company;R[Q]||(R[Q]={name:Q,count:0,total:0}),R[Q].count++,R[Q].total+=g==="payment_methods"?U.total_price:U.shipping_cost||0});const E=Object.values(R),L=E.reduce((U,Q)=>U+Q.total,0);m={title:g==="payment_methods"?"  ":"  ",items:E.map(U=>({...U,percentage:L>0?U.total/L*100:0})),columns:[g==="payment_methods"?" ":" ",g==="payment_methods"?" ":" ",g==="payment_methods"?" ":" ",""],dataMapping:U=>[U.name,U.count.toString(),Gi(U.total),`${U.percentage.toFixed(1)}%`],summary:{total:L,count:E.reduce((U,Q)=>U+Q.count,0)}};break;case"suppliers":const{data:k}=await Ct.from("entities").select("*").eq("type",""),{data:w}=await Ct.from("receivables").select("*");m={title:"  ",items:k||[],columns:[" ",""," ",""],dataMapping:U=>{var W,j;const Q=(w||[]).filter(X=>X.entity_id===U.id).reduce((X,z)=>X+z.remaining_amount,0);return[U.name,((W=U.contact_info)==null?void 0:W.phone)||"-",((j=U.contact_info)==null?void 0:j.email)||"-",Gi(Q)]},summary:{totalReceivables:(w||[]).filter(U=>(k||[]).some(Q=>Q.id===U.entity_id)).reduce((U,Q)=>U+Q.remaining_amount,0),count:(k||[]).length},receivables:w};break;case"cancelled_orders":case"new_orders":case"locked_orders":let C=Ct.from("orders").select("*");g==="cancelled_orders"?C=C.eq("status",""):g==="new_orders"?C=C.eq("is_locked",!1):g==="locked_orders"&&(C=C.eq("is_locked",!0));const{data:S}=await C.order("order_date",{ascending:!1});let B=S||[];l&&(B=B.filter(U=>U.order_date>=l)),c&&(B=B.filter(U=>U.order_date<=c));const O=B.reduce((U,Q)=>U+Q.total_price,0),V=B.reduce((U,Q)=>{const W=(Q.products||[]).reduce((j,X)=>j+(X.cost||0)*X.quantity,0);return U+W},0);let M="";g==="cancelled_orders"?M="  ":g==="new_orders"?M="  ":g==="locked_orders"&&(M="  "),m={title:M,items:B,columns:[" ","","",""," "," ","",""],dataMapping:U=>{var Q;return[((Q=U.id)==null?void 0:Q.slice(-8))||"-",U.customer_name,U.phone_number||"-",Gi(U.total_price),U.payment_method||"-",U.shipping_company||"-",U.status,fv(U.order_date)]},summary:{totalSales:O,totalCost:V,profit:O-V,count:B.length}};break;default:Er.error("   ");return}o(m),a(!0)}catch(m){console.error("Error fetching report data:",m),Er.error("    ")}finally{n(!1)}},d=async()=>{if(!r){Er.error("   ");return}await h(r)},A=async()=>{if(s)try{const g=s.items.map(s.dataMapping);let m=[];r==="expenses"?m=[{label:" ",value:Gi(s.summary.total)},{label:" ",value:s.summary.count.toString()}]:r==="inventory"?m=[{label:" ",value:s.summary.count.toString()},{label:" ",value:s.summary.totalItems.toString()},{label:" ",value:Gi(s.summary.totalValue)}]:r==="employee_balances"?m=[{label:" ",value:s.summary.count.toString()},{label:" ",value:Gi(s.summary.totalBalance)}]:r==="payment_methods"||r==="shipping_companies"?m=[{label:r==="payment_methods"?" ":" ",value:s.summary.count.toString()},{label:r==="payment_methods"?" ":" ",value:Gi(s.summary.total)}]:r==="suppliers"?m=[{label:" ",value:s.summary.count.toString()},{label:" ",value:Gi(s.summary.totalReceivables)}]:r.includes("orders")&&(m=[{label:" ",value:s.summary.count.toString()},{label:" ",value:Gi(s.summary.totalSales)},{label:" ",value:Gi(s.summary.totalCost)},{label:" ",value:Gi(s.summary.profit)}]),await aJe({fileName:s.title.replace(/\s/g,"_"),sheetName:s.title,title:s.title,headers:s.columns,data:g,summary:m}),Er.success("  Excel ")}catch(g){Er.error("  Excel"),console.error(g)}},p=async()=>{const g=document.getElementById("report-preview-content");if(g)try{const m=await ad(g,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"}),v=m.toDataURL("image/png"),y=new br("p","mm","a4"),b=y.internal.pageSize.getWidth(),_=y.internal.pageSize.getHeight(),T=b-20,I=m.height*T/m.width;let N=I,F=10;for(y.addImage(v,"PNG",10,F,T,I),N-=_-20;N>0;)F=N-I+10,y.addPage(),y.addImage(v,"PNG",10,F,T,I),N-=_-20;y.save(`${s.title.replace(/\s/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`),Er.success("  PDF ")}catch(m){Er.error("  PDF"),console.error(m)}};return x.jsxs("div",{className:"min-h-screen bg-gray-50 p-3 md:p-6",children:[x.jsx(iw,{position:"top-center",reverseOrder:!1}),x.jsxs("div",{className:"max-w-7xl mx-auto",children:[x.jsxs("div",{className:"mb-6 md:mb-8",children:[x.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2 flex items-center gap-2",children:[x.jsx(Ji,{className:"h-7 w-7 md:h-8 md:w-8 text-blue-600"})," "]}),x.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"      Excel  PDF"})]}),x.jsxs("div",{className:"bg-white rounded-xl md:rounded-2xl shadow-md border border-gray-200 p-4 md:p-6 mb-6",children:[x.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[x.jsx(see,{className:"h-5 w-5 md:h-6 md:w-6 text-blue-600"})," "]}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4 mb-6",children:sJe.map(g=>x.jsx("button",{onClick:()=>t(g.id),className:`p-4 md:p-5 rounded-xl border-2 transition-all duration-200 text-right ${r===g.id?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-blue-300 hover:bg-gray-50"}`,children:x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("span",{className:"text-2xl md:text-3xl",children:g.icon}),x.jsxs("div",{className:"flex-1",children:[x.jsx("h3",{className:"font-bold text-sm md:text-base text-gray-900 mb-1",children:g.name}),x.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:g.description})]}),r===g.id&&x.jsx("div",{className:"h-5 w-5 md:h-6 md:w-6 bg-blue-500 rounded-full flex items-center justify-center",children:x.jsx("svg",{className:"h-3 w-3 md:h-4 md:w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})},g.id))}),r&&!["inventory","employee_balances","suppliers"].includes(r)&&x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[x.jsxs("h3",{className:"font-semibold text-sm md:text-base text-gray-900 mb-3 flex items-center gap-2",children:[x.jsx(UC,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-600"}),"   ()"]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs md:text-sm text-gray-700 mb-1",children:" "}),x.jsx("input",{type:"date",value:l,onChange:g=>u(g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs md:text-sm text-gray-700 mb-1",children:" "}),x.jsx("input",{type:"date",value:c,onChange:g=>f(g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]})]})]}),x.jsx("button",{onClick:d,disabled:!r||e,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 md:py-4 rounded-xl font-bold text-sm md:text-base hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:e?x.jsxs(x.Fragment,{children:[x.jsx(Jp,{className:"h-5 w-5 animate-spin"})," ..."]}):x.jsxs(x.Fragment,{children:[x.jsx(Cf,{className:"h-5 w-5"})," "]})})]})]}),i&&s&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 overflow-y-auto",children:x.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[x.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 md:p-6 flex justify-between items-center z-10",children:[x.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:" "}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("button",{onClick:A,className:"bg-green-600 text-white px-3 md:px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 text-sm md:text-base",children:[x.jsx(K0e,{className:"h-4 w-4"}),x.jsx("span",{className:"hidden sm:inline",children:""})," Excel"]}),x.jsxs("button",{onClick:p,className:"bg-red-600 text-white px-3 md:px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 text-sm md:text-base",children:[x.jsx(Pi,{className:"h-4 w-4"}),x.jsx("span",{className:"hidden sm:inline",children:""})," PDF"]}),x.jsx("button",{onClick:()=>a(!1),className:"bg-gray-200 text-gray-700 p-2 rounded-lg hover:bg-gray-300 transition-colors",children:x.jsx(vi,{className:"h-5 w-5"})})]})]}),x.jsxs("div",{id:"report-preview-content",className:"p-6 md:p-8 bg-white",children:[x.jsxs("div",{className:"text-center mb-6 md:mb-8",children:[x.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-blue-800 mb-2",children:s.title}),x.jsxs("p",{className:"text-sm md:text-base text-gray-600",children:[" : ",fv(new Date().toISOString())]}),l&&c&&x.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[":  ",fv(l),"  ",fv(c)]})]}),x.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-4 md:p-6 mb-6 md:mb-8",children:[x.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-800 mb-4",children:""}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:[r==="expenses"&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"bg-white rounded-lg p-3 md:p-4",children:[x.jsx("p",{className:"text-xs md:text-sm text-gray-600 mb-1",children:" "}),x.jsx("p",{className:"text-lg md:text-2xl font-bold text-blue-600",children:Gi(s.summary.total)})]}),x.jsxs("div",{className:"bg-white rounded-lg p-3 md:p-4",children:[x.jsx("p",{className:"text-xs md:text-sm text-gray-600 mb-1",children:" "}),x.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:s.summary.count})]})]}),r==="inventory"&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"bg-white rounded-lg p-3 md:p-4",children:[x.jsx("p",{className:"text-xs md:text-sm text-gray-600 mb-1",children:" "}),x.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:s.summary.count})]}),x.jsxs("div",{className:"bg-white rounded-lg p-3 md:p-4",children:[x.jsx("p",{className:"text-xs md:text-sm text-gray-600 mb-1",children:" "}),x.jsx("p",{className:"text-lg md:text-2xl font-bold text-blue-600",children:s.summary.totalItems})]}),x.jsxs("div",{className:"bg-white rounded-lg p-3 md:p-4",children:[x.jsx("p",{className:"text-xs md:text-sm text-gray-600 mb-1",children:" "}),x.jsx("p",{className:"text-lg md:text-2xl font-bold text-green-600",children:Gi(s.summary.totalValue)})]})]}),r==="employee_balances"&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"bg-white rounded-lg p-3 md:p-4",children:[x.jsx("p",{className:"text-xs md:text-sm text-gray-600 mb-1",children:" "}),x.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:s.summary.count})]}),x.jsxs("div",{className:"bg-white rounded-lg p-3 md:p-4",children:[x.jsx("p",{className:"text-xs md:text-sm text-gray-600 mb-1",children:" "}),x.jsx("p",{className:"text-lg md:text-2xl font-bold text-amber-600",children:Gi(s.summary.totalBalance)})]})]}),(r==="payment_methods"||r==="shipping_companies")&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"bg-white rounded-lg p-3 md:p-4",children:[x.jsx("p",{className:"text-xs md:text-sm text-gray-600 mb-1",children:r==="payment_methods"?" ":" "}),x.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:s.summary.count})]}),x.jsxs("div",{className:"bg-white rounded-lg p-3 md:p-4",children:[x.jsx("p",{className:"text-xs md:text-sm text-gray-600 mb-1",children:r==="payment_methods"?" ":" "}),x.jsx("p",{className:"text-lg md:text-2xl font-bold text-blue-600",children:Gi(s.summary.total)})]})]}),r==="suppliers"&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"bg-white rounded-lg p-3 md:p-4",children:[x.jsx("p",{className:"text-xs md:text-sm text-gray-600 mb-1",children:" "}),x.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:s.summary.count})]}),x.jsxs("div",{className:"bg-white rounded-lg p-3 md:p-4",children:[x.jsx("p",{className:"text-xs md:text-sm text-gray-600 mb-1",children:" "}),x.jsx("p",{className:"text-lg md:text-2xl font-bold text-red-600",children:Gi(s.summary.totalReceivables)})]})]}),r.includes("orders")&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"bg-white rounded-lg p-3 md:p-4",children:[x.jsx("p",{className:"text-xs md:text-sm text-gray-600 mb-1",children:" "}),x.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:s.summary.count})]}),x.jsxs("div",{className:"bg-white rounded-lg p-3 md:p-4",children:[x.jsx("p",{className:"text-xs md:text-sm text-gray-600 mb-1",children:" "}),x.jsx("p",{className:"text-lg md:text-2xl font-bold text-blue-600",children:Gi(s.summary.totalSales)})]}),x.jsxs("div",{className:"bg-white rounded-lg p-3 md:p-4",children:[x.jsx("p",{className:"text-xs md:text-sm text-gray-600 mb-1",children:" "}),x.jsx("p",{className:"text-lg md:text-2xl font-bold text-green-600",children:Gi(s.summary.profit)})]})]})]})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full border-collapse",children:[x.jsx("thead",{children:x.jsx("tr",{className:"bg-blue-600 text-white",children:s.columns.map((g,m)=>x.jsx("th",{className:"border border-gray-300 px-3 md:px-4 py-2 md:py-3 text-right text-xs md:text-sm font-bold",children:g},m))})}),x.jsx("tbody",{children:s.items.map((g,m)=>x.jsx("tr",{className:m%2===0?"bg-gray-50":"bg-white",children:s.dataMapping(g).map((v,y)=>x.jsx("td",{className:"border border-gray-300 px-3 md:px-4 py-2 md:py-3 text-xs md:text-sm text-gray-900",children:v},y))},m))})]})})]})]})})]})},lJe=()=>{const{entities:r,receivables:t,loading:e,addEntity:n,updateEntity:i,deleteEntity:a,addPayment:s,refresh:o}=hR(),[l,u]=Ce.useState(""),[c,f]=Ce.useState(null),[h,d]=Ce.useState(!1),[A,p]=Ce.useState(""),[g,m]=Ce.useState(""),[v,y]=Ce.useState(!1),[b,_]=Ce.useState(!1),[T,I]=Ce.useState(""),[N,F]=Ce.useState(""),[P,D]=Ce.useState(""),[R,E]=Ce.useState(""),[L,k]=Ce.useState(!1),[w,C]=Ce.useState(!1),[S,B]=Ce.useState([]),[O,V]=Ce.useState(!1),[M,U]=Ce.useState([]),[Q,W]=Ce.useState(0),[j,X]=Ce.useState(!0),[z,H]=Ce.useState(!1),[K,Z]=Ce.useState({id:"",description:"",amount:"",dueDate:new Date().toISOString().split("T")[0]}),[ie,ee]=Ce.useState(!1),ne=Wa.getCurrentUser(),te=(ne==null?void 0:ne.role)==="admin",le=t.filter(Ne=>r.some(et=>et.id===Ne.entity_id&&et.type==="")).reduce((Ne,et)=>Ne+et.remaining_amount,0),re=Ne=>`${(Math.round(Ne*100)/100).toLocaleString("en-SA",{minimumFractionDigits:2,maximumFractionDigits:2})} .`,de=Ne=>Ne.replace(/[-]/g,et=>"".indexOf(et).toString()).replace(/[^0-9.]/g,""),ue=Ne=>{const et=new Date(Ne);return new Intl.DateTimeFormat("ar-SA",{calendar:"gregory",day:"2-digit",month:"2-digit",year:"numeric"}).format(et)},Fe=async()=>{if(c)try{const et=t.filter(St=>St.entity_id===c.id).map(St=>St.id);if(et.length===0){B([]);return}const{data:ft,error:lt}=await Ct.from("payments").select(`
          id,
          receivable_id,
          amount,
          receipt_number,
          payment_date,
          notes,
          created_by,
          created_by_user:user_profiles!payments_created_by_fkey(full_name, email)
        `).in("receivable_id",et).order("payment_date",{ascending:!1});if(lt)throw lt;B(ft||[])}catch(Ne){console.error("Error fetching payment history:",Ne),Er.error("   ")}},Se=async()=>{if(ne)try{const{data:Ne,error:et}=await Ct.from("employee_balance_transactions").select(`
          *,
          created_by_user:user_profiles!employee_balance_transactions_created_by_fkey(full_name)
        `).eq("user_id",ne.id).order("transaction_date",{ascending:!1});if(et)throw et;U(Ne||[])}catch(Ne){console.error("Error fetching employee transactions:",Ne),Er.error("   ")}},De=async()=>{if(!c)return;const Ne=new wc.Workbook,et=Ne.addWorksheet(` ${c.name}`,{pageSetup:{paperSize:9,orientation:"portrait"},properties:{defaultColWidth:20},views:[{rightToLeft:!0}]});et.mergeCells("A1:D1");const ft=et.getCell("A1");ft.value=` : ${c.name}`,ft.font={size:16,bold:!0,color:{argb:"FFFFFFFF"}},ft.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1E40AF"}},ft.alignment={horizontal:"center",vertical:"middle"},et.mergeCells("A2:D2");const lt=et.getCell("A2");lt.value=` : ${ue(new Date().toISOString())}`,lt.font={size:12,italic:!0},lt.alignment={horizontal:"center"},et.mergeCells("A3:D3");const St=et.getCell("A3");St.value=` : ${re(gt)}`,St.font={size:14,bold:!0},St.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFEF4444"}},St.alignment={horizontal:"center",vertical:"middle"};const ut=et.addRow([""," "," ",""]);if(ut.font={bold:!0,color:{argb:"FFFFFFFF"}},ut.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2563EB"}},ut.eachCell(zt=>{zt.alignment={horizontal:"center",vertical:"middle"},zt.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),st.forEach((zt,_t)=>{const ar=et.addRow([zt.description,ue(zt.due_date),zt.total_amount.toFixed(2),zt.remaining_amount.toFixed(2)]);ar.eachCell((Tr,It)=>{Tr.alignment={horizontal:"right",vertical:"middle"},It>=3&&(Tr.numFmt="#,##0.00"),Tr.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),_t%2===0&&(ar.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF3F4F6"}})}),S.length>0){et.addRow([]),et.mergeCells(`A${et.rowCount+1}:D${et.rowCount+1}`);const zt=et.getCell(`A${et.rowCount}`);zt.value=" ",zt.font={size:14,bold:!0,color:{argb:"FFFFFFFF"}},zt.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF10B981"}},zt.alignment={horizontal:"center",vertical:"middle"};const _t=et.addRow(["",""," ",""]);_t.font={bold:!0,color:{argb:"FFFFFFFF"}},_t.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF059669"}},_t.eachCell(ar=>{ar.alignment={horizontal:"center",vertical:"middle"},ar.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),S.forEach((ar,Tr)=>{var Ir,_r;const It=et.addRow([ue(ar.payment_date),parseFloat(ar.amount).toFixed(2),ar.receipt_number,((Ir=ar.created_by_user)==null?void 0:Ir.full_name)||((_r=ar.created_by_user)==null?void 0:_r.email)||ar.notes&&ar.notes.split(" - ")[1]||" "]);It.eachCell((tr,je)=>{tr.alignment={horizontal:"right",vertical:"middle"},je===2&&(tr.numFmt="#,##0.00"),tr.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),Tr%2===0&&(It.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF0FDF4"}})})}const vt=await Ne.xlsx.writeBuffer(),Lt=`_${c.name}_${new Date().toISOString().split("T")[0]}.xlsx`;_c.saveAs(new Blob([vt]),Lt),Er.success("   ")},ge=async()=>{const Ne=document.getElementById("supplier-preview-content");if(Ne)try{const et=await ad(Ne,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"}),ft=et.toDataURL("image/png"),lt=new br("p","mm","a4"),St=lt.internal.pageSize.getWidth(),ut=lt.internal.pageSize.getHeight(),vt=St-20,Lt=et.height*vt/et.width;let zt=Lt,_t=10;for(lt.addImage(ft,"PNG",10,_t,vt,Lt),zt-=ut-20;zt>0;)_t=zt-Lt+10,lt.addPage(),lt.addImage(ft,"PNG",10,_t,vt,Lt),zt-=ut-20;const ar=`_${c.name}_${new Date().toISOString().split("T")[0]}.pdf`;lt.save(ar),Er.success("   ")}catch(et){console.error("Error generating PDF:",et),Er.error("     PDF")}};Ce.useEffect(()=>{!te&&ne?(async()=>{try{const{data:et,error:ft}=await Ct.from("employee_balance_transactions").select("amount").eq("user_id",ne.id);if(ft)throw ft;const lt=(et==null?void 0:et.reduce((St,ut)=>St+Number(ut.amount),0))||0;W(lt)}catch(et){console.error("  :",et),W(0)}finally{X(!1)}})():X(!1)},[ne,te]);const Be=r.filter(Ne=>Ne.type==="").filter(Ne=>{var et;return(et=Ne.name)==null?void 0:et.toLowerCase().includes(l.toLowerCase())}),Pe=Ne=>Ne.contact_info||{},st=c?t.filter(Ne=>Ne.entity_id===c.id&&Ne.remaining_amount>0).sort((Ne,et)=>new Date(Ne.due_date).getTime()-new Date(et.due_date).getTime()):[],gt=st.reduce((Ne,et)=>Ne+et.remaining_amount,0),we=()=>{_(!1),I(""),F(""),D(""),E(""),y(!0)},Oe=()=>{if(!c)return;const Ne=Pe(c);_(!0),I(c.name||""),F(Ne.address||""),D(Ne.phone||""),E(Ne.email||""),y(!0)},at=async()=>{if(!T.trim())return alert("  ");if(!N.trim())return alert(" ");const Ne={address:N.trim(),phone:P.trim()||void 0,email:R.trim()||void 0};try{b&&c?(await i(c.id,{name:T.trim(),contact_info:Ne}),f({...c,name:T.trim(),contact_info:Ne})):await n({name:T.trim(),type:"",contact_info:Ne}),y(!1),o(),alert("  ")}catch(et){alert(" : "+et.message)}},Ve=async()=>{if(!te)return alert("  ");if(confirm(` "${c.name}" `))try{await a(c.id),f(null),alert(" ")}catch{alert(" ")}},Qe=()=>{ee(!1),Z({id:"",description:"",amount:"",dueDate:new Date().toISOString().split("T")[0]}),H(!0)},Ke=Ne=>{ee(!0),Z({id:Ne.id,description:Ne.description,amount:Ne.total_amount.toString(),dueDate:Ne.due_date.split("T")[0]}),H(!0)},Ue=async()=>{if(!te)return alert("  ");if(!K.description||!K.amount)return alert("  ");const Ne=parseFloat(de(K.amount));if(isNaN(Ne)||Ne<=0)return alert("  ");try{if(ie){const et=t.find(ut=>ut.id===K.id);if(!et)return;const ft=Ne-et.total_amount,lt=et.remaining_amount+ft;if(lt<0)return alert("       ");const{error:St}=await Ct.from("receivables").update({description:K.description,total_amount:Ne,remaining_amount:lt,due_date:K.dueDate}).eq("id",K.id);if(St)throw St}else{const{error:et}=await Ct.from("receivables").insert({entity_id:c.id,description:K.description,total_amount:Ne,remaining_amount:Ne,due_date:K.dueDate,purchase_date:new Date().toISOString().split("T")[0]});if(et)throw et}H(!1),o(),alert("  ")}catch(et){alert(" : "+et.message)}},We=async Ne=>{if(!te)return alert("  ");if(confirm("      "))try{const{error:et}=await Ct.from("receivables").delete().eq("id",Ne);if(et)throw et;o(),alert("  ")}catch(et){alert(" : "+et.message)}},yt=async()=>{const Ne=parseFloat(de(A));if(isNaN(Ne)||Ne<=0)return alert("  ");if(Ne>gt)return alert("   ");if(!te){if(j)return alert("  ...");if(Q<Ne)return alert(`  !
: ${re(Q)}
: ${re(Ne)}`)}let et=Ne;try{for(const ft of st){if(et<=0)break;const lt=Math.min(ft.remaining_amount,et),{error:St}=await Ct.from("payments").insert({receivable_id:ft.id,amount:lt,receipt_number:g===""?" ":"",payment_date:new Date().toISOString().split("T")[0],notes:` : ${c.name} - ${(ne==null?void 0:ne.full_name)||""}`,created_by:ne==null?void 0:ne.id});if(St)throw St;const ut=ft.remaining_amount-lt,{error:vt}=await Ct.from("receivables").update({remaining_amount:ut>0?ut:0}).eq("id",ft.id);if(vt)throw vt;et-=lt}if(!te&&ne){const{error:ft}=await Ct.from("employee_balance_transactions").insert({user_id:ne.id,amount:-Ne,type:"debit",reason:` : ${c.name} - ${g}`,transaction_date:new Date().toISOString().split("T")[0],created_by:ne.id});if(ft)throw ft;W(lt=>lt-Ne)}d(!1),p(""),alert(`  : ${re(Ne)}`),o()}catch(ft){console.error(ft),alert(" : "+(ft.message||""))}};return e||j?x.jsx("div",{className:"flex items-center justify-center min-h-screen",children:x.jsx("div",{className:"text-xl text-gray-500",children:" ..."})}):x.jsx(x.Fragment,{children:x.jsxs("div",{className:"min-h-screen bg-gray-50",children:[x.jsx("div",{className:"bg-white shadow-sm border-b",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-3 md:px-4 py-3 md:py-4 flex items-center justify-between",children:[x.jsx("h1",{className:"text-lg md:text-xl font-bold text-gray-800",children:" "}),x.jsxs("button",{onClick:we,className:"bg-indigo-600 text-white px-3 md:px-5 py-2 md:py-2.5 rounded-lg flex items-center gap-2 text-sm md:text-base font-medium hover:bg-indigo-700 transition",children:[x.jsx(ao,{className:"h-4 w-4 md:h-5 md:w-5"})," ",x.jsx("span",{className:"hidden sm:inline",children:" "}),x.jsx("span",{className:"sm:hidden",children:""})]})]})}),x.jsx("div",{className:"max-w-7xl mx-auto px-3 md:px-4 py-4 md:py-6",children:x.jsx("div",{className:"bg-white border border-gray-200 rounded-lg md:rounded-xl p-4 md:p-6 shadow-sm",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"bg-red-100 text-red-600 p-2 md:p-3 rounded-lg ml-2 md:ml-4",children:x.jsx(Zi,{className:"h-5 w-5 md:h-6 md:w-6"})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-600 text-xs md:text-sm",children:" "}),x.jsx("h3",{className:"text-lg md:text-2xl font-bold text-red-600",children:re(le)})]})]}),x.jsx(Is,{className:"h-4 w-4 md:h-5 md:w-5 text-red-500"})]})})}),!te&&x.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-600 text-white py-3 md:py-4 shadow-lg",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-3 md:px-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[x.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[x.jsx(eg,{className:"h-8 w-8 md:h-10 md:w-10"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm md:text-lg opacity-90",children:" "}),x.jsx("p",{className:"text-xl md:text-3xl font-bold",children:re(Q)})]})]}),x.jsxs("button",{onClick:()=>{Se(),V(!0)},className:"bg-white text-amber-600 px-4 md:px-6 py-2 md:py-3 rounded-lg md:rounded-xl hover:bg-amber-50 transition-colors flex items-center gap-2 font-bold shadow-lg text-sm md:text-base w-full sm:w-auto justify-center",children:[x.jsx(Ji,{className:"h-4 w-4 md:h-5 md:w-5"})," "]})]})}),x.jsx("div",{className:"max-w-7xl mx-auto p-3 md:p-6",children:c?x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsxs("button",{onClick:()=>f(null),className:"flex items-center gap-2 text-indigo-600 hover:bg-indigo-50 px-4 py-2 rounded-lg font-medium",children:[x.jsx(pD,{className:"h-5 w-5"})," "]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:()=>{Fe(),C(!0)},className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:[x.jsx(Vd,{className:"h-4 w-4"})," "]}),x.jsxs("button",{onClick:async()=>{await Fe(),k(!0)},className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:[x.jsx(Cf,{className:"h-4 w-4"}),""]}),x.jsxs("button",{onClick:async()=>{await Fe(),De()},className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[x.jsx(Pi,{className:"h-4 w-4"}),"Excel"]}),te&&x.jsxs(x.Fragment,{children:[x.jsxs("button",{onClick:Oe,className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[x.jsx(eU,{className:"h-4 w-4"})," "]}),x.jsxs("button",{onClick:Ve,className:"bg-red-600 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[x.jsx(No,{className:"h-4 w-4"})," "]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("div",{className:"inline-flex p-5 bg-indigo-100 rounded-full mb-4",children:x.jsx(Xj,{className:"h-12 w-12 text-indigo-600"})}),x.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:c.name}),x.jsxs("div",{className:"mt-4 space-y-2 text-gray-600",children:[Pe(c).address&&x.jsxs("p",{className:"flex items-center justify-center gap-2",children:[x.jsx(epe,{className:"h-5 w-5"})," ",Pe(c).address]}),Pe(c).phone&&x.jsxs("p",{className:"flex items-center justify-center gap-2",dir:"ltr",children:[x.jsx(lee,{className:"h-5 w-5"})," ",Pe(c).phone]}),Pe(c).email&&x.jsxs("p",{className:"flex items-center justify-center gap-2",children:[x.jsx(oee,{className:"h-5 w-5"})," ",Pe(c).email]})]})]}),!te&&x.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-amber-50 to-orange-100 border-2 border-amber-400 rounded-2xl text-center",children:[x.jsx("p",{className:"text-amber-800 font-bold text-lg mb-2",children:"  "}),x.jsx("p",{className:"text-4xl font-extrabold text-amber-900",children:re(Q)})]}),x.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-rose-600 rounded-2xl p-8 text-white text-center mb-8",children:[x.jsx("p",{className:"text-xl mb-2 opacity-90",children:" "}),x.jsx("p",{className:"text-5xl font-bold",children:re(gt)}),gt>0&&x.jsxs("button",{onClick:()=>{d(!0),p(gt.toFixed(2))},className:"mt-6 bg-white text-red-600 px-10 py-4 rounded-xl text-xl font-bold hover:scale-105 transition",children:[x.jsx(Zi,{className:"h-8 w-8 inline-block -mt-1"}),"  "]}),te&&x.jsxs("button",{onClick:Qe,className:"mt-6 mr-4 bg-white/20 text-white px-6 py-4 rounded-xl text-lg font-bold hover:bg-white/30 transition",children:[x.jsx(ao,{className:"h-6 w-6 inline-block -mt-1"}),"  "]})]}),st.length>0&&x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:" "}),x.jsx("div",{className:"space-y-3",children:st.map(Ne=>x.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex justify-between items-center group",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-medium",children:Ne.description}),x.jsx("p",{className:"text-sm text-gray-500",children:new Date(Ne.due_date).toLocaleDateString("EN-US")})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("p",{className:"text-xl font-bold text-red-600",children:re(Ne.remaining_amount)}),te&&x.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[x.jsx("button",{onClick:()=>Ke(Ne),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg",title:"",children:x.jsx(eU,{className:"h-4 w-4"})}),x.jsx("button",{onClick:()=>We(Ne.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg",title:"",children:x.jsx(No,{className:"h-4 w-4"})})]})]})]},Ne.id))})]})]})]}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"mb-4 md:mb-6",children:x.jsxs("div",{className:"relative max-w-md",children:[x.jsx(u0,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 h-4 w-4 md:h-5 md:w-5"}),x.jsx("input",{type:"text",placeholder:"  ...",value:l,onChange:Ne=>u(Ne.target.value),className:"w-full pr-10 pl-3 md:pl-4 py-2 md:py-3 bg-white border rounded-lg md:rounded-xl text-sm md:text-base focus:ring-2 focus:ring-indigo-300"})]})}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-5",children:Be.map(Ne=>{const et=t.filter(lt=>lt.entity_id===Ne.id&&lt.remaining_amount>0).reduce((lt,St)=>lt+St.remaining_amount,0),ft=Pe(Ne);return x.jsxs("div",{onClick:()=>f(Ne),className:"bg-white rounded-xl md:rounded-2xl p-4 md:p-5 shadow hover:shadow-lg cursor-pointer transition border",children:[x.jsxs("div",{className:"flex justify-between items-start mb-2 md:mb-3",children:[x.jsx(Xj,{className:"h-7 w-7 md:h-9 md:w-9 text-indigo-600"}),x.jsx("span",{className:"text-xs bg-indigo-100 text-indigo-700 px-2 md:px-3 py-1 rounded-full",children:""})]}),x.jsx("h3",{className:"font-bold text-base md:text-lg mb-1 md:mb-2",children:Ne.name}),ft.address&&x.jsx("p",{className:"text-xs md:text-sm text-gray-600 truncate mb-1",children:ft.address}),x.jsx("div",{className:"mt-3 md:mt-4 pt-2 md:pt-3 border-t",children:et>0?x.jsx("p",{className:"text-lg md:text-xl font-bold text-red-600 text-right",children:re(et)}):x.jsx("p",{className:"text-green-600 font-medium",children:" "})})]},Ne.id)})})]})}),h&&x.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-8",children:[x.jsx("h2",{className:"text-3xl font-bold text-center mb-4",children:" "}),x.jsx("p",{className:"text-center text-gray-600 text-lg mb-6",children:c==null?void 0:c.name}),!te&&x.jsxs("div",{className:"bg-amber-50 border-2 border-amber-400 rounded-xl p-5 text-center mb-6",children:[x.jsx("p",{className:"text-amber-800 font-bold text-lg",children:" "}),x.jsx("p",{className:"text-4xl font-extrabold text-amber-900",children:re(Q)})]}),x.jsxs("div",{className:"bg-red-50 rounded-xl p-6 text-center mb-6",children:[x.jsx("p",{className:"text-5xl font-bold text-red-600",children:re(gt)}),x.jsx("p",{className:"text-gray-600 mt-2",children:" "})]}),x.jsx("input",{type:"text",inputMode:"numeric",value:A,onChange:Ne=>p(de(Ne.target.value)),className:"w-full text-center text-4xl font-bold py-4 border-2 rounded-xl mb-6 focus:border-indigo-500",placeholder:"0.00"}),x.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:["",""].map(Ne=>x.jsx("button",{onClick:()=>m(Ne),className:`py-4 rounded-xl font-bold text-lg transition ${g===Ne?"bg-indigo-600 text-white":"bg-gray-100"}`,children:Ne},Ne))}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx("button",{onClick:yt,className:"flex-1 bg-emerald-600 text-white py-4 rounded-xl font-bold text-xl hover:bg-emerald-700 transition",children:" "}),x.jsx("button",{onClick:()=>{d(!1),p("")},className:"flex-1 bg-gray-200 py-4 rounded-xl font-bold text-lg",children:""})]})]})}),v&&x.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8",children:[x.jsx("h3",{className:"text-2xl font-bold text-center mb-6",children:b?" ":"  "}),x.jsx("input",{type:"text",placeholder:"  *",value:T,onChange:Ne=>I(Ne.target.value),className:"w-full px-4 py-3 border rounded-xl mb-4 focus:border-indigo-500",autoFocus:!0}),x.jsx("input",{type:"text",placeholder:" *",value:N,onChange:Ne=>F(Ne.target.value),className:"w-full px-4 py-3 border rounded-xl mb-4"}),x.jsx("input",{type:"tel",placeholder:" ",value:P,onChange:Ne=>D(Ne.target.value),className:"w-full px-4 py-3 border rounded-xl mb-4",dir:"ltr"}),x.jsx("input",{type:"email",placeholder:" ",value:R,onChange:Ne=>E(Ne.target.value),className:"w-full px-4 py-3 border rounded-xl mb-6",dir:"ltr"}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:at,className:"flex-1 bg-indigo-600 text-white py-3 rounded-xl font-bold hover:bg-indigo-700 transition",children:""}),x.jsx("button",{onClick:()=>y(!1),className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-xl font-bold hover:bg-gray-200 transition",children:""})]})]})}),z&&te&&x.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8",children:[x.jsx("h3",{className:"text-2xl font-bold text-center mb-6",children:ie?" ":"  "}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),x.jsx("input",{type:"text",value:K.description,onChange:Ne=>Z({...K,description:Ne.target.value}),className:"w-full px-4 py-3 border rounded-xl focus:border-indigo-500",placeholder:":   123"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),x.jsx("input",{type:"text",value:K.amount,onChange:Ne=>Z({...K,amount:de(Ne.target.value)}),className:"w-full px-4 py-3 border rounded-xl focus:border-indigo-500",placeholder:"0.00"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),x.jsx("input",{type:"date",value:K.dueDate,onChange:Ne=>Z({...K,dueDate:Ne.target.value}),className:"w-full px-4 py-3 border rounded-xl focus:border-indigo-500"})]}),x.jsxs("div",{className:"flex gap-3 mt-6",children:[x.jsx("button",{onClick:Ue,className:"flex-1 bg-indigo-600 text-white py-3 rounded-xl font-bold hover:bg-indigo-700 transition",children:""}),x.jsx("button",{onClick:()=>H(!1),className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-xl font-bold hover:bg-gray-200 transition",children:""})]})]})]})}),L&&c&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[95vh] overflow-y-auto shadow-2xl",children:[x.jsxs("div",{className:"sticky top-0 bg-white border-b px-8 py-5 flex justify-between items-center z-10 rounded-t-2xl",children:[x.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-3",children:[x.jsx(Ji,{className:"h-7 w-7 text-indigo-600"}),"  "]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:async()=>{await Fe(),ge()},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2 space-x-reverse",children:[x.jsx(Pi,{className:"h-4 w-4"}),x.jsx("span",{children:"PDF"})]}),x.jsxs("button",{onClick:async()=>{await Fe(),De()},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2 space-x-reverse",children:[x.jsx(Pi,{className:"h-4 w-4"}),x.jsx("span",{children:"Excel"})]}),x.jsx("button",{onClick:()=>k(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:x.jsx("span",{className:"text-2xl",children:""})})]})]}),x.jsx("div",{className:"p-8",children:x.jsxs("div",{id:"supplier-preview-content",className:"bg-white",dir:"rtl",children:[x.jsxs("div",{className:"text-center mb-8 border-b pb-6",children:[x.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[" : ",c.name]}),x.jsxs("p",{className:"text-gray-600",children:[" : ",ue(new Date().toISOString())]})]}),x.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-8 text-center",children:[x.jsx("p",{className:"text-lg text-gray-700 mb-2",children:" "}),x.jsx("p",{className:"text-4xl font-bold text-red-600",children:re(gt)})]}),x.jsxs("table",{className:"w-full border-collapse mb-8",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"bg-indigo-600 text-white",children:[x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:""}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:" "}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:" "}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:""})]})}),x.jsx("tbody",{children:st.map((Ne,et)=>x.jsxs("tr",{className:et%2===0?"bg-gray-50":"bg-white",children:[x.jsx("td",{className:"border border-gray-300 px-4 py-3",children:Ne.description}),x.jsx("td",{className:"border border-gray-300 px-4 py-3",children:ue(Ne.due_date)}),x.jsx("td",{className:"border border-gray-300 px-4 py-3 text-right font-medium",children:re(Ne.total_amount)}),x.jsx("td",{className:"border border-gray-300 px-4 py-3 text-right font-bold text-red-600",children:re(Ne.remaining_amount)})]},Ne.id))})]}),S.length>0&&x.jsxs("div",{className:"mt-8",children:[x.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4 text-center",children:x.jsx("h2",{className:"text-2xl font-bold text-green-800",children:" "})}),x.jsxs("table",{className:"w-full border-collapse",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"bg-green-600 text-white",children:[x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:""}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:""}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:" "}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:""})]})}),x.jsx("tbody",{children:S.map((Ne,et)=>{var ft,lt;return x.jsxs("tr",{className:et%2===0?"bg-green-50":"bg-white",children:[x.jsx("td",{className:"border border-gray-300 px-4 py-3",children:ue(Ne.payment_date)}),x.jsx("td",{className:"border border-gray-300 px-4 py-3 text-right font-bold text-green-700",children:re(parseFloat(Ne.amount))}),x.jsx("td",{className:"border border-gray-300 px-4 py-3",children:Ne.receipt_number}),x.jsx("td",{className:"border border-gray-300 px-4 py-3",children:((ft=Ne.created_by_user)==null?void 0:ft.full_name)||((lt=Ne.created_by_user)==null?void 0:lt.email)||Ne.notes&&Ne.notes.split(" - ")[1]||" "})]},Ne.id)})})]})]})]})})]})}),w&&c&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[95vh] overflow-y-auto shadow-2xl",children:[x.jsxs("div",{className:"sticky top-0 bg-white border-b px-8 py-5 flex justify-between items-center z-10 rounded-t-2xl",children:[x.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-3",children:[x.jsx(Vd,{className:"h-7 w-7 text-blue-600"}),"  - ",c.name]}),x.jsx("button",{onClick:()=>C(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:x.jsx("span",{className:"text-2xl",children:""})})]}),x.jsx("div",{className:"p-8",children:S.length===0?x.jsxs("div",{className:"text-center py-12 text-gray-500",children:[x.jsx(Vd,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),x.jsx("p",{className:"text-xl",children:"   "})]}):x.jsx("div",{className:"space-y-4",children:S.map(Ne=>{var et,ft;return x.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200",children:x.jsx("div",{className:"flex justify-between items-start mb-4",children:x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx("span",{className:"font-bold text-lg text-green-800",children:re(parseFloat(Ne.amount))}),x.jsx("span",{className:"bg-green-200 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:Ne.receipt_number})]}),x.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-1",children:[x.jsx(vf,{className:"h-4 w-4"}),x.jsxs("span",{children:[": ",((et=Ne.created_by_user)==null?void 0:et.full_name)||((ft=Ne.created_by_user)==null?void 0:ft.email)||Ne.notes&&Ne.notes.split(" - ")[1]||" "]})]}),x.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[x.jsx(Vd,{className:"h-4 w-4"}),x.jsxs("span",{children:[": ",ue(Ne.payment_date)]})]}),Ne.notes&&x.jsxs("p",{className:"text-sm text-gray-700 mt-2 italic",children:['"',Ne.notes,'"']})]})})},Ne.id)})})})]})}),O&&!te&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[95vh] overflow-y-auto shadow-2xl",children:[x.jsxs("div",{className:"sticky top-0 bg-white border-b px-8 py-5 flex justify-between items-center z-10 rounded-t-2xl",children:[x.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-3",children:[x.jsx(eg,{className:"h-7 w-7 text-amber-600"})," "]}),x.jsx("button",{onClick:()=>V(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:x.jsx("span",{className:"text-2xl",children:""})})]}),x.jsxs("div",{className:"p-8",children:[x.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-xl p-6 mb-8 text-center",children:[x.jsx("p",{className:"text-lg text-gray-700 mb-2",children:" "}),x.jsx("p",{className:`text-5xl font-bold ${Q>=0?"text-amber-600":"text-red-600"}`,children:re(Q)}),x.jsxs("p",{className:"text-sm text-gray-600 mt-3",children:[" : ",M.length]})]}),M.length===0?x.jsxs("div",{className:"text-center py-12 text-gray-500",children:[x.jsx(eg,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),x.jsx("p",{className:"text-xl",children:"    "})]}):x.jsxs("div",{className:"space-y-4",children:[x.jsxs("h4",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[x.jsx(Vd,{className:"h-6 w-6 text-amber-600"})," "]}),M.map(Ne=>x.jsx("div",{className:`rounded-xl p-6 border ${Ne.type==="credit"?"bg-gradient-to-r from-amber-50 to-yellow-50 border-amber-200":"bg-gradient-to-r from-red-50 to-rose-50 border-red-200"}`,children:x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx("span",{className:`font-bold text-lg ${Ne.type==="credit"?"text-amber-800":"text-red-800"}`,children:Ne.type==="credit"?" ":" "}),x.jsxs("span",{className:"bg-gray-200 text-gray-700 px-3 py-1 rounded-full text-xs font-mono",children:["#",Ne.id.slice(-6)]})]}),x.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-1",children:[x.jsx(Vd,{className:"h-4 w-4"}),x.jsxs("span",{children:[": ",ue(Ne.transaction_date)]})]}),Ne.created_by_user&&x.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-1",children:[x.jsx(vf,{className:"h-4 w-4"}),x.jsxs("span",{children:[": ",Ne.created_by_user.full_name]})]}),Ne.reason&&x.jsxs("p",{className:"text-sm text-gray-700 mt-2 italic",children:['"',Ne.reason,'"']})]}),x.jsx("div",{className:"text-left mr-4",children:x.jsxs("p",{className:`text-2xl font-bold ${Ne.type==="credit"?"text-amber-600":"text-red-600"}`,children:[Ne.amount<0?"-":"+",re(Math.abs(parseFloat(Ne.amount)))]})})]})},Ne.id))]})]})]})})]})})},uJe=()=>{const[r,t]=Ce.useState([]),[e,n]=Ce.useState([]),[i,a]=Ce.useState(new Map),[s,o]=Ce.useState(!0),[l,u]=Ce.useState(null),[c,f]=Ce.useState(!1),[h,d]=Ce.useState(!1),[A,p]=Ce.useState(null),[g,m]=Ce.useState(""),[v,y]=Ce.useState(new Date().toISOString().split("T")[0]),[b,_]=Ce.useState(""),[T,I]=Ce.useState(!1),N=Wa.getCurrentUser(),{orders:F}=yy(),P=F.filter(U=>U.is_locked===!0);Ce.useEffect(()=>{D()},[]);const D=async()=>{o(!0);try{const{data:U,error:Q}=await Ct.from("payment_methods").select("*, total_paid").eq("is_active",!0).order("name");if(Q)throw Q;n(U||[]);const{data:W,error:j}=await Ct.from("payment_receipts").select(`
          *,
          order:orders(order_number, customer_name, total_price)
        `).order("created_at",{ascending:!1});if(j)throw j;t(W||[]);const X=[...new Set((W==null?void 0:W.map(z=>z.created_by))||[])];if(X.length>0){const{data:z,error:H}=await Ct.from("user_profiles").select("id, full_name").in("id",X);if(H)throw H;const K=new Map;z==null||z.forEach(Z=>K.set(Z.id,Z.full_name||"")),a(K)}}catch(U){console.error("Error fetching data:",U),Er.error("  ")}finally{o(!1)}},R=async()=>{var z;const U=new Date().toISOString().slice(0,10).replace(/-/g,""),{data:Q,error:W}=await Ct.from("payment_receipts").select("receipt_number").like("receipt_number",`${U}%`).order("receipt_number",{ascending:!1}).limit(1);if(W)throw W;const j=((z=Q==null?void 0:Q[0])==null?void 0:z.receipt_number)||`${U}-000`,X=parseInt(j.split("-")[1])+1;return`${U}-${String(X).padStart(3,"0")}`},E=Ce.useMemo(()=>{const U=[],Q=e.filter(j=>j.is_salla_gateway===!0),W=e.find(j=>j.code==="salla_basket");if(W&&Q.length>0){const j=P.filter(te=>te.payment_method&&Q.some(le=>le.code===te.payment_method)),X=j.reduce((te,le)=>te+le.total_price,0,0),z=j.length,H=r.filter(te=>te.payment_method_code==="salla_basket"),K=H.reduce((te,le)=>te+le.amount_received,0),Z=Math.max(0,X-K);let ie=0;const ee=[];Q.forEach(te=>{const le=j.filter(Se=>Se.payment_method===te.code);if(le.length===0){ee.push({name:te.name,code:te.code,orders:[],receipts:[],totalPaid:0,totalOriginal:0,expectedFees:0,feeMethod:te});return}const re=le.reduce((Se,De)=>Se+De.total_price,0),de=le.length*te.fixed_fee,ue=re*te.percentage_fee/100,Fe=de+ue;ie+=Fe,ee.push({name:te.name,code:te.code,orders:le,receipts:[],totalPaid:0,totalOriginal:re,expectedFees:Fe,feeMethod:te})});const ne=Math.max(0,Z-ie);U.push({method:W,name:"",code:"salla_basket",totalOriginal:X,totalRemaining:Z,orderCount:z,expectedFees:ie,netDue:ne,totalPaid:K,orders:j,receipts:H,logo_url:W.logo_url||"https://cdn.salla.sa/images/salla-logo.png",subMethods:ee.length>0?ee:void 0})}return e.forEach(j=>{if(j.code==="salla_basket"||j.is_salla_gateway===!0)return;const X=P.filter(ee=>ee.payment_method===j.code),z=X.reduce((ee,ne)=>ee+ne.total_price,0,0),H=r.filter(ee=>ee.payment_method_code===j.code).reduce((ee,ne)=>ee+ne.amount_received,0),K=Math.max(0,z-H),Z=X.length*j.fixed_fee+z*j.percentage_fee/100,ie=Math.max(0,K-Z);U.push({method:j,name:j.name,code:j.code,totalOriginal:z,totalRemaining:K,orderCount:X.length,expectedFees:Z,netDue:ie,totalPaid:H,orders:X,receipts:r.filter(ee=>ee.payment_method_code===j.code),logo_url:j.logo_url})}),U},[e,P,r]),L=async U=>{if(U.preventDefault(),!N||!g||!l){Er.error("   ");return}const Q=parseFloat(g);if(isNaN(Q)||Q<=0){Er.error("     ");return}try{const W=await R();let j=l.code;["mada","credit_card"].includes(j)&&(j="salla_basket");const X=e.find(ie=>ie.code===j);if(!X){Er.error("   ");return}const z=`local-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,H={id:z,order_id:null,payment_method_code:j,amount_received:Q,receipt_date:v,notes:b||void 0,created_by:N.id,receipt_number:W};t(ie=>[H,...ie]),n(ie=>ie.map(ee=>ee.code===j?{...ee,total_paid:(ee.total_paid||0)+Q}:ee));const{data:K,error:Z}=await Ct.from("payment_receipts").insert({order_id:null,payment_method_code:j,amount_received:Q,percentage_fee:0,fixed_fee:0,total_fees:0,net_amount:Q,receipt_date:v,notes:`  (${l.name}): ${b||" "}`,created_by:N.id,receipt_number:W}).select().single();if(Z)throw Z;t(ie=>ie.map(ee=>ee.id===z?{...ee,...K}:ee)),await Ct.from("payment_methods").update({total_paid:(X.total_paid||0)+Q}).eq("id",X.id),C(),f(!1),Er.success(`  : ${W}`)}catch(W){console.error("   :",W),Er.error(W.message||"  ")}},k=U=>{p(U),d(!0)},w=async()=>{if(!N||N.role!=="admin"||!A)return;const U=A;try{if(U.id.startsWith("local-"))t(Q=>Q.filter(W=>W.id!==U.id)),Er.success("   ");else{const Q=U.payment_method_code;await Ct.from("payment_receipts").delete().eq("id",U.id);const{data:W}=await Ct.from("payment_methods").select("id, total_paid").eq("code",Q).single();W&&await Ct.from("payment_methods").update({total_paid:Math.max(0,(W.total_paid||0)-U.amount_received)}).eq("id",W.id),t(j=>j.filter(X=>X.id!==U.id)),n(j=>j.map(X=>X.code===Q?{...X,total_paid:Math.max(0,(X.total_paid||0)-U.amount_received)}:X)),Er.success(`  : ${U.receipt_number||U.id}`)}d(!1),p(null),u(null)}catch(Q){console.error("  :",Q),Er.error(Q.message||" ")}},C=()=>{m(""),_(""),y(new Date().toISOString().split("T")[0])},S=U=>`${(Math.round(U*100)/100).toLocaleString("en-SA",{minimumFractionDigits:2,maximumFractionDigits:2})} .`,B=U=>{const Q=new Date(U);return isNaN(Q.getTime())?" ":Q.toLocaleDateString("ar-SA",{day:"numeric",month:"long",year:"numeric"})},O=U=>i.get(U)||"  ",V=async U=>{const Q=new wc.Workbook,W=Q.addWorksheet(`${U.name}`);W.views=[{rightToLeft:!0}],W.mergeCells("A1:D1");const j=W.getCell("A1");if(j.value=`  : ${U.name}`,j.font={size:18,bold:!0},j.alignment={horizontal:"center",vertical:"middle"},j.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF4F46E5"}},j.font={...j.font,color:{argb:"FFFFFFFF"}},W.getRow(1).height=30,W.addRow([]),[[" ",S(U.totalRemaining)],[" ",S(U.totalPaid)],[" ",U.orderCount],[" ",S(U.expectedFees)],[" ",S(U.netDue)]].forEach(([K,Z])=>{const ie=W.addRow([K,Z]);ie.font={bold:!0},ie.eachCell(ee=>{ee.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},ee.alignment={horizontal:"right",vertical:"middle"}})}),W.addRow([]),U.receipts.length>0){const K=W.addRow([" "]);K.font={size:14,bold:!0},K.getCell(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF10B981"}},K.getCell(1).font={...K.font,color:{argb:"FFFFFFFF"}},K.height=25;const Z=W.addRow(["",""," ",""]);Z.font={bold:!0},Z.eachCell(ie=>{ie.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFD1FAE5"}},ie.alignment={horizontal:"center",vertical:"middle"},ie.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),U.receipts.forEach((ie,ee)=>{W.addRow([B(ie.receipt_date),parseFloat(ie.amount_received.toString()).toFixed(2),ie.receipt_number||`#${ie.id.slice(-6)}`,O(ie.created_by)]).eachCell((te,le)=>{te.alignment={horizontal:"right",vertical:"middle"},le===2&&(te.numFmt="#,##0.00"),te.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},ee%2===0&&(te.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF0FDF4"}})})}),W.addRow([])}if(U.orders.length>0){const K=W.addRow([" "]);K.font={size:14,bold:!0},K.getCell(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF6366F1"}},K.getCell(1).font={...K.font,color:{argb:"FFFFFFFF"}},K.height=25;const Z=W.addRow([" ","","","",""]);Z.font={bold:!0},Z.eachCell(ie=>{ie.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE0E7FF"}},ie.alignment={horizontal:"center",vertical:"middle"},ie.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),U.orders.forEach((ie,ee)=>{const ne=e.find(de=>de.code===ie.payment_method)||e[0],te=ie.total_price*(ne.percentage_fee/100)+ne.fixed_fee,le=ie.total_price-te;W.addRow([ie.order_number,ie.customer_name,parseFloat(ie.total_price.toString()).toFixed(2),parseFloat(te.toString()).toFixed(2),parseFloat(le.toString()).toFixed(2)]).eachCell((de,ue)=>{de.alignment={horizontal:"right",vertical:"middle"},ue>=3&&(de.numFmt="#,##0.00"),de.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},ee%2===0&&(de.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF5F5F5"}})})})}W.columns=[{width:25},{width:20},{width:20},{width:20},{width:20}];const z=await Q.xlsx.writeBuffer(),H=new Blob([z],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});_c.saveAs(H,`${U.name}_${new Date().toISOString().split("T")[0]}.xlsx`),Er.success("  Excel ")},M=async()=>{const U=document.getElementById("payment-method-preview-content");if(U)try{const Q=await ad(U,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"}),W=Q.toDataURL("image/png"),j=new br("p","mm","a4"),X=j.internal.pageSize.getWidth(),z=j.internal.pageSize.getHeight(),H=X-20,K=Q.height*H/Q.width;let Z=K,ie=10;for(j.addImage(W,"PNG",10,ie,H,K),Z-=z-20;Z>0;)ie=Z-K+10,j.addPage(),j.addImage(W,"PNG",10,ie,H,K),Z-=z-20;const ee=`${l==null?void 0:l.name}_${new Date().toISOString().split("T")[0]}.pdf`;j.save(ee),Er.success("  PDF ")}catch(Q){console.error("Error generating PDF:",Q),Er.error("     PDF")}};if(s)return x.jsx("div",{className:"p-6",children:x.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(6)].map((U,Q)=>x.jsx("div",{className:"h-24 bg-gray-200 rounded-xl"},Q))})});if(l){const{name:U,totalOriginal:Q,totalRemaining:W,expectedFees:j,netDue:X,totalPaid:z,orders:H,receipts:K,subMethods:Z,logo_url:ie}=l;return x.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[x.jsx(iw,{position:"top-center",reverseOrder:!1}),x.jsx("div",{className:"flex justify-start mb-6",children:x.jsxs("button",{onClick:()=>u(null),className:"flex items-center text-blue-600 hover:text-blue-800",children:[x.jsx(pD,{className:"h-5 w-5 ml-2"})," "]})}),x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[x.jsxs("div",{className:"flex items-center mb-8",children:[ie?x.jsx("img",{src:ie,alt:U,className:"h-16 w-16 object-contain rounded-xl shadow-md ml-4"}):x.jsx("div",{className:"h-16 w-16 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl shadow-md ml-4 flex items-center justify-center",children:x.jsx(eg,{className:"h-9 w-9 text-white"})}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:U}),U===""&&x.jsx("p",{className:"text-gray-600",children:"   "})]})]}),x.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 mb-8 shadow-sm",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h3",{className:"text-xl font-bold",children:"  (  )"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:()=>I(!0),className:"bg-gray-600 text-white px-4 py-3 rounded-xl hover:bg-gray-700 flex items-center shadow-md",children:[x.jsx(Cf,{className:"h-5 w-5 ml-2"}),x.jsx("span",{children:" "})]}),x.jsxs("button",{onClick:()=>f(!0),className:"bg-gradient-to-r from-emerald-600 to-teal-600 text-white px-6 py-3 rounded-xl hover:from-emerald-700 hover:to-teal-700 flex items-center shadow-md",children:[x.jsx(gD,{className:"h-5 w-5 ml-2"}),x.jsx("span",{children:"  "})]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 text-lg",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:"  :"})," ",x.jsx("strong",{children:S(Q)})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:":"})," ",x.jsxs("strong",{className:"text-green-600",children:["",S(z)]})]}),x.jsxs("div",{className:"flex justify-between text-xl font-bold pt-3 border-t border-indigo-200",children:[x.jsx("span",{className:"text-blue-700",children:" :"}),x.jsx("strong",{className:"text-blue-700",children:S(W)})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:" :"})," ",x.jsxs("strong",{className:"text-red-600",children:["",S(j)]})]}),x.jsxs("div",{className:"flex justify-between text-2xl font-extrabold pt-4 border-t-2 border-indigo-300",children:[x.jsx("span",{children:" :"}),x.jsx("span",{className:"text-emerald-600",children:S(X)})]})]})]})]}),Z&&Z.length>0&&x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:Z.map(ee=>{const ne=ee.totalOriginal-ee.expectedFees;return x.jsxs("div",{className:"bg-white border rounded-2xl p-5 shadow",children:[x.jsxs("div",{className:"flex items-center mb-3",children:[ee.code==="mada"?x.jsx(ipe,{className:"h-6 w-6 ml-2 text-green-600"}):x.jsx(Ul,{className:"h-6 w-6 ml-2 text-blue-600"}),x.jsx("h4",{className:"font-bold text-lg",children:ee.name})]}),x.jsxs("div",{className:"space-y-2 text-sm",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:" :"})," ",x.jsx("strong",{children:ee.orders.length})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:":"})," ",x.jsx("strong",{children:S(ee.totalOriginal)})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:":"})," ",x.jsx("strong",{className:"text-red-600",children:S(ee.expectedFees)})]}),x.jsxs("div",{className:"flex justify-between font-bold",children:[x.jsx("span",{children:":"})," ",x.jsx("strong",{className:"text-emerald-600",children:S(ne)})]})]})]},ee.code)})}),x.jsxs("div",{className:"bg-white border rounded-2xl p-6 mb-8 shadow",children:[x.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[x.jsx(mD,{className:"h-6 w-6 ml-2 text-blue-600"}),"  (",K.length,")"]}),x.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:K.length===0?x.jsx("p",{className:"text-center text-gray-500 py-8",children:"   "}):K.map(ee=>x.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl p-4 shadow-sm",children:x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[x.jsx("span",{className:"font-bold text-sm",children:""}),x.jsx("span",{className:"font-mono bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs",children:ee.receipt_number||`#${ee.id.slice(-6)}`})]}),x.jsx("p",{className:"text-xs text-gray-600",children:" "}),x.jsx("p",{className:"text-xs text-gray-500",children:B(ee.receipt_date)}),ee.notes&&x.jsxs("p",{className:"text-xs italic text-gray-700 mt-1",children:['"',ee.notes,'"']})]}),x.jsxs("div",{className:"text-right mr-4",children:[x.jsx("p",{className:"font-bold text-lg text-green-600",children:S(ee.amount_received)}),x.jsxs("div",{className:"flex items-center justify-end text-xs text-gray-500 mt-1",children:[x.jsx(vf,{className:"h-3 w-3 ml-1"}),x.jsx("span",{children:O(ee.created_by)})]})]}),(N==null?void 0:N.role)==="admin"&&x.jsx("button",{onClick:()=>k(ee),className:"text-red-600 hover:text-red-800 p-2",children:x.jsx(No,{className:"h-5 w-5"})})]})},ee.id))})]}),x.jsxs("div",{className:"bg-white border rounded-2xl p-6 shadow",children:[x.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[x.jsx(Li,{className:"h-6 w-6 ml-2 text-indigo-600"}),"  (",H.length,")"]}),x.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:H.map(ee=>{const ne=e.find(re=>re.code===ee.payment_method)||e[0],te=ee.total_price*(ne.percentage_fee/100)+ne.fixed_fee,le=ee.total_price-te;return x.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-xl p-4 shadow-sm",children:x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsxs("p",{className:"font-bold",children:["#",ee.order_number]}),x.jsx("p",{className:"text-sm text-gray-600",children:ee.customer_name})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"font-bold text-gray-900",children:S(ee.total_price)}),x.jsxs("p",{className:"text-xs text-red-600",children:["",S(te)]}),x.jsx("p",{className:"text-sm font-bold text-emerald-600",children:S(le)})]})]})},ee.id)})})]})]}),c&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsxs("h3",{className:"text-2xl font-bold",children:["   (",U,")"]}),x.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:x.jsx(vi,{className:"h-7 w-7"})})]}),x.jsxs("form",{onSubmit:L,className:"space-y-5",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"number",step:"0.01",value:g,onChange:ee=>m(ee.target.value),required:!0,className:"w-full px-4 py-3 pr-12 border-2 border-gray-300 rounded-xl focus:ring-4 focus:ring-green-500 focus:border-green-500 text-lg",placeholder:"0.00"}),x.jsx("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 font-bold text-gray-600",children:"."})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),x.jsx("input",{type:"date",value:v,onChange:ee=>y(ee.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-4 focus:ring-green-500 focus:border-green-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold mb-2",children:" ()"}),x.jsx("textarea",{value:b,onChange:ee=>_(ee.target.value),rows:2,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-4 focus:ring-green-500 focus:border-green-500",placeholder:"  ..."})]}),x.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[x.jsxs("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 rounded-xl font-bold flex items-center justify-center",children:[x.jsx(lh,{className:"h-5 w-5 ml-2"}),"  "]}),x.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 bg-gray-200 text-gray-700 py-3 rounded-xl font-bold",children:""})]})]})]})}),T&&l&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[95vh] overflow-y-auto shadow-2xl",children:[x.jsxs("div",{className:"sticky top-0 bg-white border-b px-8 py-5 flex justify-between items-center z-10 rounded-t-2xl",children:[x.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-3",children:[x.jsx(Ji,{className:"h-7 w-7 text-indigo-600"}),"   "]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:M,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2 space-x-reverse",children:[x.jsx(Pi,{className:"h-4 w-4"}),x.jsx("span",{children:"PDF"})]}),x.jsxs("button",{onClick:()=>V(l),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2 space-x-reverse",children:[x.jsx(Pi,{className:"h-4 w-4"}),x.jsx("span",{children:"Excel"})]}),x.jsx("button",{onClick:()=>I(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:x.jsx("span",{className:"text-2xl",children:""})})]})]}),x.jsx("div",{className:"p-8",children:x.jsxs("div",{id:"payment-method-preview-content",className:"bg-white",dir:"rtl",children:[x.jsxs("div",{className:"text-center mb-8 border-b pb-6",children:[x.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["  : ",l.name]}),x.jsxs("p",{className:"text-gray-600",children:[" : ",B(new Date().toISOString())]})]}),x.jsx("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-6 mb-8",children:x.jsxs("div",{className:"grid grid-cols-2 gap-6 text-center",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-lg text-gray-700 mb-2",children:" "}),x.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:S(l.totalRemaining)})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-lg text-gray-700 mb-2",children:" "}),x.jsx("p",{className:"text-3xl font-bold text-green-600",children:S(l.totalPaid)})]})]})}),x.jsxs("div",{className:"mb-8 grid grid-cols-3 gap-4",children:[x.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[x.jsx("p",{className:"text-sm text-gray-600 mb-1",children:" "}),x.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.orderCount})]}),x.jsxs("div",{className:"bg-red-50 p-4 rounded-lg text-center",children:[x.jsx("p",{className:"text-sm text-gray-600 mb-1",children:" "}),x.jsx("p",{className:"text-2xl font-bold text-red-600",children:S(l.expectedFees)})]}),x.jsxs("div",{className:"bg-emerald-50 p-4 rounded-lg text-center",children:[x.jsx("p",{className:"text-sm text-gray-600 mb-1",children:" "}),x.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:S(l.netDue)})]})]}),l.receipts.length>0&&x.jsxs("div",{className:"mt-8",children:[x.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4 text-center",children:x.jsxs("h2",{className:"text-2xl font-bold text-green-800",children:["  (",l.receipts.length,")"]})}),x.jsxs("table",{className:"w-full border-collapse mb-8",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"bg-green-600 text-white",children:[x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:""}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:""}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:" "}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:""})]})}),x.jsx("tbody",{children:l.receipts.map((ee,ne)=>x.jsxs("tr",{className:ne%2===0?"bg-green-50":"bg-white",children:[x.jsx("td",{className:"border border-gray-300 px-4 py-3",children:B(ee.receipt_date)}),x.jsx("td",{className:"border border-gray-300 px-4 py-3 text-right font-bold text-green-700",children:S(parseFloat(ee.amount_received.toString()))}),x.jsx("td",{className:"border border-gray-300 px-4 py-3",children:ee.receipt_number||`#${ee.id.slice(-6)}`}),x.jsx("td",{className:"border border-gray-300 px-4 py-3",children:O(ee.created_by)})]},ee.id))})]})]}),l.orders.length>0&&x.jsxs("div",{className:"mt-8",children:[x.jsx("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4 mb-4 text-center",children:x.jsxs("h2",{className:"text-2xl font-bold text-indigo-800",children:["  (",l.orders.length,")"]})}),x.jsxs("table",{className:"w-full border-collapse",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"bg-indigo-600 text-white",children:[x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:" "}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:""}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:""}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:""}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:""})]})}),x.jsx("tbody",{children:l.orders.map((ee,ne)=>{const te=e.find(de=>de.code===ee.payment_method)||e[0],le=ee.total_price*(te.percentage_fee/100)+te.fixed_fee,re=ee.total_price-le;return x.jsxs("tr",{className:ne%2===0?"bg-gray-50":"bg-white",children:[x.jsx("td",{className:"border border-gray-300 px-4 py-3",children:ee.order_number}),x.jsx("td",{className:"border border-gray-300 px-4 py-3",children:ee.customer_name}),x.jsx("td",{className:"border border-gray-300 px-4 py-3 text-right font-medium",children:S(ee.total_price)}),x.jsx("td",{className:"border border-gray-300 px-4 py-3 text-right font-medium text-red-600",children:S(le)}),x.jsx("td",{className:"border border-gray-300 px-4 py-3 text-right font-bold text-emerald-600",children:S(re)})]},ee.id)})})]})]})]})})]})})]})}return x.jsxs("div",{className:"min-h-screen bg-gray-50",children:[x.jsx(iw,{position:"top-center",reverseOrder:!1}),x.jsx("div",{className:"bg-white shadow-sm border-b",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[x.jsx("h1",{className:"text-3xl font-extrabold text-gray-900",children:" "}),x.jsx("p",{className:"text-lg text-gray-600 mt-2",children:"  "})]})}),x.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:E.length===0?x.jsxs("div",{className:"text-center py-20",children:[x.jsx(eg,{className:"h-16 w-16 text-gray-400 mx-auto mb-6"}),x.jsx("p",{className:"text-xl text-gray-600",children:"   (    )"})]}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-blue-500 rounded-2xl shadow-xl p-8 mb-8 text-white",children:[x.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"    "}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-6 text-center",children:[x.jsx("p",{className:"text-lg mb-2 opacity-90",children:" "}),x.jsx("p",{className:"text-4xl font-extrabold",children:S(E.reduce((U,Q)=>U+Q.netDue,0))})]}),x.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-6 text-center",children:[x.jsx("p",{className:"text-lg mb-2 opacity-90",children:" "}),x.jsx("p",{className:"text-4xl font-extrabold",children:S(E.reduce((U,Q)=>U+Q.totalPaid,0))})]})]})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:E.map(U=>x.jsxs("div",{onClick:()=>u(U),className:"bg-white rounded-2xl shadow-lg p-6 cursor-pointer hover:shadow-2xl transition-all hover:-translate-y-2 border-2 border-transparent hover:border-indigo-200",children:[x.jsxs("div",{className:"flex items-center mb-5",children:[U.logo_url?x.jsx("img",{src:U.logo_url,alt:U.name,className:"h-14 w-14 object-contain rounded-xl shadow ml-4"}):x.jsx("div",{className:"h-14 w-14 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl shadow ml-4 flex items-center justify-center",children:x.jsx(eg,{className:"h-8 w-8 text-white"})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-extrabold",children:U.name}),U.code==="salla_basket"&&x.jsx("p",{className:"text-xs text-indigo-600",children:" +  "})]})]}),x.jsxs("div",{className:"space-y-3 text-sm",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-gray-600",children:" :"})," ",x.jsx("strong",{children:S(U.totalOriginal)})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-gray-600",children:":"})," ",x.jsxs("strong",{className:"text-green-600",children:["",S(U.totalPaid)]})]}),x.jsxs("div",{className:"flex justify-between text-base font-bold pt-2 border-t border-gray-200",children:[x.jsx("span",{className:"text-blue-700",children:" :"}),x.jsx("span",{className:"text-blue-700",children:S(U.totalRemaining)})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-gray-600",children:" :"})," ",x.jsxs("strong",{className:"text-red-600",children:["",S(U.expectedFees)]})]}),x.jsxs("div",{className:"flex justify-between text-lg font-extrabold pt-4 border-t-2 border-indigo-100",children:[x.jsx("span",{children:" :"}),x.jsx("span",{className:"text-emerald-600",children:S(U.netDue)})]})]})]},U.code))})]})}),h&&A&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl",children:[x.jsxs("div",{className:"flex items-center mb-4 text-red-600",children:[x.jsx(AD,{className:"h-8 w-8 ml-3"}),x.jsx("h3",{className:"text-xl font-bold",children:" "})]}),x.jsxs("p",{className:"text-gray-700 mb-6",children:["       ",x.jsx("strong",{children:S(A.amount_received)}),""]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:w,className:"flex-1 bg-red-600 text-white py-3 rounded-xl font-bold hover:bg-red-700",children:" "}),x.jsx("button",{onClick:()=>{d(!1),p(null)},className:"flex-1 bg-gray-200 text-gray-700 py-3 rounded-xl font-bold hover:bg-gray-300",children:""})]})]})})]})},cJe=()=>{const[r,t]=Ce.useState([]),[e,n]=Ce.useState(null),[i,a]=Ce.useState(!0),[s,o]=Ce.useState(!1),[l,u]=Ce.useState(!1),[c,f]=Ce.useState(null),[h,d]=Ce.useState(!1),[A,p]=Ce.useState(""),[g,m]=Ce.useState(new Date().toISOString().split("T")[0]),[v,y]=Ce.useState("credit"),[b,_]=Ce.useState(""),T=Wa.getCurrentUser();Ce.useEffect(()=>{I()},[]);const I=async()=>{a(!0);try{const{data:S,error:B}=await Ct.from("user_profiles").select("*").eq("role","user").eq("is_active",!0).order("full_name");if(B)throw B;const{data:O,error:V}=await Ct.from("employee_balance_transactions").select(`
          *,
          user:user_profiles!employee_balance_transactions_user_id_fkey(full_name, role, email),
          created_by_user:user_profiles!employee_balance_transactions_created_by_fkey(full_name)
        `).order("transaction_date",{ascending:!1});if(V)throw V;const M=new Map;S==null||S.forEach(Q=>{M.set(Q.id,{user:Q,current_balance:0,transactions:[]})}),O==null||O.forEach(Q=>{const W=M.get(Q.user_id);if(W){const j={...Q,user:Q.user,created_by_user:Q.created_by_user,amount:parseFloat(Q.amount.toString()),transaction_date:Q.transaction_date,created_at:Q.created_at};W.transactions.push(j),W.current_balance+=j.amount}});const U=Array.from(M.values()).sort((Q,W)=>Q.user.full_name.localeCompare(W.user.full_name));t(U)}catch(S){console.error("Error fetching employee advances:",S),Er.error("    ")}finally{a(!1)}},N=async S=>{if(S.preventDefault(),!T||!A||!e){Er.error("   ");return}const B=parseFloat(A);if(isNaN(B)||B<=0){Er.error("     ");return}const O=v==="credit"?B:-B;try{const{data:V,error:M}=await Ct.from("employee_balance_transactions").insert({user_id:e.user.id,amount:O,type:v,reason:b||` ${v==="credit"?" ":" "}`,transaction_date:g,created_by:T.id}).select().single();if(M)throw M;const U={...V,user:e.user,amount:O,transaction_date:V.transaction_date,created_at:V.created_at,created_by_user:{id:T.id,full_name:T.full_name||""}};n(Q=>({...Q,transactions:[U,...Q.transactions],current_balance:Q.current_balance+O})),t(Q=>Q.map(W=>W.user.id===e.user.id?{...W,current_balance:W.current_balance+O}:W)),D(),o(!1),Er.success("     ")}catch(V){console.error("   :",V),Er.error(V.message||" ")}},F=S=>{f(S),u(!0)},P=async()=>{if(!(!T||T.role!=="admin"||!c))try{const{error:S}=await Ct.from("employee_balance_transactions").delete().eq("id",c.id);if(S)throw S;n(B=>({...B,transactions:B.transactions.filter(O=>O.id!==c.id),current_balance:B.current_balance-c.amount})),t(B=>B.map(O=>O.user.id===c.user_id?{...O,current_balance:O.current_balance-c.amount}:O)),Er.success("    "),u(!1),f(null)}catch(S){console.error("  :",S),Er.error(S.message||" ")}},D=()=>{p(""),_(""),m(new Date().toISOString().split("T")[0]),y("credit")},R=S=>`${(Math.round(S*100)/100).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} .`,E=S=>{const B=new Date(S);return isNaN(B.getTime())?" ":B.toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"})},[L,k]=Ce.useState(0);Ce.useEffect(()=>{(async()=>{try{const{data:B,error:O}=await Ct.from("receivables").select(`
            remaining_amount,
            entity_id,
            entities!inner(type)
          `).eq("entities.type","");if(O)throw O;const V=(B==null?void 0:B.reduce((M,U)=>M+parseFloat(U.remaining_amount.toString()),0))||0;k(V)}catch(B){console.error("Error fetching suppliers receivables:",B)}})()},[]);const w=async()=>{if(!e)return;const S=new wc.Workbook,B=S.addWorksheet(` ${e.user.full_name}`,{pageSetup:{paperSize:9,orientation:"portrait"},properties:{defaultColWidth:20},views:[{rightToLeft:!0}]});B.mergeCells("A1:D1");const O=B.getCell("A1");O.value=`  : ${e.user.full_name}`,O.font={size:16,bold:!0,color:{argb:"FFFFFFFF"}},O.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1E40AF"}},O.alignment={horizontal:"center",vertical:"middle"},B.mergeCells("A2:D2");const V=B.getCell("A2");V.value=` : ${E(new Date().toISOString())}`,V.font={size:12,italic:!0},V.alignment={horizontal:"center"},B.mergeCells("A3:D3");const M=B.getCell("A3");M.value=` : ${R(e.current_balance)}`,M.font={size:14,bold:!0},M.fill={type:"pattern",pattern:"solid",fgColor:{argb:e.current_balance>=0?"FFFBBF24":"FFEF4444"}},M.alignment={horizontal:"center",vertical:"middle"};const U=B.addRow(["","","",""]);U.font={bold:!0,color:{argb:"FFFFFFFF"}},U.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2563EB"}},U.eachCell(j=>{j.alignment={horizontal:"center",vertical:"middle"},j.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),e.transactions.forEach((j,X)=>{const z=B.addRow([E(j.transaction_date),j.type==="credit"?" ":" ",Math.abs(j.amount).toFixed(2),j.reason||"-"]);z.eachCell((H,K)=>{H.alignment={horizontal:"right",vertical:"middle"},K===3&&(H.numFmt="#,##0.00",H.font={bold:!0,color:{argb:j.type==="credit"?"FFFBBF24":"FFEF4444"}}),H.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),X%2===0&&(z.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF3F4F6"}})});const Q=await S.xlsx.writeBuffer(),W=`_${e.user.full_name}_${new Date().toISOString().split("T")[0]}.xlsx`;_c.saveAs(new Blob([Q]),W),Er.success("   ")},C=async()=>{const S=document.getElementById("employee-preview-content");if(S)try{const B=await ad(S,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"}),O=B.toDataURL("image/png"),V=new br("p","mm","a4"),M=V.internal.pageSize.getWidth(),U=V.internal.pageSize.getHeight(),Q=M-20,W=B.height*Q/B.width;let j=W,X=10;for(V.addImage(O,"PNG",10,X,Q,W),j-=U-20;j>0;)X=j-W+10,V.addPage(),V.addImage(O,"PNG",10,X,Q,W),j-=U-20;const z=e?`_${e.user.full_name}_${new Date().toISOString().split("T")[0]}.pdf`:`__${new Date().toISOString().split("T")[0]}.pdf`;V.save(z),Er.success("   ")}catch(B){console.error("Error generating PDF:",B),Er.error("     PDF")}};if(i)return x.jsx("div",{className:"p-3 md:p-6",children:x.jsx("div",{className:"animate-pulse space-y-3 md:space-y-4",children:[...Array(6)].map((S,B)=>x.jsx("div",{className:"h-20 md:h-24 bg-gray-200 rounded-lg md:rounded-xl"},B))})});if(e){const{user:S,current_balance:B,transactions:O}=e;return x.jsxs("div",{className:"p-3 md:p-6 max-w-7xl mx-auto",children:[x.jsx(iw,{position:"top-center",reverseOrder:!1}),x.jsx("div",{className:"flex justify-start items-center mb-4 md:mb-6",children:x.jsxs("button",{onClick:()=>n(null),className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors",children:[x.jsx(pD,{className:"h-4 w-4 md:h-5 md:w-5 ml-2"}),x.jsx("span",{className:"font-medium text-sm md:text-base",children:""})]})}),x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 md:mb-8 gap-4",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"h-12 w-12 md:h-16 md:w-16 bg-gradient-to-r from-amber-500 to-orange-600 rounded-lg md:rounded-xl shadow-md ml-3 md:ml-4 flex items-center justify-center",children:x.jsx(vf,{className:"h-6 w-6 md:h-9 md:w-9 text-white"})}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl md:text-3xl font-bold text-gray-900",children:S.full_name}),x.jsx("p",{className:"text-gray-600 text-sm md:text-lg",children:S.email})]})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full md:w-auto",children:[x.jsxs("button",{onClick:()=>d(!0),className:"bg-gray-600 text-white px-3 md:px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors duration-200 flex items-center justify-center space-x-2 space-x-reverse text-sm md:text-base",children:[x.jsx(Ji,{className:"h-4 w-4"}),x.jsx("span",{children:""})]}),x.jsxs("button",{onClick:w,className:"bg-green-600 text-white px-3 md:px-4 py-2 rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center justify-center space-x-2 space-x-reverse text-sm md:text-base",children:[x.jsx(Pi,{className:"h-4 w-4"}),x.jsx("span",{children:"Excel"})]})]})]}),x.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-xl md:rounded-2xl p-4 md:p-6 mb-4 md:mb-8 shadow-sm",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 md:mb-6 gap-3",children:[x.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-800",children:" "}),x.jsxs("button",{onClick:()=>o(!0),className:"bg-gradient-to-r from-amber-600 to-orange-600 text-white px-3 md:px-5 py-2 md:py-3 rounded-lg md:rounded-xl hover:from-amber-700 hover:to-orange-700 flex items-center space-x-2 shadow-md transition-all w-full sm:w-auto justify-center text-sm md:text-base",children:[x.jsx(gD,{className:"h-4 w-4 md:h-5 md:w-5"}),x.jsx("span",{className:"font-medium",children:" "})]})]}),x.jsxs("div",{className:"space-y-3 md:space-y-4",children:[x.jsxs("div",{className:"flex justify-between text-lg md:text-2xl font-extrabold",children:[x.jsx("span",{className:"text-gray-900",children:" :"}),x.jsx("span",{className:B>=0?"text-amber-600":"text-red-600",children:R(B)})]}),x.jsxs("div",{className:"flex justify-between text-sm md:text-base",children:[x.jsx("span",{className:"text-gray-700 font-medium",children:" :"}),x.jsx("span",{className:"font-bold text-gray-900",children:O.length})]})]})]}),x.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl md:rounded-2xl p-4 md:p-6 shadow-sm",children:[x.jsxs("h3",{className:"text-base md:text-xl font-bold text-gray-800 mb-4 md:mb-5 flex items-center",children:[x.jsx(mD,{className:"h-5 w-5 md:h-6 md:w-6 ml-2 text-amber-600"}),"  (",O.length,")"]}),x.jsx("div",{className:"space-y-2 md:space-y-3 max-h-96 overflow-y-auto",children:O.length===0?x.jsx("p",{className:"text-center text-gray-500 py-6",children:"     "}):O.map(V=>{var M;return x.jsx("div",{className:`rounded-lg md:rounded-xl p-3 md:p-4 shadow-sm ${V.type==="credit"?"bg-gradient-to-r from-amber-50 to-yellow-50":"bg-gradient-to-r from-red-50 to-rose-50"}`,children:x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-2",children:[x.jsxs("div",{className:"flex-1 w-full",children:[x.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[x.jsx("span",{className:`font-bold text-xs md:text-sm ${V.type==="credit"?"text-amber-800":"text-red-800"}`,children:V.type==="credit"?" ":" "}),x.jsxs("span",{className:"font-mono text-xs bg-gray-100 text-gray-700 px-2 py-0.5 rounded",children:["#",V.id.slice(-6)]})]}),x.jsx("p",{className:"text-xs text-gray-600",children:E(V.transaction_date)}),V.reason&&x.jsxs("p",{className:"text-xs text-gray-700 mt-1 italic",children:['"',V.reason,'"']})]}),x.jsxs("div",{className:"text-right sm:mr-3 w-full sm:w-auto",children:[x.jsxs("p",{className:`font-bold text-base md:text-lg ${V.type==="credit"?"text-amber-600":"text-red-600"}`,children:[V.type==="debit"&&"-",R(Math.abs(V.amount))]}),x.jsxs("div",{className:"flex items-center justify-end mt-1 text-xs text-gray-500",children:[x.jsx(vf,{className:"h-3 w-3 ml-1"}),x.jsx("span",{children:((M=V.created_by_user)==null?void 0:M.full_name)||""})]})]}),(T==null?void 0:T.role)==="admin"&&x.jsx("button",{onClick:()=>F(V),className:"text-red-600 hover:text-red-800 p-2 rounded-full hover:bg-red-50 transition-colors",children:x.jsx(No,{className:"h-5 w-5"})})]})},V.id)})})]}),s&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["    (",S.full_name,")"]}),x.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600",children:x.jsx(vi,{className:"h-7 w-7"})})]}),x.jsxs("form",{onSubmit:N,className:"space-y-5",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),x.jsxs("select",{value:v,onChange:V=>y(V.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-4 focus:ring-amber-500 focus:border-amber-500",children:[x.jsx("option",{value:"credit",children:"  ( )"}),x.jsx("option",{value:"debit",children:"  (  )"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"number",step:"0.01",min:"0",value:A,onChange:V=>p(V.target.value),required:!0,className:"w-full px-4 py-3 pr-12 border-2 border-gray-300 rounded-xl focus:ring-4 focus:ring-amber-500 focus:border-amber-500 text-lg",placeholder:"0.00"}),x.jsx("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-600 font-bold",children:"."})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),x.jsx("input",{type:"date",value:g,onChange:V=>m(V.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-4 focus:ring-amber-500 focus:border-amber-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" ()"}),x.jsx("textarea",{value:b,onChange:V=>_(V.target.value),rows:2,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-4 focus:ring-amber-500 focus:border-amber-500",placeholder:":    ..."})]}),x.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[x.jsxs("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-amber-600 to-orange-600 text-white py-3 px-6 rounded-xl hover:from-amber-700 hover:to-orange-700 font-bold flex items-center justify-center space-x-2 shadow-md",children:[x.jsx(lh,{className:"h-5 w-5"}),x.jsx("span",{children:"  "})]}),x.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 bg-gray-200 text-gray-700 py-3 px-6 rounded-xl hover:bg-gray-300 font-bold",children:""})]})]})]})}),h&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[95vh] overflow-y-auto shadow-2xl",children:[x.jsxs("div",{className:"sticky top-0 bg-white border-b px-8 py-5 flex justify-between items-center z-10 rounded-t-2xl",children:[x.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-3",children:[x.jsx(Ji,{className:"h-7 w-7 text-amber-600"}),"  "]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:C,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200 flex items-center space-x-2 space-x-reverse",children:[x.jsx(Pi,{className:"h-4 w-4"}),x.jsx("span",{children:" PDF"})]}),x.jsxs("button",{onClick:w,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center space-x-2 space-x-reverse",children:[x.jsx(Pi,{className:"h-4 w-4"}),x.jsx("span",{children:" Excel"})]}),x.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:x.jsx("span",{className:"text-2xl",children:""})})]})]}),x.jsx("div",{className:"p-8",children:x.jsxs("div",{id:"employee-preview-content",className:"bg-white",dir:"rtl",children:[x.jsxs("div",{className:"text-center mb-8 border-b pb-6",children:[x.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["  : ",S.full_name]}),x.jsxs("p",{className:"text-gray-600",children:[" : ",E(new Date().toISOString())]})]}),x.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-lg p-6 mb-8 text-center",children:[x.jsx("p",{className:"text-lg text-gray-700 mb-2",children:" "}),x.jsx("p",{className:`text-4xl font-bold ${B>=0?"text-amber-600":"text-red-600"}`,children:R(B)}),x.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[" : ",O.length]})]}),x.jsxs("table",{className:"w-full border-collapse",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"bg-blue-600 text-white",children:[x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:""}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:""}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:""}),x.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:""})]})}),x.jsx("tbody",{children:O.map((V,M)=>x.jsxs("tr",{className:M%2===0?"bg-gray-50":"bg-white",children:[x.jsx("td",{className:"border border-gray-300 px-4 py-3",children:E(V.transaction_date)}),x.jsx("td",{className:"border border-gray-300 px-4 py-3",children:x.jsx("span",{className:`font-medium ${V.type==="credit"?"text-amber-700":"text-red-700"}`,children:V.type==="credit"?" ":" "})}),x.jsx("td",{className:"border border-gray-300 px-4 py-3 text-right",children:x.jsxs("span",{className:`font-bold ${V.type==="credit"?"text-amber-600":"text-red-600"}`,children:[V.type==="debit"&&"-",R(Math.abs(V.amount))]})}),x.jsx("td",{className:"border border-gray-300 px-4 py-3 text-sm text-gray-700",children:V.reason||"-"})]},V.id))})]})]})})]})})]})}return x.jsxs("div",{className:"min-h-screen bg-gray-50",children:[x.jsx(iw,{position:"top-center",reverseOrder:!1}),x.jsxs("div",{className:"p-3 md:p-6 max-w-7xl mx-auto",children:[x.jsxs("div",{className:"mb-6 md:mb-10 text-center",children:[x.jsx("h2",{className:"text-2xl md:text-4xl font-extrabold text-gray-900 mb-2 md:mb-3",children:" "}),x.jsx("p",{className:"text-gray-600 text-sm md:text-lg",children:"     "})]}),x.jsx("div",{className:"mb-4 md:mb-8 bg-white border border-gray-200 rounded-lg md:rounded-xl p-4 md:p-6 shadow-sm",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"bg-red-100 text-red-600 p-2 md:p-3 rounded-lg ml-2 md:ml-4",children:x.jsx(Zi,{className:"h-5 w-5 md:h-6 md:w-6"})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-600 text-xs md:text-sm",children:"   "}),x.jsx("h3",{className:"text-lg md:text-2xl font-bold text-red-600",children:R(L)})]})]}),x.jsx(Is,{className:"h-4 w-4 md:h-5 md:w-5 text-red-500"})]})}),r.length===0?x.jsxs("div",{className:"text-center py-20",children:[x.jsx(vD,{className:"h-16 w-16 text-gray-400 mx-auto mb-6"}),x.jsx("p",{className:"text-xl text-gray-600",children:"     "})]}):x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-8",children:r.map(S=>x.jsxs("div",{onClick:()=>n(S),className:"bg-gradient-to-br from-amber-50 to-orange-50 border-2 border-amber-200 rounded-xl md:rounded-2xl p-4 md:p-6 shadow-lg hover:shadow-2xl transition-all duration-300 cursor-pointer transform hover:-translate-y-1 md:hover:-translate-y-2 hover:border-amber-400",children:[x.jsx("div",{className:"flex items-center justify-between mb-4 md:mb-5",children:x.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4 space-x-reverse",children:[x.jsx("div",{className:"p-2 md:p-3 bg-gradient-to-r from-amber-500 to-orange-600 rounded-lg md:rounded-xl shadow-md",children:x.jsx(vf,{className:"h-6 w-6 md:h-8 md:w-8 text-white"})}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-extrabold text-base md:text-xl text-gray-900",children:S.user.full_name}),x.jsx("p",{className:"text-xs md:text-sm text-gray-600 truncate max-w-[150px] md:max-w-full",children:S.user.email})]})]})}),x.jsxs("div",{className:"space-y-3 md:space-y-4",children:[x.jsxs("div",{className:"flex justify-between text-base md:text-2xl font-extrabold pt-3 md:pt-4 border-t-2 border-amber-200",children:[x.jsx("span",{className:"text-gray-900",children:" :"}),x.jsx("span",{className:S.current_balance>=0?"text-amber-600":"text-red-600",children:R(S.current_balance)})]}),x.jsxs("div",{className:"flex justify-between text-xs md:text-sm",children:[x.jsx("span",{className:"text-gray-600 font-medium",children:" :"}),x.jsx("span",{className:"font-bold text-gray-900",children:S.transactions.length})]})]})]},S.user.id))})]}),l&&c&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl",children:[x.jsxs("div",{className:"flex items-center mb-4 text-red-600",children:[x.jsx(AD,{className:"h-8 w-8 ml-3"}),x.jsx("h3",{className:"text-xl font-bold",children:"    "})]}),x.jsxs("p",{className:"text-gray-700 mb-6",children:["       "," ",x.jsx("strong",{children:R(Math.abs(c.amount))}),""]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:P,className:"flex-1 bg-gradient-to-r from-red-600 to-rose-600 text-white py-3 px-6 rounded-xl hover:from-red-700 hover:to-rose-700 font-bold shadow-md",children:" "}),x.jsx("button",{onClick:()=>{u(!1),f(null)},className:"flex-1 bg-gray-200 text-gray-700 py-3 px-6 rounded-xl hover:bg-gray-300 font-bold",children:""})]})]})})]})},fJe=()=>{const[r,t]=Ce.useState([]),[e,n]=Ce.useState([]),[i,a]=Ce.useState(!0),[s,o]=Ce.useState(""),[l,u]=Ce.useState("all"),[c,f]=Ce.useState(!1),[h,d]=Ce.useState(!1),[A,p]=Ce.useState(!1),[g,m]=Ce.useState(null),[v]=Ce.useState(Wa.getCurrentUser()),[y,b]=Ce.useState({email:"",password:"",full_name:"",role:"user",permissions:{dashboard:!0,"unlocked-orders":!1,"locked-orders":!1,"payment-methods":!1,"employee-balances":!1,suppliers:!1,expenses:!1,reports:!1,users:!1}}),_={dashboard:" ","unlocked-orders":" ","locked-orders":" ","shipping-companies":" ","payment-methods":"  ","employee-balances":" ",suppliers:" ",expenses:"",inventory:"","cancelled-orders":" ",reports:"",users:" "};Ce.useEffect(()=>{T(),I()},[]);const T=async()=>{a(!0);try{const C=await Wa.getUsers();t(C)}catch(C){console.error("Error fetching users:",C)}finally{a(!1)}},I=async()=>{try{const C=await Wa.getUserActivityLogs();n(C)}catch(C){console.error("Error fetching activity logs:",C)}},N=()=>{b({email:"",password:"",full_name:"",role:"user",permissions:{dashboard:!0,"unlocked-orders":!1,"locked-orders":!1,"payment-methods":!1,"employee-balances":!1,suppliers:!1,expenses:!1,reports:!1,users:!1}})},F=r.filter(C=>{const S=C.full_name.toLowerCase().includes(s.toLowerCase())||C.email.toLowerCase().includes(s.toLowerCase()),B=l==="all"||C.role===l;return S&&B}),P=async()=>{if(v)try{const C=await Wa.createUser(y,v.id);C.success?(f(!1),N(),T(),I(),alert("   ")):alert(C.error||"    ")}catch{alert("   ")}},D=async()=>{if(!(!g||!v))try{const C=await Wa.updateUser(g.id,y,v.id);C.success?(d(!1),m(null),N(),T(),I(),alert("   ")):alert(C.error||"    ")}catch{alert("   ")}},R=C=>{m(C),b({email:C.email,password:"",full_name:C.full_name,role:C.role,permissions:{...C.permissions}}),d(!0)},E=async C=>{m(C);const S=await Wa.getUserActivityLogs(C.id);n(S),p(!0)},L=async C=>{if(!v||C.id===v.id){alert("     ");return}confirm(`      "${C.full_name}"`)&&(await Wa.deactivateUser(C.id,v.id)).success&&(T(),I(),alert("   "))},k=C=>new Date(C).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),w=C=>({login:" ",logout:" ",create_user:"  ",update_user:"  ",deactivate_user:"  ",activate_user:"  ",change_password:"  ",update_permissions:" ",view_report:" ",export_data:" ",delete_record:" ",create_order:" ",update_order:" "})[C]||C.replace(/_/g," ");return i?x.jsx("div",{className:"p-8 text-center",children:" ..."}):x.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[x.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:" "}),x.jsx("p",{className:"text-gray-600 mt-1",children:"   "})]}),x.jsxs("button",{onClick:()=>{N(),f(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-3 rounded-xl flex items-center gap-2",children:[x.jsx(ao,{className:"h-5 w-5"}),"  "]})]}),x.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 flex flex-col sm:flex-row gap-4",children:[x.jsxs("div",{className:"flex-1 relative",children:[x.jsx(u0,{className:"absolute right-3 top-3 text-gray-400 h-5 w-5"}),x.jsx("input",{type:"text",placeholder:"   ...",value:s,onChange:C=>o(C.target.value),className:"w-full pr-10 pl-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),x.jsxs("select",{value:l,onChange:C=>u(C.target.value),className:"px-4 py-3 border rounded-lg",children:[x.jsx("option",{value:"all",children:" "}),x.jsx("option",{value:"admin",children:""}),x.jsx("option",{value:"user",children:""})]})]}),x.jsx("div",{className:"bg-white rounded-xl shadow overflow-hidden",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:""}),x.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:""}),x.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:""}),x.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:" "}),x.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:""}),x.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:""})]})}),x.jsx("tbody",{className:"divide-y divide-gray-200",children:F.map(C=>x.jsxs("tr",{className:"hover:bg-gray-50",children:[x.jsx("td",{className:"px-6 py-4",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center ml-3",children:x.jsx(vD,{className:"h-6 w-6 text-blue-600"})}),x.jsxs("div",{children:[x.jsx("div",{className:"font-medium",children:C.full_name}),x.jsx("div",{className:"text-sm text-gray-500",children:C.email})]})]})}),x.jsx("td",{className:"px-6 py-4 text-center",children:x.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${C.role==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:C.role==="admin"?"":""})}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("div",{className:"flex flex-wrap gap-2 justify-end",children:Object.keys(C.permissions).filter(S=>C.permissions[S]).map(S=>x.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:_[S]||S},S))})}),x.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:C.last_login?k(C.last_login):"  "}),x.jsx("td",{className:"px-6 py-4 text-center",children:C.is_active?x.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[x.jsx(ape,{className:"h-4 w-4"}),""]}):x.jsxs("span",{className:"text-red-600 flex items-center gap-1",children:[x.jsx(spe,{className:"h-4 w-4"}),""]})}),x.jsx("td",{className:"px-6 py-4",children:x.jsxs("div",{className:"flex items-center gap-3 justify-end",children:[x.jsx("button",{onClick:()=>E(C),title:" ",className:"text-gray-600 hover:text-green-600",children:x.jsx(KB,{className:"h-5 w-5"})}),x.jsx("button",{onClick:()=>R(C),title:"",className:"text-blue-600 hover:text-blue-800",children:x.jsx(D7,{className:"h-5 w-5"})}),C.id!==(v==null?void 0:v.id)&&x.jsx("button",{onClick:()=>L(C),title:" ",className:"text-red-600 hover:text-red-800",children:x.jsx(No,{className:"h-5 w-5"})})]})})]},C.id))})]})}),c&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:x.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"  "}),x.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:x.jsx(vi,{className:"h-6 w-6"})})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),x.jsx("input",{type:"text",value:y.full_name,onChange:C=>b({...y,full_name:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"  "})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),x.jsx("input",{type:"email",value:y.email,onChange:C=>b({...y,email:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"user@example.com"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),x.jsx("input",{type:"password",value:y.password,onChange:C=>b({...y,password:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),x.jsxs("select",{value:y.role,onChange:C=>b({...y,role:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[x.jsx("option",{value:"user",children:""}),x.jsx("option",{value:"admin",children:""})]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:""}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries(_).map(([C,S])=>x.jsxs("label",{className:"flex items-center space-x-2 space-x-reverse",children:[x.jsx("input",{type:"checkbox",checked:y.permissions[C]??!1,onChange:B=>b({...y,permissions:{...y.permissions,[C]:B.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),x.jsx("span",{className:"text-sm text-gray-700",children:S})]},C))})]})]}),x.jsxs("div",{className:"flex gap-3 pt-6 border-t border-gray-200 mt-6",children:[x.jsxs("button",{onClick:P,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center justify-center space-x-2 space-x-reverse",children:[x.jsx(wb,{className:"h-4 w-4"}),x.jsx("span",{children:" "})]}),x.jsx("button",{onClick:()=>f(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors duration-200",children:""})]})]})}),h&&g&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:x.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[" : ",g.full_name]}),x.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:x.jsx(vi,{className:"h-6 w-6"})})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),x.jsx("input",{type:"text",value:y.full_name,onChange:C=>b({...y,full_name:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),x.jsx("input",{type:"email",value:y.email,onChange:C=>b({...y,email:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"   ()"}),x.jsx("input",{type:"password",value:y.password,onChange:C=>b({...y,password:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"     "})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),x.jsxs("select",{value:y.role,onChange:C=>b({...y,role:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[x.jsx("option",{value:"user",children:""}),x.jsx("option",{value:"admin",children:""})]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:""}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries(_).map(([C,S])=>x.jsxs("label",{className:"flex items-center space-x-2 space-x-reverse",children:[x.jsx("input",{type:"checkbox",checked:y.permissions[C]??!1,onChange:B=>b({...y,permissions:{...y.permissions,[C]:B.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),x.jsx("span",{className:"text-sm text-gray-700",children:S})]},C))})]})]}),x.jsxs("div",{className:"flex gap-3 pt-6 border-t border-gray-200 mt-6",children:[x.jsxs("button",{onClick:D,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center justify-center space-x-2 space-x-reverse",children:[x.jsx(wb,{className:"h-4 w-4"}),x.jsx("span",{children:" "})]}),x.jsx("button",{onClick:()=>d(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors duration-200",children:""})]})]})}),A&&g&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:x.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[" : ",g.full_name]}),x.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:x.jsx(vi,{className:"h-6 w-6"})})]}),x.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[e.map(C=>{var S;return x.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:x.jsxs("div",{className:"flex items-start justify-between",children:[x.jsxs("div",{className:"flex items-start space-x-3 space-x-reverse",children:[x.jsx("div",{className:"bg-blue-100 text-blue-600 p-2 rounded-full",children:x.jsx(KB,{className:"h-4 w-4"})}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-gray-900",children:w(C.action)}),x.jsx("p",{className:"text-sm text-gray-600 mt-1",children:((S=C.details)==null?void 0:S.message)||"   "}),C.performer&&C.performer.full_name!==g.full_name&&x.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" : ",C.performer.full_name]})]})]}),x.jsx("div",{className:"text-left",children:x.jsx("p",{className:"text-sm text-gray-500",children:k(C.created_at)})})]})},C.id)}),e.length===0&&x.jsxs("div",{className:"text-center py-8",children:[x.jsx(KB,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),x.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"  "}),x.jsx("p",{className:"text-gray-600",children:"      "})]})]})]})})]})},hJe=({onLoginSuccess:r})=>{const[t,e]=Ce.useState({email:"",password:""}),[n,i]=Ce.useState(!1),[a,s]=Ce.useState(null),[o,l]=Ce.useState(!1),[u,c]=Ce.useState(null),f="https://ik.imagekit.io/hkp0zcyja/%D9%85%D9%86%D9%88%D8%B9/%D8%B4%D8%B9%D8%A7%D8%B1-%D9%85%D9%87%D9%88%D9%88%D8%B3.webp",h=Ce.useCallback(async()=>{s(f)},[]);Ce.useEffect(()=>{const p=setTimeout(()=>h(),300);return()=>clearTimeout(p)},[h]);const d=async p=>{if(p.preventDefault(),!(!t.email||!t.password)){l(!0),c(null);try{const g=await Wa.login(t);g.success?r():c(g.error||"      ")}catch{c("    ")}finally{l(!1)}}},A=(p,g)=>{e(m=>({...m,[p]:g})),u&&c(null)};return x.jsxs("div",{className:"min-h-screen flex items-center justify-center p-3 sm:p-4 bg-gradient-to-b from-blue-50 via-indigo-50 to-purple-100 font-['Cairo']",dir:"rtl",children:[x.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:x.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 via-purple-100 to-indigo-100 animate-gradient"})}),x.jsxs("div",{className:"relative w-full max-w-4xl mx-auto bg-white/80 backdrop-blur-xl rounded-2xl sm:rounded-3xl shadow-2xl overflow-hidden border border-white/20",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 min-h-[580px] md:h-[600px]",children:[x.jsxs("div",{className:"hidden md:flex flex-col justify-center p-8 lg:p-12",children:[x.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[x.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white rounded-xl shadow-lg",children:a?x.jsx("img",{src:a,alt:"",className:"w-14 h-14 object-contain rounded-lg"}):x.jsx(XB,{className:"w-8 h-8 text-gray-600"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-gray-900",children:""}),x.jsx("p",{className:"text-lg text-gray-600",children:"   "})]})]}),x.jsx("p",{className:"text-gray-700 text-base leading-relaxed mb-6",children:"           ."}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl",children:[x.jsx(Ji,{className:"w-5 h-5 text-blue-600"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-semibold text-sm",children:" "}),x.jsx("p",{className:"text-xs text-gray-600",children:" "})]})]}),x.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl",children:[x.jsx(aee,{className:"w-5 h-5 text-blue-600"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-semibold text-sm",children:" "}),x.jsx("p",{className:"text-xs text-gray-600",children:" "})]})]}),x.jsxs("div",{className:"col-span-2 flex items-center gap-3 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl",children:[x.jsx(XB,{className:"w-5 h-5 text-blue-600"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-semibold text-sm",children:" "}),x.jsx("p",{className:"text-xs text-gray-600",children:"  "})]})]})]})]}),x.jsxs("div",{className:"flex flex-col justify-center p-5 sm:p-6 md:p-8 lg:p-12 bg-gradient-to-b from-white/50 to-blue-50/50 backdrop-blur-sm",children:[x.jsxs("div",{className:"flex md:hidden items-center justify-center gap-3 mb-6",children:[x.jsx("div",{className:"w-12 h-12 bg-white rounded-xl shadow-md flex items-center justify-center",children:a?x.jsx("img",{src:a,alt:"",className:"w-9 h-9 object-contain rounded-lg"}):x.jsx(XB,{className:"w-6 h-6 text-gray-600"})}),x.jsxs("div",{className:"text-right",children:[x.jsx("h1",{className:"text-xl font-bold text-gray-900",children:""}),x.jsx("p",{className:"text-xs text-gray-600",children:" "})]})]}),x.jsxs("div",{className:"max-w-sm mx-auto w-full",children:[x.jsxs("div",{className:"text-center mb-6",children:[x.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-1",children:" "}),x.jsx("p",{className:"text-sm text-gray-600",children:"     "})]}),x.jsxs("form",{onSubmit:d,className:"space-y-5",children:[u&&x.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-3 rounded-xl text-sm flex items-center gap-2 text-right",children:[x.jsx(AD,{className:"w-4 h-4 flex-shrink-0"}),x.jsx("span",{children:u})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:" "}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"email",value:t.email,onChange:p=>A("email",p.target.value),className:"w-full p-3 pr-11 pl-11 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-200 focus:border-blue-400 bg-white transition-all duration-300 shadow-sm hover:shadow-md text-base",placeholder:"name@mahwous.com",required:!0,disabled:o}),x.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-gray-50 rounded-lg",children:x.jsx(oee,{className:"w-5 h-5 text-gray-400"})})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:" "}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:n?"text":"password",value:t.password,onChange:p=>A("password",p.target.value),className:"w-full p-3 pr-11 pl-11 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-200 focus:border-blue-400 bg-white transition-all duration-300 shadow-sm hover:shadow-md text-base",placeholder:"",required:!0,disabled:o}),x.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-gray-50 rounded-lg",children:x.jsx(Uv,{className:"w-5 h-5 text-gray-400"})}),x.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 hover:bg-gray-50 rounded-lg transition-colors",disabled:o,children:n?x.jsx($0e,{className:"w-5 h-5 text-gray-400"}):x.jsx(Cf,{className:"w-5 h-5 text-gray-400"})})]})]}),x.jsx("button",{type:"submit",disabled:o||!t.email||!t.password,className:`w-full flex items-center justify-center gap-3 p-3.5 rounded-xl font-medium transition-all duration-300 shadow-lg hover:shadow-xl text-base
                    ${o||!t.email||!t.password?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700"}`,children:o?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),x.jsx("span",{children:"  ..."})]}):x.jsxs(x.Fragment,{children:[x.jsx(Z0e,{className:"w-5 h-5"}),x.jsx("span",{children:" "})]})}),x.jsx("p",{className:"text-center text-xs text-gray-500 mt-4",children:"     "})]})]})]})]}),x.jsx("div",{className:"absolute bottom-3 left-3 right-3 text-center sm:bottom-4 sm:right-4 sm:text-right text-xs text-gray-500",children:x.jsxs("p",{children:[" ",new Date().getFullYear(),"  -   .   ",x.jsx("a",{href:"https://verinty.com",target:"_blank",rel:"noopener noreferrer",className:"underline text-gray-700 hover:text-gray-900 font-medium",children:""})]})})]}),x.jsx("style",{jsx:!0,children:`
        @keyframes gradient {
          0%, 100% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
        }
        .animate-gradient {
          background-size: 200% 200%;
          animation: gradient 15s ease infinite;
        }
      `})]})};function dJe(){const[r,t]=Ce.useState(!1),[e,n]=Ce.useState(null),[i,a]=Ce.useState(!0),[s,o]=Ce.useState("dashboard"),[l,u]=Ce.useState(window.innerWidth>=768);yy();const c=[{id:"dashboard",label:" ",icon:X0e,category:"main"},{id:"unlocked-orders",label:" ",icon:npe,category:"orders"},{id:"locked-orders",label:" ",icon:Uv,category:"orders"},{id:"cancelled-orders",label:" ",icon:vi,category:"orders"},{id:"shipping-companies",label:" ",icon:sc,category:"financial"},{id:"payment-methods",label:" ",icon:Ul,category:"financial"},{id:"employee-balances",label:" ",icon:eg,category:"financial"},{id:"suppliers",label:" ",icon:ope,category:"financial"},{id:"expenses",label:"",icon:Zi,category:"financial"},{id:"inventory",label:"",icon:Li,category:"financial"},{id:"reports",label:"",icon:Ji,category:"main"},{id:"custom-reports",label:" ",icon:Ji,category:"main"},{id:"users",label:" ",icon:vD,category:"admin"}],f=m=>({dashboard:"dashboard","unlocked-orders":"unlocked-orders","locked-orders":"locked-orders","shipping-companies":"shipping-companies","payment-methods":"payment-methods","employee-balances":"employee-balances",suppliers:"suppliers",expenses:"expenses",inventory:"inventory","cancelled-orders":"cancelled-orders",reports:"reports","custom-reports":"reports",users:"users"})[m]||null,h=(m,v=e)=>{if(!(v!=null&&v.permissions))return!1;const y=f(m);return y?v.permissions[y]===!0:!1},d=c.filter(m=>{const v=f(m.id);return!v||!(e!=null&&e.permissions)?!1:e.permissions[v]===!0}),A={main:"",orders:"",financial:"",admin:""};Ce.useEffect(()=>{(async()=>{a(!0);try{const v=Wa.getCurrentUser();if(v){t(!0),n(v);const y=localStorage.getItem("lastActiveTab")||"dashboard";h(y,v)?o(y):o("dashboard")}else t(!1),n(null)}catch(v){console.error("   :",v)}finally{a(!1)}})()},[]),Ce.useEffect(()=>{e&&h(s)&&localStorage.setItem("lastActiveTab",s)},[s,e]);const p=()=>{const m=Wa.getCurrentUser();t(!0),n(m),a(!1),h(s,m)||o("dashboard")},g=async()=>{await Wa.logout(),t(!1),n(null),o("dashboard"),localStorage.removeItem("lastActiveTab")};return i?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",dir:"rtl",children:x.jsxs("div",{className:"text-center",children:[x.jsx(Jp,{className:"h-12 w-12 text-blue-600 animate-spin mx-auto mb-4"}),x.jsx("p",{className:"text-lg font-medium text-blue-800",children:"  ..."}),x.jsx("p",{className:"text-sm text-blue-600 mt-2",children:"  "})]})}):r?x.jsxs("div",{className:"min-h-screen bg-white font-sans relative",dir:"rtl",children:[x.jsx("header",{className:"bg-white border-b border-blue-100 fixed top-0 left-0 right-0 z-40 shadow-sm",children:x.jsx("div",{className:"max-w-full mx-auto px-2 sm:px-4 lg:px-8",children:x.jsxs("div",{className:"flex justify-between items-center h-14 md:h-16",children:[x.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4 space-x-reverse",children:[x.jsx("button",{onClick:()=>u(m=>!m),className:"p-1.5 md:p-2 rounded-lg hover:bg-blue-50 text-blue-600 hover:text-blue-700 transition-colors duration-200",children:x.jsx(tpe,{className:"h-5 w-5 md:h-6 md:w-6"})}),x.jsx("img",{src:"https://ik.imagekit.io/hkp0zcyja/%D9%85%D9%86%D9%88%D8%B9/%D8%B4%D8%B9%D8%A7%D8%B1-%D9%85%D9%87%D9%88%D9%88%D8%B3.webp",alt:" | Mahwous",className:"h-8 w-8 md:h-12 md:w-12 rounded-lg shadow-md ring-1 ring-blue-100"}),x.jsxs("div",{className:"hidden sm:block",children:[x.jsx("h1",{className:"text-base md:text-xl font-bold text-blue-800",children:" | Mahwous"}),x.jsxs("div",{className:"hidden md:flex items-center space-x-2 space-x-reverse text-xs md:text-sm text-blue-600 mt-1",children:[x.jsx("img",{src:"https://cdn.salla.network/images/logo/logo-wide.svg",alt:" ",className:"h-3 md:h-4 w-auto opacity-80"}),x.jsx("span",{children:"     "})]})]})]}),x.jsx("div",{className:"flex items-center space-x-2 md:space-x-4 space-x-reverse",children:x.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3 space-x-reverse",children:[x.jsxs("div",{className:"text-right hidden md:block",children:[x.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-900",children:e==null?void 0:e.full_name}),x.jsx("p",{className:"text-xs text-gray-500",children:(e==null?void 0:e.role)==="admin"?"":""})]}),x.jsx("div",{className:"bg-blue-100 text-blue-600 p-1.5 md:p-2 rounded-full",children:x.jsx(vf,{className:"h-4 w-4 md:h-5 md:w-5"})}),x.jsx("button",{onClick:g,className:"p-1.5 md:p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",title:" ",children:x.jsx(J0e,{className:"h-4 w-4"})})]})}),x.jsxs("div",{className:"hidden xl:flex items-center space-x-2 space-x-reverse text-xs text-gray-500",children:[x.jsx("img",{src:"https://profilecdn.haraj.com.sa/12722282/avatar-md.webp",alt:" Verinty",className:"h-6 w-6 rounded-full object-cover opacity-60"}),x.jsx("span",{children:"  Verinty"})]})]})})}),x.jsxs("div",{className:"flex pt-14 md:pt-16",children:[l&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",onClick:()=>u(!1)}),x.jsx("div",{className:`w-56 md:w-64 bg-white border-l border-blue-100 fixed right-0 top-14 md:top-16 bottom-0 overflow-y-auto transform transition-transform duration-300 ease-in-out ${l?"translate-x-0":"translate-x-full"} shadow-md z-30`,children:x.jsx("nav",{className:"p-3 md:p-6",children:x.jsx("div",{className:"space-y-4 md:space-y-6",children:Object.entries(A).map(([m,v])=>{const y=d.filter(b=>b.category===m);return y.length===0?null:x.jsxs("div",{children:[x.jsx("h3",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wider mb-2 md:mb-4 border-b border-blue-100 pb-1 md:pb-2",children:v}),y.map(b=>{const _=b.icon,T=s===b.id;return x.jsxs("button",{onClick:()=>{o(b.id),window.innerWidth<768&&u(!1)},className:`
                            w-full flex items-center space-x-2 md:space-x-3 space-x-reverse px-2 md:px-4 py-2 md:py-3 rounded-lg text-xs md:text-sm font-medium
                            transition-all duration-200 hover:bg-blue-50
                            ${T?"bg-blue-50 text-blue-700 border-r-2 border-blue-300":"text-gray-700 hover:text-blue-600"}
                          `,children:[x.jsx(_,{className:`h-4 w-4 md:h-5 md:w-5 ${T?"text-blue-600":"text-gray-400"}`}),x.jsx("span",{children:b.label})]},b.id)})]},m)})})})}),x.jsx("div",{className:`flex-1 ${l?"mr-56 md:mr-64":"mr-0"} transition-all duration-300`,children:x.jsx("div",{className:"p-2 md:p-6",children:x.jsx("div",{className:"bg-white rounded-lg md:rounded-xl shadow-md min-h-[calc(100vh-6rem)] md:min-h-[calc(100vh-8rem)] border border-blue-50",children:h(s)?x.jsxs(x.Fragment,{children:[s==="dashboard"&&x.jsx(VLe,{}),s==="unlocked-orders"&&x.jsx(qDe,{}),s==="locked-orders"&&x.jsx(jQe,{}),s==="shipping-companies"&&x.jsx(gZe,{}),s==="payment-methods"&&x.jsx(uJe,{}),s==="employee-balances"&&x.jsx(cJe,{}),s==="suppliers"&&x.jsx(lJe,{}),s==="expenses"&&x.jsx(hZe,{}),s==="inventory"&&x.jsx(dZe,{}),s==="cancelled-orders"&&x.jsx(AZe,{}),s==="reports"&&x.jsx(vZe,{}),s==="custom-reports"&&x.jsx(oJe,{}),s==="users"&&x.jsx(fJe,{})]}):x.jsx("div",{className:"flex items-center justify-center h-full",children:x.jsxs("div",{className:"text-center",children:[x.jsx(Uv,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),x.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"  "}),x.jsx("p",{className:"text-gray-600",children:"      "})]})})})})})]})]}):x.jsx(hJe,{onLoginSuccess:p})}nee(document.getElementById("root")).render(x.jsx(Ce.StrictMode,{children:x.jsx(dJe,{})}));export{ei as _,Hr as c,yL as g};
